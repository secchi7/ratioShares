function q5(k,W){for(var le=0;le<W.length;le++){const me=W[le];if(typeof me!="string"&&!Array.isArray(me)){for(const Oe in me)if(Oe!=="default"&&!(Oe in k)){const Ze=Object.getOwnPropertyDescriptor(me,Oe);Ze&&Object.defineProperty(k,Oe,Ze.get?Ze:{enumerable:!0,get:()=>me[Oe]})}}}return Object.freeze(Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}))}(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const Oe of document.querySelectorAll('link[rel="modulepreload"]'))me(Oe);new MutationObserver(Oe=>{for(const Ze of Oe)if(Ze.type==="childList")for(const G of Ze.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&me(G)}).observe(document,{childList:!0,subtree:!0});function le(Oe){const Ze={};return Oe.integrity&&(Ze.integrity=Oe.integrity),Oe.referrerPolicy&&(Ze.referrerPolicy=Oe.referrerPolicy),Oe.crossOrigin==="use-credentials"?Ze.credentials="include":Oe.crossOrigin==="anonymous"?Ze.credentials="omit":Ze.credentials="same-origin",Ze}function me(Oe){if(Oe.ep)return;Oe.ep=!0;const Ze=le(Oe);fetch(Oe.href,Ze)}})();function Kb(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var Jb={exports:{}},cg={},Qb={exports:{}},gi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=Symbol.for("react.element"),e6=Symbol.for("react.portal"),t6=Symbol.for("react.fragment"),r6=Symbol.for("react.strict_mode"),n6=Symbol.for("react.profiler"),a6=Symbol.for("react.provider"),i6=Symbol.for("react.context"),o6=Symbol.for("react.forward_ref"),s6=Symbol.for("react.suspense"),l6=Symbol.for("react.memo"),u6=Symbol.for("react.lazy"),u2=Symbol.iterator;function f6(k){return k===null||typeof k!="object"?null:(k=u2&&k[u2]||k["@@iterator"],typeof k=="function"?k:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qb=Object.assign,e3={};function td(k,W,le){this.props=k,this.context=W,this.refs=e3,this.updater=le||$b}td.prototype.isReactComponent={};td.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")};td.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function t3(){}t3.prototype=td.prototype;function Km(k,W,le){this.props=k,this.context=W,this.refs=e3,this.updater=le||$b}var Jm=Km.prototype=new t3;Jm.constructor=Km;qb(Jm,td.prototype);Jm.isPureReactComponent=!0;var f2=Array.isArray,r3=Object.prototype.hasOwnProperty,Qm={current:null},n3={key:!0,ref:!0,__self:!0,__source:!0};function a3(k,W,le){var me,Oe={},Ze=null,G=null;if(W!=null)for(me in W.ref!==void 0&&(G=W.ref),W.key!==void 0&&(Ze=""+W.key),W)r3.call(W,me)&&!n3.hasOwnProperty(me)&&(Oe[me]=W[me]);var V=arguments.length-2;if(V===1)Oe.children=le;else if(1<V){for(var e=Array(V),m=0;m<V;m++)e[m]=arguments[m+2];Oe.children=e}if(k&&k.defaultProps)for(me in V=k.defaultProps,V)Oe[me]===void 0&&(Oe[me]=V[me]);return{$$typeof:g0,type:k,key:Ze,ref:G,props:Oe,_owner:Qm.current}}function c6(k,W){return{$$typeof:g0,type:k.type,key:W,ref:k.ref,props:k.props,_owner:k._owner}}function $m(k){return typeof k=="object"&&k!==null&&k.$$typeof===g0}function h6(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return W[le]})}var c2=/\/+/g;function hy(k,W){return typeof k=="object"&&k!==null&&k.key!=null?h6(""+k.key):W.toString(36)}function gp(k,W,le,me,Oe){var Ze=typeof k;(Ze==="undefined"||Ze==="boolean")&&(k=null);var G=!1;if(k===null)G=!0;else switch(Ze){case"string":case"number":G=!0;break;case"object":switch(k.$$typeof){case g0:case e6:G=!0}}if(G)return G=k,Oe=Oe(G),k=me===""?"."+hy(G,0):me,f2(Oe)?(le="",k!=null&&(le=k.replace(c2,"$&/")+"/"),gp(Oe,W,le,"",function(m){return m})):Oe!=null&&($m(Oe)&&(Oe=c6(Oe,le+(!Oe.key||G&&G.key===Oe.key?"":(""+Oe.key).replace(c2,"$&/")+"/")+k)),W.push(Oe)),1;if(G=0,me=me===""?".":me+":",f2(k))for(var V=0;V<k.length;V++){Ze=k[V];var e=me+hy(Ze,V);G+=gp(Ze,W,le,e,Oe)}else if(e=f6(k),typeof e=="function")for(k=e.call(k),V=0;!(Ze=k.next()).done;)Ze=Ze.value,e=me+hy(Ze,V++),G+=gp(Ze,W,le,e,Oe);else if(Ze==="object")throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return G}function $0(k,W,le){if(k==null)return k;var me=[],Oe=0;return gp(k,me,"","",function(Ze){return W.call(le,Ze,Oe++)}),me}function v6(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var Ws={current:null},yp={transition:null},d6={ReactCurrentDispatcher:Ws,ReactCurrentBatchConfig:yp,ReactCurrentOwner:Qm};function i3(){throw Error("act(...) is not supported in production builds of React.")}gi.Children={map:$0,forEach:function(k,W,le){$0(k,function(){W.apply(this,arguments)},le)},count:function(k){var W=0;return $0(k,function(){W++}),W},toArray:function(k){return $0(k,function(W){return W})||[]},only:function(k){if(!$m(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};gi.Component=td;gi.Fragment=t6;gi.Profiler=n6;gi.PureComponent=Km;gi.StrictMode=r6;gi.Suspense=s6;gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6;gi.act=i3;gi.cloneElement=function(k,W,le){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var me=qb({},k.props),Oe=k.key,Ze=k.ref,G=k._owner;if(W!=null){if(W.ref!==void 0&&(Ze=W.ref,G=Qm.current),W.key!==void 0&&(Oe=""+W.key),k.type&&k.type.defaultProps)var V=k.type.defaultProps;for(e in W)r3.call(W,e)&&!n3.hasOwnProperty(e)&&(me[e]=W[e]===void 0&&V!==void 0?V[e]:W[e])}var e=arguments.length-2;if(e===1)me.children=le;else if(1<e){V=Array(e);for(var m=0;m<e;m++)V[m]=arguments[m+2];me.children=V}return{$$typeof:g0,type:k.type,key:Oe,ref:Ze,props:me,_owner:G}};gi.createContext=function(k){return k={$$typeof:i6,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a6,_context:k},k.Consumer=k};gi.createElement=a3;gi.createFactory=function(k){var W=a3.bind(null,k);return W.type=k,W};gi.createRef=function(){return{current:null}};gi.forwardRef=function(k){return{$$typeof:o6,render:k}};gi.isValidElement=$m;gi.lazy=function(k){return{$$typeof:u6,_payload:{_status:-1,_result:k},_init:v6}};gi.memo=function(k,W){return{$$typeof:l6,type:k,compare:W===void 0?null:W}};gi.startTransition=function(k){var W=yp.transition;yp.transition={};try{k()}finally{yp.transition=W}};gi.unstable_act=i3;gi.useCallback=function(k,W){return Ws.current.useCallback(k,W)};gi.useContext=function(k){return Ws.current.useContext(k)};gi.useDebugValue=function(){};gi.useDeferredValue=function(k){return Ws.current.useDeferredValue(k)};gi.useEffect=function(k,W){return Ws.current.useEffect(k,W)};gi.useId=function(){return Ws.current.useId()};gi.useImperativeHandle=function(k,W,le){return Ws.current.useImperativeHandle(k,W,le)};gi.useInsertionEffect=function(k,W){return Ws.current.useInsertionEffect(k,W)};gi.useLayoutEffect=function(k,W){return Ws.current.useLayoutEffect(k,W)};gi.useMemo=function(k,W){return Ws.current.useMemo(k,W)};gi.useReducer=function(k,W,le){return Ws.current.useReducer(k,W,le)};gi.useRef=function(k){return Ws.current.useRef(k)};gi.useState=function(k){return Ws.current.useState(k)};gi.useSyncExternalStore=function(k,W,le){return Ws.current.useSyncExternalStore(k,W,le)};gi.useTransition=function(){return Ws.current.useTransition()};gi.version="18.3.1";Qb.exports=gi;var Ya=Qb.exports;const Us=Kb(Ya),p6=q5({__proto__:null,default:Us},[Ya]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6=Ya,y6=Symbol.for("react.element"),m6=Symbol.for("react.fragment"),x6=Object.prototype.hasOwnProperty,b6=g6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w6={key:!0,ref:!0,__self:!0,__source:!0};function o3(k,W,le){var me,Oe={},Ze=null,G=null;le!==void 0&&(Ze=""+le),W.key!==void 0&&(Ze=""+W.key),W.ref!==void 0&&(G=W.ref);for(me in W)x6.call(W,me)&&!w6.hasOwnProperty(me)&&(Oe[me]=W[me]);if(k&&k.defaultProps)for(me in W=k.defaultProps,W)Oe[me]===void 0&&(Oe[me]=W[me]);return{$$typeof:y6,type:k,key:Ze,ref:G,props:Oe,_owner:b6.current}}cg.Fragment=m6;cg.jsx=o3;cg.jsxs=o3;Jb.exports=cg;var ei=Jb.exports,Xy={},s3={exports:{}},Dl={},l3={exports:{}},u3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(k){function W(A,s){var E=A.length;A.push(s);e:for(;0<E;){var b=E-1>>>1,F=A[b];if(0<Oe(F,s))A[b]=s,A[E]=F,E=b;else break e}}function le(A){return A.length===0?null:A[0]}function me(A){if(A.length===0)return null;var s=A[0],E=A.pop();if(E!==s){A[0]=E;e:for(var b=0,F=A.length,I=F>>>1;b<I;){var N=2*(b+1)-1,_=A[N],O=N+1,B=A[O];if(0>Oe(_,E))O<F&&0>Oe(B,_)?(A[b]=B,A[O]=E,b=O):(A[b]=_,A[N]=E,b=N);else if(O<F&&0>Oe(B,E))A[b]=B,A[O]=E,b=O;else break e}}return s}function Oe(A,s){var E=A.sortIndex-s.sortIndex;return E!==0?E:A.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ze=performance;k.unstable_now=function(){return Ze.now()}}else{var G=Date,V=G.now();k.unstable_now=function(){return G.now()-V}}var e=[],m=[],P=1,i=null,L=3,S=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var s=le(m);s!==null;){if(s.callback===null)me(m);else if(s.startTime<=A)me(m),s.sortIndex=s.expirationTime,W(e,s);else break;s=le(m)}}function f(A){if(p=!1,n(A),!v)if(le(e)!==null)v=!0,y(l);else{var s=le(m);s!==null&&M(f,s.startTime-A)}}function l(A,s){v=!1,p&&(p=!1,t(h),h=-1),S=!0;var E=L;try{for(n(s),i=le(e);i!==null&&(!(i.expirationTime>s)||A&&!o());){var b=i.callback;if(typeof b=="function"){i.callback=null,L=i.priorityLevel;var F=b(i.expirationTime<=s);s=k.unstable_now(),typeof F=="function"?i.callback=F:i===le(e)&&me(e),n(s)}else me(e);i=le(e)}if(i!==null)var I=!0;else{var N=le(m);N!==null&&M(f,N.startTime-s),I=!1}return I}finally{i=null,L=E,S=!1}}var u=!1,g=null,h=-1,T=5,c=-1;function o(){return!(k.unstable_now()-c<T)}function d(){if(g!==null){var A=k.unstable_now();c=A;var s=!0;try{s=g(!0,A)}finally{s?x():(u=!1,g=null)}}else u=!1}var x;if(typeof a=="function")x=function(){a(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,C=w.port2;w.port1.onmessage=d,x=function(){C.postMessage(null)}}else x=function(){r(d,0)};function y(A){g=A,u||(u=!0,x())}function M(A,s){h=r(function(){A(k.unstable_now())},s)}k.unstable_IdlePriority=5,k.unstable_ImmediatePriority=1,k.unstable_LowPriority=4,k.unstable_NormalPriority=3,k.unstable_Profiling=null,k.unstable_UserBlockingPriority=2,k.unstable_cancelCallback=function(A){A.callback=null},k.unstable_continueExecution=function(){v||S||(v=!0,y(l))},k.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},k.unstable_getCurrentPriorityLevel=function(){return L},k.unstable_getFirstCallbackNode=function(){return le(e)},k.unstable_next=function(A){switch(L){case 1:case 2:case 3:var s=3;break;default:s=L}var E=L;L=s;try{return A()}finally{L=E}},k.unstable_pauseExecution=function(){},k.unstable_requestPaint=function(){},k.unstable_runWithPriority=function(A,s){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var E=L;L=A;try{return s()}finally{L=E}},k.unstable_scheduleCallback=function(A,s,E){var b=k.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?b+E:b):E=b,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=E+F,A={id:P++,callback:s,priorityLevel:A,startTime:E,expirationTime:F,sortIndex:-1},E>b?(A.sortIndex=E,W(m,A),le(e)===null&&A===le(m)&&(p?(t(h),h=-1):p=!0,M(f,E-b))):(A.sortIndex=F,W(e,A),v||S||(v=!0,y(l))),A},k.unstable_shouldYield=o,k.unstable_wrapCallback=function(A){var s=L;return function(){var E=L;L=s;try{return A.apply(this,arguments)}finally{L=E}}}})(u3);l3.exports=u3;var T6=l3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6=Ya,Rl=T6;function ya(k){for(var W="https://reactjs.org/docs/error-decoder.html?invariant="+k,le=1;le<arguments.length;le++)W+="&args[]="+encodeURIComponent(arguments[le]);return"Minified React error #"+k+"; visit "+W+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f3=new Set,$d={};function $h(k,W){Zv(k,W),Zv(k+"Capture",W)}function Zv(k,W){for($d[k]=W,k=0;k<W.length;k++)f3.add(W[k])}var qf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jy=Object.prototype.hasOwnProperty,S6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h2={},v2={};function M6(k){return jy.call(v2,k)?!0:jy.call(h2,k)?!1:S6.test(k)?v2[k]=!0:(h2[k]=!0,!1)}function E6(k,W,le,me){if(le!==null&&le.type===0)return!1;switch(typeof W){case"function":case"symbol":return!0;case"boolean":return me?!1:le!==null?!le.acceptsBooleans:(k=k.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-");default:return!1}}function C6(k,W,le,me){if(W===null||typeof W>"u"||E6(k,W,le,me))return!0;if(me)return!1;if(le!==null)switch(le.type){case 3:return!W;case 4:return W===!1;case 5:return isNaN(W);case 6:return isNaN(W)||1>W}return!1}function Ys(k,W,le,me,Oe,Ze,G){this.acceptsBooleans=W===2||W===3||W===4,this.attributeName=me,this.attributeNamespace=Oe,this.mustUseProperty=le,this.propertyName=k,this.type=W,this.sanitizeURL=Ze,this.removeEmptyString=G}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(k){ps[k]=new Ys(k,0,!1,k,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(k){var W=k[0];ps[W]=new Ys(W,1,!1,k[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(k){ps[k]=new Ys(k,2,!1,k.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(k){ps[k]=new Ys(k,2,!1,k,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(k){ps[k]=new Ys(k,3,!1,k.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(k){ps[k]=new Ys(k,3,!0,k,null,!1,!1)});["capture","download"].forEach(function(k){ps[k]=new Ys(k,4,!1,k,null,!1,!1)});["cols","rows","size","span"].forEach(function(k){ps[k]=new Ys(k,6,!1,k,null,!1,!1)});["rowSpan","start"].forEach(function(k){ps[k]=new Ys(k,5,!1,k.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function e1(k){return k[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(k){var W=k.replace(qm,e1);ps[W]=new Ys(W,1,!1,k,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(k){var W=k.replace(qm,e1);ps[W]=new Ys(W,1,!1,k,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(k){var W=k.replace(qm,e1);ps[W]=new Ys(W,1,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(k){ps[k]=new Ys(k,1,!1,k.toLowerCase(),null,!1,!1)});ps.xlinkHref=new Ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(k){ps[k]=new Ys(k,1,!1,k.toLowerCase(),null,!0,!0)});function t1(k,W,le,me){var Oe=ps.hasOwnProperty(W)?ps[W]:null;(Oe!==null?Oe.type!==0:me||!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N")&&(C6(W,le,Oe,me)&&(le=null),me||Oe===null?M6(W)&&(le===null?k.removeAttribute(W):k.setAttribute(W,""+le)):Oe.mustUseProperty?k[Oe.propertyName]=le===null?Oe.type===3?!1:"":le:(W=Oe.attributeName,me=Oe.attributeNamespace,le===null?k.removeAttribute(W):(Oe=Oe.type,le=Oe===3||Oe===4&&le===!0?"":""+le,me?k.setAttributeNS(me,W,le):k.setAttribute(W,le))))}var nc=A6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q0=Symbol.for("react.element"),Lv=Symbol.for("react.portal"),Pv=Symbol.for("react.fragment"),r1=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),c3=Symbol.for("react.provider"),h3=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),a1=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),v3=Symbol.for("react.offscreen"),d2=Symbol.iterator;function Ld(k){return k===null||typeof k!="object"?null:(k=d2&&k[d2]||k["@@iterator"],typeof k=="function"?k:null)}var go=Object.assign,vy;function Bd(k){if(vy===void 0)try{throw Error()}catch(le){var W=le.stack.trim().match(/\n( *(at )?)/);vy=W&&W[1]||""}return`
`+vy+k}var dy=!1;function py(k,W){if(!k||dy)return"";dy=!0;var le=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(W)if(W=function(){throw Error()},Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(m){var me=m}Reflect.construct(k,[],W)}else{try{W.call()}catch(m){me=m}k.call(W.prototype)}else{try{throw Error()}catch(m){me=m}k()}}catch(m){if(m&&me&&typeof m.stack=="string"){for(var Oe=m.stack.split(`
`),Ze=me.stack.split(`
`),G=Oe.length-1,V=Ze.length-1;1<=G&&0<=V&&Oe[G]!==Ze[V];)V--;for(;1<=G&&0<=V;G--,V--)if(Oe[G]!==Ze[V]){if(G!==1||V!==1)do if(G--,V--,0>V||Oe[G]!==Ze[V]){var e=`
`+Oe[G].replace(" at new "," at ");return k.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",k.displayName)),e}while(1<=G&&0<=V);break}}}finally{dy=!1,Error.prepareStackTrace=le}return(k=k?k.displayName||k.name:"")?Bd(k):""}function L6(k){switch(k.tag){case 5:return Bd(k.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return k=py(k.type,!1),k;case 11:return k=py(k.type.render,!1),k;case 1:return k=py(k.type,!0),k;default:return""}}function Qy(k){if(k==null)return null;if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case Pv:return"Fragment";case Lv:return"Portal";case Zy:return"Profiler";case r1:return"StrictMode";case Ky:return"Suspense";case Jy:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case h3:return(k.displayName||"Context")+".Consumer";case c3:return(k._context.displayName||"Context")+".Provider";case n1:var W=k.render;return k=k.displayName,k||(k=W.displayName||W.name||"",k=k!==""?"ForwardRef("+k+")":"ForwardRef"),k;case a1:return W=k.displayName||null,W!==null?W:Qy(k.type)||"Memo";case Gc:W=k._payload,k=k._init;try{return Qy(k(W))}catch{}}return null}function P6(k){var W=k.type;switch(k.tag){case 24:return"Cache";case 9:return(W.displayName||"Context")+".Consumer";case 10:return(W._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return k=W.render,k=k.displayName||k.name||"",W.displayName||(k!==""?"ForwardRef("+k+")":"ForwardRef");case 7:return"Fragment";case 5:return W;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qy(W);case 8:return W===r1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof W=="function")return W.displayName||W.name||null;if(typeof W=="string")return W}return null}function oh(k){switch(typeof k){case"boolean":case"number":case"string":case"undefined":return k;case"object":return k;default:return""}}function d3(k){var W=k.type;return(k=k.nodeName)&&k.toLowerCase()==="input"&&(W==="checkbox"||W==="radio")}function R6(k){var W=d3(k)?"checked":"value",le=Object.getOwnPropertyDescriptor(k.constructor.prototype,W),me=""+k[W];if(!k.hasOwnProperty(W)&&typeof le<"u"&&typeof le.get=="function"&&typeof le.set=="function"){var Oe=le.get,Ze=le.set;return Object.defineProperty(k,W,{configurable:!0,get:function(){return Oe.call(this)},set:function(G){me=""+G,Ze.call(this,G)}}),Object.defineProperty(k,W,{enumerable:le.enumerable}),{getValue:function(){return me},setValue:function(G){me=""+G},stopTracking:function(){k._valueTracker=null,delete k[W]}}}}function ep(k){k._valueTracker||(k._valueTracker=R6(k))}function p3(k){if(!k)return!1;var W=k._valueTracker;if(!W)return!0;var le=W.getValue(),me="";return k&&(me=d3(k)?k.checked?"true":"false":k.value),k=me,k!==le?(W.setValue(k),!0):!1}function Ip(k){if(k=k||(typeof document<"u"?document:void 0),typeof k>"u")return null;try{return k.activeElement||k.body}catch{return k.body}}function $y(k,W){var le=W.checked;return go({},W,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:le??k._wrapperState.initialChecked})}function p2(k,W){var le=W.defaultValue==null?"":W.defaultValue,me=W.checked!=null?W.checked:W.defaultChecked;le=oh(W.value!=null?W.value:le),k._wrapperState={initialChecked:me,initialValue:le,controlled:W.type==="checkbox"||W.type==="radio"?W.checked!=null:W.value!=null}}function g3(k,W){W=W.checked,W!=null&&t1(k,"checked",W,!1)}function qy(k,W){g3(k,W);var le=oh(W.value),me=W.type;if(le!=null)me==="number"?(le===0&&k.value===""||k.value!=le)&&(k.value=""+le):k.value!==""+le&&(k.value=""+le);else if(me==="submit"||me==="reset"){k.removeAttribute("value");return}W.hasOwnProperty("value")?em(k,W.type,le):W.hasOwnProperty("defaultValue")&&em(k,W.type,oh(W.defaultValue)),W.checked==null&&W.defaultChecked!=null&&(k.defaultChecked=!!W.defaultChecked)}function g2(k,W,le){if(W.hasOwnProperty("value")||W.hasOwnProperty("defaultValue")){var me=W.type;if(!(me!=="submit"&&me!=="reset"||W.value!==void 0&&W.value!==null))return;W=""+k._wrapperState.initialValue,le||W===k.value||(k.value=W),k.defaultValue=W}le=k.name,le!==""&&(k.name=""),k.defaultChecked=!!k._wrapperState.initialChecked,le!==""&&(k.name=le)}function em(k,W,le){(W!=="number"||Ip(k.ownerDocument)!==k)&&(le==null?k.defaultValue=""+k._wrapperState.initialValue:k.defaultValue!==""+le&&(k.defaultValue=""+le))}var Nd=Array.isArray;function Vv(k,W,le,me){if(k=k.options,W){W={};for(var Oe=0;Oe<le.length;Oe++)W["$"+le[Oe]]=!0;for(le=0;le<k.length;le++)Oe=W.hasOwnProperty("$"+k[le].value),k[le].selected!==Oe&&(k[le].selected=Oe),Oe&&me&&(k[le].defaultSelected=!0)}else{for(le=""+oh(le),W=null,Oe=0;Oe<k.length;Oe++){if(k[Oe].value===le){k[Oe].selected=!0,me&&(k[Oe].defaultSelected=!0);return}W!==null||k[Oe].disabled||(W=k[Oe])}W!==null&&(W.selected=!0)}}function tm(k,W){if(W.dangerouslySetInnerHTML!=null)throw Error(ya(91));return go({},W,{value:void 0,defaultValue:void 0,children:""+k._wrapperState.initialValue})}function y2(k,W){var le=W.value;if(le==null){if(le=W.children,W=W.defaultValue,le!=null){if(W!=null)throw Error(ya(92));if(Nd(le)){if(1<le.length)throw Error(ya(93));le=le[0]}W=le}W==null&&(W=""),le=W}k._wrapperState={initialValue:oh(le)}}function y3(k,W){var le=oh(W.value),me=oh(W.defaultValue);le!=null&&(le=""+le,le!==k.value&&(k.value=le),W.defaultValue==null&&k.defaultValue!==le&&(k.defaultValue=le)),me!=null&&(k.defaultValue=""+me)}function m2(k){var W=k.textContent;W===k._wrapperState.initialValue&&W!==""&&W!==null&&(k.value=W)}function m3(k){switch(k){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(k,W){return k==null||k==="http://www.w3.org/1999/xhtml"?m3(W):k==="http://www.w3.org/2000/svg"&&W==="foreignObject"?"http://www.w3.org/1999/xhtml":k}var tp,x3=function(k){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(W,le,me,Oe){MSApp.execUnsafeLocalFunction(function(){return k(W,le,me,Oe)})}:k}(function(k,W){if(k.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in k)k.innerHTML=W;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+W.valueOf().toString()+"</svg>",W=tp.firstChild;k.firstChild;)k.removeChild(k.firstChild);for(;W.firstChild;)k.appendChild(W.firstChild)}});function qd(k,W){if(W){var le=k.firstChild;if(le&&le===k.lastChild&&le.nodeType===3){le.nodeValue=W;return}}k.textContent=W}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D6=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(k){D6.forEach(function(W){W=W+k.charAt(0).toUpperCase()+k.substring(1),Hd[W]=Hd[k]})});function b3(k,W,le){return W==null||typeof W=="boolean"||W===""?"":le||typeof W!="number"||W===0||Hd.hasOwnProperty(k)&&Hd[k]?(""+W).trim():W+"px"}function w3(k,W){k=k.style;for(var le in W)if(W.hasOwnProperty(le)){var me=le.indexOf("--")===0,Oe=b3(le,W[le],me);le==="float"&&(le="cssFloat"),me?k.setProperty(le,Oe):k[le]=Oe}}var I6=go({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(k,W){if(W){if(I6[k]&&(W.children!=null||W.dangerouslySetInnerHTML!=null))throw Error(ya(137,k));if(W.dangerouslySetInnerHTML!=null){if(W.children!=null)throw Error(ya(60));if(typeof W.dangerouslySetInnerHTML!="object"||!("__html"in W.dangerouslySetInnerHTML))throw Error(ya(61))}if(W.style!=null&&typeof W.style!="object")throw Error(ya(62))}}function am(k,W){if(k.indexOf("-")===-1)return typeof W.is=="string";switch(k){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function i1(k){return k=k.target||k.srcElement||window,k.correspondingUseElement&&(k=k.correspondingUseElement),k.nodeType===3?k.parentNode:k}var om=null,Hv=null,Gv=null;function x2(k){if(k=x0(k)){if(typeof om!="function")throw Error(ya(280));var W=k.stateNode;W&&(W=gg(W),om(k.stateNode,k.type,W))}}function T3(k){Hv?Gv?Gv.push(k):Gv=[k]:Hv=k}function A3(){if(Hv){var k=Hv,W=Gv;if(Gv=Hv=null,x2(k),W)for(k=0;k<W.length;k++)x2(W[k])}}function S3(k,W){return k(W)}function M3(){}var gy=!1;function E3(k,W,le){if(gy)return k(W,le);gy=!0;try{return S3(k,W,le)}finally{gy=!1,(Hv!==null||Gv!==null)&&(M3(),A3())}}function e0(k,W){var le=k.stateNode;if(le===null)return null;var me=gg(le);if(me===null)return null;le=me[W];e:switch(W){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(me=!me.disabled)||(k=k.type,me=!(k==="button"||k==="input"||k==="select"||k==="textarea")),k=!me;break e;default:k=!1}if(k)return null;if(le&&typeof le!="function")throw Error(ya(231,W,typeof le));return le}var sm=!1;if(qf)try{var Pd={};Object.defineProperty(Pd,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{sm=!1}function k6(k,W,le,me,Oe,Ze,G,V,e){var m=Array.prototype.slice.call(arguments,3);try{W.apply(le,m)}catch(P){this.onError(P)}}var Gd=!1,kp=null,Fp=!1,lm=null,F6={onError:function(k){Gd=!0,kp=k}};function _6(k,W,le,me,Oe,Ze,G,V,e){Gd=!1,kp=null,k6.apply(F6,arguments)}function z6(k,W,le,me,Oe,Ze,G,V,e){if(_6.apply(this,arguments),Gd){if(Gd){var m=kp;Gd=!1,kp=null}else throw Error(ya(198));Fp||(Fp=!0,lm=m)}}function qh(k){var W=k,le=k;if(k.alternate)for(;W.return;)W=W.return;else{k=W;do W=k,W.flags&4098&&(le=W.return),k=W.return;while(k)}return W.tag===3?le:null}function C3(k){if(k.tag===13){var W=k.memoizedState;if(W===null&&(k=k.alternate,k!==null&&(W=k.memoizedState)),W!==null)return W.dehydrated}return null}function b2(k){if(qh(k)!==k)throw Error(ya(188))}function O6(k){var W=k.alternate;if(!W){if(W=qh(k),W===null)throw Error(ya(188));return W!==k?null:k}for(var le=k,me=W;;){var Oe=le.return;if(Oe===null)break;var Ze=Oe.alternate;if(Ze===null){if(me=Oe.return,me!==null){le=me;continue}break}if(Oe.child===Ze.child){for(Ze=Oe.child;Ze;){if(Ze===le)return b2(Oe),k;if(Ze===me)return b2(Oe),W;Ze=Ze.sibling}throw Error(ya(188))}if(le.return!==me.return)le=Oe,me=Ze;else{for(var G=!1,V=Oe.child;V;){if(V===le){G=!0,le=Oe,me=Ze;break}if(V===me){G=!0,me=Oe,le=Ze;break}V=V.sibling}if(!G){for(V=Ze.child;V;){if(V===le){G=!0,le=Ze,me=Oe;break}if(V===me){G=!0,me=Ze,le=Oe;break}V=V.sibling}if(!G)throw Error(ya(189))}}if(le.alternate!==me)throw Error(ya(190))}if(le.tag!==3)throw Error(ya(188));return le.stateNode.current===le?k:W}function L3(k){return k=O6(k),k!==null?P3(k):null}function P3(k){if(k.tag===5||k.tag===6)return k;for(k=k.child;k!==null;){var W=P3(k);if(W!==null)return W;k=k.sibling}return null}var R3=Rl.unstable_scheduleCallback,w2=Rl.unstable_cancelCallback,B6=Rl.unstable_shouldYield,N6=Rl.unstable_requestPaint,Po=Rl.unstable_now,U6=Rl.unstable_getCurrentPriorityLevel,o1=Rl.unstable_ImmediatePriority,D3=Rl.unstable_UserBlockingPriority,_p=Rl.unstable_NormalPriority,V6=Rl.unstable_LowPriority,I3=Rl.unstable_IdlePriority,hg=null,xf=null;function H6(k){if(xf&&typeof xf.onCommitFiberRoot=="function")try{xf.onCommitFiberRoot(hg,k,void 0,(k.current.flags&128)===128)}catch{}}var Hu=Math.clz32?Math.clz32:Y6,G6=Math.log,W6=Math.LN2;function Y6(k){return k>>>=0,k===0?32:31-(G6(k)/W6|0)|0}var rp=64,np=4194304;function Ud(k){switch(k&-k){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return k&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return k}}function zp(k,W){var le=k.pendingLanes;if(le===0)return 0;var me=0,Oe=k.suspendedLanes,Ze=k.pingedLanes,G=le&268435455;if(G!==0){var V=G&~Oe;V!==0?me=Ud(V):(Ze&=G,Ze!==0&&(me=Ud(Ze)))}else G=le&~Oe,G!==0?me=Ud(G):Ze!==0&&(me=Ud(Ze));if(me===0)return 0;if(W!==0&&W!==me&&!(W&Oe)&&(Oe=me&-me,Ze=W&-W,Oe>=Ze||Oe===16&&(Ze&4194240)!==0))return W;if(me&4&&(me|=le&16),W=k.entangledLanes,W!==0)for(k=k.entanglements,W&=me;0<W;)le=31-Hu(W),Oe=1<<le,me|=k[le],W&=~Oe;return me}function X6(k,W){switch(k){case 1:case 2:case 4:return W+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return W+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j6(k,W){for(var le=k.suspendedLanes,me=k.pingedLanes,Oe=k.expirationTimes,Ze=k.pendingLanes;0<Ze;){var G=31-Hu(Ze),V=1<<G,e=Oe[G];e===-1?(!(V&le)||V&me)&&(Oe[G]=X6(V,W)):e<=W&&(k.expiredLanes|=V),Ze&=~V}}function um(k){return k=k.pendingLanes&-1073741825,k!==0?k:k&1073741824?1073741824:0}function k3(){var k=rp;return rp<<=1,!(rp&4194240)&&(rp=64),k}function yy(k){for(var W=[],le=0;31>le;le++)W.push(k);return W}function y0(k,W,le){k.pendingLanes|=W,W!==536870912&&(k.suspendedLanes=0,k.pingedLanes=0),k=k.eventTimes,W=31-Hu(W),k[W]=le}function Z6(k,W){var le=k.pendingLanes&~W;k.pendingLanes=W,k.suspendedLanes=0,k.pingedLanes=0,k.expiredLanes&=W,k.mutableReadLanes&=W,k.entangledLanes&=W,W=k.entanglements;var me=k.eventTimes;for(k=k.expirationTimes;0<le;){var Oe=31-Hu(le),Ze=1<<Oe;W[Oe]=0,me[Oe]=-1,k[Oe]=-1,le&=~Ze}}function s1(k,W){var le=k.entangledLanes|=W;for(k=k.entanglements;le;){var me=31-Hu(le),Oe=1<<me;Oe&W|k[me]&W&&(k[me]|=W),le&=~Oe}}var ki=0;function F3(k){return k&=-k,1<k?4<k?k&268435455?16:536870912:4:1}var _3,l1,z3,O3,B3,fm=!1,ap=[],$c=null,qc=null,eh=null,t0=new Map,r0=new Map,Yc=[],K6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(k,W){switch(k){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":qc=null;break;case"mouseover":case"mouseout":eh=null;break;case"pointerover":case"pointerout":t0.delete(W.pointerId);break;case"gotpointercapture":case"lostpointercapture":r0.delete(W.pointerId)}}function Rd(k,W,le,me,Oe,Ze){return k===null||k.nativeEvent!==Ze?(k={blockedOn:W,domEventName:le,eventSystemFlags:me,nativeEvent:Ze,targetContainers:[Oe]},W!==null&&(W=x0(W),W!==null&&l1(W)),k):(k.eventSystemFlags|=me,W=k.targetContainers,Oe!==null&&W.indexOf(Oe)===-1&&W.push(Oe),k)}function J6(k,W,le,me,Oe){switch(W){case"focusin":return $c=Rd($c,k,W,le,me,Oe),!0;case"dragenter":return qc=Rd(qc,k,W,le,me,Oe),!0;case"mouseover":return eh=Rd(eh,k,W,le,me,Oe),!0;case"pointerover":var Ze=Oe.pointerId;return t0.set(Ze,Rd(t0.get(Ze)||null,k,W,le,me,Oe)),!0;case"gotpointercapture":return Ze=Oe.pointerId,r0.set(Ze,Rd(r0.get(Ze)||null,k,W,le,me,Oe)),!0}return!1}function N3(k){var W=Uh(k.target);if(W!==null){var le=qh(W);if(le!==null){if(W=le.tag,W===13){if(W=C3(le),W!==null){k.blockedOn=W,B3(k.priority,function(){z3(le)});return}}else if(W===3&&le.stateNode.current.memoizedState.isDehydrated){k.blockedOn=le.tag===3?le.stateNode.containerInfo:null;return}}}k.blockedOn=null}function mp(k){if(k.blockedOn!==null)return!1;for(var W=k.targetContainers;0<W.length;){var le=cm(k.domEventName,k.eventSystemFlags,W[0],k.nativeEvent);if(le===null){le=k.nativeEvent;var me=new le.constructor(le.type,le);im=me,le.target.dispatchEvent(me),im=null}else return W=x0(le),W!==null&&l1(W),k.blockedOn=le,!1;W.shift()}return!0}function A2(k,W,le){mp(k)&&le.delete(W)}function Q6(){fm=!1,$c!==null&&mp($c)&&($c=null),qc!==null&&mp(qc)&&(qc=null),eh!==null&&mp(eh)&&(eh=null),t0.forEach(A2),r0.forEach(A2)}function Dd(k,W){k.blockedOn===W&&(k.blockedOn=null,fm||(fm=!0,Rl.unstable_scheduleCallback(Rl.unstable_NormalPriority,Q6)))}function n0(k){function W(Oe){return Dd(Oe,k)}if(0<ap.length){Dd(ap[0],k);for(var le=1;le<ap.length;le++){var me=ap[le];me.blockedOn===k&&(me.blockedOn=null)}}for($c!==null&&Dd($c,k),qc!==null&&Dd(qc,k),eh!==null&&Dd(eh,k),t0.forEach(W),r0.forEach(W),le=0;le<Yc.length;le++)me=Yc[le],me.blockedOn===k&&(me.blockedOn=null);for(;0<Yc.length&&(le=Yc[0],le.blockedOn===null);)N3(le),le.blockedOn===null&&Yc.shift()}var Wv=nc.ReactCurrentBatchConfig,Op=!0;function $6(k,W,le,me){var Oe=ki,Ze=Wv.transition;Wv.transition=null;try{ki=1,u1(k,W,le,me)}finally{ki=Oe,Wv.transition=Ze}}function q6(k,W,le,me){var Oe=ki,Ze=Wv.transition;Wv.transition=null;try{ki=4,u1(k,W,le,me)}finally{ki=Oe,Wv.transition=Ze}}function u1(k,W,le,me){if(Op){var Oe=cm(k,W,le,me);if(Oe===null)Cy(k,W,me,Bp,le),T2(k,me);else if(J6(Oe,k,W,le,me))me.stopPropagation();else if(T2(k,me),W&4&&-1<K6.indexOf(k)){for(;Oe!==null;){var Ze=x0(Oe);if(Ze!==null&&_3(Ze),Ze=cm(k,W,le,me),Ze===null&&Cy(k,W,me,Bp,le),Ze===Oe)break;Oe=Ze}Oe!==null&&me.stopPropagation()}else Cy(k,W,me,null,le)}}var Bp=null;function cm(k,W,le,me){if(Bp=null,k=i1(me),k=Uh(k),k!==null)if(W=qh(k),W===null)k=null;else if(le=W.tag,le===13){if(k=C3(W),k!==null)return k;k=null}else if(le===3){if(W.stateNode.current.memoizedState.isDehydrated)return W.tag===3?W.stateNode.containerInfo:null;k=null}else W!==k&&(k=null);return Bp=k,null}function U3(k){switch(k){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U6()){case o1:return 1;case D3:return 4;case _p:case V6:return 16;case I3:return 536870912;default:return 16}default:return 16}}var Zc=null,f1=null,xp=null;function V3(){if(xp)return xp;var k,W=f1,le=W.length,me,Oe="value"in Zc?Zc.value:Zc.textContent,Ze=Oe.length;for(k=0;k<le&&W[k]===Oe[k];k++);var G=le-k;for(me=1;me<=G&&W[le-me]===Oe[Ze-me];me++);return xp=Oe.slice(k,1<me?1-me:void 0)}function bp(k){var W=k.keyCode;return"charCode"in k?(k=k.charCode,k===0&&W===13&&(k=13)):k=W,k===10&&(k=13),32<=k||k===13?k:0}function ip(){return!0}function S2(){return!1}function Il(k){function W(le,me,Oe,Ze,G){this._reactName=le,this._targetInst=Oe,this.type=me,this.nativeEvent=Ze,this.target=G,this.currentTarget=null;for(var V in k)k.hasOwnProperty(V)&&(le=k[V],this[V]=le?le(Ze):Ze[V]);return this.isDefaultPrevented=(Ze.defaultPrevented!=null?Ze.defaultPrevented:Ze.returnValue===!1)?ip:S2,this.isPropagationStopped=S2,this}return go(W.prototype,{preventDefault:function(){this.defaultPrevented=!0;var le=this.nativeEvent;le&&(le.preventDefault?le.preventDefault():typeof le.returnValue!="unknown"&&(le.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var le=this.nativeEvent;le&&(le.stopPropagation?le.stopPropagation():typeof le.cancelBubble!="unknown"&&(le.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),W}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(k){return k.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c1=Il(rd),m0=go({},rd,{view:0,detail:0}),eS=Il(m0),my,xy,Id,vg=go({},m0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h1,button:0,buttons:0,relatedTarget:function(k){return k.relatedTarget===void 0?k.fromElement===k.srcElement?k.toElement:k.fromElement:k.relatedTarget},movementX:function(k){return"movementX"in k?k.movementX:(k!==Id&&(Id&&k.type==="mousemove"?(my=k.screenX-Id.screenX,xy=k.screenY-Id.screenY):xy=my=0,Id=k),my)},movementY:function(k){return"movementY"in k?k.movementY:xy}}),M2=Il(vg),tS=go({},vg,{dataTransfer:0}),rS=Il(tS),nS=go({},m0,{relatedTarget:0}),by=Il(nS),aS=go({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=Il(aS),oS=go({},rd,{clipboardData:function(k){return"clipboardData"in k?k.clipboardData:window.clipboardData}}),sS=Il(oS),lS=go({},rd,{data:0}),E2=Il(lS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(k){var W=this.nativeEvent;return W.getModifierState?W.getModifierState(k):(k=cS[k])?!!W[k]:!1}function h1(){return hS}var vS=go({},m0,{key:function(k){if(k.key){var W=uS[k.key]||k.key;if(W!=="Unidentified")return W}return k.type==="keypress"?(k=bp(k),k===13?"Enter":String.fromCharCode(k)):k.type==="keydown"||k.type==="keyup"?fS[k.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h1,charCode:function(k){return k.type==="keypress"?bp(k):0},keyCode:function(k){return k.type==="keydown"||k.type==="keyup"?k.keyCode:0},which:function(k){return k.type==="keypress"?bp(k):k.type==="keydown"||k.type==="keyup"?k.keyCode:0}}),dS=Il(vS),pS=go({},vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C2=Il(pS),gS=go({},m0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h1}),yS=Il(gS),mS=go({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=Il(mS),bS=go({},vg,{deltaX:function(k){return"deltaX"in k?k.deltaX:"wheelDeltaX"in k?-k.wheelDeltaX:0},deltaY:function(k){return"deltaY"in k?k.deltaY:"wheelDeltaY"in k?-k.wheelDeltaY:"wheelDelta"in k?-k.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=Il(bS),TS=[9,13,27,32],v1=qf&&"CompositionEvent"in window,Wd=null;qf&&"documentMode"in document&&(Wd=document.documentMode);var AS=qf&&"TextEvent"in window&&!Wd,H3=qf&&(!v1||Wd&&8<Wd&&11>=Wd),L2=String.fromCharCode(32),P2=!1;function G3(k,W){switch(k){case"keyup":return TS.indexOf(W.keyCode)!==-1;case"keydown":return W.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W3(k){return k=k.detail,typeof k=="object"&&"data"in k?k.data:null}var Rv=!1;function SS(k,W){switch(k){case"compositionend":return W3(W);case"keypress":return W.which!==32?null:(P2=!0,L2);case"textInput":return k=W.data,k===L2&&P2?null:k;default:return null}}function MS(k,W){if(Rv)return k==="compositionend"||!v1&&G3(k,W)?(k=V3(),xp=f1=Zc=null,Rv=!1,k):null;switch(k){case"paste":return null;case"keypress":if(!(W.ctrlKey||W.altKey||W.metaKey)||W.ctrlKey&&W.altKey){if(W.char&&1<W.char.length)return W.char;if(W.which)return String.fromCharCode(W.which)}return null;case"compositionend":return H3&&W.locale!=="ko"?null:W.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R2(k){var W=k&&k.nodeName&&k.nodeName.toLowerCase();return W==="input"?!!ES[k.type]:W==="textarea"}function Y3(k,W,le,me){T3(me),W=Np(W,"onChange"),0<W.length&&(le=new c1("onChange","change",null,le,me),k.push({event:le,listeners:W}))}var Yd=null,a0=null;function CS(k){rw(k,0)}function dg(k){var W=kv(k);if(p3(W))return k}function LS(k,W){if(k==="change")return W}var X3=!1;if(qf){var wy;if(qf){var Ty="oninput"in document;if(!Ty){var D2=document.createElement("div");D2.setAttribute("oninput","return;"),Ty=typeof D2.oninput=="function"}wy=Ty}else wy=!1;X3=wy&&(!document.documentMode||9<document.documentMode)}function I2(){Yd&&(Yd.detachEvent("onpropertychange",j3),a0=Yd=null)}function j3(k){if(k.propertyName==="value"&&dg(a0)){var W=[];Y3(W,a0,k,i1(k)),E3(CS,W)}}function PS(k,W,le){k==="focusin"?(I2(),Yd=W,a0=le,Yd.attachEvent("onpropertychange",j3)):k==="focusout"&&I2()}function RS(k){if(k==="selectionchange"||k==="keyup"||k==="keydown")return dg(a0)}function DS(k,W){if(k==="click")return dg(W)}function IS(k,W){if(k==="input"||k==="change")return dg(W)}function kS(k,W){return k===W&&(k!==0||1/k===1/W)||k!==k&&W!==W}var Xu=typeof Object.is=="function"?Object.is:kS;function i0(k,W){if(Xu(k,W))return!0;if(typeof k!="object"||k===null||typeof W!="object"||W===null)return!1;var le=Object.keys(k),me=Object.keys(W);if(le.length!==me.length)return!1;for(me=0;me<le.length;me++){var Oe=le[me];if(!jy.call(W,Oe)||!Xu(k[Oe],W[Oe]))return!1}return!0}function k2(k){for(;k&&k.firstChild;)k=k.firstChild;return k}function F2(k,W){var le=k2(k);k=0;for(var me;le;){if(le.nodeType===3){if(me=k+le.textContent.length,k<=W&&me>=W)return{node:le,offset:W-k};k=me}e:{for(;le;){if(le.nextSibling){le=le.nextSibling;break e}le=le.parentNode}le=void 0}le=k2(le)}}function Z3(k,W){return k&&W?k===W?!0:k&&k.nodeType===3?!1:W&&W.nodeType===3?Z3(k,W.parentNode):"contains"in k?k.contains(W):k.compareDocumentPosition?!!(k.compareDocumentPosition(W)&16):!1:!1}function K3(){for(var k=window,W=Ip();W instanceof k.HTMLIFrameElement;){try{var le=typeof W.contentWindow.location.href=="string"}catch{le=!1}if(le)k=W.contentWindow;else break;W=Ip(k.document)}return W}function d1(k){var W=k&&k.nodeName&&k.nodeName.toLowerCase();return W&&(W==="input"&&(k.type==="text"||k.type==="search"||k.type==="tel"||k.type==="url"||k.type==="password")||W==="textarea"||k.contentEditable==="true")}function FS(k){var W=K3(),le=k.focusedElem,me=k.selectionRange;if(W!==le&&le&&le.ownerDocument&&Z3(le.ownerDocument.documentElement,le)){if(me!==null&&d1(le)){if(W=me.start,k=me.end,k===void 0&&(k=W),"selectionStart"in le)le.selectionStart=W,le.selectionEnd=Math.min(k,le.value.length);else if(k=(W=le.ownerDocument||document)&&W.defaultView||window,k.getSelection){k=k.getSelection();var Oe=le.textContent.length,Ze=Math.min(me.start,Oe);me=me.end===void 0?Ze:Math.min(me.end,Oe),!k.extend&&Ze>me&&(Oe=me,me=Ze,Ze=Oe),Oe=F2(le,Ze);var G=F2(le,me);Oe&&G&&(k.rangeCount!==1||k.anchorNode!==Oe.node||k.anchorOffset!==Oe.offset||k.focusNode!==G.node||k.focusOffset!==G.offset)&&(W=W.createRange(),W.setStart(Oe.node,Oe.offset),k.removeAllRanges(),Ze>me?(k.addRange(W),k.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),k.addRange(W)))}}for(W=[],k=le;k=k.parentNode;)k.nodeType===1&&W.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<W.length;le++)k=W[le],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}var _S=qf&&"documentMode"in document&&11>=document.documentMode,Dv=null,hm=null,Xd=null,vm=!1;function _2(k,W,le){var me=le.window===le?le.document:le.nodeType===9?le:le.ownerDocument;vm||Dv==null||Dv!==Ip(me)||(me=Dv,"selectionStart"in me&&d1(me)?me={start:me.selectionStart,end:me.selectionEnd}:(me=(me.ownerDocument&&me.ownerDocument.defaultView||window).getSelection(),me={anchorNode:me.anchorNode,anchorOffset:me.anchorOffset,focusNode:me.focusNode,focusOffset:me.focusOffset}),Xd&&i0(Xd,me)||(Xd=me,me=Np(hm,"onSelect"),0<me.length&&(W=new c1("onSelect","select",null,W,le),k.push({event:W,listeners:me}),W.target=Dv)))}function op(k,W){var le={};return le[k.toLowerCase()]=W.toLowerCase(),le["Webkit"+k]="webkit"+W,le["Moz"+k]="moz"+W,le}var Iv={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},Ay={},J3={};qf&&(J3=document.createElement("div").style,"AnimationEvent"in window||(delete Iv.animationend.animation,delete Iv.animationiteration.animation,delete Iv.animationstart.animation),"TransitionEvent"in window||delete Iv.transitionend.transition);function pg(k){if(Ay[k])return Ay[k];if(!Iv[k])return k;var W=Iv[k],le;for(le in W)if(W.hasOwnProperty(le)&&le in J3)return Ay[k]=W[le];return k}var Q3=pg("animationend"),$3=pg("animationiteration"),q3=pg("animationstart"),ew=pg("transitionend"),tw=new Map,z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lh(k,W){tw.set(k,W),$h(W,[k])}for(var Sy=0;Sy<z2.length;Sy++){var My=z2[Sy],zS=My.toLowerCase(),OS=My[0].toUpperCase()+My.slice(1);lh(zS,"on"+OS)}lh(Q3,"onAnimationEnd");lh($3,"onAnimationIteration");lh(q3,"onAnimationStart");lh("dblclick","onDoubleClick");lh("focusin","onFocus");lh("focusout","onBlur");lh(ew,"onTransitionEnd");Zv("onMouseEnter",["mouseout","mouseover"]);Zv("onMouseLeave",["mouseout","mouseover"]);Zv("onPointerEnter",["pointerout","pointerover"]);Zv("onPointerLeave",["pointerout","pointerover"]);$h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$h("onBeforeInput",["compositionend","keypress","textInput","paste"]);$h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vd));function O2(k,W,le){var me=k.type||"unknown-event";k.currentTarget=le,z6(me,W,void 0,k),k.currentTarget=null}function rw(k,W){W=(W&4)!==0;for(var le=0;le<k.length;le++){var me=k[le],Oe=me.event;me=me.listeners;e:{var Ze=void 0;if(W)for(var G=me.length-1;0<=G;G--){var V=me[G],e=V.instance,m=V.currentTarget;if(V=V.listener,e!==Ze&&Oe.isPropagationStopped())break e;O2(Oe,V,m),Ze=e}else for(G=0;G<me.length;G++){if(V=me[G],e=V.instance,m=V.currentTarget,V=V.listener,e!==Ze&&Oe.isPropagationStopped())break e;O2(Oe,V,m),Ze=e}}}if(Fp)throw k=lm,Fp=!1,lm=null,k}function Zi(k,W){var le=W[mm];le===void 0&&(le=W[mm]=new Set);var me=k+"__bubble";le.has(me)||(nw(W,k,2,!1),le.add(me))}function Ey(k,W,le){var me=0;W&&(me|=4),nw(le,k,me,W)}var sp="_reactListening"+Math.random().toString(36).slice(2);function o0(k){if(!k[sp]){k[sp]=!0,f3.forEach(function(le){le!=="selectionchange"&&(BS.has(le)||Ey(le,!1,k),Ey(le,!0,k))});var W=k.nodeType===9?k:k.ownerDocument;W===null||W[sp]||(W[sp]=!0,Ey("selectionchange",!1,W))}}function nw(k,W,le,me){switch(U3(W)){case 1:var Oe=$6;break;case 4:Oe=q6;break;default:Oe=u1}le=Oe.bind(null,W,le,k),Oe=void 0,!sm||W!=="touchstart"&&W!=="touchmove"&&W!=="wheel"||(Oe=!0),me?Oe!==void 0?k.addEventListener(W,le,{capture:!0,passive:Oe}):k.addEventListener(W,le,!0):Oe!==void 0?k.addEventListener(W,le,{passive:Oe}):k.addEventListener(W,le,!1)}function Cy(k,W,le,me,Oe){var Ze=me;if(!(W&1)&&!(W&2)&&me!==null)e:for(;;){if(me===null)return;var G=me.tag;if(G===3||G===4){var V=me.stateNode.containerInfo;if(V===Oe||V.nodeType===8&&V.parentNode===Oe)break;if(G===4)for(G=me.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Oe||e.nodeType===8&&e.parentNode===Oe))return;G=G.return}for(;V!==null;){if(G=Uh(V),G===null)return;if(e=G.tag,e===5||e===6){me=Ze=G;continue e}V=V.parentNode}}me=me.return}E3(function(){var m=Ze,P=i1(le),i=[];e:{var L=tw.get(k);if(L!==void 0){var S=c1,v=k;switch(k){case"keypress":if(bp(le)===0)break e;case"keydown":case"keyup":S=dS;break;case"focusin":v="focus",S=by;break;case"focusout":v="blur",S=by;break;case"beforeblur":case"afterblur":S=by;break;case"click":if(le.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=M2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=yS;break;case Q3:case $3:case q3:S=iS;break;case ew:S=xS;break;case"scroll":S=eS;break;case"wheel":S=wS;break;case"copy":case"cut":case"paste":S=sS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=C2}var p=(W&4)!==0,r=!p&&k==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var a=m,n;a!==null;){n=a;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=e0(a,t),f!=null&&p.push(s0(a,f,n)))),r)break;a=a.return}0<p.length&&(L=new S(L,v,null,le,P),i.push({event:L,listeners:p}))}}if(!(W&7)){e:{if(L=k==="mouseover"||k==="pointerover",S=k==="mouseout"||k==="pointerout",L&&le!==im&&(v=le.relatedTarget||le.fromElement)&&(Uh(v)||v[ec]))break e;if((S||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,S?(v=le.relatedTarget||le.toElement,S=m,v=v?Uh(v):null,v!==null&&(r=qh(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=m),S!==v)){if(p=M2,f="onMouseLeave",t="onMouseEnter",a="mouse",(k==="pointerout"||k==="pointerover")&&(p=C2,f="onPointerLeave",t="onPointerEnter",a="pointer"),r=S==null?L:kv(S),n=v==null?L:kv(v),L=new p(f,a+"leave",S,le,P),L.target=r,L.relatedTarget=n,f=null,Uh(P)===m&&(p=new p(t,a+"enter",v,le,P),p.target=n,p.relatedTarget=r,f=p),r=f,S&&v)t:{for(p=S,t=v,a=0,n=p;n;n=Ev(n))a++;for(n=0,f=t;f;f=Ev(f))n++;for(;0<a-n;)p=Ev(p),a--;for(;0<n-a;)t=Ev(t),n--;for(;a--;){if(p===t||t!==null&&p===t.alternate)break t;p=Ev(p),t=Ev(t)}p=null}else p=null;S!==null&&B2(i,L,S,p,!1),v!==null&&r!==null&&B2(i,r,v,p,!0)}}e:{if(L=m?kv(m):window,S=L.nodeName&&L.nodeName.toLowerCase(),S==="select"||S==="input"&&L.type==="file")var l=LS;else if(R2(L))if(X3)l=IS;else{l=RS;var u=PS}else(S=L.nodeName)&&S.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(l=DS);if(l&&(l=l(k,m))){Y3(i,l,le,P);break e}u&&u(k,L,m),k==="focusout"&&(u=L._wrapperState)&&u.controlled&&L.type==="number"&&em(L,"number",L.value)}switch(u=m?kv(m):window,k){case"focusin":(R2(u)||u.contentEditable==="true")&&(Dv=u,hm=m,Xd=null);break;case"focusout":Xd=hm=Dv=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,_2(i,le,P);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":_2(i,le,P)}var g;if(v1)e:{switch(k){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else Rv?G3(k,le)&&(h="onCompositionEnd"):k==="keydown"&&le.keyCode===229&&(h="onCompositionStart");h&&(H3&&le.locale!=="ko"&&(Rv||h!=="onCompositionStart"?h==="onCompositionEnd"&&Rv&&(g=V3()):(Zc=P,f1="value"in Zc?Zc.value:Zc.textContent,Rv=!0)),u=Np(m,h),0<u.length&&(h=new E2(h,k,null,le,P),i.push({event:h,listeners:u}),g?h.data=g:(g=W3(le),g!==null&&(h.data=g)))),(g=AS?SS(k,le):MS(k,le))&&(m=Np(m,"onBeforeInput"),0<m.length&&(P=new E2("onBeforeInput","beforeinput",null,le,P),i.push({event:P,listeners:m}),P.data=g))}rw(i,W)})}function s0(k,W,le){return{instance:k,listener:W,currentTarget:le}}function Np(k,W){for(var le=W+"Capture",me=[];k!==null;){var Oe=k,Ze=Oe.stateNode;Oe.tag===5&&Ze!==null&&(Oe=Ze,Ze=e0(k,le),Ze!=null&&me.unshift(s0(k,Ze,Oe)),Ze=e0(k,W),Ze!=null&&me.push(s0(k,Ze,Oe))),k=k.return}return me}function Ev(k){if(k===null)return null;do k=k.return;while(k&&k.tag!==5);return k||null}function B2(k,W,le,me,Oe){for(var Ze=W._reactName,G=[];le!==null&&le!==me;){var V=le,e=V.alternate,m=V.stateNode;if(e!==null&&e===me)break;V.tag===5&&m!==null&&(V=m,Oe?(e=e0(le,Ze),e!=null&&G.unshift(s0(le,e,V))):Oe||(e=e0(le,Ze),e!=null&&G.push(s0(le,e,V)))),le=le.return}G.length!==0&&k.push({event:W,listeners:G})}var NS=/\r\n?/g,US=/\u0000|\uFFFD/g;function N2(k){return(typeof k=="string"?k:""+k).replace(NS,`
`).replace(US,"")}function lp(k,W,le){if(W=N2(W),N2(k)!==W&&le)throw Error(ya(425))}function Up(){}var dm=null,pm=null;function gm(k,W){return k==="textarea"||k==="noscript"||typeof W.children=="string"||typeof W.children=="number"||typeof W.dangerouslySetInnerHTML=="object"&&W.dangerouslySetInnerHTML!==null&&W.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,U2=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof U2<"u"?function(k){return U2.resolve(null).then(k).catch(GS)}:ym;function GS(k){setTimeout(function(){throw k})}function Ly(k,W){var le=W,me=0;do{var Oe=le.nextSibling;if(k.removeChild(le),Oe&&Oe.nodeType===8)if(le=Oe.data,le==="/$"){if(me===0){k.removeChild(Oe),n0(W);return}me--}else le!=="$"&&le!=="$?"&&le!=="$!"||me++;le=Oe}while(le);n0(W)}function th(k){for(;k!=null;k=k.nextSibling){var W=k.nodeType;if(W===1||W===3)break;if(W===8){if(W=k.data,W==="$"||W==="$!"||W==="$?")break;if(W==="/$")return null}}return k}function V2(k){k=k.previousSibling;for(var W=0;k;){if(k.nodeType===8){var le=k.data;if(le==="$"||le==="$!"||le==="$?"){if(W===0)return k;W--}else le==="/$"&&W++}k=k.previousSibling}return null}var nd=Math.random().toString(36).slice(2),yf="__reactFiber$"+nd,l0="__reactProps$"+nd,ec="__reactContainer$"+nd,mm="__reactEvents$"+nd,WS="__reactListeners$"+nd,YS="__reactHandles$"+nd;function Uh(k){var W=k[yf];if(W)return W;for(var le=k.parentNode;le;){if(W=le[ec]||le[yf]){if(le=W.alternate,W.child!==null||le!==null&&le.child!==null)for(k=V2(k);k!==null;){if(le=k[yf])return le;k=V2(k)}return W}k=le,le=k.parentNode}return null}function x0(k){return k=k[yf]||k[ec],!k||k.tag!==5&&k.tag!==6&&k.tag!==13&&k.tag!==3?null:k}function kv(k){if(k.tag===5||k.tag===6)return k.stateNode;throw Error(ya(33))}function gg(k){return k[l0]||null}var xm=[],Fv=-1;function uh(k){return{current:k}}function Ji(k){0>Fv||(k.current=xm[Fv],xm[Fv]=null,Fv--)}function Hi(k,W){Fv++,xm[Fv]=k.current,k.current=W}var sh={},Ps=uh(sh),ll=uh(!1),Xh=sh;function Kv(k,W){var le=k.type.contextTypes;if(!le)return sh;var me=k.stateNode;if(me&&me.__reactInternalMemoizedUnmaskedChildContext===W)return me.__reactInternalMemoizedMaskedChildContext;var Oe={},Ze;for(Ze in le)Oe[Ze]=W[Ze];return me&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=W,k.__reactInternalMemoizedMaskedChildContext=Oe),Oe}function ul(k){return k=k.childContextTypes,k!=null}function Vp(){Ji(ll),Ji(Ps)}function H2(k,W,le){if(Ps.current!==sh)throw Error(ya(168));Hi(Ps,W),Hi(ll,le)}function aw(k,W,le){var me=k.stateNode;if(W=W.childContextTypes,typeof me.getChildContext!="function")return le;me=me.getChildContext();for(var Oe in me)if(!(Oe in W))throw Error(ya(108,P6(k)||"Unknown",Oe));return go({},le,me)}function Hp(k){return k=(k=k.stateNode)&&k.__reactInternalMemoizedMergedChildContext||sh,Xh=Ps.current,Hi(Ps,k),Hi(ll,ll.current),!0}function G2(k,W,le){var me=k.stateNode;if(!me)throw Error(ya(169));le?(k=aw(k,W,Xh),me.__reactInternalMemoizedMergedChildContext=k,Ji(ll),Ji(Ps),Hi(Ps,k)):Ji(ll),Hi(ll,le)}var Kf=null,yg=!1,Py=!1;function iw(k){Kf===null?Kf=[k]:Kf.push(k)}function XS(k){yg=!0,iw(k)}function fh(){if(!Py&&Kf!==null){Py=!0;var k=0,W=ki;try{var le=Kf;for(ki=1;k<le.length;k++){var me=le[k];do me=me(!0);while(me!==null)}Kf=null,yg=!1}catch(Oe){throw Kf!==null&&(Kf=Kf.slice(k+1)),R3(o1,fh),Oe}finally{ki=W,Py=!1}}return null}var _v=[],zv=0,Gp=null,Wp=0,au=[],iu=0,jh=null,Jf=1,Qf="";function Bh(k,W){_v[zv++]=Wp,_v[zv++]=Gp,Gp=k,Wp=W}function ow(k,W,le){au[iu++]=Jf,au[iu++]=Qf,au[iu++]=jh,jh=k;var me=Jf;k=Qf;var Oe=32-Hu(me)-1;me&=~(1<<Oe),le+=1;var Ze=32-Hu(W)+Oe;if(30<Ze){var G=Oe-Oe%5;Ze=(me&(1<<G)-1).toString(32),me>>=G,Oe-=G,Jf=1<<32-Hu(W)+Oe|le<<Oe|me,Qf=Ze+k}else Jf=1<<Ze|le<<Oe|me,Qf=k}function p1(k){k.return!==null&&(Bh(k,1),ow(k,1,0))}function g1(k){for(;k===Gp;)Gp=_v[--zv],_v[zv]=null,Wp=_v[--zv],_v[zv]=null;for(;k===jh;)jh=au[--iu],au[iu]=null,Qf=au[--iu],au[iu]=null,Jf=au[--iu],au[iu]=null}var Pl=null,Ll=null,ro=!1,Uu=null;function sw(k,W){var le=ou(5,null,null,0);le.elementType="DELETED",le.stateNode=W,le.return=k,W=k.deletions,W===null?(k.deletions=[le],k.flags|=16):W.push(le)}function W2(k,W){switch(k.tag){case 5:var le=k.type;return W=W.nodeType!==1||le.toLowerCase()!==W.nodeName.toLowerCase()?null:W,W!==null?(k.stateNode=W,Pl=k,Ll=th(W.firstChild),!0):!1;case 6:return W=k.pendingProps===""||W.nodeType!==3?null:W,W!==null?(k.stateNode=W,Pl=k,Ll=null,!0):!1;case 13:return W=W.nodeType!==8?null:W,W!==null?(le=jh!==null?{id:Jf,overflow:Qf}:null,k.memoizedState={dehydrated:W,treeContext:le,retryLane:1073741824},le=ou(18,null,null,0),le.stateNode=W,le.return=k,k.child=le,Pl=k,Ll=null,!0):!1;default:return!1}}function bm(k){return(k.mode&1)!==0&&(k.flags&128)===0}function wm(k){if(ro){var W=Ll;if(W){var le=W;if(!W2(k,W)){if(bm(k))throw Error(ya(418));W=th(le.nextSibling);var me=Pl;W&&W2(k,W)?sw(me,le):(k.flags=k.flags&-4097|2,ro=!1,Pl=k)}}else{if(bm(k))throw Error(ya(418));k.flags=k.flags&-4097|2,ro=!1,Pl=k}}}function Y2(k){for(k=k.return;k!==null&&k.tag!==5&&k.tag!==3&&k.tag!==13;)k=k.return;Pl=k}function up(k){if(k!==Pl)return!1;if(!ro)return Y2(k),ro=!0,!1;var W;if((W=k.tag!==3)&&!(W=k.tag!==5)&&(W=k.type,W=W!=="head"&&W!=="body"&&!gm(k.type,k.memoizedProps)),W&&(W=Ll)){if(bm(k))throw lw(),Error(ya(418));for(;W;)sw(k,W),W=th(W.nextSibling)}if(Y2(k),k.tag===13){if(k=k.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(ya(317));e:{for(k=k.nextSibling,W=0;k;){if(k.nodeType===8){var le=k.data;if(le==="/$"){if(W===0){Ll=th(k.nextSibling);break e}W--}else le!=="$"&&le!=="$!"&&le!=="$?"||W++}k=k.nextSibling}Ll=null}}else Ll=Pl?th(k.stateNode.nextSibling):null;return!0}function lw(){for(var k=Ll;k;)k=th(k.nextSibling)}function Jv(){Ll=Pl=null,ro=!1}function y1(k){Uu===null?Uu=[k]:Uu.push(k)}var jS=nc.ReactCurrentBatchConfig;function kd(k,W,le){if(k=le.ref,k!==null&&typeof k!="function"&&typeof k!="object"){if(le._owner){if(le=le._owner,le){if(le.tag!==1)throw Error(ya(309));var me=le.stateNode}if(!me)throw Error(ya(147,k));var Oe=me,Ze=""+k;return W!==null&&W.ref!==null&&typeof W.ref=="function"&&W.ref._stringRef===Ze?W.ref:(W=function(G){var V=Oe.refs;G===null?delete V[Ze]:V[Ze]=G},W._stringRef=Ze,W)}if(typeof k!="string")throw Error(ya(284));if(!le._owner)throw Error(ya(290,k))}return k}function fp(k,W){throw k=Object.prototype.toString.call(W),Error(ya(31,k==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":k))}function X2(k){var W=k._init;return W(k._payload)}function uw(k){function W(t,a){if(k){var n=t.deletions;n===null?(t.deletions=[a],t.flags|=16):n.push(a)}}function le(t,a){if(!k)return null;for(;a!==null;)W(t,a),a=a.sibling;return null}function me(t,a){for(t=new Map;a!==null;)a.key!==null?t.set(a.key,a):t.set(a.index,a),a=a.sibling;return t}function Oe(t,a){return t=ih(t,a),t.index=0,t.sibling=null,t}function Ze(t,a,n){return t.index=n,k?(n=t.alternate,n!==null?(n=n.index,n<a?(t.flags|=2,a):n):(t.flags|=2,a)):(t.flags|=1048576,a)}function G(t){return k&&t.alternate===null&&(t.flags|=2),t}function V(t,a,n,f){return a===null||a.tag!==6?(a=zy(n,t.mode,f),a.return=t,a):(a=Oe(a,n),a.return=t,a)}function e(t,a,n,f){var l=n.type;return l===Pv?P(t,a,n.props.children,f,n.key):a!==null&&(a.elementType===l||typeof l=="object"&&l!==null&&l.$$typeof===Gc&&X2(l)===a.type)?(f=Oe(a,n.props),f.ref=kd(t,a,n),f.return=t,f):(f=Cp(n.type,n.key,n.props,null,t.mode,f),f.ref=kd(t,a,n),f.return=t,f)}function m(t,a,n,f){return a===null||a.tag!==4||a.stateNode.containerInfo!==n.containerInfo||a.stateNode.implementation!==n.implementation?(a=Oy(n,t.mode,f),a.return=t,a):(a=Oe(a,n.children||[]),a.return=t,a)}function P(t,a,n,f,l){return a===null||a.tag!==7?(a=Yh(n,t.mode,f,l),a.return=t,a):(a=Oe(a,n),a.return=t,a)}function i(t,a,n){if(typeof a=="string"&&a!==""||typeof a=="number")return a=zy(""+a,t.mode,n),a.return=t,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case q0:return n=Cp(a.type,a.key,a.props,null,t.mode,n),n.ref=kd(t,null,a),n.return=t,n;case Lv:return a=Oy(a,t.mode,n),a.return=t,a;case Gc:var f=a._init;return i(t,f(a._payload),n)}if(Nd(a)||Ld(a))return a=Yh(a,t.mode,n,null),a.return=t,a;fp(t,a)}return null}function L(t,a,n,f){var l=a!==null?a.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return l!==null?null:V(t,a,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:return n.key===l?e(t,a,n,f):null;case Lv:return n.key===l?m(t,a,n,f):null;case Gc:return l=n._init,L(t,a,l(n._payload),f)}if(Nd(n)||Ld(n))return l!==null?null:P(t,a,n,f,null);fp(t,n)}return null}function S(t,a,n,f,l){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,V(a,t,""+f,l);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case q0:return t=t.get(f.key===null?n:f.key)||null,e(a,t,f,l);case Lv:return t=t.get(f.key===null?n:f.key)||null,m(a,t,f,l);case Gc:var u=f._init;return S(t,a,n,u(f._payload),l)}if(Nd(f)||Ld(f))return t=t.get(n)||null,P(a,t,f,l,null);fp(a,f)}return null}function v(t,a,n,f){for(var l=null,u=null,g=a,h=a=0,T=null;g!==null&&h<n.length;h++){g.index>h?(T=g,g=null):T=g.sibling;var c=L(t,g,n[h],f);if(c===null){g===null&&(g=T);break}k&&g&&c.alternate===null&&W(t,g),a=Ze(c,a,h),u===null?l=c:u.sibling=c,u=c,g=T}if(h===n.length)return le(t,g),ro&&Bh(t,h),l;if(g===null){for(;h<n.length;h++)g=i(t,n[h],f),g!==null&&(a=Ze(g,a,h),u===null?l=g:u.sibling=g,u=g);return ro&&Bh(t,h),l}for(g=me(t,g);h<n.length;h++)T=S(g,t,h,n[h],f),T!==null&&(k&&T.alternate!==null&&g.delete(T.key===null?h:T.key),a=Ze(T,a,h),u===null?l=T:u.sibling=T,u=T);return k&&g.forEach(function(o){return W(t,o)}),ro&&Bh(t,h),l}function p(t,a,n,f){var l=Ld(n);if(typeof l!="function")throw Error(ya(150));if(n=l.call(n),n==null)throw Error(ya(151));for(var u=l=null,g=a,h=a=0,T=null,c=n.next();g!==null&&!c.done;h++,c=n.next()){g.index>h?(T=g,g=null):T=g.sibling;var o=L(t,g,c.value,f);if(o===null){g===null&&(g=T);break}k&&g&&o.alternate===null&&W(t,g),a=Ze(o,a,h),u===null?l=o:u.sibling=o,u=o,g=T}if(c.done)return le(t,g),ro&&Bh(t,h),l;if(g===null){for(;!c.done;h++,c=n.next())c=i(t,c.value,f),c!==null&&(a=Ze(c,a,h),u===null?l=c:u.sibling=c,u=c);return ro&&Bh(t,h),l}for(g=me(t,g);!c.done;h++,c=n.next())c=S(g,t,h,c.value,f),c!==null&&(k&&c.alternate!==null&&g.delete(c.key===null?h:c.key),a=Ze(c,a,h),u===null?l=c:u.sibling=c,u=c);return k&&g.forEach(function(d){return W(t,d)}),ro&&Bh(t,h),l}function r(t,a,n,f){if(typeof n=="object"&&n!==null&&n.type===Pv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:e:{for(var l=n.key,u=a;u!==null;){if(u.key===l){if(l=n.type,l===Pv){if(u.tag===7){le(t,u.sibling),a=Oe(u,n.props.children),a.return=t,t=a;break e}}else if(u.elementType===l||typeof l=="object"&&l!==null&&l.$$typeof===Gc&&X2(l)===u.type){le(t,u.sibling),a=Oe(u,n.props),a.ref=kd(t,u,n),a.return=t,t=a;break e}le(t,u);break}else W(t,u);u=u.sibling}n.type===Pv?(a=Yh(n.props.children,t.mode,f,n.key),a.return=t,t=a):(f=Cp(n.type,n.key,n.props,null,t.mode,f),f.ref=kd(t,a,n),f.return=t,t=f)}return G(t);case Lv:e:{for(u=n.key;a!==null;){if(a.key===u)if(a.tag===4&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){le(t,a.sibling),a=Oe(a,n.children||[]),a.return=t,t=a;break e}else{le(t,a);break}else W(t,a);a=a.sibling}a=Oy(n,t.mode,f),a.return=t,t=a}return G(t);case Gc:return u=n._init,r(t,a,u(n._payload),f)}if(Nd(n))return v(t,a,n,f);if(Ld(n))return p(t,a,n,f);fp(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,a!==null&&a.tag===6?(le(t,a.sibling),a=Oe(a,n),a.return=t,t=a):(le(t,a),a=zy(n,t.mode,f),a.return=t,t=a),G(t)):le(t,a)}return r}var Qv=uw(!0),fw=uw(!1),Yp=uh(null),Xp=null,Ov=null,m1=null;function x1(){m1=Ov=Xp=null}function b1(k){var W=Yp.current;Ji(Yp),k._currentValue=W}function Tm(k,W,le){for(;k!==null;){var me=k.alternate;if((k.childLanes&W)!==W?(k.childLanes|=W,me!==null&&(me.childLanes|=W)):me!==null&&(me.childLanes&W)!==W&&(me.childLanes|=W),k===le)break;k=k.return}}function Yv(k,W){Xp=k,m1=Ov=null,k=k.dependencies,k!==null&&k.firstContext!==null&&(k.lanes&W&&(sl=!0),k.firstContext=null)}function uu(k){var W=k._currentValue;if(m1!==k)if(k={context:k,memoizedValue:W,next:null},Ov===null){if(Xp===null)throw Error(ya(308));Ov=k,Xp.dependencies={lanes:0,firstContext:k}}else Ov=Ov.next=k;return W}var Vh=null;function w1(k){Vh===null?Vh=[k]:Vh.push(k)}function cw(k,W,le,me){var Oe=W.interleaved;return Oe===null?(le.next=le,w1(W)):(le.next=Oe.next,Oe.next=le),W.interleaved=le,tc(k,me)}function tc(k,W){k.lanes|=W;var le=k.alternate;for(le!==null&&(le.lanes|=W),le=k,k=k.return;k!==null;)k.childLanes|=W,le=k.alternate,le!==null&&(le.childLanes|=W),le=k,k=k.return;return le.tag===3?le.stateNode:null}var Wc=!1;function T1(k){k.updateQueue={baseState:k.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(k,W){k=k.updateQueue,W.updateQueue===k&&(W.updateQueue={baseState:k.baseState,firstBaseUpdate:k.firstBaseUpdate,lastBaseUpdate:k.lastBaseUpdate,shared:k.shared,effects:k.effects})}function $f(k,W){return{eventTime:k,lane:W,tag:0,payload:null,callback:null,next:null}}function rh(k,W,le){var me=k.updateQueue;if(me===null)return null;if(me=me.shared,Si&2){var Oe=me.pending;return Oe===null?W.next=W:(W.next=Oe.next,Oe.next=W),me.pending=W,tc(k,le)}return Oe=me.interleaved,Oe===null?(W.next=W,w1(me)):(W.next=Oe.next,Oe.next=W),me.interleaved=W,tc(k,le)}function wp(k,W,le){if(W=W.updateQueue,W!==null&&(W=W.shared,(le&4194240)!==0)){var me=W.lanes;me&=k.pendingLanes,le|=me,W.lanes=le,s1(k,le)}}function j2(k,W){var le=k.updateQueue,me=k.alternate;if(me!==null&&(me=me.updateQueue,le===me)){var Oe=null,Ze=null;if(le=le.firstBaseUpdate,le!==null){do{var G={eventTime:le.eventTime,lane:le.lane,tag:le.tag,payload:le.payload,callback:le.callback,next:null};Ze===null?Oe=Ze=G:Ze=Ze.next=G,le=le.next}while(le!==null);Ze===null?Oe=Ze=W:Ze=Ze.next=W}else Oe=Ze=W;le={baseState:me.baseState,firstBaseUpdate:Oe,lastBaseUpdate:Ze,shared:me.shared,effects:me.effects},k.updateQueue=le;return}k=le.lastBaseUpdate,k===null?le.firstBaseUpdate=W:k.next=W,le.lastBaseUpdate=W}function jp(k,W,le,me){var Oe=k.updateQueue;Wc=!1;var Ze=Oe.firstBaseUpdate,G=Oe.lastBaseUpdate,V=Oe.shared.pending;if(V!==null){Oe.shared.pending=null;var e=V,m=e.next;e.next=null,G===null?Ze=m:G.next=m,G=e;var P=k.alternate;P!==null&&(P=P.updateQueue,V=P.lastBaseUpdate,V!==G&&(V===null?P.firstBaseUpdate=m:V.next=m,P.lastBaseUpdate=e))}if(Ze!==null){var i=Oe.baseState;G=0,P=m=e=null,V=Ze;do{var L=V.lane,S=V.eventTime;if((me&L)===L){P!==null&&(P=P.next={eventTime:S,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=k,p=V;switch(L=W,S=le,p.tag){case 1:if(v=p.payload,typeof v=="function"){i=v.call(S,i,L);break e}i=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(S,i,L):v,L==null)break e;i=go({},i,L);break e;case 2:Wc=!0}}V.callback!==null&&V.lane!==0&&(k.flags|=64,L=Oe.effects,L===null?Oe.effects=[V]:L.push(V))}else S={eventTime:S,lane:L,tag:V.tag,payload:V.payload,callback:V.callback,next:null},P===null?(m=P=S,e=i):P=P.next=S,G|=L;if(V=V.next,V===null){if(V=Oe.shared.pending,V===null)break;L=V,V=L.next,L.next=null,Oe.lastBaseUpdate=L,Oe.shared.pending=null}}while(1);if(P===null&&(e=i),Oe.baseState=e,Oe.firstBaseUpdate=m,Oe.lastBaseUpdate=P,W=Oe.shared.interleaved,W!==null){Oe=W;do G|=Oe.lane,Oe=Oe.next;while(Oe!==W)}else Ze===null&&(Oe.shared.lanes=0);Kh|=G,k.lanes=G,k.memoizedState=i}}function Z2(k,W,le){if(k=W.effects,W.effects=null,k!==null)for(W=0;W<k.length;W++){var me=k[W],Oe=me.callback;if(Oe!==null){if(me.callback=null,me=le,typeof Oe!="function")throw Error(ya(191,Oe));Oe.call(me)}}}var b0={},bf=uh(b0),u0=uh(b0),f0=uh(b0);function Hh(k){if(k===b0)throw Error(ya(174));return k}function A1(k,W){switch(Hi(f0,W),Hi(u0,k),Hi(bf,b0),k=W.nodeType,k){case 9:case 11:W=(W=W.documentElement)?W.namespaceURI:rm(null,"");break;default:k=k===8?W.parentNode:W,W=k.namespaceURI||null,k=k.tagName,W=rm(W,k)}Ji(bf),Hi(bf,W)}function $v(){Ji(bf),Ji(u0),Ji(f0)}function vw(k){Hh(f0.current);var W=Hh(bf.current),le=rm(W,k.type);W!==le&&(Hi(u0,k),Hi(bf,le))}function S1(k){u0.current===k&&(Ji(bf),Ji(u0))}var vo=uh(0);function Zp(k){for(var W=k;W!==null;){if(W.tag===13){var le=W.memoizedState;if(le!==null&&(le=le.dehydrated,le===null||le.data==="$?"||le.data==="$!"))return W}else if(W.tag===19&&W.memoizedProps.revealOrder!==void 0){if(W.flags&128)return W}else if(W.child!==null){W.child.return=W,W=W.child;continue}if(W===k)break;for(;W.sibling===null;){if(W.return===null||W.return===k)return null;W=W.return}W.sibling.return=W.return,W=W.sibling}return null}var Ry=[];function M1(){for(var k=0;k<Ry.length;k++)Ry[k]._workInProgressVersionPrimary=null;Ry.length=0}var Tp=nc.ReactCurrentDispatcher,Dy=nc.ReactCurrentBatchConfig,Zh=0,po=null,Go=null,Qo=null,Kp=!1,jd=!1,c0=0,ZS=0;function Es(){throw Error(ya(321))}function E1(k,W){if(W===null)return!1;for(var le=0;le<W.length&&le<k.length;le++)if(!Xu(k[le],W[le]))return!1;return!0}function C1(k,W,le,me,Oe,Ze){if(Zh=Ze,po=W,W.memoizedState=null,W.updateQueue=null,W.lanes=0,Tp.current=k===null||k.memoizedState===null?$S:qS,k=le(me,Oe),jd){Ze=0;do{if(jd=!1,c0=0,25<=Ze)throw Error(ya(301));Ze+=1,Qo=Go=null,W.updateQueue=null,Tp.current=eM,k=le(me,Oe)}while(jd)}if(Tp.current=Jp,W=Go!==null&&Go.next!==null,Zh=0,Qo=Go=po=null,Kp=!1,W)throw Error(ya(300));return k}function L1(){var k=c0!==0;return c0=0,k}function gf(){var k={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qo===null?po.memoizedState=Qo=k:Qo=Qo.next=k,Qo}function fu(){if(Go===null){var k=po.alternate;k=k!==null?k.memoizedState:null}else k=Go.next;var W=Qo===null?po.memoizedState:Qo.next;if(W!==null)Qo=W,Go=k;else{if(k===null)throw Error(ya(310));Go=k,k={memoizedState:Go.memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},Qo===null?po.memoizedState=Qo=k:Qo=Qo.next=k}return Qo}function h0(k,W){return typeof W=="function"?W(k):W}function Iy(k){var W=fu(),le=W.queue;if(le===null)throw Error(ya(311));le.lastRenderedReducer=k;var me=Go,Oe=me.baseQueue,Ze=le.pending;if(Ze!==null){if(Oe!==null){var G=Oe.next;Oe.next=Ze.next,Ze.next=G}me.baseQueue=Oe=Ze,le.pending=null}if(Oe!==null){Ze=Oe.next,me=me.baseState;var V=G=null,e=null,m=Ze;do{var P=m.lane;if((Zh&P)===P)e!==null&&(e=e.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),me=m.hasEagerState?m.eagerState:k(me,m.action);else{var i={lane:P,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};e===null?(V=e=i,G=me):e=e.next=i,po.lanes|=P,Kh|=P}m=m.next}while(m!==null&&m!==Ze);e===null?G=me:e.next=V,Xu(me,W.memoizedState)||(sl=!0),W.memoizedState=me,W.baseState=G,W.baseQueue=e,le.lastRenderedState=me}if(k=le.interleaved,k!==null){Oe=k;do Ze=Oe.lane,po.lanes|=Ze,Kh|=Ze,Oe=Oe.next;while(Oe!==k)}else Oe===null&&(le.lanes=0);return[W.memoizedState,le.dispatch]}function ky(k){var W=fu(),le=W.queue;if(le===null)throw Error(ya(311));le.lastRenderedReducer=k;var me=le.dispatch,Oe=le.pending,Ze=W.memoizedState;if(Oe!==null){le.pending=null;var G=Oe=Oe.next;do Ze=k(Ze,G.action),G=G.next;while(G!==Oe);Xu(Ze,W.memoizedState)||(sl=!0),W.memoizedState=Ze,W.baseQueue===null&&(W.baseState=Ze),le.lastRenderedState=Ze}return[Ze,me]}function dw(){}function pw(k,W){var le=po,me=fu(),Oe=W(),Ze=!Xu(me.memoizedState,Oe);if(Ze&&(me.memoizedState=Oe,sl=!0),me=me.queue,P1(mw.bind(null,le,me,k),[k]),me.getSnapshot!==W||Ze||Qo!==null&&Qo.memoizedState.tag&1){if(le.flags|=2048,v0(9,yw.bind(null,le,me,Oe,W),void 0,null),$o===null)throw Error(ya(349));Zh&30||gw(le,W,Oe)}return Oe}function gw(k,W,le){k.flags|=16384,k={getSnapshot:W,value:le},W=po.updateQueue,W===null?(W={lastEffect:null,stores:null},po.updateQueue=W,W.stores=[k]):(le=W.stores,le===null?W.stores=[k]:le.push(k))}function yw(k,W,le,me){W.value=le,W.getSnapshot=me,xw(W)&&bw(k)}function mw(k,W,le){return le(function(){xw(W)&&bw(k)})}function xw(k){var W=k.getSnapshot;k=k.value;try{var le=W();return!Xu(k,le)}catch{return!0}}function bw(k){var W=tc(k,1);W!==null&&Gu(W,k,1,-1)}function K2(k){var W=gf();return typeof k=="function"&&(k=k()),W.memoizedState=W.baseState=k,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:k},W.queue=k,k=k.dispatch=QS.bind(null,po,k),[W.memoizedState,k]}function v0(k,W,le,me){return k={tag:k,create:W,destroy:le,deps:me,next:null},W=po.updateQueue,W===null?(W={lastEffect:null,stores:null},po.updateQueue=W,W.lastEffect=k.next=k):(le=W.lastEffect,le===null?W.lastEffect=k.next=k:(me=le.next,le.next=k,k.next=me,W.lastEffect=k)),k}function ww(){return fu().memoizedState}function Ap(k,W,le,me){var Oe=gf();po.flags|=k,Oe.memoizedState=v0(1|W,le,void 0,me===void 0?null:me)}function mg(k,W,le,me){var Oe=fu();me=me===void 0?null:me;var Ze=void 0;if(Go!==null){var G=Go.memoizedState;if(Ze=G.destroy,me!==null&&E1(me,G.deps)){Oe.memoizedState=v0(W,le,Ze,me);return}}po.flags|=k,Oe.memoizedState=v0(1|W,le,Ze,me)}function J2(k,W){return Ap(8390656,8,k,W)}function P1(k,W){return mg(2048,8,k,W)}function Tw(k,W){return mg(4,2,k,W)}function Aw(k,W){return mg(4,4,k,W)}function Sw(k,W){if(typeof W=="function")return k=k(),W(k),function(){W(null)};if(W!=null)return k=k(),W.current=k,function(){W.current=null}}function Mw(k,W,le){return le=le!=null?le.concat([k]):null,mg(4,4,Sw.bind(null,W,k),le)}function R1(){}function Ew(k,W){var le=fu();W=W===void 0?null:W;var me=le.memoizedState;return me!==null&&W!==null&&E1(W,me[1])?me[0]:(le.memoizedState=[k,W],k)}function Cw(k,W){var le=fu();W=W===void 0?null:W;var me=le.memoizedState;return me!==null&&W!==null&&E1(W,me[1])?me[0]:(k=k(),le.memoizedState=[k,W],k)}function Lw(k,W,le){return Zh&21?(Xu(le,W)||(le=k3(),po.lanes|=le,Kh|=le,k.baseState=!0),W):(k.baseState&&(k.baseState=!1,sl=!0),k.memoizedState=le)}function KS(k,W){var le=ki;ki=le!==0&&4>le?le:4,k(!0);var me=Dy.transition;Dy.transition={};try{k(!1),W()}finally{ki=le,Dy.transition=me}}function Pw(){return fu().memoizedState}function JS(k,W,le){var me=ah(k);if(le={lane:me,action:le,hasEagerState:!1,eagerState:null,next:null},Rw(k))Dw(W,le);else if(le=cw(k,W,le,me),le!==null){var Oe=Gs();Gu(le,k,me,Oe),Iw(le,W,me)}}function QS(k,W,le){var me=ah(k),Oe={lane:me,action:le,hasEagerState:!1,eagerState:null,next:null};if(Rw(k))Dw(W,Oe);else{var Ze=k.alternate;if(k.lanes===0&&(Ze===null||Ze.lanes===0)&&(Ze=W.lastRenderedReducer,Ze!==null))try{var G=W.lastRenderedState,V=Ze(G,le);if(Oe.hasEagerState=!0,Oe.eagerState=V,Xu(V,G)){var e=W.interleaved;e===null?(Oe.next=Oe,w1(W)):(Oe.next=e.next,e.next=Oe),W.interleaved=Oe;return}}catch{}finally{}le=cw(k,W,Oe,me),le!==null&&(Oe=Gs(),Gu(le,k,me,Oe),Iw(le,W,me))}}function Rw(k){var W=k.alternate;return k===po||W!==null&&W===po}function Dw(k,W){jd=Kp=!0;var le=k.pending;le===null?W.next=W:(W.next=le.next,le.next=W),k.pending=W}function Iw(k,W,le){if(le&4194240){var me=W.lanes;me&=k.pendingLanes,le|=me,W.lanes=le,s1(k,le)}}var Jp={readContext:uu,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},$S={readContext:uu,useCallback:function(k,W){return gf().memoizedState=[k,W===void 0?null:W],k},useContext:uu,useEffect:J2,useImperativeHandle:function(k,W,le){return le=le!=null?le.concat([k]):null,Ap(4194308,4,Sw.bind(null,W,k),le)},useLayoutEffect:function(k,W){return Ap(4194308,4,k,W)},useInsertionEffect:function(k,W){return Ap(4,2,k,W)},useMemo:function(k,W){var le=gf();return W=W===void 0?null:W,k=k(),le.memoizedState=[k,W],k},useReducer:function(k,W,le){var me=gf();return W=le!==void 0?le(W):W,me.memoizedState=me.baseState=W,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k,lastRenderedState:W},me.queue=k,k=k.dispatch=JS.bind(null,po,k),[me.memoizedState,k]},useRef:function(k){var W=gf();return k={current:k},W.memoizedState=k},useState:K2,useDebugValue:R1,useDeferredValue:function(k){return gf().memoizedState=k},useTransition:function(){var k=K2(!1),W=k[0];return k=KS.bind(null,k[1]),gf().memoizedState=k,[W,k]},useMutableSource:function(){},useSyncExternalStore:function(k,W,le){var me=po,Oe=gf();if(ro){if(le===void 0)throw Error(ya(407));le=le()}else{if(le=W(),$o===null)throw Error(ya(349));Zh&30||gw(me,W,le)}Oe.memoizedState=le;var Ze={value:le,getSnapshot:W};return Oe.queue=Ze,J2(mw.bind(null,me,Ze,k),[k]),me.flags|=2048,v0(9,yw.bind(null,me,Ze,le,W),void 0,null),le},useId:function(){var k=gf(),W=$o.identifierPrefix;if(ro){var le=Qf,me=Jf;le=(me&~(1<<32-Hu(me)-1)).toString(32)+le,W=":"+W+"R"+le,le=c0++,0<le&&(W+="H"+le.toString(32)),W+=":"}else le=ZS++,W=":"+W+"r"+le.toString(32)+":";return k.memoizedState=W},unstable_isNewReconciler:!1},qS={readContext:uu,useCallback:Ew,useContext:uu,useEffect:P1,useImperativeHandle:Mw,useInsertionEffect:Tw,useLayoutEffect:Aw,useMemo:Cw,useReducer:Iy,useRef:ww,useState:function(){return Iy(h0)},useDebugValue:R1,useDeferredValue:function(k){var W=fu();return Lw(W,Go.memoizedState,k)},useTransition:function(){var k=Iy(h0)[0],W=fu().memoizedState;return[k,W]},useMutableSource:dw,useSyncExternalStore:pw,useId:Pw,unstable_isNewReconciler:!1},eM={readContext:uu,useCallback:Ew,useContext:uu,useEffect:P1,useImperativeHandle:Mw,useInsertionEffect:Tw,useLayoutEffect:Aw,useMemo:Cw,useReducer:ky,useRef:ww,useState:function(){return ky(h0)},useDebugValue:R1,useDeferredValue:function(k){var W=fu();return Go===null?W.memoizedState=k:Lw(W,Go.memoizedState,k)},useTransition:function(){var k=ky(h0)[0],W=fu().memoizedState;return[k,W]},useMutableSource:dw,useSyncExternalStore:pw,useId:Pw,unstable_isNewReconciler:!1};function Bu(k,W){if(k&&k.defaultProps){W=go({},W),k=k.defaultProps;for(var le in k)W[le]===void 0&&(W[le]=k[le]);return W}return W}function Am(k,W,le,me){W=k.memoizedState,le=le(me,W),le=le==null?W:go({},W,le),k.memoizedState=le,k.lanes===0&&(k.updateQueue.baseState=le)}var xg={isMounted:function(k){return(k=k._reactInternals)?qh(k)===k:!1},enqueueSetState:function(k,W,le){k=k._reactInternals;var me=Gs(),Oe=ah(k),Ze=$f(me,Oe);Ze.payload=W,le!=null&&(Ze.callback=le),W=rh(k,Ze,Oe),W!==null&&(Gu(W,k,Oe,me),wp(W,k,Oe))},enqueueReplaceState:function(k,W,le){k=k._reactInternals;var me=Gs(),Oe=ah(k),Ze=$f(me,Oe);Ze.tag=1,Ze.payload=W,le!=null&&(Ze.callback=le),W=rh(k,Ze,Oe),W!==null&&(Gu(W,k,Oe,me),wp(W,k,Oe))},enqueueForceUpdate:function(k,W){k=k._reactInternals;var le=Gs(),me=ah(k),Oe=$f(le,me);Oe.tag=2,W!=null&&(Oe.callback=W),W=rh(k,Oe,me),W!==null&&(Gu(W,k,me,le),wp(W,k,me))}};function Q2(k,W,le,me,Oe,Ze,G){return k=k.stateNode,typeof k.shouldComponentUpdate=="function"?k.shouldComponentUpdate(me,Ze,G):W.prototype&&W.prototype.isPureReactComponent?!i0(le,me)||!i0(Oe,Ze):!0}function kw(k,W,le){var me=!1,Oe=sh,Ze=W.contextType;return typeof Ze=="object"&&Ze!==null?Ze=uu(Ze):(Oe=ul(W)?Xh:Ps.current,me=W.contextTypes,Ze=(me=me!=null)?Kv(k,Oe):sh),W=new W(le,Ze),k.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=xg,k.stateNode=W,W._reactInternals=k,me&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=Oe,k.__reactInternalMemoizedMaskedChildContext=Ze),W}function $2(k,W,le,me){k=W.state,typeof W.componentWillReceiveProps=="function"&&W.componentWillReceiveProps(le,me),typeof W.UNSAFE_componentWillReceiveProps=="function"&&W.UNSAFE_componentWillReceiveProps(le,me),W.state!==k&&xg.enqueueReplaceState(W,W.state,null)}function Sm(k,W,le,me){var Oe=k.stateNode;Oe.props=le,Oe.state=k.memoizedState,Oe.refs={},T1(k);var Ze=W.contextType;typeof Ze=="object"&&Ze!==null?Oe.context=uu(Ze):(Ze=ul(W)?Xh:Ps.current,Oe.context=Kv(k,Ze)),Oe.state=k.memoizedState,Ze=W.getDerivedStateFromProps,typeof Ze=="function"&&(Am(k,W,Ze,le),Oe.state=k.memoizedState),typeof W.getDerivedStateFromProps=="function"||typeof Oe.getSnapshotBeforeUpdate=="function"||typeof Oe.UNSAFE_componentWillMount!="function"&&typeof Oe.componentWillMount!="function"||(W=Oe.state,typeof Oe.componentWillMount=="function"&&Oe.componentWillMount(),typeof Oe.UNSAFE_componentWillMount=="function"&&Oe.UNSAFE_componentWillMount(),W!==Oe.state&&xg.enqueueReplaceState(Oe,Oe.state,null),jp(k,le,Oe,me),Oe.state=k.memoizedState),typeof Oe.componentDidMount=="function"&&(k.flags|=4194308)}function qv(k,W){try{var le="",me=W;do le+=L6(me),me=me.return;while(me);var Oe=le}catch(Ze){Oe=`
Error generating stack: `+Ze.message+`
`+Ze.stack}return{value:k,source:W,stack:Oe,digest:null}}function Fy(k,W,le){return{value:k,source:null,stack:le??null,digest:W??null}}function Mm(k,W){try{console.error(W.value)}catch(le){setTimeout(function(){throw le})}}var tM=typeof WeakMap=="function"?WeakMap:Map;function Fw(k,W,le){le=$f(-1,le),le.tag=3,le.payload={element:null};var me=W.value;return le.callback=function(){$p||($p=!0,_m=me),Mm(k,W)},le}function _w(k,W,le){le=$f(-1,le),le.tag=3;var me=k.type.getDerivedStateFromError;if(typeof me=="function"){var Oe=W.value;le.payload=function(){return me(Oe)},le.callback=function(){Mm(k,W)}}var Ze=k.stateNode;return Ze!==null&&typeof Ze.componentDidCatch=="function"&&(le.callback=function(){Mm(k,W),typeof me!="function"&&(nh===null?nh=new Set([this]):nh.add(this));var G=W.stack;this.componentDidCatch(W.value,{componentStack:G!==null?G:""})}),le}function q2(k,W,le){var me=k.pingCache;if(me===null){me=k.pingCache=new tM;var Oe=new Set;me.set(W,Oe)}else Oe=me.get(W),Oe===void 0&&(Oe=new Set,me.set(W,Oe));Oe.has(le)||(Oe.add(le),k=pM.bind(null,k,W,le),W.then(k,k))}function eb(k){do{var W;if((W=k.tag===13)&&(W=k.memoizedState,W=W!==null?W.dehydrated!==null:!0),W)return k;k=k.return}while(k!==null);return null}function tb(k,W,le,me,Oe){return k.mode&1?(k.flags|=65536,k.lanes=Oe,k):(k===W?k.flags|=65536:(k.flags|=128,le.flags|=131072,le.flags&=-52805,le.tag===1&&(le.alternate===null?le.tag=17:(W=$f(-1,1),W.tag=2,rh(le,W,1))),le.lanes|=1),k)}var rM=nc.ReactCurrentOwner,sl=!1;function Vs(k,W,le,me){W.child=k===null?fw(W,null,le,me):Qv(W,k.child,le,me)}function rb(k,W,le,me,Oe){le=le.render;var Ze=W.ref;return Yv(W,Oe),me=C1(k,W,le,me,Ze,Oe),le=L1(),k!==null&&!sl?(W.updateQueue=k.updateQueue,W.flags&=-2053,k.lanes&=~Oe,rc(k,W,Oe)):(ro&&le&&p1(W),W.flags|=1,Vs(k,W,me,Oe),W.child)}function nb(k,W,le,me,Oe){if(k===null){var Ze=le.type;return typeof Ze=="function"&&!B1(Ze)&&Ze.defaultProps===void 0&&le.compare===null&&le.defaultProps===void 0?(W.tag=15,W.type=Ze,zw(k,W,Ze,me,Oe)):(k=Cp(le.type,null,me,W,W.mode,Oe),k.ref=W.ref,k.return=W,W.child=k)}if(Ze=k.child,!(k.lanes&Oe)){var G=Ze.memoizedProps;if(le=le.compare,le=le!==null?le:i0,le(G,me)&&k.ref===W.ref)return rc(k,W,Oe)}return W.flags|=1,k=ih(Ze,me),k.ref=W.ref,k.return=W,W.child=k}function zw(k,W,le,me,Oe){if(k!==null){var Ze=k.memoizedProps;if(i0(Ze,me)&&k.ref===W.ref)if(sl=!1,W.pendingProps=me=Ze,(k.lanes&Oe)!==0)k.flags&131072&&(sl=!0);else return W.lanes=k.lanes,rc(k,W,Oe)}return Em(k,W,le,me,Oe)}function Ow(k,W,le){var me=W.pendingProps,Oe=me.children,Ze=k!==null?k.memoizedState:null;if(me.mode==="hidden")if(!(W.mode&1))W.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hi(Nv,Cl),Cl|=le;else{if(!(le&1073741824))return k=Ze!==null?Ze.baseLanes|le:le,W.lanes=W.childLanes=1073741824,W.memoizedState={baseLanes:k,cachePool:null,transitions:null},W.updateQueue=null,Hi(Nv,Cl),Cl|=k,null;W.memoizedState={baseLanes:0,cachePool:null,transitions:null},me=Ze!==null?Ze.baseLanes:le,Hi(Nv,Cl),Cl|=me}else Ze!==null?(me=Ze.baseLanes|le,W.memoizedState=null):me=le,Hi(Nv,Cl),Cl|=me;return Vs(k,W,Oe,le),W.child}function Bw(k,W){var le=W.ref;(k===null&&le!==null||k!==null&&k.ref!==le)&&(W.flags|=512,W.flags|=2097152)}function Em(k,W,le,me,Oe){var Ze=ul(le)?Xh:Ps.current;return Ze=Kv(W,Ze),Yv(W,Oe),le=C1(k,W,le,me,Ze,Oe),me=L1(),k!==null&&!sl?(W.updateQueue=k.updateQueue,W.flags&=-2053,k.lanes&=~Oe,rc(k,W,Oe)):(ro&&me&&p1(W),W.flags|=1,Vs(k,W,le,Oe),W.child)}function ab(k,W,le,me,Oe){if(ul(le)){var Ze=!0;Hp(W)}else Ze=!1;if(Yv(W,Oe),W.stateNode===null)Sp(k,W),kw(W,le,me),Sm(W,le,me,Oe),me=!0;else if(k===null){var G=W.stateNode,V=W.memoizedProps;G.props=V;var e=G.context,m=le.contextType;typeof m=="object"&&m!==null?m=uu(m):(m=ul(le)?Xh:Ps.current,m=Kv(W,m));var P=le.getDerivedStateFromProps,i=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";i||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==me||e!==m)&&$2(W,G,me,m),Wc=!1;var L=W.memoizedState;G.state=L,jp(W,me,G,Oe),e=W.memoizedState,V!==me||L!==e||ll.current||Wc?(typeof P=="function"&&(Am(W,le,P,me),e=W.memoizedState),(V=Wc||Q2(W,le,V,me,L,e,m))?(i||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(W.flags|=4194308)):(typeof G.componentDidMount=="function"&&(W.flags|=4194308),W.memoizedProps=me,W.memoizedState=e),G.props=me,G.state=e,G.context=m,me=V):(typeof G.componentDidMount=="function"&&(W.flags|=4194308),me=!1)}else{G=W.stateNode,hw(k,W),V=W.memoizedProps,m=W.type===W.elementType?V:Bu(W.type,V),G.props=m,i=W.pendingProps,L=G.context,e=le.contextType,typeof e=="object"&&e!==null?e=uu(e):(e=ul(le)?Xh:Ps.current,e=Kv(W,e));var S=le.getDerivedStateFromProps;(P=typeof S=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==i||L!==e)&&$2(W,G,me,e),Wc=!1,L=W.memoizedState,G.state=L,jp(W,me,G,Oe);var v=W.memoizedState;V!==i||L!==v||ll.current||Wc?(typeof S=="function"&&(Am(W,le,S,me),v=W.memoizedState),(m=Wc||Q2(W,le,m,me,L,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(me,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(me,v,e)),typeof G.componentDidUpdate=="function"&&(W.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(W.flags|=1024)):(typeof G.componentDidUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(W.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(W.flags|=1024),W.memoizedProps=me,W.memoizedState=v),G.props=me,G.state=v,G.context=e,me=m):(typeof G.componentDidUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(W.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(W.flags|=1024),me=!1)}return Cm(k,W,le,me,Ze,Oe)}function Cm(k,W,le,me,Oe,Ze){Bw(k,W);var G=(W.flags&128)!==0;if(!me&&!G)return Oe&&G2(W,le,!1),rc(k,W,Ze);me=W.stateNode,rM.current=W;var V=G&&typeof le.getDerivedStateFromError!="function"?null:me.render();return W.flags|=1,k!==null&&G?(W.child=Qv(W,k.child,null,Ze),W.child=Qv(W,null,V,Ze)):Vs(k,W,V,Ze),W.memoizedState=me.state,Oe&&G2(W,le,!0),W.child}function Nw(k){var W=k.stateNode;W.pendingContext?H2(k,W.pendingContext,W.pendingContext!==W.context):W.context&&H2(k,W.context,!1),A1(k,W.containerInfo)}function ib(k,W,le,me,Oe){return Jv(),y1(Oe),W.flags|=256,Vs(k,W,le,me),W.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Pm(k){return{baseLanes:k,cachePool:null,transitions:null}}function Uw(k,W,le){var me=W.pendingProps,Oe=vo.current,Ze=!1,G=(W.flags&128)!==0,V;if((V=G)||(V=k!==null&&k.memoizedState===null?!1:(Oe&2)!==0),V?(Ze=!0,W.flags&=-129):(k===null||k.memoizedState!==null)&&(Oe|=1),Hi(vo,Oe&1),k===null)return wm(W),k=W.memoizedState,k!==null&&(k=k.dehydrated,k!==null)?(W.mode&1?k.data==="$!"?W.lanes=8:W.lanes=1073741824:W.lanes=1,null):(G=me.children,k=me.fallback,Ze?(me=W.mode,Ze=W.child,G={mode:"hidden",children:G},!(me&1)&&Ze!==null?(Ze.childLanes=0,Ze.pendingProps=G):Ze=Tg(G,me,0,null),k=Yh(k,me,le,null),Ze.return=W,k.return=W,Ze.sibling=k,W.child=Ze,W.child.memoizedState=Pm(le),W.memoizedState=Lm,k):D1(W,G));if(Oe=k.memoizedState,Oe!==null&&(V=Oe.dehydrated,V!==null))return nM(k,W,G,me,V,Oe,le);if(Ze){Ze=me.fallback,G=W.mode,Oe=k.child,V=Oe.sibling;var e={mode:"hidden",children:me.children};return!(G&1)&&W.child!==Oe?(me=W.child,me.childLanes=0,me.pendingProps=e,W.deletions=null):(me=ih(Oe,e),me.subtreeFlags=Oe.subtreeFlags&14680064),V!==null?Ze=ih(V,Ze):(Ze=Yh(Ze,G,le,null),Ze.flags|=2),Ze.return=W,me.return=W,me.sibling=Ze,W.child=me,me=Ze,Ze=W.child,G=k.child.memoizedState,G=G===null?Pm(le):{baseLanes:G.baseLanes|le,cachePool:null,transitions:G.transitions},Ze.memoizedState=G,Ze.childLanes=k.childLanes&~le,W.memoizedState=Lm,me}return Ze=k.child,k=Ze.sibling,me=ih(Ze,{mode:"visible",children:me.children}),!(W.mode&1)&&(me.lanes=le),me.return=W,me.sibling=null,k!==null&&(le=W.deletions,le===null?(W.deletions=[k],W.flags|=16):le.push(k)),W.child=me,W.memoizedState=null,me}function D1(k,W){return W=Tg({mode:"visible",children:W},k.mode,0,null),W.return=k,k.child=W}function cp(k,W,le,me){return me!==null&&y1(me),Qv(W,k.child,null,le),k=D1(W,W.pendingProps.children),k.flags|=2,W.memoizedState=null,k}function nM(k,W,le,me,Oe,Ze,G){if(le)return W.flags&256?(W.flags&=-257,me=Fy(Error(ya(422))),cp(k,W,G,me)):W.memoizedState!==null?(W.child=k.child,W.flags|=128,null):(Ze=me.fallback,Oe=W.mode,me=Tg({mode:"visible",children:me.children},Oe,0,null),Ze=Yh(Ze,Oe,G,null),Ze.flags|=2,me.return=W,Ze.return=W,me.sibling=Ze,W.child=me,W.mode&1&&Qv(W,k.child,null,G),W.child.memoizedState=Pm(G),W.memoizedState=Lm,Ze);if(!(W.mode&1))return cp(k,W,G,null);if(Oe.data==="$!"){if(me=Oe.nextSibling&&Oe.nextSibling.dataset,me)var V=me.dgst;return me=V,Ze=Error(ya(419)),me=Fy(Ze,me,void 0),cp(k,W,G,me)}if(V=(G&k.childLanes)!==0,sl||V){if(me=$o,me!==null){switch(G&-G){case 4:Oe=2;break;case 16:Oe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Oe=32;break;case 536870912:Oe=268435456;break;default:Oe=0}Oe=Oe&(me.suspendedLanes|G)?0:Oe,Oe!==0&&Oe!==Ze.retryLane&&(Ze.retryLane=Oe,tc(k,Oe),Gu(me,k,Oe,-1))}return O1(),me=Fy(Error(ya(421))),cp(k,W,G,me)}return Oe.data==="$?"?(W.flags|=128,W.child=k.child,W=gM.bind(null,k),Oe._reactRetry=W,null):(k=Ze.treeContext,Ll=th(Oe.nextSibling),Pl=W,ro=!0,Uu=null,k!==null&&(au[iu++]=Jf,au[iu++]=Qf,au[iu++]=jh,Jf=k.id,Qf=k.overflow,jh=W),W=D1(W,me.children),W.flags|=4096,W)}function ob(k,W,le){k.lanes|=W;var me=k.alternate;me!==null&&(me.lanes|=W),Tm(k.return,W,le)}function _y(k,W,le,me,Oe){var Ze=k.memoizedState;Ze===null?k.memoizedState={isBackwards:W,rendering:null,renderingStartTime:0,last:me,tail:le,tailMode:Oe}:(Ze.isBackwards=W,Ze.rendering=null,Ze.renderingStartTime=0,Ze.last=me,Ze.tail=le,Ze.tailMode=Oe)}function Vw(k,W,le){var me=W.pendingProps,Oe=me.revealOrder,Ze=me.tail;if(Vs(k,W,me.children,le),me=vo.current,me&2)me=me&1|2,W.flags|=128;else{if(k!==null&&k.flags&128)e:for(k=W.child;k!==null;){if(k.tag===13)k.memoizedState!==null&&ob(k,le,W);else if(k.tag===19)ob(k,le,W);else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===W)break e;for(;k.sibling===null;){if(k.return===null||k.return===W)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}me&=1}if(Hi(vo,me),!(W.mode&1))W.memoizedState=null;else switch(Oe){case"forwards":for(le=W.child,Oe=null;le!==null;)k=le.alternate,k!==null&&Zp(k)===null&&(Oe=le),le=le.sibling;le=Oe,le===null?(Oe=W.child,W.child=null):(Oe=le.sibling,le.sibling=null),_y(W,!1,Oe,le,Ze);break;case"backwards":for(le=null,Oe=W.child,W.child=null;Oe!==null;){if(k=Oe.alternate,k!==null&&Zp(k)===null){W.child=Oe;break}k=Oe.sibling,Oe.sibling=le,le=Oe,Oe=k}_y(W,!0,le,null,Ze);break;case"together":_y(W,!1,null,null,void 0);break;default:W.memoizedState=null}return W.child}function Sp(k,W){!(W.mode&1)&&k!==null&&(k.alternate=null,W.alternate=null,W.flags|=2)}function rc(k,W,le){if(k!==null&&(W.dependencies=k.dependencies),Kh|=W.lanes,!(le&W.childLanes))return null;if(k!==null&&W.child!==k.child)throw Error(ya(153));if(W.child!==null){for(k=W.child,le=ih(k,k.pendingProps),W.child=le,le.return=W;k.sibling!==null;)k=k.sibling,le=le.sibling=ih(k,k.pendingProps),le.return=W;le.sibling=null}return W.child}function aM(k,W,le){switch(W.tag){case 3:Nw(W),Jv();break;case 5:vw(W);break;case 1:ul(W.type)&&Hp(W);break;case 4:A1(W,W.stateNode.containerInfo);break;case 10:var me=W.type._context,Oe=W.memoizedProps.value;Hi(Yp,me._currentValue),me._currentValue=Oe;break;case 13:if(me=W.memoizedState,me!==null)return me.dehydrated!==null?(Hi(vo,vo.current&1),W.flags|=128,null):le&W.child.childLanes?Uw(k,W,le):(Hi(vo,vo.current&1),k=rc(k,W,le),k!==null?k.sibling:null);Hi(vo,vo.current&1);break;case 19:if(me=(le&W.childLanes)!==0,k.flags&128){if(me)return Vw(k,W,le);W.flags|=128}if(Oe=W.memoizedState,Oe!==null&&(Oe.rendering=null,Oe.tail=null,Oe.lastEffect=null),Hi(vo,vo.current),me)break;return null;case 22:case 23:return W.lanes=0,Ow(k,W,le)}return rc(k,W,le)}var Hw,Rm,Gw,Ww;Hw=function(k,W){for(var le=W.child;le!==null;){if(le.tag===5||le.tag===6)k.appendChild(le.stateNode);else if(le.tag!==4&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===W)break;for(;le.sibling===null;){if(le.return===null||le.return===W)return;le=le.return}le.sibling.return=le.return,le=le.sibling}};Rm=function(){};Gw=function(k,W,le,me){var Oe=k.memoizedProps;if(Oe!==me){k=W.stateNode,Hh(bf.current);var Ze=null;switch(le){case"input":Oe=$y(k,Oe),me=$y(k,me),Ze=[];break;case"select":Oe=go({},Oe,{value:void 0}),me=go({},me,{value:void 0}),Ze=[];break;case"textarea":Oe=tm(k,Oe),me=tm(k,me),Ze=[];break;default:typeof Oe.onClick!="function"&&typeof me.onClick=="function"&&(k.onclick=Up)}nm(le,me);var G;le=null;for(m in Oe)if(!me.hasOwnProperty(m)&&Oe.hasOwnProperty(m)&&Oe[m]!=null)if(m==="style"){var V=Oe[m];for(G in V)V.hasOwnProperty(G)&&(le||(le={}),le[G]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&($d.hasOwnProperty(m)?Ze||(Ze=[]):(Ze=Ze||[]).push(m,null));for(m in me){var e=me[m];if(V=Oe!=null?Oe[m]:void 0,me.hasOwnProperty(m)&&e!==V&&(e!=null||V!=null))if(m==="style")if(V){for(G in V)!V.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(le||(le={}),le[G]="");for(G in e)e.hasOwnProperty(G)&&V[G]!==e[G]&&(le||(le={}),le[G]=e[G])}else le||(Ze||(Ze=[]),Ze.push(m,le)),le=e;else m==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(Ze=Ze||[]).push(m,e)):m==="children"?typeof e!="string"&&typeof e!="number"||(Ze=Ze||[]).push(m,""+e):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&($d.hasOwnProperty(m)?(e!=null&&m==="onScroll"&&Zi("scroll",k),Ze||V===e||(Ze=[])):(Ze=Ze||[]).push(m,e))}le&&(Ze=Ze||[]).push("style",le);var m=Ze;(W.updateQueue=m)&&(W.flags|=4)}};Ww=function(k,W,le,me){le!==me&&(W.flags|=4)};function Fd(k,W){if(!ro)switch(k.tailMode){case"hidden":W=k.tail;for(var le=null;W!==null;)W.alternate!==null&&(le=W),W=W.sibling;le===null?k.tail=null:le.sibling=null;break;case"collapsed":le=k.tail;for(var me=null;le!==null;)le.alternate!==null&&(me=le),le=le.sibling;me===null?W||k.tail===null?k.tail=null:k.tail.sibling=null:me.sibling=null}}function Cs(k){var W=k.alternate!==null&&k.alternate.child===k.child,le=0,me=0;if(W)for(var Oe=k.child;Oe!==null;)le|=Oe.lanes|Oe.childLanes,me|=Oe.subtreeFlags&14680064,me|=Oe.flags&14680064,Oe.return=k,Oe=Oe.sibling;else for(Oe=k.child;Oe!==null;)le|=Oe.lanes|Oe.childLanes,me|=Oe.subtreeFlags,me|=Oe.flags,Oe.return=k,Oe=Oe.sibling;return k.subtreeFlags|=me,k.childLanes=le,W}function iM(k,W,le){var me=W.pendingProps;switch(g1(W),W.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(W),null;case 1:return ul(W.type)&&Vp(),Cs(W),null;case 3:return me=W.stateNode,$v(),Ji(ll),Ji(Ps),M1(),me.pendingContext&&(me.context=me.pendingContext,me.pendingContext=null),(k===null||k.child===null)&&(up(W)?W.flags|=4:k===null||k.memoizedState.isDehydrated&&!(W.flags&256)||(W.flags|=1024,Uu!==null&&(Bm(Uu),Uu=null))),Rm(k,W),Cs(W),null;case 5:S1(W);var Oe=Hh(f0.current);if(le=W.type,k!==null&&W.stateNode!=null)Gw(k,W,le,me,Oe),k.ref!==W.ref&&(W.flags|=512,W.flags|=2097152);else{if(!me){if(W.stateNode===null)throw Error(ya(166));return Cs(W),null}if(k=Hh(bf.current),up(W)){me=W.stateNode,le=W.type;var Ze=W.memoizedProps;switch(me[yf]=W,me[l0]=Ze,k=(W.mode&1)!==0,le){case"dialog":Zi("cancel",me),Zi("close",me);break;case"iframe":case"object":case"embed":Zi("load",me);break;case"video":case"audio":for(Oe=0;Oe<Vd.length;Oe++)Zi(Vd[Oe],me);break;case"source":Zi("error",me);break;case"img":case"image":case"link":Zi("error",me),Zi("load",me);break;case"details":Zi("toggle",me);break;case"input":p2(me,Ze),Zi("invalid",me);break;case"select":me._wrapperState={wasMultiple:!!Ze.multiple},Zi("invalid",me);break;case"textarea":y2(me,Ze),Zi("invalid",me)}nm(le,Ze),Oe=null;for(var G in Ze)if(Ze.hasOwnProperty(G)){var V=Ze[G];G==="children"?typeof V=="string"?me.textContent!==V&&(Ze.suppressHydrationWarning!==!0&&lp(me.textContent,V,k),Oe=["children",V]):typeof V=="number"&&me.textContent!==""+V&&(Ze.suppressHydrationWarning!==!0&&lp(me.textContent,V,k),Oe=["children",""+V]):$d.hasOwnProperty(G)&&V!=null&&G==="onScroll"&&Zi("scroll",me)}switch(le){case"input":ep(me),g2(me,Ze,!0);break;case"textarea":ep(me),m2(me);break;case"select":case"option":break;default:typeof Ze.onClick=="function"&&(me.onclick=Up)}me=Oe,W.updateQueue=me,me!==null&&(W.flags|=4)}else{G=Oe.nodeType===9?Oe:Oe.ownerDocument,k==="http://www.w3.org/1999/xhtml"&&(k=m3(le)),k==="http://www.w3.org/1999/xhtml"?le==="script"?(k=G.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild)):typeof me.is=="string"?k=G.createElement(le,{is:me.is}):(k=G.createElement(le),le==="select"&&(G=k,me.multiple?G.multiple=!0:me.size&&(G.size=me.size))):k=G.createElementNS(k,le),k[yf]=W,k[l0]=me,Hw(k,W,!1,!1),W.stateNode=k;e:{switch(G=am(le,me),le){case"dialog":Zi("cancel",k),Zi("close",k),Oe=me;break;case"iframe":case"object":case"embed":Zi("load",k),Oe=me;break;case"video":case"audio":for(Oe=0;Oe<Vd.length;Oe++)Zi(Vd[Oe],k);Oe=me;break;case"source":Zi("error",k),Oe=me;break;case"img":case"image":case"link":Zi("error",k),Zi("load",k),Oe=me;break;case"details":Zi("toggle",k),Oe=me;break;case"input":p2(k,me),Oe=$y(k,me),Zi("invalid",k);break;case"option":Oe=me;break;case"select":k._wrapperState={wasMultiple:!!me.multiple},Oe=go({},me,{value:void 0}),Zi("invalid",k);break;case"textarea":y2(k,me),Oe=tm(k,me),Zi("invalid",k);break;default:Oe=me}nm(le,Oe),V=Oe;for(Ze in V)if(V.hasOwnProperty(Ze)){var e=V[Ze];Ze==="style"?w3(k,e):Ze==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&x3(k,e)):Ze==="children"?typeof e=="string"?(le!=="textarea"||e!=="")&&qd(k,e):typeof e=="number"&&qd(k,""+e):Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&Ze!=="autoFocus"&&($d.hasOwnProperty(Ze)?e!=null&&Ze==="onScroll"&&Zi("scroll",k):e!=null&&t1(k,Ze,e,G))}switch(le){case"input":ep(k),g2(k,me,!1);break;case"textarea":ep(k),m2(k);break;case"option":me.value!=null&&k.setAttribute("value",""+oh(me.value));break;case"select":k.multiple=!!me.multiple,Ze=me.value,Ze!=null?Vv(k,!!me.multiple,Ze,!1):me.defaultValue!=null&&Vv(k,!!me.multiple,me.defaultValue,!0);break;default:typeof Oe.onClick=="function"&&(k.onclick=Up)}switch(le){case"button":case"input":case"select":case"textarea":me=!!me.autoFocus;break e;case"img":me=!0;break e;default:me=!1}}me&&(W.flags|=4)}W.ref!==null&&(W.flags|=512,W.flags|=2097152)}return Cs(W),null;case 6:if(k&&W.stateNode!=null)Ww(k,W,k.memoizedProps,me);else{if(typeof me!="string"&&W.stateNode===null)throw Error(ya(166));if(le=Hh(f0.current),Hh(bf.current),up(W)){if(me=W.stateNode,le=W.memoizedProps,me[yf]=W,(Ze=me.nodeValue!==le)&&(k=Pl,k!==null))switch(k.tag){case 3:lp(me.nodeValue,le,(k.mode&1)!==0);break;case 5:k.memoizedProps.suppressHydrationWarning!==!0&&lp(me.nodeValue,le,(k.mode&1)!==0)}Ze&&(W.flags|=4)}else me=(le.nodeType===9?le:le.ownerDocument).createTextNode(me),me[yf]=W,W.stateNode=me}return Cs(W),null;case 13:if(Ji(vo),me=W.memoizedState,k===null||k.memoizedState!==null&&k.memoizedState.dehydrated!==null){if(ro&&Ll!==null&&W.mode&1&&!(W.flags&128))lw(),Jv(),W.flags|=98560,Ze=!1;else if(Ze=up(W),me!==null&&me.dehydrated!==null){if(k===null){if(!Ze)throw Error(ya(318));if(Ze=W.memoizedState,Ze=Ze!==null?Ze.dehydrated:null,!Ze)throw Error(ya(317));Ze[yf]=W}else Jv(),!(W.flags&128)&&(W.memoizedState=null),W.flags|=4;Cs(W),Ze=!1}else Uu!==null&&(Bm(Uu),Uu=null),Ze=!0;if(!Ze)return W.flags&65536?W:null}return W.flags&128?(W.lanes=le,W):(me=me!==null,me!==(k!==null&&k.memoizedState!==null)&&me&&(W.child.flags|=8192,W.mode&1&&(k===null||vo.current&1?Wo===0&&(Wo=3):O1())),W.updateQueue!==null&&(W.flags|=4),Cs(W),null);case 4:return $v(),Rm(k,W),k===null&&o0(W.stateNode.containerInfo),Cs(W),null;case 10:return b1(W.type._context),Cs(W),null;case 17:return ul(W.type)&&Vp(),Cs(W),null;case 19:if(Ji(vo),Ze=W.memoizedState,Ze===null)return Cs(W),null;if(me=(W.flags&128)!==0,G=Ze.rendering,G===null)if(me)Fd(Ze,!1);else{if(Wo!==0||k!==null&&k.flags&128)for(k=W.child;k!==null;){if(G=Zp(k),G!==null){for(W.flags|=128,Fd(Ze,!1),me=G.updateQueue,me!==null&&(W.updateQueue=me,W.flags|=4),W.subtreeFlags=0,me=le,le=W.child;le!==null;)Ze=le,k=me,Ze.flags&=14680066,G=Ze.alternate,G===null?(Ze.childLanes=0,Ze.lanes=k,Ze.child=null,Ze.subtreeFlags=0,Ze.memoizedProps=null,Ze.memoizedState=null,Ze.updateQueue=null,Ze.dependencies=null,Ze.stateNode=null):(Ze.childLanes=G.childLanes,Ze.lanes=G.lanes,Ze.child=G.child,Ze.subtreeFlags=0,Ze.deletions=null,Ze.memoizedProps=G.memoizedProps,Ze.memoizedState=G.memoizedState,Ze.updateQueue=G.updateQueue,Ze.type=G.type,k=G.dependencies,Ze.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),le=le.sibling;return Hi(vo,vo.current&1|2),W.child}k=k.sibling}Ze.tail!==null&&Po()>ed&&(W.flags|=128,me=!0,Fd(Ze,!1),W.lanes=4194304)}else{if(!me)if(k=Zp(G),k!==null){if(W.flags|=128,me=!0,le=k.updateQueue,le!==null&&(W.updateQueue=le,W.flags|=4),Fd(Ze,!0),Ze.tail===null&&Ze.tailMode==="hidden"&&!G.alternate&&!ro)return Cs(W),null}else 2*Po()-Ze.renderingStartTime>ed&&le!==1073741824&&(W.flags|=128,me=!0,Fd(Ze,!1),W.lanes=4194304);Ze.isBackwards?(G.sibling=W.child,W.child=G):(le=Ze.last,le!==null?le.sibling=G:W.child=G,Ze.last=G)}return Ze.tail!==null?(W=Ze.tail,Ze.rendering=W,Ze.tail=W.sibling,Ze.renderingStartTime=Po(),W.sibling=null,le=vo.current,Hi(vo,me?le&1|2:le&1),W):(Cs(W),null);case 22:case 23:return z1(),me=W.memoizedState!==null,k!==null&&k.memoizedState!==null!==me&&(W.flags|=8192),me&&W.mode&1?Cl&1073741824&&(Cs(W),W.subtreeFlags&6&&(W.flags|=8192)):Cs(W),null;case 24:return null;case 25:return null}throw Error(ya(156,W.tag))}function oM(k,W){switch(g1(W),W.tag){case 1:return ul(W.type)&&Vp(),k=W.flags,k&65536?(W.flags=k&-65537|128,W):null;case 3:return $v(),Ji(ll),Ji(Ps),M1(),k=W.flags,k&65536&&!(k&128)?(W.flags=k&-65537|128,W):null;case 5:return S1(W),null;case 13:if(Ji(vo),k=W.memoizedState,k!==null&&k.dehydrated!==null){if(W.alternate===null)throw Error(ya(340));Jv()}return k=W.flags,k&65536?(W.flags=k&-65537|128,W):null;case 19:return Ji(vo),null;case 4:return $v(),null;case 10:return b1(W.type._context),null;case 22:case 23:return z1(),null;case 24:return null;default:return null}}var hp=!1,Ls=!1,sM=typeof WeakSet=="function"?WeakSet:Set,ka=null;function Bv(k,W){var le=k.ref;if(le!==null)if(typeof le=="function")try{le(null)}catch(me){wo(k,W,me)}else le.current=null}function Dm(k,W,le){try{le()}catch(me){wo(k,W,me)}}var sb=!1;function lM(k,W){if(dm=Op,k=K3(),d1(k)){if("selectionStart"in k)var le={start:k.selectionStart,end:k.selectionEnd};else e:{le=(le=k.ownerDocument)&&le.defaultView||window;var me=le.getSelection&&le.getSelection();if(me&&me.rangeCount!==0){le=me.anchorNode;var Oe=me.anchorOffset,Ze=me.focusNode;me=me.focusOffset;try{le.nodeType,Ze.nodeType}catch{le=null;break e}var G=0,V=-1,e=-1,m=0,P=0,i=k,L=null;t:for(;;){for(var S;i!==le||Oe!==0&&i.nodeType!==3||(V=G+Oe),i!==Ze||me!==0&&i.nodeType!==3||(e=G+me),i.nodeType===3&&(G+=i.nodeValue.length),(S=i.firstChild)!==null;)L=i,i=S;for(;;){if(i===k)break t;if(L===le&&++m===Oe&&(V=G),L===Ze&&++P===me&&(e=G),(S=i.nextSibling)!==null)break;i=L,L=i.parentNode}i=S}le=V===-1||e===-1?null:{start:V,end:e}}else le=null}le=le||{start:0,end:0}}else le=null;for(pm={focusedElem:k,selectionRange:le},Op=!1,ka=W;ka!==null;)if(W=ka,k=W.child,(W.subtreeFlags&1028)!==0&&k!==null)k.return=W,ka=k;else for(;ka!==null;){W=ka;try{var v=W.alternate;if(W.flags&1024)switch(W.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=W.stateNode,a=t.getSnapshotBeforeUpdate(W.elementType===W.type?p:Bu(W.type,p),r);t.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var n=W.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ya(163))}}catch(f){wo(W,W.return,f)}if(k=W.sibling,k!==null){k.return=W.return,ka=k;break}ka=W.return}return v=sb,sb=!1,v}function Zd(k,W,le){var me=W.updateQueue;if(me=me!==null?me.lastEffect:null,me!==null){var Oe=me=me.next;do{if((Oe.tag&k)===k){var Ze=Oe.destroy;Oe.destroy=void 0,Ze!==void 0&&Dm(W,le,Ze)}Oe=Oe.next}while(Oe!==me)}}function bg(k,W){if(W=W.updateQueue,W=W!==null?W.lastEffect:null,W!==null){var le=W=W.next;do{if((le.tag&k)===k){var me=le.create;le.destroy=me()}le=le.next}while(le!==W)}}function Im(k){var W=k.ref;if(W!==null){var le=k.stateNode;switch(k.tag){case 5:k=le;break;default:k=le}typeof W=="function"?W(k):W.current=k}}function Yw(k){var W=k.alternate;W!==null&&(k.alternate=null,Yw(W)),k.child=null,k.deletions=null,k.sibling=null,k.tag===5&&(W=k.stateNode,W!==null&&(delete W[yf],delete W[l0],delete W[mm],delete W[WS],delete W[YS])),k.stateNode=null,k.return=null,k.dependencies=null,k.memoizedProps=null,k.memoizedState=null,k.pendingProps=null,k.stateNode=null,k.updateQueue=null}function Xw(k){return k.tag===5||k.tag===3||k.tag===4}function lb(k){e:for(;;){for(;k.sibling===null;){if(k.return===null||Xw(k.return))return null;k=k.return}for(k.sibling.return=k.return,k=k.sibling;k.tag!==5&&k.tag!==6&&k.tag!==18;){if(k.flags&2||k.child===null||k.tag===4)continue e;k.child.return=k,k=k.child}if(!(k.flags&2))return k.stateNode}}function km(k,W,le){var me=k.tag;if(me===5||me===6)k=k.stateNode,W?le.nodeType===8?le.parentNode.insertBefore(k,W):le.insertBefore(k,W):(le.nodeType===8?(W=le.parentNode,W.insertBefore(k,le)):(W=le,W.appendChild(k)),le=le._reactRootContainer,le!=null||W.onclick!==null||(W.onclick=Up));else if(me!==4&&(k=k.child,k!==null))for(km(k,W,le),k=k.sibling;k!==null;)km(k,W,le),k=k.sibling}function Fm(k,W,le){var me=k.tag;if(me===5||me===6)k=k.stateNode,W?le.insertBefore(k,W):le.appendChild(k);else if(me!==4&&(k=k.child,k!==null))for(Fm(k,W,le),k=k.sibling;k!==null;)Fm(k,W,le),k=k.sibling}var vs=null,Nu=!1;function Vc(k,W,le){for(le=le.child;le!==null;)jw(k,W,le),le=le.sibling}function jw(k,W,le){if(xf&&typeof xf.onCommitFiberUnmount=="function")try{xf.onCommitFiberUnmount(hg,le)}catch{}switch(le.tag){case 5:Ls||Bv(le,W);case 6:var me=vs,Oe=Nu;vs=null,Vc(k,W,le),vs=me,Nu=Oe,vs!==null&&(Nu?(k=vs,le=le.stateNode,k.nodeType===8?k.parentNode.removeChild(le):k.removeChild(le)):vs.removeChild(le.stateNode));break;case 18:vs!==null&&(Nu?(k=vs,le=le.stateNode,k.nodeType===8?Ly(k.parentNode,le):k.nodeType===1&&Ly(k,le),n0(k)):Ly(vs,le.stateNode));break;case 4:me=vs,Oe=Nu,vs=le.stateNode.containerInfo,Nu=!0,Vc(k,W,le),vs=me,Nu=Oe;break;case 0:case 11:case 14:case 15:if(!Ls&&(me=le.updateQueue,me!==null&&(me=me.lastEffect,me!==null))){Oe=me=me.next;do{var Ze=Oe,G=Ze.destroy;Ze=Ze.tag,G!==void 0&&(Ze&2||Ze&4)&&Dm(le,W,G),Oe=Oe.next}while(Oe!==me)}Vc(k,W,le);break;case 1:if(!Ls&&(Bv(le,W),me=le.stateNode,typeof me.componentWillUnmount=="function"))try{me.props=le.memoizedProps,me.state=le.memoizedState,me.componentWillUnmount()}catch(V){wo(le,W,V)}Vc(k,W,le);break;case 21:Vc(k,W,le);break;case 22:le.mode&1?(Ls=(me=Ls)||le.memoizedState!==null,Vc(k,W,le),Ls=me):Vc(k,W,le);break;default:Vc(k,W,le)}}function ub(k){var W=k.updateQueue;if(W!==null){k.updateQueue=null;var le=k.stateNode;le===null&&(le=k.stateNode=new sM),W.forEach(function(me){var Oe=yM.bind(null,k,me);le.has(me)||(le.add(me),me.then(Oe,Oe))})}}function Ou(k,W){var le=W.deletions;if(le!==null)for(var me=0;me<le.length;me++){var Oe=le[me];try{var Ze=k,G=W,V=G;e:for(;V!==null;){switch(V.tag){case 5:vs=V.stateNode,Nu=!1;break e;case 3:vs=V.stateNode.containerInfo,Nu=!0;break e;case 4:vs=V.stateNode.containerInfo,Nu=!0;break e}V=V.return}if(vs===null)throw Error(ya(160));jw(Ze,G,Oe),vs=null,Nu=!1;var e=Oe.alternate;e!==null&&(e.return=null),Oe.return=null}catch(m){wo(Oe,W,m)}}if(W.subtreeFlags&12854)for(W=W.child;W!==null;)Zw(W,k),W=W.sibling}function Zw(k,W){var le=k.alternate,me=k.flags;switch(k.tag){case 0:case 11:case 14:case 15:if(Ou(W,k),pf(k),me&4){try{Zd(3,k,k.return),bg(3,k)}catch(p){wo(k,k.return,p)}try{Zd(5,k,k.return)}catch(p){wo(k,k.return,p)}}break;case 1:Ou(W,k),pf(k),me&512&&le!==null&&Bv(le,le.return);break;case 5:if(Ou(W,k),pf(k),me&512&&le!==null&&Bv(le,le.return),k.flags&32){var Oe=k.stateNode;try{qd(Oe,"")}catch(p){wo(k,k.return,p)}}if(me&4&&(Oe=k.stateNode,Oe!=null)){var Ze=k.memoizedProps,G=le!==null?le.memoizedProps:Ze,V=k.type,e=k.updateQueue;if(k.updateQueue=null,e!==null)try{V==="input"&&Ze.type==="radio"&&Ze.name!=null&&g3(Oe,Ze),am(V,G);var m=am(V,Ze);for(G=0;G<e.length;G+=2){var P=e[G],i=e[G+1];P==="style"?w3(Oe,i):P==="dangerouslySetInnerHTML"?x3(Oe,i):P==="children"?qd(Oe,i):t1(Oe,P,i,m)}switch(V){case"input":qy(Oe,Ze);break;case"textarea":y3(Oe,Ze);break;case"select":var L=Oe._wrapperState.wasMultiple;Oe._wrapperState.wasMultiple=!!Ze.multiple;var S=Ze.value;S!=null?Vv(Oe,!!Ze.multiple,S,!1):L!==!!Ze.multiple&&(Ze.defaultValue!=null?Vv(Oe,!!Ze.multiple,Ze.defaultValue,!0):Vv(Oe,!!Ze.multiple,Ze.multiple?[]:"",!1))}Oe[l0]=Ze}catch(p){wo(k,k.return,p)}}break;case 6:if(Ou(W,k),pf(k),me&4){if(k.stateNode===null)throw Error(ya(162));Oe=k.stateNode,Ze=k.memoizedProps;try{Oe.nodeValue=Ze}catch(p){wo(k,k.return,p)}}break;case 3:if(Ou(W,k),pf(k),me&4&&le!==null&&le.memoizedState.isDehydrated)try{n0(W.containerInfo)}catch(p){wo(k,k.return,p)}break;case 4:Ou(W,k),pf(k);break;case 13:Ou(W,k),pf(k),Oe=k.child,Oe.flags&8192&&(Ze=Oe.memoizedState!==null,Oe.stateNode.isHidden=Ze,!Ze||Oe.alternate!==null&&Oe.alternate.memoizedState!==null||(F1=Po())),me&4&&ub(k);break;case 22:if(P=le!==null&&le.memoizedState!==null,k.mode&1?(Ls=(m=Ls)||P,Ou(W,k),Ls=m):Ou(W,k),pf(k),me&8192){if(m=k.memoizedState!==null,(k.stateNode.isHidden=m)&&!P&&k.mode&1)for(ka=k,P=k.child;P!==null;){for(i=ka=P;ka!==null;){switch(L=ka,S=L.child,L.tag){case 0:case 11:case 14:case 15:Zd(4,L,L.return);break;case 1:Bv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){me=L,le=L.return;try{W=me,v.props=W.memoizedProps,v.state=W.memoizedState,v.componentWillUnmount()}catch(p){wo(me,le,p)}}break;case 5:Bv(L,L.return);break;case 22:if(L.memoizedState!==null){cb(i);continue}}S!==null?(S.return=L,ka=S):cb(i)}P=P.sibling}e:for(P=null,i=k;;){if(i.tag===5){if(P===null){P=i;try{Oe=i.stateNode,m?(Ze=Oe.style,typeof Ze.setProperty=="function"?Ze.setProperty("display","none","important"):Ze.display="none"):(V=i.stateNode,e=i.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=b3("display",G))}catch(p){wo(k,k.return,p)}}}else if(i.tag===6){if(P===null)try{i.stateNode.nodeValue=m?"":i.memoizedProps}catch(p){wo(k,k.return,p)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===k)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===k)break e;for(;i.sibling===null;){if(i.return===null||i.return===k)break e;P===i&&(P=null),i=i.return}P===i&&(P=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Ou(W,k),pf(k),me&4&&ub(k);break;case 21:break;default:Ou(W,k),pf(k)}}function pf(k){var W=k.flags;if(W&2){try{e:{for(var le=k.return;le!==null;){if(Xw(le)){var me=le;break e}le=le.return}throw Error(ya(160))}switch(me.tag){case 5:var Oe=me.stateNode;me.flags&32&&(qd(Oe,""),me.flags&=-33);var Ze=lb(k);Fm(k,Ze,Oe);break;case 3:case 4:var G=me.stateNode.containerInfo,V=lb(k);km(k,V,G);break;default:throw Error(ya(161))}}catch(e){wo(k,k.return,e)}k.flags&=-3}W&4096&&(k.flags&=-4097)}function uM(k,W,le){ka=k,Kw(k)}function Kw(k,W,le){for(var me=(k.mode&1)!==0;ka!==null;){var Oe=ka,Ze=Oe.child;if(Oe.tag===22&&me){var G=Oe.memoizedState!==null||hp;if(!G){var V=Oe.alternate,e=V!==null&&V.memoizedState!==null||Ls;V=hp;var m=Ls;if(hp=G,(Ls=e)&&!m)for(ka=Oe;ka!==null;)G=ka,e=G.child,G.tag===22&&G.memoizedState!==null?hb(Oe):e!==null?(e.return=G,ka=e):hb(Oe);for(;Ze!==null;)ka=Ze,Kw(Ze),Ze=Ze.sibling;ka=Oe,hp=V,Ls=m}fb(k)}else Oe.subtreeFlags&8772&&Ze!==null?(Ze.return=Oe,ka=Ze):fb(k)}}function fb(k){for(;ka!==null;){var W=ka;if(W.flags&8772){var le=W.alternate;try{if(W.flags&8772)switch(W.tag){case 0:case 11:case 15:Ls||bg(5,W);break;case 1:var me=W.stateNode;if(W.flags&4&&!Ls)if(le===null)me.componentDidMount();else{var Oe=W.elementType===W.type?le.memoizedProps:Bu(W.type,le.memoizedProps);me.componentDidUpdate(Oe,le.memoizedState,me.__reactInternalSnapshotBeforeUpdate)}var Ze=W.updateQueue;Ze!==null&&Z2(W,Ze,me);break;case 3:var G=W.updateQueue;if(G!==null){if(le=null,W.child!==null)switch(W.child.tag){case 5:le=W.child.stateNode;break;case 1:le=W.child.stateNode}Z2(W,G,le)}break;case 5:var V=W.stateNode;if(le===null&&W.flags&4){le=V;var e=W.memoizedProps;switch(W.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&le.focus();break;case"img":e.src&&(le.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(W.memoizedState===null){var m=W.alternate;if(m!==null){var P=m.memoizedState;if(P!==null){var i=P.dehydrated;i!==null&&n0(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ya(163))}Ls||W.flags&512&&Im(W)}catch(L){wo(W,W.return,L)}}if(W===k){ka=null;break}if(le=W.sibling,le!==null){le.return=W.return,ka=le;break}ka=W.return}}function cb(k){for(;ka!==null;){var W=ka;if(W===k){ka=null;break}var le=W.sibling;if(le!==null){le.return=W.return,ka=le;break}ka=W.return}}function hb(k){for(;ka!==null;){var W=ka;try{switch(W.tag){case 0:case 11:case 15:var le=W.return;try{bg(4,W)}catch(e){wo(W,le,e)}break;case 1:var me=W.stateNode;if(typeof me.componentDidMount=="function"){var Oe=W.return;try{me.componentDidMount()}catch(e){wo(W,Oe,e)}}var Ze=W.return;try{Im(W)}catch(e){wo(W,Ze,e)}break;case 5:var G=W.return;try{Im(W)}catch(e){wo(W,G,e)}}}catch(e){wo(W,W.return,e)}if(W===k){ka=null;break}var V=W.sibling;if(V!==null){V.return=W.return,ka=V;break}ka=W.return}}var fM=Math.ceil,Qp=nc.ReactCurrentDispatcher,I1=nc.ReactCurrentOwner,su=nc.ReactCurrentBatchConfig,Si=0,$o=null,zo=null,ds=0,Cl=0,Nv=uh(0),Wo=0,d0=null,Kh=0,wg=0,k1=0,Kd=null,ol=null,F1=0,ed=1/0,Zf=null,$p=!1,_m=null,nh=null,vp=!1,Kc=null,qp=0,Jd=0,zm=null,Mp=-1,Ep=0;function Gs(){return Si&6?Po():Mp!==-1?Mp:Mp=Po()}function ah(k){return k.mode&1?Si&2&&ds!==0?ds&-ds:jS.transition!==null?(Ep===0&&(Ep=k3()),Ep):(k=ki,k!==0||(k=window.event,k=k===void 0?16:U3(k.type)),k):1}function Gu(k,W,le,me){if(50<Jd)throw Jd=0,zm=null,Error(ya(185));y0(k,le,me),(!(Si&2)||k!==$o)&&(k===$o&&(!(Si&2)&&(wg|=le),Wo===4&&Xc(k,ds)),fl(k,me),le===1&&Si===0&&!(W.mode&1)&&(ed=Po()+500,yg&&fh()))}function fl(k,W){var le=k.callbackNode;j6(k,W);var me=zp(k,k===$o?ds:0);if(me===0)le!==null&&w2(le),k.callbackNode=null,k.callbackPriority=0;else if(W=me&-me,k.callbackPriority!==W){if(le!=null&&w2(le),W===1)k.tag===0?XS(vb.bind(null,k)):iw(vb.bind(null,k)),HS(function(){!(Si&6)&&fh()}),le=null;else{switch(F3(me)){case 1:le=o1;break;case 4:le=D3;break;case 16:le=_p;break;case 536870912:le=I3;break;default:le=_p}le=n4(le,Jw.bind(null,k))}k.callbackPriority=W,k.callbackNode=le}}function Jw(k,W){if(Mp=-1,Ep=0,Si&6)throw Error(ya(327));var le=k.callbackNode;if(Xv()&&k.callbackNode!==le)return null;var me=zp(k,k===$o?ds:0);if(me===0)return null;if(me&30||me&k.expiredLanes||W)W=eg(k,me);else{W=me;var Oe=Si;Si|=2;var Ze=$w();($o!==k||ds!==W)&&(Zf=null,ed=Po()+500,Wh(k,W));do try{vM();break}catch(V){Qw(k,V)}while(1);x1(),Qp.current=Ze,Si=Oe,zo!==null?W=0:($o=null,ds=0,W=Wo)}if(W!==0){if(W===2&&(Oe=um(k),Oe!==0&&(me=Oe,W=Om(k,Oe))),W===1)throw le=d0,Wh(k,0),Xc(k,me),fl(k,Po()),le;if(W===6)Xc(k,me);else{if(Oe=k.current.alternate,!(me&30)&&!cM(Oe)&&(W=eg(k,me),W===2&&(Ze=um(k),Ze!==0&&(me=Ze,W=Om(k,Ze))),W===1))throw le=d0,Wh(k,0),Xc(k,me),fl(k,Po()),le;switch(k.finishedWork=Oe,k.finishedLanes=me,W){case 0:case 1:throw Error(ya(345));case 2:Nh(k,ol,Zf);break;case 3:if(Xc(k,me),(me&130023424)===me&&(W=F1+500-Po(),10<W)){if(zp(k,0)!==0)break;if(Oe=k.suspendedLanes,(Oe&me)!==me){Gs(),k.pingedLanes|=k.suspendedLanes&Oe;break}k.timeoutHandle=ym(Nh.bind(null,k,ol,Zf),W);break}Nh(k,ol,Zf);break;case 4:if(Xc(k,me),(me&4194240)===me)break;for(W=k.eventTimes,Oe=-1;0<me;){var G=31-Hu(me);Ze=1<<G,G=W[G],G>Oe&&(Oe=G),me&=~Ze}if(me=Oe,me=Po()-me,me=(120>me?120:480>me?480:1080>me?1080:1920>me?1920:3e3>me?3e3:4320>me?4320:1960*fM(me/1960))-me,10<me){k.timeoutHandle=ym(Nh.bind(null,k,ol,Zf),me);break}Nh(k,ol,Zf);break;case 5:Nh(k,ol,Zf);break;default:throw Error(ya(329))}}}return fl(k,Po()),k.callbackNode===le?Jw.bind(null,k):null}function Om(k,W){var le=Kd;return k.current.memoizedState.isDehydrated&&(Wh(k,W).flags|=256),k=eg(k,W),k!==2&&(W=ol,ol=le,W!==null&&Bm(W)),k}function Bm(k){ol===null?ol=k:ol.push.apply(ol,k)}function cM(k){for(var W=k;;){if(W.flags&16384){var le=W.updateQueue;if(le!==null&&(le=le.stores,le!==null))for(var me=0;me<le.length;me++){var Oe=le[me],Ze=Oe.getSnapshot;Oe=Oe.value;try{if(!Xu(Ze(),Oe))return!1}catch{return!1}}}if(le=W.child,W.subtreeFlags&16384&&le!==null)le.return=W,W=le;else{if(W===k)break;for(;W.sibling===null;){if(W.return===null||W.return===k)return!0;W=W.return}W.sibling.return=W.return,W=W.sibling}}return!0}function Xc(k,W){for(W&=~k1,W&=~wg,k.suspendedLanes|=W,k.pingedLanes&=~W,k=k.expirationTimes;0<W;){var le=31-Hu(W),me=1<<le;k[le]=-1,W&=~me}}function vb(k){if(Si&6)throw Error(ya(327));Xv();var W=zp(k,0);if(!(W&1))return fl(k,Po()),null;var le=eg(k,W);if(k.tag!==0&&le===2){var me=um(k);me!==0&&(W=me,le=Om(k,me))}if(le===1)throw le=d0,Wh(k,0),Xc(k,W),fl(k,Po()),le;if(le===6)throw Error(ya(345));return k.finishedWork=k.current.alternate,k.finishedLanes=W,Nh(k,ol,Zf),fl(k,Po()),null}function _1(k,W){var le=Si;Si|=1;try{return k(W)}finally{Si=le,Si===0&&(ed=Po()+500,yg&&fh())}}function Jh(k){Kc!==null&&Kc.tag===0&&!(Si&6)&&Xv();var W=Si;Si|=1;var le=su.transition,me=ki;try{if(su.transition=null,ki=1,k)return k()}finally{ki=me,su.transition=le,Si=W,!(Si&6)&&fh()}}function z1(){Cl=Nv.current,Ji(Nv)}function Wh(k,W){k.finishedWork=null,k.finishedLanes=0;var le=k.timeoutHandle;if(le!==-1&&(k.timeoutHandle=-1,VS(le)),zo!==null)for(le=zo.return;le!==null;){var me=le;switch(g1(me),me.tag){case 1:me=me.type.childContextTypes,me!=null&&Vp();break;case 3:$v(),Ji(ll),Ji(Ps),M1();break;case 5:S1(me);break;case 4:$v();break;case 13:Ji(vo);break;case 19:Ji(vo);break;case 10:b1(me.type._context);break;case 22:case 23:z1()}le=le.return}if($o=k,zo=k=ih(k.current,null),ds=Cl=W,Wo=0,d0=null,k1=wg=Kh=0,ol=Kd=null,Vh!==null){for(W=0;W<Vh.length;W++)if(le=Vh[W],me=le.interleaved,me!==null){le.interleaved=null;var Oe=me.next,Ze=le.pending;if(Ze!==null){var G=Ze.next;Ze.next=Oe,me.next=G}le.pending=me}Vh=null}return k}function Qw(k,W){do{var le=zo;try{if(x1(),Tp.current=Jp,Kp){for(var me=po.memoizedState;me!==null;){var Oe=me.queue;Oe!==null&&(Oe.pending=null),me=me.next}Kp=!1}if(Zh=0,Qo=Go=po=null,jd=!1,c0=0,I1.current=null,le===null||le.return===null){Wo=1,d0=W,zo=null;break}e:{var Ze=k,G=le.return,V=le,e=W;if(W=ds,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var m=e,P=V,i=P.tag;if(!(P.mode&1)&&(i===0||i===11||i===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var S=eb(G);if(S!==null){S.flags&=-257,tb(S,G,V,Ze,W),S.mode&1&&q2(Ze,m,W),W=S,e=m;var v=W.updateQueue;if(v===null){var p=new Set;p.add(e),W.updateQueue=p}else v.add(e);break e}else{if(!(W&1)){q2(Ze,m,W),O1();break e}e=Error(ya(426))}}else if(ro&&V.mode&1){var r=eb(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),tb(r,G,V,Ze,W),y1(qv(e,V));break e}}Ze=e=qv(e,V),Wo!==4&&(Wo=2),Kd===null?Kd=[Ze]:Kd.push(Ze),Ze=G;do{switch(Ze.tag){case 3:Ze.flags|=65536,W&=-W,Ze.lanes|=W;var t=Fw(Ze,e,W);j2(Ze,t);break e;case 1:V=e;var a=Ze.type,n=Ze.stateNode;if(!(Ze.flags&128)&&(typeof a.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(nh===null||!nh.has(n)))){Ze.flags|=65536,W&=-W,Ze.lanes|=W;var f=_w(Ze,V,W);j2(Ze,f);break e}}Ze=Ze.return}while(Ze!==null)}e4(le)}catch(l){W=l,zo===le&&le!==null&&(zo=le=le.return);continue}break}while(1)}function $w(){var k=Qp.current;return Qp.current=Jp,k===null?Jp:k}function O1(){(Wo===0||Wo===3||Wo===2)&&(Wo=4),$o===null||!(Kh&268435455)&&!(wg&268435455)||Xc($o,ds)}function eg(k,W){var le=Si;Si|=2;var me=$w();($o!==k||ds!==W)&&(Zf=null,Wh(k,W));do try{hM();break}catch(Oe){Qw(k,Oe)}while(1);if(x1(),Si=le,Qp.current=me,zo!==null)throw Error(ya(261));return $o=null,ds=0,Wo}function hM(){for(;zo!==null;)qw(zo)}function vM(){for(;zo!==null&&!B6();)qw(zo)}function qw(k){var W=r4(k.alternate,k,Cl);k.memoizedProps=k.pendingProps,W===null?e4(k):zo=W,I1.current=null}function e4(k){var W=k;do{var le=W.alternate;if(k=W.return,W.flags&32768){if(le=oM(le,W),le!==null){le.flags&=32767,zo=le;return}if(k!==null)k.flags|=32768,k.subtreeFlags=0,k.deletions=null;else{Wo=6,zo=null;return}}else if(le=iM(le,W,Cl),le!==null){zo=le;return}if(W=W.sibling,W!==null){zo=W;return}zo=W=k}while(W!==null);Wo===0&&(Wo=5)}function Nh(k,W,le){var me=ki,Oe=su.transition;try{su.transition=null,ki=1,dM(k,W,le,me)}finally{su.transition=Oe,ki=me}return null}function dM(k,W,le,me){do Xv();while(Kc!==null);if(Si&6)throw Error(ya(327));le=k.finishedWork;var Oe=k.finishedLanes;if(le===null)return null;if(k.finishedWork=null,k.finishedLanes=0,le===k.current)throw Error(ya(177));k.callbackNode=null,k.callbackPriority=0;var Ze=le.lanes|le.childLanes;if(Z6(k,Ze),k===$o&&(zo=$o=null,ds=0),!(le.subtreeFlags&2064)&&!(le.flags&2064)||vp||(vp=!0,n4(_p,function(){return Xv(),null})),Ze=(le.flags&15990)!==0,le.subtreeFlags&15990||Ze){Ze=su.transition,su.transition=null;var G=ki;ki=1;var V=Si;Si|=4,I1.current=null,lM(k,le),Zw(le,k),FS(pm),Op=!!dm,pm=dm=null,k.current=le,uM(le),N6(),Si=V,ki=G,su.transition=Ze}else k.current=le;if(vp&&(vp=!1,Kc=k,qp=Oe),Ze=k.pendingLanes,Ze===0&&(nh=null),H6(le.stateNode),fl(k,Po()),W!==null)for(me=k.onRecoverableError,le=0;le<W.length;le++)Oe=W[le],me(Oe.value,{componentStack:Oe.stack,digest:Oe.digest});if($p)throw $p=!1,k=_m,_m=null,k;return qp&1&&k.tag!==0&&Xv(),Ze=k.pendingLanes,Ze&1?k===zm?Jd++:(Jd=0,zm=k):Jd=0,fh(),null}function Xv(){if(Kc!==null){var k=F3(qp),W=su.transition,le=ki;try{if(su.transition=null,ki=16>k?16:k,Kc===null)var me=!1;else{if(k=Kc,Kc=null,qp=0,Si&6)throw Error(ya(331));var Oe=Si;for(Si|=4,ka=k.current;ka!==null;){var Ze=ka,G=Ze.child;if(ka.flags&16){var V=Ze.deletions;if(V!==null){for(var e=0;e<V.length;e++){var m=V[e];for(ka=m;ka!==null;){var P=ka;switch(P.tag){case 0:case 11:case 15:Zd(8,P,Ze)}var i=P.child;if(i!==null)i.return=P,ka=i;else for(;ka!==null;){P=ka;var L=P.sibling,S=P.return;if(Yw(P),P===m){ka=null;break}if(L!==null){L.return=S,ka=L;break}ka=S}}}var v=Ze.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}ka=Ze}}if(Ze.subtreeFlags&2064&&G!==null)G.return=Ze,ka=G;else e:for(;ka!==null;){if(Ze=ka,Ze.flags&2048)switch(Ze.tag){case 0:case 11:case 15:Zd(9,Ze,Ze.return)}var t=Ze.sibling;if(t!==null){t.return=Ze.return,ka=t;break e}ka=Ze.return}}var a=k.current;for(ka=a;ka!==null;){G=ka;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,ka=n;else e:for(G=a;ka!==null;){if(V=ka,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:bg(9,V)}}catch(l){wo(V,V.return,l)}if(V===G){ka=null;break e}var f=V.sibling;if(f!==null){f.return=V.return,ka=f;break e}ka=V.return}}if(Si=Oe,fh(),xf&&typeof xf.onPostCommitFiberRoot=="function")try{xf.onPostCommitFiberRoot(hg,k)}catch{}me=!0}return me}finally{ki=le,su.transition=W}}return!1}function db(k,W,le){W=qv(le,W),W=Fw(k,W,1),k=rh(k,W,1),W=Gs(),k!==null&&(y0(k,1,W),fl(k,W))}function wo(k,W,le){if(k.tag===3)db(k,k,le);else for(;W!==null;){if(W.tag===3){db(W,k,le);break}else if(W.tag===1){var me=W.stateNode;if(typeof W.type.getDerivedStateFromError=="function"||typeof me.componentDidCatch=="function"&&(nh===null||!nh.has(me))){k=qv(le,k),k=_w(W,k,1),W=rh(W,k,1),k=Gs(),W!==null&&(y0(W,1,k),fl(W,k));break}}W=W.return}}function pM(k,W,le){var me=k.pingCache;me!==null&&me.delete(W),W=Gs(),k.pingedLanes|=k.suspendedLanes&le,$o===k&&(ds&le)===le&&(Wo===4||Wo===3&&(ds&130023424)===ds&&500>Po()-F1?Wh(k,0):k1|=le),fl(k,W)}function t4(k,W){W===0&&(k.mode&1?(W=np,np<<=1,!(np&130023424)&&(np=4194304)):W=1);var le=Gs();k=tc(k,W),k!==null&&(y0(k,W,le),fl(k,le))}function gM(k){var W=k.memoizedState,le=0;W!==null&&(le=W.retryLane),t4(k,le)}function yM(k,W){var le=0;switch(k.tag){case 13:var me=k.stateNode,Oe=k.memoizedState;Oe!==null&&(le=Oe.retryLane);break;case 19:me=k.stateNode;break;default:throw Error(ya(314))}me!==null&&me.delete(W),t4(k,le)}var r4;r4=function(k,W,le){if(k!==null)if(k.memoizedProps!==W.pendingProps||ll.current)sl=!0;else{if(!(k.lanes&le)&&!(W.flags&128))return sl=!1,aM(k,W,le);sl=!!(k.flags&131072)}else sl=!1,ro&&W.flags&1048576&&ow(W,Wp,W.index);switch(W.lanes=0,W.tag){case 2:var me=W.type;Sp(k,W),k=W.pendingProps;var Oe=Kv(W,Ps.current);Yv(W,le),Oe=C1(null,W,me,k,Oe,le);var Ze=L1();return W.flags|=1,typeof Oe=="object"&&Oe!==null&&typeof Oe.render=="function"&&Oe.$$typeof===void 0?(W.tag=1,W.memoizedState=null,W.updateQueue=null,ul(me)?(Ze=!0,Hp(W)):Ze=!1,W.memoizedState=Oe.state!==null&&Oe.state!==void 0?Oe.state:null,T1(W),Oe.updater=xg,W.stateNode=Oe,Oe._reactInternals=W,Sm(W,me,k,le),W=Cm(null,W,me,!0,Ze,le)):(W.tag=0,ro&&Ze&&p1(W),Vs(null,W,Oe,le),W=W.child),W;case 16:me=W.elementType;e:{switch(Sp(k,W),k=W.pendingProps,Oe=me._init,me=Oe(me._payload),W.type=me,Oe=W.tag=xM(me),k=Bu(me,k),Oe){case 0:W=Em(null,W,me,k,le);break e;case 1:W=ab(null,W,me,k,le);break e;case 11:W=rb(null,W,me,k,le);break e;case 14:W=nb(null,W,me,Bu(me.type,k),le);break e}throw Error(ya(306,me,""))}return W;case 0:return me=W.type,Oe=W.pendingProps,Oe=W.elementType===me?Oe:Bu(me,Oe),Em(k,W,me,Oe,le);case 1:return me=W.type,Oe=W.pendingProps,Oe=W.elementType===me?Oe:Bu(me,Oe),ab(k,W,me,Oe,le);case 3:e:{if(Nw(W),k===null)throw Error(ya(387));me=W.pendingProps,Ze=W.memoizedState,Oe=Ze.element,hw(k,W),jp(W,me,null,le);var G=W.memoizedState;if(me=G.element,Ze.isDehydrated)if(Ze={element:me,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},W.updateQueue.baseState=Ze,W.memoizedState=Ze,W.flags&256){Oe=qv(Error(ya(423)),W),W=ib(k,W,me,le,Oe);break e}else if(me!==Oe){Oe=qv(Error(ya(424)),W),W=ib(k,W,me,le,Oe);break e}else for(Ll=th(W.stateNode.containerInfo.firstChild),Pl=W,ro=!0,Uu=null,le=fw(W,null,me,le),W.child=le;le;)le.flags=le.flags&-3|4096,le=le.sibling;else{if(Jv(),me===Oe){W=rc(k,W,le);break e}Vs(k,W,me,le)}W=W.child}return W;case 5:return vw(W),k===null&&wm(W),me=W.type,Oe=W.pendingProps,Ze=k!==null?k.memoizedProps:null,G=Oe.children,gm(me,Oe)?G=null:Ze!==null&&gm(me,Ze)&&(W.flags|=32),Bw(k,W),Vs(k,W,G,le),W.child;case 6:return k===null&&wm(W),null;case 13:return Uw(k,W,le);case 4:return A1(W,W.stateNode.containerInfo),me=W.pendingProps,k===null?W.child=Qv(W,null,me,le):Vs(k,W,me,le),W.child;case 11:return me=W.type,Oe=W.pendingProps,Oe=W.elementType===me?Oe:Bu(me,Oe),rb(k,W,me,Oe,le);case 7:return Vs(k,W,W.pendingProps,le),W.child;case 8:return Vs(k,W,W.pendingProps.children,le),W.child;case 12:return Vs(k,W,W.pendingProps.children,le),W.child;case 10:e:{if(me=W.type._context,Oe=W.pendingProps,Ze=W.memoizedProps,G=Oe.value,Hi(Yp,me._currentValue),me._currentValue=G,Ze!==null)if(Xu(Ze.value,G)){if(Ze.children===Oe.children&&!ll.current){W=rc(k,W,le);break e}}else for(Ze=W.child,Ze!==null&&(Ze.return=W);Ze!==null;){var V=Ze.dependencies;if(V!==null){G=Ze.child;for(var e=V.firstContext;e!==null;){if(e.context===me){if(Ze.tag===1){e=$f(-1,le&-le),e.tag=2;var m=Ze.updateQueue;if(m!==null){m=m.shared;var P=m.pending;P===null?e.next=e:(e.next=P.next,P.next=e),m.pending=e}}Ze.lanes|=le,e=Ze.alternate,e!==null&&(e.lanes|=le),Tm(Ze.return,le,W),V.lanes|=le;break}e=e.next}}else if(Ze.tag===10)G=Ze.type===W.type?null:Ze.child;else if(Ze.tag===18){if(G=Ze.return,G===null)throw Error(ya(341));G.lanes|=le,V=G.alternate,V!==null&&(V.lanes|=le),Tm(G,le,W),G=Ze.sibling}else G=Ze.child;if(G!==null)G.return=Ze;else for(G=Ze;G!==null;){if(G===W){G=null;break}if(Ze=G.sibling,Ze!==null){Ze.return=G.return,G=Ze;break}G=G.return}Ze=G}Vs(k,W,Oe.children,le),W=W.child}return W;case 9:return Oe=W.type,me=W.pendingProps.children,Yv(W,le),Oe=uu(Oe),me=me(Oe),W.flags|=1,Vs(k,W,me,le),W.child;case 14:return me=W.type,Oe=Bu(me,W.pendingProps),Oe=Bu(me.type,Oe),nb(k,W,me,Oe,le);case 15:return zw(k,W,W.type,W.pendingProps,le);case 17:return me=W.type,Oe=W.pendingProps,Oe=W.elementType===me?Oe:Bu(me,Oe),Sp(k,W),W.tag=1,ul(me)?(k=!0,Hp(W)):k=!1,Yv(W,le),kw(W,me,Oe),Sm(W,me,Oe,le),Cm(null,W,me,!0,k,le);case 19:return Vw(k,W,le);case 22:return Ow(k,W,le)}throw Error(ya(156,W.tag))};function n4(k,W){return R3(k,W)}function mM(k,W,le,me){this.tag=k,this.key=le,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=W,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=me,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ou(k,W,le,me){return new mM(k,W,le,me)}function B1(k){return k=k.prototype,!(!k||!k.isReactComponent)}function xM(k){if(typeof k=="function")return B1(k)?1:0;if(k!=null){if(k=k.$$typeof,k===n1)return 11;if(k===a1)return 14}return 2}function ih(k,W){var le=k.alternate;return le===null?(le=ou(k.tag,W,k.key,k.mode),le.elementType=k.elementType,le.type=k.type,le.stateNode=k.stateNode,le.alternate=k,k.alternate=le):(le.pendingProps=W,le.type=k.type,le.flags=0,le.subtreeFlags=0,le.deletions=null),le.flags=k.flags&14680064,le.childLanes=k.childLanes,le.lanes=k.lanes,le.child=k.child,le.memoizedProps=k.memoizedProps,le.memoizedState=k.memoizedState,le.updateQueue=k.updateQueue,W=k.dependencies,le.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext},le.sibling=k.sibling,le.index=k.index,le.ref=k.ref,le}function Cp(k,W,le,me,Oe,Ze){var G=2;if(me=k,typeof k=="function")B1(k)&&(G=1);else if(typeof k=="string")G=5;else e:switch(k){case Pv:return Yh(le.children,Oe,Ze,W);case r1:G=8,Oe|=8;break;case Zy:return k=ou(12,le,W,Oe|2),k.elementType=Zy,k.lanes=Ze,k;case Ky:return k=ou(13,le,W,Oe),k.elementType=Ky,k.lanes=Ze,k;case Jy:return k=ou(19,le,W,Oe),k.elementType=Jy,k.lanes=Ze,k;case v3:return Tg(le,Oe,Ze,W);default:if(typeof k=="object"&&k!==null)switch(k.$$typeof){case c3:G=10;break e;case h3:G=9;break e;case n1:G=11;break e;case a1:G=14;break e;case Gc:G=16,me=null;break e}throw Error(ya(130,k==null?k:typeof k,""))}return W=ou(G,le,W,Oe),W.elementType=k,W.type=me,W.lanes=Ze,W}function Yh(k,W,le,me){return k=ou(7,k,me,W),k.lanes=le,k}function Tg(k,W,le,me){return k=ou(22,k,me,W),k.elementType=v3,k.lanes=le,k.stateNode={isHidden:!1},k}function zy(k,W,le){return k=ou(6,k,null,W),k.lanes=le,k}function Oy(k,W,le){return W=ou(4,k.children!==null?k.children:[],k.key,W),W.lanes=le,W.stateNode={containerInfo:k.containerInfo,pendingChildren:null,implementation:k.implementation},W}function bM(k,W,le,me,Oe){this.tag=W,this.containerInfo=k,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yy(0),this.expirationTimes=yy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yy(0),this.identifierPrefix=me,this.onRecoverableError=Oe,this.mutableSourceEagerHydrationData=null}function N1(k,W,le,me,Oe,Ze,G,V,e){return k=new bM(k,W,le,V,e),W===1?(W=1,Ze===!0&&(W|=8)):W=0,Ze=ou(3,null,null,W),k.current=Ze,Ze.stateNode=k,Ze.memoizedState={element:me,isDehydrated:le,cache:null,transitions:null,pendingSuspenseBoundaries:null},T1(Ze),k}function wM(k,W,le){var me=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lv,key:me==null?null:""+me,children:k,containerInfo:W,implementation:le}}function a4(k){if(!k)return sh;k=k._reactInternals;e:{if(qh(k)!==k||k.tag!==1)throw Error(ya(170));var W=k;do{switch(W.tag){case 3:W=W.stateNode.context;break e;case 1:if(ul(W.type)){W=W.stateNode.__reactInternalMemoizedMergedChildContext;break e}}W=W.return}while(W!==null);throw Error(ya(171))}if(k.tag===1){var le=k.type;if(ul(le))return aw(k,le,W)}return W}function i4(k,W,le,me,Oe,Ze,G,V,e){return k=N1(le,me,!0,k,Oe,Ze,G,V,e),k.context=a4(null),le=k.current,me=Gs(),Oe=ah(le),Ze=$f(me,Oe),Ze.callback=W??null,rh(le,Ze,Oe),k.current.lanes=Oe,y0(k,Oe,me),fl(k,me),k}function Ag(k,W,le,me){var Oe=W.current,Ze=Gs(),G=ah(Oe);return le=a4(le),W.context===null?W.context=le:W.pendingContext=le,W=$f(Ze,G),W.payload={element:k},me=me===void 0?null:me,me!==null&&(W.callback=me),k=rh(Oe,W,G),k!==null&&(Gu(k,Oe,G,Ze),wp(k,Oe,G)),G}function tg(k){if(k=k.current,!k.child)return null;switch(k.child.tag){case 5:return k.child.stateNode;default:return k.child.stateNode}}function pb(k,W){if(k=k.memoizedState,k!==null&&k.dehydrated!==null){var le=k.retryLane;k.retryLane=le!==0&&le<W?le:W}}function U1(k,W){pb(k,W),(k=k.alternate)&&pb(k,W)}function TM(){return null}var o4=typeof reportError=="function"?reportError:function(k){console.error(k)};function V1(k){this._internalRoot=k}Sg.prototype.render=V1.prototype.render=function(k){var W=this._internalRoot;if(W===null)throw Error(ya(409));Ag(k,W,null,null)};Sg.prototype.unmount=V1.prototype.unmount=function(){var k=this._internalRoot;if(k!==null){this._internalRoot=null;var W=k.containerInfo;Jh(function(){Ag(null,k,null,null)}),W[ec]=null}};function Sg(k){this._internalRoot=k}Sg.prototype.unstable_scheduleHydration=function(k){if(k){var W=O3();k={blockedOn:null,target:k,priority:W};for(var le=0;le<Yc.length&&W!==0&&W<Yc[le].priority;le++);Yc.splice(le,0,k),le===0&&N3(k)}};function H1(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11)}function Mg(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11&&(k.nodeType!==8||k.nodeValue!==" react-mount-point-unstable "))}function gb(){}function AM(k,W,le,me,Oe){if(Oe){if(typeof me=="function"){var Ze=me;me=function(){var m=tg(G);Ze.call(m)}}var G=i4(W,me,k,0,null,!1,!1,"",gb);return k._reactRootContainer=G,k[ec]=G.current,o0(k.nodeType===8?k.parentNode:k),Jh(),G}for(;Oe=k.lastChild;)k.removeChild(Oe);if(typeof me=="function"){var V=me;me=function(){var m=tg(e);V.call(m)}}var e=N1(k,0,!1,null,null,!1,!1,"",gb);return k._reactRootContainer=e,k[ec]=e.current,o0(k.nodeType===8?k.parentNode:k),Jh(function(){Ag(W,e,le,me)}),e}function Eg(k,W,le,me,Oe){var Ze=le._reactRootContainer;if(Ze){var G=Ze;if(typeof Oe=="function"){var V=Oe;Oe=function(){var e=tg(G);V.call(e)}}Ag(W,G,k,Oe)}else G=AM(le,W,k,Oe,me);return tg(G)}_3=function(k){switch(k.tag){case 3:var W=k.stateNode;if(W.current.memoizedState.isDehydrated){var le=Ud(W.pendingLanes);le!==0&&(s1(W,le|1),fl(W,Po()),!(Si&6)&&(ed=Po()+500,fh()))}break;case 13:Jh(function(){var me=tc(k,1);if(me!==null){var Oe=Gs();Gu(me,k,1,Oe)}}),U1(k,1)}};l1=function(k){if(k.tag===13){var W=tc(k,134217728);if(W!==null){var le=Gs();Gu(W,k,134217728,le)}U1(k,134217728)}};z3=function(k){if(k.tag===13){var W=ah(k),le=tc(k,W);if(le!==null){var me=Gs();Gu(le,k,W,me)}U1(k,W)}};O3=function(){return ki};B3=function(k,W){var le=ki;try{return ki=k,W()}finally{ki=le}};om=function(k,W,le){switch(W){case"input":if(qy(k,le),W=le.name,le.type==="radio"&&W!=null){for(le=k;le.parentNode;)le=le.parentNode;for(le=le.querySelectorAll("input[name="+JSON.stringify(""+W)+'][type="radio"]'),W=0;W<le.length;W++){var me=le[W];if(me!==k&&me.form===k.form){var Oe=gg(me);if(!Oe)throw Error(ya(90));p3(me),qy(me,Oe)}}}break;case"textarea":y3(k,le);break;case"select":W=le.value,W!=null&&Vv(k,!!le.multiple,W,!1)}};S3=_1;M3=Jh;var SM={usingClientEntryPoint:!1,Events:[x0,kv,gg,T3,A3,_1]},_d={findFiberByHostInstance:Uh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MM={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nc.ReactCurrentDispatcher,findHostInstanceByFiber:function(k){return k=L3(k),k===null?null:k.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||TM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{hg=dp.inject(MM),xf=dp}catch{}}Dl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SM;Dl.createPortal=function(k,W){var le=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H1(W))throw Error(ya(200));return wM(k,W,null,le)};Dl.createRoot=function(k,W){if(!H1(k))throw Error(ya(299));var le=!1,me="",Oe=o4;return W!=null&&(W.unstable_strictMode===!0&&(le=!0),W.identifierPrefix!==void 0&&(me=W.identifierPrefix),W.onRecoverableError!==void 0&&(Oe=W.onRecoverableError)),W=N1(k,1,!1,null,null,le,!1,me,Oe),k[ec]=W.current,o0(k.nodeType===8?k.parentNode:k),new V1(W)};Dl.findDOMNode=function(k){if(k==null)return null;if(k.nodeType===1)return k;var W=k._reactInternals;if(W===void 0)throw typeof k.render=="function"?Error(ya(188)):(k=Object.keys(k).join(","),Error(ya(268,k)));return k=L3(W),k=k===null?null:k.stateNode,k};Dl.flushSync=function(k){return Jh(k)};Dl.hydrate=function(k,W,le){if(!Mg(W))throw Error(ya(200));return Eg(null,k,W,!0,le)};Dl.hydrateRoot=function(k,W,le){if(!H1(k))throw Error(ya(405));var me=le!=null&&le.hydratedSources||null,Oe=!1,Ze="",G=o4;if(le!=null&&(le.unstable_strictMode===!0&&(Oe=!0),le.identifierPrefix!==void 0&&(Ze=le.identifierPrefix),le.onRecoverableError!==void 0&&(G=le.onRecoverableError)),W=i4(W,null,k,1,le??null,Oe,!1,Ze,G),k[ec]=W.current,o0(k),me)for(k=0;k<me.length;k++)le=me[k],Oe=le._getVersion,Oe=Oe(le._source),W.mutableSourceEagerHydrationData==null?W.mutableSourceEagerHydrationData=[le,Oe]:W.mutableSourceEagerHydrationData.push(le,Oe);return new Sg(W)};Dl.render=function(k,W,le){if(!Mg(W))throw Error(ya(200));return Eg(null,k,W,!1,le)};Dl.unmountComponentAtNode=function(k){if(!Mg(k))throw Error(ya(40));return k._reactRootContainer?(Jh(function(){Eg(null,null,k,!1,function(){k._reactRootContainer=null,k[ec]=null})}),!0):!1};Dl.unstable_batchedUpdates=_1;Dl.unstable_renderSubtreeIntoContainer=function(k,W,le,me){if(!Mg(le))throw Error(ya(200));if(k==null||k._reactInternals===void 0)throw Error(ya(38));return Eg(k,W,le,!1,me)};Dl.version="18.3.1-next-f1338f8080-20240426";function s4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s4)}catch(k){console.error(k)}}s4(),s3.exports=Dl;var EM=s3.exports,yb=EM;Xy.createRoot=yb.createRoot,Xy.hydrateRoot=yb.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(k){for(var W=1;W<arguments.length;W++){var le=arguments[W];for(var me in le)Object.prototype.hasOwnProperty.call(le,me)&&(k[me]=le[me])}return k},rg.apply(this,arguments)}var Jc;(function(k){k.Pop="POP",k.Push="PUSH",k.Replace="REPLACE"})(Jc||(Jc={}));const mb="popstate";function CM(k){k===void 0&&(k={});function W(me,Oe){let{pathname:Ze,search:G,hash:V}=me.location;return Nm("",{pathname:Ze,search:G,hash:V},Oe.state&&Oe.state.usr||null,Oe.state&&Oe.state.key||"default")}function le(me,Oe){return typeof Oe=="string"?Oe:u4(Oe)}return PM(W,le,null,k)}function cl(k,W){if(k===!1||k===null||typeof k>"u")throw new Error(W)}function l4(k,W){if(!k){typeof console<"u"&&console.warn(W);try{throw new Error(W)}catch{}}}function LM(){return Math.random().toString(36).substr(2,8)}function xb(k,W){return{usr:k.state,key:k.key,idx:W}}function Nm(k,W,le,me){return le===void 0&&(le=null),rg({pathname:typeof k=="string"?k:k.pathname,search:"",hash:""},typeof W=="string"?Cg(W):W,{state:le,key:W&&W.key||me||LM()})}function u4(k){let{pathname:W="/",search:le="",hash:me=""}=k;return le&&le!=="?"&&(W+=le.charAt(0)==="?"?le:"?"+le),me&&me!=="#"&&(W+=me.charAt(0)==="#"?me:"#"+me),W}function Cg(k){let W={};if(k){let le=k.indexOf("#");le>=0&&(W.hash=k.substr(le),k=k.substr(0,le));let me=k.indexOf("?");me>=0&&(W.search=k.substr(me),k=k.substr(0,me)),k&&(W.pathname=k)}return W}function PM(k,W,le,me){me===void 0&&(me={});let{window:Oe=document.defaultView,v5Compat:Ze=!1}=me,G=Oe.history,V=Jc.Pop,e=null,m=P();m==null&&(m=0,G.replaceState(rg({},G.state,{idx:m}),""));function P(){return(G.state||{idx:null}).idx}function i(){V=Jc.Pop;let r=P(),t=r==null?null:r-m;m=r,e&&e({action:V,location:p.location,delta:t})}function L(r,t){V=Jc.Push;let a=Nm(p.location,r,t);le&&le(a,r),m=P()+1;let n=xb(a,m),f=p.createHref(a);try{G.pushState(n,"",f)}catch(l){if(l instanceof DOMException&&l.name==="DataCloneError")throw l;Oe.location.assign(f)}Ze&&e&&e({action:V,location:p.location,delta:1})}function S(r,t){V=Jc.Replace;let a=Nm(p.location,r,t);le&&le(a,r),m=P();let n=xb(a,m),f=p.createHref(a);G.replaceState(n,"",f),Ze&&e&&e({action:V,location:p.location,delta:0})}function v(r){let t=Oe.location.origin!=="null"?Oe.location.origin:Oe.location.href,a=typeof r=="string"?r:u4(r);return a=a.replace(/ $/,"%20"),cl(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}let p={get action(){return V},get location(){return k(Oe,G)},listen(r){if(e)throw new Error("A history only accepts one active listener");return Oe.addEventListener(mb,i),e=r,()=>{Oe.removeEventListener(mb,i),e=null}},createHref(r){return W(Oe,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:L,replace:S,go(r){return G.go(r)}};return p}var bb;(function(k){k.data="data",k.deferred="deferred",k.redirect="redirect",k.error="error"})(bb||(bb={}));function RM(k,W,le){le===void 0&&(le="/");let me=typeof W=="string"?Cg(W):W,Oe=h4(me.pathname||"/",le);if(Oe==null)return null;let Ze=f4(k);DM(Ze);let G=null;for(let V=0;G==null&&V<Ze.length;++V){let e=GM(Oe);G=UM(Ze[V],e)}return G}function f4(k,W,le,me){W===void 0&&(W=[]),le===void 0&&(le=[]),me===void 0&&(me="");let Oe=(Ze,G,V)=>{let e={relativePath:V===void 0?Ze.path||"":V,caseSensitive:Ze.caseSensitive===!0,childrenIndex:G,route:Ze};e.relativePath.startsWith("/")&&(cl(e.relativePath.startsWith(me),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+me+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(me.length));let m=jv([me,e.relativePath]),P=le.concat(e);Ze.children&&Ze.children.length>0&&(cl(Ze.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),f4(Ze.children,W,P,m)),!(Ze.path==null&&!Ze.index)&&W.push({path:m,score:BM(m,Ze.index),routesMeta:P})};return k.forEach((Ze,G)=>{var V;if(Ze.path===""||!((V=Ze.path)!=null&&V.includes("?")))Oe(Ze,G);else for(let e of c4(Ze.path))Oe(Ze,G,e)}),W}function c4(k){let W=k.split("/");if(W.length===0)return[];let[le,...me]=W,Oe=le.endsWith("?"),Ze=le.replace(/\?$/,"");if(me.length===0)return Oe?[Ze,""]:[Ze];let G=c4(me.join("/")),V=[];return V.push(...G.map(e=>e===""?Ze:[Ze,e].join("/"))),Oe&&V.push(...G),V.map(e=>k.startsWith("/")&&e===""?"/":e)}function DM(k){k.sort((W,le)=>W.score!==le.score?le.score-W.score:NM(W.routesMeta.map(me=>me.childrenIndex),le.routesMeta.map(me=>me.childrenIndex)))}const IM=/^:[\w-]+$/,kM=3,FM=2,_M=1,zM=10,OM=-2,wb=k=>k==="*";function BM(k,W){let le=k.split("/"),me=le.length;return le.some(wb)&&(me+=OM),W&&(me+=FM),le.filter(Oe=>!wb(Oe)).reduce((Oe,Ze)=>Oe+(IM.test(Ze)?kM:Ze===""?_M:zM),me)}function NM(k,W){return k.length===W.length&&k.slice(0,-1).every((me,Oe)=>me===W[Oe])?k[k.length-1]-W[W.length-1]:0}function UM(k,W){let{routesMeta:le}=k,me={},Oe="/",Ze=[];for(let G=0;G<le.length;++G){let V=le[G],e=G===le.length-1,m=Oe==="/"?W:W.slice(Oe.length)||"/",P=VM({path:V.relativePath,caseSensitive:V.caseSensitive,end:e},m);if(!P)return null;Object.assign(me,P.params);let i=V.route;Ze.push({params:me,pathname:jv([Oe,P.pathname]),pathnameBase:WM(jv([Oe,P.pathnameBase])),route:i}),P.pathnameBase!=="/"&&(Oe=jv([Oe,P.pathnameBase]))}return Ze}function VM(k,W){typeof k=="string"&&(k={path:k,caseSensitive:!1,end:!0});let[le,me]=HM(k.path,k.caseSensitive,k.end),Oe=W.match(le);if(!Oe)return null;let Ze=Oe[0],G=Ze.replace(/(.)\/+$/,"$1"),V=Oe.slice(1);return{params:me.reduce((m,P,i)=>{let{paramName:L,isOptional:S}=P;if(L==="*"){let p=V[i]||"";G=Ze.slice(0,Ze.length-p.length).replace(/(.)\/+$/,"$1")}const v=V[i];return S&&!v?m[L]=void 0:m[L]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:Ze,pathnameBase:G,pattern:k}}function HM(k,W,le){W===void 0&&(W=!1),le===void 0&&(le=!0),l4(k==="*"||!k.endsWith("*")||k.endsWith("/*"),'Route path "'+k+'" will be treated as if it were '+('"'+k.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+k.replace(/\*$/,"/*")+'".'));let me=[],Oe="^"+k.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(G,V,e)=>(me.push({paramName:V,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return k.endsWith("*")?(me.push({paramName:"*"}),Oe+=k==="*"||k==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):le?Oe+="\\/*$":k!==""&&k!=="/"&&(Oe+="(?:(?=\\/|$))"),[new RegExp(Oe,W?void 0:"i"),me]}function GM(k){try{return k.split("/").map(W=>decodeURIComponent(W).replace(/\//g,"%2F")).join("/")}catch(W){return l4(!1,'The URL path "'+k+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+W+").")),k}}function h4(k,W){if(W==="/")return k;if(!k.toLowerCase().startsWith(W.toLowerCase()))return null;let le=W.endsWith("/")?W.length-1:W.length,me=k.charAt(le);return me&&me!=="/"?null:k.slice(le)||"/"}const jv=k=>k.join("/").replace(/\/\/+/g,"/"),WM=k=>k.replace(/\/+$/,"").replace(/^\/*/,"/");function YM(k){return k!=null&&typeof k.status=="number"&&typeof k.statusText=="string"&&typeof k.internal=="boolean"&&"data"in k}const v4=["post","put","patch","delete"];new Set(v4);const XM=["get",...v4];new Set(XM);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(k){for(var W=1;W<arguments.length;W++){var le=arguments[W];for(var me in le)Object.prototype.hasOwnProperty.call(le,me)&&(k[me]=le[me])}return k},ng.apply(this,arguments)}const jM=Ya.createContext(null),ZM=Ya.createContext(null),d4=Ya.createContext(null),Lg=Ya.createContext(null),Pg=Ya.createContext({outlet:null,matches:[],isDataRoute:!1}),p4=Ya.createContext(null);function G1(){return Ya.useContext(Lg)!=null}function KM(){return G1()||cl(!1),Ya.useContext(Lg).location}function JM(k,W){return QM(k,W)}function QM(k,W,le,me){G1()||cl(!1);let{navigator:Oe}=Ya.useContext(d4),{matches:Ze}=Ya.useContext(Pg),G=Ze[Ze.length-1],V=G?G.params:{};G&&G.pathname;let e=G?G.pathnameBase:"/";G&&G.route;let m=KM(),P;if(W){var i;let r=typeof W=="string"?Cg(W):W;e==="/"||(i=r.pathname)!=null&&i.startsWith(e)||cl(!1),P=r}else P=m;let L=P.pathname||"/",S=L;if(e!=="/"){let r=e.replace(/^\//,"").split("/");S="/"+L.replace(/^\//,"").split("/").slice(r.length).join("/")}let v=RM(k,{pathname:S}),p=rE(v&&v.map(r=>Object.assign({},r,{params:Object.assign({},V,r.params),pathname:jv([e,Oe.encodeLocation?Oe.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase==="/"?e:jv([e,Oe.encodeLocation?Oe.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),Ze,le,me);return W&&p?Ya.createElement(Lg.Provider,{value:{location:ng({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:Jc.Pop}},p):p}function $M(){let k=oE(),W=YM(k)?k.status+" "+k.statusText:k instanceof Error?k.message:JSON.stringify(k),le=k instanceof Error?k.stack:null,Oe={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Ze=null;return Ya.createElement(Ya.Fragment,null,Ya.createElement("h2",null,"Unexpected Application Error!"),Ya.createElement("h3",{style:{fontStyle:"italic"}},W),le?Ya.createElement("pre",{style:Oe},le):null,Ze)}const qM=Ya.createElement($M,null);class eE extends Ya.Component{constructor(W){super(W),this.state={location:W.location,revalidation:W.revalidation,error:W.error}}static getDerivedStateFromError(W){return{error:W}}static getDerivedStateFromProps(W,le){return le.location!==W.location||le.revalidation!=="idle"&&W.revalidation==="idle"?{error:W.error,location:W.location,revalidation:W.revalidation}:{error:W.error!==void 0?W.error:le.error,location:le.location,revalidation:W.revalidation||le.revalidation}}componentDidCatch(W,le){console.error("React Router caught the following error during render",W,le)}render(){return this.state.error!==void 0?Ya.createElement(Pg.Provider,{value:this.props.routeContext},Ya.createElement(p4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tE(k){let{routeContext:W,match:le,children:me}=k,Oe=Ya.useContext(jM);return Oe&&Oe.static&&Oe.staticContext&&(le.route.errorElement||le.route.ErrorBoundary)&&(Oe.staticContext._deepestRenderedBoundaryId=le.route.id),Ya.createElement(Pg.Provider,{value:W},me)}function rE(k,W,le,me){var Oe;if(W===void 0&&(W=[]),le===void 0&&(le=null),me===void 0&&(me=null),k==null){var Ze;if((Ze=le)!=null&&Ze.errors)k=le.matches;else return null}let G=k,V=(Oe=le)==null?void 0:Oe.errors;if(V!=null){let P=G.findIndex(i=>i.route.id&&(V==null?void 0:V[i.route.id])!==void 0);P>=0||cl(!1),G=G.slice(0,Math.min(G.length,P+1))}let e=!1,m=-1;if(le&&me&&me.v7_partialHydration)for(let P=0;P<G.length;P++){let i=G[P];if((i.route.HydrateFallback||i.route.hydrateFallbackElement)&&(m=P),i.route.id){let{loaderData:L,errors:S}=le,v=i.route.loader&&L[i.route.id]===void 0&&(!S||S[i.route.id]===void 0);if(i.route.lazy||v){e=!0,m>=0?G=G.slice(0,m+1):G=[G[0]];break}}}return G.reduceRight((P,i,L)=>{let S,v=!1,p=null,r=null;le&&(S=V&&i.route.id?V[i.route.id]:void 0,p=i.route.errorElement||qM,e&&(m<0&&L===0?(sE("route-fallback",!1),v=!0,r=null):m===L&&(v=!0,r=i.route.hydrateFallbackElement||null)));let t=W.concat(G.slice(0,L+1)),a=()=>{let n;return S?n=p:v?n=r:i.route.Component?n=Ya.createElement(i.route.Component,null):i.route.element?n=i.route.element:n=P,Ya.createElement(tE,{match:i,routeContext:{outlet:P,matches:t,isDataRoute:le!=null},children:n})};return le&&(i.route.ErrorBoundary||i.route.errorElement||L===0)?Ya.createElement(eE,{location:le.location,revalidation:le.revalidation,component:p,error:S,children:a(),routeContext:{outlet:null,matches:t,isDataRoute:!0}}):a()},null)}var Um=function(k){return k.UseBlocker="useBlocker",k.UseLoaderData="useLoaderData",k.UseActionData="useActionData",k.UseRouteError="useRouteError",k.UseNavigation="useNavigation",k.UseRouteLoaderData="useRouteLoaderData",k.UseMatches="useMatches",k.UseRevalidator="useRevalidator",k.UseNavigateStable="useNavigate",k.UseRouteId="useRouteId",k}(Um||{});function nE(k){let W=Ya.useContext(ZM);return W||cl(!1),W}function aE(k){let W=Ya.useContext(Pg);return W||cl(!1),W}function iE(k){let W=aE(),le=W.matches[W.matches.length-1];return le.route.id||cl(!1),le.route.id}function oE(){var k;let W=Ya.useContext(p4),le=nE(Um.UseRouteError),me=iE(Um.UseRouteError);return W!==void 0?W:(k=le.errors)==null?void 0:k[me]}const Tb={};function sE(k,W,le){!W&&!Tb[k]&&(Tb[k]=!0)}function g4(k){cl(!1)}function lE(k){let{basename:W="/",children:le=null,location:me,navigationType:Oe=Jc.Pop,navigator:Ze,static:G=!1,future:V}=k;G1()&&cl(!1);let e=W.replace(/^\/*/,"/"),m=Ya.useMemo(()=>({basename:e,navigator:Ze,static:G,future:ng({v7_relativeSplatPath:!1},V)}),[e,V,Ze,G]);typeof me=="string"&&(me=Cg(me));let{pathname:P="/",search:i="",hash:L="",state:S=null,key:v="default"}=me,p=Ya.useMemo(()=>{let r=h4(P,e);return r==null?null:{location:{pathname:r,search:i,hash:L,state:S,key:v},navigationType:Oe}},[e,P,i,L,S,v,Oe]);return p==null?null:Ya.createElement(d4.Provider,{value:m},Ya.createElement(Lg.Provider,{children:le,value:p}))}function uE(k){let{children:W,location:le}=k;return JM(Vm(W),le)}new Promise(()=>{});function Vm(k,W){W===void 0&&(W=[]);let le=[];return Ya.Children.forEach(k,(me,Oe)=>{if(!Ya.isValidElement(me))return;let Ze=[...W,Oe];if(me.type===Ya.Fragment){le.push.apply(le,Vm(me.props.children,Ze));return}me.type!==g4&&cl(!1),!me.props.index||!me.props.children||cl(!1);let G={id:me.props.id||Ze.join("-"),caseSensitive:me.props.caseSensitive,element:me.props.element,Component:me.props.Component,index:me.props.index,path:me.props.path,loader:me.props.loader,action:me.props.action,errorElement:me.props.errorElement,ErrorBoundary:me.props.ErrorBoundary,hasErrorBoundary:me.props.ErrorBoundary!=null||me.props.errorElement!=null,shouldRevalidate:me.props.shouldRevalidate,handle:me.props.handle,lazy:me.props.lazy};me.props.children&&(G.children=Vm(me.props.children,Ze)),le.push(G)}),le}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fE="6";try{window.__reactRouterVersion=fE}catch{}const cE="startTransition",Ab=p6[cE];function hE(k){let{basename:W,children:le,future:me,window:Oe}=k,Ze=Ya.useRef();Ze.current==null&&(Ze.current=CM({window:Oe,v5Compat:!0}));let G=Ze.current,[V,e]=Ya.useState({action:G.action,location:G.location}),{v7_startTransition:m}=me||{},P=Ya.useCallback(i=>{m&&Ab?Ab(()=>e(i)):e(i)},[e,m]);return Ya.useLayoutEffect(()=>G.listen(P),[G,P]),Ya.createElement(lE,{basename:W,children:le,location:V.location,navigationType:V.action,navigator:G,future:me})}var Sb;(function(k){k.UseScrollRestoration="useScrollRestoration",k.UseSubmit="useSubmit",k.UseSubmitFetcher="useSubmitFetcher",k.UseFetcher="useFetcher",k.useViewTransitionState="useViewTransitionState"})(Sb||(Sb={}));var Mb;(function(k){k.UseFetcher="useFetcher",k.UseFetchers="useFetchers",k.UseScrollRestoration="useScrollRestoration"})(Mb||(Mb={}));var w0=k=>k.type==="checkbox",Uv=k=>k instanceof Date,Hs=k=>k==null;const y4=k=>typeof k=="object";var Yo=k=>!Hs(k)&&!Array.isArray(k)&&y4(k)&&!Uv(k),vE=k=>Yo(k)&&k.target?w0(k.target)?k.target.checked:k.target.value:k,dE=k=>k.substring(0,k.search(/\.\d+(\.|$)/))||k,pE=(k,W)=>k.has(dE(W)),gE=k=>{const W=k.constructor&&k.constructor.prototype;return Yo(W)&&W.hasOwnProperty("isPrototypeOf")},W1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nu(k){let W;const le=Array.isArray(k);if(k instanceof Date)W=new Date(k);else if(k instanceof Set)W=new Set(k);else if(!(W1&&(k instanceof Blob||k instanceof FileList))&&(le||Yo(k)))if(W=le?[]:{},!le&&!gE(k))W=k;else for(const me in k)k.hasOwnProperty(me)&&(W[me]=nu(k[me]));else return k;return W}var T0=k=>Array.isArray(k)?k.filter(Boolean):[],Lo=k=>k===void 0,Na=(k,W,le)=>{if(!W||!Yo(k))return le;const me=T0(W.split(/[,[\].]+?/)).reduce((Oe,Ze)=>Hs(Oe)?Oe:Oe[Ze],k);return Lo(me)||me===k?Lo(k[W])?le:k[W]:me},jc=k=>typeof k=="boolean",Y1=k=>/^\w*$/.test(k),m4=k=>T0(k.replace(/["|']|\]/g,"").split(/\.|\[/)),Ki=(k,W,le)=>{let me=-1;const Oe=Y1(W)?[W]:m4(W),Ze=Oe.length,G=Ze-1;for(;++me<Ze;){const V=Oe[me];let e=le;if(me!==G){const m=k[V];e=Yo(m)||Array.isArray(m)?m:isNaN(+Oe[me+1])?{}:[]}if(V==="__proto__")return;k[V]=e,k=k[V]}return k};const Eb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Us.createContext(null);var yE=(k,W,le,me=!0)=>{const Oe={defaultValues:W._defaultValues};for(const Ze in k)Object.defineProperty(Oe,Ze,{get:()=>{const G=Ze;return W._proxyFormState[G]!==Vu.all&&(W._proxyFormState[G]=!me||Vu.all),le&&(le[G]=!0),k[G]}});return Oe},El=k=>Yo(k)&&!Object.keys(k).length,mE=(k,W,le,me)=>{le(k);const{name:Oe,...Ze}=k;return El(Ze)||Object.keys(Ze).length>=Object.keys(W).length||Object.keys(Ze).find(G=>W[G]===(!me||Vu.all))},By=k=>Array.isArray(k)?k:[k];function xE(k){const W=Us.useRef(k);W.current=k,Us.useEffect(()=>{const le=!k.disabled&&W.current.subject&&W.current.subject.subscribe({next:W.current.next});return()=>{le&&le.unsubscribe()}},[k.disabled])}var mf=k=>typeof k=="string",bE=(k,W,le,me,Oe)=>mf(k)?(me&&W.watch.add(k),Na(le,k,Oe)):Array.isArray(k)?k.map(Ze=>(me&&W.watch.add(Ze),Na(le,Ze))):(me&&(W.watchAll=!0),le),wE=(k,W,le,me,Oe)=>W?{...le[k],types:{...le[k]&&le[k].types?le[k].types:{},[me]:Oe||!0}}:{},Cb=k=>({isOnSubmit:!k||k===Vu.onSubmit,isOnBlur:k===Vu.onBlur,isOnChange:k===Vu.onChange,isOnAll:k===Vu.all,isOnTouch:k===Vu.onTouched}),Lb=(k,W,le)=>!le&&(W.watchAll||W.watch.has(k)||[...W.watch].some(me=>k.startsWith(me)&&/^\.\w+/.test(k.slice(me.length))));const Qd=(k,W,le,me)=>{for(const Oe of le||Object.keys(k)){const Ze=Na(k,Oe);if(Ze){const{_f:G,...V}=Ze;if(G){if(G.refs&&G.refs[0]&&W(G.refs[0],Oe)&&!me)break;if(G.ref&&W(G.ref,G.name)&&!me)break;Qd(V,W)}else Yo(V)&&Qd(V,W)}}};var TE=(k,W,le)=>{const me=T0(Na(k,le));return Ki(me,"root",W[le]),Ki(k,le,me),k},X1=k=>k.type==="file",Qc=k=>typeof k=="function",ag=k=>{if(!W1)return!1;const W=k?k.ownerDocument:0;return k instanceof(W&&W.defaultView?W.defaultView.HTMLElement:HTMLElement)},Lp=k=>mf(k),j1=k=>k.type==="radio",ig=k=>k instanceof RegExp;const Pb={value:!1,isValid:!1},Rb={value:!0,isValid:!0};var x4=k=>{if(Array.isArray(k)){if(k.length>1){const W=k.filter(le=>le&&le.checked&&!le.disabled).map(le=>le.value);return{value:W,isValid:!!W.length}}return k[0].checked&&!k[0].disabled?k[0].attributes&&!Lo(k[0].attributes.value)?Lo(k[0].value)||k[0].value===""?Rb:{value:k[0].value,isValid:!0}:Rb:Pb}return Pb};const Db={isValid:!1,value:null};var b4=k=>Array.isArray(k)?k.reduce((W,le)=>le&&le.checked&&!le.disabled?{isValid:!0,value:le.value}:W,Db):Db;function Ib(k,W,le="validate"){if(Lp(k)||Array.isArray(k)&&k.every(Lp)||jc(k)&&!k)return{type:le,message:Lp(k)?k:"",ref:W}}var Cv=k=>Yo(k)&&!ig(k)?k:{value:k,message:""},kb=async(k,W,le,me,Oe)=>{const{ref:Ze,refs:G,required:V,maxLength:e,minLength:m,min:P,max:i,pattern:L,validate:S,name:v,valueAsNumber:p,mount:r,disabled:t}=k._f,a=Na(W,v);if(!r||t)return{};const n=G?G[0]:Ze,f=d=>{me&&n.reportValidity&&(n.setCustomValidity(jc(d)?"":d||""),n.reportValidity())},l={},u=j1(Ze),g=w0(Ze),h=u||g,T=(p||X1(Ze))&&Lo(Ze.value)&&Lo(a)||ag(Ze)&&Ze.value===""||a===""||Array.isArray(a)&&!a.length,c=wE.bind(null,v,le,l),o=(d,x,w,C=jf.maxLength,y=jf.minLength)=>{const M=d?x:w;l[v]={type:d?C:y,message:M,ref:Ze,...c(d?C:y,M)}};if(Oe?!Array.isArray(a)||!a.length:V&&(!h&&(T||Hs(a))||jc(a)&&!a||g&&!x4(G).isValid||u&&!b4(G).isValid)){const{value:d,message:x}=Lp(V)?{value:!!V,message:V}:Cv(V);if(d&&(l[v]={type:jf.required,message:x,ref:n,...c(jf.required,x)},!le))return f(x),l}if(!T&&(!Hs(P)||!Hs(i))){let d,x;const w=Cv(i),C=Cv(P);if(!Hs(a)&&!isNaN(a)){const y=Ze.valueAsNumber||a&&+a;Hs(w.value)||(d=y>w.value),Hs(C.value)||(x=y<C.value)}else{const y=Ze.valueAsDate||new Date(a),M=E=>new Date(new Date().toDateString()+" "+E),A=Ze.type=="time",s=Ze.type=="week";mf(w.value)&&a&&(d=A?M(a)>M(w.value):s?a>w.value:y>new Date(w.value)),mf(C.value)&&a&&(x=A?M(a)<M(C.value):s?a<C.value:y<new Date(C.value))}if((d||x)&&(o(!!d,w.message,C.message,jf.max,jf.min),!le))return f(l[v].message),l}if((e||m)&&!T&&(mf(a)||Oe&&Array.isArray(a))){const d=Cv(e),x=Cv(m),w=!Hs(d.value)&&a.length>+d.value,C=!Hs(x.value)&&a.length<+x.value;if((w||C)&&(o(w,d.message,x.message),!le))return f(l[v].message),l}if(L&&!T&&mf(a)){const{value:d,message:x}=Cv(L);if(ig(d)&&!a.match(d)&&(l[v]={type:jf.pattern,message:x,ref:Ze,...c(jf.pattern,x)},!le))return f(x),l}if(S){if(Qc(S)){const d=await S(a,W),x=Ib(d,n);if(x&&(l[v]={...x,...c(jf.validate,x.message)},!le))return f(x.message),l}else if(Yo(S)){let d={};for(const x in S){if(!El(d)&&!le)break;const w=Ib(await S[x](a,W),n,x);w&&(d={...w,...c(x,w.message)},f(w.message),le&&(l[v]=d))}if(!El(d)&&(l[v]={ref:n,...d},!le))return l}}return f(!0),l};function AE(k,W){const le=W.slice(0,-1).length;let me=0;for(;me<le;)k=Lo(k)?me++:k[W[me++]];return k}function SE(k){for(const W in k)if(k.hasOwnProperty(W)&&!Lo(k[W]))return!1;return!0}function Ho(k,W){const le=Array.isArray(W)?W:Y1(W)?[W]:m4(W),me=le.length===1?k:AE(k,le),Oe=le.length-1,Ze=le[Oe];return me&&delete me[Ze],Oe!==0&&(Yo(me)&&El(me)||Array.isArray(me)&&SE(me))&&Ho(k,le.slice(0,-1)),k}var Ny=()=>{let k=[];return{get observers(){return k},next:Oe=>{for(const Ze of k)Ze.next&&Ze.next(Oe)},subscribe:Oe=>(k.push(Oe),{unsubscribe:()=>{k=k.filter(Ze=>Ze!==Oe)}}),unsubscribe:()=>{k=[]}}},og=k=>Hs(k)||!y4(k);function Gh(k,W){if(og(k)||og(W))return k===W;if(Uv(k)&&Uv(W))return k.getTime()===W.getTime();const le=Object.keys(k),me=Object.keys(W);if(le.length!==me.length)return!1;for(const Oe of le){const Ze=k[Oe];if(!me.includes(Oe))return!1;if(Oe!=="ref"){const G=W[Oe];if(Uv(Ze)&&Uv(G)||Yo(Ze)&&Yo(G)||Array.isArray(Ze)&&Array.isArray(G)?!Gh(Ze,G):Ze!==G)return!1}}return!0}var w4=k=>k.type==="select-multiple",ME=k=>j1(k)||w0(k),Uy=k=>ag(k)&&k.isConnected,T4=k=>{for(const W in k)if(Qc(k[W]))return!0;return!1};function sg(k,W={}){const le=Array.isArray(k);if(Yo(k)||le)for(const me in k)Array.isArray(k[me])||Yo(k[me])&&!T4(k[me])?(W[me]=Array.isArray(k[me])?[]:{},sg(k[me],W[me])):Hs(k[me])||(W[me]=!0);return W}function A4(k,W,le){const me=Array.isArray(k);if(Yo(k)||me)for(const Oe in k)Array.isArray(k[Oe])||Yo(k[Oe])&&!T4(k[Oe])?Lo(W)||og(le[Oe])?le[Oe]=Array.isArray(k[Oe])?sg(k[Oe],[]):{...sg(k[Oe])}:A4(k[Oe],Hs(W)?{}:W[Oe],le[Oe]):le[Oe]=!Gh(k[Oe],W[Oe]);return le}var pp=(k,W)=>A4(k,W,sg(W)),S4=(k,{valueAsNumber:W,valueAsDate:le,setValueAs:me})=>Lo(k)?k:W?k===""?NaN:k&&+k:le&&mf(k)?new Date(k):me?me(k):k;function Vy(k){const W=k.ref;if(!(k.refs?k.refs.every(le=>le.disabled):W.disabled))return X1(W)?W.files:j1(W)?b4(k.refs).value:w4(W)?[...W.selectedOptions].map(({value:le})=>le):w0(W)?x4(k.refs).value:S4(Lo(W.value)?k.ref.value:W.value,k)}var EE=(k,W,le,me)=>{const Oe={};for(const Ze of k){const G=Na(W,Ze);G&&Ki(Oe,Ze,G._f)}return{criteriaMode:le,names:[...k],fields:Oe,shouldUseNativeValidation:me}},zd=k=>Lo(k)?k:ig(k)?k.source:Yo(k)?ig(k.value)?k.value.source:k.value:k,CE=k=>k.mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate);function Fb(k,W,le){const me=Na(k,le);if(me||Y1(le))return{error:me,name:le};const Oe=le.split(".");for(;Oe.length;){const Ze=Oe.join("."),G=Na(W,Ze),V=Na(k,Ze);if(G&&!Array.isArray(G)&&le!==Ze)return{name:le};if(V&&V.type)return{name:Ze,error:V};Oe.pop()}return{name:le}}var LE=(k,W,le,me,Oe)=>Oe.isOnAll?!1:!le&&Oe.isOnTouch?!(W||k):(le?me.isOnBlur:Oe.isOnBlur)?!k:(le?me.isOnChange:Oe.isOnChange)?k:!0,PE=(k,W)=>!T0(Na(k,W)).length&&Ho(k,W);const RE={mode:Vu.onSubmit,reValidateMode:Vu.onChange,shouldFocusError:!0};function DE(k={}){let W={...RE,...k},le={submitCount:0,isDirty:!1,isLoading:Qc(W.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:W.errors||{},disabled:W.disabled||!1},me={},Oe=Yo(W.defaultValues)||Yo(W.values)?nu(W.defaultValues||W.values)||{}:{},Ze=W.shouldUnregister?{}:nu(Oe),G={action:!1,mount:!1,watch:!1},V={mount:new Set,unMount:new Set,array:new Set,watch:new Set},e,m=0;const P={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},i={values:Ny(),array:Ny(),state:Ny()},L=Cb(W.mode),S=Cb(W.reValidateMode),v=W.criteriaMode===Vu.all,p=Y=>$=>{clearTimeout(m),m=setTimeout(Y,$)},r=async Y=>{if(P.isValid||Y){const $=W.resolver?El((await h()).errors):await c(me,!0);$!==le.isValid&&i.state.next({isValid:$})}},t=(Y,$)=>{(P.isValidating||P.validatingFields)&&((Y||Array.from(V.mount)).forEach(oe=>{oe&&($?Ki(le.validatingFields,oe,$):Ho(le.validatingFields,oe))}),i.state.next({validatingFields:le.validatingFields,isValidating:!El(le.validatingFields)}))},a=(Y,$=[],oe,j,X=!0,se=!0)=>{if(j&&oe){if(G.action=!0,se&&Array.isArray(Na(me,Y))){const q=oe(Na(me,Y),j.argA,j.argB);X&&Ki(me,Y,q)}if(se&&Array.isArray(Na(le.errors,Y))){const q=oe(Na(le.errors,Y),j.argA,j.argB);X&&Ki(le.errors,Y,q),PE(le.errors,Y)}if(P.touchedFields&&se&&Array.isArray(Na(le.touchedFields,Y))){const q=oe(Na(le.touchedFields,Y),j.argA,j.argB);X&&Ki(le.touchedFields,Y,q)}P.dirtyFields&&(le.dirtyFields=pp(Oe,Ze)),i.state.next({name:Y,isDirty:d(Y,$),dirtyFields:le.dirtyFields,errors:le.errors,isValid:le.isValid})}else Ki(Ze,Y,$)},n=(Y,$)=>{Ki(le.errors,Y,$),i.state.next({errors:le.errors})},f=Y=>{le.errors=Y,i.state.next({errors:le.errors,isValid:!1})},l=(Y,$,oe,j)=>{const X=Na(me,Y);if(X){const se=Na(Ze,Y,Lo(oe)?Na(Oe,Y):oe);Lo(se)||j&&j.defaultChecked||$?Ki(Ze,Y,$?se:Vy(X._f)):C(Y,se),G.mount&&r()}},u=(Y,$,oe,j,X)=>{let se=!1,q=!1;const ce={name:Y},ye=!!(Na(me,Y)&&Na(me,Y)._f.disabled);if(!oe||j){P.isDirty&&(q=le.isDirty,le.isDirty=ce.isDirty=d(),se=q!==ce.isDirty);const we=ye||Gh(Na(Oe,Y),$);q=!!(!ye&&Na(le.dirtyFields,Y)),we||ye?Ho(le.dirtyFields,Y):Ki(le.dirtyFields,Y,!0),ce.dirtyFields=le.dirtyFields,se=se||P.dirtyFields&&q!==!we}if(oe){const we=Na(le.touchedFields,Y);we||(Ki(le.touchedFields,Y,oe),ce.touchedFields=le.touchedFields,se=se||P.touchedFields&&we!==oe)}return se&&X&&i.state.next(ce),se?ce:{}},g=(Y,$,oe,j)=>{const X=Na(le.errors,Y),se=P.isValid&&jc($)&&le.isValid!==$;if(k.delayError&&oe?(e=p(()=>n(Y,oe)),e(k.delayError)):(clearTimeout(m),e=null,oe?Ki(le.errors,Y,oe):Ho(le.errors,Y)),(oe?!Gh(X,oe):X)||!El(j)||se){const q={...j,...se&&jc($)?{isValid:$}:{},errors:le.errors,name:Y};le={...le,...q},i.state.next(q)}},h=async Y=>{t(Y,!0);const $=await W.resolver(Ze,W.context,EE(Y||V.mount,me,W.criteriaMode,W.shouldUseNativeValidation));return t(Y),$},T=async Y=>{const{errors:$}=await h(Y);if(Y)for(const oe of Y){const j=Na($,oe);j?Ki(le.errors,oe,j):Ho(le.errors,oe)}else le.errors=$;return $},c=async(Y,$,oe={valid:!0})=>{for(const j in Y){const X=Y[j];if(X){const{_f:se,...q}=X;if(se){const ce=V.array.has(se.name);t([j],!0);const ye=await kb(X,Ze,v,W.shouldUseNativeValidation&&!$,ce);if(t([j]),ye[se.name]&&(oe.valid=!1,$))break;!$&&(Na(ye,se.name)?ce?TE(le.errors,ye,se.name):Ki(le.errors,se.name,ye[se.name]):Ho(le.errors,se.name))}q&&await c(q,$,oe)}}return oe.valid},o=()=>{for(const Y of V.unMount){const $=Na(me,Y);$&&($._f.refs?$._f.refs.every(oe=>!Uy(oe)):!Uy($._f.ref))&&O(Y)}V.unMount=new Set},d=(Y,$)=>(Y&&$&&Ki(Ze,Y,$),!Gh(b(),Oe)),x=(Y,$,oe)=>bE(Y,V,{...G.mount?Ze:Lo($)?Oe:mf(Y)?{[Y]:$}:$},oe,$),w=Y=>T0(Na(G.mount?Ze:Oe,Y,k.shouldUnregister?Na(Oe,Y,[]):[])),C=(Y,$,oe={})=>{const j=Na(me,Y);let X=$;if(j){const se=j._f;se&&(!se.disabled&&Ki(Ze,Y,S4($,se)),X=ag(se.ref)&&Hs($)?"":$,w4(se.ref)?[...se.ref.options].forEach(q=>q.selected=X.includes(q.value)):se.refs?w0(se.ref)?se.refs.length>1?se.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(X)?!!X.find(ce=>ce===q.value):X===q.value)):se.refs[0]&&(se.refs[0].checked=!!X):se.refs.forEach(q=>q.checked=q.value===X):X1(se.ref)?se.ref.value="":(se.ref.value=X,se.ref.type||i.values.next({name:Y,values:{...Ze}})))}(oe.shouldDirty||oe.shouldTouch)&&u(Y,X,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&E(Y)},y=(Y,$,oe)=>{for(const j in $){const X=$[j],se=`${Y}.${j}`,q=Na(me,se);(V.array.has(Y)||!og(X)||q&&!q._f)&&!Uv(X)?y(se,X,oe):C(se,X,oe)}},M=(Y,$,oe={})=>{const j=Na(me,Y),X=V.array.has(Y),se=nu($);Ki(Ze,Y,se),X?(i.array.next({name:Y,values:{...Ze}}),(P.isDirty||P.dirtyFields)&&oe.shouldDirty&&i.state.next({name:Y,dirtyFields:pp(Oe,Ze),isDirty:d(Y,se)})):j&&!j._f&&!Hs(se)?y(Y,se,oe):C(Y,se,oe),Lb(Y,V)&&i.state.next({...le}),i.values.next({name:G.mount?Y:void 0,values:{...Ze}})},A=async Y=>{G.mount=!0;const $=Y.target;let oe=$.name,j=!0;const X=Na(me,oe),se=()=>$.type?Vy(X._f):vE(Y),q=ce=>{j=Number.isNaN(ce)||ce===Na(Ze,oe,ce)};if(X){let ce,ye;const we=se(),be=Y.type===Eb.BLUR||Y.type===Eb.FOCUS_OUT,De=!CE(X._f)&&!W.resolver&&!Na(le.errors,oe)&&!X._f.deps||LE(be,Na(le.touchedFields,oe),le.isSubmitted,S,L),ke=Lb(oe,V,be);Ki(Ze,oe,we),be?(X._f.onBlur&&X._f.onBlur(Y),e&&e(0)):X._f.onChange&&X._f.onChange(Y);const Be=u(oe,we,be,!1),Ae=!El(Be)||ke;if(!be&&i.values.next({name:oe,type:Y.type,values:{...Ze}}),De)return P.isValid&&r(),Ae&&i.state.next({name:oe,...ke?{}:Be});if(!be&&ke&&i.state.next({...le}),W.resolver){const{errors:Ie}=await h([oe]);if(q(we),j){const Me=Fb(le.errors,me,oe),Fe=Fb(Ie,me,Me.name||oe);ce=Fe.error,oe=Fe.name,ye=El(Ie)}}else t([oe],!0),ce=(await kb(X,Ze,v,W.shouldUseNativeValidation))[oe],t([oe]),q(we),j&&(ce?ye=!1:P.isValid&&(ye=await c(me,!0)));j&&(X._f.deps&&E(X._f.deps),g(oe,ye,ce,Be))}},s=(Y,$)=>{if(Na(le.errors,$)&&Y.focus)return Y.focus(),1},E=async(Y,$={})=>{let oe,j;const X=By(Y);if(W.resolver){const se=await T(Lo(Y)?Y:X);oe=El(se),j=Y?!X.some(q=>Na(se,q)):oe}else Y?(j=(await Promise.all(X.map(async se=>{const q=Na(me,se);return await c(q&&q._f?{[se]:q}:q)}))).every(Boolean),!(!j&&!le.isValid)&&r()):j=oe=await c(me);return i.state.next({...!mf(Y)||P.isValid&&oe!==le.isValid?{}:{name:Y},...W.resolver||!Y?{isValid:oe}:{},errors:le.errors}),$.shouldFocus&&!j&&Qd(me,s,Y?X:V.mount),j},b=Y=>{const $={...G.mount?Ze:Oe};return Lo(Y)?$:mf(Y)?Na($,Y):Y.map(oe=>Na($,oe))},F=(Y,$)=>({invalid:!!Na(($||le).errors,Y),isDirty:!!Na(($||le).dirtyFields,Y),isTouched:!!Na(($||le).touchedFields,Y),isValidating:!!Na(($||le).validatingFields,Y),error:Na(($||le).errors,Y)}),I=Y=>{Y&&By(Y).forEach($=>Ho(le.errors,$)),i.state.next({errors:Y?le.errors:{}})},N=(Y,$,oe)=>{const j=(Na(me,Y,{_f:{}})._f||{}).ref,X=Na(le.errors,Y)||{},{ref:se,message:q,type:ce,...ye}=X;Ki(le.errors,Y,{...ye,...$,ref:j}),i.state.next({name:Y,errors:le.errors,isValid:!1}),oe&&oe.shouldFocus&&j&&j.focus&&j.focus()},_=(Y,$)=>Qc(Y)?i.values.subscribe({next:oe=>Y(x(void 0,$),oe)}):x(Y,$,!0),O=(Y,$={})=>{for(const oe of Y?By(Y):V.mount)V.mount.delete(oe),V.array.delete(oe),$.keepValue||(Ho(me,oe),Ho(Ze,oe)),!$.keepError&&Ho(le.errors,oe),!$.keepDirty&&Ho(le.dirtyFields,oe),!$.keepTouched&&Ho(le.touchedFields,oe),!$.keepIsValidating&&Ho(le.validatingFields,oe),!W.shouldUnregister&&!$.keepDefaultValue&&Ho(Oe,oe);i.values.next({values:{...Ze}}),i.state.next({...le,...$.keepDirty?{isDirty:d()}:{}}),!$.keepIsValid&&r()},B=({disabled:Y,name:$,field:oe,fields:j,value:X})=>{if(jc(Y)&&G.mount||Y){const se=Y?void 0:Lo(X)?Vy(oe?oe._f:Na(j,$)._f):X;Ki(Ze,$,se),u($,se,!1,!1,!0)}},z=(Y,$={})=>{let oe=Na(me,Y);const j=jc($.disabled);return Ki(me,Y,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:Y}},name:Y,mount:!0,...$}}),V.mount.add(Y),oe?B({field:oe,disabled:$.disabled,name:Y,value:$.value}):l(Y,!0,$.value),{...j?{disabled:$.disabled}:{},...W.progressive?{required:!!$.required,min:zd($.min),max:zd($.max),minLength:zd($.minLength),maxLength:zd($.maxLength),pattern:zd($.pattern)}:{},name:Y,onChange:A,onBlur:A,ref:X=>{if(X){z(Y,$),oe=Na(me,Y);const se=Lo(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,q=ME(se),ce=oe._f.refs||[];if(q?ce.find(ye=>ye===se):se===oe._f.ref)return;Ki(me,Y,{_f:{...oe._f,...q?{refs:[...ce.filter(Uy),se,...Array.isArray(Na(Oe,Y))?[{}]:[]],ref:{type:se.type,name:Y}}:{ref:se}}}),l(Y,!1,void 0,se)}else oe=Na(me,Y,{}),oe._f&&(oe._f.mount=!1),(W.shouldUnregister||$.shouldUnregister)&&!(pE(V.array,Y)&&G.action)&&V.unMount.add(Y)}}},U=()=>W.shouldFocusError&&Qd(me,s,V.mount),Z=Y=>{jc(Y)&&(i.state.next({disabled:Y}),Qd(me,($,oe)=>{const j=Na(me,oe);j&&($.disabled=j._f.disabled||Y,Array.isArray(j._f.refs)&&j._f.refs.forEach(X=>{X.disabled=j._f.disabled||Y}))},0,!1))},J=(Y,$)=>async oe=>{let j;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let X=nu(Ze);if(i.state.next({isSubmitting:!0}),W.resolver){const{errors:se,values:q}=await h();le.errors=se,X=q}else await c(me);if(Ho(le.errors,"root"),El(le.errors)){i.state.next({errors:{}});try{await Y(X,oe)}catch(se){j=se}}else $&&await $({...le.errors},oe),U(),setTimeout(U);if(i.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:El(le.errors)&&!j,submitCount:le.submitCount+1,errors:le.errors}),j)throw j},re=(Y,$={})=>{Na(me,Y)&&(Lo($.defaultValue)?M(Y,nu(Na(Oe,Y))):(M(Y,$.defaultValue),Ki(Oe,Y,nu($.defaultValue))),$.keepTouched||Ho(le.touchedFields,Y),$.keepDirty||(Ho(le.dirtyFields,Y),le.isDirty=$.defaultValue?d(Y,nu(Na(Oe,Y))):d()),$.keepError||(Ho(le.errors,Y),P.isValid&&r()),i.state.next({...le}))},ne=(Y,$={})=>{const oe=Y?nu(Y):Oe,j=nu(oe),X=El(Y),se=X?Oe:j;if($.keepDefaultValues||(Oe=oe),!$.keepValues){if($.keepDirtyValues)for(const q of V.mount)Na(le.dirtyFields,q)?Ki(se,q,Na(Ze,q)):M(q,Na(se,q));else{if(W1&&Lo(Y))for(const q of V.mount){const ce=Na(me,q);if(ce&&ce._f){const ye=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(ag(ye)){const we=ye.closest("form");if(we){we.reset();break}}}}me={}}Ze=k.shouldUnregister?$.keepDefaultValues?nu(Oe):{}:nu(se),i.array.next({values:{...se}}),i.values.next({values:{...se}})}V={mount:$.keepDirtyValues?V.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},G.mount=!P.isValid||!!$.keepIsValid||!!$.keepDirtyValues,G.watch=!!k.shouldUnregister,i.state.next({submitCount:$.keepSubmitCount?le.submitCount:0,isDirty:X?!1:$.keepDirty?le.isDirty:!!($.keepDefaultValues&&!Gh(Y,Oe)),isSubmitted:$.keepIsSubmitted?le.isSubmitted:!1,dirtyFields:X?[]:$.keepDirtyValues?$.keepDefaultValues&&Ze?pp(Oe,Ze):le.dirtyFields:$.keepDefaultValues&&Y?pp(Oe,Y):{},touchedFields:$.keepTouched?le.touchedFields:{},errors:$.keepErrors?le.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?le.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(Y,$)=>ne(Qc(Y)?Y(Ze):Y,$);return{control:{register:z,unregister:O,getFieldState:F,handleSubmit:J,setError:N,_executeSchema:h,_getWatch:x,_getDirty:d,_updateValid:r,_removeUnmounted:o,_updateFieldArray:a,_updateDisabledField:B,_getFieldArray:w,_reset:ne,_resetDefaultValues:()=>Qc(W.defaultValues)&&W.defaultValues().then(Y=>{ue(Y,W.resetOptions),i.state.next({isLoading:!1})}),_updateFormState:Y=>{le={...le,...Y}},_disableForm:Z,_subjects:i,_proxyFormState:P,_setErrors:f,get _fields(){return me},get _formValues(){return Ze},get _state(){return G},set _state(Y){G=Y},get _defaultValues(){return Oe},get _names(){return V},set _names(Y){V=Y},get _formState(){return le},set _formState(Y){le=Y},get _options(){return W},set _options(Y){W={...W,...Y}}},trigger:E,register:z,handleSubmit:J,watch:_,setValue:M,getValues:b,reset:ue,resetField:re,clearErrors:I,unregister:O,setError:N,setFocus:(Y,$={})=>{const oe=Na(me,Y),j=oe&&oe._f;if(j){const X=j.refs?j.refs[0]:j.ref;X.focus&&(X.focus(),$.shouldSelect&&X.select())}},getFieldState:F}}function IE(k={}){const W=Us.useRef(),le=Us.useRef(),[me,Oe]=Us.useState({isDirty:!1,isValidating:!1,isLoading:Qc(k.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:k.errors||{},disabled:k.disabled||!1,defaultValues:Qc(k.defaultValues)?void 0:k.defaultValues});W.current||(W.current={...DE(k),formState:me});const Ze=W.current.control;return Ze._options=k,xE({subject:Ze._subjects.state,next:G=>{mE(G,Ze._proxyFormState,Ze._updateFormState,!0)&&Oe({...Ze._formState})}}),Us.useEffect(()=>Ze._disableForm(k.disabled),[Ze,k.disabled]),Us.useEffect(()=>{if(Ze._proxyFormState.isDirty){const G=Ze._getDirty();G!==me.isDirty&&Ze._subjects.state.next({isDirty:G})}},[Ze,me.isDirty]),Us.useEffect(()=>{k.values&&!Gh(k.values,le.current)?(Ze._reset(k.values,Ze._options.resetOptions),le.current=k.values,Oe(G=>({...G}))):Ze._resetDefaultValues()},[k.values,Ze]),Us.useEffect(()=>{k.errors&&Ze._setErrors(k.errors)},[k.errors,Ze]),Us.useEffect(()=>{Ze._state.mount||(Ze._updateValid(),Ze._state.mount=!0),Ze._state.watch&&(Ze._state.watch=!1,Ze._subjects.state.next({...Ze._formState})),Ze._removeUnmounted()}),Us.useEffect(()=>{k.shouldUnregister&&Ze._subjects.values.next({values:Ze._getWatch()})},[k.shouldUnregister,Ze]),W.current.formState=yE(me,Ze),W.current}const kE="/ratioShares/assets/BCBA-a4ebfcec.jpg";var M4={},E4={},C4={exports:{}},FE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_E=FE,zE=_E;function L4(){}function P4(){}P4.resetWarningCache=L4;var OE=function(){function k(me,Oe,Ze,G,V,e){if(e!==zE){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}k.isRequired=k;function W(){return k}var le={array:k,bigint:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:W,element:k,elementType:k,instanceOf:W,node:k,objectOf:W,oneOf:W,oneOfType:W,shape:W,exact:W,checkPropTypes:P4,resetWarningCache:L4};return le.PropTypes=le,le};C4.exports=OE();var BE=C4.exports;(function(k){function W(l){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},W(l)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=f;var le=G(Ya),me=Oe(BE);function Oe(l){return l&&l.__esModule?l:{default:l}}function Ze(l){if(typeof WeakMap!="function")return null;var u=new WeakMap,g=new WeakMap;return(Ze=function(T){return T?g:u})(l)}function G(l,u){if(!u&&l&&l.__esModule)return l;if(l===null||W(l)!=="object"&&typeof l!="function")return{default:l};var g=Ze(u);if(g&&g.has(l))return g.get(l);var h={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in l)if(c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)){var o=T?Object.getOwnPropertyDescriptor(l,c):null;o&&(o.get||o.set)?Object.defineProperty(h,c,o):h[c]=l[c]}return h.default=l,g&&g.set(l,h),h}function V(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function e(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function m(l,u,g){return u&&e(l.prototype,u),g&&e(l,g),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),u&&i(l,u)}function i(l,u){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,T){return h.__proto__=T,h},i(l,u)}function L(l){var u=p();return function(){var h=r(l),T;if(u){var c=r(this).constructor;T=Reflect.construct(h,arguments,c)}else T=h.apply(this,arguments);return S(this,T)}}function S(l,u){if(u&&(W(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(l)}function v(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(l){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(l)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],a=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(l){var u=function(g){P(T,g);var h=L(T);function T(c){var o;return V(this,T),o=h.call(this,c),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return m(T,[{key:"updatePlotly",value:function(o,d,x){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return l.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(o),w.syncEventHandlers(),w.figureCallback(d),x&&w.attachUpdateEvents())}).catch(function(C){w.props.onError&&w.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&x===d),C=o.revision!==void 0,y=o.revision!==this.props.revision;!w&&(!C||C&&!y)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),l.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,x=d.data,w=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,y={data:x,layout:w,frames:C};o(y,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return l.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(d){var x=o.props["on"+d],w=o.handlers[d],C=!!w;x&&!C?o.addEventHandler(d,x):!x&&C?o.removeEventHandler(d):x&&C&&x!==w&&(o.removeEventHandler(d),o.addEventHandler(d,x))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return le.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(le.Component);return u.propTypes={data:me.default.arrayOf(me.default.object),config:me.default.object,layout:me.default.object,frames:me.default.arrayOf(me.default.object),revision:me.default.number,onInitialized:me.default.func,onPurge:me.default.func,onError:me.default.func,onUpdate:me.default.func,debug:me.default.bool,style:me.default.object,className:me.default.string,useResizeHandler:me.default.bool,divId:me.default.string},t.forEach(function(g){u.propTypes["on"+g]=me.default.func}),u.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},u}})(E4);var R4={exports:{}};(function(k,W){(function(me,Oe){k.exports=Oe()})(self,function(){return function(){var le={79288:function(G,V,e){var m=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in P){var L=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");m.addStyleRule(L,P[i])}},86712:function(G,V,e){G.exports=e(84224)},37240:function(G,V,e){G.exports=e(51132)},29744:function(G,V,e){G.exports=e(94456)},29352:function(G,V,e){G.exports=e(67244)},96144:function(G,V,e){G.exports=e(97776)},53219:function(G,V,e){G.exports=e(61712)},4624:function(G,V,e){G.exports=e(95856)},54543:function(G,V,e){G.exports=e(54272)},45e3:function(G,V,e){G.exports=e(85404)},62300:function(G,V,e){G.exports=e(26048)},6920:function(G,V,e){G.exports=e(66240)},10264:function(G,V,e){G.exports=e(40448)},32016:function(G,V,e){G.exports=e(64884)},27528:function(G,V,e){G.exports=e(15088)},75556:function(G,V,e){G.exports=e(76744)},39204:function(G,V,e){G.exports=e(94704)},73996:function(G,V,e){G.exports=e(62396)},16489:function(G,V,e){G.exports=e(32028)},5e3:function(G,V,e){G.exports=e(81932)},77280:function(G,V,e){G.exports=e(45536)},33992:function(G,V,e){G.exports=e(42600)},17600:function(G,V,e){G.exports=e(21536)},49116:function(G,V,e){G.exports=e(65664)},46808:function(G,V,e){G.exports=e(29044)},36168:function(G,V,e){G.exports=e(48928)},13792:function(G,V,e){var m=e(32016);m.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=m},3920:function(G,V,e){G.exports=e(43480)},25120:function(G,V,e){G.exports=e(6296)},4340:function(G,V,e){G.exports=e(7404)},86152:function(G,V,e){G.exports=e(65456)},56816:function(G,V,e){G.exports=e(22020)},89296:function(G,V,e){G.exports=e(29928)},20260:function(G,V,e){G.exports=e(75792)},32140:function(G,V,e){G.exports=e(156)},84764:function(G,V,e){G.exports=e(45499)},48824:function(G,V,e){G.exports=e(3296)},69967:function(G,V,e){G.exports=e(4184)},8363:function(G,V,e){G.exports=e(36952)},86636:function(G,V,e){G.exports=e(38983)},70192:function(G,V,e){G.exports=e(11572)},81604:function(G,V,e){G.exports=e(76924)},63796:function(G,V,e){G.exports=e(62944)},89336:function(G,V,e){G.exports=e(95443)},67484:function(G,V,e){G.exports=e(34864)},97312:function(G,V,e){G.exports=e(76272)},42192:function(G,V,e){G.exports=e(97924)},29800:function(G,V,e){G.exports=e(15436)},63560:function(G,V,e){G.exports=e(5621)},89904:function(G,V,e){G.exports=e(91304)},50248:function(G,V,e){G.exports=e(41724)},65832:function(G,V,e){G.exports=e(31991)},79440:function(G,V,e){G.exports=e(22869)},13752:function(G,V,e){G.exports=e(67776)},83096:function(G,V,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,V,e){var m=e(72196),P=e(25376),i=e(33816),L=e(31780).templatedArray;e(36208),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,V,e){var m=e(3400),P=e(54460),i=e(23816).draw;G.exports=function(p){var r=p._fullLayout,t=m.filterVisible(r.annotations);if(t.length&&p._fullData.length)return m.syncOrAsync([i,L],p)};function L(v){var p=v._fullLayout;m.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),a=P.getFromId(v,r.yref),n=P.getRefType(r.xref),f=P.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,a)})}function S(v,p){var r=p._id,t=r.charAt(0),a=v[t],n=v["a"+t],f=v[t+"ref"],l=v["a"+t+"ref"],u=v["_"+t+"padplus"],g=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,o=T-h,d=3*v.startarrowsize*v.arrowwidth||0,x=d+h,w=d-h,C;if(l===f){var y=P.findExtremes(p,[p.r2c(a)],{ppadplus:c,ppadminus:o}),M=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(u,x),ppadminus:Math.max(g,w)});C={min:[y.min[0],M.min[0]],max:[y.max[0],M.max[0]]}}else x=n?x+n:x,w=n?w-n:w,C=P.findExtremes(p,[p.r2c(a)],{ppadplus:Math.max(u,c,x),ppadminus:Math.max(g,o,w)});v._extremes[r]=C}},42300:function(G,V,e){var m=e(3400),P=e(24040),i=e(31780).arrayEditor;G.exports={hasClickToShow:L,onClick:S};function L(r,t){var a=v(r,t);return a.on.length>0||a.explicitOff.length>0}function S(r,t){var a=v(r,t),n=a.on,f=a.off.concat(a.explicitOff),l={},u=r._fullLayout.annotations,g,h;if(n.length||f.length){for(g=0;g<n.length;g++)h=i(r.layout,"annotations",u[n[g]]),h.modifyItem("visible",!0),m.extendFlat(l,h.getUpdateObj());for(g=0;g<f.length;g++)h=i(r.layout,"annotations",u[f[g]]),h.modifyItem("visible",!1),m.extendFlat(l,h.getUpdateObj());return P.call("update",r,{},l)}}function v(r,t){var a=r._fullLayout.annotations,n=[],f=[],l=[],u=(t||[]).length,g,h,T,c,o,d,x,w;for(g=0;g<a.length;g++)if(T=a[g],c=T.clicktoshow,c){for(h=0;h<u;h++)if(o=t[h],d=o.xaxis,x=o.yaxis,d._id===T.xref&&x._id===T.yref&&d.d2r(o.x)===p(T._xclick,d)&&x.d2r(o.y)===p(T._yclick,x)){T.visible?c==="onout"?w=f:w=l:w=n,w.push(g);break}h===u&&T.visible&&c==="onout"&&f.push(g)}return{on:n,off:f,explicitOff:l}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,V,e){var m=e(3400),P=e(76308);G.exports=function(L,S,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),a=P.opacity(t);p("borderpad");var n=p("borderwidth"),f=p("showarrow");p("text",f?" ":v._dfltTitle.annotation),p("textangle"),m.coerceFont(p,"font",v.font),p("width"),p("align");var l=p("height");if(l&&p("valign"),f){var u=p("arrowside"),g,h;u.indexOf("end")!==-1&&(g=p("arrowhead"),h=p("arrowsize")),u.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",h)),p("arrowcolor",a?S.bordercolor:P.defaultLine),p("arrowwidth",(a&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),c=v.hoverlabel||{};if(T){var o=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(o)),x=m.extendFlat({},c.font);x.color||(x.color=d),m.coerceFont(p,"hoverlabel.font",x)}p("captureevents",!!T)}},26828:function(G,V,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var a=L._fullLayout.annotations,n=S._id.charAt(0),f,l;function u(h){var T=f[h],c=null;r?c=P(T,S.range):c=Math.pow(10,T),m(c)||(c=null),p(l+h,c)}for(var g=0;g<a.length;g++)f=a[g],l="annotations["+g+"].",f[n+"ref"]===S._id&&u(n),f["a"+n+"ref"]===S._id&&u("a"+n)}},45216:function(G,V,e){var m=e(3400),P=e(54460),i=e(51272),L=e(87192),S=e(13916);G.exports=function(r,t){i(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function a(A,s){return m.coerce(p,r,S,A,s)}var n=a("visible"),f=a("clicktoshow");if(n||f){L(p,r,t,a);for(var l=r.showarrow,u=["x","y"],g=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=u[T],o=P.coerceRef(p,r,h,c,"","paper");if(o!=="paper"){var d=P.getFromId(h,o);d._annIndices.push(r._index)}if(P.coercePosition(r,h,a,o,c,.5),l){var x="a"+c,w=P.coerceRef(p,r,h,x,"pixel",["pixel","paper"]);w!=="pixel"&&w!==o&&(w=r[x]="pixel");var C=w==="pixel"?g[T]:.4;P.coercePosition(r,h,a,w,x,C)}a(c+"anchor"),a(c+"shift")}if(m.noneOrAll(p,r,["x","y"]),l&&m.noneOrAll(p,r,["ax","ay"]),f){var y=a("xclick"),M=a("yclick");r._xclick=y===void 0?r.x:P.cleanPosition(y,h,r.xref),r._yclick=M===void 0?r.y:P.cleanPosition(M,h,r.yref)}}}},23816:function(G,V,e){var m=e(33428),P=e(24040),i=e(7316),L=e(3400),S=L.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),a=e(72736),n=e(93972),f=e(86476),l=e(31780).arrayEditor,u=e(33652);G.exports={draw:g,drawOne:h,drawRaw:c};function g(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&h(o,x);return i.previousPromises(o)}function h(o,d){var x=o._fullLayout,w=x.annotations[d]||{},C=v.getFromId(o,w.xref),y=v.getFromId(o,w.yref);C&&C.setScale(),y&&y.setScale(),c(o,w,d,!1,C,y)}function T(o,d,x,w,C){var y=C[x],M=C[x+"ref"],A=x.indexOf("y")!==-1,s=v.getRefType(M)==="domain",E=A?w.h:w.w;return o?s?y+(A?-d:d)/o._length:o.p2r(o.r2p(y)+d):y+(A?-d:d)/E}function c(o,d,x,w,C,y){var M=o._fullLayout,A=o._fullLayout._size,s=o._context.edits,E,b;w?(E="annotation-"+w,b=w+".annotations"):(E="annotation",b="annotations");var F=l(o.layout,b,d),I=F.modifyBase,N=F.modifyItem,_=F.getUpdateObj;M._infolayer.selectAll("."+E+'[data-index="'+x+'"]').remove();var O="clip"+M._uid+"_ann"+x;if(!d._input||d.visible===!1){m.selectAll("#"+O).remove();return}var B={x:{},y:{}},z=+d.textangle||0,U=M._infolayer.append("g").classed(E,!0).attr("data-index",String(x)).style("opacity",d.opacity),Z=U.append("g").classed("annotation-text-g",!0),J=s[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||s.annotationText||J;function ne(ye){var we={index:x,annotation:d._input,fullAnnotation:d,event:ye};return w&&(we.subplotId=w),we}var ue=Z.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ne(m.event))});d.hovertext&&ue.on("mouseover",function(){var ye=d.hoverlabel,we=ye.font,be=this.getBoundingClientRect(),De=o.getBoundingClientRect();t.loneHover({x0:be.left-De.left,x1:be.right-De.left,y:(be.top+be.bottom)/2-De.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color,fontWeight:we.weight,fontStyle:we.style,fontVariant:we.variant,fontShadow:we.fontShadow,fontLineposition:we.fontLineposition,fontTextcase:we.fontTextcase},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(M._hoverlayer.node())});var te=d.borderwidth,Q=d.borderpad,ie=te+Q,Y=ue.append("rect").attr("class","bg").style("stroke-width",te+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),$=d.width||d.height,oe=M._topclips.selectAll("#"+O).data($?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),oe.exit().remove();var j=d.font,X=M._meta?L.templateString(d.text,M._meta):d.text,se=ue.append("text").classed("annotation-text",!0).text(X);function q(ye){return ye.call(r.font,j).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),a.convertToTspans(ye,o,ce),ye}function ce(){var ye=se.selectAll("a");if(ye.size()===1&&ye.text()===se.text()){var we=ue.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(Y.node())}var be=ue.select(".annotation-text-math-group"),De=!be.empty(),ke=r.bBox((De?be:se).node()),Be=ke.width,Ae=ke.height,Ie=d.width||Be,Me=d.height||Ae,Fe=Math.round(Ie+2*ie),Ee=Math.round(Me+2*ie);function He(yr,or){return or==="auto"&&(yr<.3333333333333333?or="left":yr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var rt=!1,ot=["x","y"],$e=0;$e<ot.length;$e++){var qe=ot[$e],ht=d[qe+"ref"]||qe,vt=d["a"+qe+"ref"],pt={x:C,y}[qe],wt=(z+(qe==="x"?0:-90))*Math.PI/180,Mt=Fe*Math.cos(wt),nt=Ee*Math.sin(wt),_e=Math.abs(Mt)+Math.abs(nt),Ge=d[qe+"anchor"],je=d[qe+"shift"]*(qe==="x"?1:-1),We=B[qe],Pe,Re,Xe,Le,ve,xe=v.getRefType(ht);if(pt&&xe!=="domain"){var Ne=pt.r2fraction(d[qe]);(Ne<0||Ne>1)&&(vt===ht?(Ne=pt.r2fraction(d["a"+qe]),(Ne<0||Ne>1)&&(rt=!0)):rt=!0),Pe=pt._offset+pt.r2p(d[qe]),Le=.5}else{var et=xe==="domain";qe==="x"?(Xe=d[qe],Pe=et?pt._offset+pt._length*Xe:Pe=A.l+A.w*Xe):(Xe=1-d[qe],Pe=et?pt._offset+pt._length*Xe:Pe=A.t+A.h*Xe),Le=d.showarrow?.5:Xe}if(d.showarrow){We.head=Pe;var st=d["a"+qe];if(ve=Mt*He(.5,d.xanchor)-nt*He(.5,d.yanchor),vt===ht){var lt=v.getRefType(vt);lt==="domain"?(qe==="y"&&(st=1-st),We.tail=pt._offset+pt._length*st):lt==="paper"?qe==="y"?(st=1-st,We.tail=A.t+A.h*st):We.tail=A.l+A.w*st:We.tail=pt._offset+pt.r2p(st),Re=ve}else We.tail=Pe+st,Re=ve+st;We.text=We.tail+ve;var Gt=M[qe==="x"?"width":"height"];if(ht==="paper"&&(We.head=L.constrain(We.head,1,Gt-1)),vt==="pixel"){var jt=-Math.max(We.tail-3,We.text),Tt=Math.min(We.tail+3,We.text)-Gt;jt>0?(We.tail+=jt,We.text+=jt):Tt>0&&(We.tail-=Tt,We.text-=Tt)}We.tail+=je,We.head+=je}else ve=_e*He(Le,Ge),Re=ve,We.text=Pe+ve;We.text+=je,ve+=je,Re+=je,d["_"+qe+"padplus"]=_e/2+Re,d["_"+qe+"padminus"]=_e/2-Re,d["_"+qe+"size"]=_e,d["_"+qe+"shift"]=ve}if(rt){ue.remove();return}var Dt=0,Xt=0;if(d.align!=="left"&&(Dt=(Ie-Be)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Xt=(Me-Ae)*(d.valign==="middle"?.5:1)),De)be.select("svg").attr({x:ie+Dt-1,y:ie+Xt}).call(r.setClipUrl,$?O:null,o);else{var gr=ie+Xt-ke.top,gt=ie+Dt-ke.left;se.call(a.positionText,gt,gr).call(r.setClipUrl,$?O:null,o)}oe.select("rect").call(r.setRect,ie,ie,Ie,Me),Y.call(r.setRect,te/2,te/2,Fe-te,Ee-te),ue.call(r.setTranslate,Math.round(B.x.text-Fe/2),Math.round(B.y.text-Ee/2)),Z.attr({transform:"rotate("+z+","+B.x.text+","+B.y.text+")"});var Zt=function(yr,or){U.selectAll(".annotation-arrow-g").remove();var mt=B.x.head,ut=B.y.head,bt=B.x.tail+yr,Et=B.y.tail+or,Rt=B.x.text+yr,Ht=B.y.text+or,Bt=L.rotationXYMatrix(z,Rt,Ht),Nt=L.apply2DTransform(Bt),Jt=L.apply2DTransform2(Bt),hr=+Y.attr("width"),fr=+Y.attr("height"),dr=Rt-.5*hr,Ye=dr+hr,Ve=Ht-.5*fr,_t=Ve+fr,kt=[[dr,Ve,dr,_t],[dr,_t,Ye,_t],[Ye,_t,Ye,Ve],[Ye,Ve,dr,Ve]].map(Jt);if(!kt.reduce(function(Dr,ln){return Dr^!!L.segmentsIntersect(mt,ut,mt+1e6,ut+1e6,ln[0],ln[1],ln[2],ln[3])},!1)){kt.forEach(function(Dr){var ln=L.segmentsIntersect(bt,Et,mt,ut,Dr[0],Dr[1],Dr[2],Dr[3]);ln&&(bt=ln.x,Et=ln.y)});var Kt=d.arrowwidth,sr=d.arrowcolor,cr=d.arrowside,er=U.append("g").style({opacity:p.opacity(sr)}).classed("annotation-arrow-g",!0),Ot=er.append("path").attr("d","M"+bt+","+Et+"L"+mt+","+ut).style("stroke-width",Kt+"px").call(p.stroke,p.rgb(sr));if(u(Ot,cr,d),s.annotationPosition&&Ot.node().parentNode&&!w){var nr=mt,vr=ut;if(d.standoff){var wr=Math.sqrt(Math.pow(mt-bt,2)+Math.pow(ut-Et,2));nr+=d.standoff*(bt-mt)/wr,vr+=d.standoff*(Et-ut)/wr}var ur=er.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-nr)+","+(Et-vr),transform:S(nr,vr)}).style("stroke-width",Kt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Vr,Pr;f.init({element:ur.node(),gd:o,prepFn:function(){var Dr=r.getTranslate(ue);Vr=Dr.x,Pr=Dr.y,C&&C.autorange&&I(C._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0)},moveFn:function(Dr,ln){var Wr=Nt(Vr,Pr),Tn=Wr[0]+Dr,An=Wr[1]+ln;ue.call(r.setTranslate,Tn,An),N("x",T(C,Dr,"x",A,d)),N("y",T(y,ln,"y",A,d)),d.axref===d.xref&&N("ax",T(C,Dr,"ax",A,d)),d.ayref===d.yref&&N("ay",T(y,ln,"ay",A,d)),er.attr("transform",S(Dr,ln)),Z.attr({transform:"rotate("+z+","+Tn+","+An+")"})},doneFn:function(){P.call("_guiRelayout",o,_());var Dr=document.querySelector(".js-notes-box-panel");Dr&&Dr.redraw(Dr.selectedObj)}})}}};if(d.showarrow&&Zt(0,0),J){var Qt;f.init({element:ue.node(),gd:o,prepFn:function(){Qt=Z.attr("transform")},moveFn:function(yr,or){var mt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",T(C,yr,"ax",A,d)):N("ax",d.ax+yr),d.ayref===d.yref?N("ay",T(y,or,"ay",A.w,d)):N("ay",d.ay+or),Zt(yr,or);else{if(w)return;var ut,bt;if(C)ut=T(C,yr,"x",A,d);else{var Et=d._xsize/A.w,Rt=d.x+(d._xshift-d.xshift)/A.w-Et/2;ut=f.align(Rt+yr/A.w,Et,0,1,d.xanchor)}if(y)bt=T(y,or,"y",A,d);else{var Ht=d._ysize/A.h,Bt=d.y-(d._yshift+d.yshift)/A.h-Ht/2;bt=f.align(Bt-or/A.h,Ht,0,1,d.yanchor)}N("x",ut),N("y",bt),(!C||!y)&&(mt=f.getCursor(C?.5:ut,y?.5:bt,d.xanchor,d.yanchor))}Z.attr({transform:S(yr,or)+Qt}),n(ue,mt)},clickFn:function(yr,or){d.captureevents&&o.emit("plotly_clickannotation",ne(or))},doneFn:function(){n(ue),P.call("_guiRelayout",o,_());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}s.annotationText?se.call(a.makeEditable,{delegate:ue,gd:o}).call(q).on("edit",function(ye){d.text=ye,this.call(q),N("text",ye),C&&C.autorange&&I(C._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0),P.call("_guiRelayout",o,_())}):se.call(q)}},33652:function(G,V,e){var m=e(33428),P=e(76308),i=e(72196),L=e(3400),S=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(t,a,n){var f=t.node(),l=i[n.arrowhead||0],u=i[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),T=a.indexOf("start")>=0,c=a.indexOf("end")>=0,o=l.backoff*g+n.standoff,d=u.backoff*h+n.startstandoff,x,w,C,y;if(f.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var M=x.x-w.x,A=x.y-w.y;if(C=Math.atan2(A,M),y=C+Math.PI,o&&d&&o+d>Math.sqrt(M*M+A*A)){Z();return}if(o){if(o*o>M*M+A*A){Z();return}var s=o*Math.cos(C),E=o*Math.sin(C);w.x+=s,w.y+=E,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>M*M+A*A){Z();return}var b=d*Math.cos(C),F=d*Math.sin(C);x.x-=b,x.y-=F,t.attr({x1:x.x,y1:x.y})}}else if(f.nodeName==="path"){var I=f.getTotalLength(),N="";if(I<o+d){Z();return}var _=f.getPointAtLength(0),O=f.getPointAtLength(.1);C=Math.atan2(_.y-O.y,_.x-O.x),x=f.getPointAtLength(Math.min(d,I)),N="0px,"+d+"px,";var B=f.getPointAtLength(I),z=f.getPointAtLength(I-.1);y=Math.atan2(B.y-z.y,B.x-z.x),w=f.getPointAtLength(Math.max(0,I-o));var U=N?d+o:o;N+=I-U+"px,"+I+"px",t.style("stroke-dasharray",N)}function Z(){t.style("stroke-dasharray","0px,100px")}function J(re,ne,ue,te){re.path&&(re.noRotate&&(ue=0),m.select(f.parentNode).append("path").attr({class:t.attr("class"),d:re.path,transform:p(ne.x,ne.y)+v(ue*180/Math.PI)+S(te)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&J(u,x,C,h),c&&J(l,w,y,g)}},79180:function(G,V,e){var m=e(23816),P=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:m.draw,drawOne:m.drawOne,drawRaw:m.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(G,V,e){var m=e(13916),P=e(67824).overrideAll,i=e(31780).templatedArray;G.exports=P(i("annotation",{visible:m.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:m.xanchor,xshift:m.xshift,yanchor:m.yanchor,yshift:m.yshift,text:m.text,textangle:m.textangle,font:m.font,width:m.width,height:m.height,opacity:m.opacity,align:m.align,valign:m.valign,bgcolor:m.bgcolor,bordercolor:m.bordercolor,borderpad:m.borderpad,borderwidth:m.borderwidth,showarrow:m.showarrow,arrowcolor:m.arrowcolor,arrowhead:m.arrowhead,startarrowhead:m.startarrowhead,arrowside:m.arrowside,arrowsize:m.arrowsize,startarrowsize:m.startarrowsize,arrowwidth:m.arrowwidth,standoff:m.standoff,startstandoff:m.startstandoff,hovertext:m.hovertext,hoverlabel:m.hoverlabel,captureevents:m.captureevents}),"calc","from-root")},42456:function(G,V,e){var m=e(3400),P=e(54460);G.exports=function(S){for(var v=S.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)i(p[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function i(L,S){var v=S.fullSceneLayout,p=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},m.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},m.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(G,V,e){var m=e(3400),P=e(54460),i=e(51272),L=e(87192),S=e(45899);G.exports=function(r,t,a){i(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:a.fullLayout})};function v(p,r,t,a){function n(u,g){return m.coerce(p,r,S,u,g)}function f(u){var g=u+"axis",h={_fullLayout:{}};return h._fullLayout[g]=t[g],P.coercePosition(r,h,n,u,u,.5)}var l=n("visible");l&&(L(p,r,a.fullLayout,n),f("x"),f("y"),f("z"),m.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),m.noneOrAll(p,r,["ax","ay"])))}},71836:function(G,V,e){var m=e(23816).drawRaw,P=e(94424),i=["x","y","z"];G.exports=function(S){for(var v=S.fullSceneLayout,p=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var a=r[t],n=!1,f=0;f<3;f++){var l=i[f],u=a[l],g=v[l+"axis"],h=g.r2fraction(u);if(h<0||h>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(a._pdata=P(S.glplot.cameraParams,[v.xaxis.r2l(a.x)*p[0],v.yaxis.r2l(a.y)*p[1],v.zaxis.r2l(a.z)*p[2]]),m(S.graphDiv,a,t,S.id,a._xa,a._ya))}}},56864:function(G,V,e){var m=e(24040),P=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:i,convert:e(42456),draw:e(71836)};function i(L,S){var v=m.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var a=r[t];p.test(a)&&(L[a].annotations||[]).length&&(P.pushUnique(S._basePlotModules,v),P.pushUnique(S._subplots.gl3d,a))}}},54976:function(G,V,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,V,e){var m=e(54976),P=e(3400),i=e(39032),L=i.EPOCHJD,S=i.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(m.calendars),editType:"calc",dflt:"gregorian"},p=function(C,y,M,A){var s={};return s[M]=v,P.coerce(C,y,s,M,A)},r=function(C,y,M,A){for(var s=0;s<M.length;s++)p(C,y,M[s]+"calendar",A.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},a={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",l={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(C,y,M){for(var A=Math.floor((y+.05)/S)+L,s=h(M).fromJD(A),E=0,b,F,I,N,_;(E=C.indexOf("%",E))!==-1;)b=C.charAt(E+1),b==="0"||b==="-"||b==="_"?(I=3,F=C.charAt(E+2),b==="_"&&(b="-")):(F=b,b="0",I=2),N=l[F],N?(N===f?_=f:_=s.formatDate(N[b]),C=C.substr(0,E)+_+C.substr(E+I),E+=_.length):E+=I;return C}var g={};function h(C){var y=g[C];return y||(y=g[C]=m.instance(C),y)}function T(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var o={xcalendar:T(c("x"))},d=P.extendFlat({},o,{ycalendar:T(c("y"))}),x=P.extendFlat({},d,{zcalendar:T(c("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:a,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:u}},22548:function(G,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},76308:function(G,V,e){var m=e(49760),P=e(38248),i=e(38116).isTypedArray,L=G.exports={},S=e(22548);L.defaults=S.defaults;var v=L.defaultLine=S.defaultLine;L.lightLine=S.lightLine;var p=L.background=S.background;L.tinyRGB=function(t){var a=t.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},L.rgb=function(t){return L.tinyRGB(m(t))},L.opacity=function(t){return t?m(t).getAlpha():0},L.addOpacity=function(t,a){var n=m(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+a+")"},L.combine=function(t,a){var n=m(t).toRgb();if(n.a===1)return m(t).toRgbString();var f=m(a||p).toRgb(),l=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},u={r:l.r*(1-n.a)+n.r*n.a,g:l.g*(1-n.a)+n.g*n.a,b:l.b*(1-n.a)+n.b*n.a};return m(u).toRgbString()},L.interpolate=function(t,a,n){var f=m(t).toRgb(),l=m(a).toRgb(),u={r:n*f.r+(1-n)*l.r,g:n*f.g+(1-n)*l.g,b:n*f.b+(1-n)*l.b};return m(u).toRgbString()},L.contrast=function(t,a,n){var f=m(t);f.getAlpha()!==1&&(f=m(L.combine(t,p)));var l=f.isDark()?a?f.lighten(a):p:n?f.darken(n):v;return l.toString()},L.stroke=function(t,a){var n=m(a);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,a){var n=m(a);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var a=Object.keys(t),n,f,l,u;for(n=0;n<a.length;n++)if(l=a[n],u=t[l],l.substr(l.length-5)==="color")if(Array.isArray(u))for(f=0;f<u.length;f++)u[f]=r(u[f]);else t[l]=r(u);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(u))for(f=0;f<u.length;f++)Array.isArray(u[f])&&(u[f][1]=r(u[f][1]));else if(Array.isArray(u)){var g=u[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(f=0;f<u.length;f++)L.clean(u[f])}else u&&typeof u=="object"&&!i(u)&&L.clean(u)}};function r(t){if(P(t)||typeof t!="string")return t;var a=t.trim();if(a.substr(0,3)!=="rgb")return t;var n=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),l=a.charAt(3)==="a"&&f.length===4;if(!l&&f.length!==3)return t;for(var u=0;u<f.length;u++){if(!f[u].length||(f[u]=Number(f[u]),!(f[u]>=0)))return t;if(u===3)f[u]>1&&(f[u]=1);else if(f[u]>=1)return t}var g=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return l?"rgba("+g+", "+f[3]+")":"rgb("+g+")"}},42996:function(G,V,e){var m=e(94724),P=e(25376),i=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:m.linecolor,outlinewidth:m.linewidth,bordercolor:m.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:i({},m.ticks,{dflt:""}),ticklabeloverflow:i({},m.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:P({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,V,e){var m=e(3400),P=e(31780),i=e(26332),L=e(25404),S=e(95936),v=e(42568),p=e(42996);G.exports=function(t,a,n){var f=P.newContainer(a,"colorbar"),l=t.colorbar||{};function u(B,z){return m.coerce(l,f,p,B,z)}var g=n.margin||{t:0,b:0,l:0,r:0},h=n.width-g.l-g.r,T=n.height-g.t-g.b,c=u("orientation"),o=c==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(o?h:T):30);var x=u("lenmode");u("len",x==="fraction"?1:o?T:h);var w=u("yref"),C=u("xref"),y=w==="paper",M=C==="paper",A,s,E,b="left";o?(E="middle",b=M?"left":"right",A=M?1.02:1,s=.5):(E=y?"bottom":"top",b="center",A=.5,s=y?1.02:1),m.coerce(l,f,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:A}},"x"),m.coerce(l,f,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:s}},"y"),u("xanchor",b),u("xpad"),u("yanchor",E),u("ypad"),m.noneOrAll(l,f,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var F=m.coerce(l,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(l,f,u,"linear");var I=n.font,N={noAutotickangles:!0,outerTicks:!1,font:I};F.indexOf("inside")!==-1&&(N.bgColor="black"),v(l,f,u,"linear",N),S(l,f,u,"linear",N),L(l,f,u,"linear",N),u("title.text",n._dfltTitle.colorbar);var _=f.showticklabels?f.tickfont:I,O=m.extendFlat({},I,{family:_.family,size:m.bigFont(_.size)});m.coerceFont(u,"title.font",O),u("title.side",o?"top":"right")}},37848:function(G,V,e){var m=e(33428),P=e(49760),i=e(7316),L=e(24040),S=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,a=e(93972),n=e(43616),f=e(76308),l=e(81668),u=e(72736),g=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),o=e(84284),d=o.LINE_SPACING,x=o.FROM_TL,w=o.FROM_BR,C=e(63964).cn;function y(F){var I=F._fullLayout,N=I._infolayer.selectAll("g."+C.colorbar).data(M(F),function(_){return _._id});N.enter().append("g").attr("class",function(_){return _._id}).classed(C.colorbar,!0),N.each(function(_){var O=m.select(this);p.ensureSingle(O,"rect",C.cbbg),p.ensureSingle(O,"g",C.cbfills),p.ensureSingle(O,"g",C.cblines),p.ensureSingle(O,"g",C.cbaxis,function(z){z.classed(C.crisp,!0)}),p.ensureSingle(O,"g",C.cbtitleunshift,function(z){z.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(O,"rect",C.cboutline);var B=A(O,_,F);B&&B.then&&(F._promises||[]).push(B),F._context.edits.colorbarPosition&&s(O,_,F)}),N.exit().each(function(_){i.autoMargin(F,_._id)}).remove(),N.order()}function M(F){var I=F._fullLayout,N=F.calcdata,_=[],O,B,z,U;function Z(j){return t(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof U.calc=="function"?U.calc(F,z,O):(O._fillgradient=B.reversescale?g(B.colorscale):B.colorscale,O._zrange=[B[U.min],B[U.max]])}for(var re=0;re<N.length;re++){var ne=N[re];if(z=ne[0].trace,!!z._module){var ue=z._module.colorbar;if(z.visible===!0&&ue)for(var te=Array.isArray(ue),Q=te?ue:[ue],ie=0;ie<Q.length;ie++){U=Q[ie];var Y=U.container;B=Y?z[Y]:z,B&&B.showscale&&(O=Z(B.colorbar),O._id="cb"+z.uid+(te&&Y?"-"+Y:""),O._traceIndex=z.index,O._propPrefix=(Y?Y+".":"")+"colorbar.",O._meta=z._meta,J(),_.push(O))}}}for(var $ in I._colorAxes)if(B=I[$],B.showscale){var oe=I._colorAxes[$];O=Z(B.colorbar),O._id="cb"+$,O._propPrefix=$+".colorbar.",O._meta=I._meta,U={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(z=oe[1],U.calc=z._module.colorbar.calc),J(),_.push(O)}return _}function A(F,I,N){var _=I.orientation==="v",O=I.len,B=I.lenmode,z=I.thickness,U=I.thicknessmode,Z=I.outlinewidth,J=I.borderwidth,re=I.bgcolor,ne=I.xanchor,ue=I.yanchor,te=I.xpad,Q=I.ypad,ie=I.x,Y=_?I.y:1-I.y,$=I.yref==="paper",oe=I.xref==="paper",j=N._fullLayout,X=j._size,se=I._fillcolor,q=I._line,ce=I.title,ye=ce.side,we=I._zrange||m.extent((typeof se=="function"?se:q.color).domain()),be=typeof q.color=="function"?q.color:function(){return q.color},De=typeof se=="function"?se:function(){return se},ke=I._levels,Be=E(N,I,we),Ae=Be.fill,Ie=Be.line,Me=Math.round(z*(U==="fraction"?_?X.w:X.h:1)),Fe=Me/(_?X.w:X.h),Ee=Math.round(O*(B==="fraction"?_?X.h:X.w:1)),He=Ee/(_?X.h:X.w),rt=oe?X.w:N._fullLayout.width,ot=$?X.h:N._fullLayout.height,$e=Math.round(_?ie*rt+te:Y*ot+Q),qe={center:.5,right:1}[ne]||0,ht={top:1,middle:.5}[ue]||0,vt=_?ie-qe*Fe:Y-ht*Fe,pt=_?Y-ht*He:ie-qe*He,wt=Math.round(_?ot*(1-pt):rt*pt);I._lenFrac=He,I._thickFrac=Fe,I._uFrac=vt,I._vFrac=pt;var Mt=I._axis=b(N,I,we);Mt.position=Fe+(_?ie+te/X.w:Y+Q/X.h);var nt=["top","bottom"].indexOf(ye)!==-1;if(_&&nt&&(Mt.title.side=ye,Mt.titlex=ie+te/X.w,Mt.titley=pt+(ce.side==="top"?He-Q/X.h:Q/X.h)),!_&&!nt&&(Mt.title.side=ye,Mt.titley=Y+Q/X.h,Mt.titlex=pt+te/X.w),q.color&&I.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=ke.start;var _e=ke.size,Ge=p.constrain(Ee/50,4,15)+1,je=(we[1]-we[0])/((I.nticks||Ge)*_e);if(je>1){var We=Math.pow(10,Math.floor(Math.log(je)/Math.LN10));_e*=We*p.roundUp(je/We,[2,5,10]),(Math.abs(ke.start)/ke.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=_e}Mt.domain=_?[pt+Q/X.h,pt+He-Q/X.h]:[pt+te/X.w,pt+He-te/X.w],Mt.setScale(),F.attr("transform",r(Math.round(X.l),Math.round(X.t)));var Pe=F.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(X.l),-Math.round(X.t))),Re=Mt.ticklabelposition,Xe=Mt.title.font.size,Le=F.select("."+C.cbaxis),ve,xe=0,Ne=0;function et(Tt,Dt){var Xt={propContainer:Mt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:j._dfltTitle.colorbar,containerGroup:F.select("."+C.cbtitle)},gr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;F.selectAll("."+gr+",."+gr+"-math-group").remove(),l.draw(N,Tt,t(Xt,Dt||{}))}function st(){if(_&&nt||!_&&!nt){var Tt,Dt;ye==="top"&&(Tt=te+X.l+rt*ie,Dt=Q+X.t+ot*(1-pt-He)+3+Xe*.75),ye==="bottom"&&(Tt=te+X.l+rt*ie,Dt=Q+X.t+ot*(1-pt)-3-Xe*.25),ye==="right"&&(Dt=Q+X.t+ot*Y+3+Xe*.75,Tt=te+X.l+rt*pt),et(Mt._id+"title",{attributes:{x:Tt,y:Dt,"text-anchor":_?"start":"middle"}})}}function lt(){if(_&&!nt||!_&&nt){var Tt=Mt.position||0,Dt=Mt._offset+Mt._length/2,Xt,gr;if(ye==="right")gr=Dt,Xt=X.l+rt*Tt+10+Xe*(Mt.showticklabels?1:.5);else if(Xt=Dt,ye==="bottom"&&(gr=X.t+ot*Tt+10+(Re.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&I.ticklen||0)),ye==="top"){var gt=ce.text.split("<br>").length;gr=X.t+ot*Tt+10-Me-d*Xe*gt}et((_?"h":"v")+Mt._id+"title",{avoid:{selection:m.select(N).selectAll("g."+Mt._id+"tick"),side:ye,offsetTop:_?0:X.t,offsetLeft:_?X.l:0,maxShift:_?j.width:j.height},attributes:{x:Xt,y:gr,"text-anchor":"middle"},transform:{rotate:_?-90:0,offset:0}})}}function Gt(){if(!_&&!nt||_&&nt){var Tt=F.select("."+C.cbtitle),Dt=Tt.select("text"),Xt=[-Z/2,Z/2],gr=Tt.select(".h"+Mt._id+"title-math-group").node(),gt=15.6;Dt.node()&&(gt=parseInt(Dt.node().style.fontSize,10)*d);var Zt;if(gr?(Zt=n.bBox(gr),Ne=Zt.width,xe=Zt.height,xe>gt&&(Xt[1]-=(xe-gt)/2)):Dt.node()&&!Dt.classed(C.jsPlaceholder)&&(Zt=n.bBox(Dt.node()),Ne=Zt.width,xe=Zt.height),_){if(xe){if(xe+=5,ye==="top")Mt.domain[1]-=xe/X.h,Xt[1]*=-1;else{Mt.domain[0]+=xe/X.h;var Qt=u.lineCount(Dt);Xt[1]+=(1-Qt)*gt}Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale()}}else Ne&&(ye==="right"&&(Mt.domain[0]+=(Ne+Xe/2)/X.w),Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale())}F.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",_?r(0,Math.round(X.h*(1-Mt.domain[1]))):r(Math.round(X.w*Mt.domain[0]),0)),Le.attr("transform",_?r(0,Math.round(-X.t)):r(Math.round(-X.l),0));var yr=F.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(Ae);yr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),yr.exit().remove();var or=we.map(Mt.c2p).map(Math.round).sort(function(Rt,Ht){return Rt-Ht});yr.each(function(Rt,Ht){var Bt=[Ht===0?we[0]:(Ae[Ht]+Ae[Ht-1])/2,Ht===Ae.length-1?we[1]:(Ae[Ht]+Ae[Ht+1])/2].map(Mt.c2p).map(Math.round);_&&(Bt[1]=p.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,or[0],or[1]));var Nt=m.select(this).attr(_?"x":"y",$e).attr(_?"y":"x",m.min(Bt)).attr(_?"width":"height",Math.max(Me,2)).attr(_?"height":"width",Math.max(m.max(Bt)-m.min(Bt),2));if(I._fillgradient)n.gradient(Nt,N,I._id,_?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Jt=De(Rt).replace("e-","");Nt.attr("fill",P(Jt).toHexString())}});var mt=F.select("."+C.cblines).selectAll("path."+C.cbline).data(q.color&&q.width?Ie:[]);mt.enter().append("path").classed(C.cbline,!0),mt.exit().remove(),mt.each(function(Rt){var Ht=$e,Bt=Math.round(Mt.c2p(Rt))+q.width/2%1;m.select(this).attr("d","M"+(_?Ht+","+Bt:Bt+","+Ht)+(_?"h":"v")+Me).call(n.lineGroupStyle,q.width,be(Rt),q.dash)}),Le.selectAll("g."+Mt._id+"tick,path").remove();var ut=$e+Me+(Z||0)/2-(I.ticks==="outside"?1:0),bt=S.calcTicks(Mt),Et=S.getTickSigns(Mt)[2];return S.drawTicks(N,Mt,{vals:Mt.ticks==="inside"?S.clipEnds(Mt,bt):bt,layer:Le,path:S.makeTickPath(Mt,ut,Et),transFn:S.makeTransTickFn(Mt)}),S.drawLabels(N,Mt,{vals:bt,layer:Le,transFn:S.makeTransTickLabelFn(Mt),labelFns:S.makeLabelFns(Mt,ut)})}function jt(){var Tt,Dt=Me+Z/2;Re.indexOf("inside")===-1&&(Tt=n.bBox(Le.node()),Dt+=_?Tt.width:Tt.height),ve=Pe.select("text");var Xt=0,gr=_&&ye==="top",gt=!_&&ye==="right",Zt=0;if(ve.node()&&!ve.classed(C.jsPlaceholder)){var Qt,yr=Pe.select(".h"+Mt._id+"title-math-group").node();yr&&(_&&nt||!_&&!nt)?(Tt=n.bBox(yr),Xt=Tt.width,Qt=Tt.height):(Tt=n.bBox(Pe.node()),Xt=Tt.right-X.l-(_?$e:wt),Qt=Tt.bottom-X.t-(_?wt:$e),!_&&ye==="top"&&(Dt+=Tt.height,Zt=Tt.height)),gt&&(ve.attr("transform",r(Xt/2+Xe/2,0)),Xt*=2),Dt=Math.max(Dt,_?Xt:Qt)}var or=(_?te:Q)*2+Dt+J+Z/2,mt=0;!_&&ce.text&&ue==="bottom"&&Y<=0&&(mt=or/2,or+=mt,Zt+=mt),j._hColorbarMoveTitle=mt,j._hColorbarMoveCBTitle=Zt;var ut=J+Z,bt=(_?$e:wt)-ut/2-(_?te:0),Et=(_?wt:$e)-(_?Ee:Q+Zt-mt);F.select("."+C.cbbg).attr("x",bt).attr("y",Et).attr(_?"width":"height",Math.max(or-mt,2)).attr(_?"height":"width",Math.max(Ee+ut,2)).call(f.fill,re).call(f.stroke,I.bordercolor).style("stroke-width",J);var Rt=gt?Math.max(Xt-10,0):0;F.selectAll("."+C.cboutline).attr("x",(_?$e:wt+te)+Rt).attr("y",(_?wt+Q-Ee:$e)+(gr?xe:0)).attr(_?"width":"height",Math.max(Me,2)).attr(_?"height":"width",Math.max(Ee-(_?2*Q+xe:2*te+Rt),2)).call(f.stroke,I.outlinecolor).style({fill:"none","stroke-width":Z});var Ht=_?qe*or:0,Bt=_?0:(1-ht)*or-Zt;if(Ht=oe?X.l-Ht:-Ht,Bt=$?X.t-Bt:-Bt,F.attr("transform",r(Ht,Bt)),!_&&(J||P(re).getAlpha()&&!P.equals(j.paper_bgcolor,re))){var Nt=Le.selectAll("text"),Jt=Nt[0].length,hr=F.select("."+C.cbbg).node(),fr=n.bBox(hr),dr=n.getTranslate(F),Ye=2;Nt.each(function(vr,wr){var ur=0,Vr=Jt-1;if(wr===ur||wr===Vr){var Pr=n.bBox(this),Dr=n.getTranslate(this),ln;if(wr===Vr){var Wr=Pr.right+Dr.x,Tn=fr.right+dr.x+wt-J-Ye+ie;ln=Tn-Wr,ln>0&&(ln=0)}else if(wr===ur){var An=Pr.left+Dr.x,Tr=fr.left+dr.x+wt+J+Ye;ln=Tr-An,ln<0&&(ln=0)}ln&&(Jt<3?this.setAttribute("transform","translate("+ln+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ve={},_t=x[ne],kt=w[ne],Kt=x[ue],sr=w[ue],cr=or-Me;_?(B==="pixels"?(Ve.y=Y,Ve.t=Ee*Kt,Ve.b=Ee*sr):(Ve.t=Ve.b=0,Ve.yt=Y+O*Kt,Ve.yb=Y-O*sr),U==="pixels"?(Ve.x=ie,Ve.l=or*_t,Ve.r=or*kt):(Ve.l=cr*_t,Ve.r=cr*kt,Ve.xl=ie-z*_t,Ve.xr=ie+z*kt)):(B==="pixels"?(Ve.x=ie,Ve.l=Ee*_t,Ve.r=Ee*kt):(Ve.l=Ve.r=0,Ve.xl=ie+O*_t,Ve.xr=ie-O*kt),U==="pixels"?(Ve.y=1-Y,Ve.t=or*Kt,Ve.b=or*sr):(Ve.t=cr*Kt,Ve.b=cr*sr,Ve.yt=Y-z*Kt,Ve.yb=Y+z*sr));var er=I.y<.5?"b":"t",Ot=I.x<.5?"l":"r";N._fullLayout._reservedMargin[I._id]={};var nr={r:j.width-bt-Ht,l:bt+Ve.r,b:j.height-Et-Bt,t:Et+Ve.b};oe&&$?i.autoMargin(N,I._id,Ve):oe?N._fullLayout._reservedMargin[I._id][er]=nr[er]:$||_?N._fullLayout._reservedMargin[I._id][Ot]=nr[Ot]:N._fullLayout._reservedMargin[I._id][er]=nr[er]}return p.syncOrAsync([i.previousPromises,st,Gt,lt,i.previousPromises,jt],N)}function s(F,I,N){var _=I.orientation==="v",O=N._fullLayout,B=O._size,z,U,Z;v.init({element:F.node(),gd:N,prepFn:function(){z=F.attr("transform"),a(F)},moveFn:function(J,re){F.attr("transform",z+r(J,re)),U=v.align((_?I._uFrac:I._vFrac)+J/B.w,_?I._thickFrac:I._lenFrac,0,1,I.xanchor),Z=v.align((_?I._vFrac:1-I._uFrac)-re/B.h,_?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ne=v.getCursor(U,Z,I.xanchor,I.yanchor);a(F,ne)},doneFn:function(){if(a(F),U!==void 0&&Z!==void 0){var J={};J[I._propPrefix+"x"]=U,J[I._propPrefix+"y"]=Z,I._traceIndex!==void 0?L.call("_guiRestyle",N,J,I._traceIndex):L.call("_guiRelayout",N,J)}}})}function E(F,I,N){var _=I._levels,O=[],B=[],z,U,Z=_.end+_.size/100,J=_.size,re=1.001*N[0]-.001*N[1],ne=1.001*N[1]-.001*N[0];for(U=0;U<1e5&&(z=_.start+U*J,!(J>0?z>=Z:z<=Z));U++)z>re&&z<ne&&O.push(z);if(I._fillgradient)B=[0];else if(typeof I._fillcolor=="function"){var ue=I._filllevels;if(ue)for(Z=ue.end+ue.size/100,J=ue.size,U=0;U<1e5&&(z=ue.start+U*J,!(J>0?z>=Z:z<=Z));U++)z>N[0]&&z<N[1]&&B.push(z);else B=O.map(function(te){return te-_.size/2}),B.push(B[B.length-1]+_.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(B=[0]);return _.size<0&&(O.reverse(),B.reverse()),{line:O,fill:B}}function b(F,I,N){var _=F._fullLayout,O=I.orientation==="v",B={type:"linear",range:N,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},z=O?"y":"x",U={type:"linear",_id:z+I._id},Z={letter:z,font:_.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:_.calendar};function J(re,ne){return p.coerce(B,U,c,re,ne)}return h(B,U,J,Z,_),T(B,U,J,Z),U}G.exports={draw:y}},90553:function(G,V,e){var m=e(3400);G.exports=function(i){return m.isPlainObject(i.colorbar)}},55080:function(G,V,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,V,e){var m=e(42996),P=e(53756).counter,i=e(95376),L=e(88304).scales;i(L),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",a="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,f=p.editTypeOverride||"",l;"colorAttr"in p?(l=p.colorAttr,p.colorAttr):l={z:"z",c:"color"}[r];var u=r+"auto",g=r+"min",h=r+"max",T=r+"mid",c={};c[g]=c[h]=void 0;var o={};o[u]=!1;var d={};return l==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},p.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[g]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:a,editType:"calc"},d.colorbar=m),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(G,V,e){var m=e(38248),P=e(3400),i=e(94288).extractOpts;G.exports=function(S,v,p){var r=S._fullLayout,t=p.vals,a=p.containerStr,n=a?P.nestedProperty(v,a).get():v,f=i(n),l=f.auto!==!1,u=f.min,g=f.max,h=f.mid,T=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(u===void 0?u=T():l&&(n._colorAx&&m(u)?u=Math.min(u,T()):u=T()),g===void 0?g=c():l&&(n._colorAx&&m(g)?g=Math.max(g,c()):g=c()),l&&h!==void 0&&(g-h>h-u?u=h-(g-h):g-h<h-u&&(g=h+(h-u))),u===g&&(u-=.5,g+=.5),f._sync("min",u),f._sync("max",g),f.autocolorscale){var o;u*g<0?o=r.colorscale.diverging:u>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,f._sync("colorscale",o)}}},95504:function(G,V,e){var m=e(3400),P=e(94288).hasColorscale,i=e(94288).extractOpts;G.exports=function(S,v){function p(u,g){var h=u["_"+g];h!==void 0&&(u[g]=h)}function r(u,g){var h=g.container?m.nestedProperty(u,g.container).get():u;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=i(h),c=T.auto;(c||T.min===void 0)&&p(h,g.min),(c||T.max===void 0)&&p(h,g.max),T.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<S.length;t++){var a=S[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(a,n[f]);else r(a,n);P(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in v._colorAxes)r(v[l],{min:"cmin",max:"cmax"})}},27260:function(G,V,e){var m=e(38248),P=e(3400),i=e(90553),L=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var a=t.slice(0,t.length-1);return t?P.nestedProperty(r,a).get()||{}:r}G.exports=function r(t,a,n,f,l){var u=l.prefix,g=l.cLetter,h="_module"in a,T=p(t,u),c=p(a,u),o=p(a._template||{},u)||{},d=function(){return delete t.coloraxis,delete a.coloraxis,r(t,a,n,f,l)};if(h){var x=n._colorAxes||{},w=f(u+"coloraxis");if(w){var C=v(a,"contour")&&P.nestedProperty(a,"contours.coloring").get()||"heatmap",y=x[w];y?(y[2].push(d),y[0]!==C&&(y[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[C,a,[d]];return}}var M=T[g+"min"],A=T[g+"max"],s=m(M)&&m(A)&&M<A,E=f(u+g+"auto",!s);E?f(u+g+"mid"):(f(u+g+"min"),f(u+g+"max"));var b=T.colorscale,F=o.colorscale,I;if(b!==void 0&&(I=!S(b)),F!==void 0&&(I=!S(F)),f(u+"autocolorscale",I),f(u+"colorscale"),f(u+"reversescale"),u!=="marker.line."){var N;u&&h&&(N=i(T));var _=f(u+"showscale",N);_&&(u&&o&&(c._template=o),L(T,c,n))}}},94288:function(G,V,e){var m=e(33428),P=e(49760),i=e(38248),L=e(3400),S=e(76308),v=e(88304).isValid;function p(h,T,c){var o=T?L.nestedProperty(h,T).get()||{}:h,d=o[c||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(L.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(i(d[w])){x=!0;break}}return L.isPlainObject(o)&&(x||o.showscale===!0||i(o.cmin)&&i(o.cmax)||v(o.colorscale)||L.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(h){var T=h._colorAx,c=T||h,o={},d,x,w;for(x=0;x<r.length;x++)w=r[x],o[w]=c[w];if(T)for(d="c",x=0;x<t.length;x++)w=t[x],o[w]=c["c"+w];else{var C;for(x=0;x<t.length;x++){if(w=t[x],C="c"+w,C in c){o[w]=c[C];continue}C="z"+w,C in c&&(o[w]=c[C])}d=C.charAt(0)}return o._sync=function(y,M){var A=t.indexOf(y)!==-1?d+y:y;c[A]=c["_"+A]=M},o}function n(h){for(var T=a(h),c=T.min,o=T.max,d=T.reversescale?f(T.colorscale):T.colorscale,x=d.length,w=new Array(x),C=new Array(x),y=0;y<x;y++){var M=d[y];w[y]=c+M[0]*(o-c),C[y]=M[1]}return{domain:w,range:C}}function f(h){for(var T=h.length,c=new Array(T),o=T-1,d=0;o>=0;o--,d++){var x=h[o];c[d]=[1-x[0],x[1]]}return c}function l(h,T){T=T||{};for(var c=h.domain,o=h.range,d=o.length,x=new Array(d),w=0;w<d;w++){var C=P(o[w]).toRgb();x[w]=[C.r,C.g,C.b,C.a]}var y=m.scale.linear().domain(c).range(x).clamp(!0),M=T.noNumericCheck,A=T.returnArray,s;return M&&A?s=y:M?s=function(E){return g(y(E))}:A?s=function(E){return i(E)?y(E):P(E).isValid()?E:S.defaultLine}:s=function(E){return i(E)?g(y(E)):P(E).isValid()?E:S.defaultLine},s.domain=y.domain,s.range=function(){return o},s}function u(h,T){return l(n(h),T)}function g(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:a,extractScale:n,flipScale:f,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:u}},8932:function(G,V,e){var m=e(88304),P=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:m.scales,defaultScale:m.defaultScale,getScale:m.get,isValidScale:m.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(G,V,e){var m=e(92880).extendFlat,P=e(49084),i=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:m({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,V,e){var m=e(3400),P=e(31780),i=e(92332),L=e(27260);G.exports=function(v,p){function r(h,T){return m.coerce(v,p,i,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,a,n;function f(h,T){return m.coerce(a,n,i.coloraxis,h,T)}for(var l in t){var u=t[l];if(u[0])a=v[l]||{},n=P.newContainer(p,l,"coloraxis"),n._name=l,L(a,n,p,f,{prefix:"",cLetter:"c"});else{for(var g=0;g<u[2].length;g++)u[2][g]();delete p._colorAxes[l]}}}},88304:function(G,V,e){var m=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=P.RdBu;function L(p,r){if(r||(r=i),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),S(p)?p:r}function S(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var a=p[t];if(a.length!==2||+a[0]<r||!m(a[1]).isValid())return!1;r=+a[0]}return!0}function v(p){return P[p]!==void 0?!0:S(p)}G.exports={scales:P,defaultScale:i,get:L,isValid:v}},78316:function(G){G.exports=function(e,m,P,i,L){var S=(e-P)/(i-P),v=S+m/(i-P),p=(S+v)/2;return L==="left"||L==="bottom"?S:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:S<.6666666666666666-p?S:v>1.3333333333333333-p?v:p}},67416:function(G,V,e){var m=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,S,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=m.constrain(Math.floor(L*3),0,2),p==="bottom"?S=0:p==="middle"?S=1:p==="top"?S=2:S=m.constrain(Math.floor(S*3),0,2),P[S][L]}},72760:function(G,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},86476:function(G,V,e){var m=e(29128),P=e(52264),i=e(89184),L=e(3400).removeElement,S=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var f=n.gd,l=1,u=f._context.doubleClickDelay,g=n.element,h,T,c,o,d,x,w,C;f._mouseDownTime||(f._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=A,i?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=A,g.addEventListener("touchstart",A,{passive:!1})):g.ontouchstart=A;function y(b,F,I){return Math.abs(b)<I&&(b=0),Math.abs(F)<I&&(F=0),[b,F]}var M=n.clampFn||y;function A(b){f._dragged=!1,f._dragging=!0;var F=t(b);h=F[0],T=F[1],w=b.target,x=b,C=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=h,b.clientY=T),c=new Date().getTime(),c-f._mouseDownTime<u?l+=1:(l=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(b,h,T),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(b){b.preventDefault();var F=t(b),I=n.minDrag||S.MINDRAG,N=M(F[0]-h,F[1]-T,I),_=N[0],O=N[1];(_||O)&&(f._dragged=!0,v.unhover(f,b)),f._dragged&&n.moveFn&&!C&&(f._dragdata={element:g,dx:_,dy:O},n.moveFn(_,O))}function E(b){if(delete f._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(d):o&&(d.documentElement.style.cursor=o,o=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>u&&(l=Math.max(l-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(l,x),!C){var F;try{F=new MouseEvent("click",b)}catch{var I=t(b);F=document.createEvent("MouseEvents"),F.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,I[0],I[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}w.dispatchEvent(F)}f._dragging=!1,f._dragged=!1}};function r(){var a=document.createElement("div");a.className="dragcover";var n=a.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(a),a}v.coverSlip=r;function t(a){return m(a.changedTouches?a.changedTouches[0]:a,document.body)}},2616:function(G,V,e){var m=e(95924),P=e(91200),i=e(52200).getGraphDiv,L=e(92456),S=G.exports={};S.wrapped=function(v,p,r){v=i(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),S.raw(v,p,r)},S.raw=function(p,r){var t=p._fullLayout,a=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&m.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&a&&p.emit("plotly_unhover",{event:r,points:a}))}},98192:function(G,V){V.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,V,e){var m=e(33428),P=e(3400),i=P.numberFormat,L=e(38248),S=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,a=e(72736),n=e(9616),f=e(84284),l=f.LINE_SPACING,u=e(13448).DESELECTDIM,g=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=G.exports={};c.font=function(Me,Fe){var Ee=Fe.variant,He=Fe.style,rt=Fe.weight,ot=Fe.color,$e=Fe.size,qe=Fe.family,ht=Fe.shadow,vt=Fe.lineposition,pt=Fe.textcase;qe&&Me.style("font-family",qe),$e+1&&Me.style("font-size",$e+"px"),ot&&Me.call(p.fill,ot),rt&&Me.style("font-weight",rt),He&&Me.style("font-style",He),Ee&&Me.style("font-variant",Ee),pt&&Me.style("text-transform",o(x(pt))),ht&&Me.style("text-shadow",ht==="auto"?a.makeTextShadow(p.contrast(ot)):o(ht)),vt&&Me.style("text-decoration-line",o(w(vt)))};function o(Me){return Me==="none"?void 0:Me}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function x(Me){return d[Me]}function w(Me){return Me.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(Me,Fe,Ee){Me.attr("x",Fe).attr("y",Ee)},c.setSize=function(Me,Fe,Ee){Me.attr("width",Fe).attr("height",Ee)},c.setRect=function(Me,Fe,Ee,He,rt){Me.call(c.setPosition,Fe,Ee).call(c.setSize,He,rt)},c.translatePoint=function(Me,Fe,Ee,He){var rt=Ee.c2p(Me.x),ot=He.c2p(Me.y);if(L(rt)&&L(ot)&&Fe.node())Fe.node().nodeName==="text"?Fe.attr("x",rt).attr("y",ot):Fe.attr("transform",t(rt,ot));else return!1;return!0},c.translatePoints=function(Me,Fe,Ee){Me.each(function(He){var rt=m.select(this);c.translatePoint(He,rt,Fe,Ee)})},c.hideOutsideRangePoint=function(Me,Fe,Ee,He,rt,ot){Fe.attr("display",Ee.isPtWithinRange(Me,rt)&&He.isPtWithinRange(Me,ot)?null:"none")},c.hideOutsideRangePoints=function(Me,Fe){if(Fe._hasClipOnAxisFalse){var Ee=Fe.xaxis,He=Fe.yaxis;Me.each(function(rt){var ot=rt[0].trace,$e=ot.xcalendar,qe=ot.ycalendar,ht=v.traceIs(ot,"bar-like")?".bartext":".point,.textpoint";Me.selectAll(ht).each(function(vt){c.hideOutsideRangePoint(vt,m.select(this),Ee,He,$e,qe)})})}},c.crispRound=function(Me,Fe,Ee){return!Fe||!L(Fe)?Ee||0:Me._context.staticPlot?Fe:Fe<1?1:Math.round(Fe)},c.singleLineStyle=function(Me,Fe,Ee,He,rt){Fe.style("fill","none");var ot=(((Me||[])[0]||{}).trace||{}).line||{},$e=Ee||ot.width||0,qe=rt||ot.dash||"";p.stroke(Fe,He||ot.color),c.dashLine(Fe,qe,$e)},c.lineGroupStyle=function(Me,Fe,Ee,He){Me.style("fill","none").each(function(rt){var ot=(((rt||[])[0]||{}).trace||{}).line||{},$e=Fe||ot.width||0,qe=He||ot.dash||"";m.select(this).call(p.stroke,Ee||ot.color).call(c.dashLine,qe,$e)})},c.dashLine=function(Me,Fe,Ee){Ee=+Ee||0,Fe=c.dashStyle(Fe,Ee),Me.style({"stroke-dasharray":Fe,"stroke-width":Ee+"px"})},c.dashStyle=function(Me,Fe){Fe=+Fe||1;var Ee=Math.max(Fe,3);return Me==="solid"?Me="":Me==="dot"?Me=Ee+"px,"+Ee+"px":Me==="dash"?Me=3*Ee+"px,"+3*Ee+"px":Me==="longdash"?Me=5*Ee+"px,"+5*Ee+"px":Me==="dashdot"?Me=3*Ee+"px,"+Ee+"px,"+Ee+"px,"+Ee+"px":Me==="longdashdot"&&(Me=5*Ee+"px,"+2*Ee+"px,"+Ee+"px,"+2*Ee+"px"),Me};function C(Me,Fe,Ee,He){var rt=Fe.fillpattern,ot=Fe.fillgradient,$e=rt&&c.getPatternAttr(rt.shape,0,"");if($e){var qe=c.getPatternAttr(rt.bgcolor,0,null),ht=c.getPatternAttr(rt.fgcolor,0,null),vt=rt.fgopacity,pt=c.getPatternAttr(rt.size,0,8),wt=c.getPatternAttr(rt.solidity,0,.3),Mt=Fe.uid;c.pattern(Me,"point",Ee,Mt,$e,pt,wt,void 0,rt.fillmode,qe,ht,vt)}else if(ot&&ot.type!=="none"){var nt=ot.type,_e="scatterfill-"+Fe.uid;if(He&&(_e="legendfill-"+Fe.uid),!He&&(ot.start!==void 0||ot.stop!==void 0)){var Ge,je;nt==="horizontal"?(Ge={x:ot.start,y:0},je={x:ot.stop,y:0}):nt==="vertical"&&(Ge={x:0,y:ot.start},je={x:0,y:ot.stop}),Ge.x=Fe._xA.c2p(Ge.x===void 0?Fe._extremes.x.min[0].val:Ge.x,!0),Ge.y=Fe._yA.c2p(Ge.y===void 0?Fe._extremes.y.min[0].val:Ge.y,!0),je.x=Fe._xA.c2p(je.x===void 0?Fe._extremes.x.max[0].val:je.x,!0),je.y=Fe._yA.c2p(je.y===void 0?Fe._extremes.y.max[0].val:je.y,!0),Me.call(F,Ee,_e,"linear",ot.colorscale,"fill",Ge,je,!0,!1)}else nt==="horizontal"&&(nt=nt+"reversed"),Me.call(c.gradient,Ee,_e,nt,ot.colorscale,"fill")}else Fe.fillcolor&&Me.call(p.fill,Fe.fillcolor)}c.singleFillStyle=function(Me,Fe){var Ee=m.select(Me.node()),He=Ee.data(),rt=((He[0]||[])[0]||{}).trace||{};C(Me,rt,Fe,!1)},c.fillGroupStyle=function(Me,Fe,Ee){Me.style("stroke-width",0).each(function(He){var rt=m.select(this);He[0].trace&&C(rt,He[0].trace,Fe,Ee)})};var y=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(y).forEach(function(Me){var Fe=y[Me],Ee=Fe.n;c.symbolList.push(Ee,String(Ee),Me,Ee+100,String(Ee+100),Me+"-open"),c.symbolNames[Ee]=Me,c.symbolFuncs[Ee]=Fe.f,c.symbolBackOffs[Ee]=Fe.backoff||0,Fe.needLine&&(c.symbolNeedLines[Ee]=!0),Fe.noDot?c.symbolNoDot[Ee]=!0:c.symbolList.push(Ee+200,String(Ee+200),Me+"-dot",Ee+300,String(Ee+300),Me+"-open-dot"),Fe.noFill&&(c.symbolNoFill[Ee]=!0)});var M=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(Me){if(L(Me))Me=+Me;else if(typeof Me=="string"){var Fe=0;Me.indexOf("-open")>0&&(Fe=100,Me=Me.replace("-open","")),Me.indexOf("-dot")>0&&(Fe+=200,Me=Me.replace("-dot","")),Me=c.symbolNames.indexOf(Me),Me>=0&&(Me+=Fe)}return Me%100>=M||Me>=400?0:Math.floor(Math.max(Me,0))};function s(Me,Fe,Ee,He){var rt=Me%100;return c.symbolFuncs[rt](Fe,Ee,He)+(Me>=200?A:"")}var E=i("~f"),b={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(Me,Fe,Ee,He,rt,ot){var $e=b[He];return F(Me,Fe,Ee,$e.type,rt,ot,$e.start,$e.stop,!1,$e.reversed)};function F(Me,Fe,Ee,He,rt,ot,$e,qe,ht,vt){var pt=rt.length,wt;He==="linear"?wt={node:"linearGradient",attrs:{x1:$e.x,y1:$e.y,x2:qe.x,y2:qe.y,gradientUnits:ht?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:He==="radial"&&(wt={node:"radialGradient",reversed:vt});for(var Mt=new Array(pt),nt=0;nt<pt;nt++)wt.reversed?Mt[pt-1-nt]=[E((1-rt[nt][0])*100),rt[nt][1]]:Mt[nt]=[E(rt[nt][0]*100),rt[nt][1]];var _e=Fe._fullLayout,Ge="g"+_e._uid+"-"+Ee,je=_e._defs.select(".gradients").selectAll("#"+Ge).data([He+Mt.join(";")],P.identity);je.exit().remove(),je.enter().append(wt.node).each(function(){var We=m.select(this);wt.attrs&&We.attr(wt.attrs),We.attr("id",Ge);var Pe=We.selectAll("stop").data(Mt);Pe.exit().remove(),Pe.enter().append("stop"),Pe.each(function(Re){var Xe=S(Re[1]);m.select(this).attr({offset:Re[0]+"%","stop-color":p.tinyRGB(Xe),"stop-opacity":Xe.getAlpha()})})}),Me.style(ot,$(Ge,Fe)).style(ot+"-opacity",null),Me.classed("gradient_filled",!0)}c.pattern=function(Me,Fe,Ee,He,rt,ot,$e,qe,ht,vt,pt,wt){var Mt=Fe==="legend";qe&&(ht==="overlay"?(vt=qe,pt=p.contrast(vt)):(vt=void 0,pt=qe));var nt=Ee._fullLayout,_e="p"+nt._uid+"-"+He,Ge,je,We=function(jt,Tt,Dt,Xt,gr){return Xt+(gr-Xt)*(jt-Tt)/(Dt-Tt)},Pe,Re,Xe,Le,ve={},xe=S(pt),Ne=p.tinyRGB(xe),et=xe.getAlpha(),st=wt*et;switch(rt){case"/":Ge=ot*Math.sqrt(2),je=ot*Math.sqrt(2),Pe="M-"+Ge/4+","+je/4+"l"+Ge/2+",-"+je/2+"M0,"+je+"L"+Ge+",0M"+Ge/4*3+","+je/4*5+"l"+Ge/2+",-"+je/2,Re=$e*ot,Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case"\\":Ge=ot*Math.sqrt(2),je=ot*Math.sqrt(2),Pe="M"+Ge/4*3+",-"+je/4+"l"+Ge/2+","+je/2+"M0,0L"+Ge+","+je+"M-"+Ge/4+","+je/4*3+"l"+Ge/2+","+je/2,Re=$e*ot,Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case"x":Ge=ot*Math.sqrt(2),je=ot*Math.sqrt(2),Pe="M-"+Ge/4+","+je/4+"l"+Ge/2+",-"+je/2+"M0,"+je+"L"+Ge+",0M"+Ge/4*3+","+je/4*5+"l"+Ge/2+",-"+je/2+"M"+Ge/4*3+",-"+je/4+"l"+Ge/2+","+je/2+"M0,0L"+Ge+","+je+"M-"+Ge/4+","+je/4*3+"l"+Ge/2+","+je/2,Re=ot-ot*Math.sqrt(1-$e),Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case"|":Ge=ot,je=ot,Le="path",Pe="M"+Ge/2+",0L"+Ge/2+","+je,Re=$e*ot,Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case"-":Ge=ot,je=ot,Le="path",Pe="M0,"+je/2+"L"+Ge+","+je/2,Re=$e*ot,Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case"+":Ge=ot,je=ot,Le="path",Pe="M"+Ge/2+",0L"+Ge/2+","+je+"M0,"+je/2+"L"+Ge+","+je/2,Re=ot-ot*Math.sqrt(1-$e),Le="path",ve={d:Pe,opacity:st,stroke:Ne,"stroke-width":Re+"px"};break;case".":Ge=ot,je=ot,$e<Math.PI/4?Xe=Math.sqrt($e*ot*ot/Math.PI):Xe=We($e,Math.PI/4,1,ot/2,ot/Math.sqrt(2)),Le="circle",ve={cx:Ge/2,cy:je/2,r:Xe,opacity:st,fill:Ne};break}var lt=[rt||"noSh",vt||"noBg",pt||"noFg",ot,$e].join(";"),Gt=nt._defs.select(".patterns").selectAll("#"+_e).data([lt],P.identity);Gt.exit().remove(),Gt.enter().append("pattern").each(function(){var jt=m.select(this);if(jt.attr({id:_e,width:Ge+"px",height:je+"px",patternUnits:"userSpaceOnUse",patternTransform:Mt?"scale(0.8)":""}),vt){var Tt=S(vt),Dt=p.tinyRGB(Tt),Xt=Tt.getAlpha(),gr=jt.selectAll("rect").data([0]);gr.exit().remove(),gr.enter().append("rect").attr({width:Ge+"px",height:je+"px",fill:Dt,"fill-opacity":Xt})}var gt=jt.selectAll(Le).data([0]);gt.exit().remove(),gt.enter().append(Le).attr(ve)}),Me.style("fill",$(_e,Ee)).style("fill-opacity",null),Me.classed("pattern_filled",!0)},c.initGradients=function(Me){var Fe=Me._fullLayout,Ee=P.ensureSingle(Fe._defs,"g","gradients");Ee.selectAll("linearGradient,radialGradient").remove(),m.select(Me).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(Me){var Fe=Me._fullLayout,Ee=P.ensureSingle(Fe._defs,"g","patterns");Ee.selectAll("pattern").remove(),m.select(Me).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(Me,Fe,Ee){return Me&&P.isArrayOrTypedArray(Me)?Fe<Me.length?Me[Fe]:Ee:Me},c.pointStyle=function(Me,Fe,Ee,He){if(Me.size()){var rt=c.makePointStyleFns(Fe);Me.each(function(ot){c.singlePointStyle(ot,m.select(this),Fe,rt,Ee,He)})}},c.singlePointStyle=function(Me,Fe,Ee,He,rt,ot){var $e=Ee.marker,qe=$e.line;if(ot&&ot.i>=0&&Me.i===void 0&&(Me.i=ot.i),Fe.style("opacity",He.selectedOpacityFn?He.selectedOpacityFn(Me):Me.mo===void 0?$e.opacity:Me.mo),He.ms2mrc){var ht;Me.ms==="various"||$e.size==="various"?ht=3:ht=He.ms2mrc(Me.ms),Me.mrc=ht,He.selectedSizeFn&&(ht=Me.mrc=He.selectedSizeFn(Me));var vt=c.symbolNumber(Me.mx||$e.symbol)||0;Me.om=vt%200>=100;var pt=Ie(Me,Ee),wt=X(Me,Ee);Fe.attr("d",s(vt,ht,pt,wt))}var Mt=!1,nt,_e,Ge;if(Me.so)Ge=qe.outlierwidth,_e=qe.outliercolor,nt=$e.outliercolor;else{var je=(qe||{}).width;Ge=(Me.mlw+1||je+1||(Me.trace?(Me.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Me?_e=Me.mlcc=He.lineScale(Me.mlc):P.isArrayOrTypedArray(qe.color)?_e=p.defaultLine:_e=qe.color,P.isArrayOrTypedArray($e.color)&&(nt=p.defaultLine,Mt=!0),"mc"in Me?nt=Me.mcc=He.markerScale(Me.mc):nt=$e.color||$e.colors||"rgba(0,0,0,0)",He.selectedColorFn&&(nt=He.selectedColorFn(Me))}if(Me.om)Fe.call(p.stroke,nt).style({"stroke-width":(Ge||1)+"px",fill:"none"});else{Fe.style("stroke-width",(Me.isBlank?0:Ge)+"px");var We=$e.gradient,Pe=Me.mgt;Pe?Mt=!0:Pe=We&&We.type,P.isArrayOrTypedArray(Pe)&&(Pe=Pe[0],b[Pe]||(Pe=0));var Re=$e.pattern,Xe=Re&&c.getPatternAttr(Re.shape,Me.i,"");if(Pe&&Pe!=="none"){var Le=Me.mgc;Le?Mt=!0:Le=We.color;var ve=Ee.uid;Mt&&(ve+="-"+Me.i),c.gradient(Fe,rt,ve,Pe,[[0,Le],[1,nt]],"fill")}else if(Xe){var xe=!1,Ne=Re.fgcolor;!Ne&&ot&&ot.color&&(Ne=ot.color,xe=!0);var et=c.getPatternAttr(Ne,Me.i,ot&&ot.color||null),st=c.getPatternAttr(Re.bgcolor,Me.i,null),lt=Re.fgopacity,Gt=c.getPatternAttr(Re.size,Me.i,8),jt=c.getPatternAttr(Re.solidity,Me.i,.3);xe=xe||Me.mcc||P.isArrayOrTypedArray(Re.shape)||P.isArrayOrTypedArray(Re.bgcolor)||P.isArrayOrTypedArray(Re.fgcolor)||P.isArrayOrTypedArray(Re.size)||P.isArrayOrTypedArray(Re.solidity);var Tt=Ee.uid;xe&&(Tt+="-"+Me.i),c.pattern(Fe,"point",rt,Tt,Xe,Gt,jt,Me.mcc,Re.fillmode,st,et,lt)}else P.isArrayOrTypedArray(nt)?p.fill(Fe,nt[Me.i]):p.fill(Fe,nt);Ge&&p.stroke(Fe,_e)}},c.makePointStyleFns=function(Me){var Fe={},Ee=Me.marker;return Fe.markerScale=c.tryColorscale(Ee,""),Fe.lineScale=c.tryColorscale(Ee,"line"),v.traceIs(Me,"symbols")&&(Fe.ms2mrc=g.isBubble(Me)?h(Me):function(){return(Ee.size||6)/2}),Me.selectedpoints&&P.extendFlat(Fe,c.makeSelectedPointStyleFns(Me)),Fe},c.makeSelectedPointStyleFns=function(Me){var Fe={},Ee=Me.selected||{},He=Me.unselected||{},rt=Me.marker||{},ot=Ee.marker||{},$e=He.marker||{},qe=rt.opacity,ht=ot.opacity,vt=$e.opacity,pt=ht!==void 0,wt=vt!==void 0;(P.isArrayOrTypedArray(qe)||pt||wt)&&(Fe.selectedOpacityFn=function(Xe){var Le=Xe.mo===void 0?rt.opacity:Xe.mo;return Xe.selected?pt?ht:Le:wt?vt:u*Le});var Mt=rt.color,nt=ot.color,_e=$e.color;(nt||_e)&&(Fe.selectedColorFn=function(Xe){var Le=Xe.mcc||Mt;return Xe.selected?nt||Le:_e||Le});var Ge=rt.size,je=ot.size,We=$e.size,Pe=je!==void 0,Re=We!==void 0;return v.traceIs(Me,"symbols")&&(Pe||Re)&&(Fe.selectedSizeFn=function(Xe){var Le=Xe.mrc||Ge/2;return Xe.selected?Pe?je/2:Le:Re?We/2:Le}),Fe},c.makeSelectedTextStyleFns=function(Me){var Fe={},Ee=Me.selected||{},He=Me.unselected||{},rt=Me.textfont||{},ot=Ee.textfont||{},$e=He.textfont||{},qe=rt.color,ht=ot.color,vt=$e.color;return Fe.selectedTextColorFn=function(pt){var wt=pt.tc||qe;return pt.selected?ht||wt:vt||(ht?wt:p.addOpacity(wt,u))},Fe},c.selectedPointStyle=function(Me,Fe){if(!(!Me.size()||!Fe.selectedpoints)){var Ee=c.makeSelectedPointStyleFns(Fe),He=Fe.marker||{},rt=[];Ee.selectedOpacityFn&&rt.push(function(ot,$e){ot.style("opacity",Ee.selectedOpacityFn($e))}),Ee.selectedColorFn&&rt.push(function(ot,$e){p.fill(ot,Ee.selectedColorFn($e))}),Ee.selectedSizeFn&&rt.push(function(ot,$e){var qe=$e.mx||He.symbol||0,ht=Ee.selectedSizeFn($e);ot.attr("d",s(c.symbolNumber(qe),ht,Ie($e,Fe),X($e,Fe))),$e.mrc2=ht}),rt.length&&Me.each(function(ot){for(var $e=m.select(this),qe=0;qe<rt.length;qe++)rt[qe]($e,ot)})}},c.tryColorscale=function(Me,Fe){var Ee=Fe?P.nestedProperty(Me,Fe).get():Me;if(Ee){var He=Ee.color;if((Ee.colorscale||Ee._colorAx)&&P.isArrayOrTypedArray(He))return r.makeColorScaleFuncFromTrace(Ee)}return P.identity};var I={start:1,end:-1,middle:0,bottom:1,top:-1};function N(Me,Fe,Ee,He,rt){var ot=m.select(Me.node().parentNode),$e=Fe.indexOf("top")!==-1?"top":Fe.indexOf("bottom")!==-1?"bottom":"middle",qe=Fe.indexOf("left")!==-1?"end":Fe.indexOf("right")!==-1?"start":"middle",ht=He?He/.8+1:0,vt=(a.lineCount(Me)-1)*l+1,pt=I[qe]*ht,wt=Ee*.75+I[$e]*ht+(I[$e]-1)*vt*Ee/2;Me.attr("text-anchor",qe),rt||ot.attr("transform",t(pt,wt))}function _(Me,Fe){var Ee=Me.ts||Fe.textfont.size;return L(Ee)&&Ee>0?Ee:0}c.textPointStyle=function(Me,Fe,Ee){if(Me.size()){var He;if(Fe.selectedpoints){var rt=c.makeSelectedTextStyleFns(Fe);He=rt.selectedTextColorFn}var ot=Fe.texttemplate,$e=Ee._fullLayout;Me.each(function(qe){var ht=m.select(this),vt=ot?P.extractOption(qe,Fe,"txt","texttemplate"):P.extractOption(qe,Fe,"tx","text");if(!vt&&vt!==0){ht.remove();return}if(ot){var pt=Fe._module.formatLabels,wt=pt?pt(qe,Fe,$e):{},Mt={};T(Mt,Fe,qe.i);var nt=Fe._meta||{};vt=P.texttemplateString(vt,wt,$e._d3locale,Mt,qe,nt)}var _e=qe.tp||Fe.textposition,Ge=_(qe,Fe),je=He?He(qe):qe.tc||Fe.textfont.color;ht.call(c.font,{family:qe.tf||Fe.textfont.family,weight:qe.tw||Fe.textfont.weight,style:qe.ty||Fe.textfont.style,variant:qe.tv||Fe.textfont.variant,textcase:qe.tC||Fe.textfont.textcase,lineposition:qe.tE||Fe.textfont.lineposition,shadow:qe.tS||Fe.textfont.shadow,size:Ge,color:je}).text(vt).call(a.convertToTspans,Ee).call(N,_e,Ge,qe.mrc)})}},c.selectedTextStyle=function(Me,Fe){if(!(!Me.size()||!Fe.selectedpoints)){var Ee=c.makeSelectedTextStyleFns(Fe);Me.each(function(He){var rt=m.select(this),ot=Ee.selectedTextColorFn(He),$e=He.tp||Fe.textposition,qe=_(He,Fe);p.fill(rt,ot);var ht=v.traceIs(Fe,"bar-like");N(rt,$e,qe,He.mrc2||He.mrc,ht)})}};var O=.5;c.smoothopen=function(Me,Fe){if(Me.length<3)return"M"+Me.join("L");var Ee="M"+Me[0],He=[],rt;for(rt=1;rt<Me.length-1;rt++)He.push(re(Me[rt-1],Me[rt],Me[rt+1],Fe));for(Ee+="Q"+He[0][0]+" "+Me[1],rt=2;rt<Me.length-1;rt++)Ee+="C"+He[rt-2][1]+" "+He[rt-1][0]+" "+Me[rt];return Ee+="Q"+He[Me.length-3][1]+" "+Me[Me.length-1],Ee},c.smoothclosed=function(Me,Fe){if(Me.length<3)return"M"+Me.join("L")+"Z";var Ee="M"+Me[0],He=Me.length-1,rt=[re(Me[He],Me[0],Me[1],Fe)],ot;for(ot=1;ot<He;ot++)rt.push(re(Me[ot-1],Me[ot],Me[ot+1],Fe));for(rt.push(re(Me[He-1],Me[He],Me[0],Fe)),ot=1;ot<=He;ot++)Ee+="C"+rt[ot-1][1]+" "+rt[ot][0]+" "+Me[ot];return Ee+="C"+rt[He][1]+" "+rt[0][0]+" "+Me[0]+"Z",Ee};var B,z;function U(Me,Fe,Ee){return Ee&&(Me=te(Me)),Fe?J(Me[1]):Z(Me[0])}function Z(Me){var Fe=m.round(Me,2);return B=Fe,Fe}function J(Me){var Fe=m.round(Me,2);return z=Fe,Fe}function re(Me,Fe,Ee,He){var rt=Me[0]-Fe[0],ot=Me[1]-Fe[1],$e=Ee[0]-Fe[0],qe=Ee[1]-Fe[1],ht=Math.pow(rt*rt+ot*ot,O/2),vt=Math.pow($e*$e+qe*qe,O/2),pt=(vt*vt*rt-ht*ht*$e)*He,wt=(vt*vt*ot-ht*ht*qe)*He,Mt=3*vt*(ht+vt),nt=3*ht*(ht+vt);return[[Z(Fe[0]+(Mt&&pt/Mt)),J(Fe[1]+(Mt&&wt/Mt))],[Z(Fe[0]-(nt&&pt/nt)),J(Fe[1]-(nt&&wt/nt))]]}var ne={hv:function(Me,Fe,Ee){return"H"+Z(Fe[0])+"V"+U(Fe,1,Ee)},vh:function(Me,Fe,Ee){return"V"+J(Fe[1])+"H"+U(Fe,0,Ee)},hvh:function(Me,Fe,Ee){return"H"+Z((Me[0]+Fe[0])/2)+"V"+J(Fe[1])+"H"+U(Fe,0,Ee)},vhv:function(Me,Fe,Ee){return"V"+J((Me[1]+Fe[1])/2)+"H"+Z(Fe[0])+"V"+U(Fe,1,Ee)}},ue=function(Me,Fe,Ee){return"L"+U(Fe,0,Ee)+","+U(Fe,1,Ee)};c.steps=function(Me){var Fe=ne[Me]||ue;return function(Ee){for(var He="M"+Z(Ee[0][0])+","+J(Ee[0][1]),rt=Ee.length,ot=1;ot<rt;ot++)He+=Fe(Ee[ot-1],Ee[ot],ot===rt-1);return He}};function te(Me,Fe){var Ee=Me.backoff,He=Me.trace,rt=Me.d,ot=Me.i;if(Ee&&He&&He.marker&&He.marker.angle%360===0&&He.line&&He.line.shape!=="spline"){var $e=P.isArrayOrTypedArray(Ee),qe=Me,ht=Fe?Fe[0]:B||0,vt=Fe?Fe[1]:z||0,pt=qe[0],wt=qe[1],Mt=pt-ht,nt=wt-vt,_e=Math.atan2(nt,Mt),Ge=$e?Ee[ot]:Ee;if(Ge==="auto"){var je=qe.i;He.type==="scatter"&&je--;var We=qe.marker,Pe=We.symbol;P.isArrayOrTypedArray(Pe)&&(Pe=Pe[je]);var Re=We.size;P.isArrayOrTypedArray(Re)&&(Re=Re[je]),Ge=We?c.symbolBackOffs[c.symbolNumber(Pe)]*Re:0,Ge+=c.getMarkerStandoff(rt[je],He)||0}var Xe=pt-Ge*Math.cos(_e),Le=wt-Ge*Math.sin(_e);(Xe<=pt&&Xe>=ht||Xe>=pt&&Xe<=ht)&&(Le<=wt&&Le>=vt||Le>=wt&&Le<=vt)&&(Me=[Xe,Le])}return Me}c.applyBackoff=te,c.makeTester=function(){var Me=P.ensureSingleById(m.select("body"),"svg","js-plotly-tester",function(Ee){Ee.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Fe=P.ensureSingle(Me,"path","js-reference-point",function(Ee){Ee.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=Me,c.testref=Fe},c.savedBBoxes={};var Q=0,ie=1e4;c.bBox=function(Me,Fe,Ee){Ee||(Ee=Y(Me));var He;if(Ee){if(He=c.savedBBoxes[Ee],He)return P.extendFlat({},He)}else if(Me.childNodes.length===1){var rt=Me.childNodes[0];if(Ee=Y(rt),Ee){var ot=+rt.getAttribute("x")||0,$e=+rt.getAttribute("y")||0,qe=rt.getAttribute("transform");if(!qe){var ht=c.bBox(rt,!1,Ee);return ot&&(ht.left+=ot,ht.right+=ot),$e&&(ht.top+=$e,ht.bottom+=$e),ht}if(Ee+="~"+ot+"~"+$e+"~"+qe,He=c.savedBBoxes[Ee],He)return P.extendFlat({},He)}}var vt,pt;Fe?vt=Me:(pt=c.tester.node(),vt=Me.cloneNode(!0),pt.appendChild(vt)),m.select(vt).attr("transform",null).call(a.positionText,0,0);var wt=vt.getBoundingClientRect(),Mt=c.testref.node().getBoundingClientRect();Fe||pt.removeChild(vt);var nt={height:wt.height,width:wt.width,left:wt.left-Mt.left,top:wt.top-Mt.top,right:wt.right-Mt.left,bottom:wt.bottom-Mt.top};return Q>=ie&&(c.savedBBoxes={},Q=0),Ee&&(c.savedBBoxes[Ee]=nt),Q++,P.extendFlat({},nt)};function Y(Me){var Fe=Me.getAttribute("data-unformatted");if(Fe!==null)return Fe+Me.getAttribute("data-math")+Me.getAttribute("text-anchor")+Me.getAttribute("style")}c.setClipUrl=function(Me,Fe,Ee){Me.attr("clip-path",$(Fe,Ee))};function $(Me,Fe){if(!Me)return null;var Ee=Fe._context,He=Ee._exportedPlot?"":Ee._baseUrl||"";return He?"url('"+He+"#"+Me+"')":"url(#"+Me+")"}c.getTranslate=function(Me){var Fe=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ee=Me.attr?"attr":"getAttribute",He=Me[Ee]("transform")||"",rt=He.replace(Fe,function(ot,$e,qe){return[$e,qe].join(" ")}).split(" ");return{x:+rt[0]||0,y:+rt[1]||0}},c.setTranslate=function(Me,Fe,Ee){var He=/(\btranslate\(.*?\);?)/,rt=Me.attr?"attr":"getAttribute",ot=Me.attr?"attr":"setAttribute",$e=Me[rt]("transform")||"";return Fe=Fe||0,Ee=Ee||0,$e=$e.replace(He,"").trim(),$e+=t(Fe,Ee),$e=$e.trim(),Me[ot]("transform",$e),$e},c.getScale=function(Me){var Fe=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ee=Me.attr?"attr":"getAttribute",He=Me[Ee]("transform")||"",rt=He.replace(Fe,function(ot,$e,qe){return[$e,qe].join(" ")}).split(" ");return{x:+rt[0]||1,y:+rt[1]||1}},c.setScale=function(Me,Fe,Ee){var He=/(\bscale\(.*?\);?)/,rt=Me.attr?"attr":"getAttribute",ot=Me.attr?"attr":"setAttribute",$e=Me[rt]("transform")||"";return Fe=Fe||1,Ee=Ee||1,$e=$e.replace(He,"").trim(),$e+="scale("+Fe+","+Ee+")",$e=$e.trim(),Me[ot]("transform",$e),$e};var oe=/\s*sc.*/;c.setPointGroupScale=function(Me,Fe,Ee){if(Fe=Fe||1,Ee=Ee||1,!!Me){var He=Fe===1&&Ee===1?"":"scale("+Fe+","+Ee+")";Me.each(function(){var rt=(this.getAttribute("transform")||"").replace(oe,"");rt+=He,rt=rt.trim(),this.setAttribute("transform",rt)})}};var j=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(Me,Fe,Ee){Me&&Me.each(function(){var He,rt=m.select(this),ot=rt.select("text");if(ot.node()){var $e=parseFloat(ot.attr("x")||0),qe=parseFloat(ot.attr("y")||0),ht=(rt.attr("transform")||"").match(j);Fe===1&&Ee===1?He=[]:He=[t($e,qe),"scale("+Fe+","+Ee+")",t(-$e,-qe)],ht&&He.push(ht),rt.attr("transform",He.join(""))}})};function X(Me,Fe){var Ee;return Me&&(Ee=Me.mf),Ee===void 0&&(Ee=Fe.marker&&Fe.marker.standoff||0),!Fe._geo&&!Fe._xA?-Ee:Ee}c.getMarkerStandoff=X;var se=Math.atan2,q=Math.cos,ce=Math.sin;function ye(Me,Fe){var Ee=Fe[0],He=Fe[1];return[Ee*q(Me)-He*ce(Me),Ee*ce(Me)+He*q(Me)]}var we,be,De,ke,Be,Ae;function Ie(Me,Fe){var Ee=Me.ma;Ee===void 0&&(Ee=Fe.marker.angle,(!Ee||P.isArrayOrTypedArray(Ee))&&(Ee=0));var He,rt,ot=Fe.marker.angleref;if(ot==="previous"||ot==="north"){if(Fe._geo){var $e=Fe._geo.project(Me.lonlat);He=$e[0],rt=$e[1]}else{var qe=Fe._xA,ht=Fe._yA;if(qe&&ht)He=qe.c2p(Me.x),rt=ht.c2p(Me.y);else return 90}if(Fe._geo){var vt=Me.lonlat[0],pt=Me.lonlat[1],wt=Fe._geo.project([vt,pt+1e-5]),Mt=Fe._geo.project([vt+1e-5,pt]),nt=se(Mt[1]-rt,Mt[0]-He),_e=se(wt[1]-rt,wt[0]-He),Ge;if(ot==="north")Ge=Ee/180*Math.PI;else if(ot==="previous"){var je=vt/180*Math.PI,We=pt/180*Math.PI,Pe=we/180*Math.PI,Re=be/180*Math.PI,Xe=Pe-je,Le=q(Re)*ce(Xe),ve=ce(Re)*q(We)-q(Re)*ce(We)*q(Xe);Ge=-se(Le,ve)-Math.PI,we=vt,be=pt}var xe=ye(nt,[q(Ge),0]),Ne=ye(_e,[ce(Ge),0]);Ee=se(xe[1]+Ne[1],xe[0]+Ne[0])/Math.PI*180,ot==="previous"&&!(Ae===Fe.uid&&Me.i===Be+1)&&(Ee=null)}if(ot==="previous"&&!Fe._geo)if(Ae===Fe.uid&&Me.i===Be+1&&L(He)&&L(rt)){var et=He-De,st=rt-ke,lt=Fe.line&&Fe.line.shape||"",Gt=lt.slice(lt.length-1);Gt==="h"&&(st=0),Gt==="v"&&(et=0),Ee+=se(st,et)/Math.PI*180+90}else Ee=null}return De=He,ke=rt,Be=Me.i,Ae=Fe.uid,Ee}c.getMarkerAngle=Ie},71984:function(G,V,e){var m=e(21984),P=e(33428).round,i="M0,0Z",L=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?u(h,T,o):o}},square:{n:1,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,h,T){if(t(h))return i;var c=P(g*1.3,2);return u(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,h,T){if(t(h))return i;var c=P(g*.4,2),o=P(g*1.2,2);return u(h,T,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(g,h,T){if(t(h))return i;var c=P(g*.8/L,2),o="l"+c+","+c,d="l"+c+",-"+c,x="l-"+c+",-"+c,w="l-"+c+","+c;return u(h,T,"M0,"+c+o+d+x+d+x+w+x+w+o+w+o+"Z")}},"triangle-up":{n:5,f:function(g,h,T){if(t(h))return i;var c=P(g*2/S,2),o=P(g/2,2),d=P(g,2);return u(h,T,"M-"+c+","+o+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,h,T){if(t(h))return i;var c=P(g*2/S,2),o=P(g/2,2),d=P(g,2);return u(h,T,"M-"+c+",-"+o+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,h,T){if(t(h))return i;var c=P(g*2/S,2),o=P(g/2,2),d=P(g,2);return u(h,T,"M"+o+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,h,T){if(t(h))return i;var c=P(g*2/S,2),o=P(g/2,2),d=P(g,2);return u(h,T,"M-"+o+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,h,T){if(t(h))return i;var c=P(g*.6,2),o=P(g*1.2,2);return u(h,T,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(g,h,T){if(t(h))return i;var c=P(g*.6,2),o=P(g*1.2,2);return u(h,T,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(g,h,T){if(t(h))return i;var c=P(g*.6,2),o=P(g*1.2,2);return u(h,T,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(g,h,T){if(t(h))return i;var c=P(g*.6,2),o=P(g*1.2,2);return u(h,T,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(g,h,T){if(t(h))return i;var c=P(g*.951,2),o=P(g*.588,2),d=P(-g,2),x=P(g*-.309,2),w=P(g*.809,2);return u(h,T,"M"+c+","+x+"L"+o+","+w+"H-"+o+"L-"+c+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g/2,2),d=P(g*S/2,2);return u(h,T,"M"+d+",-"+o+"V"+o+"L0,"+c+"L-"+d+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g/2,2),d=P(g*S/2,2);return u(h,T,"M-"+o+","+d+"H"+o+"L"+c+",0L"+o+",-"+d+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,h,T){if(t(h))return i;var c=P(g*.924,2),o=P(g*.383,2);return u(h,T,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(g,h,T){if(t(h))return i;var c=g*1.4,o=P(c*.225,2),d=P(c*.951,2),x=P(c*.363,2),w=P(c*.588,2),C=P(-c,2),y=P(c*-.309,2),M=P(c*.118,2),A=P(c*.809,2),s=P(c*.382,2);return u(h,T,"M"+o+","+y+"H"+d+"L"+x+","+M+"L"+w+","+A+"L0,"+s+"L-"+w+","+A+"L-"+x+","+M+"L-"+d+","+y+"H-"+o+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,h,T){if(t(h))return i;var c=P(g*.66,2),o=P(g*.38,2),d=P(g*.76,2);return u(h,T,"M-"+d+",0l-"+o+",-"+c+"h"+d+"l"+o+",-"+c+"l"+o+","+c+"h"+d+"l-"+o+","+c+"l"+o+","+c+"h-"+d+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,h,T){if(t(h))return i;var c=P(g*S*.8,2),o=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),w="A "+x+","+x+" 0 0 1 ";return u(h,T,"M-"+c+","+o+w+c+","+o+w+"0,-"+d+w+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(g,h,T){if(t(h))return i;var c=P(g*S*.8,2),o=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),w="A "+x+","+x+" 0 0 1 ";return u(h,T,"M"+c+",-"+o+w+"-"+c+",-"+o+w+"0,"+d+w+c+",-"+o+"Z")}},"star-square":{n:21,f:function(g,h,T){if(t(h))return i;var c=P(g*1.1,2),o=P(g*2,2),d="A "+o+","+o+" 0 0 1 ";return u(h,T,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,h,T){if(t(h))return i;var c=P(g*1.4,2),o=P(g*1.9,2),d="A "+o+","+o+" 0 0 1 ";return u(h,T,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,h,T){if(t(h))return i;var c=P(g*.7,2),o=P(g*1.4,2);return u(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,h,T){if(t(h))return i;var c=P(g*1.4,2),o=P(g*.7,2);return u(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g/L,2);return u(h,T,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,T){if(t(h))return i;var c=P(g*1.3,2);return u(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,T){if(t(h))return i;var c=P(g*1.3,2),o=P(g*.65,2);return u(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,T){if(t(h))return i;var c=P(g*1.4,2);return u(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,T){if(t(h))return i;var c=P(g*1.2,2),o=P(g*.85,2);return u(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,T){if(t(h))return i;var c=P(g/2,2),o=P(g,2);return u(h,T,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,T){if(t(h))return i;var c=P(g*1.2,2),o=P(g*1.6,2),d=P(g*.8,2);return u(h,T,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,T){if(t(h))return i;var c=P(g*1.2,2),o=P(g*1.6,2),d=P(g*.8,2);return u(h,T,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,T){if(t(h))return i;var c=P(g*1.2,2),o=P(g*1.6,2),d=P(g*.8,2);return u(h,T,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,T){if(t(h))return i;var c=P(g*1.2,2),o=P(g*1.6,2),d=P(g*.8,2);return u(h,T,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,T){if(t(h))return i;var c=P(g*1.4,2);return u(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,T){if(t(h))return i;var c=P(g*1.4,2);return u(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,T){if(t(h))return i;var c=P(g,2);return u(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g*2,2);return u(h,T,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g*2,2);return u(h,T,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,T){if(t(h))return i;var c=P(g*2,2),o=P(g,2);return u(h,T,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,T){if(t(h))return i;var c=P(g*2,2),o=P(g,2);return u(h,T,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g*2,2);return u(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,T){if(t(h))return i;var c=P(g,2),o=P(g*2,2);return u(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,T){if(t(h))return i;var c=P(g*2,2),o=P(g,2);return u(h,T,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,T){if(t(h))return i;var c=P(g*2,2),o=P(g,2);return u(h,T,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,T){if(t(h))return i;var c=v/2.5,o=2*g*p(c),d=2*g*r(c);return u(h,T,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,T){if(t(h))return i;var c=v/4,o=2*g*p(c),d=2*g*r(c);return u(h,T,"M0,0L"+-o+","+d+"A "+2*g+","+2*g+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var a,n,f,l;function u(g,h,T){if((!g||g%360===0)&&!h)return T;if(f===g&&l===h&&a===T)return n;f=g,l=h,a=T;function c(I,N){var _=p(I),O=r(I),B=N[0],z=N[1]+(h||0);return[B*_-z*O,B*O+z*_]}for(var o=g/180*v,d=0,x=0,w=m(T),C="",y=0;y<w.length;y++){var M=w[y],A=M[0],s=d,E=x;if(A==="M"||A==="L")d=+M[1],x=+M[2];else if(A==="m"||A==="l")d+=+M[1],x+=+M[2];else if(A==="H")d=+M[1];else if(A==="h")d+=+M[1];else if(A==="V")x=+M[1];else if(A==="v")x+=+M[1];else if(A==="A"){d=+M[1],x=+M[2];var b=c(o,[+M[6],+M[7]]);M[6]=b[0],M[7]=b[1],M[3]=+M[3]+g}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(d-=s,x-=E);var F=c(o,[d,x]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(M[1]=F[0],M[2]=F[1]),M[0]=A,C+=M[0]+M.slice(1).join(",")}return n=C,C}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,V,e){var m=e(38248),P=e(24040),i=e(54460),L=e(3400),S=e(93792);G.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],f=n[0].trace;if(f.visible===!0&&P.traceIs(f,"errorBarsOK")){var l=i.getFromId(r,f.xaxis),u=i.getFromId(r,f.yaxis);v(n,f,l,"x"),v(n,f,u,"y")}}};function v(p,r,t,a){var n=r["error_"+a]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,l=[];if(f){for(var u=S(n),g=0;g<p.length;g++){var h=p[g],T=h.i;if(T===void 0)T=g;else if(T===null)continue;var c=h[a];if(m(t.c2l(c))){var o=u(c,T);if(m(o[0])&&m(o[1])){var d=h[a+"s"]=c-o[0],x=h[a+"h"]=c+o[1];l.push(d,x)}}}var w=t._id,C=r._extremes[w],y=i.findExtremes(t,l,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(y.min),C.max=C.max.concat(y.max)}}},93792:function(G){G.exports=function(m){var P=m.type,i=m.symmetric;if(P==="data"){var L=m.array||[];if(i)return function(t,a){var n=+L[a];return[n,n]};var S=m.arrayminus||[];return function(t,a){var n=+L[a],f=+S[a];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=V(P,m.value),p=V(P,m.valueminus);return i||m.valueminus===void 0?function(t){var a=v(t);return[a,a]}:function(t){return[p(t),v(t)]}}};function V(e,m){if(e==="percent")return function(P){return Math.abs(P*m/100)};if(e==="constant")return function(){return Math.abs(m)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(G,V,e){var m=e(38248),P=e(24040),i=e(3400),L=e(31780),S=e(97644);G.exports=function(v,p,r,t){var a="error_"+t.axis,n=L.newContainer(p,a),f=v[a]||{};function l(d,x){return i.coerce(f,n,S,d,x)}var u=f.array!==void 0||f.value!==void 0||f.type==="sqrt",g=l("visible",u);if(g!==!1){var h=l("type","array"in f?"data":"percent"),T=!0;h!=="sqrt"&&(T=l("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(l("array"),l("traceref"),T||(l("arrayminus"),l("tracerefminus"))):(h==="percent"||h==="constant")&&(l("value"),T||l("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=p["error_"+t.inherit];(o||{}).visible&&l(c,!(f.color||m(f.thickness)||m(f.width)))}(!t.inherit||!n[c])&&(l("color",r),l("thickness"),l("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(G,V,e){var m=e(3400),P=e(67824).overrideAll,i=e(97644),L={error_x:m.extendFlat({},i),error_y:m.extendFlat({},i)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var S={error_x:m.extendFlat({},i),error_y:m.extendFlat({},i),error_z:m.extendFlat({},i)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(S,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(G,V,e){var m=e(33428),P=e(38248),i=e(43616),L=e(43028);G.exports=function(p,r,t,a){var n,f=t.xaxis,l=t.yaxis,u=a&&a.duration>0,g=p._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},o=T.error_y||{},d;T.ids&&(d=function(y){return y.id});var x=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var w=m.select(this).selectAll("g.errorbar").data(h,d);if(w.exit().remove(),!!h.length){c.visible||w.selectAll("path.xerror").remove(),o.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var C=w.enter().append("g").classed("errorbar",!0);u&&C.style("opacity",0).transition().duration(a.duration).style("opacity",1),i.setClipUrl(w,t.layerClipId,p),w.each(function(y){var M=m.select(this),A=S(y,f,l);if(!(x&&!y.vis)){var s,E=M.select("path.yerror");if(o.visible&&P(A.x)&&P(A.yh)&&P(A.ys)){var b=o.width;s="M"+(A.x-b)+","+A.yh+"h"+2*b+"m-"+b+",0V"+A.ys,A.noYS||(s+="m-"+b+",0h"+2*b),n=!E.size(),n?E=M.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):u&&(E=E.transition().duration(a.duration).ease(a.easing)),E.attr("d",s)}else E.remove();var F=M.select("path.xerror");if(c.visible&&P(A.y)&&P(A.xh)&&P(A.xs)){var I=(c.copy_ystyle?o:c).width;s="M"+A.xh+","+(A.y-I)+"v"+2*I+"m0,-"+I+"H"+A.xs,A.noXS||(s+="m0,-"+I+"v"+2*I),n=!F.size(),n?F=M.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):u&&(F=F.transition().duration(a.duration).ease(a.easing)),F.attr("d",s)}else F.remove()}})}})};function S(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(G,V,e){var m=e(33428),P=e(76308);G.exports=function(L){L.each(function(S){var v=S[0].trace,p=v.error_y||{},r=v.error_x||{},t=m.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(G,V,e){var m=e(25376),P=e(65460).hoverlabel,i=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:i({},P.bgcolor,{arrayOk:!0}),bordercolor:i({},P.bordercolor,{arrayOk:!0}),font:m({arrayOk:!0,editType:"none"}),align:i({},P.align,{arrayOk:!0}),namelength:i({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,V,e){var m=e(3400),P=e(24040);G.exports=function(S){var v=S.calcdata,p=S._fullLayout;function r(l){return function(u){return m.coerceHoverinfo({hoverinfo:u},{_module:l._module},p)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!P.traceIs(n,"pie-like")){var f=P.traceIs(n,"2dMap")?i:m.fillArray;f(n.hoverinfo,a,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,a,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,a,"hbg"),f(n.hoverlabel.bordercolor,a,"hbc"),f(n.hoverlabel.font.size,a,"hts"),f(n.hoverlabel.font.color,a,"htc"),f(n.hoverlabel.font.family,a,"htf"),f(n.hoverlabel.font.weight,a,"htw"),f(n.hoverlabel.font.style,a,"hty"),f(n.hoverlabel.font.variant,a,"htv"),f(n.hoverlabel.namelength,a,"hnl"),f(n.hoverlabel.align,a,"hta"))}}};function i(L,S,v,p){p=p||m.identity,Array.isArray(L)&&(S[0][v]=p(L))}},62376:function(G,V,e){var m=e(24040),P=e(83292).hover;G.exports=function(L,S,v){var p=m.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,S,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:S})}L._hoverdata&&S&&S.target&&(p&&p.then?p.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,V,e){var m=e(3400),P=e(55756),i=e(16132);G.exports=function(S,v,p,r){function t(n,f){return m.coerce(S,v,P,n,f)}var a=m.extendFlat({},r.hoverlabel);v.hovertemplate&&(a.namelength=-1),i(S,v,t,a)}},10624:function(G,V,e){var m=e(3400);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],a=p.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<a.length;f++)if(r.indexOf(t[n]+a[f])!==-1)return!0;return!1}return r.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=r;return t},V.p2c=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=p[a].p2c(r);return t},V.getDistanceFunction=function(p,r,t,a){return p==="closest"?a||V.quadrature(r,t):p.charAt(0)==="x"?r:t},V.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var a=0;a<p.length;a++){var n=r(p[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t},V.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},V.quadrature=function(p,r){return function(t){var a=p(t),n=r(t);return Math.sqrt(a*a+n*n)}},V.makeEventData=function(p,r,t){var a="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var f=r._indexToPoints[a];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,p,r,t,a):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,r,a),n},V.appendArrayPointValue=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],l=i(f);if(p[l]===void 0){var u=m.nestedProperty(r,f).get(),g=L(u,t);g!==void 0&&(p[l]=g)}}},V.appendArrayMultiPointValues=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],l=i(f);if(p[l]===void 0){for(var u=m.nestedProperty(r,f).get(),g=new Array(t.length),h=0;h<t.length;h++)g[h]=L(u,t[h]);p[l]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!S[p]}},83292:function(G,V,e){var m=e(33428),P=e(38248),i=e(49760),L=e(3400),S=L.pushUnique,v=L.strTranslate,p=L.strRotate,r=e(95924),t=e(72736),a=e(72213),n=e(43616),f=e(76308),l=e(86476),u=e(54460),g=e(24040),h=e(10624),T=e(92456),c=e(77864),o=e(31140),d=T.YANGLE,x=Math.PI*d/180,w=1/Math.sin(x),C=Math.cos(x),y=Math.sin(x),M=T.HOVERARROWSIZE,A=T.HOVERTEXTPAD,s={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function b(j,X){return j.distance-X.distance}V.hover=function(X,se,q,ce){X=L.getGraphDiv(X);var ye=se.target;L.throttle(X._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){F(X,se,q,ce,ye)})},V.loneHover=function(X,se){var q=!0;Array.isArray(X)||(q=!1,X=[X]);var ce=se.gd,ye=Y(ce),we=$(ce),be=X.map(function(He){var rt=He._x0||He.x0||He.x||0,ot=He._x1||He.x1||He.x||0,$e=He._y0||He.y0||He.y||0,qe=He._y1||He.y1||He.y||0,ht=He.eventData;if(ht){var vt=Math.min(rt,ot),pt=Math.max(rt,ot),wt=Math.min($e,qe),Mt=Math.max($e,qe),nt=He.trace;if(g.traceIs(nt,"gl3d")){var _e=ce._fullLayout[nt.scene]._scene.container,Ge=_e.offsetLeft,je=_e.offsetTop;vt+=Ge,pt+=Ge,wt+=je,Mt+=je}ht.bbox={x0:vt+we,x1:pt+we,y0:wt+ye,y1:Mt+ye},se.inOut_bbox&&se.inOut_bbox.push(ht.bbox)}else ht=!1;return{color:He.color||f.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,fontWeight:He.fontWeight,fontStyle:He.fontStyle,fontVariant:He.fontVariant,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:ht}}),De=!1,ke=_(be,{gd:ce,hovermode:"closest",rotateLabels:De,bgColor:se.bgColor||f.background,container:m.select(se.container),outerContainer:se.outerContainer||se.container}),Be=ke.hoverLabels,Ae=5,Ie=0,Me=0;Be.sort(function(He,rt){return He.y0-rt.y0}).each(function(He,rt){var ot=He.y0-He.by/2;ot-Ae<Ie?He.offset=Ie-ot+Ae:He.offset=0,Ie=ot+He.by+He.offset,rt===se.anchorIndex&&(Me=He.offset)}).each(function(He){He.offset-=Me});var Fe=ce._fullLayout._invScaleX,Ee=ce._fullLayout._invScaleY;return Z(Be,De,Fe,Ee),q?Be:Be.node()};function F(j,X,se,q,ce){se||(se="xy");var ye=Array.isArray(se)?se:[se],we,be=j._fullLayout,De=be.hoversubplots,ke=be._plots||[],Be=ke[se],Ae=be._has("cartesian"),Ie=X.hovermode||be.hovermode,Me=(Ie||"").charAt(0)==="x",Fe=(Ie||"").charAt(0)==="y",Ee,He;if(Ae&&(Me||Fe)&&De==="axis"){for(var rt=ye.length,ot=0;ot<rt;ot++)if(we=ye[ot],ke[we]){Ee=u.getFromId(j,we,"x"),He=u.getFromId(j,we,"y");var $e=(Me?Ee:He)._subplotsWith;if($e&&$e.length)for(var qe=0;qe<$e.length;qe++)S(ye,$e[qe])}}if(Be&&De!=="single"){var ht=Be.overlays.map(function(Vn){return Vn.id});ye=ye.concat(ht)}for(var vt=ye.length,pt=new Array(vt),wt=new Array(vt),Mt=!1,nt=0;nt<vt;nt++)if(we=ye[nt],ke[we])Mt=!0,pt[nt]=ke[we].xaxis,wt[nt]=ke[we].yaxis;else if(be[we]&&be[we]._subplot){var _e=be[we]._subplot;pt[nt]=_e.xaxis,wt[nt]=_e.yaxis}else{L.warn("Unrecognized subplot: "+we);return}if(Ie&&!Mt&&(Ie="closest"),["x","y","closest","x unified","y unified"].indexOf(Ie)===-1||!j.calcdata||j.querySelector(".zoombox")||j._dragging)return l.unhoverRaw(j,X);var Ge=be.hoverdistance;Ge===-1&&(Ge=1/0);var je=be.spikedistance;je===-1&&(je=1/0);var We=[],Pe=[],Re,Xe,Le,ve,xe,Ne,et,st,lt,Gt,jt,Tt,Dt,Xt={hLinePoint:null,vLinePoint:null},gr=!1;if(Array.isArray(X))for(Ie="array",Le=0;Le<X.length;Le++)xe=j.calcdata[X[Le].curveNumber||0],xe&&(Ne=xe[0].trace,xe[0].trace.hoverinfo!=="skip"&&(Pe.push(xe),Ne.orientation==="h"&&(gr=!0)));else{var gt=j.calcdata.slice();for(gt.sort(function(Vn,mr){var Jr=Vn[0].trace.zorder||0,Qr=mr[0].trace.zorder||0;return Jr-Qr}),ve=0;ve<gt.length;ve++)xe=gt[ve],Ne=xe[0].trace,Ne.hoverinfo!=="skip"&&h.isTraceInSubplots(Ne,ye)&&(Pe.push(xe),Ne.orientation==="h"&&(gr=!0));var Zt=!ce,Qt,yr;if(Zt)"xpx"in X?Qt=X.xpx:Qt=pt[0]._length/2,"ypx"in X?yr=X.ypx:yr=wt[0]._length/2;else{if(r.triggerHandler(j,"plotly_beforehover",X)===!1)return;var or=ce.getBoundingClientRect();Qt=X.clientX-or.left,yr=X.clientY-or.top,be._calcInverseTransform(j);var mt=L.apply3DTransform(be._invTransform)(Qt,yr);if(Qt=mt[0],yr=mt[1],Qt<0||Qt>pt[0]._length||yr<0||yr>wt[0]._length)return l.unhoverRaw(j,X)}if(X.pointerX=Qt+pt[0]._offset,X.pointerY=yr+wt[0]._offset,"xval"in X?Re=h.flat(ye,X.xval):Re=h.p2c(pt,Qt),"yval"in X?Xe=h.flat(ye,X.yval):Xe=h.p2c(wt,yr),!P(Re[0])||!P(Xe[0]))return L.warn("Fx.hover failed",X,j),l.unhoverRaw(j,X)}var ut=1/0;function bt(Vn,mr){for(ve=0;ve<Pe.length;ve++)if(xe=Pe[ve],!(!xe||!xe[0]||!xe[0].trace)&&(Ne=xe[0].trace,!(Ne.visible!==!0||Ne._length===0)&&["carpet","contourcarpet"].indexOf(Ne._module.name)===-1)){if(lt=Ie,h.isUnifiedHover(lt)&&(lt=lt.charAt(0)),Ne.type==="splom"?(st=0,et=ye[st]):(et=h.getSubplot(Ne),st=ye.indexOf(et)),Tt={cd:xe,trace:Ne,xa:pt[st],ya:wt[st],maxHoverDistance:Ge,maxSpikeDistance:je,index:!1,distance:Math.min(ut,Ge),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Ne.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},be[et]&&(Tt.subplot=be[et]._subplot),be._splomScenes&&be._splomScenes[Ne.uid]&&(Tt.scene=be._splomScenes[Ne.uid]),lt==="array"){var Jr=X[ve];"pointNumber"in Jr?(Tt.index=Jr.pointNumber,lt="closest"):(lt="","xval"in Jr&&(Gt=Jr.xval,lt="x"),"yval"in Jr&&(jt=Jr.yval,lt=lt?"closest":"y"))}else Vn!==void 0&&mr!==void 0?(Gt=Vn,jt=mr):(Gt=Re[st],jt=Xe[st]);if(Dt=We.length,Ge!==0)if(Ne._module&&Ne._module.hoverPoints){var Qr=Ne._module.hoverPoints(Tt,Gt,jt,lt,{finiteRange:!0,hoverLayer:be._hoverlayer,hoversubplots:De,gd:j});if(Qr)for(var vn,_n=0;_n<Qr.length;_n++)vn=Qr[_n],P(vn.x0)&&P(vn.y0)&&We.push(J(vn,Ie))}else L.log("Unrecognized trace type in hover:",Ne);if(Ie==="closest"&&We.length>Dt&&(We.splice(0,Dt),ut=We[0].distance),Ae&&je!==0&&We.length===0){Tt.distance=je,Tt.index=!1;var xn=Ne._module.hoverPoints(Tt,Gt,jt,"closest",{hoverLayer:be._hoverlayer});if(xn&&(xn=xn.filter(function(Ar){return Ar.spikeDistance<=je})),xn&&xn.length){var bn,Bn=xn.filter(function(Ar){return Ar.xa.showspikes&&Ar.xa.spikesnap!=="hovered data"});if(Bn.length){var Jn=Bn[0];P(Jn.x0)&&P(Jn.y0)&&(bn=Rt(Jn),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.vLinePoint=bn))}var ha=xn.filter(function(Ar){return Ar.ya.showspikes&&Ar.ya.spikesnap!=="hovered data"});if(ha.length){var Ia=ha[0];P(Ia.x0)&&P(Ia.y0)&&(bn=Rt(Ia),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.hLinePoint=bn))}}}}}bt();function Et(Vn,mr,Jr){for(var Qr=null,vn=1/0,_n,xn=0;xn<Vn.length;xn++)Ee&&Ee._id!==Vn[xn].xa._id||He&&He._id!==Vn[xn].ya._id||(_n=Vn[xn].spikeDistance,Jr&&xn===0&&(_n=-1/0),_n<=vn&&_n<=mr&&(Qr=Vn[xn],vn=_n));return Qr}function Rt(Vn){return Vn?{xa:Vn.xa,ya:Vn.ya,x:Vn.xSpike!==void 0?Vn.xSpike:(Vn.x0+Vn.x1)/2,y:Vn.ySpike!==void 0?Vn.ySpike:(Vn.y0+Vn.y1)/2,distance:Vn.distance,spikeDistance:Vn.spikeDistance,curveNumber:Vn.trace.index,color:Vn.color,pointNumber:Vn.index}:null}var Ht={fullLayout:be,container:be._hoverlayer,event:X},Bt=j._spikepoints,Nt={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};j._spikepoints=Nt;var Jt=function(){var Vn=We.filter(function(Jr){return Ee&&Ee._id===Jr.xa._id&&He&&He._id===Jr.ya._id}),mr=We.filter(function(Jr){return!(Ee&&Ee._id===Jr.xa._id&&He&&He._id===Jr.ya._id)});Vn.sort(b),mr.sort(b),We=Vn.concat(mr),We=Q(We,Ie)};Jt();var hr=Ie.charAt(0),fr=(hr==="x"||hr==="y")&&We[0]&&E[We[0].trace.type];if(Ae&&je!==0&&We.length!==0){var dr=We.filter(function(Vn){return Vn.ya.showspikes}),Ye=Et(dr,je,fr);Xt.hLinePoint=Rt(Ye);var Ve=We.filter(function(Vn){return Vn.xa.showspikes}),_t=Et(Ve,je,fr);Xt.vLinePoint=Rt(_t)}if(We.length===0){var kt=l.unhoverRaw(j,X);return Ae&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&ue(Bt)&&re(j,Xt,Ht),kt}if(Ae&&ue(Bt)&&re(j,Xt,Ht),h.isXYhover(lt)&&We[0].length!==0&&We[0].trace.type!=="splom"){var Kt=We[0];s[Kt.trace.type]?We=We.filter(function(Vn){return Vn.trace.index===Kt.trace.index}):We=[Kt];var sr=We.length,cr=ie("x",Kt,be),er=ie("y",Kt,be);bt(cr,er);var Ot=[],nr={},vr=0,wr=function(Vn){var mr=s[Vn.trace.type]?I(Vn):Vn.trace.index;if(!nr[mr])vr++,nr[mr]=vr,Ot.push(Vn);else{var Jr=nr[mr]-1,Qr=Ot[Jr];Jr>0&&Math.abs(Vn.distance)<Math.abs(Qr.distance)&&(Ot[Jr]=Vn)}},ur;for(ur=0;ur<sr;ur++)wr(We[ur]);for(ur=We.length-1;ur>sr-1;ur--)wr(We[ur]);We=Ot,Jt()}var Vr=j._hoverdata,Pr=[],Dr=Y(j),ln=$(j);for(Le=0;Le<We.length;Le++){var Wr=We[Le],Tn=h.makeEventData(Wr,Wr.trace,Wr.cd);if(Wr.hovertemplate!==!1){var An=!1;Wr.cd[Wr.index]&&Wr.cd[Wr.index].ht&&(An=Wr.cd[Wr.index].ht),Wr.hovertemplate=An||Wr.trace.hovertemplate||!1}if(Wr.xa&&Wr.ya){var Tr=Wr.x0+Wr.xa._offset,Fr=Wr.x1+Wr.xa._offset,Yr=Wr.y0+Wr.ya._offset,_r=Wr.y1+Wr.ya._offset,on=Math.min(Tr,Fr),un=Math.max(Tr,Fr),Sn=Math.min(Yr,_r),Ln=Math.max(Yr,_r);Tn.bbox={x0:on+ln,x1:un+ln,y0:Sn+Dr,y1:Ln+Dr}}Wr.eventData=[Tn],Pr.push(Tn)}j._hoverdata=Pr;var Un=Ie==="y"&&(Pe.length>1||We.length>1)||Ie==="closest"&&gr&&We.length>1,na=f.combine(be.plot_bgcolor||f.background,be.paper_bgcolor),ga=_(We,{gd:j,hovermode:Ie,rotateLabels:Un,bgColor:na,container:be._hoverlayer,outerContainer:be._paper.node(),commonLabelOpts:be.hoverlabel,hoverdistance:be.hoverdistance}),xa=ga.hoverLabels;if(h.isUnifiedHover(Ie)||(B(xa,Un,be,ga.commonLabelBoundingBox),Z(xa,Un,be._invScaleX,be._invScaleY)),ce&&ce.tagName){var ca=g.getComponentMethod("annotations","hasClickToShow")(j,Pr);a(m.select(ce),ca?"pointer":"")}!ce||q||!ne(j,X,Vr)||(Vr&&j.emit("plotly_unhover",{event:X,points:Vr}),j.emit("plotly_hover",{event:X,points:j._hoverdata,xaxes:pt,yaxes:wt,xvals:Re,yvals:Xe}))}function I(j){return[j.trace.index,j.index,j.x0,j.y0,j.name,j.attr,j.xa?j.xa._id:"",j.ya?j.ya._id:""].join(",")}var N=/<extra>([\s\S]*)<\/extra>/;function _(j,X){var se=X.gd,q=se._fullLayout,ce=X.hovermode,ye=X.rotateLabels,we=X.bgColor,be=X.container,De=X.outerContainer,ke=X.commonLabelOpts||{};if(j.length===0)return[[]];var Be=X.fontFamily||T.HOVERFONT,Ae=X.fontSize||T.HOVERFONTSIZE,Ie=X.fontWeight||q.font.weight,Me=X.fontStyle||q.font.style,Fe=X.fontVariant||q.font.variant,Ee=X.fontTextcase||q.font.textcase,He=X.fontLineposition||q.font.lineposition,rt=X.fontShadow||q.font.shadow,ot=j[0],$e=ot.xa,qe=ot.ya,ht=ce.charAt(0),vt=ht+"Label",pt=ot[vt];if(pt===void 0&&$e.type==="multicategory")for(var wt=0;wt<j.length&&(pt=j[wt][vt],pt===void 0);wt++);var Mt=oe(se,De),nt=Mt.top,_e=Mt.width,Ge=Mt.height,je=pt!==void 0&&ot.distance<=X.hoverdistance&&(ce==="x"||ce==="y");if(je){var We=!0,Pe,Re;for(Pe=0;Pe<j.length;Pe++)if(We&&j[Pe].zLabel===void 0&&(We=!1),Re=j[Pe].hoverinfo||j[Pe].trace.hoverinfo,Re){var Xe=Array.isArray(Re)?Re:Re.split("+");if(Xe.indexOf("all")===-1&&Xe.indexOf(ce)===-1){je=!1;break}}We&&(je=!1)}var Le=be.selectAll("g.axistext").data(je?[0]:[]);Le.enter().append("g").classed("axistext",!0),Le.exit().remove();var ve={minX:0,maxX:0,minY:0,maxY:0};if(Le.each(function(){var Ve=m.select(this),_t=L.ensureSingle(Ve,"path","",function(on){on.style({"stroke-width":"1px"})}),kt=L.ensureSingle(Ve,"text","",function(on){on.attr("data-notex",1)}),Kt=ke.bgcolor||f.defaultLine,sr=ke.bordercolor||f.contrast(Kt),cr=f.contrast(Kt),er=ke.font,Ot={weight:er.weight||Ie,style:er.style||Me,variant:er.variant||Fe,textcase:er.textcase||Ee,lineposition:er.lineposition||He,shadow:er.shadow||rt,family:er.family||Be,size:er.size||Ae,color:er.color||cr};_t.style({fill:Kt,stroke:sr}),kt.text(pt).call(n.font,Ot).call(t.positionText,0,0).call(t.convertToTspans,se),Ve.attr("transform","");var nr=oe(se,kt.node()),vr,wr;if(ce==="x"){var ur=$e.side==="top"?"-":"";kt.attr("text-anchor","middle").call(t.positionText,0,$e.side==="top"?nt-nr.bottom-M-A:nt-nr.top+M+A),vr=$e._offset+(ot.x0+ot.x1)/2,wr=qe._offset+($e.side==="top"?0:qe._length);var Vr=nr.width/2+A,Pr=vr;vr<Vr?Pr=Vr:vr>q.width-Vr&&(Pr=q.width-Vr),_t.attr("d","M"+(vr-Pr)+",0L"+(vr-Pr+M)+","+ur+M+"H"+Vr+"v"+ur+(A*2+nr.height)+"H"+-Vr+"V"+ur+M+"H"+(vr-Pr-M)+"Z"),vr=Pr,ve.minX=vr-Vr,ve.maxX=vr+Vr,$e.side==="top"?(ve.minY=wr-(A*2+nr.height),ve.maxY=wr-A):(ve.minY=wr+A,ve.maxY=wr+(A*2+nr.height))}else{var Dr,ln,Wr;qe.side==="right"?(Dr="start",ln=1,Wr="",vr=$e._offset+$e._length):(Dr="end",ln=-1,Wr="-",vr=$e._offset),wr=qe._offset+(ot.y0+ot.y1)/2,kt.attr("text-anchor",Dr),_t.attr("d","M0,0L"+Wr+M+","+M+"V"+(A+nr.height/2)+"h"+Wr+(A*2+nr.width)+"V-"+(A+nr.height/2)+"H"+Wr+M+"V-"+M+"Z"),ve.minY=wr-(A+nr.height/2),ve.maxY=wr+(A+nr.height/2),qe.side==="right"?(ve.minX=vr+M,ve.maxX=vr+M+(A*2+nr.width)):(ve.minX=vr-M-(A*2+nr.width),ve.maxX=vr-M);var Tn=nr.height/2,An=nt-nr.top-Tn,Tr="clip"+q._uid+"commonlabel"+qe._id,Fr;if(vr<nr.width+2*A+M){Fr="M-"+(M+A)+"-"+Tn+"h-"+(nr.width-A)+"V"+Tn+"h"+(nr.width-A)+"Z";var Yr=nr.width-vr+A;t.positionText(kt,Yr,An),Dr==="end"&&kt.selectAll("tspan").each(function(){var on=m.select(this),un=n.tester.append("text").text(on.text()).call(n.font,Ot),Sn=oe(se,un.node());Math.round(Sn.width)<Math.round(nr.width)&&on.attr("x",Yr-Sn.width),un.remove()})}else t.positionText(kt,ln*(A+M),An),Fr=null;var _r=q._topclips.selectAll("#"+Tr).data(Fr?[0]:[]);_r.enter().append("clipPath").attr("id",Tr).append("path"),_r.exit().remove(),_r.select("path").attr("d",Fr),n.setClipUrl(kt,Fr?Tr:null,se)}Ve.attr("transform",v(vr,wr))}),h.isUnifiedHover(ce)){be.selectAll("g.hovertext").remove();var xe=j.filter(function(Ve){return Ve.hoverinfo!=="none"});if(xe.length===0)return[];var Ne=q.hoverlabel,et=Ne.font,st={showlegend:!0,legend:{title:{text:pt,font:et},font:et,bgcolor:Ne.bgcolor,bordercolor:Ne.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:q.legend?q.legend.traceorder:void 0,orientation:"v"}},lt={font:et};c(st,lt,se._fullData);var Gt=lt.legend;Gt.entries=[];for(var jt=0;jt<xe.length;jt++){var Tt=xe[jt];if(Tt.hoverinfo!=="none"){var Dt=O(Tt,!0,ce,q,pt),Xt=Dt[0],gr=Dt[1];Tt.name=gr,gr!==""?Tt.text=gr+" : "+Xt:Tt.text=Xt;var gt=Tt.cd[Tt.index];gt&&(gt.mc&&(Tt.mc=gt.mc),gt.mcc&&(Tt.mc=gt.mcc),gt.mlc&&(Tt.mlc=gt.mlc),gt.mlcc&&(Tt.mlc=gt.mlcc),gt.mlw&&(Tt.mlw=gt.mlw),gt.mrc&&(Tt.mrc=gt.mrc),gt.dir&&(Tt.dir=gt.dir)),Tt._distinct=!0,Gt.entries.push([Tt])}}Gt.entries.sort(function(Ve,_t){return Ve[0].trace.index-_t[0].trace.index}),Gt.layer=be,Gt._inHover=!0,Gt._groupTitleFont=Ne.grouptitlefont,o(se,Gt);var Zt=be.select("g.legend"),Qt=oe(se,Zt.node()),yr=Qt.width+2*A,or=Qt.height+2*A,mt=xe[0],ut=(mt.x0+mt.x1)/2,bt=(mt.y0+mt.y1)/2,Et=!(g.traceIs(mt.trace,"bar-like")||g.traceIs(mt.trace,"box-violin")),Rt,Ht;ht==="y"?Et?(Ht=bt-A,Rt=bt+A):(Ht=Math.min.apply(null,xe.map(function(Ve){return Math.min(Ve.y0,Ve.y1)})),Rt=Math.max.apply(null,xe.map(function(Ve){return Math.max(Ve.y0,Ve.y1)}))):Ht=Rt=L.mean(xe.map(function(Ve){return(Ve.y0+Ve.y1)/2}))-or/2;var Bt,Nt;ht==="x"?Et?(Bt=ut+A,Nt=ut-A):(Bt=Math.max.apply(null,xe.map(function(Ve){return Math.max(Ve.x0,Ve.x1)})),Nt=Math.min.apply(null,xe.map(function(Ve){return Math.min(Ve.x0,Ve.x1)}))):Bt=Nt=L.mean(xe.map(function(Ve){return(Ve.x0+Ve.x1)/2}))-yr/2;var Jt=$e._offset,hr=qe._offset;Rt+=hr,Bt+=Jt,Nt+=Jt-yr,Ht+=hr-or;var fr,dr;return Bt+yr<_e&&Bt>=0?fr=Bt:Nt+yr<_e&&Nt>=0?fr=Nt:Jt+yr<_e?fr=Jt:Bt-ut<ut-Nt+yr?fr=_e-yr:fr=0,fr+=A,Rt+or<Ge&&Rt>=0?dr=Rt:Ht+or<Ge&&Ht>=0?dr=Ht:hr+or<Ge?dr=hr:Rt-bt<bt-Ht+or?dr=Ge-or:dr=0,dr+=A,Zt.attr("transform",v(fr-1,dr-1)),Zt}var Ye=be.selectAll("g.hovertext").data(j,function(Ve){return I(Ve)});return Ye.enter().append("g").classed("hovertext",!0).each(function(){var Ve=m.select(this);Ve.append("rect").call(f.fill,f.addOpacity(we,.8)),Ve.append("text").classed("name",!0),Ve.append("path").style("stroke-width","1px"),Ve.append("text").classed("nums",!0).call(n.font,{weight:Ie,style:Me,variant:Fe,textcase:Ee,lineposition:He,shadow:rt,family:Be,size:Ae})}),Ye.exit().remove(),Ye.each(function(Ve){var _t=m.select(this).attr("transform",""),kt=Ve.color;Array.isArray(kt)&&(kt=kt[Ve.eventData[0].pointNumber]);var Kt=Ve.bgcolor||kt,sr=f.combine(f.opacity(Kt)?Kt:f.defaultLine,we),cr=f.combine(f.opacity(kt)?kt:f.defaultLine,we),er=Ve.borderColor||f.contrast(sr),Ot=O(Ve,je,ce,q,pt,_t),nr=Ot[0],vr=Ot[1],wr=_t.select("text.nums").call(n.font,{family:Ve.fontFamily||Be,size:Ve.fontSize||Ae,color:Ve.fontColor||er,weight:Ve.fontWeight||Ie,style:Ve.fontStyle||Me,variant:Ve.fontVariant||Fe,textcase:Ve.fontTextcase||Ee,lineposition:Ve.fontLineposition||He,shadow:Ve.fontShadow||rt}).text(nr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se),ur=_t.select("text.name"),Vr=0,Pr=0;if(vr&&vr!==nr){ur.call(n.font,{family:Ve.fontFamily||Be,size:Ve.fontSize||Ae,color:cr,weight:Ve.fontWeight||Ie,style:Ve.fontStyle||Me,variant:Ve.fontVariant||Fe,textcase:Ve.fontTextcase||Ee,lineposition:Ve.fontLineposition||He,shadow:Ve.fontShadow||rt}).text(vr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se);var Dr=oe(se,ur.node());Vr=Dr.width+2*A,Pr=Dr.height+2*A}else ur.remove(),_t.select("rect").remove();_t.select("path").style({fill:sr,stroke:er});var ln=Ve.xa._offset+(Ve.x0+Ve.x1)/2,Wr=Ve.ya._offset+(Ve.y0+Ve.y1)/2,Tn=Math.abs(Ve.x1-Ve.x0),An=Math.abs(Ve.y1-Ve.y0),Tr=oe(se,wr.node()),Fr=Tr.width/q._invScaleX,Yr=Tr.height/q._invScaleY;Ve.ty0=(nt-Tr.top)/q._invScaleY,Ve.bx=Fr+2*A,Ve.by=Math.max(Yr+2*A,Pr),Ve.anchor="start",Ve.txwidth=Fr,Ve.tx2width=Vr,Ve.offset=0;var _r=(Fr+M+A+Vr)*q._invScaleX,on,un;if(ye)Ve.pos=ln,on=Wr+An/2+_r<=Ge,un=Wr-An/2-_r>=0,(Ve.idealAlign==="top"||!on)&&un?(Wr-=An/2,Ve.anchor="end"):on?(Wr+=An/2,Ve.anchor="start"):Ve.anchor="middle",Ve.crossPos=Wr;else{if(Ve.pos=Wr,on=ln+Tn/2+_r<=_e,un=ln-Tn/2-_r>=0,(Ve.idealAlign==="left"||!on)&&un)ln-=Tn/2,Ve.anchor="end";else if(on)ln+=Tn/2,Ve.anchor="start";else{Ve.anchor="middle";var Sn=_r/2,Ln=ln+Sn-_e,Un=ln-Sn;Ln>0&&(ln-=Ln),Un<0&&(ln+=-Un)}Ve.crossPos=ln}wr.attr("text-anchor",Ve.anchor),Vr&&ur.attr("text-anchor",Ve.anchor),_t.attr("transform",v(ln,Wr)+(ye?p(d):""))}),{hoverLabels:Ye,commonLabelBoundingBox:ve}}function O(j,X,se,q,ce,ye){var we="",be="";j.nameOverride!==void 0&&(j.name=j.nameOverride),j.name&&(j.trace._meta&&(j.name=L.templateString(j.name,j.trace._meta)),we=te(j.name,j.nameLength));var De=se.charAt(0),ke=De==="x"?"y":"x";j.zLabel!==void 0?(j.xLabel!==void 0&&(be+="x: "+j.xLabel+"<br>"),j.yLabel!==void 0&&(be+="y: "+j.yLabel+"<br>"),j.trace.type!=="choropleth"&&j.trace.type!=="choroplethmapbox"&&(be+=(be?"z: ":"")+j.zLabel)):X&&j[De+"Label"]===ce?be=j[ke+"Label"]||"":j.xLabel===void 0?j.yLabel!==void 0&&j.trace.type!=="scattercarpet"&&(be=j.yLabel):j.yLabel===void 0?be=j.xLabel:be="("+j.xLabel+", "+j.yLabel+")",(j.text||j.text===0)&&!Array.isArray(j.text)&&(be+=(be?"<br>":"")+j.text),j.extraText!==void 0&&(be+=(be?"<br>":"")+j.extraText),ye&&be===""&&!j.hovertemplate&&(we===""&&ye.remove(),be=we);var Be=j.hovertemplate||!1;if(Be){var Ae=j.hovertemplateLabels||j;j[De+"Label"]!==ce&&(Ae[De+"other"]=Ae[De+"Val"],Ae[De+"otherLabel"]=Ae[De+"Label"]),be=L.hovertemplateString(Be,Ae,q._d3locale,j.eventData[0]||{},j.trace._meta),be=be.replace(N,function(Ie,Me){return we=te(Me,j.nameLength),""})}return[be,we]}function B(j,X,se,q){var ce=X?"xa":"ya",ye=X?"ya":"xa",we=0,be=1,De=j.size(),ke=new Array(De),Be=0,Ae=q.minX,Ie=q.maxX,Me=q.minY,Fe=q.maxY,Ee=function(Re){return Re*se._invScaleX},He=function(Re){return Re*se._invScaleY};j.each(function(Re){var Xe=Re[ce],Le=Re[ye],ve=Xe._id.charAt(0)==="x",xe=Xe.range;Be===0&&xe&&xe[0]>xe[1]!==ve&&(be=-1);var Ne=0,et=ve?se.width:se.height;if(se.hovermode==="x"||se.hovermode==="y"){var st=z(Re,X),lt=Re.anchor,Gt=lt==="end"?-1:1,jt,Tt;if(lt==="middle")jt=Re.crossPos+(ve?He(st.y-Re.by/2):Ee(Re.bx/2+Re.tx2width/2)),Tt=jt+(ve?He(Re.by):Ee(Re.bx));else if(ve)jt=Re.crossPos+He(M+st.y)-He(Re.by/2-M),Tt=jt+He(Re.by);else{var Dt=Ee(Gt*M+st.x),Xt=Dt+Ee(Gt*Re.bx);jt=Re.crossPos+Math.min(Dt,Xt),Tt=Re.crossPos+Math.max(Dt,Xt)}ve?Me!==void 0&&Fe!==void 0&&Math.min(Tt,Fe)-Math.max(jt,Me)>1&&(Le.side==="left"?(Ne=Le._mainLinePosition,et=se.width):et=Le._mainLinePosition):Ae!==void 0&&Ie!==void 0&&Math.min(Tt,Ie)-Math.max(jt,Ae)>1&&(Le.side==="top"?(Ne=Le._mainLinePosition,et=se.height):et=Le._mainLinePosition)}ke[Be++]=[{datum:Re,traceIndex:Re.trace.index,dp:0,pos:Re.pos,posref:Re.posref,size:Re.by*(ve?w:1)/2,pmin:Ne,pmax:et}]}),ke.sort(function(Re,Xe){return Re[0].posref-Xe[0].posref||be*(Xe[0].traceIndex-Re[0].traceIndex)});var rt,ot,$e,qe,ht,vt,pt;function wt(Re){var Xe=Re[0],Le=Re[Re.length-1];if(ot=Xe.pmin-Xe.pos-Xe.dp+Xe.size,$e=Le.pos+Le.dp+Le.size-Xe.pmax,ot>.01){for(ht=Re.length-1;ht>=0;ht--)Re[ht].dp+=ot;rt=!1}if(!($e<.01)){if(ot<-.01){for(ht=Re.length-1;ht>=0;ht--)Re[ht].dp-=$e;rt=!1}if(rt){var ve=0;for(qe=0;qe<Re.length;qe++)vt=Re[qe],vt.pos+vt.dp+vt.size>Xe.pmax&&ve++;for(qe=Re.length-1;qe>=0&&!(ve<=0);qe--)vt=Re[qe],vt.pos>Xe.pmax-1&&(vt.del=!0,ve--);for(qe=0;qe<Re.length&&!(ve<=0);qe++)if(vt=Re[qe],vt.pos<Xe.pmin+1)for(vt.del=!0,ve--,$e=vt.size*2,ht=Re.length-1;ht>=0;ht--)Re[ht].dp-=$e;for(qe=Re.length-1;qe>=0&&!(ve<=0);qe--)vt=Re[qe],vt.pos+vt.dp+vt.size>Xe.pmax&&(vt.del=!0,ve--)}}}for(;!rt&&we<=De;){for(we++,rt=!0,qe=0;qe<ke.length-1;){var Mt=ke[qe],nt=ke[qe+1],_e=Mt[Mt.length-1],Ge=nt[0];if(ot=_e.pos+_e.dp+_e.size-Ge.pos-Ge.dp+Ge.size,ot>.01&&_e.pmin===Ge.pmin&&_e.pmax===Ge.pmax){for(ht=nt.length-1;ht>=0;ht--)nt[ht].dp+=ot;for(Mt.push.apply(Mt,nt),ke.splice(qe+1,1),pt=0,ht=Mt.length-1;ht>=0;ht--)pt+=Mt[ht].dp;for($e=pt/Mt.length,ht=Mt.length-1;ht>=0;ht--)Mt[ht].dp-=$e;rt=!1}else qe++}ke.forEach(wt)}for(qe=ke.length-1;qe>=0;qe--){var je=ke[qe];for(ht=je.length-1;ht>=0;ht--){var We=je[ht],Pe=We.datum;Pe.offset=We.dp,Pe.del=We.del}}}function z(j,X){var se=0,q=j.offset;return X&&(q*=-y,se=j.offset*C),{x:se,y:q}}function U(j){var X={start:1,end:-1,middle:0}[j.anchor],se=X*(M+A),q=se+X*(j.txwidth+A),ce=j.anchor==="middle";return ce&&(se-=j.tx2width/2,q+=j.txwidth/2+A),{alignShift:X,textShiftX:se,text2ShiftX:q}}function Z(j,X,se,q){var ce=function(we){return we*se},ye=function(we){return we*q};j.each(function(we){var be=m.select(this);if(we.del)return be.remove();var De=be.select("text.nums"),ke=we.anchor,Be=ke==="end"?-1:1,Ae=U(we),Ie=z(we,X),Me=Ie.x,Fe=Ie.y,Ee=ke==="middle";be.select("path").attr("d",Ee?"M-"+ce(we.bx/2+we.tx2width/2)+","+ye(Fe-we.by/2)+"h"+ce(we.bx)+"v"+ye(we.by)+"h-"+ce(we.bx)+"Z":"M0,0L"+ce(Be*M+Me)+","+ye(M+Fe)+"v"+ye(we.by/2-M)+"h"+ce(Be*we.bx)+"v-"+ye(we.by)+"H"+ce(Be*M+Me)+"V"+ye(Fe-M)+"Z");var He=Me+Ae.textShiftX,rt=Fe+we.ty0-we.by/2+A,ot=we.textAlign||"auto";ot!=="auto"&&(ot==="left"&&ke!=="start"?(De.attr("text-anchor","start"),He=Ee?-we.bx/2-we.tx2width/2+A:-we.bx-A):ot==="right"&&ke!=="end"&&(De.attr("text-anchor","end"),He=Ee?we.bx/2-we.tx2width/2-A:we.bx+A)),De.call(t.positionText,ce(He),ye(rt)),we.tx2width&&(be.select("text.name").call(t.positionText,ce(Ae.text2ShiftX+Ae.alignShift*A+Me),ye(Fe+we.ty0-we.by/2+A)),be.select("rect").call(n.setRect,ce(Ae.text2ShiftX+(Ae.alignShift-1)*we.tx2width/2+Me),ye(Fe-we.by/2-1),ce(we.tx2width),ye(we.by+2)))})}function J(j,X){var se=j.index,q=j.trace||{},ce=j.cd[0],ye=j.cd[se]||{};function we(Ie){return Ie||P(Ie)&&Ie===0}var be=Array.isArray(se)?function(Ie,Me){var Fe=L.castOption(ce,se,Ie);return we(Fe)?Fe:L.extractOption({},q,"",Me)}:function(Ie,Me){return L.extractOption(ye,q,Ie,Me)};function De(Ie,Me,Fe){var Ee=be(Me,Fe);we(Ee)&&(j[Ie]=Ee)}if(De("hoverinfo","hi","hoverinfo"),De("bgcolor","hbg","hoverlabel.bgcolor"),De("borderColor","hbc","hoverlabel.bordercolor"),De("fontFamily","htf","hoverlabel.font.family"),De("fontSize","hts","hoverlabel.font.size"),De("fontColor","htc","hoverlabel.font.color"),De("fontWeight","htw","hoverlabel.font.weight"),De("fontStyle","hty","hoverlabel.font.style"),De("fontVariant","htv","hoverlabel.font.variant"),De("nameLength","hnl","hoverlabel.namelength"),De("textAlign","hta","hoverlabel.align"),j.posref=X==="y"||X==="closest"&&q.orientation==="h"?j.xa._offset+(j.x0+j.x1)/2:j.ya._offset+(j.y0+j.y1)/2,j.x0=L.constrain(j.x0,0,j.xa._length),j.x1=L.constrain(j.x1,0,j.xa._length),j.y0=L.constrain(j.y0,0,j.ya._length),j.y1=L.constrain(j.y1,0,j.ya._length),j.xLabelVal!==void 0&&(j.xLabel="xLabel"in j?j.xLabel:u.hoverLabelText(j.xa,j.xLabelVal,q.xhoverformat),j.xVal=j.xa.c2d(j.xLabelVal)),j.yLabelVal!==void 0&&(j.yLabel="yLabel"in j?j.yLabel:u.hoverLabelText(j.ya,j.yLabelVal,q.yhoverformat),j.yVal=j.ya.c2d(j.yLabelVal)),j.zLabelVal!==void 0&&j.zLabel===void 0&&(j.zLabel=String(j.zLabelVal)),!isNaN(j.xerr)&&!(j.xa.type==="log"&&j.xerr<=0)){var ke=u.tickText(j.xa,j.xa.c2l(j.xerr),"hover").text;j.xerrneg!==void 0?j.xLabel+=" +"+ke+" / -"+u.tickText(j.xa,j.xa.c2l(j.xerrneg),"hover").text:j.xLabel+="  "+ke,X==="x"&&(j.distance+=1)}if(!isNaN(j.yerr)&&!(j.ya.type==="log"&&j.yerr<=0)){var Be=u.tickText(j.ya,j.ya.c2l(j.yerr),"hover").text;j.yerrneg!==void 0?j.yLabel+=" +"+Be+" / -"+u.tickText(j.ya,j.ya.c2l(j.yerrneg),"hover").text:j.yLabel+="  "+Be,X==="y"&&(j.distance+=1)}var Ae=j.hoverinfo||j.trace.hoverinfo;return Ae&&Ae!=="all"&&(Ae=Array.isArray(Ae)?Ae:Ae.split("+"),Ae.indexOf("x")===-1&&(j.xLabel=void 0),Ae.indexOf("y")===-1&&(j.yLabel=void 0),Ae.indexOf("z")===-1&&(j.zLabel=void 0),Ae.indexOf("text")===-1&&(j.text=void 0),Ae.indexOf("name")===-1&&(j.name=void 0)),j}function re(j,X,se){var q=se.container,ce=se.fullLayout,ye=ce._size,we=se.event,be=!!X.hLinePoint,De=!!X.vLinePoint,ke,Be;if(q.selectAll(".spikeline").remove(),!!(De||be)){var Ae=f.combine(ce.plot_bgcolor,ce.paper_bgcolor);if(be){var Ie=X.hLinePoint,Me,Fe;ke=Ie&&Ie.xa,Be=Ie&&Ie.ya;var Ee=Be.spikesnap;Ee==="cursor"?(Me=we.pointerX,Fe=we.pointerY):(Me=ke._offset+Ie.x,Fe=Be._offset+Ie.y);var He=i.readability(Ie.color,Ae)<1.5?f.contrast(Ae):Ie.color,rt=Be.spikemode,ot=Be.spikethickness,$e=Be.spikecolor||He,qe=u.getPxPosition(j,Be),ht,vt;if(rt.indexOf("toaxis")!==-1||rt.indexOf("across")!==-1){if(rt.indexOf("toaxis")!==-1&&(ht=qe,vt=Me),rt.indexOf("across")!==-1){var pt=Be._counterDomainMin,wt=Be._counterDomainMax;Be.anchor==="free"&&(pt=Math.min(pt,Be.position),wt=Math.max(wt,Be.position)),ht=ye.l+pt*ye.w,vt=ye.l+wt*ye.w}q.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Fe,y2:Fe,"stroke-width":ot,stroke:$e,"stroke-dasharray":n.dashStyle(Be.spikedash,ot)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Fe,y2:Fe,"stroke-width":ot+2,stroke:Ae}).classed("spikeline",!0).classed("crisp",!0)}rt.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:qe+(Be.side!=="right"?ot:-ot),cy:Fe,r:ot,fill:$e}).classed("spikeline",!0)}if(De){var Mt=X.vLinePoint,nt,_e;ke=Mt&&Mt.xa,Be=Mt&&Mt.ya;var Ge=ke.spikesnap;Ge==="cursor"?(nt=we.pointerX,_e=we.pointerY):(nt=ke._offset+Mt.x,_e=Be._offset+Mt.y);var je=i.readability(Mt.color,Ae)<1.5?f.contrast(Ae):Mt.color,We=ke.spikemode,Pe=ke.spikethickness,Re=ke.spikecolor||je,Xe=u.getPxPosition(j,ke),Le,ve;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(Le=Xe,ve=_e),We.indexOf("across")!==-1){var xe=ke._counterDomainMin,Ne=ke._counterDomainMax;ke.anchor==="free"&&(xe=Math.min(xe,ke.position),Ne=Math.max(Ne,ke.position)),Le=ye.t+(1-Ne)*ye.h,ve=ye.t+(1-xe)*ye.h}q.insert("line",":first-child").attr({x1:nt,x2:nt,y1:Le,y2:ve,"stroke-width":Pe,stroke:Re,"stroke-dasharray":n.dashStyle(ke.spikedash,Pe)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:nt,x2:nt,y1:Le,y2:ve,"stroke-width":Pe+2,stroke:Ae}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:nt,cy:Xe-(ke.side!=="top"?Pe:-Pe),r:Pe,fill:Re}).classed("spikeline",!0)}}}function ne(j,X,se){if(!se||se.length!==j._hoverdata.length)return!0;for(var q=se.length-1;q>=0;q--){var ce=se[q],ye=j._hoverdata[q];if(ce.curveNumber!==ye.curveNumber||String(ce.pointNumber)!==String(ye.pointNumber)||String(ce.pointNumbers)!==String(ye.pointNumbers))return!0}return!1}function ue(j,X){return!X||X.vLinePoint!==j._spikepoints.vLinePoint||X.hLinePoint!==j._spikepoints.hLinePoint}function te(j,X){return t.plainText(j||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function Q(j,X){for(var se=X.charAt(0),q=[],ce=[],ye=[],we=0;we<j.length;we++){var be=j[we];g.traceIs(be.trace,"bar-like")||g.traceIs(be.trace,"box-violin")?ye.push(be):be.trace[se+"period"]?ce.push(be):q.push(be)}return q.concat(ce).concat(ye)}function ie(j,X,se){var q=X[j+"a"],ce=X[j+"Val"],ye=X.cd[0];if(q.type==="category"||q.type==="multicategory")ce=q._categoriesMap[ce];else if(q.type==="date"){var we=X.trace[j+"periodalignment"];if(we){var be=X.cd[X.index],De=be[j+"Start"];De===void 0&&(De=be[j]);var ke=be[j+"End"];ke===void 0&&(ke=be[j]);var Be=ke-De;we==="end"?ce+=Be:we==="middle"&&(ce+=Be/2)}ce=q.d2c(ce)}return ye&&ye.t&&ye.t.posLetter===q._id&&(se.boxmode==="group"||se.violinmode==="group")&&(ce+=ye.t.dPos),ce}function Y(j){return j.offsetTop+j.clientTop}function $(j){return j.offsetLeft+j.clientLeft}function oe(j,X){var se=j._fullLayout,q=X.getBoundingClientRect(),ce=q.left,ye=q.top,we=ce+q.width,be=ye+q.height,De=L.apply3DTransform(se._invTransform)(ce,ye),ke=L.apply3DTransform(se._invTransform)(we,be),Be=De[0],Ae=De[1],Ie=ke[0],Me=ke[1];return{x:Be,y:Ae,width:Ie-Be,height:Me-Ae,top:Math.min(Ae,Me),left:Math.min(Be,Ie),right:Math.max(Be,Ie),bottom:Math.max(Ae,Me)}}},16132:function(G,V,e){var m=e(3400),P=e(76308),i=e(10624).isUnifiedHover;G.exports=function(S,v,p,r){r=r||{};var t=v.legend;function a(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&i(v.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),a("weight"),a("style"),a("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),m.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(G,V,e){var m=e(3400),P=e(65460);G.exports=function(L,S){function v(p,r){return S[p]!==void 0?S[p]:m.coerce(L,S,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(G,V,e){var m=e(33428),P=e(3400),i=e(86476),L=e(10624),S=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(a){var n=P.isD3Selection(a)?a:m.select(a);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(a,n,f){return P.castOption(a,n,"hoverlabel."+f)}function t(a,n,f){function l(u){return P.coerceHoverinfo({hoverinfo:u},{_module:a._module},n)}return P.castOption(a,f,"hoverinfo",l)}},65460:function(G,V,e){var m=e(92456),P=e(25376),i=P({editType:"none"});i.family.dflt=m.HOVERFONT,i.size.dflt=m.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,V,e){var m=e(3400),P=e(65460),i=e(41008),L=e(16132);G.exports=function(v,p){function r(u,g){return m.coerce(v,p,P,u,g)}var t=i(v,p);t&&(r("hoverdistance"),r("spikedistance"));var a=r("dragmode");a==="select"&&r("selectdirection");var n=p._has("mapbox"),f=p._has("geo"),l=p._basePlotModules.length;p.dragmode==="zoom"&&((n||f)&&l===1||n&&f&&l===2)&&(p.dragmode="pan"),L(v,p,r),m.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(G,V,e){var m=e(3400),P=e(16132),i=e(65460);G.exports=function(S,v){function p(r,t){return m.coerce(S,v,i,r,t)}P(S,v,p)}},12704:function(G,V,e){var m=e(3400),P=e(53756).counter,i=e(86968).u,L=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(f,l,u){var g=l[u+"axes"],h=Object.keys((f._splomAxes||{})[u]||{});if(Array.isArray(g))return g;if(h.length)return h}function r(f,l){var u=f.grid||{},g=p(l,u,"x"),h=p(l,u,"y");if(!f.grid&&!g&&!h)return;var T=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),c=Array.isArray(g),o=Array.isArray(h),d=c&&g!==u.xaxes&&o&&h!==u.yaxes,x,w;T?(x=u.subplots.length,w=u.subplots[0].length):(o&&(x=h.length),c&&(w=g.length));var C=S.newContainer(l,"grid");function y(O,B){return m.coerce(u,C,v,O,B)}var M=y("rows",x),A=y("columns",w);if(!(M*A>1)){delete l.grid;return}if(!T&&!c&&!o){var s=y("pattern")==="independent";s&&(T=!0)}C._hasSubplotGrid=T;var E=y("roworder"),b=E==="top to bottom",F=T?.2:.1,I=T?.3:.1,N,_;d&&l._splomGridDflt&&(N=l._splomGridDflt.xside,_=l._splomGridDflt.yside),C._domains={x:t("x",y,F,N,A),y:t("y",y,I,_,M,b)}}function t(f,l,u,g,h,T){var c=l(f+"gap",u),o=l("domain."+f);l(f+"side",g);for(var d=new Array(h),x=o[0],w=(o[1]-x)/(h-c),C=w*(1-c),y=0;y<h;y++){var M=x+w*y;d[T?h-1-y:y]=[M,M+C]}return d}function a(f,l){var u=l.grid;if(!(!u||!u._domains)){var g=f.grid||{},h=l._subplots,T=u._hasSubplotGrid,c=u.rows,o=u.columns,d=u.pattern==="independent",x,w,C,y,M,A,s,E=u._axisMap={};if(T){var b=g.subplots||[];A=u.subplots=new Array(c);var F=1;for(x=0;x<c;x++){var I=A[x]=new Array(o),N=b[x]||[];for(w=0;w<o;w++)if(d?(M=F===1?"xy":"x"+F+"y"+F,F++):M=N[w],I[w]="",h.cartesian.indexOf(M)!==-1){if(s=M.indexOf("y"),C=M.slice(0,s),y=M.slice(s),E[C]!==void 0&&E[C]!==w||E[y]!==void 0&&E[y]!==x)continue;I[w]=M,E[C]=w,E[y]=x}}}else{var _=p(l,g,"x"),O=p(l,g,"y");u.xaxes=n(_,h.xaxis,o,E,"x"),u.yaxes=n(O,h.yaxis,c,E,"y")}var B=u._anchors={},z=u.roworder==="top to bottom";for(var U in E){var Z=U.charAt(0),J=u[Z+"side"],re,ne,ue;if(J.length<8)B[U]="free";else if(Z==="x"){if(J.charAt(0)==="t"===z?(re=0,ne=1,ue=c):(re=c-1,ne=-1,ue=-1),T){var te=E[U];for(x=re;x!==ue;x+=ne)if(M=A[x][te],!!M&&(s=M.indexOf("y"),M.slice(0,s)===U)){B[U]=M.slice(s);break}}else for(x=re;x!==ue;x+=ne)if(y=u.yaxes[x],h.cartesian.indexOf(U+y)!==-1){B[U]=y;break}}else if(J.charAt(0)==="l"?(re=0,ne=1,ue=o):(re=o-1,ne=-1,ue=-1),T){var Q=E[U];for(x=re;x!==ue;x+=ne)if(M=A[Q][x],!!M&&(s=M.indexOf("y"),M.slice(s)===U)){B[U]=M.slice(0,s);break}}else for(x=re;x!==ue;x+=ne)if(C=u.xaxes[x],h.cartesian.indexOf(C+U)!==-1){B[U]=C;break}}}}function n(f,l,u,g,h){var T=new Array(u),c;function o(d,x){l.indexOf(x)!==-1&&g[x]===void 0?(T[d]=x,g[x]=d):T[d]=""}if(Array.isArray(f))for(c=0;c<u;c++)o(c,f[c]);else for(o(0,h),c=1;c<u;c++)o(c,h+(c+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:a}},65760:function(G,V,e){var m=e(33816),P=e(31780).templatedArray;e(36208),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",m.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",m.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,V,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var a=L._fullLayout.images,n=S._id.charAt(0),f,l,u=0;u<a.length;u++)if(f=a[u],l="images["+u+"].",f[n+"ref"]===S._id){var g=f[n],h=f["size"+n],T=null,c=null;if(r){T=P(g,S.range);var o=h/Math.pow(10,T)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else T=Math.pow(10,g),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));m(T)?m(c)||(c=null):(T=null,c=null),p(l+n,T),p(l+"size"+n,c)}}}},25024:function(G,V,e){var m=e(3400),P=e(54460),i=e(51272),L=e(65760),S="images";G.exports=function(r,t){var a={name:S,handleItemDefaults:v};i(r,t,a)};function v(p,r,t){function a(o,d){return m.coerce(p,r,L,o,d)}var n=a("source"),f=a("visible",!!n);if(!f)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var l={_fullLayout:t},u=["x","y"],g=0;g<2;g++){var h=u[g],T=P.coerceRef(p,r,l,h,"paper",void 0);if(T!=="paper"){var c=P.getFromId(l,T);c._imgIndices.push(r._index)}P.coercePosition(r,l,a,T,h,0)}return r}},60963:function(G,V,e){var m=e(33428),P=e(43616),i=e(54460),L=e(79811),S=e(9616);G.exports=function(p){var r=p._fullLayout,t=[],a={},n=[],f,l;for(l=0;l<r.images.length;l++){var u=r.images[l];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){f=L.ref2id(u.xref)+L.ref2id(u.yref);var g=r._plots[f];if(!g){n.push(u);continue}g.mainplot&&(f=g.mainplot.id),a[f]||(a[f]=[]),a[f].push(u)}else u.layer==="above"?t.push(u):n.push(u)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(y){var M=m.select(this);if(this._imgSrc!==y.source)if(M.attr("xmlns",S.svg),y.source&&y.source.slice(0,5)==="data:")M.attr("xlink:href",y.source),this._imgSrc=y.source;else{var A=new Promise((function(s){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=b,E.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height;var I=F.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var N=F.toDataURL("image/png");M.attr("xlink:href",N),s()},M.on("error",b),E.src=y.source,this._imgSrc=y.source;function b(){M.remove(),s()}}).bind(this));p._promises.push(A)}}function c(y){var M=m.select(this),A=i.getFromId(p,y.xref),s=i.getFromId(p,y.yref),E=i.getRefType(y.xref)==="domain",b=i.getRefType(y.yref)==="domain",F=r._size,I,N;A!==void 0?I=typeof y.xref=="string"&&E?A._length*y.sizex:Math.abs(A.l2p(y.sizex)-A.l2p(0)):I=y.sizex*F.w,s!==void 0?N=typeof y.yref=="string"&&b?s._length*y.sizey:Math.abs(s.l2p(y.sizey)-s.l2p(0)):N=y.sizey*F.h;var _=I*h.x[y.xanchor].offset,O=N*h.y[y.yanchor].offset,B=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,z,U;switch(A!==void 0?z=typeof y.xref=="string"&&E?A._length*y.x+A._offset:A.r2p(y.x)+A._offset:z=y.x*F.w+F.l,z+=_,s!==void 0?U=typeof y.yref=="string"&&b?s._length*(1-y.y)+s._offset:s.r2p(y.y)+s._offset:U=F.h-y.y*F.h+F.t,U+=O,y.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}M.attr({x:z,y:U,width:I,height:N,preserveAspectRatio:B,opacity:y.opacity});var Z=A&&i.getRefType(y.xref)!=="domain"?A._id:"",J=s&&i.getRefType(y.yref)!=="domain"?s._id:"",re=Z+J;P.setClipUrl(M,re?"clip"+r._uid+re:null,p)}var o=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(y){T.bind(this)(y),c.bind(this)(y)}),d.each(function(y){T.bind(this)(y),c.bind(this)(y)});var x=Object.keys(r._plots);for(l=0;l<x.length;l++){f=x[l];var w=r._plots[f];if(w.imagelayer){var C=w.imagelayer.selectAll("image").data(a[f]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(y){T.bind(this)(y),c.bind(this)(y)})}}}},7402:function(G,V,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,V,e){var m=e(25376),P=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:m({editType:"legend"}),grouptitlefont:m({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:m({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,V,e){var m=e(24040),P=e(3400),i=e(31780),L=e(45464),S=e(3800),v=e(64859),p=e(42451);function r(t,a,n,f){var l=a[t]||{},u=i.newContainer(n,t);function g(ue,te){return P.coerce(l,u,S,ue,te)}var h=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var T=g("visible");if(T){for(var c,o=function(ue,te){var Q=c._input,ie=c;return P.coerce(Q,ie,L,ue,te)},d=n.font||{},x=P.coerceFont(g,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),w=0,C=!1,y="normal",M=(n.shapes||[]).filter(function(ue){return ue.showlegend}),A=f.concat(M).filter(function(ue){return t===(ue.legend||"legend")}),s=0;s<A.length;s++)if(c=A[s],!!c.visible){var E=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(C=!0,(!E&&m.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),P.coerceFont(o,"legendgrouptitle.font",x)),(!E&&m.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var b=P.coerce(a,n,v,"showlegend",C&&w>(t==="legend"?1:0));if(b===!1&&(n[t]=void 0),!(b===!1&&!l.uirevision)&&(g("uirevision",n.uirevision),b!==!1)){g("borderwidth");var F=g("orientation"),I=g("yref"),N=g("xref"),_=F==="h",O=I==="paper",B=N==="paper",z,U,Z,J="left";_?(z=0,m.getComponentMethod("rangeslider","isVisible")(a.xaxis)?O?(U=1.1,Z="bottom"):(U=1,Z="top"):O?(U=-.1,Z="top"):(U=0,Z="bottom")):(U=1,Z="auto",B?z=1.02:(z=1,J="right")),P.coerce(l,u,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:z}},"x"),P.coerce(l,u,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:U}},"y"),g("traceorder",y),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",J),g("yanchor",Z),g("valign"),P.noneOrAll(l,u,["x","y"]);var re=g("title.text");if(re){g("title.side",_?"left":"top");var ne=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(g,"title.font",ne)}}}}G.exports=function(a,n,f){var l,u=f.slice(),g=n.shapes;if(g)for(l=0;l<g.length;l++){var h=g[l];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};u.push(T)}}var c=["legend"];for(l=0;l<u.length;l++)P.pushUnique(c,u[l].legend);for(n._legends=[],l=0;l<c.length;l++){var o=c[l];r(o,a,n,u),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(G,V,e){var m=e(33428),P=e(3400),i=e(7316),L=e(24040),S=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),a=e(33048),n=e(65196),f=e(84284),l=f.LINE_SPACING,u=f.FROM_TL,g=f.FROM_BR,h=e(35456),T=e(2012),c=e(42451),o=1,d=/^legend[0-9]*$/;G.exports=function(U,Z){if(Z)w(U,Z);else{var J=U._fullLayout,re=J._legends,ne=J._infolayer.selectAll('[class^="legend"]');ne.each(function(){var ie=m.select(this),Y=ie.attr("class"),$=Y.split(" ")[0];$.match(d)&&re.indexOf($)===-1&&ie.remove()});for(var ue=0;ue<re.length;ue++){var te=re[ue],Q=U._fullLayout[te];w(U,Q)}}};function x(z,U,Z){if(!(U.title.side!=="top center"&&U.title.side!=="top right")){var J=U.title.font,re=J.size*l,ne=0,ue=z.node(),te=p.bBox(ue).width;U.title.side==="top center"?ne=.5*(U._width-2*Z-2*n.titlePad-te):U.title.side==="top right"&&(ne=U._width-2*Z-2*n.titlePad-te),t.positionText(z,Z+n.titlePad+ne,Z+re)}}function w(z,U){var Z=U||{},J=z._fullLayout,re=B(Z),ne,ue,te=Z._inHover;if(te?(ue=Z.layer,ne="hover"):(ue=J._infolayer,ne=re),!!ue){ne+=J._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var Q;if(te){if(!Z.entries)return;Q=h(Z.entries,Z)}else{for(var ie=(z.calcdata||[]).slice(),Y=J.shapes,$=0;$<Y.length;$++){var oe=Y[$];if(oe.showlegend){var j={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};ie.push([{trace:j}])}}Q=J.showlegend&&h(ie,Z,J._legends.length>1)}var X=J.hiddenlabels||[];if(!te&&(!J.showlegend||!Q.length))return ue.selectAll("."+re).remove(),J._topdefs.select("#"+ne).remove(),i.autoMargin(z,re);var se=P.ensureSingle(ue,"g",re,function(Ae){te||Ae.attr("pointer-events","all")}),q=P.ensureSingleById(J._topdefs,"clipPath",ne,function(Ae){Ae.append("rect")}),ce=P.ensureSingle(se,"rect","bg",function(Ae){Ae.attr("shape-rendering","crispEdges")});ce.call(r.stroke,Z.bordercolor).call(r.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var ye=P.ensureSingle(se,"g","scrollbox"),we=Z.title;Z._titleWidth=0,Z._titleHeight=0;var be;we.text?(be=P.ensureSingle(ye,"text",re+"titletext"),be.attr("text-anchor","start").call(p.font,we.font).text(we.text),E(be,ye,z,Z,o)):ye.selectAll("."+re+"titletext").remove();var De=P.ensureSingle(se,"rect","scrollbar",function(Ae){Ae.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),ke=ye.selectAll("g.groups").data(Q);ke.enter().append("g").attr("class","groups"),ke.exit().remove();var Be=ke.selectAll("g.traces").data(P.identity);Be.enter().append("g").attr("class","traces"),Be.exit().remove(),Be.style("opacity",function(Ae){var Ie=Ae[0].trace;return L.traceIs(Ie,"pie-like")?X.indexOf(Ae[0].label)!==-1?.5:1:Ie.visible==="legendonly"?.5:1}).each(function(){m.select(this).call(M,z,Z)}).call(T,z,Z).each(function(){te||m.select(this).call(s,z,re)}),P.syncOrAsync([i.previousPromises,function(){return I(z,ke,Be,Z)},function(){var Ae=J._size,Ie=Z.borderwidth,Me=Z.xref==="paper",Fe=Z.yref==="paper";if(we.text&&x(be,Z,Ie),!te){var Ee,He;Me?Ee=Ae.l+Ae.w*Z.x-u[_(Z)]*Z._width:Ee=J.width*Z.x-u[_(Z)]*Z._width,Fe?He=Ae.t+Ae.h*(1-Z.y)-u[O(Z)]*Z._effHeight:He=J.height*(1-Z.y)-u[O(Z)]*Z._effHeight;var rt=N(z,re,Ee,He);if(rt)return;if(J.margin.autoexpand){var ot=Ee,$e=He;Ee=Me?P.constrain(Ee,0,J.width-Z._width):ot,He=Fe?P.constrain(He,0,J.height-Z._effHeight):$e,Ee!==ot&&P.log("Constrain "+re+".x to make legend fit inside graph"),He!==$e&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(se,Ee,He)}if(De.on(".drag",null),se.on("wheel",null),te||Z._height<=Z._maxHeight||z._context.staticPlot){var qe=Z._effHeight;te&&(qe=Z._height),ce.attr({width:Z._width-Ie,height:qe-Ie,x:Ie/2,y:Ie/2}),p.setTranslate(ye,0,0),q.select("rect").attr({width:Z._width-2*Ie,height:qe-2*Ie,x:Ie,y:Ie}),p.setClipUrl(ye,ne,z),p.setRect(De,0,0,0,0),delete Z._scrollY}else{var ht=Math.max(n.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),vt=Z._effHeight-ht-2*n.scrollBarMargin,pt=Z._height-Z._effHeight,wt=vt/pt,Mt=Math.min(Z._scrollY||0,pt);ce.attr({width:Z._width-2*Ie+n.scrollBarWidth+n.scrollBarMargin,height:Z._effHeight-Ie,x:Ie/2,y:Ie/2}),q.select("rect").attr({width:Z._width-2*Ie+n.scrollBarWidth+n.scrollBarMargin,height:Z._effHeight-2*Ie,x:Ie,y:Ie+Mt}),p.setClipUrl(ye,ne,z),Xe(Mt,ht,wt),se.on("wheel",function(){Mt=P.constrain(Z._scrollY+m.event.deltaY/vt*pt,0,pt),Xe(Mt,ht,wt),Mt!==0&&Mt!==pt&&m.event.preventDefault()});var nt,_e,Ge,je=function(et,st,lt){var Gt=(lt-st)/wt+et;return P.constrain(Gt,0,pt)},We=function(et,st,lt){var Gt=(st-lt)/wt+et;return P.constrain(Gt,0,pt)},Pe=m.behavior.drag().on("dragstart",function(){var et=m.event.sourceEvent;et.type==="touchstart"?nt=et.changedTouches[0].clientY:nt=et.clientY,Ge=Mt}).on("drag",function(){var et=m.event.sourceEvent;et.buttons===2||et.ctrlKey||(et.type==="touchmove"?_e=et.changedTouches[0].clientY:_e=et.clientY,Mt=je(Ge,nt,_e),Xe(Mt,ht,wt))});De.call(Pe);var Re=m.behavior.drag().on("dragstart",function(){var et=m.event.sourceEvent;et.type==="touchstart"&&(nt=et.changedTouches[0].clientY,Ge=Mt)}).on("drag",function(){var et=m.event.sourceEvent;et.type==="touchmove"&&(_e=et.changedTouches[0].clientY,Mt=We(Ge,nt,_e),Xe(Mt,ht,wt))});ye.call(Re)}function Xe(et,st,lt){Z._scrollY=z._fullLayout[re]._scrollY=et,p.setTranslate(ye,0,-et),p.setRect(De,Z._width,n.scrollBarMargin+et*lt,n.scrollBarWidth,st),q.select("rect").attr("y",Ie+et)}if(z._context.edits.legendPosition){var Le,ve,xe,Ne;se.classed("cursor-move",!0),v.init({element:se.node(),gd:z,prepFn:function(et){if(et.target!==De.node()){var st=p.getTranslate(se);xe=st.x,Ne=st.y}},moveFn:function(et,st){if(xe!==void 0&&Ne!==void 0){var lt=xe+et,Gt=Ne+st;p.setTranslate(se,lt,Gt),Le=v.align(lt,Z._width,Ae.l,Ae.l+Ae.w,Z.xanchor),ve=v.align(Gt+Z._height,-Z._height,Ae.t+Ae.h,Ae.t,Z.yanchor)}},doneFn:function(){if(Le!==void 0&&ve!==void 0){var et={};et[re+".x"]=Le,et[re+".y"]=ve,L.call("_guiRelayout",z,et)}},clickFn:function(et,st){var lt=ue.selectAll("g.traces").filter(function(){var Gt=this.getBoundingClientRect();return st.clientX>=Gt.left&&st.clientX<=Gt.right&&st.clientY>=Gt.top&&st.clientY<=Gt.bottom});lt.size()>0&&y(z,se,lt,et,st)}})}}],z)}}function C(z,U,Z){var J=z[0],re=J.width,ne=U.entrywidthmode,ue=J.trace.legendwidth||U.entrywidth;return ne==="fraction"?U._maxWidth*ue:Z+(ue||re)}function y(z,U,Z,J,re){var ne=Z.data()[0][0].trace,ue={event:re,node:Z.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ne._group&&(ue.group=ne._group),L.traceIs(ne,"pie-like")&&(ue.label=Z.datum()[0].label);var te=S.triggerHandler(z,"plotly_legendclick",ue);if(J===1){if(te===!1)return;U._clickTimeout=setTimeout(function(){z._fullLayout&&a(Z,z,J)},z._context.doubleClickDelay)}else if(J===2){U._clickTimeout&&clearTimeout(U._clickTimeout),z._legendMouseDownTime=0;var Q=S.triggerHandler(z,"plotly_legenddoubleclick",ue);Q!==!1&&te!==!1&&a(Z,z,J)}}function M(z,U,Z){var J=B(Z),re=z.data()[0][0],ne=re.trace,ue=L.traceIs(ne,"pie-like"),te=!Z._inHover&&U._context.edits.legendText&&!ue,Q=Z._maxNameLength,ie,Y;re.groupTitle?(ie=re.groupTitle.text,Y=re.groupTitle.font):(Y=Z.font,Z.entries?ie=re.text:(ie=ue?re.label:ne.name,ne._meta&&(ie=P.templateString(ie,ne._meta))));var $=P.ensureSingle(z,"text",J+"text");$.attr("text-anchor","start").call(p.font,Y).text(te?A(ie,Q):ie);var oe=Z.indentation+Z.itemwidth+n.itemGap*2;t.positionText($,oe,0),te?$.call(t.makeEditable,{gd:U,text:ie}).call(E,z,U,Z).on("edit",function(j){this.text(A(j,Q)).call(E,z,U,Z);var X=re.trace._fullInput||{},se={};if(L.hasTransform(X,"groupby")){var q=L.getTransformIndices(X,"groupby"),ce=q[q.length-1],ye=P.keyedContainer(X,"transforms["+ce+"].styles","target","value.name");ye.set(re.trace._group,j),se=ye.constructUpdate()}else se.name=j;return X._isShape?L.call("_guiRelayout",U,"shapes["+ne.index+"].name",se.name):L.call("_guiRestyle",U,se,ne.index)}):E($,z,U,Z)}function A(z,U){var Z=Math.max(4,U);if(z&&z.trim().length>=Z/2)return z;z=z||"";for(var J=Z-z.length;J>0;J--)z+=" ";return z}function s(z,U,Z){var J=U._context.doubleClickDelay,re,ne=1,ue=P.ensureSingle(z,"rect",Z+"toggle",function(te){U._context.staticPlot||te.style("cursor","pointer").attr("pointer-events","all"),te.call(r.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(ue.on("mousedown",function(){re=new Date().getTime(),re-U._legendMouseDownTime<J?ne+=1:(ne=1,U._legendMouseDownTime=re)}),ue.on("mouseup",function(){if(!(U._dragged||U._editing)){var te=U._fullLayout[Z];new Date().getTime()-U._legendMouseDownTime>J&&(ne=Math.max(ne-1,1)),y(U,te,z,ne,m.event)}}))}function E(z,U,Z,J,re){J._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,Z,function(){b(U,Z,J,re)})}function b(z,U,Z,J){var re=z.data()[0][0];if(!Z._inHover&&re&&!re.trace.showlegend){z.remove();return}var ne=z.select("g[class*=math-group]"),ue=ne.node(),te=B(Z);Z||(Z=U._fullLayout[te]);var Q=Z.borderwidth,ie;J===o?ie=Z.title.font:re.groupTitle?ie=re.groupTitle.font:ie=Z.font;var Y=ie.size*l,$,oe;if(ue){var j=p.bBox(ue);$=j.height,oe=j.width,J===o?p.setTranslate(ne,Q,Q+$*.75):p.setTranslate(ne,0,$*.25)}else{var X="."+te+(J===o?"title":"")+"text",se=z.select(X),q=t.lineCount(se),ce=se.node();if($=Y*q,oe=ce?p.bBox(ce).width:0,J===o)Z.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,Q+n.titlePad,Q+Y);else{var ye=n.itemGap*2+Z.indentation+Z.itemwidth;re.groupTitle&&(ye=n.itemGap,oe-=Z.indentation+Z.itemwidth),t.positionText(se,ye,-Y*((q-1)/2-.3))}}J===o?(Z._titleWidth=oe,Z._titleHeight=$):(re.lineHeight=Y,re.height=Math.max($,16)+3,re.width=oe)}function F(z){var U=0,Z=0,J=z.title.side;return J&&(J.indexOf("left")!==-1&&(U=z._titleWidth),J.indexOf("top")!==-1&&(Z=z._titleHeight)),[U,Z]}function I(z,U,Z,J){var re=z._fullLayout,ne=B(J);J||(J=re[ne]);var ue=re._size,te=c.isVertical(J),Q=c.isGrouped(J),ie=J.entrywidthmode==="fraction",Y=J.borderwidth,$=2*Y,oe=n.itemGap,j=J.indentation+J.itemwidth+oe*2,X=2*(Y+oe),se=O(J),q=J.y<0||J.y===0&&se==="top",ce=J.y>1||J.y===1&&se==="bottom",ye=J.tracegroupgap,we={};J._maxHeight=Math.max(q||ce?re.height/2:ue.h,30);var be=0;J._width=0,J._height=0;var De=F(J);if(te)Z.each(function(Ge){var je=Ge[0].height;p.setTranslate(this,Y+De[0],Y+De[1]+J._height+je/2+oe),J._height+=je,J._width=Math.max(J._width,Ge[0].width)}),be=j+J._width,J._width+=oe+j+$,J._height+=X,Q&&(U.each(function(Ge,je){p.setTranslate(this,0,je*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var ke=_(J),Be=J.x<0||J.x===0&&ke==="right",Ae=J.x>1||J.x===1&&ke==="left",Ie=ce||q,Me=re.width/2;J._maxWidth=Math.max(Be?Ie&&ke==="left"?ue.l+ue.w:Me:Ae?Ie&&ke==="right"?ue.r+ue.w:Me:ue.w,2*j);var Fe=0,Ee=0;Z.each(function(Ge){var je=C(Ge,J,j);Fe=Math.max(Fe,je),Ee+=je}),be=null;var He=0;if(Q){var rt=0,ot=0,$e=0;U.each(function(){var Ge=0,je=0;m.select(this).selectAll("g.traces").each(function(Pe){var Re=C(Pe,J,j),Xe=Pe[0].height;p.setTranslate(this,De[0],De[1]+Y+oe+Xe/2+je),je+=Xe,Ge=Math.max(Ge,Re),we[Pe[0].trace.legendgroup]=Ge});var We=Ge+oe;ot>0&&We+Y+ot>J._maxWidth?(He=Math.max(He,ot),ot=0,$e+=rt+ye,rt=je):rt=Math.max(rt,je),p.setTranslate(this,ot,$e),ot+=We}),J._width=Math.max(He,ot)+Y,J._height=$e+rt+X}else{var qe=Z.size(),ht=Ee+$+(qe-1)*oe<J._maxWidth,vt=0,pt=0,wt=0,Mt=0;Z.each(function(Ge){var je=Ge[0].height,We=C(Ge,J,j),Pe=ht?We:Fe;ie||(Pe+=oe),Pe+Y+pt-oe>=J._maxWidth&&(He=Math.max(He,Mt),pt=0,wt+=vt,J._height+=vt,vt=0),p.setTranslate(this,De[0]+Y+pt,De[1]+Y+wt+je/2+oe),Mt=pt+We+oe,pt+=Pe,vt=Math.max(vt,je)}),ht?(J._width=pt+$,J._height=vt+X):(J._width=Math.max(He,Mt)+$,J._height+=vt+X)}}J._width=Math.ceil(Math.max(J._width+De[0],J._titleWidth+2*(Y+n.titlePad))),J._height=Math.ceil(Math.max(J._height+De[1],J._titleHeight+2*(Y+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var nt=z._context.edits,_e=nt.legendText||nt.legendPosition;Z.each(function(Ge){var je=m.select(this).select("."+ne+"toggle"),We=Ge[0].height,Pe=Ge[0].trace.legendgroup,Re=C(Ge,J,j);Q&&Pe!==""&&(Re=we[Pe]);var Xe=_e?j:be||Re;!te&&!ie&&(Xe+=oe/2),p.setRect(je,0,-We/2,Xe,We)})}function N(z,U,Z,J){var re=z._fullLayout,ne=re[U],ue=_(ne),te=O(ne),Q=ne.xref==="paper",ie=ne.yref==="paper";z._fullLayout._reservedMargin[U]={};var Y=ne.y<.5?"b":"t",$=ne.x<.5?"l":"r",oe={r:re.width-Z,l:Z+ne._width,b:re.height-J,t:J+ne._effHeight};if(Q&&ie)return i.autoMargin(z,U,{x:ne.x,y:ne.y,l:ne._width*u[ue],r:ne._width*g[ue],b:ne._effHeight*g[te],t:ne._effHeight*u[te]});Q?z._fullLayout._reservedMargin[U][Y]=oe[Y]:ie||ne.orientation==="v"?z._fullLayout._reservedMargin[U][$]=oe[$]:z._fullLayout._reservedMargin[U][Y]=oe[Y]}function _(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function O(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function B(z){return z._id||"legend"}},35456:function(G,V,e){var m=e(24040),P=e(42451);G.exports=function(L,S,v){var p=S._inHover,r=P.isGrouped(S),t=P.isReversed(S),a={},n=[],f=!1,l={},u=0,g=0,h,T;function c(z,U,Z){if(S.visible!==!1&&!(v&&z!==S._id))if(U===""||!P.isGrouped(S)){var J="~~i"+u;n.push(J),a[J]=[Z],u++}else n.indexOf(U)===-1?(n.push(U),f=!0,a[U]=[Z]):a[U].push(Z)}for(h=0;h<L.length;h++){var o=L[h],d=o[0],x=d.trace,w=x.legend,C=x.legendgroup;if(!(!p&&(!x.visible||!x.showlegend)))if(m.traceIs(x,"pie-like"))for(l[C]||(l[C]={}),T=0;T<o.length;T++){var y=o[T].label;l[C][y]||(c(w,C,{label:y,color:o[T].color,i:o[T].i,trace:x,pts:o[T].pts}),l[C][y]=!0,g=Math.max(g,(y||"").length))}else c(w,C,d),g=Math.max(g,(x.name||"").length)}if(!n.length)return[];var M=!f||!r,A=[];for(h=0;h<n.length;h++){var s=a[n[h]];M?A.push(s[0]):A.push(s)}for(M&&(A=[A]),h=0;h<A.length;h++){var E=1/0;for(T=0;T<A[h].length;T++){var b=A[h][T].trace.legendrank;E>b&&(E=b)}A[h][0]._groupMinRank=E,A[h][0]._preGroupSort=h}var F=function(z,U){return z[0]._groupMinRank-U[0]._groupMinRank||z[0]._preGroupSort-U[0]._preGroupSort},I=function(z,U){return z.trace.legendrank-U.trace.legendrank||z._preSort-U._preSort};for(A.forEach(function(z,U){z[0]._preGroupSort=U}),A.sort(F),h=0;h<A.length;h++){A[h].forEach(function(z,U){z._preSort=U}),A[h].sort(I);var N=A[h][0].trace,_=null;for(T=0;T<A[h].length;T++){var O=A[h][T].trace.legendgrouptitle;if(O&&O.text){_=O,p&&(O.font=S._groupTitleFont);break}}if(t&&A[h].reverse(),_){var B=!1;for(T=0;T<A[h].length;T++)if(m.traceIs(A[h][T].trace,"pie-like")){B=!0;break}A[h].unshift({i:-1,groupTitle:_,noClick:B,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:S.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<A[h].length;T++)A[h][T]=[A[h][T]]}return S._lgroupsLength=A.length,S._maxNameLength=g,A}},33048:function(G,V,e){var m=e(24040),P=e(3400),i=P.pushUnique,L=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var a=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&a==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var l;if(r===1?l=a:r===2&&(l=n),!l)return;var u=f==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=p._fullData,c=(t.shapes||[]).filter(function(Me){return Me.showlegend}),o=T.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,w,C,y,M,A,s,E={},b=[],F=[],I=[];function N(Me,Fe){var Ee=b.indexOf(Me),He=E.visible;return He||(He=E.visible=[]),b.indexOf(Me)===-1&&(b.push(Me),Ee=b.length-1),He[Ee]=Fe,Ee}var _=(t.shapes||[]).map(function(Me){return Me._input}),O=!1;function B(Me,Fe){_[Me].visible=Fe,O=!0}function z(Me,Fe){if(!(h.groupTitle&&!u)){var Ee=Me._fullInput||Me,He=Ee._isShape,rt=Ee.index;if(rt===void 0&&(rt=Ee._index),m.hasTransform(Ee,"groupby")){var ot=F[rt];if(!ot){var $e=m.getTransformIndices(Ee,"groupby"),qe=$e[$e.length-1];ot=P.keyedContainer(Ee,"transforms["+qe+"].styles","target","value.visible"),F[rt]=ot}var ht=ot.get(Me._group);ht===void 0&&(ht=!0),ht!==!1&&ot.set(Me._group,Fe),I[rt]=N(rt,Ee.visible!==!1)}else{var vt=Ee.visible===!1?!1:Fe;He?B(rt,vt):N(rt,vt)}}}var U=d.legend,Z=d._fullInput,J=Z&&Z._isShape;if(!J&&m.traceIs(d,"pie-like")){var re=h.label,ne=g.indexOf(re);if(l==="toggle")ne===-1?g.push(re):g.splice(ne,1);else if(l==="toggleothers"){var ue=ne!==-1,te=[];for(w=0;w<p.calcdata.length;w++){var Q=p.calcdata[w];for(C=0;C<Q.length;C++){var ie=Q[C],Y=ie.label;U===Q[0].trace.legend&&re!==Y&&(g.indexOf(Y)===-1&&(ue=!0),i(g,Y),te.push(Y))}}if(!ue)for(var $=0;$<te.length;$++){var oe=g.indexOf(te[$]);oe!==-1&&g.splice(oe,1)}}m.call("_guiRelayout",p,"hiddenlabels",g)}else{var j=x&&x.length,X=[],se;if(j)for(w=0;w<o.length;w++)se=o[w],se.visible&&se.legendgroup===x&&X.push(w);if(l==="toggle"){var q;switch(d.visible){case!0:q="legendonly";break;case!1:q=!1;break;case"legendonly":q=!0;break}if(j)if(u)for(w=0;w<o.length;w++){var ce=o[w];ce.visible!==!1&&ce.legendgroup===x&&z(ce,q)}else z(d,q);else z(d,q)}else if(l==="toggleothers"){var ye,we,be,De,ke,Be=!0;for(w=0;w<o.length;w++)if(ke=o[w],ye=ke===d,be=ke.showlegend!==!0,!(ye||be)&&(we=j&&ke.legendgroup===x,!we&&ke.legend===U&&ke.visible===!0&&!m.traceIs(ke,"notLegendIsolatable"))){Be=!1;break}for(w=0;w<o.length;w++)if(ke=o[w],!(ke.visible===!1||ke.legend!==U)&&!m.traceIs(ke,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(ke,!0);break;case!0:De=Be?!0:"legendonly",ye=ke===d,be=ke.showlegend!==!0&&!ke.legendgroup,we=ye||j&&ke.legendgroup===x,z(ke,we||be?!0:De);break}}for(w=0;w<F.length;w++)if(y=F[w],!!y){var Ae=y.constructUpdate(),Ie=Object.keys(Ae);for(C=0;C<Ie.length;C++)M=Ie[C],s=E[M]=E[M]||[],s[I[w]]=Ae[M]}for(A=Object.keys(E),w=0;w<A.length;w++)for(M=A[w],C=0;C<b.length;C++)E[M].hasOwnProperty(C)||(E[M][C]=void 0);O?m.call("_guiUpdate",p,E,{shapes:_},b):m.call("_guiRestyle",p,E,b)}}},42451:function(G,V){V.isGrouped=function(m){return(m.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(m){return m.orientation!=="h"},V.isReversed=function(m){return(m.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,V,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,V,e){var m=e(33428),P=e(24040),i=e(3400),L=i.strTranslate,S=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),a=e(69656).castOption,n=e(65196),f=12,l=5,u=2,g=10,h=5;G.exports=function(x,w,C){var y=w._fullLayout;C||(C=y.legend);var M=C.itemsizing==="constant",A=C.itemwidth,s=(A+n.itemGap*2)/2,E=L(s,0),b=function(te,Q,ie,Y){var $;if(te+1)$=te;else if(Q&&Q.width>0)$=Q.width;else return 0;return M?Y:Math.min($,ie)};x.each(function(te){var Q=m.select(this),ie=i.ensureSingle(Q,"g","layers");ie.style("opacity",te[0].trace.opacity);var Y=C.indentation,$=C.valign,oe=te[0].lineHeight,j=te[0].height;if($==="middle"&&Y===0||!oe||!j)ie.attr("transform",null);else{var X={top:1,bottom:-1}[$],se=X*(.5*(oe-j+3))||0,q=C.indentation;ie.attr("transform",L(q,se))}var ce=ie.selectAll("g.legendfill").data([te]);ce.enter().append("g").classed("legendfill",!0);var ye=ie.selectAll("g.legendlines").data([te]);ye.enter().append("g").classed("legendlines",!0);var we=ie.selectAll("g.legendsymbols").data([te]);we.enter().append("g").classed("legendsymbols",!0),we.selectAll("g.legendpoints").data([te]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(N).each(O).each(_).each(z).each(re).each(J).each(F).each(I).each(U).each(Z);function F(te){var Q=c(te),ie=Q.showFill,Y=Q.showLine,$=Q.showGradientLine,oe=Q.showGradientFill,j=Q.anyFill,X=Q.anyLine,se=te[0],q=se.trace,ce,ye,we=p(q),be=we.colorscale,De=we.reversescale,ke=function(He){if(He.size())if(ie)S.fillGroupStyle(He,w,!0);else{var rt="legendfill-"+q.uid;S.gradient(He,w,rt,T(De),be,"fill")}},Be=function(He){if(He.size()){var rt="legendline-"+q.uid;S.lineGroupStyle(He),S.gradient(He,w,rt,T(De),be,"stroke")}},Ae=r.hasMarkers(q)||!j?"M5,0":X?"M5,-2":"M5,-3",Ie=m.select(this),Me=Ie.select(".legendfill").selectAll("path").data(ie||oe?[te]:[]);if(Me.enter().append("path").classed("js-fill",!0),Me.exit().remove(),Me.attr("d",Ae+"h"+A+"v6h-"+A+"z").call(ke),Y||$){var Fe=b(void 0,q.line,g,l);ye=i.minExtend(q,{line:{width:Fe}}),ce=[i.minExtend(se,{trace:ye})]}var Ee=Ie.select(".legendlines").selectAll("path").data(Y||$?[ce]:[]);Ee.enter().append("path").classed("js-line",!0),Ee.exit().remove(),Ee.attr("d",Ae+($?"l"+A+",0.0001":"h"+A)).call(Y?S.lineGroupStyle:Be)}function I(te){var Q=c(te),ie=Q.anyFill,Y=Q.anyLine,$=Q.showLine,oe=Q.showMarker,j=te[0],X=j.trace,se=!oe&&!Y&&!ie&&r.hasText(X),q,ce;function ye(Me,Fe,Ee,He){var rt=i.nestedProperty(X,Me).get(),ot=i.isArrayOrTypedArray(rt)&&Fe?Fe(rt):rt;if(M&&ot&&He!==void 0&&(ot=He),Ee){if(ot<Ee[0])return Ee[0];if(ot>Ee[1])return Ee[1]}return ot}function we(Me){return j._distinct&&j.index&&Me[j.index]?Me[j.index]:Me[0]}if(oe||se||$){var be={},De={};if(oe){be.mc=ye("marker.color",we),be.mx=ye("marker.symbol",we),be.mo=ye("marker.opacity",i.mean,[.2,1]),be.mlc=ye("marker.line.color",we),be.mlw=ye("marker.line.width",i.mean,[0,5],u),De.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=ye("marker.size",i.mean,[2,16],f);be.ms=ke,De.marker.size=ke}$&&(De.line={width:ye("line.width",we,[0,10],l)}),se&&(be.tx="Aa",be.tp=ye("textposition",we),be.ts=10,be.tc=ye("textfont.color",we),be.tf=ye("textfont.family",we),be.tw=ye("textfont.weight",we),be.ty=ye("textfont.style",we),be.tv=ye("textfont.variant",we),be.tC=ye("textfont.textcase",we),be.tE=ye("textfont.lineposition",we),be.tS=ye("textfont.shadow",we)),q=[i.minExtend(j,be)],ce=i.minExtend(X,De),ce.selectedpoints=null,ce.texttemplate=null}var Be=m.select(this).select("g.legendpoints"),Ae=Be.selectAll("path.scatterpts").data(oe?q:[]);Ae.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),Ae.exit().remove(),Ae.call(S.pointStyle,ce,w),oe&&(q[0].mrc=3);var Ie=Be.selectAll("g.pointtext").data(se?q:[]);Ie.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Ie.exit().remove(),Ie.selectAll("text").call(S.textPointStyle,ce,w)}function N(te){var Q=te[0].trace,ie=Q.type==="waterfall";if(te[0]._distinct&&ie){var Y=te[0].trace[te[0].dir].marker;return te[0].mc=Y.color,te[0].mlw=Y.line.width,te[0].mlc=Y.line.color,B(te,this,"waterfall")}var $=[];Q.visible&&ie&&($=te[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=m.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data($);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(j){var X=m.select(this),se=Q[j[0]].marker,q=b(void 0,se.line,h,u);X.attr("d",j[1]).style("stroke-width",q+"px").call(v.fill,se.color),q&&X.call(v.stroke,se.line.color)})}function _(te){B(te,this)}function O(te){B(te,this,"funnel")}function B(te,Q,ie){var Y=te[0].trace,$=Y.marker||{},oe=$.line||{},j=$.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",X=ie?Y.visible&&Y.type===ie:P.traceIs(Y,"bar"),se=m.select(Q).select("g.legendpoints").selectAll("path.legend"+ie).data(X?[te]:[]);se.enter().append("path").classed("legend"+ie,!0).attr("d",j).attr("transform",E),se.exit().remove(),se.each(function(q){var ce=m.select(this),ye=q[0],we=b(ye.mlw,$.line,h,u);ce.style("stroke-width",we+"px");var be=ye.mcc;if(!C._inHover&&"mc"in ye){var De=p($),ke=De.mid;ke===void 0&&(ke=(De.max+De.min)/2),be=S.tryColorscale($,"")(ke)}var Be=be||ye.mc||$.color,Ae=$.pattern,Ie=Ae&&S.getPatternAttr(Ae.shape,0,"");if(Ie){var Me=S.getPatternAttr(Ae.bgcolor,0,null),Fe=S.getPatternAttr(Ae.fgcolor,0,null),Ee=Ae.fgopacity,He=o(Ae.size,8,10),rt=o(Ae.solidity,.5,1),ot="legend-"+Y.uid;ce.call(S.pattern,"legend",w,ot,Ie,He,rt,be,Ae.fillmode,Me,Fe,Ee)}else ce.call(v.fill,Be);we&&v.stroke(ce,ye.mlc||oe.color)})}function z(te){var Q=te[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Q.visible&&P.traceIs(Q,"box-violin")?[te]:[]);ie.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ie.exit().remove(),ie.each(function(){var Y=m.select(this);if((Q.boxpoints==="all"||Q.points==="all")&&v.opacity(Q.fillcolor)===0&&v.opacity((Q.line||{}).color)===0){var $=i.minExtend(Q,{marker:{size:M?f:i.constrain(Q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ie.call(S.pointStyle,$,w)}else{var oe=b(void 0,Q.line,h,u);Y.style("stroke-width",oe+"px").call(v.fill,Q.fillcolor),oe&&v.stroke(Y,Q.line.color)}})}function U(te){var Q=te[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Q.visible&&Q.type==="candlestick"?[te,te]:[]);ie.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,$){return $?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(Y,$){var oe=m.select(this),j=Q[$?"increasing":"decreasing"],X=b(void 0,j.line,h,u);oe.style("stroke-width",X+"px").call(v.fill,j.fillcolor),X&&v.stroke(oe,j.line.color)})}function Z(te){var Q=te[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Q.visible&&Q.type==="ohlc"?[te,te]:[]);ie.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,$){return $?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(Y,$){var oe=m.select(this),j=Q[$?"increasing":"decreasing"],X=b(void 0,j.line,h,u);oe.style("fill","none").call(S.dashLine,j.line.dash,X),X&&v.stroke(oe,j.line.color)})}function J(te){ne(te,this,"pie")}function re(te){ne(te,this,"funnelarea")}function ne(te,Q,ie){var Y=te[0],$=Y.trace,oe=ie?$.visible&&$.type===ie:P.traceIs($,ie),j=m.select(Q).select("g.legendpoints").selectAll("path.legend"+ie).data(oe?[te]:[]);if(j.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),j.exit().remove(),j.size()){var X=$.marker||{},se=b(a(X.line.width,Y.pts),X.line,h,u),q="pieLike",ce=i.minExtend($,{marker:{line:{width:se}}},q),ye=i.minExtend(Y,{trace:ce},q);t(j,ye,ce,w)}}function ue(te){var Q=te[0].trace,ie,Y=[];if(Q.visible)switch(Q.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],ie=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],ie=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ie="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ie=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ie=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ie=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ie=!1;break}var $=m.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);$.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(oe,j){var X=m.select(this),se=p(Q),q=se.colorscale,ce=se.reversescale,ye=function(ke){if(ke.size()){var Be="legendfill-"+Q.uid;S.gradient(ke,w,Be,T(ce,ie==="radial"),q,"fill")}},we;if(q){if(!ie){var De=q.length;we=j===0?q[ce?De-1:0][1]:j===1?q[ce?0:De-1][1]:q[Math.floor((De-1)/2)][1]}}else{var be=Q.vertexcolor||Q.facecolor||Q.color;we=i.isArrayOrTypedArray(be)?be[j]||be[0]:be}X.attr("d",oe[0]),we?X.call(v.fill,we):X.call(ye)})}};function T(d,x){var w=x?"radial":"horizontal";return w+(d?"":"reversed")}function c(d){var x=d[0].trace,w=x.contours,C=r.hasLines(x),y=r.hasMarkers(x),M=x.visible&&x.fill&&x.fill!=="none",A=!1,s=!1;if(w){var E=w.coloring;E==="lines"?A=!0:C=E==="none"||E==="heatmap"||w.showlines,w.type==="constraint"?M=w._operation!=="=":(E==="fill"||E==="heatmap")&&(s=!0)}return{showMarker:y,showLine:C,showFill:M,showGradientLine:A,showGradientFill:s,anyLine:C||A,anyFill:M||s}}function o(d,x,w){return d&&i.isArrayOrTypedArray(d)?x:d>w?w:d}},66540:function(G,V,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,V,e){var m=e(24040),P=e(7316),i=e(79811),L=e(9224),S=e(4016).eraseActiveShape,v=e(3400),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},w=x.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var x=d._context.toImageButtonOptions,w={format:x.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(C){C in x&&(w[C]=x[C])}),m.call("downloadImage",d,w).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,x){var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout,A={},s=i.list(d,null,!0),E=M._cartesianSpikesEnabled,b,F;if(C==="zoom"){var I=y==="in"?.5:2,N=(1+I)/2,_=(1-I)/2,O;for(F=0;F<s.length;F++)if(b=s[F],!b.fixedrange)if(O=b._name,y==="auto")A[O+".autorange"]=!0;else if(y==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?A[O+".autorange"]=!0:b._rangeInitial0===void 0?(A[O+".autorange"]=b._autorangeInitial,A[O+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(A[O+".range"]=[b._rangeInitial0,null],A[O+".autorange"]=b._autorangeInitial):A[O+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(A[O+".showspikes"]=b._showSpikeInitial,E==="on"&&!b._showSpikeInitial&&(E="off"));else{var B=[b.r2l(b.range[0]),b.r2l(b.range[1])],z=[N*B[0]+_*B[1],N*B[1]+_*B[0]];A[O+".range[0]"]=b.l2r(z[0]),A[O+".range[1]"]=b.l2r(z[1])}}else C==="hovermode"&&(y==="x"||y==="y")&&(y=M._isHoriz?"y":"x",w.setAttribute("data-val",y)),A[C]=y;M._cartesianSpikesEnabled=E,m.call("_guiRelayout",d,A)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:a},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:a},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:a},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:a};function a(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout._subplots.gl3d||[],A={},s=C.split("."),E=0;E<M.length;E++)A[M[E]+"."+s[1]]=y;var b=y==="pan"?y:"zoom";A.dragmode=b,m.call("_guiRelayout",d,A)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=C==="resetLastSave",M=C==="resetDefault",A=d._fullLayout,s=A._subplots.gl3d||[],E={},b=0;b<s.length;b++){var F=s[b],I=F+".camera",N=F+".aspectratio",_=F+".aspectmode",O=A[F]._scene,B;y?(E[I+".up"]=O.viewInitial.up,E[I+".eye"]=O.viewInitial.eye,E[I+".center"]=O.viewInitial.center,B=!0):M&&(E[I+".up"]=null,E[I+".eye"]=null,E[I+".center"]=null,B=!0),B&&(E[N+".x"]=O.viewInitial.aspectratio.x,E[N+".y"]=O.viewInitial.aspectratio.y,E[N+".z"]=O.viewInitial.aspectratio.z,E[_]=O.viewInitial.aspectmode)}m.call("_guiRelayout",d,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:l};function f(d,x){var w=x.currentTarget,C=w._previousVal,y=d._fullLayout,M=y._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],s={},E={};if(C)E=C,w._previousVal=null;else{for(var b=0;b<M.length;b++){var F=M[b],I=y[F],N=F+".hovermode";s[N]=I.hovermode,E[N]=!1;for(var _=0;_<3;_++){var O=A[_],B=F+"."+O+".showspikes";E[B]=!1,s[B]=I[O].showspikes}}w._previousVal=s}return E}function l(d,x){var w=f(d,x);m.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:u},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:u},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:u},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function u(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout,A=M._subplots.geo||[],s=0;s<A.length;s++){var E=A[s],b=M[E];if(C==="zoom"){var F=b.projection.scale,I=y==="in"?2*F:.5*F;m.call("_guiRelayout",d,E+".projection.scale",I)}}C==="reset"&&o(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function g(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(d){var x=g(d);m.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var C=d._fullData[w]._viewInitial;x["node.groups"].push(C.node.groups.slice()),x["node.x"].push(C.node.x.slice()),x["node.y"].push(C.node.y.slice())}m.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,x){var w=f(d,x);w.hovermode=g(d),m.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,x){var w=x.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,x),w.setAttribute("data-attr","resetLastSave"),n(d,x),o(d,"geo"),o(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,w=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=w==="on"?"off":"on",m.call("_guiRelayout",d,T(d))}};function T(d){for(var x=d._fullLayout,w=x._cartesianSpikesEnabled==="on",C=i.list(d,null,!0),y={},M=0;M<C.length;M++){var A=C[M];y[A._name+".showspikes"]=w?!0:A._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){o(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c};function c(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-val"),y=d._fullLayout,M=y._subplots.mapbox||[],A=1.05,s={},E=0;E<M.length;E++){var b=M[E],F=y[b].zoom,I=C==="in"?A*F:F/A;s[b+".zoom"]=I}m.call("_guiRelayout",d,s)}function o(d,x){for(var w=d._fullLayout,C=w._subplots[x]||[],y={},M=0;M<C.length;M++)for(var A=C[M],s=w[A]._subplot,E=s.viewInitial,b=Object.keys(E),F=0;F<b.length;F++){var I=b[F];y[A+"."+I]=E[I]}m.call("_guiRelayout",d,y)}},76052:function(G,V,e){var m=e(44248),P=Object.keys(m),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),S=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};P.forEach(function(p){v(m[p])}),S.sort(),G.exports={DRAW_MODES:i,backButtons:L,foreButtons:S}},90824:function(G,V,e){var m=e(3400),P=e(76308),i=e(31780),L=e(66540);G.exports=function(v,p){var r=v.modebar||{},t=i.newContainer(p,"modebar");function a(f,l){return m.coerce(r,t,L,f,l)}a("orientation"),a("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));a("color",P.addOpacity(n,.3)),a("activecolor",P.addOpacity(n,.7)),a("uirevision",p.uirevision),a("add"),a("remove")}},45460:function(G,V,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,V,e){var m=e(79811),P=e(43028),i=e(24040),L=e(10624).isUnifiedHover,S=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(h){var T=h._fullLayout,c=h._context,o=T._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,x;Array.isArray(d)&&d.length?x=u(d):!c.displayModeBar&&c.watermark?x=[]:x=t(h),o?o.update(h,x):T._modeBar=S(h,x)};function t(g){var h=g._fullLayout,T=g._fullData,c=g._context;function o(j,X){if(typeof X=="string"){if(X.toLowerCase()===j.toLowerCase())return!0}else{var se=X.name,q=X._cat||X.name;if(se===j||q===j.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var w=c.modeBarButtonsToAdd.concat(d.filter(function(j){for(var X=0;X<c.modeBarButtonsToRemove.length;X++)if(o(j,c.modeBarButtonsToRemove[X]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(x.filter(function(j){for(var X=0;X<c.modeBarButtonsToAdd.length;X++)if(o(j,c.modeBarButtonsToAdd[X]))return!1;return!0})),y=h._has("cartesian"),M=h._has("gl3d"),A=h._has("geo"),s=h._has("pie"),E=h._has("funnelarea"),b=h._has("gl2d"),F=h._has("ternary"),I=h._has("mapbox"),N=h._has("polar"),_=h._has("smith"),O=h._has("sankey"),B=a(h),z=L(h.hovermode),U=[];function Z(j){if(j.length){for(var X=[],se=0;se<j.length;se++){for(var q=j[se],ce=v[q],ye=ce.name.toLowerCase(),we=(ce._cat||ce.name).toLowerCase(),be=!1,De=0;De<C.length;De++){var ke=C[De].toLowerCase();if(ke===ye||ke===we){be=!0;break}}be||X.push(v[q])}U.push(X)}}var J=["toImage"];c.showEditInChartStudio?J.push("editInChartStudio"):c.showSendToCloud&&J.push("sendDataToCloud"),Z(J);var re=[],ne=[],ue=[],te=[];(y||b||s||E||F)+A+M+I+N+_>1?(ne=["toggleHover"],ue=["resetViews"]):A?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],ue=["resetGeo"]):M?(ne=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],ue=["resetViewMapbox"]):b?ne=["hoverClosestGl2d"]:s?ne=["hoverClosestPie"]:O?(ne=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ne=["toggleHover"],y&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(T)||z)&&(ne=[]),(y||b)&&!B&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),M?te=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||b)&&!B||F?te=["zoom2d","pan2d"]:I||A?te=["pan2d"]:N&&(te=["zoom2d"]),n(T)&&te.push("select2d","lasso2d");var Q=[],ie=function(j){Q.indexOf(j)===-1&&ne.indexOf(j)!==-1&&Q.push(j)};if(Array.isArray(w)){for(var Y=[],$=0;$<w.length;$++){var oe=w[$];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(h._has("mapbox")||h._has("cartesian"))&&te.push(oe):oe==="togglespikelines"?ie("toggleSpikelines"):oe==="togglehover"?ie("toggleHover"):oe==="hovercompare"?ie("hoverCompareCartesian"):oe==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):oe==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):Y.push(oe)}w=Y}return Z(te),Z(re.concat(ue)),Z(Q),l(U,w)}function a(g){for(var h=m.list({_fullLayout:g},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function n(g){for(var h=!1,T=0;T<g.length&&!h;T++){var c=g[T];!c._module||!c._module.selectPoints||(i.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):i.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(g){for(var h=0;h<g.length;h++)if(!i.traceIs(g[h],"noHover"))return!1;return!0}function l(g,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)g.push(h[T]);else g.push(h);return g}function u(g){for(var h=r([],g),T=0;T<h.length;T++)for(var c=h[T],o=0;o<c.length;o++){var d=c[o];if(typeof d=="string")if(v[d]!==void 0)h[T][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(G,V,e){var m=e(33428),P=e(38248),i=e(3400),L=e(9224),S=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,f){this.graphInfo=n;var l=this.graphInfo._context,u=this.graphInfo._fullLayout,g="modebar-"+u._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",l.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=u.modebar,T=l.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(g),i.addRelatedStyleRule(g,T+"#"+g+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),o=this.hasLogo!==l.displaylogo,d=this.locale!==l.locale;if(this.locale=l.locale,(c||o||d)&&(this.removeAllButtons(),this.updateButtons(f),l.watermark||l.displaylogo)){var x=this.getLogo();l.watermark&&(x.className=x.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(l){var u=f.createGroup();l.forEach(function(g){var h=g.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var T=f.createButton(g);f.buttonElements.push(T),u.appendChild(T)}),f.element.appendChild(u)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,l=document.createElement("a");l.setAttribute("rel","tooltip"),l.className="modebar-btn";var u=n.title;u===void 0?u=n.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&l.setAttribute("data-title",u),n.attr!==void 0&&l.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),l.setAttribute("data-val",g));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");l.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),l.setAttribute("data-toggle",n.toggle||!1),n.toggle&&m.select(l).classed("active",!0);var T=n.icon;return typeof T=="function"?l.appendChild(T()):l.appendChild(this.createIcon(T||L.question)),l.setAttribute("data-gravity",n.gravity||"n"),l},r.createIcon=function(n){var f=P(n.height)?Number(n.height):n.ascent-n.descent,l="http://www.w3.org/2000/svg",u;if(n.path){u=document.createElementNS(l,"svg"),u.setAttribute("viewBox",[0,0,n.width,f].join(" ")),u.setAttribute("class","icon");var g=document.createElementNS(l,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),u.appendChild(g)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");u=h.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,l=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var g=u.getAttribute("data-val")||!0,h=u.getAttribute("data-attr"),T=u.getAttribute("data-toggle")==="true",c=m.select(u);if(T)h===l&&c.classed("active",!c.classed("active"));else{var o=h===null?h:i.nestedProperty(f,h).get();c.classed("active",o===g)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var l=0;l<n.length;++l){if(n[l].length!==f[l].length)return!1;for(var u=0;u<n[l].length;u++)if(n[l][u].name!==f[l][u].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(i._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function a(n,f){var l=n._fullLayout,u=new p({graphInfo:n,container:l._modebardiv.node(),buttons:f});return l._privateplot&&m.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}G.exports=a},26680:function(G,V,e){var m=e(25376),P=e(22548),i=e(31780).templatedArray,L=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:m({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,V,e){var m=e(3400),P=e(76308),i=e(31780),L=e(51272),S=e(26680),v=e(85984);G.exports=function(a,n,f,l,u){var g=a.rangeselector||{},h=i.newContainer(n,"rangeselector");function T(w,C){return m.coerce(g,h,S,w,C)}var c=L(g,h,{name:"buttons",handleItemDefaults:p,calendar:u}),o=T("visible",c.length>0);if(o){var d=r(n,f,l);T("x",d[0]),T("y",d[1]),m.noneOrAll(a,n,["x","y"]),T("xanchor"),T("yanchor"),m.coerceFont(T,"font",f.font);var x=T("bgcolor");T("activecolor",P.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,a,n,f){var l=f.calendar;function u(T,c){return m.coerce(t,a,S.buttons,T,c)}var g=u("visible");if(g){var h=u("step");h!=="all"&&(l&&l!=="gregorian"&&(h==="month"||h==="year")?a.stepmode="backward":u("stepmode"),u("count")),u("label")}}function r(t,a,n){for(var f=n.filter(function(h){return a[h].anchor===t._id}),l=0,u=0;u<f.length;u++){var g=a[f[u]].domain;g&&(l=Math.max(g[1],l))}return[t.domain[0],l+v.yPad]}},50216:function(G,V,e){var m=e(33428),P=e(24040),i=e(7316),L=e(76308),S=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,l=a.FROM_BR,u=e(85984),g=e(48040);G.exports=function(M){var A=M._fullLayout,s=A._infolayer.selectAll(".rangeselector").data(h(M),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(E){var b=m.select(this),F=E,I=F.rangeselector,N=b.selectAll("g.button").data(v.filterVisible(I.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(_){var O=m.select(this),B=g(F,_);_._isActive=c(F,_,B),O.call(o,I,_),O.call(x,I,_,M),O.on("click",function(){M._dragged||P.call("_guiRelayout",M,B)}),O.on("mouseover",function(){_._isHovered=!0,O.call(o,I,_)}),O.on("mouseout",function(){_._isHovered=!1,O.call(o,I,_)})}),C(M,N,I,F._name,b)})};function h(y){for(var M=t.list(y,"x",!0),A=[],s=0;s<M.length;s++){var E=M[s];E.rangeselector&&E.rangeselector.visible&&A.push(E)}return A}function T(y){return y._id}function c(y,M,A){if(M.step==="all")return y.autorange===!0;var s=Object.keys(A);return y.range[0]===A[s[0]]&&y.range[1]===A[s[1]]}function o(y,M,A){var s=v.ensureSingle(y,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});s.attr({rx:u.rx,ry:u.ry}),s.call(L.stroke,M.bordercolor).call(L.fill,d(M,A)).style("stroke-width",M.borderwidth+"px")}function d(y,M){return M._isActive||M._isHovered?y.activecolor:y.bgcolor}function x(y,M,A,s){function E(F){r.convertToTspans(F,s)}var b=v.ensureSingle(y,"text","selector-text",function(F){F.attr("text-anchor","middle")});b.call(S.font,M.font).text(w(A,s._fullLayout._meta)).call(E)}function w(y,M){return y.label?M?v.templateString(y.label,M):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function C(y,M,A,s,E){var b=0,F=0,I=A.borderwidth;M.each(function(){var U=m.select(this),Z=U.select(".selector-text"),J=A.font.size*n,re=Math.max(J*r.lineCount(Z),16)+3;F=Math.max(F,re)}),M.each(function(){var U=m.select(this),Z=U.select(".selector-rect"),J=U.select(".selector-text"),re=J.node()&&S.bBox(J.node()).width,ne=A.font.size*n,ue=r.lineCount(J),te=Math.max(re+10,u.minButtonWidth);U.attr("transform",p(I+b,I)),Z.attr({x:0,y:0,width:te,height:F}),r.positionText(J,te/2,F/2-(ue-1)*ne/2+3),b+=te+5});var N=y._fullLayout._size,_=N.l+N.w*A.x,O=N.t+N.h*(1-A.y),B="left";v.isRightAnchor(A)&&(_-=b,B="right"),v.isCenterAnchor(A)&&(_-=b/2,B="center");var z="top";v.isBottomAnchor(A)&&(O-=F,z="bottom"),v.isMiddleAnchor(A)&&(O-=F/2,z="middle"),b=Math.ceil(b),F=Math.ceil(F),_=Math.round(_),O=Math.round(O),i.autoMargin(y,s+"-range-selector",{x:A.x,y:A.y,l:b*f[B],r:b*l[B],b:F*l[z],t:F*f[z]}),E.attr("transform",p(_,O))}},48040:function(G,V,e){var m=e(73220),P=e(3400).titleCase;G.exports=function(S,v){var p=S._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=i(S,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function i(L,S){var v=L.range,p=new Date(L.r2l(v[1])),r=S.step,t=m["utc"+P(r)],a=S.count,n;switch(S.stepmode){case"backward":n=L.l2r(+t.offset(p,-a));break;case"todate":var f=t.offset(p,-a);n=L.l2r(+t.ceil(f));break}var l=v[1];return[n,l]}},41152:function(G,V,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,V,e){var m=e(22548);G.exports={bgcolor:{valType:"color",dflt:m.background,editType:"plot"},bordercolor:{valType:"color",dflt:m.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,V,e){var m=e(79811).list,P=e(19280).getAutoRange,i=e(74636);G.exports=function(S){for(var v=m(S,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[i.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(S,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,V,e){var m=e(3400),P=e(31780),i=e(79811),L=e(11200),S=e(10936);G.exports=function(p,r,t){var a=p[t],n=r[t];if(!(a.rangeslider||r._requestRangeslider[n._id]))return;m.isPlainObject(a.rangeslider)||(a.rangeslider={});var f=a.rangeslider,l=P.newContainer(n,"rangeslider");function u(s,E){return m.coerce(f,l,L,s,E)}var g,h;function T(s,E){return m.coerce(g,h,S,s,E)}var c=u("visible");if(c){u("bgcolor",r.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!n.isValidRange(f.range)),u("range");var o=r._subplots;if(o)for(var d=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===i.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),x=m.simpleMap(d,i.id2name),w=0;w<x.length;w++){var C=x[w];g=f[C]||{},h=P.newContainer(l,C,"yaxis");var y=r[C],M;g.range&&y.isValidRange(g.range)&&(M="fixed");var A=T("rangemode",M);A!=="match"&&T("range",y.range.slice())}l._input=f}}},20060:function(G,V,e){var m=e(33428),P=e(24040),i=e(7316),L=e(3400),S=L.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),a=e(79811),n=e(86476),f=e(93972),l=e(74636);G.exports=function(M){for(var A=M._fullLayout,s=A._rangeSliderData,E=0;E<s.length;E++){var b=s[E][l.name];b._clipId=b._id+"-"+A._uid}function F(N){return N._name}var I=A._infolayer.selectAll("g."+l.containerClassName).data(s,F);I.exit().each(function(N){var _=N[l.name];A._topdefs.select("#"+_._clipId).remove()}).remove(),s.length!==0&&(I.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),I.each(function(N){var _=m.select(this),O=N[l.name],B=A[a.id2name(N.anchor)],z=O[a.id2name(N.anchor)];if(O.range){var U=L.simpleMap(O.range,N.r2l),Z=L.simpleMap(N.range,N.r2l),J;Z[0]<Z[1]?J=[Math.min(U[0],Z[0]),Math.max(U[1],Z[1])]:J=[Math.max(U[0],Z[0]),Math.min(U[1],Z[1])],O.range=O._input.range=L.simpleMap(J,N.l2r)}N.cleanRange("rangeslider.range");var re=A._size,ne=N.domain;O._width=re.w*(ne[1]-ne[0]);var ue=Math.round(re.l+re.w*ne[0]),te=Math.round(re.t+re.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+O._offsetShift+l.extraPad);_.attr("transform",S(ue,te)),O._rl=L.simpleMap(O.range,N.r2l);var Q=O._rl[0],ie=O._rl[1],Y=ie-Q;if(O.p2d=function(be){return be/O._width*Y+Q},O.d2p=function(be){return(be-Q)/Y*O._width},N.rangebreaks){var $=N.locateBreaks(Q,ie);if($.length){var oe,j,X=0;for(oe=0;oe<$.length;oe++)j=$[oe],X+=j.max-j.min;var se=O._width/(ie-Q-X),q=[-se*Q];for(oe=0;oe<$.length;oe++)j=$[oe],q.push(q[q.length-1]-se*(j.max-j.min));for(O.d2p=function(be){for(var De=q[0],ke=0;ke<$.length;ke++){var Be=$[ke];if(be>=Be.max)De=q[ke+1];else if(be<Be.min)break}return De+se*be},oe=0;oe<$.length;oe++)j=$[oe],j.pmin=O.d2p(j.min),j.pmax=O.d2p(j.max);O.p2d=function(be){for(var De=q[0],ke=0;ke<$.length;ke++){var Be=$[ke];if(be>=Be.pmax)De=q[ke+1];else if(be<Be.pmin)break}return(be-De)/se}}}if(z.rangemode!=="match"){var ce=B.r2l(z.range[0]),ye=B.r2l(z.range[1]),we=ye-ce;O.d2pOppAxis=function(be){return(be-ce)/we*O._height}}_.call(c,M,N,O).call(o,M,N,O).call(d,M,N,O).call(w,M,N,O,z).call(C,M,N,O).call(y,M,N,O),g(_,M,N,O),T(_,M,N,O,B,z),N.side==="bottom"&&r.draw(M,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:A._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:te+O._height+O._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function u(M){return typeof M.clientX=="number"?M.clientX:M.touches&&M.touches.length>0?M.touches[0].clientX:0}function g(M,A,s,E){if(A._context.staticPlot)return;var b=M.select("rect."+l.slideBoxClassName).node(),F=M.select("rect."+l.grabAreaMinClassName).node(),I=M.select("rect."+l.grabAreaMaxClassName).node();function N(){var _=m.event,O=_.target,B=u(_),z=B-M.node().getBoundingClientRect().left,U=E.d2p(s._rl[0]),Z=E.d2p(s._rl[1]),J=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ne),J.addEventListener("mousemove",re),J.addEventListener("mouseup",ne);function re(ue){var te=u(ue),Q=+te-B,ie,Y,$;switch(O){case b:if($="ew-resize",U+Q>s._length||Z+Q<0)return;ie=U+Q,Y=Z+Q;break;case F:if($="col-resize",U+Q>s._length)return;ie=U+Q,Y=Z;break;case I:if($="col-resize",Z+Q<0)return;ie=U,Y=Z+Q;break;default:$="ew-resize",ie=z,Y=z+Q;break}if(Y<ie){var oe=Y;Y=ie,ie=oe}E._pixelMin=ie,E._pixelMax=Y,f(m.select(J),$),h(M,A,s,E)}function ne(){J.removeEventListener("mousemove",re),J.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ne),L.removeElement(J)}}M.on("mousedown",N),M.on("touchstart",N)}function h(M,A,s,E){function b(N){return s.l2r(L.constrain(N,E._rl[0],E._rl[1]))}var F=b(E.p2d(E._pixelMin)),I=b(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",A,s._name+".range",[F,I])})}function T(M,A,s,E,b,F){var I=l.handleWidth/2;function N(ue){return L.constrain(ue,0,E._width)}function _(ue){return L.constrain(ue,0,E._height)}function O(ue){return L.constrain(ue,-I,E._width+I)}var B=N(E.d2p(s._rl[0])),z=N(E.d2p(s._rl[1]));if(M.select("rect."+l.slideBoxClassName).attr("x",B).attr("width",z-B),M.select("rect."+l.maskMinClassName).attr("width",B),M.select("rect."+l.maskMaxClassName).attr("x",z).attr("width",E._width-z),F.rangemode!=="match"){var U=E._height-_(E.d2pOppAxis(b._rl[1])),Z=E._height-_(E.d2pOppAxis(b._rl[0]));M.select("rect."+l.maskMinOppAxisClassName).attr("x",B).attr("height",U).attr("width",z-B),M.select("rect."+l.maskMaxOppAxisClassName).attr("x",B).attr("y",Z).attr("height",E._height-Z).attr("width",z-B),M.select("rect."+l.slideBoxClassName).attr("y",U).attr("height",Z-U)}var J=.5,re=Math.round(O(B-I))-J,ne=Math.round(O(z-I))+J;M.select("g."+l.grabberMinClassName).attr("transform",S(re,J)),M.select("g."+l.grabberMaxClassName).attr("transform",S(ne,J))}function c(M,A,s,E){var b=L.ensureSingle(M,"rect",l.bgClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),F=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,I=-E._offsetShift,N=v.crispRound(A,E.borderwidth);b.attr({width:E._width+F,height:E._height+F,transform:S(I,I),"stroke-width":N}).call(p.stroke,E.bordercolor).call(p.fill,E.bgcolor)}function o(M,A,s,E){var b=A._fullLayout,F=L.ensureSingleById(b._topdefs,"clipPath",E._clipId,function(I){I.append("rect").attr({x:0,y:0})});F.select("rect").attr({width:E._width,height:E._height})}function d(M,A,s,E){var b=A.calcdata,F=M.selectAll("g."+l.rangePlotClassName).data(s._subplotsWith,L.identity);F.enter().append("g").attr("class",function(N){return l.rangePlotClassName+" "+N}).call(v.setClipUrl,E._clipId,A),F.order(),F.exit().remove();var I;F.each(function(N,_){var O=m.select(this),B=_===0,z=a.getFromId(A,N,"y"),U=z._name,Z=E[U],J={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:E.range.slice(),calendar:s.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};s.rangebreaks&&(J.layout.xaxis.rangebreaks=s.rangebreaks),J.layout[U]={type:z.type,domain:[0,1],range:Z.rangemode!=="match"?Z.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(J.layout[U].rangebreaks=z.rangebreaks),i.supplyDefaults(J);var re=J._fullLayout.xaxis,ne=J._fullLayout[U];re.clearCalc(),re.setScale(),ne.clearCalc(),ne.setScale();var ue={id:N,plotgroup:O,xaxis:re,yaxis:ne,isRangePlot:!0};B?I=ue:(ue.mainplot="xy",ue.mainplotinfo=I),t.rangePlot(A,ue,x(b,N))})}function x(M,A){for(var s=[],E=0;E<M.length;E++){var b=M[E],F=b[0].trace;F.xaxis+F.yaxis===A&&s.push(b)}return s}function w(M,A,s,E,b){var F=L.ensureSingle(M,"rect",l.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});F.attr("height",E._height).call(p.fill,l.maskColor);var I=L.ensureSingle(M,"rect",l.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",E._height).call(p.fill,l.maskColor),b.rangemode!=="match"){var N=L.ensureSingle(M,"rect",l.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",E._width).call(p.fill,l.maskOppAxisColor);var _=L.ensureSingle(M,"rect",l.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",E._width).style("border-top",l.maskOppBorder).call(p.fill,l.maskOppAxisColor)}}function C(M,A,s,E){if(!A._context.staticPlot){var b=L.ensureSingle(M,"rect",l.slideBoxClassName,function(F){F.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:E._height,fill:l.slideBoxFill})}}function y(M,A,s,E){var b=L.ensureSingle(M,"g",l.grabberMinClassName),F=L.ensureSingle(M,"g",l.grabberMaxClassName),I={x:0,width:l.handleWidth,rx:l.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(E._height/4),height:Math.round(E._height/2)},_=L.ensureSingle(b,"rect",l.handleMinClassName,function(Z){Z.attr(I)});_.attr(N);var O=L.ensureSingle(F,"rect",l.handleMaxClassName,function(Z){Z.attr(I)});O.attr(N);var B={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:A._context.staticPlot?void 0:l.grabAreaCursor},z=L.ensureSingle(b,"rect",l.grabAreaMinClassName,function(Z){Z.attr(B)});z.attr("height",E._height);var U=L.ensureSingle(F,"rect",l.grabAreaMaxClassName,function(Z){Z.attr(B)});U.attr("height",E._height)}},97944:function(G,V,e){var m=e(79811),P=e(72736),i=e(74636),L=e(84284).LINE_SPACING,S=i.name;function v(p){var r=p&&p[S];return r&&r.visible}V.isVisible=v,V.makeData=function(p){var r=m.list({_fullLayout:p},"x",!0),t=p.margin,a=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){a.push(f);var l=f[S];l._id=S+f._id,l._height=(p.height-t.b-t.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}p._rangeSliderData=a},V.autoMarginOpts=function(p,r){var t=p._fullLayout,a=r[S],n=r._id.charAt(0),f=0,l=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){l=1.5*r.title.font.size+10+a._offsetShift;var u=(r.title.text.match(P.BR_TAG_ALL)||[]).length;l+=u*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+f+Math.max(t.margin.b,l),pad:i.extraPad+a._offsetShift*2}}},49692:function(G,V,e){var m=e(3400),P=e(11200),i=e(10936),L=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:m.extendFlat({},P,{yaxis:i})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,V,e){var m=e(13916),P=e(52904).line,i=e(98192).u,L=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},m.xref,{}),yref:L({},m.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,V,e){var m=e(3400),P=e(54460),i=e(51272),L=e(93956),S=e(65152);G.exports=function(r,t){i(r,t,{name:"selections",handleItemDefaults:v});for(var a=t.selections,n=0;n<a.length;n++){var f=a[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function a(b,F){return m.coerce(p,r,L,b,F)}var n=a("path"),f=n?"path":"rect",l=a("type",f),u=l!=="path";u&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var g=["x","y"],h=0;h<2;h++){var T=g[h],c={_fullLayout:t},o,d,x,w=P.coerceRef(p,r,c,T);if(o=P.getFromId(c,w),o._selectionIndices.push(r._index),x=S.rangeToShapePosition(o),d=S.shapePositionToRange(o),u){var C=T+"0",y=T+"1",M=p[C],A=p[y];p[C]=d(p[C],!0),p[y]=d(p[y],!0),P.coercePosition(r,c,a,w,C),P.coercePosition(r,c,a,w,y);var s=r[C],E=r[y];s!==void 0&&E!==void 0&&(r[C]=x(s),r[y]=x(E),p[C]=M,p[y]=A)}}u&&m.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(G,V,e){var m=e(9856).readPaths,P=e(55496),i=e(1936).clearOutlineControllers,L=e(76308),S=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:u};function t(h){var T=h._fullLayout;i(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var o=T._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(h,d)}function a(h){return h._context.editSelection}function n(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,T),o=c.options,d=c.plotinfo;if(!o._input)return;x(h._fullLayout._selectionLayer);function x(w){var C=r(h,o),y={"data-index":T,"fill-rule":"evenodd",d:C},M=o.opacity,A="rgba(0,0,0,0)",s=o.line.color||L.contrast(h._fullLayout.plot_bgcolor),E=o.line.width,b=o.line.dash;E||(E=5,b="solid");var F=a(h)&&h._fullLayout._activeSelectionIndex===T;F&&(A=h._fullLayout.activeselection.fillcolor,M=h._fullLayout.activeselection.opacity);for(var I=[],N=1;N>=0;N--){var _=w.append("path").attr(y).style("opacity",N?.1:M).call(L.stroke,s).call(L.fill,A).call(S.dashLine,N?"solid":b,N?4+E:E);if(f(_,h,o),F){var O=v(h.layout,"selections",o);_.style({cursor:"move"});var B={element:_.node(),plotinfo:d,gd:h,editHelpers:O,isActiveSelection:!0},z=m(C,h);P(z,_,B)}else _.style("pointer-events",N?"all":"none");I[N]=_}var U=I[0],Z=I[1];Z.node().addEventListener("click",function(){return l(h,U)})}}function f(h,T,c){var o=c.xref+c.yref;S.setClipUrl(h,"clip"+T._fullLayout._uid+o,T)}function l(h,T){if(a(h)){var c=T.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){g(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=g,t(h)}}}function u(h){if(a(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=g,t(h)}}function g(h){if(a(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(G,V,e){var m=e(98192).u,P=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},m,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,m,P){P("newselection.mode");var i=P("newselection.line.width");i&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(G,V,e){var m=e(72760),P=m.selectMode,i=e(1936),L=i.clearOutline,S=e(9856),v=S.readPaths,p=S.writePaths,r=S.fixDatesForPaths;G.exports=function(a,n){if(a.length){var f=a[0][0];if(f){var l=f.getAttribute("d"),u=n.gd,g=u._fullLayout.newselection,h=n.plotinfo,T=h.xaxis,c=h.yaxis,o=n.isActiveSelection,d=n.dragmode,x=(u.layout||{}).selections||[];if(!P(d)&&o!==void 0){var w=u._fullLayout._activeSelectionIndex;if(w<x.length)switch(u._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(l,u,h,o),y={xref:T._id,yref:c._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},M;C.length===1&&(M=C[0]),M&&M.length===5&&d==="select"?(y.type="rect",y.x0=M[0][1],y.y0=M[0][2],y.x1=M[2][1],y.y1=M[2][2]):(y.type="path",T&&c&&r(C,T,c),y.path=p(C),M=null),L(u);for(var A=n.editHelpers,s=(A||{}).modifyItem,E=[],b=0;b<x.length;b++){var F=u._fullLayout.selections[b];if(!F){E[b]=F;continue}if(E[b]=F._input,o!==void 0&&b===u._fullLayout._activeSelectionIndex){var I=y;switch(F.type){case"rect":s("x0",I.x0),s("x1",I.x1),s("y0",I.y0),s("y1",I.y1);break;case"path":s("path",I.path);break}}}return o===void 0?(E.push(y),E):A?A.getUpdateObj():{}}}}},5840:function(G,V,e){var m=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function i(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function S(v){return m(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:i,axValue:L,getTransform:S}},22676:function(G,V,e){var m=e(23640),P=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:m.draw,drawOne:m.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(G,V,e){var m=e(14756),P=e(61456),i=e(24040),L=e(43616).dashStyle,S=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,a=r.rectMode,n=r.drawMode,f=r.openMode,l=r.selectMode,u=e(65152),g=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,d=c.readPaths,x=e(93940).newShapes,w=e(5968),C=e(23640).activateLastSelection,y=e(3400),M=y.sorterAsc,A=e(92065),s=e(91200),E=e(79811).getFromId,b=e(73696),F=e(39172).redrawReglTraces,I=e(83280),N=I.MINSELECT,_=A.filter,O=A.tester,B=e(5840),z=B.p2r,U=B.axValue,Z=B.getTransform;function J(We){return We.subplot!==void 0}function re(We,Pe,Re,Xe,Le){var ve=!J(Xe),xe=t(Le),Ne=a(Le),et=f(Le),st=n(Le),lt=l(Le),Gt=Le==="drawline",jt=Le==="drawcircle",Tt=Gt||jt,Dt=Xe.gd,Xt=Dt._fullLayout,gr=lt&&Xt.newselection.mode==="immediate"&&ve,gt=Xt._zoomlayer,Zt=Xe.element.getBoundingClientRect(),Qt=Xe.plotinfo,yr=Z(Qt),or=Pe-Zt.left,mt=Re-Zt.top;Xt._calcInverseTransform(Dt);var ut=y.apply3DTransform(Xt._invTransform)(or,mt);or=ut[0],mt=ut[1];var bt=Xt._invScaleX,Et=Xt._invScaleY,Rt=or,Ht=mt,Bt="M"+or+","+mt,Nt=Xe.xaxes[0],Jt=Xe.yaxes[0],hr=Nt._length,fr=Jt._length,dr=We.altKey&&!(n(Le)&&et),Ye,Ve,_t,kt,Kt,sr,cr;Y(We,Dt,Xe),xe&&(Ye=_([[or,mt]],I.BENDPX));var er=gt.selectAll("path.select-outline-"+Qt.id).data([1]),Ot=st?Xt.newshape:Xt.newselection;st&&(Xe.hasText=Ot.label.text||Ot.label.texttemplate);var nr=st&&!et?Ot.fillcolor:"rgba(0,0,0,0)",vr=Ot.line.color||(ve?S.contrast(Dt._fullLayout.plot_bgcolor):"#7f7f7f");er.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:st?Ot.opacity/2:1,"stroke-dasharray":L(Ot.line.dash,Ot.line.width),"stroke-width":Ot.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,vr).call(S.fill,nr).attr("fill-rule","evenodd").classed("cursor-move",!!st).attr("transform",yr).attr("d",Bt+"Z");var wr=gt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(st&&Xe.hasText){var ur=gt.select(".label-temp");ur.empty()&&(ur=gt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Vr=Xt._uid+I.SELECTID,Pr=[],Dr=se(Dt,Xe.xaxes,Xe.yaxes,Xe.subplot);gr&&!We.shiftKey&&(Xe._clearSubplotSelections=function(){if(ve){var Wr=Nt._id,Tn=Jt._id;ot(Dt,Wr,Tn,Dr);for(var An=(Dt.layout||{}).selections||[],Tr=[],Fr=!1,Yr=0;Yr<An.length;Yr++){var _r=Xt.selections[Yr];_r.xref!==Wr||_r.yref!==Tn?Tr.push(An[Yr]):Fr=!0}Fr&&(Dt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Dt,{selections:Tr}))}});var ln=nt(Xe);Xe.moveFn=function(Wr,Tn){Xe._clearSubplotSelections&&(Xe._clearSubplotSelections(),Xe._clearSubplotSelections=void 0),Rt=Math.max(0,Math.min(hr,bt*Wr+or)),Ht=Math.max(0,Math.min(fr,Et*Tn+mt));var An=Math.abs(Rt-or),Tr=Math.abs(Ht-mt);if(Ne){var Fr,Yr,_r;if(lt){var on=Xt.selectdirection;switch(on==="any"?Tr<Math.min(An*.6,N)?Fr="h":An<Math.min(Tr*.6,N)?Fr="v":Fr="d":Fr=on,Fr){case"h":Yr=jt?fr/2:0,_r=fr;break;case"v":Yr=jt?hr/2:0,_r=hr;break}}if(st)switch(Xt.newshape.drawdirection){case"vertical":Fr="h",Yr=jt?fr/2:0,_r=fr;break;case"horizontal":Fr="v",Yr=jt?hr/2:0,_r=hr;break;case"ortho":An<Tr?(Fr="h",Yr=mt,_r=Ht):(Fr="v",Yr=or,_r=Rt);break;default:Fr="d"}Fr==="h"?(kt=Tt?o(jt,[Rt,Yr],[Rt,_r]):[[or,Yr],[or,_r],[Rt,_r],[Rt,Yr]],kt.xmin=Tt?Rt:Math.min(or,Rt),kt.xmax=Tt?Rt:Math.max(or,Rt),kt.ymin=Math.min(Yr,_r),kt.ymax=Math.max(Yr,_r),wr.attr("d","M"+kt.xmin+","+(mt-N)+"h-4v"+2*N+"h4ZM"+(kt.xmax-1)+","+(mt-N)+"h4v"+2*N+"h-4Z")):Fr==="v"?(kt=Tt?o(jt,[Yr,Ht],[_r,Ht]):[[Yr,mt],[Yr,Ht],[_r,Ht],[_r,mt]],kt.xmin=Math.min(Yr,_r),kt.xmax=Math.max(Yr,_r),kt.ymin=Tt?Ht:Math.min(mt,Ht),kt.ymax=Tt?Ht:Math.max(mt,Ht),wr.attr("d","M"+(or-N)+","+kt.ymin+"v-4h"+2*N+"v4ZM"+(or-N)+","+(kt.ymax-1)+"v4h"+2*N+"v-4Z")):Fr==="d"&&(kt=Tt?o(jt,[or,mt],[Rt,Ht]):[[or,mt],[or,Ht],[Rt,Ht],[Rt,mt]],kt.xmin=Math.min(or,Rt),kt.xmax=Math.max(or,Rt),kt.ymin=Math.min(mt,Ht),kt.ymax=Math.max(mt,Ht),wr.attr("d","M0,0Z"))}else xe&&(Ye.addPt([Rt,Ht]),kt=Ye.filtered);if(Xe.selectionDefs&&Xe.selectionDefs.length?(_t=Ae(Xe.mergedPolygons,kt,dr),kt.subtract=dr,Ve=ie(Xe.selectionDefs.concat([kt]))):(_t=[kt],Ve=O(kt)),h(Me(_t,et),er,Xe),lt){var un=Ee(Dt,!1),Sn=un.eventData?un.eventData.points.slice():[];un=Ee(Dt,!1,Ve,Dr,Xe),Ve=un.selectionTesters,cr=un.eventData;var Ln;Ye?Ln=Ye.filtered:Ln=pt(_t),s.throttle(Vr,I.SELECTDELAY,function(){Pr=Fe(Ve,Dr);for(var Un=Pr.slice(),na=0;na<Sn.length;na++){for(var ga=Sn[na],xa=!1,ca=0;ca<Un.length;ca++)if(Un[ca].curveNumber===ga.curveNumber&&Un[ca].pointNumber===ga.pointNumber){xa=!0;break}xa||Un.push(ga)}Un.length&&(cr||(cr={}),cr.points=Un),ln(cr,Ln),_e(Dt,cr)})}},Xe.clickFn=function(Wr,Tn){if(wr.remove(),Dt._fullLayout._activeShapeIndex>=0){Dt._fullLayout._deactivateShape(Dt);return}if(!st){var An=Xt.clickmode;s.done(Vr).then(function(){if(s.clear(Vr),Wr===2){for(er.remove(),Kt=0;Kt<Dr.length;Kt++)sr=Dr[Kt],sr._module.selectPoints(sr,!1);if(ke(Dt,Dr),j(Xe),je(Dt),Dr.length){var Tr=Dr[0].xaxis,Fr=Dr[0].yaxis;if(Tr&&Fr){for(var Yr=[],_r=Dt._fullLayout.selections,on=0;on<_r.length;on++){var un=_r[on];un&&(un.xref!==Tr._id||un.yref!==Fr._id)&&Yr.push(un)}Yr.length<_r.length&&(Dt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Dt,{selections:Yr}))}}}else An.indexOf("select")>-1&&ne(Tn,Dt,Xe.xaxes,Xe.yaxes,Xe.subplot,Xe,er),An==="event"&&Ge(Dt,void 0);v.click(Dt,Tn,Qt.id)}).catch(y.error)}},Xe.doneFn=function(){wr.remove(),s.done(Vr).then(function(){s.clear(Vr),!gr&&kt&&Xe.selectionDefs&&(kt.subtract=dr,Xe.selectionDefs.push(kt),Xe.mergedPolygons.length=0,[].push.apply(Xe.mergedPolygons,_t)),(gr||st)&&j(Xe,gr),Xe.doneFnCompleted&&Xe.doneFnCompleted(Pr),lt&&Ge(Dt,cr)}).catch(y.error)}}function ne(We,Pe,Re,Xe,Le,ve,xe){var Ne=Pe._hoverdata,et=Pe._fullLayout,st=et.clickmode,lt=st.indexOf("event")>-1,Gt=[],jt,Tt,Dt,Xt,gr,gt,Zt,Qt,yr,or;if(ce(Ne)){Y(We,Pe,ve),jt=se(Pe,Re,Xe,Le);var mt=ye(Ne,jt),ut=mt.pointNumbers.length>0;if(ut?be(jt,mt):De(jt)&&(Zt=we(mt))){for(xe&&xe.remove(),or=0;or<jt.length;or++)Tt=jt[or],Tt._module.selectPoints(Tt,!1);ke(Pe,jt),j(ve),lt&&je(Pe)}else{Qt=We.shiftKey&&(Zt!==void 0?Zt:we(mt)),Dt=ue(mt.pointNumber,mt.searchInfo,Qt);var bt=ve.selectionDefs.concat([Dt]);for(Xt=ie(bt),or=0;or<jt.length;or++)if(gr=jt[or]._module.selectPoints(jt[or],Xt),gt=Ie(gr,jt[or]),Gt.length)for(var Et=0;Et<gt.length;Et++)Gt.push(gt[Et]);else Gt=gt;if(yr={points:Gt},ke(Pe,jt,yr),Dt&&ve&&ve.selectionDefs.push(Dt),xe){var Rt=ve.mergedPolygons,Ht=f(ve.dragmode);h(Me(Rt,Ht),xe,ve)}lt&&Ge(Pe,yr)}}}function ue(We,Pe,Re){return{pointNumber:We,searchInfo:Pe,subtract:!!Re}}function te(We){return"pointNumber"in We&&"searchInfo"in We}function Q(We){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Pe,Re,Xe,Le){var ve=We.searchInfo.cd[0].trace._expandedIndex,xe=Le.cd[0].trace._expandedIndex;return xe===ve&&Xe===We.pointNumber},isRect:!1,degenerate:!1,subtract:!!We.subtract}}function ie(We){if(!We.length)return;for(var Pe=[],Re=te(We[0])?0:We[0][0][0],Xe=Re,Le=te(We[0])?0:We[0][0][1],ve=Le,xe=0;xe<We.length;xe++)if(te(We[xe]))Pe.push(Q(We[xe]));else{var Ne=O(We[xe]);Ne.subtract=!!We[xe].subtract,Pe.push(Ne),Re=Math.min(Re,Ne.xmin),Xe=Math.max(Xe,Ne.xmax),Le=Math.min(Le,Ne.ymin),ve=Math.max(ve,Ne.ymax)}function et(st,lt,Gt,jt){for(var Tt=!1,Dt=0;Dt<Pe.length;Dt++)Pe[Dt].contains(st,lt,Gt,jt)&&(Tt=!Pe[Dt].subtract);return Tt}return{xmin:Re,xmax:Xe,ymin:Le,ymax:ve,pts:[],contains:et,isRect:!1,degenerate:!1}}function Y(We,Pe,Re){var Xe=Pe._fullLayout,Le=Re.plotinfo,ve=Re.dragmode,xe=Xe._lastSelectedSubplot&&Xe._lastSelectedSubplot===Le.id,Ne=(We.shiftKey||We.altKey)&&!(n(ve)&&f(ve));xe&&Ne&&Le.selection&&Le.selection.selectionDefs&&!Re.selectionDefs?(Re.selectionDefs=Le.selection.selectionDefs,Re.mergedPolygons=Le.selection.mergedPolygons):(!Ne||!Le.selection)&&j(Re),xe||(T(Pe),Xe._lastSelectedSubplot=Le.id)}function $(We){return We._fullLayout._activeShapeIndex>=0}function oe(We){return We._fullLayout._activeSelectionIndex>=0}function j(We,Pe){var Re=We.dragmode,Xe=We.plotinfo,Le=We.gd;$(Le)&&Le._fullLayout._deactivateShape(Le),oe(Le)&&Le._fullLayout._deactivateSelection(Le);var ve=Le._fullLayout,xe=ve._zoomlayer,Ne=n(Re),et=l(Re);if(Ne||et){var st=xe.selectAll(".select-outline-"+Xe.id);if(st&&Le._fullLayout._outlining){var lt;Ne&&(lt=x(st,We)),lt&&i.call("_guiRelayout",Le,{shapes:lt});var Gt;et&&!J(We)&&(Gt=w(st,We)),Gt&&(Le._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Le,{selections:Gt}).then(function(){Pe&&C(Le)})),Le._fullLayout._outlining=!1}}Xe.selection={},Xe.selection.selectionDefs=We.selectionDefs=[],Xe.selection.mergedPolygons=We.mergedPolygons=[]}function X(We){return We._id}function se(We,Pe,Re,Xe){if(!We.calcdata)return[];var Le=[],ve=Pe.map(X),xe=Re.map(X),Ne,et,st;for(st=0;st<We.calcdata.length;st++)if(Ne=We.calcdata[st],et=Ne[0].trace,!(et.visible!==!0||!et._module||!et._module.selectPoints))if(J({subplot:Xe})&&(et.subplot===Xe||et.geo===Xe))Le.push(q(et._module,Ne,Pe[0],Re[0]));else if(et.type==="splom"){if(et._xaxes[ve[0]]&&et._yaxes[xe[0]]){var lt=q(et._module,Ne,Pe[0],Re[0]);lt.scene=We._fullLayout._splomScenes[et.uid],Le.push(lt)}}else if(et.type==="sankey"){var Gt=q(et._module,Ne,Pe[0],Re[0]);Le.push(Gt)}else{if(ve.indexOf(et.xaxis)===-1&&(!et._xA||!et._xA.overlaying)||xe.indexOf(et.yaxis)===-1&&(!et._yA||!et._yA.overlaying))continue;Le.push(q(et._module,Ne,E(We,et.xaxis),E(We,et.yaxis)))}return Le}function q(We,Pe,Re,Xe){return{_module:We,cd:Pe,xaxis:Re,yaxis:Xe}}function ce(We){return We&&Array.isArray(We)&&We[0].hoverOnBox!==!0}function ye(We,Pe){var Re=We[0],Xe=-1,Le=[],ve,xe;for(xe=0;xe<Pe.length;xe++)if(ve=Pe[xe],Re.fullData._expandedIndex===ve.cd[0].trace._expandedIndex){if(Re.hoverOnBox===!0)break;Re.pointNumber!==void 0?Xe=Re.pointNumber:Re.binNumber!==void 0&&(Xe=Re.binNumber,Le=Re.pointNumbers);break}return{pointNumber:Xe,pointNumbers:Le,searchInfo:ve}}function we(We){var Pe=We.searchInfo.cd[0].trace,Re=We.pointNumber,Xe=We.pointNumbers,Le=Xe.length>0,ve=Le?Xe[0]:Re;return Pe.selectedpoints?Pe.selectedpoints.indexOf(ve)>-1:!1}function be(We,Pe){var Re=[],Xe,Le,ve,xe;for(xe=0;xe<We.length;xe++)Xe=We[xe],Xe.cd[0].trace.selectedpoints&&Xe.cd[0].trace.selectedpoints.length>0&&Re.push(Xe);if(Re.length===1&&(ve=Re[0]===Pe.searchInfo,ve&&(Le=Pe.searchInfo.cd[0].trace,Le.selectedpoints.length===Pe.pointNumbers.length))){for(xe=0;xe<Pe.pointNumbers.length;xe++)if(Le.selectedpoints.indexOf(Pe.pointNumbers[xe])<0)return!1;return!0}return!1}function De(We){var Pe=0,Re,Xe,Le;for(Le=0;Le<We.length;Le++)if(Re=We[Le],Xe=Re.cd[0].trace,Xe.selectedpoints&&(Xe.selectedpoints.length>1||(Pe+=Xe.selectedpoints.length,Pe>1)))return!1;return Pe===1}function ke(We,Pe,Re){var Xe;for(Xe=0;Xe<Pe.length;Xe++){var Le=Pe[Xe].cd[0].trace._fullInput,ve=We._fullLayout._tracePreGUI[Le.uid]||{};ve.selectedpoints===void 0&&(ve.selectedpoints=Le._input.selectedpoints||null)}var xe;if(Re){var Ne=Re.points||[];for(Xe=0;Xe<Pe.length;Xe++)xe=Pe[Xe].cd[0].trace,xe._input.selectedpoints=xe._fullInput.selectedpoints=[],xe._fullInput!==xe&&(xe.selectedpoints=[]);for(var et=0;et<Ne.length;et++){var st=Ne[et],lt=st.data,Gt=st.fullData,jt=st.pointIndex,Tt=st.pointIndices;Tt?([].push.apply(lt.selectedpoints,Tt),xe._fullInput!==xe&&[].push.apply(Gt.selectedpoints,Tt)):(lt.selectedpoints.push(jt),xe._fullInput!==xe&&Gt.selectedpoints.push(jt))}}else for(Xe=0;Xe<Pe.length;Xe++)xe=Pe[Xe].cd[0].trace,delete xe.selectedpoints,delete xe._input.selectedpoints,xe._fullInput!==xe&&delete xe._fullInput.selectedpoints;Be(We,Pe)}function Be(We,Pe){for(var Re=!1,Xe=0;Xe<Pe.length;Xe++){var Le=Pe[Xe],ve=Le.cd;i.traceIs(ve[0].trace,"regl")&&(Re=!0);var xe=Le._module,Ne=xe.styleOnSelect||xe.style;Ne&&(Ne(We,ve,ve[0].node3),ve[0].nodeRangePlot3&&Ne(We,ve,ve[0].nodeRangePlot3))}Re&&(b(We),F(We))}function Ae(We,Pe,Re){for(var Xe=Re?m.difference:m.union,Le=Xe({regions:We},{regions:[Pe]}),ve=Le.regions.reverse(),xe=0;xe<ve.length;xe++){var Ne=ve[xe];Ne.subtract=ht(Ne,ve.slice(0,xe))}return ve}function Ie(We,Pe){if(Array.isArray(We))for(var Re=Pe.cd,Xe=Pe.cd[0].trace,Le=0;Le<We.length;Le++)We[Le]=p(We[Le],Xe,Re);return We}function Me(We,Pe){for(var Re=[],Xe=0;Xe<We.length;Xe++){Re[Xe]=[];for(var Le=0;Le<We[Xe].length;Le++){Re[Xe][Le]=[],Re[Xe][Le][0]=Le?"L":"M";for(var ve=0;ve<We[Xe][Le].length;ve++)Re[Xe][Le].push(We[Xe][Le][ve])}Pe||Re[Xe].push(["Z",Re[Xe][0][1],Re[Xe][0][2]])}return Re}function Fe(We,Pe){for(var Re=[],Xe,Le,ve=0;ve<Pe.length;ve++){var xe=Pe[ve];Le=xe._module.selectPoints(xe,We),Xe=Ie(Le,xe),Re=Re.concat(Xe)}return Re}function Ee(We,Pe,Re,Xe,Le){var ve=!!Xe,xe,Ne,et;Le&&(xe=Le.plotinfo,Ne=Le.xaxes[0]._id,et=Le.yaxes[0]._id);var st=[],lt=[],Gt=qe(We),jt=We._fullLayout;if(xe){var Tt=jt._zoomlayer,Dt=jt.dragmode,Xt=n(Dt),gr=l(Dt);if(Xt||gr){var gt=E(We,Ne,"x"),Zt=E(We,et,"y");if(gt&&Zt){var Qt=Tt.selectAll(".select-outline-"+xe.id);if(Qt&&We._fullLayout._outlining&&Qt.length){for(var yr=Qt[0][0],or=yr.getAttribute("d"),mt=d(or,We,xe),ut=[],bt=0;bt<mt.length;bt++){for(var Et=mt[bt],Rt=[],Ht=0;Ht<Et.length;Ht++)Rt.push([vt(gt,Et[Ht][1]),vt(Zt,Et[Ht][2])]);Rt.xref=Ne,Rt.yref=et,Rt.subtract=ht(Rt,ut),ut.push(Rt)}Gt=Gt.concat(ut)}}}}var Bt=Ne&&et?[Ne+et]:jt._subplots.cartesian;He(We);for(var Nt={},Jt=0;Jt<Bt.length;Jt++){var hr=Bt[Jt],fr=hr.indexOf("y"),dr=hr.slice(0,fr),Ye=hr.slice(fr),Ve=Ne&&et?Re:void 0;if(Ve=$e(Gt,dr,Ye,Ve),Ve){var _t=Xe;if(!ve){var kt=E(We,dr,"x"),Kt=E(We,Ye,"y");_t=se(We,[kt],[Kt],hr);for(var sr=0;sr<_t.length;sr++){var cr=_t[sr],er=cr.cd[0],Ot=er.trace;if(cr._module.name==="scattergl"&&!er.t.xpx){var nr=Ot.x,vr=Ot.y,wr=Ot._length;er.t.xpx=[],er.t.ypx=[];for(var ur=0;ur<wr;ur++)er.t.xpx[ur]=kt.c2p(nr[ur]),er.t.ypx[ur]=Kt.c2p(vr[ur])}cr._module.name==="splom"&&(Nt[Ot.uid]||(Nt[Ot.uid]=!0))}}var Vr=Fe(Ve,_t);st=st.concat(Vr),lt=lt.concat(_t)}}var Pr={points:st};ke(We,lt,Pr);var Dr=jt.clickmode,ln=Dr.indexOf("event")>-1&&Pe;if(!xe&&Pe){var Wr=qe(We,!0);if(Wr.length){var Tn=Wr[0].xref,An=Wr[0].yref;if(Tn&&An){var Tr=pt(Wr),Fr=Mt([E(We,Tn,"x"),E(We,An,"y")]);Fr(Pr,Tr)}}We._fullLayout._noEmitSelectedAtStart?We._fullLayout._noEmitSelectedAtStart=!1:ln&&Ge(We,Pr),jt._reselect=!1}if(!xe&&jt._deselect){var Yr=jt._deselect;Ne=Yr.xref,et=Yr.yref,rt(Ne,et,lt)||ot(We,Ne,et,Xe),ln&&(Pr.points.length?Ge(We,Pr):je(We)),jt._deselect=!1}return{eventData:Pr,selectionTesters:Re}}function He(We){var Pe=We.calcdata;if(Pe)for(var Re=0;Re<Pe.length;Re++){var Xe=Pe[Re][0],Le=Xe.trace,ve=We._fullLayout._splomScenes;if(ve){var xe=ve[Le.uid];xe&&(xe.selectBatch=[])}}}function rt(We,Pe,Re){for(var Xe=0;Xe<Re.length;Xe++){var Le=Re[Xe];if(Le.xaxis&&Le.xaxis._id===We&&Le.yaxis&&Le.yaxis._id===Pe)return!0}return!1}function ot(We,Pe,Re,Xe){Xe=se(We,[E(We,Pe,"x")],[E(We,Re,"y")],Pe+Re);for(var Le=0;Le<Xe.length;Le++){var ve=Xe[Le];ve._module.selectPoints(ve,!1)}ke(We,Xe)}function $e(We,Pe,Re,Xe){for(var Le,ve=0;ve<We.length;ve++){var xe=We[ve];if(!(Pe!==xe.xref||Re!==xe.yref))if(Le){var Ne=!!xe.subtract;Le=Ae(Le,xe,Ne),Xe=ie(Le)}else Le=[xe],Xe=O(xe)}return Xe}function qe(We,Pe){for(var Re=[],Xe=We._fullLayout,Le=Xe.selections,ve=Le.length,xe=0;xe<ve;xe++)if(!(Pe&&xe!==Xe._activeSelectionIndex)){var Ne=Le[xe];if(Ne){var et=Ne.xref,st=Ne.yref,lt=E(We,et,"x"),Gt=E(We,st,"y"),jt,Tt,Dt,Xt,gr;if(Ne.type==="rect"){gr=[];var gt=vt(lt,Ne.x0),Zt=vt(lt,Ne.x1),Qt=vt(Gt,Ne.y0),yr=vt(Gt,Ne.y1);gr=[[gt,Qt],[gt,yr],[Zt,yr],[Zt,Qt]],jt=Math.min(gt,Zt),Tt=Math.max(gt,Zt),Dt=Math.min(Qt,yr),Xt=Math.max(Qt,yr),gr.xmin=jt,gr.xmax=Tt,gr.ymin=Dt,gr.ymax=Xt,gr.xref=et,gr.yref=st,gr.subtract=!1,gr.isRect=!0,Re.push(gr)}else if(Ne.type==="path")for(var or=Ne.path.split("Z"),mt=[],ut=0;ut<or.length;ut++){var bt=or[ut];if(bt){bt+="Z";var Et=u.extractPathCoords(bt,g.paramIsX,"raw"),Rt=u.extractPathCoords(bt,g.paramIsY,"raw");jt=1/0,Tt=-1/0,Dt=1/0,Xt=-1/0,gr=[];for(var Ht=0;Ht<Et.length;Ht++){var Bt=vt(lt,Et[Ht]),Nt=vt(Gt,Rt[Ht]);gr.push([Bt,Nt]),jt=Math.min(Bt,jt),Tt=Math.max(Bt,Tt),Dt=Math.min(Nt,Dt),Xt=Math.max(Nt,Xt)}gr.xmin=jt,gr.xmax=Tt,gr.ymin=Dt,gr.ymax=Xt,gr.xref=et,gr.yref=st,gr.subtract=ht(gr,mt),mt.push(gr),Re.push(gr)}}}}return Re}function ht(We,Pe){for(var Re=!1,Xe=0;Xe<Pe.length;Xe++)for(var Le=Pe[Xe],ve=0;ve<We.length;ve++)if(P(We[ve],Le)){Re=!Re;break}return Re}function vt(We,Pe){return We.type==="date"&&(Pe=Pe.replace("_"," ")),We.type==="log"?We.c2p(Pe):We.r2p(Pe,null,We.calendar)}function pt(We){for(var Pe=We.length,Re=[],Xe=0;Xe<Pe;Xe++){var Le=We[Xe];Re=Re.concat(Le),Re=Re.concat([Le[0]])}return wt(Re)}function wt(We){return We.isRect=We.length===5&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We}function Mt(We){return function(Pe,Re){for(var Xe,Le,ve=0;ve<We.length;ve++){var xe=We[ve],Ne=xe._id,et=Ne.charAt(0);if(Re.isRect){Xe||(Xe={});var st=Re[et+"min"],lt=Re[et+"max"];st!==void 0&&lt!==void 0&&(Xe[Ne]=[z(xe,st),z(xe,lt)].sort(M))}else Le||(Le={}),Le[Ne]=Re.map(U(xe))}Xe&&(Pe.range=Xe),Le&&(Pe.lassoPoints=Le)}}function nt(We){var Pe=We.plotinfo;return Pe.fillRangeItems||Mt(We.xaxes.concat(We.yaxes))}function _e(We,Pe){We.emit("plotly_selecting",Pe)}function Ge(We,Pe){Pe&&(Pe.selections=(We.layout||{}).selections||[]),We.emit("plotly_selected",Pe)}function je(We){We.emit("plotly_deselect",null)}G.exports={reselect:Ee,prepSelect:re,clearOutline:T,clearSelectionsCache:j,selectOnClick:ne}},46056:function(G,V,e){var m=e(13916),P=e(25376),i=e(52904).line,L=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:S({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},p.legend,{editType:"calc+arraydraw"}),legendgroup:S({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},m.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},m.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},i.color,{editType:"arraydraw"}),width:S({},i.width,{editType:"calc+arraydraw"}),dash:S({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,V,e){var m=e(3400),P=e(54460),i=e(85448),L=e(65152);G.exports=function(a){var n=a._fullLayout,f=m.filterVisible(n.shapes);if(!(!f.length||!a._fullData.length))for(var l=0;l<f.length;l++){var u=f[l];u._extremes={};var g,h,T=P.getRefType(u.xref),c=P.getRefType(u.yref);if(u.xref!=="paper"&&T!=="domain"){var o=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;g=P.getFromId(a,u.xref),h=r(g,o,d,u.path,i.paramIsX),h&&(u._extremes[g._id]=P.findExtremes(g,h,S(u)))}if(u.yref!=="paper"&&c!=="domain"){var x=u.ysizemode==="pixel"?u.yanchor:u.y0,w=u.ysizemode==="pixel"?u.yanchor:u.y1;g=P.getFromId(a,u.yref),h=r(g,x,w,u.path,i.paramIsY),h&&(u._extremes[g._id]=P.findExtremes(g,h,v(u)))}}};function S(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,a,n,f,l,u){var g=t/2,h=u;if(a==="pixel"){var T=l?L.extractPathCoords(l,u?i.paramIsY:i.paramIsX):[n,f],c=m.aggNums(Math.max,null,T),o=m.aggNums(Math.min,null,T),d=o<0?Math.abs(o)+g:g,x=c>0?c+g:g;return{ppad:g,ppadplus:h?d:x,ppadminus:h?x:d}}else return{ppad:g}}function r(t,a,n,f,l){var u=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(a!==void 0)return[u(a),u(n)];if(f){var g=1/0,h=-1/0,T=f.match(i.segmentRE),c,o,d,x,w;for(t.type==="date"&&(u=L.decodeDate(u)),c=0;c<T.length;c++)o=T[c],d=l[o.charAt(0)].drawn,d!==void 0&&(x=T[c].substr(1).match(i.paramRE),!(!x||x.length<d)&&(w=u(x[d]),w<g&&(g=w),w>h&&(h=w)));if(h>=g)return[g,h]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,V,e){var m=e(3400),P=e(54460),i=e(51272),L=e(46056),S=e(65152);G.exports=function(t,a){i(t,a,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,a){function n(te,Q){return m.coerce(r,t,L,te,Q)}t._isShape=!0;var f=n("visible");if(f){var l=n("showlegend");l&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),m.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var u=n("path"),g=u?"path":"rect",h=n("type",g),T=h!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),d=n("ysizemode"),x=["x","y"],w=0;w<2;w++){var C=x[w],y=C+"anchor",M=C==="x"?o:d,A={_fullLayout:a},s,E,b,F=P.coerceRef(r,t,A,C,void 0,"paper"),I=P.getRefType(F);if(I==="range"?(s=P.getFromId(A,F),s._shapeIndices.push(t._index),b=S.rangeToShapePosition(s),E=S.shapePositionToRange(s)):E=b=m.identity,T){var N=.25,_=.75,O=C+"0",B=C+"1",z=r[O],U=r[B];r[O]=E(r[O],!0),r[B]=E(r[B],!0),M==="pixel"?(n(O,0),n(B,10)):(P.coercePosition(t,A,n,F,O,N),P.coercePosition(t,A,n,F,B,_)),t[O]=b(t[O]),t[B]=b(t[B]),r[O]=z,r[B]=U}if(M==="pixel"){var Z=r[y];r[y]=E(r[y],!0),P.coercePosition(t,A,n,F,y,.25),t[y]=b(t[y]),r[y]=Z}}T&&m.noneOrAll(r,t,["x0","x1","y0","y1"]);var J=h==="line",re,ne;if(T&&(re=n("label.texttemplate")),re||(ne=n("label.text")),ne||re){n("label.textangle");var ue=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(J,ue)),n("label.padding"),m.coerceFont(n,"label.font",a.font)}}}},60728:function(G,V,e){var m=e(3400),P=e(54460),i=e(72736),L=e(43616),S=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(l,u,g,h){if(h.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var T;if(g.label.texttemplate){var c={};if(g.type!=="path"){var o=P.getFromId(l,g.xref),d=P.getFromId(l,g.yref);for(var x in r){var w=r[x](g,o,d);w!==void 0&&(c[x]=w)}}T=m.texttemplateStringForShapes(g.label.texttemplate,{},l._fullLayout._d3locale,c)}else T=g.label.text;var C={"data-index":u},y=g.label.font,M={"data-notex":1},A=h.append("g").attr(C).classed("shape-label",!0),s=A.append("text").attr(M).classed("shape-label-text",!0).text(T),E,b,F,I;if(g.path){var N=p(l,g),_=S(N,l);E=1/0,F=1/0,b=-1/0,I=-1/0;for(var O=0;O<_.length;O++)for(var B=0;B<_[O].length;B++)for(var z=_[O][B],U=1;U<z.length;U+=2){var Z=z[U],J=z[U+1];E=Math.min(E,Z),b=Math.max(b,Z),F=Math.min(F,J),I=Math.max(I,J)}}else{var re=P.getFromId(l,g.xref),ne=P.getRefType(g.xref),ue=P.getFromId(l,g.yref),te=P.getRefType(g.yref),Q=v.getDataToPixel(l,re,!1,ne),ie=v.getDataToPixel(l,ue,!0,te);E=Q(g.x0),b=Q(g.x1),F=ie(g.y0),I=ie(g.y1)}var Y=g.label.textangle;Y==="auto"&&(g.type==="line"?Y=a(E,F,b,I):Y=0),s.call(function(q){return q.call(L.font,y).attr({}),i.convertToTspans(q,l),q});var $=L.bBox(s.node()),oe=n(E,F,b,I,g,Y,$),j=oe.textx,X=oe.texty,se=oe.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:X,x:j,transform:"rotate("+Y+","+j+","+X+")"}).call(i.positionText,j,X)}};function a(f,l,u,g){var h,T;return T=Math.abs(u-f),u>=f?h=l-g:h=g-l,-180/Math.PI*Math.atan2(h,T)}function n(f,l,u,g,h,T,c){var o=h.label.textposition,d=h.label.textangle,x=h.label.padding,w=h.type,C=Math.PI/180*T,y=Math.sin(C),M=Math.cos(C),A=h.label.xanchor,s=h.label.yanchor,E,b,F,I;if(w==="line"){o==="start"?(E=f,b=l):o==="end"?(E=u,b=g):(E=(f+u)/2,b=(l+g)/2),A==="auto"&&(o==="start"?d==="auto"?u>f?A="left":u<f?A="right":A="center":u>f?A="right":u<f?A="left":A="center":o==="end"?d==="auto"?u>f?A="right":u<f?A="left":A="center":u>f?A="left":u<f?A="right":A="center":A="center");var N={left:1,center:0,right:-1},_={bottom:-1,middle:0,top:1};if(d==="auto"){var O=_[s];F=-x*y*O,I=x*M*O}else{var B=N[A],z=_[s];F=x*B,I=x*z}E=E+F,b=b+I}else F=x+3,o.indexOf("right")!==-1?(E=Math.max(f,u)-F,A==="auto"&&(A="right")):o.indexOf("left")!==-1?(E=Math.min(f,u)+F,A==="auto"&&(A="left")):(E=(f+u)/2,A==="auto"&&(A="center")),o.indexOf("top")!==-1?b=Math.min(l,g):o.indexOf("bottom")!==-1?b=Math.max(l,g):b=(l+g)/2,I=x,s==="bottom"?b=b-I:s==="top"&&(b=b+I);var U=t[s],Z=h.label.font.size,J=c.height,re=(J*U-Z)*y,ne=-(J*U-Z)*M;return{textx:E+re,texty:b+ne,xanchor:A}}},55496:function(G,V,e){var m=e(3400),P=m.strTranslate,i=e(86476),L=e(72760),S=L.drawMode,v=L.selectMode,p=e(24040),r=e(76308),t=e(7e3),a=t.i000,n=t.i090,f=t.i180,l=t.i270,u=e(1936),g=u.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,w=e(5968),C=e(60728);G.exports=function s(E,b,F,I){I||(I=0);var N=F.gd;function _(){s(E,b,F,I++),(c(E[0])||F.hasText)&&O({redrawing:!0})}function O(Ae){var Ie={};F.isActiveShape!==void 0&&(F.isActiveShape=!1,Ie=d(b,F)),F.isActiveSelection!==void 0&&(F.isActiveSelection=!1,Ie=w(b,F),N._fullLayout._reselect=!0),Object.keys(Ie).length&&p.call((Ae||{}).redrawing?"relayout":"_guiRelayout",N,Ie)}var B=N._fullLayout,z=B._zoomlayer,U=F.dragmode,Z=S(U),J=v(U);(Z||J)&&(N._fullLayout._outlining=!0),g(N),b.attr("d",o(E));var re,ne,ue,te,Q;if(!I&&(F.isActiveShape||F.isActiveSelection)){Q=y([],E);var ie=z.append("g").attr("class","outline-controllers");ce(ie),Be()}if(Z&&F.hasText){var Y=z.select(".label-temp"),$=x(b,F,F.dragmode);C(N,"label-temp",$,Y)}function oe(Ae){ue=+Ae.srcElement.getAttribute("data-i"),te=+Ae.srcElement.getAttribute("data-j"),re[ue][te].moveFn=j}function j(Ae,Ie){if(E.length){var Me=Q[ue][te][1],Fe=Q[ue][te][2],Ee=E[ue],He=Ee.length;if(T(Ee)){var rt=Ae,ot=Ie;if(F.isActiveSelection){var $e=M(Ee,te);$e[1]===Ee[te][1]?ot=0:rt=0}for(var qe=0;qe<He;qe++)if(qe!==te){var ht=Ee[qe];ht[1]===Ee[te][1]&&(ht[1]=Me+rt),ht[2]===Ee[te][2]&&(ht[2]=Fe+ot)}if(Ee[te][1]=Me+rt,Ee[te][2]=Fe+ot,!T(Ee))for(var vt=0;vt<He;vt++)for(var pt=0;pt<Ee[vt].length;pt++)Ee[vt][pt]=Q[ue][vt][pt]}else Ee[te][1]=Me+Ae,Ee[te][2]=Fe+Ie;_()}}function X(){O()}function se(){if(E.length&&E[ue]&&E[ue].length){for(var Ae=[],Ie=0;Ie<E[ue].length;Ie++)Ie!==te&&Ae.push(E[ue][Ie]);Ae.length>1&&!(Ae.length===2&&Ae[1][0]==="Z")&&(te===0&&(Ae[0][0]="M"),E[ue]=Ae,_(),O())}}function q(Ae,Ie){if(Ae===2){ue=+Ie.srcElement.getAttribute("data-i"),te=+Ie.srcElement.getAttribute("data-j");var Me=E[ue];!T(Me)&&!c(Me)&&se()}}function ce(Ae){re=[];for(var Ie=0;Ie<E.length;Ie++){var Me=E[Ie],Fe=T(Me),Ee=!Fe&&c(Me);re[Ie]=[];for(var He=Me.length,rt=0;rt<He;rt++)if(Me[rt][0]!=="Z"&&!(Ee&&rt!==a&&rt!==n&&rt!==f&&rt!==l)){var ot=Fe&&F.isActiveSelection,$e;ot&&($e=M(Me,rt));var qe=Me[rt][1],ht=Me[rt][2],vt=Ae.append(ot?"rect":"circle").attr("data-i",Ie).attr("data-j",rt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ot){var pt=$e[1]-qe,wt=$e[2]-ht,Mt=wt?5:Math.max(Math.min(25,Math.abs(pt)-5),5),nt=pt?5:Math.max(Math.min(25,Math.abs(wt)-5),5);vt.classed(wt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",nt).attr("x",qe-Mt/2).attr("y",ht-nt/2).attr("transform",P(pt/2,wt/2))}else vt.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",ht);re[Ie][rt]={element:vt.node(),gd:N,prepFn:oe,doneFn:X,clickFn:q},i.init(re[Ie][rt])}}}function ye(Ae,Ie){if(E.length)for(var Me=0;Me<E.length;Me++)for(var Fe=0;Fe<E[Me].length;Fe++)for(var Ee=0;Ee+2<E[Me][Fe].length;Ee+=2)E[Me][Fe][Ee+1]=Q[Me][Fe][Ee+1]+Ae,E[Me][Fe][Ee+2]=Q[Me][Fe][Ee+2]+Ie}function we(Ae,Ie){ye(Ae,Ie),_()}function be(Ae){ue=+Ae.srcElement.getAttribute("data-i"),ue||(ue=0),ne[ue].moveFn=we}function De(){O()}function ke(Ae){Ae===2&&A(N)}function Be(){if(ne=[],!!E.length){var Ae=0;ne[Ae]={element:b[0][0],gd:N,prepFn:be,doneFn:De,clickFn:ke},i.init(ne[Ae])}}};function y(s,E){for(var b=0;b<E.length;b++){var F=E[b];s[b]=[];for(var I=0;I<F.length;I++){s[b][I]=[];for(var N=0;N<F[I].length;N++)s[b][I][N]=F[I][N]}}return s}function M(s,E){var b=s[E][1],F=s[E][2],I=s.length,N,_,O;return N=(E+1)%I,_=s[N][1],O=s[N][2],_===b&&O===F&&(N=(E+2)%I,_=s[N][1],O=s[N][2]),[N,_,O]}function A(s){if(v(s._fullLayout.dragmode)){g(s);var E=s._fullLayout._activeSelectionIndex,b=(s.layout||{}).selections||[];if(E<b.length){for(var F=[],I=0;I<b.length;I++)I!==E&&F.push(b[I]);delete s._fullLayout._activeSelectionIndex;var N=s._fullLayout.selections[E];s._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",s,{selections:F})}}}},4016:function(G,V,e){var m=e(33428),P=e(24040),i=e(3400),L=e(54460),S=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),a=e(43616),n=e(31780).arrayEditor,f=e(86476),l=e(93972),u=e(85448),g=e(65152),h=g.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:A,drawLabel:p};function T(s){var E=s._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var b in E._plots){var F=E._plots[b].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var I=0;I<E.shapes.length;I++)E.shapes[I].visible===!0&&d(s,I)}function c(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function d(s,E){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var b=g.makeShapesOptionsAndPlotinfo(s,E),F=b.options,I=b.plotinfo;if(!F._input||F.visible!==!0)return;if(F.layer==="above")_(s._fullLayout._shapeUpperLayer);else if(F.xref==="paper"||F.yref==="paper")_(s._fullLayout._shapeLowerLayer);else if(F.layer==="between")_(I.shapelayerBetween);else if(I._hadPlotinfo){var N=I.mainplotinfo||I;_(N.shapelayer)}else _(s._fullLayout._shapeLowerLayer);function _(O){var B=h(s,F),z={"data-index":E,"fill-rule":F.fillrule,d:B},U=F.opacity,Z=F.fillcolor,J=F.line.width?F.line.color:"rgba(0,0,0,0)",re=F.line.width,ne=F.line.dash;!re&&F.editable===!0&&(re=5,ne="solid");var ue=B[B.length-1]!=="Z",te=o(s)&&F.editable&&s._fullLayout._activeShapeIndex===E;te&&(Z=ue?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,U=s._fullLayout.activeshape.opacity);var Q=O.append("g").classed("shape-group",!0).attr({"data-index":E}),ie=Q.append("path").attr(z).style("opacity",U).call(t.stroke,J).call(t.fill,Z).call(a.dashLine,ne,re);x(Q,s,F),p(s,E,F,Q);var Y;if((te||s._context.edits.shapePosition)&&(Y=n(s.layout,"shapes",F)),te){ie.style({cursor:"move"});var $={element:ie.node(),plotinfo:I,gd:s,editHelpers:Y,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},oe=S(B,s);v(oe,ie,$)}else s._context.edits.shapePosition?w(s,ie,F,E,O,Y):F.editable===!0&&ie.style("pointer-events",ue||t.opacity(Z)*U<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return y(s,ie)})}}function x(s,E,b){var F=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(s,F?"clip"+E._fullLayout._uid+F:null,E)}function w(s,E,b,F,I,N){var _=10,O=10,B=b.xsizemode==="pixel",z=b.ysizemode==="pixel",U=b.type==="line",Z=b.type==="path",J=N.modifyItem,re,ne,ue,te,Q,ie,Y,$,oe,j,X,se,q,ce,ye,we=m.select(E.node().parentNode),be=L.getFromId(s,b.xref),De=L.getRefType(b.xref),ke=L.getFromId(s,b.yref),Be=L.getRefType(b.yref),Ae=g.getDataToPixel(s,be,!1,De),Ie=g.getDataToPixel(s,ke,!0,Be),Me=g.getPixelToData(s,be,!1,De),Fe=g.getPixelToData(s,ke,!0,Be),Ee=ot(),He={element:Ee.node(),gd:s,prepFn:ht,doneFn:vt,clickFn:pt},rt;f.init(He),Ee.node().onmousemove=qe;function ot(){return U?$e():E}function $e(){var je=10,We=Math.max(b.line.width,je),Pe=I.append("g").attr("data-index",F).attr("drag-helper",!0);Pe.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":We,"stroke-opacity":"0"});var Re={"fill-opacity":"0"},Xe=Math.max(We/2,je);return Pe.append("circle").attr({"data-line-point":"start-point",cx:B?Ae(b.xanchor)+b.x0:Ae(b.x0),cy:z?Ie(b.yanchor)-b.y0:Ie(b.y0),r:Xe}).style(Re).classed("cursor-grab",!0),Pe.append("circle").attr({"data-line-point":"end-point",cx:B?Ae(b.xanchor)+b.x1:Ae(b.x1),cy:z?Ie(b.yanchor)-b.y1:Ie(b.y1),r:Xe}).style(Re).classed("cursor-grab",!0),Pe}function qe(je){if(c(s)){rt=null;return}if(U)je.target.tagName==="path"?rt="move":rt=je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var We=He.element.getBoundingClientRect(),Pe=We.right-We.left,Re=We.bottom-We.top,Xe=je.clientX-We.left,Le=je.clientY-We.top,ve=!Z&&Pe>_&&Re>O&&!je.shiftKey?f.getCursor(Xe/Pe,1-Le/Re):"move";l(E,ve),rt=ve.split("-")[0]}}function ht(je){c(s)||(B&&(Q=Ae(b.xanchor)),z&&(ie=Ie(b.yanchor)),b.type==="path"?ye=b.path:(re=B?b.x0:Ae(b.x0),ne=z?b.y0:Ie(b.y0),ue=B?b.x1:Ae(b.x1),te=z?b.y1:Ie(b.y1)),re<ue?(oe=re,q="x0",j=ue,ce="x1"):(oe=ue,q="x1",j=re,ce="x0"),!z&&ne<te||z&&ne>te?(Y=ne,X="y0",$=te,se="y1"):(Y=te,X="y1",$=ne,se="y0"),qe(je),nt(I,b),Ge(E,b,s),He.moveFn=rt==="move"?wt:Mt,He.altKey=je.altKey)}function vt(){c(s)||(l(E),_e(I),x(E,s,b),P.call("_guiRelayout",s,N.getUpdateObj()))}function pt(){c(s)||_e(I)}function wt(je,We){if(b.type==="path"){var Pe=function(Le){return Le},Re=Pe,Xe=Pe;B?J("xanchor",b.xanchor=Me(Q+je)):(Re=function(ve){return Me(Ae(ve)+je)},be&&be.type==="date"&&(Re=g.encodeDate(Re))),z?J("yanchor",b.yanchor=Fe(ie+We)):(Xe=function(ve){return Fe(Ie(ve)+We)},ke&&ke.type==="date"&&(Xe=g.encodeDate(Xe))),J("path",b.path=C(ye,Re,Xe))}else B?J("xanchor",b.xanchor=Me(Q+je)):(J("x0",b.x0=Me(re+je)),J("x1",b.x1=Me(ue+je))),z?J("yanchor",b.yanchor=Fe(ie+We)):(J("y0",b.y0=Fe(ne+We)),J("y1",b.y1=Fe(te+We)));E.attr("d",h(s,b)),nt(I,b),p(s,F,b,we)}function Mt(je,We){if(Z){var Pe=function(gt){return gt},Re=Pe,Xe=Pe;B?J("xanchor",b.xanchor=Me(Q+je)):(Re=function(Zt){return Me(Ae(Zt)+je)},be&&be.type==="date"&&(Re=g.encodeDate(Re))),z?J("yanchor",b.yanchor=Fe(ie+We)):(Xe=function(Zt){return Fe(Ie(Zt)+We)},ke&&ke.type==="date"&&(Xe=g.encodeDate(Xe))),J("path",b.path=C(ye,Re,Xe))}else if(U){if(rt==="resize-over-start-point"){var Le=re+je,ve=z?ne-We:ne+We;J("x0",b.x0=B?Le:Me(Le)),J("y0",b.y0=z?ve:Fe(ve))}else if(rt==="resize-over-end-point"){var xe=ue+je,Ne=z?te-We:te+We;J("x1",b.x1=B?xe:Me(xe)),J("y1",b.y1=z?Ne:Fe(Ne))}}else{var et=function(gt){return rt.indexOf(gt)!==-1},st=et("n"),lt=et("s"),Gt=et("w"),jt=et("e"),Tt=st?Y+We:Y,Dt=lt?$+We:$,Xt=Gt?oe+je:oe,gr=jt?j+je:j;z&&(st&&(Tt=Y-We),lt&&(Dt=$-We)),(!z&&Dt-Tt>O||z&&Tt-Dt>O)&&(J(X,b[X]=z?Tt:Fe(Tt)),J(se,b[se]=z?Dt:Fe(Dt))),gr-Xt>_&&(J(q,b[q]=B?Xt:Me(Xt)),J(ce,b[ce]=B?gr:Me(gr)))}E.attr("d",h(s,b)),nt(I,b),p(s,F,b,we)}function nt(je,We){(B||z)&&Pe();function Pe(){var Re=We.type!=="path",Xe=je.selectAll(".visual-cue").data([0]),Le=1;Xe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Le}).classed("visual-cue",!0);var ve=Ae(B?We.xanchor:i.midRange(Re?[We.x0,We.x1]:g.extractPathCoords(We.path,u.paramIsX))),xe=Ie(z?We.yanchor:i.midRange(Re?[We.y0,We.y1]:g.extractPathCoords(We.path,u.paramIsY)));if(ve=g.roundPositionForSharpStrokeRendering(ve,Le),xe=g.roundPositionForSharpStrokeRendering(xe,Le),B&&z){var Ne="M"+(ve-1-Le)+","+(xe-1-Le)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Xe.attr("d",Ne)}else if(B){var et="M"+(ve-1-Le)+","+(xe-9-Le)+"v18 h2 v-18 Z";Xe.attr("d",et)}else{var st="M"+(ve-9-Le)+","+(xe-1-Le)+"h18 v2 h-18 Z";Xe.attr("d",st)}}}function _e(je){je.selectAll(".visual-cue").remove()}function Ge(je,We,Pe){var Re=We.xref,Xe=We.yref,Le=L.getFromId(Pe,Re),ve=L.getFromId(Pe,Xe),xe="";Re!=="paper"&&!Le.autorange&&(xe+=Re),Xe!=="paper"&&!ve.autorange&&(xe+=Xe),a.setClipUrl(je,xe?"clip"+Pe._fullLayout._uid+xe:null,Pe)}}function C(s,E,b){return s.replace(u.segmentRE,function(F){var I=0,N=F.charAt(0),_=u.paramIsX[N],O=u.paramIsY[N],B=u.numParams[N],z=F.substr(1).replace(u.paramRE,function(U){return I>=B||(_[I]?U=E(U):O[I]&&(U=b(U)),I++),U});return N+z})}function y(s,E){if(o(s)){var b=E.node(),F=+b.getAttribute("data-index");if(F>=0){if(F===s._fullLayout._activeShapeIndex){M(s);return}s._fullLayout._activeShapeIndex=F,s._fullLayout._deactivateShape=M,T(s)}}}function M(s){if(o(s)){var E=s._fullLayout._activeShapeIndex;E>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function A(s){if(o(s)){r(s);var E=s._fullLayout._activeShapeIndex,b=(s.layout||{}).shapes||[];if(E<b.length){for(var F=[],I=0;I<b.length;I++)I!==E&&F.push(b[I]);return delete s._fullLayout._activeShapeIndex,P.call("_guiRelayout",s,{shapes:F})}}}},92872:function(G,V,e){var m=e(67824).overrideAll,P=e(45464),i=e(25376),L=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,p=e(97728);G.exports=m({newshape:{visible:S({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},P.legend,{}),legendgroup:S({},P.legendgroup,{}),legendgrouptitle:{text:S({},P.legendgrouptitle.text,{}),font:i({})},legendrank:S({},P.legendrank,{}),legendwidth:S({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var V=32;G.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,V,e){var m=e(76308),P=e(3400);function i(L,S){return L?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(S,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";p("newshape.line.color",m.contrast(t)),p("newshape.line.dash")}var a=S.dragmode==="drawline",n=p("newshape.label.text"),f=p("newshape.label.texttemplate");if(n||f){p("newshape.label.textangle");var l=p("newshape.label.textposition",a?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",i(a,l)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(G,V,e){var m=e(21984),P=e(7e3),i=P.CIRCLE_SIDES,L=P.SQRT2,S=e(5840),v=S.p2r,p=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];V.writePaths=function(f){var l=f.length;if(!l)return"M0,0Z";for(var u="",g=0;g<l;g++)for(var h=f[g].length,T=0;T<h;T++){var c=f[g][T][0];if(c==="Z")u+="Z";else for(var o=f[g][T].length,d=0;d<o;d++){var x=d;c==="Q"||c==="S"?x=t[d]:c==="C"&&(x=r[d]),u+=f[g][T][x],d>0&&d<o-1&&(u+=",")}}return u},V.readPaths=function(f,l,u,g){var h=m(f),T=[],c=-1,o=function(){c++,T[c]=[]},d,x=0,w=0,C,y,M=function(){C=x,y=w};M();for(var A=0;A<h.length;A++){var s=[],E,b,F,I,N=h[A][0],_=N;switch(N){case"M":o(),x=+h[A][1],w=+h[A][2],s.push([_,x,w]),M();break;case"Q":case"S":E=+h[A][1],F=+h[A][2],x=+h[A][3],w=+h[A][4],s.push([_,x,w,E,F]);break;case"C":E=+h[A][1],F=+h[A][2],b=+h[A][3],I=+h[A][4],x=+h[A][5],w=+h[A][6],s.push([_,x,w,E,F,b,I]);break;case"T":case"L":x=+h[A][1],w=+h[A][2],s.push([_,x,w]);break;case"H":_="L",x=+h[A][1],s.push([_,x,w]);break;case"V":_="L",w=+h[A][1],s.push([_,x,w]);break;case"A":_="L";var O=+h[A][1],B=+h[A][2];+h[A][4]||(O=-O,B=-B);var z=x-O,U=w;for(d=1;d<=i/2;d++){var Z=2*Math.PI*d/i;s.push([_,z+O*Math.cos(Z),U+B*Math.sin(Z)])}break;case"Z":(x!==C||w!==y)&&(x=C,w=y,s.push([_,x,w]));break}for(var J=(u||{}).domain,re=l._fullLayout._size,ne=u&&u.xsizemode==="pixel",ue=u&&u.ysizemode==="pixel",te=g===!1,Q=0;Q<s.length;Q++){for(d=0;d+2<7;d+=2){var ie=s[Q][d+1],Y=s[Q][d+2];ie===void 0||Y===void 0||(x=ie,w=Y,u&&(u.xaxis&&u.xaxis.p2r?(te&&(ie-=u.xaxis._offset),ne?ie=p(u.xaxis,u.xanchor)+ie:ie=v(u.xaxis,ie)):(te&&(ie-=re.l),J?ie=J.x[0]+ie/re.w:ie=ie/re.w),u.yaxis&&u.yaxis.p2r?(te&&(Y-=u.yaxis._offset),ue?Y=p(u.yaxis,u.yanchor)-Y:Y=v(u.yaxis,Y)):(te&&(Y-=re.t),J?Y=J.y[1]-Y/re.h:Y=1-Y/re.h)),s[Q][d+1]=ie,s[Q][d+2]=Y)}T[c].push(s[Q].slice())}}return T};function a(f,l){return Math.abs(f-l)<=1e-6}function n(f,l){var u=l[1]-f[1],g=l[2]-f[2];return Math.sqrt(u*u+g*g)}V.pointsOnRectangle=function(f){var l=f.length;if(l!==5)return!1;for(var u=1;u<3;u++){var g=f[0][u]-f[1][u],h=f[3][u]-f[2][u];if(!a(g,h))return!1;var T=f[0][u]-f[3][u],c=f[1][u]-f[2][u];if(!a(T,c))return!1}return!a(f[0][1],f[1][1])&&!a(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},V.pointsOnEllipse=function(f){var l=f.length;if(l!==i+1)return!1;l=i;for(var u=0;u<l;u++){var g=(l*2-u)%l,h=(l/2+g)%l,T=(l/2+u)%l;if(!a(n(f[u],f[T]),n(f[g],f[h])))return!1}return!0},V.handleEllipse=function(f,l,u){if(!f)return[l,u];var g=V.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),h=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,c=(g.x1-g.x0)/2,o=(g.y1-g.y0)/2;c||(c=o=o/L),o||(o=c=c/L);for(var d=[],x=0;x<i;x++){var w=x*2*Math.PI/i;d.push([h+c*Math.cos(w),T+o*Math.sin(w)])}return d},V.ellipseOver=function(f){var l=f.x0,u=f.y0,g=f.x1,h=f.y1,T=g-l,c=h-u;l-=T,u-=c;var o=(l+g)/2,d=(u+h)/2,x=L;return T*=x,c*=x,{x0:o-T,y0:d-c,x1:o+T,y1:d+c}},V.fixDatesForPaths=function(f,l,u){var g=l.type==="date",h=u.type==="date";if(!g&&!h)return f;for(var T=0;T<f.length;T++)for(var c=0;c<f[T].length;c++)for(var o=0;o+2<f[T][c].length;o+=2)g&&(f[T][c][o+1]=f[T][c][o+1].replace(" ","_")),h&&(f[T][c][o+2]=f[T][c][o+2].replace(" ","_"));return f}},93940:function(G,V,e){var m=e(72760),P=m.drawMode,i=m.openMode,L=e(7e3),S=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,a=L.sin45,n=e(5840),f=n.p2r,l=n.r2p,u=e(1936),g=u.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;function x(C,y){if(C.length){var M=C[0][0];if(M){var A=y.gd,s=y.isActiveShape,E=y.dragmode,b=(A.layout||{}).shapes||[];if(!P(E)&&s!==void 0){var F=A._fullLayout._activeShapeIndex;if(F<b.length)switch(A._fullLayout.shapes[F].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var I=b[F].path||"";I[I.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var N=w(C,y,E);g(A);for(var _=y.editHelpers,O=(_||{}).modifyItem,B=[],z=0;z<b.length;z++){var U=A._fullLayout.shapes[z];if(B[z]=U._input,s!==void 0&&z===A._fullLayout._activeShapeIndex){var Z=N;switch(U.type){case"line":case"rect":case"circle":O("x0",Z.x0),O("x1",Z.x1),O("y0",Z.y0),O("y1",Z.y1);break;case"path":O("path",Z.path);break}}}return s===void 0?(B.push(N),B):_?_.getUpdateObj():{}}}}function w(C,y,M){var A=C[0][0],s=y.gd,E=A.getAttribute("d"),b=s._fullLayout.newshape,F=y.plotinfo,I=y.isActiveShape,N=F.xaxis,_=F.yaxis,O=!!F.domain||!F.xaxis,B=!!F.domain||!F.yaxis,z=i(M),U=T(E,s,F,I),Z={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:O?"paper":N._id,yref:B?"paper":_._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};z||(Z.fillcolor=b.fillcolor,Z.fillrule=b.fillrule);var J;if(U.length===1&&(J=U[0]),J&&J.length===5&&M==="drawrect")Z.type="rect",Z.x0=J[0][1],Z.y0=J[0][2],Z.x1=J[2][1],Z.y1=J[2][2];else if(J&&M==="drawline")Z.type="line",Z.x0=J[0][1],Z.y0=J[0][2],Z.x1=J[1][1],Z.y1=J[1][2];else if(J&&M==="drawcircle"){Z.type="circle";var re=J[S][1],ne=J[v][1],ue=J[p][1],te=J[r][1],Q=J[S][2],ie=J[v][2],Y=J[p][2],$=J[r][2],oe=F.xaxis&&(F.xaxis.type==="date"||F.xaxis.type==="log"),j=F.yaxis&&(F.yaxis.type==="date"||F.yaxis.type==="log");oe&&(re=l(F.xaxis,re),ne=l(F.xaxis,ne),ue=l(F.xaxis,ue),te=l(F.xaxis,te)),j&&(Q=l(F.yaxis,Q),ie=l(F.yaxis,ie),Y=l(F.yaxis,Y),$=l(F.yaxis,$));var X=(ne+te)/2,se=(Q+Y)/2,q=(te-ne+ue-re)/2,ce=($-ie+Y-Q)/2,ye=o({x0:X,y0:se,x1:X+q*t,y1:se+ce*a});oe&&(ye.x0=f(F.xaxis,ye.x0),ye.x1=f(F.xaxis,ye.x1)),j&&(ye.y0=f(F.yaxis,ye.y0),ye.y1=f(F.yaxis,ye.y1)),Z.x0=ye.x0,Z.y0=ye.y0,Z.x1=ye.x1,Z.y1=ye.y1}else Z.type="path",N&&_&&d(U,N,_),Z.path=c(U),J=null;return Z}G.exports={newShapes:x,createShapeObj:w}},1936:function(G){function V(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),m._fullLayout._outlining=!1}G.exports={clearOutlineControllers:V,clearOutline:e}},65152:function(G,V,e){var m=e(85448),P=e(3400),i=e(54460);V.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},V.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},V.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},V.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},V.extractPathCoords=function(S,v,p){var r=[],t=S.match(m.segmentRE);return t.forEach(function(a){var n=v[a.charAt(0)].drawn;if(n!==void 0){var f=a.substr(1).match(m.paramRE);if(!(!f||f.length<n)){var l=f[n],u=p?l:P.cleanNumber(l);r.push(u)}}}),r},V.getDataToPixel=function(S,v,p,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){return v._length*(p?1-f:f)+v._offset};else{var n=V.shapePositionToRange(v);a=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(a=V.decodeDate(a))}else p?a=function(f){return t.t+t.h*(1-f)}:a=function(f){return t.l+t.w*f};return a},V.getPixelToData=function(S,v,p,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){var l=(f-v._offset)/v._length;return p?1-l:l};else{var n=V.rangeToShapePosition(v);a=function(f){return n(v.p2r(f-v._offset))}}else p?a=function(f){return 1-(f-t.t)/t.h}:a=function(f){return(f-t.l)/t.w};return a},V.roundPositionForSharpStrokeRendering=function(S,v){var p=Math.round(v%2)===1,r=Math.round(S);return p?r+.5:r},V.makeShapesOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=S._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},V.makeSelectionsOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=S._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},V.getPathString=function(S,v){var p=v.type,r=i.getRefType(v.xref),t=i.getRefType(v.yref),a=i.getFromId(S,v.xref),n=i.getFromId(S,v.yref),f=S._fullLayout._size,l,u,g,h,T,c,o,d;if(a?r==="domain"?u=function(F){return a._offset+a._length*F}:(l=V.shapePositionToRange(a),u=function(F){return a._offset+a.r2p(l(F,!0))}):u=function(F){return f.l+f.w*F},n?t==="domain"?h=function(F){return n._offset+n._length*(1-F)}:(g=V.shapePositionToRange(n),h=function(F){return n._offset+n.r2p(g(F,!0))}):h=function(F){return f.t+f.h*(1-F)},p==="path")return a&&a.type==="date"&&(u=V.decodeDate(u)),n&&n.type==="date"&&(h=V.decodeDate(h)),L(v,u,h);if(v.xsizemode==="pixel"){var x=u(v.xanchor);T=x+v.x0,c=x+v.x1}else T=u(v.x0),c=u(v.x1);if(v.ysizemode==="pixel"){var w=h(v.yanchor);o=w-v.y0,d=w-v.y1}else o=h(v.y0),d=h(v.y1);if(p==="line")return"M"+T+","+o+"L"+c+","+d;if(p==="rect")return"M"+T+","+o+"H"+c+"V"+d+"H"+T+"Z";var C=(T+c)/2,y=(o+d)/2,M=Math.abs(C-T),A=Math.abs(y-o),s="A"+M+","+A,E=C+M+","+y,b=C+","+(y-A);return"M"+E+s+" 0 1,1 "+b+s+" 0 0,1 "+E+"Z"};function L(S,v,p){var r=S.path,t=S.xsizemode,a=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(m.segmentRE,function(l){var u=0,g=l.charAt(0),h=m.paramIsX[g],T=m.paramIsY[g],c=m.numParams[g],o=l.substr(1).replace(m.paramRE,function(d){return h[u]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[u]&&(a==="pixel"?d=p(f)-Number(d):d=p(d)),u++,u>c&&(d="X"),d});return u>c&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+l)),g+o})}},41592:function(G,V,e){var m=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:m.draw,drawOne:m.drawOne}},97728:function(G){function V(l,u){return u?u.d2l(l):l}function e(l,u){return u?u.l2d(l):l}function m(l){return l.x0}function P(l){return l.x1}function i(l){return l.y0}function L(l){return l.y1}function S(l,u){return V(l.x1,u)-V(l.x0,u)}function v(l,u,g){return V(l.y1,g)-V(l.y0,g)}function p(l,u){return Math.abs(S(l,u))}function r(l,u,g){return Math.abs(v(l,u,g))}function t(l,u,g){return l.type!=="line"?void 0:Math.sqrt(Math.pow(S(l,u),2)+Math.pow(v(l,u,g),2))}function a(l,u){return e((V(l.x1,u)+V(l.x0,u))/2,u)}function n(l,u,g){return e((V(l.y1,g)+V(l.y0,g))/2,g)}function f(l,u,g){return l.type!=="line"?void 0:v(l,u,g)/S(l,u)}G.exports={x0:m,x1:P,y0:i,y1:L,slope:f,dx:S,dy:v,width:p,height:r,length:t,xcenter:a,ycenter:n}},89861:function(G,V,e){var m=e(25376),P=e(66741),i=e(92880).extendDeepAll,L=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:m({})},font:m({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,V,e){var m=e(3400),P=e(51272),i=e(89861),L=e(60876),S=L.name,v=i.steps;G.exports=function(a,n){P(a,n,{name:S,handleItemDefaults:p})};function p(t,a,n){function f(d,x){return m.coerce(t,a,i,d,x)}for(var l=P(t,a,{name:"steps",handleItemDefaults:r}),u=0,g=0;g<l.length;g++)l[g].visible&&u++;var h;if(u<2?h=a.visible=!1:h=f("visible"),!!h){a._stepCount=u;var T=a._visibleSteps=m.filterVisible(l),c=f("active");(l[c]||{}).visible||(a.active=T[0]._index),f("x"),f("y"),m.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font);var o=f("currentvalue.visible");o&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),m.coerceFont(f,"currentvalue.font",a.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,a){function n(u,g){return m.coerce(t,a,v,u,g)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=a.visible=!1:f=n("visible"),f){n("method"),n("args");var l=n("label","step-"+a._index);n("value",l),n("execute")}}},79664:function(G,V,e){var m=e(33428),P=e(7316),i=e(76308),L=e(43616),S=e(3400),v=S.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,l=a.FROM_BR;G.exports=function(O){var B=O._context.staticPlot,z=O._fullLayout,U=g(z,O),Z=z._infolayer.selectAll("g."+t.containerClassName).data(U.length>0?[0]:[]);Z.enter().append("g").classed(t.containerClassName,!0).style("cursor",B?null:"ew-resize");function J(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),P.autoMargin(O,u(te))}if(Z.exit().each(function(){m.select(this).selectAll("g."+t.groupClassName).each(J)}).remove(),U.length!==0){var re=Z.selectAll("g."+t.groupClassName).data(U,h);re.enter().append("g").classed(t.groupClassName,!0),re.exit().each(J).remove();for(var ne=0;ne<U.length;ne++){var ue=U[ne];T(O,ue)}re.each(function(te){var Q=m.select(this);s(te),P.manageCommandObserver(O,te,te._visibleSteps,function(ie){var Y=Q.data()[0];Y.active!==ie.index&&(Y._dragging||y(O,Q,Y,ie.index,!1,!0))}),c(O,m.select(this),te)})}};function u(_){return t.autoMarginIdRoot+_._index}function g(_,O){for(var B=_[t.name],z=[],U=0;U<B.length;U++){var Z=B[U];Z.visible&&(Z._gd=O,z.push(Z))}return z}function h(_){return _._index}function T(_,O){var B=L.tester.selectAll("g."+t.labelGroupClass).data(O._visibleSteps);B.enter().append("g").classed(t.labelGroupClass,!0);var z=0,U=0;B.each(function($){var oe=m.select(this),j=x(oe,{step:$},O),X=j.node();if(X){var se=L.bBox(X);U=Math.max(U,se.height),z=Math.max(z,se.width)}}),B.remove();var Z=O._dims={};Z.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var J=_._fullLayout._size;Z.lx=J.l+J.w*O.x,Z.ly=J.t+J.h*(1-O.y),O.lenmode==="fraction"?Z.outerLength=Math.round(J.w*O.len):Z.outerLength=O.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-O.pad.l-O.pad.r);var re=Z.inputAreaLength-2*t.stepInset,ne=re/(O._stepCount-1),ue=z+t.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(ue/ne)),Z.labelHeight=U,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,O.currentvalue.visible){var te=L.tester.append("g");B.each(function($){var oe=o(te,O,$.label),j=oe.node()&&L.bBox(oe.node())||{width:0,height:0},X=p.lineCount(oe);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(j.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(j.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,X)}),Z.currentValueTotalHeight=Z.currentValueHeight+O.currentvalue.offset,te.remove()}Z.height=Z.currentValueTotalHeight+t.tickOffset+O.ticklen+t.labelOffset+Z.labelHeight+O.pad.t+O.pad.b;var Q="left";S.isRightAnchor(O)&&(Z.lx-=Z.outerLength,Q="right"),S.isCenterAnchor(O)&&(Z.lx-=Z.outerLength/2,Q="center");var ie="top";S.isBottomAnchor(O)&&(Z.ly-=Z.height,ie="bottom"),S.isMiddleAnchor(O)&&(Z.ly-=Z.height/2,ie="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var Y={y:O.y,b:Z.height*l[ie],t:Z.height*f[ie]};O.lenmode==="fraction"?(Y.l=0,Y.xl=O.x-O.len*f[Q],Y.r=0,Y.xr=O.x+O.len*l[Q]):(Y.x=O.x,Y.l=Z.outerLength*f[Q],Y.r=Z.outerLength*l[Q]),P.autoMargin(_,u(O),Y)}function c(_,O,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),O.call(o,B).call(N,B).call(w,B).call(A,B).call(I,_,B).call(d,_,B);var z=B._dims;L.setTranslate(O,z.lx+B.pad.l,z.ly+B.pad.t),O.call(E,B,!1),O.call(o,B)}function o(_,O,B){if(O.currentvalue.visible){var z=O._dims,U,Z;switch(O.currentvalue.xanchor){case"right":U=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,Z="left";break;case"center":U=z.inputAreaLength*.5,Z="middle";break;default:U=t.currentValueInset,Z="left"}var J=S.ensureSingle(_,"text",t.labelClass,function(ie){ie.attr({"text-anchor":Z,"data-notex":1})}),re=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof B=="string")re+=B;else{var ne=O.steps[O.active].label,ue=O._gd._fullLayout._meta;ue&&(ne=S.templateString(ne,ue)),re+=ne}O.currentvalue.suffix&&(re+=O.currentvalue.suffix),J.call(L.font,O.currentvalue.font).text(re).call(p.convertToTspans,O._gd);var te=p.lineCount(J),Q=(z.currentValueMaxLines+1-te)*O.currentvalue.font.size*n;return p.positionText(J,U,Q),J}}function d(_,O,B){var z=S.ensureSingle(_,"rect",t.gripRectClass,function(U){U.call(M,O,_,B).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(i.stroke,B.bordercolor).call(i.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function x(_,O,B){var z=S.ensureSingle(_,"text",t.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),U=O.step.label,Z=B._gd._fullLayout._meta;return Z&&(U=S.templateString(U,Z)),z.call(L.font,B.font).text(U).call(p.convertToTspans,B._gd),z}function w(_,O){var B=S.ensureSingle(_,"g",t.labelsClass),z=O._dims,U=B.selectAll("g."+t.labelGroupClass).data(z.labelSteps);U.enter().append("g").classed(t.labelGroupClass,!0),U.exit().remove(),U.each(function(Z){var J=m.select(this);J.call(x,Z,O),L.setTranslate(J,b(O,Z.fraction),t.tickOffset+O.ticklen+O.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function C(_,O,B,z,U){var Z=Math.round(z*(B._stepCount-1)),J=B._visibleSteps[Z]._index;J!==B.active&&y(_,O,B,J,!0,U)}function y(_,O,B,z,U,Z){var J=B.active;B.active=z,r(_.layout,t.name,B).applyUpdate("active",z);var re=B.steps[B.active];O.call(E,B,Z),O.call(o,B),_.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:U,previousActive:J}),re&&re.method&&U&&(O._nextMethod?(O._nextMethod.step=re,O._nextMethod.doCallback=U,O._nextMethod.doTransition=Z):(O._nextMethod={step:re,doCallback:U,doTransition:Z},O._nextMethodRaf=window.requestAnimationFrame(function(){var ne=O._nextMethod.step;ne.method&&(ne.execute&&P.executeAPICommand(_,ne.method,ne.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function M(_,O,B){if(O._context.staticPlot)return;var z=B.node(),U=m.select(O);function Z(){return B.data()[0]}function J(){var re=Z();O.emit("plotly_sliderstart",{slider:re});var ne=B.select("."+t.gripRectClass);m.event.stopPropagation(),m.event.preventDefault(),ne.call(i.fill,re.activebgcolor);var ue=F(re,m.mouse(z)[0]);C(O,B,re,ue,!0),re._dragging=!0;function te(){var ie=Z(),Y=F(ie,m.mouse(z)[0]);C(O,B,ie,Y,!1)}U.on("mousemove",te),U.on("touchmove",te);function Q(){var ie=Z();ie._dragging=!1,ne.call(i.fill,ie.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),O.emit("plotly_sliderend",{slider:ie,step:ie.steps[ie.active]})}U.on("mouseup",Q),U.on("touchend",Q)}_.on("mousedown",J),_.on("touchstart",J)}function A(_,O){var B=_.selectAll("rect."+t.tickRectClass).data(O._visibleSteps),z=O._dims;B.enter().append("rect").classed(t.tickRectClass,!0),B.exit().remove(),B.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(U,Z){var J=Z%z.labelStride===0,re=m.select(this);re.attr({height:J?O.ticklen:O.minorticklen}).call(i.fill,O.tickcolor),L.setTranslate(re,b(O,Z/(O._stepCount-1))-.5*O.tickwidth,(J?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function s(_){var O=_._dims;O.labelSteps=[];for(var B=_._stepCount,z=0;z<B;z+=O.labelStride)O.labelSteps.push({fraction:z/(B-1),step:_._visibleSteps[z]})}function E(_,O,B){for(var z=_.select("rect."+t.gripRectClass),U=0,Z=0;Z<O._stepCount;Z++)if(O._visibleSteps[Z]._index===O.active){U=Z;break}var J=b(O,U/(O._stepCount-1));if(!O._invokingCommand){var re=z;B&&O.transition.duration>0&&(re=re.transition().duration(O.transition.duration).ease(O.transition.easing)),re.attr("transform",v(J-t.gripWidth*.5,O._dims.currentValueTotalHeight))}}function b(_,O){var B=_._dims;return B.inputAreaStart+t.stepInset+(B.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,O))}function F(_,O){var B=_._dims;return Math.min(1,Math.max(0,(O-t.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*t.stepInset-2*B.inputAreaStart)))}function I(_,O,B){var z=B._dims,U=S.ensureSingle(_,"rect",t.railTouchRectClass,function(Z){Z.call(M,O,_,B).style("pointer-events","all")});U.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+B.ticklen+z.labelHeight)}).call(i.fill,B.bgcolor).attr("opacity",0),L.setTranslate(U,0,z.currentValueTotalHeight)}function N(_,O){var B=O._dims,z=B.inputAreaLength-t.railInset*2,U=S.ensureSingle(_,"rect",t.railRectClass);U.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,O.bordercolor).call(i.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),L.setTranslate(U,t.railInset,(B.inputAreaWidth-t.railWidth)*.5+B.currentValueTotalHeight)}},97544:function(G,V,e){var m=e(60876);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,V,e){var m=e(33428),P=e(38248),i=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(43616),r=e(76308),t=e(72736),a=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function l(u,g,h){var T=h.propContainer,c=h.propName,o=h.placeholder,d=h.traceIndex,x=h.avoid||{},w=h.attributes,C=h.transform,y=h.containerGroup,M=u._fullLayout,A=1,s=!1,E=T.title,b=(E&&E.text?E.text:"").trim(),F=E&&E.font?E.font:{},I=F.family,N=F.size,_=F.color,O=F.weight,B=F.style,z=F.variant,U=F.textcase,Z=F.lineposition,J=F.shadow,re;c==="title.text"?re="titleText":c.indexOf("axis")!==-1?re="axisTitleText":c.indexOf("colorbar"!==-1)&&(re="colorbarTitleText");var ne=u._context.edits[re];b===""?A=0:b.replace(f," % ")===o.replace(f," % ")&&(A=.2,s=!0,ne||(b="")),h._meta?b=S.templateString(b,h._meta):M._meta&&(b=S.templateString(b,M._meta));var ue=b||ne,te;y||(y=S.ensureSingle(M._infolayer,"g","g-"+g),te=M._hColorbarMoveTitle);var Q=y.selectAll("text").data(ue?[0]:[]);if(Q.enter().append("text"),Q.text(b).attr("class",g),Q.exit().remove(),!ue)return y;function ie(j){S.syncOrAsync([Y,$],j)}function Y(j){var X;return!C&&te&&(C={}),C?(X="",C.rotate&&(X+="rotate("+[C.rotate,w.x,w.y]+")"),(C.offset||te)&&(X+=v(0,(C.offset||0)-(te||0)))):X=null,j.attr("transform",X),j.style("opacity",A*r.opacity(_)).call(p.font,{color:r.rgb(_),size:m.round(N,2),family:I,weight:O,style:B,variant:z,textcase:U,shadow:J,lineposition:Z}).attr(w).call(t.convertToTspans,u),i.previousPromises(u)}function $(j){var X=m.select(j.node().parentNode);if(x&&x.selection&&x.side&&b){X.attr("transform",null);var se=n[x.side],q=x.side==="left"||x.side==="top"?-1:1,ce=P(x.pad)?x.pad:2,ye=p.bBox(X.node()),we={t:0,b:0,l:0,r:0},be=u._fullLayout._reservedMargin;for(var De in be)for(var ke in be[De]){var Be=be[De][ke];we[ke]=Math.max(we[ke],Be)}var Ae={left:we.l,top:we.t,right:M.width-we.r,bottom:M.height-we.b},Ie=x.maxShift||q*(Ae[x.side]-ye[x.side]),Me=0;if(Ie<0)Me=Ie;else{var Fe=x.offsetLeft||0,Ee=x.offsetTop||0;ye.left-=Fe,ye.right-=Fe,ye.top-=Ee,ye.bottom-=Ee,x.selection.each(function(){var rt=p.bBox(this);S.bBoxIntersect(ye,rt,ce)&&(Me=Math.max(Me,q*(rt[x.side]-ye[se])+ce))}),Me=Math.min(Ie,Me),T._titleScoot=Math.abs(Me)}if(Me>0||Ie<0){var He={left:[-Me,0],right:[Me,0],top:[0,-Me],bottom:[0,Me]}[x.side];X.attr("transform",v(He[0],He[1]))}}}Q.call(ie);function oe(){A=0,s=!0,Q.text(o).on("mouseover.opacity",function(){m.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})}return ne&&(b?Q.on(".opacity",null):oe(),Q.call(t.makeEditable,{gd:u}).on("edit",function(j){d!==void 0?L.call("_guiRestyle",u,c,j,d):L.call("_guiRelayout",u,c,j)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ie)}).on("input",function(j){this.text(j||" ").call(t.positionText,w.x,w.y)})),Q.classed("js-placeholder",s),y}G.exports={draw:l}},88444:function(G,V,e){var m=e(25376),P=e(22548),i=e(92880).extendFlat,L=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(S({editType:"arraydraw"}),{}),font:m({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(G,V,e){var m=e(3400),P=e(51272),i=e(88444),L=e(73712),S=L.name,v=i.buttons;G.exports=function(a,n){var f={name:S,handleItemDefaults:p};P(a,n,f)};function p(t,a,n){function f(g,h){return m.coerce(t,a,i,g,h)}var l=P(t,a,{name:"buttons",handleItemDefaults:r}),u=f("visible",l.length>0);u&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),m.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,a){function n(l,u){return m.coerce(t,a,v,l,u)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,V,e){var m=e(33428),P=e(7316),i=e(76308),L=e(43616),S=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),a=e(37400);G.exports=function(F){var I=F._fullLayout,N=S.filterVisible(I[t.name]);function _(ne){P.autoMargin(F,A(ne))}var O=I._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){m.select(this).selectAll("g."+t.headerGroupClassName).each(_)}).remove(),N.length!==0){var B=O.selectAll("g."+t.headerGroupClassName).data(N,n);B.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=S.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),U=0;U<N.length;U++){var Z=N[U];M(F,Z)}var J="updatemenus"+I._uid,re=new a(F,z,J);B.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(E)),B.exit().each(function(ne){z.call(E),_(ne)}).remove(),B.each(function(ne){var ue=m.select(this),te=ne.type==="dropdown"?z:null;P.manageCommandObserver(F,ne,ne.buttons,function(Q){u(F,ne,ne.buttons[Q.index],ue,te,re,Q.index,!0)}),ne.type==="dropdown"?(g(F,ue,z,re,ne),l(z,ne)&&h(F,ue,z,re,ne)):h(F,ue,null,null,ne)})}};function n(b){return b._index}function f(b){return+b.attr(t.menuIndexAttrName)==-1}function l(b,F){return+b.attr(t.menuIndexAttrName)===F._index}function u(b,F,I,N,_,O,B,z){F.active=B,p(b.layout,t.name,F).applyUpdate("active",B),F.type==="buttons"?h(b,N,null,null,F):F.type==="dropdown"&&(_.attr(t.menuIndexAttrName,"-1"),g(b,N,_,O,F),z||h(b,N,_,O,F))}function g(b,F,I,N,_){var O=S.ensureSingle(F,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),B=_._dims,z=_.active,U=_.buttons[z]||t.blankHeaderOpts,Z={y:_.pad.t,yPad:0,x:_.pad.l,xPad:0,index:0},J={width:B.headerWidth,height:B.headerHeight};O.call(o,_,U,b).call(s,_,Z,J);var re=S.ensureSingle(F,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(L.font,_.font).text(t.arrowSymbol[_.direction])});re.attr({x:B.headerWidth-t.arrowOffsetX+_.pad.l,y:B.headerHeight/2+t.textOffsetY+_.pad.t}),O.on("click",function(){I.call(E,String(l(I,_)?-1:_._index)),h(b,F,I,N,_)}),O.on("mouseover",function(){O.call(C)}),O.on("mouseout",function(){O.call(y,_)}),L.setTranslate(F,B.lx,B.ly)}function h(b,F,I,N,_){I||(I=F,I.attr("pointer-events","all"));var O=!f(I)||_.type==="buttons"?_.buttons:[],B=_.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=I.selectAll("g."+B).data(S.filterVisible(O)),U=z.enter().append("g").classed(B,!0),Z=z.exit();_.type==="dropdown"?(U.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var J=0,re=0,ne=_._dims,ue=["up","down"].indexOf(_.direction)!==-1;_.type==="dropdown"&&(ue?re=ne.headerHeight+t.gapButtonHeader:J=ne.headerWidth+t.gapButtonHeader),_.type==="dropdown"&&_.direction==="up"&&(re=-t.gapButtonHeader+t.gapButton-ne.openHeight),_.type==="dropdown"&&_.direction==="left"&&(J=-t.gapButtonHeader+t.gapButton-ne.openWidth);var te={x:ne.lx+J+_.pad.l,y:ne.ly+re+_.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Q={l:te.x+_.borderwidth,t:te.y+_.borderwidth};z.each(function(ie,Y){var $=m.select(this);$.call(o,_,ie,b).call(s,_,te),$.on("click",function(){m.event.defaultPrevented||(ie.execute&&(ie.args2&&_.active===Y?(u(b,_,ie,F,I,N,-1),P.executeAPICommand(b,ie.method,ie.args2)):(u(b,_,ie,F,I,N,Y),P.executeAPICommand(b,ie.method,ie.args))),b.emit("plotly_buttonclicked",{menu:_,button:ie,active:_.active}))}),$.on("mouseover",function(){$.call(C)}),$.on("mouseout",function(){$.call(y,_),z.call(w,_)})}),z.call(w,_),ue?(Q.w=Math.max(ne.openWidth,ne.headerWidth),Q.h=te.y-Q.t):(Q.w=te.x-Q.l,Q.h=Math.max(ne.openHeight,ne.headerHeight)),Q.direction=_.direction,N&&(z.size()?T(b,F,I,N,_,Q):c(N))}function T(b,F,I,N,_,O){var B=_.direction,z=B==="up"||B==="down",U=_._dims,Z=_.active,J,re,ne;if(z)for(re=0,ne=0;ne<Z;ne++)re+=U.heights[ne]+t.gapButton;else for(J=0,ne=0;ne<Z;ne++)J+=U.widths[ne]+t.gapButton;N.enable(O,J,re),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(b){var F=!!b.hbar,I=!!b.vbar;F&&b.hbar.transition().attr("opacity","0").each("end",function(){F=!1,I||b.disable()}),I&&b.vbar.transition().attr("opacity","0").each("end",function(){I=!1,F||b.disable()})}function o(b,F,I,N){b.call(d,F).call(x,F,I,N)}function d(b,F){var I=S.ensureSingle(b,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function x(b,F,I,N){var _=S.ensureSingle(b,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),O=I.label,B=N._fullLayout._meta;B&&(O=S.templateString(O,B)),_.call(L.font,F.font).text(O).call(v.convertToTspans,N)}function w(b,F){var I=F.active;b.each(function(N,_){var O=m.select(this);_===I&&F.showactive&&O.select("rect."+t.itemRectClassName).call(i.fill,t.activeColor)})}function C(b){b.select("rect."+t.itemRectClassName).call(i.fill,t.hoverColor)}function y(b,F){b.select("rect."+t.itemRectClassName).call(i.fill,F.bgcolor)}function M(b,F){var I=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=L.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(F.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var _=["up","down"].indexOf(F.direction)!==-1;N.each(function(J,re){var ne=m.select(this);ne.call(o,F,J,b);var ue=ne.select("."+t.itemTextClassName),te=ue.node()&&L.bBox(ue.node()).width,Q=Math.max(te+t.textPadX,t.minWidth),ie=F.font.size*r,Y=v.lineCount(ue),$=Math.max(ie*Y,t.minHeight)+t.textOffsetY;$=Math.ceil($),Q=Math.ceil(Q),I.widths[re]=Q,I.heights[re]=$,I.height1=Math.max(I.height1,$),I.width1=Math.max(I.width1,Q),_?(I.totalWidth=Math.max(I.totalWidth,Q),I.openWidth=I.totalWidth,I.totalHeight+=$+t.gapButton,I.openHeight+=$+t.gapButton):(I.totalWidth+=Q+t.gapButton,I.openWidth+=Q+t.gapButton,I.totalHeight=Math.max(I.totalHeight,$),I.openHeight=I.totalHeight)}),_?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,F.type==="dropdown"&&(_?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),N.remove();var O=I.totalWidth+F.pad.l+F.pad.r,B=I.totalHeight+F.pad.t+F.pad.b,z=b._fullLayout._size;I.lx=z.l+z.w*F.x,I.ly=z.t+z.h*(1-F.y);var U="left";S.isRightAnchor(F)&&(I.lx-=O,U="right"),S.isCenterAnchor(F)&&(I.lx-=O/2,U="center");var Z="top";S.isBottomAnchor(F)&&(I.ly-=B,Z="bottom"),S.isMiddleAnchor(F)&&(I.ly-=B/2,Z="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(b,A(F),{x:F.x,y:F.y,l:O*({right:1,center:.5}[U]||0),r:O*({left:1,center:.5}[U]||0),b:B*({top:1,middle:.5}[Z]||0),t:B*({bottom:1,middle:.5}[Z]||0)})}function A(b){return t.autoMarginIdRoot+b._index}function s(b,F,I,N){N=N||{};var _=b.select("."+t.itemRectClassName),O=b.select("."+t.itemTextClassName),B=F.borderwidth,z=I.index,U=F._dims;L.setTranslate(b,B+I.x,B+I.y);var Z=["up","down"].indexOf(F.direction)!==-1,J=N.height||(Z?U.heights[z]:U.height1);_.attr({x:0,y:0,width:N.width||(Z?U.width1:U.widths[z]),height:J});var re=F.font.size*r,ne=v.lineCount(O),ue=(ne-1)*re/2;v.positionText(O,t.textOffsetX,J/2-ue+t.textOffsetY),Z?I.y+=U.heights[z]+I.yPad:I.x+=U.widths[z]+I.xPad,I.index++}function E(b,F){b.attr(t.menuIndexAttrName,F||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,V,e){var m=e(73712);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,V,e){G.exports=S;var m=e(33428),P=e(76308),i=e(43616),L=e(3400);function S(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(p,r,t){var a=this.gd._fullLayout,n=a.width,f=a.height;this.position=p;var l=this.position.l,u=this.position.w,g=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",o=T==="left",d=T==="right",x=T==="up",w=u,C=h,y,M,A,s;!c&&!o&&!d&&!x&&(this.position.direction="down",c=!0);var E=c||x;E?(y=l,M=y+w,c?(A=g,s=Math.min(A+C,f),C=s-A):(s=g+C,A=Math.max(s-C,0),C=s-A)):(A=g,s=A+C,o?(M=l+w,y=Math.max(M-w,0),w=M-y):(y=l,M=Math.min(y+w,n),w=M-y)),this._box={l:y,t:A,w,h:C};var b=u>w,F=S.barLength+2*S.barPad,I=S.barWidth+2*S.barPad,N=l,_=g+h;_+I>f&&(_=f-I);var O=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,S.barColor),b?(this.hbar=O.attr({rx:S.barRadius,ry:S.barRadius,x:N,y:_,width:F,height:I}),this._hbarXMin=N+F/2,this._hbarTranslateMax=w-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=h>C,z=S.barWidth+2*S.barPad,U=S.barLength+2*S.barPad,Z=l+u,J=g;Z+z>n&&(Z=n-z);var re=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,S.barColor),B?(this.vbar=re.attr({rx:S.barRadius,ry:S.barRadius,x:Z,y:J,width:z,height:U}),this._vbarYMin=J+U/2,this._vbarTranslateMax=C-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,ue=y-.5,te=B?M+z+.5:M+.5,Q=A-.5,ie=b?s+I+.5:s+.5,Y=a._topdefs.selectAll("#"+ne).data(b||B?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ne).append("rect"),b||B?(this._clipRect=Y.select("rect").attr({x:Math.floor(ue),y:Math.floor(Q),width:Math.ceil(te)-Math.floor(ue),height:Math.ceil(ie)-Math.floor(Q)}),this.container.call(i.setClipUrl,ne,this.gd),this.bg.attr({x:l,y:g,width:u,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),b||B){var $=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call($);var oe=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault(),m.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(oe),B&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=m.event.dx),this.vbar&&(r-=m.event.dy),this.setTranslate(p,r)},S.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=m.event.deltaY),this.vbar&&(r+=m.event.deltaY),this.setTranslate(p,r)},S.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,a=t+this._hbarTranslateMax,n=L.constrain(m.event.x,t,a),f=(n-t)/(a-t),l=this.position.w-this._box.w;p=f*l}if(this.vbar){var u=r+this._vbarYMin,g=u+this._vbarTranslateMax,h=L.constrain(m.event.y,u,g),T=(h-u)/(g-u),c=this.position.h-this._box.h;r=T*c}this.setTranslate(p,r)},S.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,a),this.translateX=p,this.translateY=r,this.container.call(i.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(i.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/a;this.vbar.call(i.setTranslate,p,r+f*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(V,e,m){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+m+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",m,"of the domain of the","second",V,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(G,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},64884:function(G,V,e){V.version=e(25788).version,e(88324),e(79288);for(var m=e(24040),P=V.register=m.register,i=e(22448),L=Object.keys(i),S=0;S<L.length;S++){var v=L[S];v.charAt(0)!=="_"&&(V[v]=i[v]),P({moduleType:"apiMethod",name:v,fn:i[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(9224);var p=e(93024),r=e(7316);V.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(78904),V.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,V){V.isLeftAnchor=function(m){return m.xanchor==="left"||m.xanchor==="auto"&&m.x<=.3333333333333333},V.isCenterAnchor=function(m){return m.xanchor==="center"||m.xanchor==="auto"&&m.x>.3333333333333333&&m.x<.6666666666666666},V.isRightAnchor=function(m){return m.xanchor==="right"||m.xanchor==="auto"&&m.x>=.6666666666666666},V.isTopAnchor=function(m){return m.yanchor==="top"||m.yanchor==="auto"&&m.y>=.6666666666666666},V.isMiddleAnchor=function(m){return m.yanchor==="middle"||m.yanchor==="auto"&&m.y>.3333333333333333&&m.y<.6666666666666666},V.isBottomAnchor=function(m){return m.yanchor==="bottom"||m.yanchor==="auto"&&m.y<=.3333333333333333}},11864:function(G,V,e){var m=e(20435),P=m.mod,i=m.modHalf,L=Math.PI,S=2*L;function v(T){return T/180*L}function p(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>S-1e-14}function t(T,c){return i(c-T,S)}function a(T,c){return Math.abs(t(T,c))}function n(T,c){if(r(c))return!0;var o,d;c[0]<c[1]?(o=c[0],d=c[1]):(o=c[1],d=c[0]),o=P(o,S),d=P(d,S),o>d&&(d+=S);var x=P(T,S),w=x+S;return x>=o&&x<=d||w>=o&&w<=d}function f(T,c,o,d){if(!n(c,d))return!1;var x,w;return o[0]<o[1]?(x=o[0],w=o[1]):(x=o[1],w=o[0]),T>=x&&T<=w}function l(T,c,o,d,x,w,C){x=x||0,w=w||0;var y=r([o,d]),M,A,s,E,b;y?(M=0,A=L,s=S):o<d?(M=o,s=d):(M=d,s=o),T<c?(E=T,b=c):(E=c,b=T);function F(O,B){return[O*Math.cos(B)+x,w-O*Math.sin(B)]}var I=Math.abs(s-M)<=L?0:1;function N(O,B,z){return"A"+[O,O]+" "+[0,I,z]+" "+F(O,B)}var _;return y?E===null?_="M"+F(b,M)+N(b,A,0)+N(b,s,0)+"Z":_="M"+F(E,M)+N(E,A,0)+N(E,s,0)+"ZM"+F(b,M)+N(b,A,1)+N(b,s,1)+"Z":E===null?(_="M"+F(b,M)+N(b,s,0),C&&(_+="L0,0Z")):_="M"+F(E,M)+"L"+F(b,M)+N(b,s,0)+"L"+F(E,s)+N(E,M,1)+"Z",_}function u(T,c,o,d,x){return l(null,T,c,o,d,x,0)}function g(T,c,o,d,x){return l(null,T,c,o,d,x,1)}function h(T,c,o,d,x,w){return l(T,c,o,d,x,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:a,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:u,pathSector:g,pathAnnulus:h}},38116:function(G,V,e){var m=e(83160).decode,P=e(63620),i=Array.isArray,L=ArrayBuffer,S=DataView;function v(l){return L.isView(l)&&!(l instanceof S)}V.isTypedArray=v;function p(l){return i(l)||v(l)}V.isArrayOrTypedArray=p;function r(l){return!p(l[0])}V.isArray1D=r,V.ensureArray=function(l,u){return i(l)||(l=[]),l.length=u,l};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function a(l){return l.constructor===ArrayBuffer}V.isArrayBuffer=a,V.decodeTypedArraySpec=function(l){var u=[],g=n(l),h=g.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,o=g.bdata;a(o)||(o=m(o));var d=g.shape===void 0?[o.byteLength/c]:(""+g.shape).split(",");d.reverse();var x=d.length,w,C,y=+d[0],M=c*y,A=0;if(x===1)u=new T(o);else if(x===2)for(w=+d[1],C=0;C<w;C++)u[C]=new T(o,A,y),A+=M;else if(x===3){w=+d[1];for(var s=+d[2],E=0;E<s;E++)for(u[E]=[],C=0;C<w;C++)u[E][C]=new T(o,A,y),A+=M}else throw new Error("ndim: "+x+'is not supported with the shape:"'+g.shape+'"');return u.bdata=g.bdata,u.dtype=g.dtype,u.shape=d.reverse().join(","),l._inputArray=u,u},V.isTypedArraySpec=function(l){return P(l)&&l.hasOwnProperty("dtype")&&typeof l.dtype=="string"&&l.hasOwnProperty("bdata")&&(typeof l.bdata=="string"||a(l.bdata))&&(l.shape===void 0||l.hasOwnProperty("shape")&&(typeof l.shape=="string"||typeof l.shape=="number"))};function n(l){return{bdata:l.bdata,dtype:l.dtype,shape:l.shape}}V.concat=function(){var l=[],u=!0,g=0,h,T,c,o,d,x,w,C;for(c=0;c<arguments.length;c++)o=arguments[c],x=o.length,x&&(T?l.push(o):(T=o,d=x),i(o)?h=!1:(u=!1,g?h!==o.constructor&&(h=!1):h=o.constructor),g+=x);if(!g)return[];if(!l.length)return T;if(u)return T.concat.apply(T,l);if(h){for(w=new h(g),w.set(T),c=0;c<l.length;c++)o=l[c],w.set(o,d),d+=o.length;return w}for(w=new Array(g),C=0;C<T.length;C++)w[C]=T[C];for(c=0;c<l.length;c++){for(o=l[c],C=0;C<o.length;C++)w[d+C]=o[C];d+=C}return w},V.maxRowLength=function(l){return f(l,Math.max,0)},V.minRowLength=function(l){return f(l,Math.min,1/0)};function f(l,u,g){if(p(l))if(p(l[0])){for(var h=g,T=0;T<l.length;T++)h=u(h,l[T].length);return h}else return l.length;return 0}},54037:function(G,V,e){var m=e(38248),P=e(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(S){return typeof S=="string"&&(S=S.replace(i,"")),m(S)?Number(S):P}},73696:function(G){G.exports=function(e){var m=e._fullLayout;m._glcanvas&&m._glcanvas.size()&&m._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,V,e){var m=e(38248),P=e(49760),i=e(92880).extendFlat,L=e(45464),S=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,a=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,f=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;V.valObjectMeta={data_array:{coerceFunction:function(g,h,T){h.set(n(g)?g:f(g)?l(g):T)}},enumerated:{coerceFunction:function(g,h,T,c){c.coerceNumber&&(g=+g),c.values.indexOf(g)===-1?h.set(T):h.set(g)},validateFunction:function(g,h){h.coerceNumber&&(g=+g);for(var T=h.values,c=0;c<T.length;c++){var o=String(T[c]);if(o.charAt(0)==="/"&&o.charAt(o.length-1)==="/"){var d=new RegExp(o.substr(1,o.length-2));if(d.test(g))return!0}else if(g===T[c])return!0}return!1}},boolean:{coerceFunction:function(g,h,T){g===!0||g===!1?h.set(g):h.set(T)}},number:{coerceFunction:function(g,h,T,c){f(g)&&(g=l(g)),!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},integer:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}f(g)&&(g=l(g)),g%1||!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},string:{coerceFunction:function(g,h,T,c){if(typeof g!="string"){var o=typeof g=="number";c.strict===!0||!o?h.set(T):h.set(String(g))}else c.noBlank&&!g?h.set(T):h.set(g)}},color:{coerceFunction:function(g,h,T){f(g)&&(g=l(g)),P(g).isValid()?h.set(g):h.set(T)}},colorlist:{coerceFunction:function(g,h,T){function c(o){return P(o).isValid()}!Array.isArray(g)||!g.length?h.set(T):g.every(c)?h.set(g):h.set(T)}},colorscale:{coerceFunction:function(g,h,T){h.set(S.get(g,T))}},angle:{coerceFunction:function(g,h,T){f(g)&&(g=l(g)),g==="auto"?h.set("auto"):m(g)?h.set(a(+g,360)):h.set(T)}},subplotid:{coerceFunction:function(g,h,T,c){var o=c.regex||t(T);if(typeof g=="string"&&o.test(g)){h.set(g);return}h.set(T)},validateFunction:function(g,h){var T=h.dflt;return g===T?!0:typeof g!="string"?!1:!!t(T).test(g)}},flaglist:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}if(typeof g!="string"){h.set(T);return}for(var o=g.split("+"),d=0;d<o.length;){var x=o[d];c.flags.indexOf(x)===-1||o.indexOf(x)<d?o.splice(d,1):d++}o.length?h.set(o.join("+")):h.set(T)}},any:{coerceFunction:function(g,h,T){g===void 0?h.set(T):h.set(f(g)?l(g):g)}},info_array:{coerceFunction:function(g,h,T,c){function o(_,O,B){var z,U={set:function(Z){z=Z}};return B===void 0&&(B=O.dflt),V.valObjectMeta[O.valType].coerceFunction(_,U,B,O),z}if(f(g)&&(g=l(g)),!n(g)){h.set(T);return}var d=c.dimensions===2||c.dimensions==="1-2"&&Array.isArray(g)&&n(g[0]),x=c.items,w=[],C=Array.isArray(x),y=C&&d&&n(x[0]),M=d&&C&&!y,A=C&&!M?x.length:g.length,s,E,b,F,I,N;if(T=Array.isArray(T)?T:[],d)for(s=0;s<A;s++)for(w[s]=[],b=n(g[s])?g[s]:[],M?I=x.length:C?I=x[s].length:I=b.length,E=0;E<I;E++)M?F=x[E]:C?F=x[s][E]:F=x,N=o(b[E],F,(T[s]||[])[E]),N!==void 0&&(w[s][E]=N);else for(s=0;s<A;s++)N=o(g[s],C?x[s]:x,T[s]),N!==void 0&&(w[s]=N);h.set(w)},validateFunction:function(g,h){if(!n(g))return!1;var T=h.items,c=Array.isArray(T),o=h.dimensions===2;if(!h.freeLength&&g.length!==T.length)return!1;for(var d=0;d<g.length;d++)if(o){if(!n(g[d])||!h.freeLength&&g[d].length!==T[d].length)return!1;for(var x=0;x<g[d].length;x++)if(!u(g[d][x],c?T[d][x]:T))return!1}else if(!u(g[d],c?T[d]:T))return!1;return!0}}},V.coerce=function(g,h,T,c,o){var d=r(T,c).get(),x=r(g,c),w=r(h,c),C=x.get(),y=h._template;if(C===void 0&&y&&(C=r(y,c).get(),y=0),o===void 0&&(o=d.dflt),d.arrayOk){if(n(C))return w.set(C),C;if(f(C))return C=l(C),w.set(C),C}var M=V.valObjectMeta[d.valType].coerceFunction;M(C,w,o,d);var A=w.get();return y&&A===o&&!u(C,d)&&(C=r(y,c).get(),M(C,w,o,d),A=w.get()),A},V.coerce2=function(g,h,T,c,o){var d=r(g,c),x=V.coerce(g,h,T,c,o),w=d.get();return w!=null?x:!1},V.coerceFont=function(g,h,T,c){c||(c={}),T=i({},T),T=i(T,c.overrideDflt||{});var o={family:g(h+".family",T.family),size:g(h+".size",T.size),color:g(h+".color",T.color),weight:g(h+".weight",T.weight),style:g(h+".style",T.style)};if(c.noFontVariant||(o.variant=g(h+".variant",T.variant)),c.noFontLineposition||(o.lineposition=g(h+".lineposition",T.lineposition)),c.noFontTextcase||(o.textcase=g(h+".textcase",T.textcase)),!c.noFontShadow){var d=T.shadow;d==="none"&&c.autoShadowDflt&&(d="auto"),o.shadow=g(h+".shadow",d)}return o},V.coercePattern=function(g,h,T,c){var o=g(h+".shape");if(o){g(h+".solidity"),g(h+".size");var d=g(h+".fillmode"),x=d==="overlay";if(!c){var w=g(h+".bgcolor",x?T:void 0);g(h+".fgcolor",x?v.contrast(w):T)}g(h+".fgopacity",x?.5:1)}},V.coerceHoverinfo=function(g,h,T){var c=h._module.attributes,o=c.hoverinfo?c:L,d=o.hoverinfo,x;if(T._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),x=w.join("+")}return V.coerce(g,h,o,"hoverinfo",x)},V.coerceSelectionMarkerOpacity=function(g,h){if(g.marker){var T=g.marker.opacity;if(T!==void 0){var c,o;!n(T)&&!g.selected&&!g.unselected&&(c=T,o=p*T),h("selected.marker.opacity",c),h("unselected.marker.opacity",o)}}};function u(g,h){var T=V.valObjectMeta[h.valType];if(h.arrayOk&&n(g))return!0;if(T.validateFunction)return T.validateFunction(g,h);var c={},o=c,d={set:function(x){o=x}};return T.coerceFunction(g,d,c,h),o!==c}V.validate=u},67555:function(G,V,e){var m=e(94336).Yn,P=e(38248),i=e(24248),L=e(20435).mod,S=e(39032),v=S.BADNUM,p=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,a=S.ONESEC,n=S.EPOCHJD,f=e(24040),l=e(94336).E9,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(_){return _&&f.componentsRegistry.calendars&&typeof _=="string"&&_!=="gregorian"}V.dateTick0=function(_,O){var B=c(_,!!O);if(O<2)return B;var z=V.dateTime2ms(B,_);return z+=p*(O-1),V.ms2DateTime(z,0,_)};function c(_,O){return T(_)?O?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[_]:f.getComponentMethod("calendars","CANONICAL_TICK")[_]:O?"2000-01-02":"2000-01-01"}V.dfltRange=function(_){return T(_)?f.getComponentMethod("calendars","DFLTRANGE")[_]:["2000-01-01","2001-01-01"]},V.isJSDate=function(_){return typeof _=="object"&&_!==null&&typeof _.getTime=="function"};var o,d;V.dateTime2ms=function(_,O){if(V.isJSDate(_)){var B=_.getTimezoneOffset()*t,z=(_.getUTCMinutes()-_.getMinutes())*t+(_.getUTCSeconds()-_.getSeconds())*a+(_.getUTCMilliseconds()-_.getMilliseconds());if(z){var U=3*t;B=B-U/2+L(z-B+U/2,U)}return _=Number(_)-B,_>=o&&_<=d?_:v}if(typeof _!="string"&&typeof _!="number")return v;_=String(_);var Z=T(O),J=_.charAt(0);Z&&(J==="G"||J==="g")&&(_=_.substr(1),O="");var re=Z&&O.substr(0,7)==="chinese",ne=_.match(re?g:u);if(!ne)return v;var ue=ne[1],te=ne[3]||"1",Q=Number(ne[5]||1),ie=Number(ne[7]||0),Y=Number(ne[9]||0),$=Number(ne[11]||0);if(Z){if(ue.length===2)return v;ue=Number(ue);var oe;try{var j=f.getComponentMethod("calendars","getCal")(O);if(re){var X=te.charAt(te.length-1)==="i";te=parseInt(te,10),oe=j.newDate(ue,j.toMonthIndex(ue,te,X),Q)}else oe=j.newDate(ue,Number(te),Q)}catch{return v}return oe?(oe.toJD()-n)*p+ie*r+Y*t+$*a:v}ue.length===2?ue=(Number(ue)+2e3-h)%100+h:ue=Number(ue),te-=1;var se=new Date(Date.UTC(2e3,te,Q,ie,Y));return se.setUTCFullYear(ue),se.getUTCMonth()!==te||se.getUTCDate()!==Q?v:se.getTime()+$*a},o=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(_,O){return V.dateTime2ms(_,O)!==v};function x(_,O){return String(_+Math.pow(10,O)).substr(1)}var w=90*p,C=3*r,y=5*t;V.ms2DateTime=function(_,O,B){if(typeof _!="number"||!(_>=o&&_<=d))return v;O||(O=0);var z=Math.floor(L(_+.05,1)*10),U=Math.round(_-z/10),Z,J,re,ne,ue,te;if(T(B)){var Q=Math.floor(U/p)+n,ie=Math.floor(L(_,p));try{Z=f.getComponentMethod("calendars","getCal")(B).fromJD(Q).formatDate("yyyy-mm-dd")}catch{Z=l("G%Y-%m-%d")(new Date(U))}if(Z.charAt(0)==="-")for(;Z.length<11;)Z="-0"+Z.substr(1);else for(;Z.length<10;)Z="0"+Z;J=O<w?Math.floor(ie/r):0,re=O<w?Math.floor(ie%r/t):0,ne=O<C?Math.floor(ie%t/a):0,ue=O<y?ie%a*10+z:0}else te=new Date(U),Z=l("%Y-%m-%d")(te),J=O<w?te.getUTCHours():0,re=O<w?te.getUTCMinutes():0,ne=O<C?te.getUTCSeconds():0,ue=O<y?te.getUTCMilliseconds()*10+z:0;return M(Z,J,re,ne,ue)},V.ms2DateTimeLocal=function(_){if(!(_>=o+p&&_<=d-p))return v;var O=Math.floor(L(_+.05,1)*10),B=new Date(Math.round(_-O/10)),z=m("%Y-%m-%d")(B),U=B.getHours(),Z=B.getMinutes(),J=B.getSeconds(),re=B.getUTCMilliseconds()*10+O;return M(z,U,Z,J,re)};function M(_,O,B,z,U){if((O||B||z||U)&&(_+=" "+x(O,2)+":"+x(B,2),(z||U)&&(_+=":"+x(z,2),U))){for(var Z=4;U%10===0;)Z-=1,U/=10;_+="."+x(U,Z)}return _}V.cleanDate=function(_,O,B){if(_===v)return O;if(V.isJSDate(_)||typeof _=="number"&&isFinite(_)){if(T(B))return i.error("JS Dates and milliseconds are incompatible with world calendars",_),O;if(_=V.ms2DateTimeLocal(+_),!_&&O!==void 0)return O}else if(!V.isDateTime(_,B))return i.error("unrecognized date",_),O;return _};var A=/%\d?f/g,s=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function b(_,O,B,z){_=_.replace(A,function(Z){var J=Math.min(+Z.charAt(1)||6,6),re=(O/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return re});var U=new Date(Math.floor(O+.05));if(_=_.replace(s,function(){return E[B("%q")(U)]}),T(z))try{_=f.getComponentMethod("calendars","worldCalFmt")(_,O,z)}catch{return"Invalid"}return B(_)(U)}var F=[59,59.9,59.99,59.999,59.9999];function I(_,O){var B=L(_+.05,p),z=x(Math.floor(B/r),2)+":"+x(L(Math.floor(B/t),60),2);if(O!=="M"){P(O)||(O=0);var U=Math.min(L(_/a,60),F[O]),Z=(100+U).toFixed(O).substr(1);O>0&&(Z=Z.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+Z}return z}V.formatDate=function(_,O,B,z,U,Z){if(U=T(U)&&U,!O)if(B==="y")O=Z.year;else if(B==="m")O=Z.month;else if(B==="d")O=Z.dayMonth+`
`+Z.year;else return I(_,B)+`
`+b(Z.dayMonthYear,_,z,U);return b(O,_,z,U)};var N=3*p;V.incrementMonth=function(_,O,B){B=T(B)&&B;var z=L(_,p);if(_=Math.round(_-z),B)try{var U=Math.round(_/p)+n,Z=f.getComponentMethod("calendars","getCal")(B),J=Z.fromJD(U);return O%12?Z.add(J,O,"m"):Z.add(J,O/12,"y"),(J.toJD()-n)*p+z}catch{i.error("invalid ms "+_+" in calendar "+B)}var re=new Date(_+N);return re.setUTCMonth(re.getUTCMonth()+O)+z-N},V.findExactDates=function(_,O){for(var B=0,z=0,U=0,Z=0,J,re,ne=T(O)&&f.getComponentMethod("calendars","getCal")(O),ue=0;ue<_.length;ue++){if(re=_[ue],!P(re)){Z++;continue}if(!(re%p))if(ne)try{J=ne.fromJD(re/p+n),J.day()===1?J.month()===1?B++:z++:U++}catch{}else J=new Date(re),J.getUTCDate()===1?J.getUTCMonth()===0?B++:z++:U++}z+=B,U+=z;var te=_.length-Z;return{exactYears:B/te,exactMonths:z/te,exactDays:U/te}}},52200:function(G,V,e){var m=e(33428),P=e(24248),i=e(52248),L=e(36524);function S(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=m.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(T+"{"+c+"}",0):x.addRule?x.addRule(T,c,0):P.warn("addStyleRule failed")}function a(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&p(c)}function n(h){var T=l(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(o){var d=f(o);if(d){var x=i.convertCssMatrix(d);c=L.multiply(c,c,x)}}),c}function f(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function l(h){for(var T=[];u(h);)T.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return T}function u(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function g(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}G.exports={getGraphDiv:S,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:a,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:l,equalDomRects:g}},95924:function(G,V,e){var m=e(61252).EventEmitter,P={init:function(i){if(i._ev instanceof m)return i;var L=new m,S=new m;return i._ev=L,i._internalEv=S,i.on=L.on.bind(L),i.once=L.once.bind(L),i.removeListener=L.removeListener.bind(L),i.removeAllListeners=L.removeAllListeners.bind(L),i._internalOn=S.on.bind(S),i._internalOnce=S.once.bind(S),i._removeInternalListener=S.removeListener.bind(S),i._removeAllInternalListeners=S.removeAllListeners.bind(S),i.emit=function(v,p){typeof jQuery<"u"&&jQuery(i).trigger(v,p),L.emit(v,p),S.emit(v,p)},i},triggerHandler:function(i,L,S){var v,p;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(L,S));var r=i._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function a(f){if(f.listener){if(r.removeListener(L,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)a(t[n]);return p=a(t[n]),v!==void 0?v:p},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};G.exports=P},92880:function(G,V,e){var m=e(63620),P=Array.isArray;function i(S,v){var p,r;for(p=0;p<S.length;p++){if(r=S[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}V.extendFlat=function(){return L(arguments,!1,!1,!1)},V.extendDeep=function(){return L(arguments,!0,!1,!1)},V.extendDeepAll=function(){return L(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(S,v,p,r){var t=S[0],a=S.length,n,f,l,u,g,h,T;if(a===2&&P(t)&&P(S[1])&&t.length===0){if(T=i(S[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<a;c++){n=S[c];for(f in n)l=t[f],u=n[f],r&&P(u)?t[f]=u:v&&u&&(m(u)||(g=P(u)))?(g?(g=!1,h=l&&P(l)?l:[]):h=l&&m(l)?l:{},t[f]=L([h,u],v,p,r)):(typeof u<"u"||p)&&(t[f]=u)}return t}},68944:function(G){G.exports=function(e){for(var m={},P=[],i=0,L=0;L<e.length;L++){var S=e[L];m[S]!==1&&(m[S]=1,P[i++]=S)}return P}},43880:function(G){G.exports=function(i){for(var L=m(i)?e:V,S=[],v=0;v<i.length;v++){var p=i[v];L(p)&&S.push(p)}return S};function V(P){return P.visible===!0}function e(P){var i=P[0].trace;return i.visible===!0&&i._length!==0}function m(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(G,V,e){var m=e(33428),P=e(36116),i=e(40440),L=e(77844),S=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),a=e(92065),n=Object.keys(P),f={"ISO-3":v,"USA-states":v,"country names":l};function l(x){for(var w=0;w<n.length;w++){var C=n[w],y=new RegExp(P[C]);if(y.test(x.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+x+"."),!1}function u(x,w,C){if(!w||typeof w!="string")return!1;var y=f[x](w),M,A,s;if(y){if(x==="USA-states")for(M=[],s=0;s<C.length;s++)A=C[s],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&M.push(A);else M=C;for(s=0;s<M.length;s++)if(A=M[s],A.id===y)return A;p.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(x){var w=x.geometry,C=w.coordinates,y=x.id,M=[],A,s,E,b;function F(I){for(var N=0;N<I.length-1;N++)if(I[N][0]>0&&I[N+1][0]<0)return N;return null}switch(y==="RUS"||y==="FJI"?A=function(I){var N;if(F(I)===null)N=I;else for(N=new Array(I.length),b=0;b<I.length;b++)N[b]=[I[b][0]<0?I[b][0]+360:I[b][0],I[b][1]];M.push(a.tester(N))}:y==="ATA"?A=function(I){var N=F(I);if(N===null)return M.push(a.tester(I));var _=new Array(I.length+1),O=0;for(b=0;b<I.length;b++)b>N?_[O++]=[I[b][0]+360,I[b][1]]:b===N?(_[O++]=I[b],_[O++]=[I[b][0],-90]):_[O++]=I[b];var B=a.tester(_);B.pts.pop(),M.push(B)}:A=function(I){M.push(a.tester(I))},w.type){case"MultiPolygon":for(s=0;s<C.length;s++)for(E=0;E<C[s].length;E++)A(C[s][E]);break;case"Polygon":for(s=0;s<C.length;s++)A(C[s]);break}return M}function h(x){var w=x.geojson,C=window.PlotlyGeoAssets||{},y=typeof w=="string"?C[w]:w;return r(y)?y:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(x){var w=x[0].trace,C=h(w);if(!C)return!1;var y={},M=[],A;for(A=0;A<w._length;A++){var s=x[A];(s.loc||s.loc===0)&&(y[s.loc]=s)}function E(I){var N=t(I,w.featureidkey||"id").get(),_=y[N];if(_){var O=I.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var B={type:"Feature",id:N,geometry:O,properties:{}};B.properties.ct=c(B),_.fIn=I,_.fOut=B,M.push(B)}else p.log(["Location",_.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[N]}switch(C.type){case"FeatureCollection":var b=C.features;for(A=0;A<b.length;A++)E(b[A]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in y)p.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return M}function c(x){var w=x.geometry,C;if(w.type==="MultiPolygon")for(var y=w.coordinates,M=0,A=0;A<y.length;A++){var s={type:"Polygon",coordinates:y[A]},E=i.default(s);E>M&&(M=E,C=s)}else C=w;return L.default(C).geometry.coordinates}function o(x){var w=window.PlotlyGeoAssets||{},C=[];function y(b){return new Promise(function(F,I){m.json(b,function(N,_){if(N){delete w[b];var O=N.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return I(new Error(O))}return w[b]=_,F(_)})})}function M(b){return new Promise(function(F,I){var N=0,_=setInterval(function(){if(w[b]&&w[b]!=="pending")return clearInterval(_),F(w[b]);if(N>100)return clearInterval(_),I("Unexpected error while fetching from "+b);N++},50)})}for(var A=0;A<x.length;A++){var s=x[A][0].trace,E=s.geojson;typeof E=="string"&&(w[E]?w[E]==="pending"&&C.push(M(E)):(w[E]="pending",C.push(y(E))))}return C}function d(x){return S.default(x)}G.exports={locationToFeature:u,feature2polygons:g,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:o,computeBbox:d}},44808:function(G,V,e){var m=e(39032).BADNUM;V.calcTraceToLineCoords=function(P){for(var i=P[0].trace,L=i.connectgaps,S=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==m?v.push(t):!L&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},V.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},V.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var i=new Array(P.length),L=0;L<P.length;L++)i[L]=[P[L]];return{type:"MultiPolygon",coordinates:i}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,V,e){var m=e(20435).mod;V.segmentsIntersect=P;function P(p,r,t,a,n,f,l,u){var g=t-p,h=n-p,T=l-n,c=a-r,o=f-r,d=u-f,x=g*d-T*c;if(x===0)return null;var w=(h*d-T*o)/x,C=(h*c-g*o)/x;return C<0||C>1||w<0||w>1?null:{x:p+g*w,y:r+c*w}}V.segmentDistance=function(r,t,a,n,f,l,u,g){if(P(r,t,a,n,f,l,u,g))return 0;var h=a-r,T=n-t,c=u-f,o=g-l,d=h*h+T*T,x=c*c+o*o,w=Math.min(i(h,T,d,f-r,l-t),i(h,T,d,u-r,g-t),i(c,o,x,r-f,t-l),i(c,o,x,a-f,n-l));return Math.sqrt(w)};function i(p,r,t,a,n){var f=a*p+n*r;if(f<0)return a*a+n*n;if(f>t){var l=a-p,u=n-r;return l*l+u*u}else{var g=a*r-n*p;return g*g/t}}var L,S,v;V.getTextLocation=function(r,t,a,n){if((r!==S||n!==v)&&(L={},S=r,v=n),L[a])return L[a];var f=r.getPointAtLength(m(a-n/2,t)),l=r.getPointAtLength(m(a+n/2,t)),u=Math.atan((l.y-f.y)/(l.x-f.x)),g=r.getPointAtLength(m(a,t)),h=(g.x*4+f.x+l.x)/6,T=(g.y*4+f.y+l.y)/6,c={x:h,y:T,theta:u};return L[a]=c,c},V.clearLocationCache=function(){S=null},V.getVisibleSegment=function(r,t,a){var n=t.left,f=t.right,l=t.top,u=t.bottom,g=0,h=r.getTotalLength(),T=h,c,o;function d(w){var C=r.getPointAtLength(w);w===0?c=C:w===h&&(o=C);var y=C.x<n?n-C.x:C.x>f?C.x-f:0,M=C.y<l?l-C.y:C.y>u?C.y-u:0;return Math.sqrt(y*y+M*M)}for(var x=d(g);x;){if(g+=x+a,g>T)return;x=d(g)}for(x=d(T);x;){if(T-=x+a,g>T)return;x=d(T)}return{min:g,max:T,len:T-g,total:h,isClosed:g===0&&T===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},V.findPointOnPath=function(r,t,a,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),l=n.tolerance||.001,u=n.iterationLimit||30,g=r.getPointAtLength(0)[a]>r.getPointAtLength(f)[a]?-1:1,h=0,T=0,c=f,o,d,x;h<u;){if(o=(T+c)/2,d=r.getPointAtLength(o),x=d[a]-t,Math.abs(x)<l)return d;g*x>0?c=o:T=o,h++}return d}},33040:function(G,V,e){var m=e(38248),P=e(49760),i=e(72160),L=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=i(S),r=1;function t(u,g){var h=u;return h[3]*=g,h}function a(u){if(m(u))return p;var g=i(u);return g.length?g:p}function n(u){return m(u)?u:r}function f(u,g,h){var T=u.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),o=v(g),d=L.extractOpts(u),x=[],w,C,y,M,A;if(d.colorscale!==void 0?w=L.makeColorScaleFuncFromTrace(u):w=a,c?C=function(E,b){return E[b]===void 0?p:i(w(E[b]))}:C=a,o?y=function(E,b){return E[b]===void 0?r:n(E[b])}:y=n,c||o)for(var s=0;s<h;s++)M=C(T,s),A=y(g,s),x[s]=t(M,A);else x=t(i(T),g);return x}function l(u){var g=L.extractOpts(u),h=g.colorscale;return g.reversescale&&(h=L.flipScale(g.colorscale)),h.map(function(T){var c=T[0],o=P(T[1]),d=o.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:f,parseColorScale:l}},71688:function(G,V,e){var m=e(35536);function P(i){return[i]}G.exports={keyFun:function(i){return i.key},repeat:P,descend:m,wrap:P,unwrap:function(i){return i[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,m){if(!m)return e;var P=1/Math.abs(m),i=P>1?(P*e+P*m)/P:e+m,L=String(i).length;if(L>16){var S=String(m).length,v=String(e).length;if(L>=v+S){var p=parseFloat(i).toPrecision(12);p.indexOf("e+")===-1&&(i=+p)}}return i}},3400:function(G,V,e){var m=e(33428),P=e(94336).E9,i=e(57624).E9,L=e(38248),S=e(39032),v=S.FP_SAFE,p=-v,r=S.BADNUM,t=G.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var a={};t.warnBadFormat=function($){var oe=String($);a[oe]||(a[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function($){return String($)},t.numberFormat=function($){var oe;try{oe=i(t.adjustFormat($))}catch{return t.warnBadFormat($),t.noFormat}return oe},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var l=e(63064);t.valObjectMeta=l.valObjectMeta,t.coerce=l.coerce,t.coerce2=l.coerce2,t.coerceFont=l.coerceFont,t.coercePattern=l.coercePattern,t.coerceHoverinfo=l.coerceHoverinfo,t.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,t.validate=l.validate;var u=e(67555);t.dateTime2ms=u.dateTime2ms,t.isDateTime=u.isDateTime,t.ms2DateTime=u.ms2DateTime,t.ms2DateTimeLocal=u.ms2DateTimeLocal,t.cleanDate=u.cleanDate,t.isJSDate=u.isJSDate,t.formatDate=u.formatDate,t.incrementMonth=u.incrementMonth,t.dateTick0=u.dateTick0,t.dfltRange=u.dfltRange,t.findExactDates=u.findExactDates,t.MIN_MS=u.MIN_MS,t.MAX_MS=u.MAX_MS;var g=e(14952);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var C=e(53756);t.counterRegex=C.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var M=e(52200);t.getGraphDiv=M.getGraphDiv,t.isPlotDiv=M.isPlotDiv,t.removeElement=M.removeElement,t.addStyleRule=M.addStyleRule,t.addRelatedStyleRule=M.addRelatedStyleRule,t.deleteRelatedStyleRule=M.deleteRelatedStyleRule,t.getFullTransformMatrix=M.getFullTransformMatrix,t.getElementTransformMatrix=M.getElementTransformMatrix,t.getElementAndAncestors=M.getElementAndAncestors,t.equalDomRects=M.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(oe){return L(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function($,oe){return oe!==void 0&&$>=oe?!1:L($)&&$>=0&&$%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function($,oe){for(var j=new Array(oe),X=0;X<oe;X++)j[X]=$;return j},t.swapAttrs=function($,oe,j,X){j||(j="x"),X||(X="y");for(var se=0;se<oe.length;se++){var q=oe[se],ce=t.nestedProperty($,q.replace("?",j)),ye=t.nestedProperty($,q.replace("?",X)),we=ce.get();ce.set(ye.get()),ye.set(we)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function($){return $.transition().duration(0)},t.constrain=function($,oe,j){return oe>j?Math.max(j,Math.min(oe,$)):Math.max(oe,Math.min(j,$))},t.bBoxIntersect=function($,oe,j){return j=j||0,$.left<=oe.right+j&&oe.left<=$.right+j&&$.top<=oe.bottom+j&&oe.top<=$.bottom+j},t.simpleMap=function($,oe,j,X,se){for(var q=$.length,ce=new Array(q),ye=0;ye<q;ye++)ce[ye]=oe($[ye],j,X,se);return ce},t.randstr=function $(oe,j,X,se){if(X||(X=16),j===void 0&&(j=24),j<=0)return"0";var q=Math.log(Math.pow(2,j))/Math.log(X),ce="",ye,we,be;for(ye=2;q===1/0;ye*=2)q=Math.log(Math.pow(2,j/ye))/Math.log(X)*ye;var De=q-Math.floor(q);for(ye=0;ye<Math.floor(q);ye++)be=Math.floor(Math.random()*X).toString(X),ce=be+ce;De&&(we=Math.pow(X,De),be=Math.floor(Math.random()*we).toString(X),ce=be+ce);var ke=parseInt(ce,X);return oe&&oe[ce]||ke!==1/0&&ke>=Math.pow(2,j)?se>10?(t.warn("randstr failed uniqueness"),ce):$(oe,j,X,(se||0)+1):ce},t.OptionControl=function($,oe){$||($={}),oe||(oe="opt");var j={};return j.optionList=[],j._newoption=function(X){X[oe]=$,j[X.name]=X,j.optionList.push(X)},j["_"+oe]=$,j},t.smooth=function($,oe){if(oe=Math.round(oe)||0,oe<2)return $;var j=$.length,X=2*j,se=2*oe-1,q=new Array(se),ce=new Array(j),ye,we,be,De;for(ye=0;ye<se;ye++)q[ye]=(1-Math.cos(Math.PI*(ye+1)/oe))/(2*oe);for(ye=0;ye<j;ye++){for(De=0,we=0;we<se;we++)be=ye+we+1-oe,be<-j?be-=X*Math.round(be/X):be>=X&&(be-=X*Math.floor(be/X)),be<0?be=-1-be:be>=j&&(be=X-1-be),De+=$[be]*q[we];ce[ye]=De}return ce},t.syncOrAsync=function($,oe,j){var X,se;function q(){return t.syncOrAsync($,oe,j)}for(;$.length;)if(se=$.splice(0,1)[0],X=se(oe),X&&X.then)return X.then(q);return j&&j(oe)},t.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},t.noneOrAll=function($,oe,j){if($){var X=!1,se=!0,q,ce;for(q=0;q<j.length;q++)ce=$[j[q]],ce!=null?X=!0:se=!1;if(X&&!se)for(q=0;q<j.length;q++)$[j[q]]=oe[j[q]]}},t.mergeArray=function($,oe,j,X){var se=typeof X=="function";if(t.isArrayOrTypedArray($))for(var q=Math.min($.length,oe.length),ce=0;ce<q;ce++){var ye=$[ce];oe[ce][j]=se?X(ye):ye}},t.mergeArrayCastPositive=function($,oe,j){return t.mergeArray($,oe,j,function(X){var se=+X;return isFinite(se)&&se>0?se:0})},t.fillArray=function($,oe,j,X){if(X=X||t.identity,t.isArrayOrTypedArray($))for(var se=0;se<oe.length;se++)oe[se][j]=X($[se])},t.castOption=function($,oe,j,X){X=X||t.identity;var se=t.nestedProperty($,j).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?X(se[oe[0]][oe[1]]):X(se[oe]):se},t.extractOption=function($,oe,j,X){if(j in $)return $[j];var se=t.nestedProperty(oe,X).get();if(!Array.isArray(se))return se};function A($){var oe={};for(var j in $)for(var X=$[j],se=0;se<X.length;se++)oe[X[se]]=+j;return oe}t.tagSelected=function($,oe,j){var X=oe.selectedpoints,se=oe._indexToPoints,q;se&&(q=A(se));function ce(ke){return ke!==void 0&&ke<$.length}for(var ye=0;ye<X.length;ye++){var we=X[ye];if(t.isIndex(we)||t.isArrayOrTypedArray(we)&&t.isIndex(we[0])&&t.isIndex(we[1])){var be=q?q[we]:we,De=j?j[be]:be;ce(De)&&($[De].selected=1)}}},t.selIndices2selPoints=function($){var oe=$.selectedpoints,j=$._indexToPoints;if(j){for(var X=A(j),se=[],q=0;q<oe.length;q++){var ce=oe[q];if(t.isIndex(ce)){var ye=X[ce];t.isIndex(ye)&&se.push(ye)}}return se}else return oe},t.getTargetArray=function($,oe){var j=oe.target;if(typeof j=="string"&&j){var X=t.nestedProperty($,j).get();return t.isArrayOrTypedArray(X)?X:!1}else if(t.isArrayOrTypedArray(j))return j;return!1};function s($,oe,j){var X={};typeof oe!="object"&&(oe={});var se=j==="pieLike"?-1:3,q=Object.keys($),ce,ye,we;for(ce=0;ce<q.length;ce++)ye=q[ce],we=$[ye],!(ye.charAt(0)==="_"||typeof we=="function")&&(ye==="module"?X[ye]=we:Array.isArray(we)?ye==="colorscale"||se===-1?X[ye]=we.slice():X[ye]=we.slice(0,se):t.isTypedArray(we)?se===-1?X[ye]=we.subarray():X[ye]=we.subarray(0,se):we&&typeof we=="object"?X[ye]=s($[ye],oe[ye],j):X[ye]=we);for(q=Object.keys(oe),ce=0;ce<q.length;ce++)ye=q[ce],we=oe[ye],(typeof we!="object"||!(ye in X)||typeof X[ye]!="object")&&(X[ye]=we);return X}t.minExtend=s,t.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},t.containsAny=function($,oe){for(var j=0;j<oe.length;j++)if($.indexOf(oe[j])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var $=F.exec(window.navigator.userAgent);if($&&$.length===2){var oe=parseInt($[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function($){return $ instanceof m.selection},t.ensureSingle=function($,oe,j,X){var se=$.select(oe+(j?"."+j:""));if(se.size())return se;var q=$.append(oe);return j&&q.classed(j,!0),X&&q.call(X),q},t.ensureSingleById=function($,oe,j,X){var se=$.select(oe+"#"+j);if(se.size())return se;var q=$.append(oe).attr("id",j);return X&&q.call(X),q},t.objectFromPath=function($,oe){for(var j=$.split("."),X,se=X={},q=0;q<j.length;q++){var ce=j[q],ye=null,we=j[q].match(/(.*)\[([0-9]+)\]/);we?(ce=we[1],ye=we[2],X=X[ce]=[],q===j.length-1?X[ye]=oe:X[ye]={},X=X[ye]):(q===j.length-1?X[ce]=oe:X[ce]={},X=X[ce])}return se};var I=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function _($){return $.slice(0,2)==="__"}t.expandObjectPaths=function($){var oe,j,X,se,q,ce,ye;if(typeof $=="object"&&!Array.isArray($)){for(j in $)if($.hasOwnProperty(j))if(oe=j.match(I)){if(se=$[j],X=oe[1],_(X))continue;delete $[j],$[X]=t.extendDeepNoArrays($[X]||{},t.objectFromPath(j,t.expandObjectPaths(se))[X])}else if(oe=j.match(N)){if(se=$[j],X=oe[1],_(X))continue;if(q=parseInt(oe[2]),delete $[j],$[X]=$[X]||[],oe[3]===".")ye=oe[4],ce=$[X][q]=$[X][q]||{},t.extendDeepNoArrays(ce,t.objectFromPath(ye,t.expandObjectPaths(se)));else{if(_(X))continue;$[X][q]=t.expandObjectPaths(se)}}else{if(_(j))continue;$[j]=t.expandObjectPaths($[j])}}return $},t.numSeparate=function($,oe,j){if(j||(j=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var X=/(\d+)(\d{3})/,se=oe.charAt(0),q=oe.charAt(1),ce=$.split("."),ye=ce[0],we=ce.length>1?se+ce[1]:"";if(q&&(ce.length>1||ye.length>4||j))for(;X.test(ye);)ye=ye.replace(X,"$1"+q+"$2");return ye+we},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;t.templateString=function($,oe){var j={};return $.replace(t.TEMPLATE_STRING_REGEX,function(X,se){var q;return O.test(se)?q=oe[se]:(j[se]=j[se]||t.nestedProperty(oe,se).get,q=j[se]()),t.isValidTextValue(q)?q:""})};var B={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(B,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(z,arguments)};var U=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Z($){var oe=$.match(U);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:$,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(J,arguments)};var re=/^[:|\|]/;function ne($,oe,j){var X=this,se=arguments;oe||(oe={});var q={};return $.replace(t.TEMPLATE_STRING_REGEX,function(ce,ye,we){var be=ye==="xother"||ye==="yother",De=ye==="_xother"||ye==="_yother",ke=ye==="_xother_"||ye==="_yother_",Be=ye==="xother_"||ye==="yother_",Ae=be||De||Be||ke,Ie=ye;(De||ke)&&(Ie=Ie.substring(1)),(Be||ke)&&(Ie=Ie.substring(0,Ie.length-1));var Me=null,Fe=null;if(X.parseMultDiv){var Ee=Z(Ie);Ie=Ee.key,Me=Ee.op,Fe=Ee.number}var He;if(Ae){if(He=oe[Ie],He===void 0)return""}else{var rt,ot;for(ot=3;ot<se.length;ot++)if(rt=se[ot],!!rt){if(rt.hasOwnProperty(Ie)){He=rt[Ie];break}if(O.test(Ie)||(He=t.nestedProperty(rt,Ie).get(),He=q[Ie]||t.nestedProperty(rt,Ie).get(),He&&(q[Ie]=He)),He!==void 0)break}}if(He!==void 0&&(Me==="*"&&(He*=Fe),Me==="/"&&(He/=Fe)),He===void 0&&X)return X.count<X.max&&(t.warn("Variable '"+Ie+"' in "+X.name+" could not be found!"),He=ce),X.count===X.max&&t.warn("Too many "+X.name+" warnings - additional warnings will be suppressed"),X.count++,ce;if(we){var $e;if(we[0]===":"&&($e=j?j.numberFormat:t.numberFormat,He!==""&&(He=$e(we.replace(re,""))(He))),we[0]==="|"){$e=j?j.timeFormat:P;var qe=t.dateTime2ms(He);He=t.formatDate(qe,we.replace(re,""),!1,$e)}}else{var ht=Ie+"Label";oe.hasOwnProperty(ht)&&(He=oe[ht])}return Ae&&(He="("+He+")",(De||ke)&&(He=" "+He),(Be||ke)&&(He=He+" ")),He})}var ue=48,te=57;t.subplotSort=function($,oe){for(var j=Math.min($.length,oe.length)+1,X=0,se=0,q=0;q<j;q++){var ce=$.charCodeAt(q)||0,ye=oe.charCodeAt(q)||0,we=ce>=ue&&ce<=te,be=ye>=ue&&ye<=te;if(we&&(X=10*X+ce-ue),be&&(se=10*se+ye-ue),!we||!be){if(X!==se)return X-se;if(ce!==ye)return ce-ye}}return se-X};var Q=2e9;t.seedPseudoRandom=function(){Q=2e9},t.pseudoRandom=function(){var $=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-$)<429496729?t.pseudoRandom():Q/4294967296},t.fillText=function($,oe,j){var X=Array.isArray(j)?function(ce){j.push(ce)}:function(ce){j.text=ce},se=t.extractOption($,oe,"htx","hovertext");if(t.isValidTextValue(se))return X(se);var q=t.extractOption($,oe,"tx","text");if(t.isValidTextValue(q))return X(q)},t.isValidTextValue=function($){return $||$===0},t.formatPercent=function($,oe){oe=oe||0;for(var j=(Math.round(100*$*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",X=0;X<oe;X++)j.indexOf(".")!==-1&&(j=j.replace("0%","%"),j=j.replace(".%","%"));return j},t.isHidden=function($){var oe=window.getComputedStyle($).display;return!oe||oe==="none"},t.strTranslate=function($,oe){return $||oe?"translate("+$+","+oe+")":""},t.strRotate=function($){return $?"rotate("+$+")":""},t.strScale=function($){return $!==1?"scale("+$+")":""},t.getTextTransform=function($){var oe=$.noCenter,j=$.textX,X=$.textY,se=$.targetX,q=$.targetY,ce=$.anchorX||0,ye=$.anchorY||0,we=$.rotate,be=$.scale;return be?be>1&&(be=1):be=0,t.strTranslate(se-be*(j+ce),q-be*(X+ye))+t.strScale(be)+(we?"rotate("+we+(oe?"":" "+j+" "+X)+")":"")},t.setTransormAndDisplay=function($,oe){$.attr("transform",t.getTextTransform(oe)),$.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function($,oe){var j=t.extendFlat({},oe);return j.size=Math.max(oe.size,$._fullLayout.uniformtext.minsize||0),j},t.join2=function($,oe,j){var X=$.length;return X>1?$.slice(0,-1).join(oe)+j+$[X-1]:$.join(oe)},t.bigFont=function($){return Math.round(1.2*$)};var ie=t.getFirefoxVersion(),Y=ie!==null&&ie<86;t.getPositionFromD3Event=function(){return Y?[m.event.layerX,m.event.layerY]:[m.event.offsetX,m.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,V,e){var m=e(22296),P=/^\w*$/,i=0,L=1,S=2,v=3,p=4;G.exports=function(t,a,n,f){n=n||"name",f=f||"value";var l,u,g,h={};a&&a.length?(g=m(t,a),u=g.get()):u=t,a=a||"";var T={};if(u)for(l=0;l<u.length;l++)T[u[l][n]]=l;var c=P.test(f),o={set:function(d,x){var w=x===null?p:i;if(!u){if(!g||w===p)return;u=[],g.set(u)}var C=T[d];if(C===void 0){if(w===p)return;w=w|v,C=u.length,T[d]=C}else x!==(c?u[C][f]:m(u[C],f).get())&&(w=w|S);var y=u[C]=u[C]||{};return y[n]=d,c?y[f]=x:m(y,f).set(x),x!==null&&(w=w&~p),h[C]=h[C]|w,o},get:function(d){if(u){var x=T[d];if(x!==void 0)return c?u[x][f]:m(u[x],f).get()}},rename:function(d,x){var w=T[d];return w===void 0||(h[w]=h[w]|L,T[x]=w,delete T[d],u[w][n]=x),o},remove:function(d){var x=T[d];if(x===void 0)return o;var w=u[x];if(Object.keys(w).length>2)return h[x]=h[x]|S,o.set(d,null);if(c){for(l=x;l<u.length;l++)h[l]=h[l]|v;for(l=x;l<u.length;l++)T[u[l][n]]--;u.splice(x,1),delete T[d]}else m(w,f).set(null),h[x]=h[x]|S|p;return o},constructUpdate:function(){for(var d,x,w={},C=Object.keys(h),y=0;y<C.length;y++)x=C[y],d=a+"["+x+"]",u[x]?(h[x]&L&&(w[d+"."+n]=u[x][n]),h[x]&S&&(c?w[d+"."+f]=h[x]&p?null:u[x][f]:w[d+"."+f]=h[x]&p?null:m(u[x],f).get())):w[d]=null;return w}};return o}},98356:function(G,V,e){var m=e(24040);G.exports=function(i,L){for(var S=i._context.locale,v=0;v<2;v++){for(var p=i._context.locales,r=0;r<2;r++){var t=(p[S]||{}).dictionary;if(t){var a=t[L];if(a)return a}p=m.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return L}},24248:function(G,V,e){var m=e(20556).dfltConfig,P=e(41792),i=G.exports={};i.log=function(){var L;if(m.logging>1){var S=["LOG:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},i.warn=function(){var L;if(m.logging>0){var S=["WARN:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},i.error=function(){var L;if(m.logging>0){var S=["ERROR:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.error.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},30988:function(G,V,e){var m=e(33428);G.exports=function(i,L,S){var v=i.selectAll("g."+S.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var p=i.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=m.select(this)}),v}},52248:function(G,V,e){var m=e(36524);V.init2dArray=function(P,i){for(var L=new Array(P),S=0;S<P;S++)L[S]=new Array(i);return L},V.transposeRagged=function(P){var i=0,L=P.length,S,v;for(S=0;S<L;S++)i=Math.max(i,P[S].length);var p=new Array(i);for(S=0;S<i;S++)for(p[S]=new Array(L),v=0;v<L;v++)p[S][v]=P[v][S];return p},V.dot=function(P,i){if(!(P.length&&i.length)||P.length!==i.length)return null;var L=P.length,S,v;if(P[0].length)for(S=new Array(L),v=0;v<L;v++)S[v]=V.dot(P[v],i);else if(i[0].length){var p=V.transposeRagged(i);for(S=new Array(p.length),v=0;v<p.length;v++)S[v]=V.dot(P,p[v])}else for(S=0,v=0;v<L;v++)S+=P[v]*i[v];return S},V.translationMatrix=function(P,i){return[[1,0,P],[0,1,i],[0,0,1]]},V.rotationMatrix=function(P){var i=P*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},V.rotationXYMatrix=function(P,i,L){return V.dot(V.dot(V.translationMatrix(i,L),V.rotationMatrix(P)),V.translationMatrix(-i,-L))},V.apply3DTransform=function(P){return function(){var i=arguments,L=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return V.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},V.apply2DTransform=function(P){return function(){var i=arguments;i.length===3&&(i=i[0]);var L=arguments.length===1?i[0]:[i[0],i[1]];return V.dot(P,[L[0],L[1],1]).slice(0,2)}},V.apply2DTransform2=function(P){var i=V.apply2DTransform(P);return function(L){return i(L.slice(0,2)).concat(i(L.slice(2,4)))}},V.convertCssMatrix=function(P){if(P){var i=P.length;if(i===16)return P;if(i===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(P){var i=[];return m.invert(i,P),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(G){function V(m,P){var i=m%P;return i<0?i+P:i}function e(m,P){return Math.abs(m)>P/2?m-Math.round(m/P)*P:m}G.exports={mod:V,modHalf:e}},22296:function(G,V,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;G.exports=function(f,l){if(m(l))l=String(l);else if(typeof l!="string"||l.substr(l.length-4)==="[-1]")throw"bad property string";var u=l.split("."),g,h,T,c;for(c=0;c<u.length;c++)if(String(u[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<u.length;){if(g=String(u[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])u[c]=g[1];else if(c===0)u.splice(0,1);else throw"bad property string";for(h=g[2].substr(1,g[2].length-2).split("]["),T=0;T<h.length;T++)c++,u.splice(c,0,Number(h[T]))}c++}return typeof f!="object"?a(f,l,u):{set:v(f,u,l),get:i(f,u),astr:l,parts:u,obj:f}};function i(n,f){return function(){var l=n,u,g,h,T,c;for(T=0;T<f.length-1;T++){if(u=f[T],u===-1){for(g=!0,h=[],c=0;c<l.length;c++)h[c]=i(l[c],f.slice(T+1))(),h[c]!==h[0]&&(g=!1);return g?h[0]:h}if(typeof u=="number"&&!P(l)||(l=l[u],typeof l!="object"||l===null))return}if(!(typeof l!="object"||l===null)&&(h=l[f[T]],h!==null))return h}}var L=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(L)}function v(n,f,l){return function(u){var g=n,h="",T=S(u,l),c,o;for(o=0;o<f.length-1;o++){if(c=f[o],typeof c=="number"&&!P(g))throw"array index but container is not an array";if(c===-1){if(T=!r(g,f.slice(o+1),u,l),T)break;return}if(!t(g,c,f[o+1],T))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";h=p(h,c)}if(T){if(o===f.length-1&&(delete g[f[o]],Array.isArray(g)&&+f[o]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[f[o]]=u}}function p(n,f){var l=f;return m(f)?l="["+f+"]":n&&(l="."+f),n+l}function r(n,f,l,u){var g=P(l),h=!0,T=l,c=u.replace("-1",0),o=g?!1:S(l,c),d=f[0],x;for(x=0;x<n.length;x++)c=u.replace("-1",x),g&&(T=l[x%l.length],o=S(T,c)),o&&(h=!1),t(n,x,d,o)&&v(n[x],f,u.replace("-1",x))(T);return h}function t(n,f,l,u){if(n[f]===void 0){if(u)return!1;typeof l=="number"?n[f]=[]:n[f]={}}return!0}function a(n,f,l){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:l,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,V,e){var m=e(33428),P=e(38248),i=[];G.exports=function(L,S){if(i.indexOf(L)!==-1)return;i.push(L);var v=1e3;P(S)?v=S:S==="long"&&(v=3e3);var p=m.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(i);function t(a){a.duration(700).style("opacity",0).each("end",function(n){var f=i.indexOf(n);f!==-1&&i.splice(f,1),m.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=m.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),l=a.split(/<br\s*\/?>/g),u=0;u<l.length;u++)u&&f.append("br"),f.append("span").text(l[u]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,V,e){var m=e(93972),P="data-savedcursor",i="!!";G.exports=function(S,v){var p=S.attr(P);if(v){if(!p){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var a=r[t];a.indexOf("cursor-")===0&&S.attr(P,a.substr(7)).classed(a,!1)}S.attr(P)||S.attr(P,i)}m(S,v)}else p&&(S.attr(P,null),p===i?m(S):m(S,p))}},92065:function(G,V,e){var m=e(52248).dot,P=e(39032).BADNUM,i=G.exports={};i.tester=function(S){var v=S.slice(),p=v[0][0],r=p,t=v[0][1],a=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),a=Math.max(a,v[n][1]);var f=!1,l;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,l=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,l=function(c){return c[1]===v[0][1]}));function u(c,o){var d=c[0],x=c[1];return!(d===P||d<p||d>r||x===P||x<t||x>a||o&&l(c))}function g(c,o){var d=c[0],x=c[1];if(d===P||d<p||d>r||x===P||x<t||x>a)return!1;var w=v.length,C=v[0][0],y=v[0][1],M=0,A,s,E,b,F;for(A=1;A<w;A++)if(s=C,E=y,C=v[A][0],y=v[A][1],b=Math.min(s,C),!(d<b||d>Math.max(s,C)||x>Math.max(E,y)))if(x<Math.min(E,y))d!==b&&M++;else{if(C===s?F=x:F=E+(d-s)*(y-E)/(C-s),x===F)return!(A===1&&o);x<=F&&d!==b&&M++}return M%2===1}var h=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:a,pts:v,contains:f?u:g,isRect:f,degenerate:h}},i.isSegmentBent=function(S,v,p,r){var t=S[v],a=[S[p][0]-t[0],S[p][1]-t[1]],n=m(a,a),f=Math.sqrt(n),l=[-a[1]/f,a[0]/f],u,g,h;for(u=v+1;u<p;u++)if(g=[S[u][0]-t[0],S[u][1]-t[1]],h=m(g,a),h<0||h>n||Math.abs(m(g,l))>r)return!0;return!1},i.filter=function(S,v){var p=[S[0]],r=0,t=0;function a(f){S.push(f);var l=p.length,u=r;p.splice(t+1);for(var g=u+1;g<S.length;g++)(g===S.length-1||i.isSegmentBent(S,u,g+1,v))&&(p.push(S[g]),p.length<l-2&&(r=g,t=p.length-1),u=g)}if(S.length>1){var n=S.pop();a(n)}return{addPt:a,raw:S,filtered:p}}},5048:function(G,V,e){var m=e(16576),P=e(28624);G.exports=function(L,S,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(a){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),r||m({container:p._glcontainer.node()}),r}},34296:function(G,V,e){var m=e(38248),P=e(25928);G.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=i(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var a=r[t];if(a.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var l=f.substr(8).split(".")[0];if(m(l)&&(l=+l),l>=13)return!0}}}return p};function i(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(G){G.exports=function(e,m){if(m instanceof RegExp){for(var P=m.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===P)return e;e.push(m)}else(m||m===0)&&e.indexOf(m)===-1&&e.push(m);return e}},94552:function(G,V,e){var m=e(3400),P=e(20556).dfltConfig;function i(S,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===S?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?m.extendDeep([],r):m.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(S,v,p,r,t){var a,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,a),S.undoQueue.index+=1):a=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(p),a.redo.calls.push(r),a.redo.args.push(t)),S.undoQueue.queue.length>P.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},L.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},L.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(S,v,p){S.autoplay=!0,p=i(S,p),v.apply(null,p)},G.exports=L},53756:function(G,V){V.counter=function(e,m,P,i){var L=(m||"")+(P?"":"$"),S=i===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(G){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(m,P){for(;P;){var i=m.match(V);if(i)m=i[1];else if(m.match(e))m="";else throw new Error("bad relativeAttr call:"+[m,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return m&&P.charAt(0)!=="["?m+"."+P:m+P}},51528:function(G,V,e){var m=e(38116).isArrayOrTypedArray,P=e(63620);G.exports=function i(L,S){for(var v in S){var p=S[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(m(p)&&m(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),a=0;a<t;a++)r[a]!==p[a]&&P(p[a])&&P(r[a])&&i(r[a],p[a])}else P(p)&&P(r)&&(i(r,p),Object.keys(r).length||delete L[v])}}},14952:function(G,V,e){var m=e(38248),P=e(24248),i=e(35536),L=e(39032).BADNUM,S=1e-9;V.findBin=function(a,n,f){if(m(n.start))return f?Math.ceil((a-n.start)/n.size-S)-1:Math.floor((a-n.start)/n.size+S);var l=0,u=n.length,g=0,h=u>1?(n[u-1]-n[0])/(u-1):1,T,c;for(h>=0?c=f?v:p:c=f?t:r,a+=h*S*(f?-1:1)*(h>=0?1:-1);l<u&&g++<100;)T=Math.floor((l+u)/2),c(n[T],a)?l=T+1:u=T;return g>90&&P.log("Long binary search..."),l-1};function v(a,n){return a<n}function p(a,n){return a<=n}function r(a,n){return a>n}function t(a,n){return a>=n}V.sorterAsc=function(a,n){return a-n},V.sorterDes=function(a,n){return n-a},V.distinctVals=function(a){var n=a.slice();n.sort(V.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===L;f--);for(var l=n[f]-n[0]||1,u=l/(f||1)/1e4,g=[],h,T=0;T<=f;T++){var c=n[T],o=c-h;h===void 0?(g.push(c),h=c):o>u&&(l=Math.min(l,o),g.push(c),h=c)}return{vals:g,minDiff:l}},V.roundUp=function(a,n,f){for(var l=0,u=n.length-1,g,h=0,T=f?0:1,c=f?1:0,o=f?Math.ceil:Math.floor;l<u&&h++<100;)g=o((l+u)/2),n[g]<=a?l=g+T:u=g-c;return n[l]},V.sort=function(a,n){for(var f=0,l=0,u=1;u<a.length;u++){var g=n(a[u],a[u-1]);if(g<0?f=1:g>0&&(l=1),f&&l)return a.sort(n)}return l?a:a.reverse()},V.findIndexOfMin=function(a,n){n=n||i;for(var f=1/0,l,u=0;u<a.length;u++){var g=n(a[u]);g<f&&(f=g,l=u)}return l}},93972:function(G){G.exports=function(e,m){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),m&&e.classed("cursor-"+m,!0)}},16576:function(G,V,e){var m=e(76308),P=function(){};G.exports=function(L){for(var S in L)typeof L[S]=="function"&&(L[S]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=m.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=m.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,V,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;V.aggNums=function(i,L,S,v){var p,r;if((!v||v>S.length)&&(v=S.length),m(L)||(L=!1),P(S[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=V.aggNums(i,L,S[p]);S=r}for(p=0;p<v;p++)m(L)?m(S[p])&&(L=i(+L,+S[p])):L=S[p];return L},V.len=function(i){return V.aggNums(function(L){return L+1},0,i)},V.mean=function(i,L){return L||(L=V.len(i)),V.aggNums(function(S,v){return S+v},0,i)/L},V.midRange=function(i){if(!(i===void 0||i.length===0))return(V.aggNums(Math.max,null,i)+V.aggNums(Math.min,null,i))/2},V.variance=function(i,L,S){return L||(L=V.len(i)),m(S)||(S=V.mean(i,L)),V.aggNums(function(v,p){return v+Math.pow(p-S,2)},0,i)/L},V.stdev=function(i,L,S){return Math.sqrt(V.variance(i,L,S))},V.median=function(i){var L=i.slice().sort();return V.interp(L,.5)},V.interp=function(i,L){if(!m(L))throw"n should be a finite number";if(L=L*i.length-.5,L<0)return i[0];if(L>i.length-1)return i[i.length-1];var S=L%1;return S*i[Math.ceil(L)]+(1-S)*i[Math.floor(L)]}},43080:function(G,V,e){var m=e(72160);function P(i){return i?m(i):[0,0,0,1]}G.exports=P},9188:function(G,V,e){var m=e(2264),P=e(43616),i=e(3400),L=null;function S(){if(L!==null)return L;L=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(m.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(f){return r.apply(null,f)});else{var t=P.tester.append("image").attr("style",m.STYLE),a=window.getComputedStyle(t.node()),n=a.imageRendering;L=p.some(function(f){var l=f[1];return n===l||n===l.toLowerCase()}),t.remove()}}return L}G.exports=S},72736:function(G,V,e){var m=e(33428),P=e(3400),i=P.strTranslate,L=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(B,z,U){var Z=B.text(),J=!B.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&Z.match(v),re=m.select(B.node().parentNode);if(re.empty())return;var ne=B.attr("class")?B.attr("class").split(" ")[0]:"text";ne+="-math",re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove(),B.style("display",null).attr({"data-unformatted":Z,"data-math":"N"});function ue(){re.empty()||(ne=B.attr("class")+"-math",re.select("svg."+ne).remove()),B.text("").style("white-space","pre");var te=I(B.node(),Z);te&&B.style("pointer-events","all"),V.positionText(B),U&&U.call(B)}return J?(z&&z._promises||[]).push(new Promise(function(te){B.style("display","none");var Q=parseInt(B.node().style.fontSize,10),ie={fontSize:Q};n(J[2],ie,function(Y,$,oe){re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove();var j=Y&&Y.select("svg");if(!j||!j.node()){ue(),te();return}var X=re.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":Z,"data-math":"Y"});X.node().appendChild(j.node()),$&&$.node()&&j.node().insertBefore($.node().cloneNode(!0),j.node().firstChild);var se=oe.width,q=oe.height;j.attr({class:ne,height:q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=B.node().style.fill||"black",ye=j.select("g");ye.attr({fill:ce,stroke:ce});var we=ye.node().getBoundingClientRect(),be=we.width,De=we.height;(be>se||De>q)&&(j.style("overflow","hidden"),we=j.node().getBoundingClientRect(),be=we.width,De=we.height);var ke=+B.attr("x"),Be=+B.attr("y"),Ae=Q||B.node().getBoundingClientRect().height,Ie=-Ae/4;if(ne[0]==="y")X.attr({transform:"rotate("+[-90,ke,Be]+")"+i(-be/2,Ie-De/2)});else if(ne[0]==="l")Be=Ie-De/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)ke=0,Be=Ie;else{var Me=B.attr("text-anchor");ke=ke-be*(Me==="middle"?.5:Me==="end"?1:0),Be=Be+Ie-De/2}j.attr({x:ke,y:Be}),U&&U.call(B,X),te(X)})})):ue(),B};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(B){return B.replace(p,"\\lt ").replace(r,"\\gt ")}var a=[["$","$"],["\\(","\\)"]];function n(B,z,U){var Z=parseInt((MathJax.version||"").split(".")[0]);if(Z!==2&&Z!==3){P.warn("No MathJax version:",MathJax.version);return}var J,re,ne,ue,te=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},Q=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a},ie=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},$=function(){var ce="math-output-"+P.randstr({},64);ue=m.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(B));var ye=ue.node();return Z===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},oe=function(){var ce=ue.select(Z===2?".MathJax_SVG":".MathJax"),ye=!ce.empty()&&ue.select("svg").node();if(!ye)P.log("There was an error in the tex syntax.",B),U();else{var we=ye.getBoundingClientRect(),be;Z===2?be=m.select("body").select("#MathJax_SVG_glyphs"):be=ce.select("defs"),U(ce,be,we)}ue.remove()},j=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},X=function(){J!=="svg"&&(MathJax.config.startup.output=J)},se=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(re)},q=function(){MathJax.config=re};Z===2?MathJax.Hub.Queue(te,ie,$,oe,j,se):Z===3&&(Q(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){$(),oe(),X(),q()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},l={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},g="",h=["http:","https:","mailto:","",void 0,":"],T=V.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(B,z){if(!B)return null;var U=B.match(z),Z=U&&(U[3]||U[4]);return Z&&b(Z)}var A=/(^|;)\s*color:/;V.plainText=function(B,z){z=z||{};for(var U=z.len!==void 0&&z.len!==-1?z.len:1/0,Z=z.allowedTags!==void 0?z.allowedTags:["br"],J="...",re=J.length,ne=B.split(c),ue=[],te="",Q=0,ie=0;ie<ne.length;ie++){var Y=ne[ie],$=Y.match(o),oe=$&&$[2].toLowerCase();if(oe)Z.indexOf(oe)!==-1&&(ue.push(Y),te=oe);else{var j=Y.length;if(Q+j<U)ue.push(Y),Q+=j;else if(Q<U){var X=U-Q;te&&(te!=="br"||X<=re||j<=re)&&ue.pop(),U>re?ue.push(Y.substr(0,X-re)+J):ue.push(Y.substr(0,X));break}te=""}}return ue.join("")};var s={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(B){return B.replace(E,function(z,U){var Z;return U.charAt(0)==="#"?Z=F(U.charAt(1)==="x"?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):Z=s[U],Z||z})}V.convertEntities=b;function F(B){if(!(B>1114111)){var z=String.fromCodePoint;if(z)return z(B);var U=String.fromCharCode;return B<=65535?U(B):U((B>>10)+55232,B%1024+56320)}}function I(B,z){z=z.replace(T," ");var U=!1,Z=[],J,re=-1;function ne(){re++;var De=document.createElementNS(L.svg,"tspan");m.select(De).attr({class:"line",dy:re*S+"em"}),B.appendChild(De),J=De;var ke=Z;if(Z=[{node:De}],ke.length>1)for(var Be=1;Be<ke.length;Be++)ue(ke[Be])}function ue(De){var ke=De.type,Be={},Ae;if(ke==="a"){Ae="a";var Ie=De.target,Me=De.href,Fe=De.popup;Me&&(Be={"xlink:xlink:show":Ie==="_blank"||Ie.charAt(0)!=="_"?"new":"replace",target:Ie,"xlink:xlink:href":Me},Fe&&(Be.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Fe+'");return false;'))}else Ae="tspan";De.style&&(Be.style=De.style);var Ee=document.createElementNS(L.svg,Ae);if(ke==="sup"||ke==="sub"){te(J,g),J.appendChild(Ee);var He=document.createElementNS(L.svg,"tspan");te(He,g),m.select(He).attr("dy",u[ke]),Be.dy=l[ke],J.appendChild(Ee),J.appendChild(He)}else J.appendChild(Ee);m.select(Ee).attr(Be),J=De.node=Ee,Z.push(De)}function te(De,ke){De.appendChild(document.createTextNode(ke))}function Q(De){if(Z.length===1){P.log("Ignoring unexpected end tag </"+De+">.",z);return}var ke=Z.pop();De!==ke.type&&P.log("Start tag <"+ke.type+"> doesnt match end tag <"+De+">. Pretending it did match.",z),J=Z[Z.length-1].node}var ie=d.test(z);ie?ne():(J=B,Z=[{node:B}]);for(var Y=z.split(c),$=0;$<Y.length;$++){var oe=Y[$],j=oe.match(o),X=j&&j[2].toLowerCase(),se=f[X];if(X==="br")ne();else if(se===void 0)te(J,b(oe));else if(j[1])Q(X);else{var q=j[4],ce={type:X},ye=M(q,x);if(ye?(ye=ye.replace(A,"$1 fill:"),se&&(ye+=";"+se)):se&&(ye=se),ye&&(ce.style=ye),X==="a"){U=!0;var we=M(q,w);if(we){var be=N(we);be&&(ce.href=be,ce.target=M(q,C)||"_blank",ce.popup=M(q,y))}}ue(ce)}}return U}function N(B){var z=encodeURI(decodeURI(B)),U=document.createElement("a"),Z=document.createElement("a");U.href=B,Z.href=z;var J=U.protocol,re=Z.protocol;return h.indexOf(J)!==-1&&h.indexOf(re)!==-1?z:""}V.sanitizeHTML=function(z){z=z.replace(T," ");for(var U=document.createElement("p"),Z=U,J=[],re=z.split(c),ne=0;ne<re.length;ne++){var ue=re[ne],te=ue.match(o),Q=te&&te[2].toLowerCase();if(Q in f)if(te[1])J.length&&(Z=J.pop());else{var ie=te[4],Y=M(ie,x),$=Y?{style:Y}:{};if(Q==="a"){var oe=M(ie,w);if(oe){var j=N(oe);if(j){$.href=j;var X=M(ie,C);X&&($.target=X)}}}var se=document.createElement(Q);Z.appendChild(se),m.select(se).attr($),Z=se,J.push(se)}else Z.appendChild(document.createTextNode(b(ue)))}var q="innerHTML";return U[q]},V.lineCount=function(z){return z.selectAll("tspan.line").size()||1},V.positionText=function(z,U,Z){return z.each(function(){var J=m.select(this);function re(te,Q){return Q===void 0?(Q=J.attr(te),Q===null&&(J.attr(te,0),Q=0)):J.attr(te,Q),Q}var ne=re("x",U),ue=re("y",Z);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:ne,y:ue})})};function _(B,z,U){var Z=U.horizontalAlign,J=U.verticalAlign||"top",re=B.node().getBoundingClientRect(),ne=z.node().getBoundingClientRect(),ue,te,Q;return J==="bottom"?te=function(){return re.bottom-ue.height}:J==="middle"?te=function(){return re.top+(re.height-ue.height)/2}:te=function(){return re.top},Z==="right"?Q=function(){return re.right-ue.width}:Z==="center"?Q=function(){return re.left+(re.width-ue.width)/2}:Q=function(){return re.left},function(){ue=this.node().getBoundingClientRect();var ie=Q()-ne.left,Y=te()-ne.top,$=U.gd||{};if(U.gd){$._fullLayout._calcInverseTransform($);var oe=P.apply3DTransform($._fullLayout._invTransform)(ie,Y);ie=oe[0],Y=oe[1]}return this.style({top:Y+"px",left:ie+"px","z-index":1e3}),this}}var O="1px ";V.makeTextShadow=function(B){var z=O,U=O,Z=O;return z+U+Z+B+", -"+z+"-"+U+Z+B+", "+z+"-"+U+Z+B+", -"+z+U+Z+B},V.makeEditable=function(B,z){var U=z.gd,Z=z.delegate,J=m.dispatch("edit","input","cancel"),re=Z||B;if(B.style({"pointer-events":Z?"none":"all"}),B.size()!==1)throw new Error("boo");function ne(){te(),B.style({opacity:0});var Q=re.attr("class"),ie;Q?ie="."+Q.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&m.select(B.node().parentNode).select(ie).style({opacity:0})}function ue(Q){var ie=Q.node(),Y=document.createRange();Y.selectNodeContents(ie);var $=window.getSelection();$.removeAllRanges(),$.addRange(Y),ie.focus()}function te(){var Q=m.select(U),ie=Q.select(".svg-container"),Y=ie.append("div"),$=B.node().style,oe=parseFloat($.fontSize||12),j=z.text;j===void 0&&(j=B.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":$.fontFamily||"Arial","font-size":oe,color:z.fill||$.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(_(B,ie,z)).on("blur",function(){U._editing=!1,B.text(this.textContent).style({opacity:1});var X=m.select(this).attr("class"),se;X?se="."+X.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&m.select(B.node().parentNode).select(se).style({opacity:0});var q=this.textContent;m.select(this).transition().duration(0).remove(),m.select(document).on("mouseup",null),J.edit.call(B,q)}).on("focus",function(){var X=this;U._editing=!0,m.select(document).on("mouseup",function(){if(m.event.target===X)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){m.event.which===27?(U._editing=!1,B.style({opacity:1}),m.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(B,this.textContent)):(J.input.call(B,this.textContent),m.select(this).call(_(B,ie,z)))}).on("keydown",function(){m.event.which===13&&this.blur()}).call(ue)}return z.immediate?ne():re.on("click",ne),m.rebind(B,J,"on")}},91200:function(G,V){var e={};V.throttle=function(i,L,S){var v=e[i],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[i]={ts:0,timer:null}}m(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},V.done=function(P){var i=e[P];return!i||!i.timer?Promise.resolve():new Promise(function(L){var S=i.onDone;i.onDone=function(){S&&S(),L(),i.onDone=null}})},V.clear=function(P){if(P)m(e[P]),delete e[P];else for(var i in e)V.clear(i)};function m(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(G,V,e){var m=e(38248);G.exports=function(i,L){if(i>0)return Math.log(i)/Math.LN10;var S=Math.log(Math.min(L[0],L[1]))/Math.LN10;return m(S)||(S=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),S}},59972:function(G,V,e){var m=G.exports={},P=e(79552).locationmodeToLayer,i=e(55712).NO;m.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},m.getTopojsonPath=function(L,S){return L+S+".json"},m.getTopojsonFeatures=function(L,S){var v=P[L.locationmode],p=S.objects[v];return i(S,p).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,V,e){var m=e(24040);G.exports=function(i){for(var L=m.layoutArrayContainers,S=m.layoutArrayRegexes,v=i.split("[")[0],p,r,t=0;t<S.length;t++)if(r=i.match(S[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var a=i.substr(p.length);return a?(r=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(G,V,e){var m=e(92880).extendFlat,P=e(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=i.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");G.exports={traces:i,layout:L,traceFlags:function(){return p(S)},layoutFlags:function(){return p(v)},update:function(a,n){var f=n.editType;if(f&&f!=="none")for(var l=f.split("+"),u=0;u<l.length;u++)a[l[u]]=!0},overrideAll:r};function p(a){for(var n={},f=0;f<a.length;f++)n[a[f]]=!1;return n}function r(a,n,f){var l=m({},a);for(var u in l){var g=l[u];P(g)&&(l[u]=t(g,n,f,u))}return f==="from-root"&&(l.editType=n),l}function t(a,n,f,l){if(a.valType){var u=m({},a);if(u.editType=n,Array.isArray(a.items)){u.items=new Array(a.items.length);for(var g=0;g<a.items.length;g++)u.items[g]=t(a.items[g],n)}return u}else return r(a,n,l.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,V,e){var m=e(38248),P=e(61784),i=e(24040),L=e(3400),S=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,a=i.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var x,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(S.subplotsRegistry.cartesian||{}).attrRegex,y=(S.subplotsRegistry.polar||{}).attrRegex,M=(S.subplotsRegistry.ternary||{}).attrRegex,A=(S.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(d);for(x=0;x<s.length;x++){var E=s[x];if(C&&C.test(E)){var b=d[E];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,h(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),f(b)}else if(y&&y.test(E)){var F=d[E];f(F.radialaxis)}else if(M&&M.test(E)){var I=d[E];f(I.aaxis),f(I.baxis),f(I.caxis)}else if(A&&A.test(E)){var N=d[E],_=N.cameraposition;if(Array.isArray(_)&&_[0].length===4){var O=_[0],B=_[1],z=_[2],U=P([],O),Z=[];for(w=0;w<3;++w)Z[w]=B[w]+z*U[2+4*w];N.camera={eye:{x:Z[0],y:Z[1],z:Z[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var J=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<J;x++){var re=d.annotations[x];L.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<ne;x++){var ue=d.shapes[x];L.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var te=Array.isArray(d.images)?d.images.length:0;for(x=0;x<te;x++){var Q=d.images[x];L.isPlainObject(Q)&&(n(Q,"xref"),n(Q,"yref"))}var ie=d.legend;return ie&&(ie.x>3?(ie.x=1.02,ie.xanchor="left"):ie.x<-2&&(ie.x=-.02,ie.xanchor="right"),ie.y>3?(ie.y=1.02,ie.yanchor="bottom"):ie.y<-2&&(ie.y=-.02,ie.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,x){var w=d[x],C=x.charAt(0);w&&w!=="paper"&&(d[x]=r(w,C,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(w,C){var y=d[w],M=d.title&&d.title[C];y&&!M&&(d.title||(d.title={}),d.title[C]=d[w],delete d[w])}}V.cleanData=function(d){for(var x=0;x<d.length;x++){var w=d[x],C;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var y=p.defaults,M=w.error_y.color||(a(w,"bar")?p.defaultLine:y[x%y.length]);w.error_y.color=p.addOpacity(p.rgb(M),p.opacity(M)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(a(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",V.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&V.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),a(w,"gl3d")&&w.scene&&(w.scene=S.subplotsRegistry.gl3d.cleanId(w.scene)),!a(w,"pie-like")&&!a(w,"bar-like"))if(Array.isArray(w.textposition))for(C=0;C<w.textposition.length;C++)w.textposition[C]=g(w.textposition[C]);else w.textposition&&(w.textposition=g(w.textposition));var A=i.getModule(w);if(A&&A.colorbar){var s=A.colorbar.container,E=s?w[s]:w;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(w.type==="surface"&&L.isPlainObject(w.contours)){var b=["x","y","z"];for(C=0;C<b.length;C++){var F=w.contours[b[C]];L.isPlainObject(F)&&(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var I=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,_=l(w.increasing),O=l(w.decreasing);if(_!==!1&&O!==!1){var B=u(_,O,I,N);B&&(w.name=B)}else(_||O)&&!w.name&&(w.name=_||O)}if(Array.isArray(w.transforms)){var z=w.transforms;for(C=0;C<z.length;C++){var U=z[C];if(L.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var Z=U.styles,J=Object.keys(Z);U.styles=[];for(var re=0;re<J.length;re++)U.styles.push({target:J[re],value:Z[J[re]]})}break}}}h(w,"line")&&delete w.line,"marker"in w&&(h(w.marker,"line")&&delete w.marker.line,h(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),f(w),w.colorbar&&f(w.colorbar),w.marker&&w.marker.colorbar&&f(w.marker.colorbar),w.line&&w.line.colorbar&&f(w.line.colorbar),w.aaxis&&f(w.aaxis),w.baxis&&f(w.baxis)}};function l(d){if(!L.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function u(d,x,w,C){if(w&&!C)return d;if(C&&!w||!d.trim())return x;if(!x.trim())return d;var y=Math.min(d.length,x.length),M;for(M=0;M<y&&d.charAt(M)===x.charAt(M);M++);var A=d.substr(0,M);return A.trim()}function g(d){var x="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),x+" "+w}function h(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}V.swapXYData=function(d){var x;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,C="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(x=0;x<y.length;x++)y[x]==="x"?y[x]="y":y[x]==="y"&&(y[x]="x");d.hoverinfo=y.join("+")}},V.coerceTraceIndices=function(d,x){if(m(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(y,M){return M});if(Array.isArray(x)){for(var w=[],C=0;C<x.length;C++)L.isIndex(x[C],d.data.length)?w.push(x[C]):L.warn("trace index (",x[C],") is not a number or is out of bounds");return w}return x},V.manageArrayContainers=function(d,x,w){var C=d.obj,y=d.parts,M=y.length,A=y[M-1],s=m(A);if(s&&x===null){var E=y.slice(0,M-1).join("."),b=L.nestedProperty(C,E).get();b.splice(A,1)}else s&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var x=d.search(T);if(x>0)return d.substr(0,x)}V.hasParent=function(d,x){for(var w=c(x);w;){if(w in d)return!0;w=c(w)}return!1};var o=["x","y","z"];V.clearAxisTypes=function(d,x,w){for(var C=0;C<x.length;C++)for(var y=d._fullData[C],M=0;M<3;M++){var A=t(d,y,o[M]);if(A&&A.type!=="log"){var s=A._name,E=A._id.substr(1);if(E.substr(0,5)==="scene"){if(w[E]!==void 0)continue;s=E+"."+s}var b=s+".type";w[s]===void 0&&w[b]===void 0&&L.nestedProperty(d.layout,b).set(null)}}}},22448:function(G,V,e){var m=e(36424);V._doPlot=m._doPlot,V.newPlot=m.newPlot,V.restyle=m.restyle,V.relayout=m.relayout,V.redraw=m.redraw,V.update=m.update,V._guiRestyle=m._guiRestyle,V._guiRelayout=m._guiRelayout,V._guiUpdate=m._guiUpdate,V._storeDirectGUIEdit=m._storeDirectGUIEdit,V.react=m.react,V.extendTraces=m.extendTraces,V.prependTraces=m.prependTraces,V.addTraces=m.addTraces,V.deleteTraces=m.deleteTraces,V.moveTraces=m.moveTraces,V.purge=m.purge,V.addFrames=m.addFrames,V.deleteFrames=m.deleteFrames,V.animate=m.animate,V.setPlotConfig=m.setPlotConfig;var P=e(52200).getGraphDiv,i=e(4016).eraseActiveShape;V.deleteActiveShape=function(S){return i(P(S))},V.toImage=e(67024),V.validate=e(21480),V.downloadImage=e(39792);var L=e(94828);V.makeTemplate=L.makeTemplate,V.validateTemplate=L.validateTemplate},17680:function(G,V,e){var m=e(63620),P=e(16628),i=e(24248),L=e(14952).sorterAsc,S=e(24040);V.containerArrayMatch=e(69820);var v=V.isAddVal=function(t){return t==="add"||m(t)},p=V.isRemoveVal=function(t){return t===null||t==="remove"};V.applyContainerArrayChanges=function(t,a,n,f,l){var u=a.astr,g=S.getComponentMethod(u,"supplyLayoutDefaults"),h=S.getComponentMethod(u,"draw"),T=S.getComponentMethod(u,"drawOne"),c=f.replot||f.recalc||g===P||h===P,o=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",u);var x=n[""][""];if(p(x))a.set(null);else if(Array.isArray(x))a.set(x);else return i.warn("Unrecognized full array edit value",u,x),!0;return c?!1:(g(o,d),h(t),!0)}var w=Object.keys(n).map(Number).sort(L),C=a.get(),y=C||[],M=l(d,u).get(),A=[],s=-1,E=y.length,b,F,I,N,_,O,B,z;for(b=0;b<w.length;b++){if(I=w[b],N=n[I],_=Object.keys(N),O=N[""],B=v(O),I<0||I>y.length-(B?0:1)){i.warn("index out of range",u,I);continue}if(O!==void 0)_.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,I),p(O)?A.push(I):B?(O==="add"&&(O={}),y.splice(I,0,O),M&&M.splice(I,0,{})):i.warn("Unrecognized full object edit value",u,I,O),s===-1&&(s=I);else for(F=0;F<_.length;F++)z=u+"["+I+"].",l(y[I],_[F],z).set(N[_[F]])}for(b=A.length-1;b>=0;b--)y.splice(A[b],1),M&&M.splice(A[b],1);if(y.length?C||a.set(y):a.set(null),c)return!1;if(g(o,d),T!==P){var U;if(s===-1)U=w;else{for(E=Math.max(y.length,E),U=[],b=0;b<w.length&&(I=w[b],!(I>=s));b++)U.push(I);for(b=s;b<E;b++)U.push(b)}for(b=0;b<U.length;b++)T(t,U[b])}else h(t);return!0}},36424:function(G,V,e){var m=e(33428),P=e(38248),i=e(52264),L=e(3400),S=L.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),a=e(7316),n=e(54460),f=e(96312),l=e(94724),u=e(43616),g=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,d=e(17680),x=e(93404),w=e(39172),C=e(67824),y=e(33816).AX_NAME_PATTERN,M=0,A=5;function s(ve,xe,Ne,et){var st;if(ve=L.getGraphDiv(ve),v.init(ve),L.isPlainObject(xe)){var lt=xe;xe=lt.data,Ne=lt.layout,et=lt.config,st=lt.frames}var Gt=v.triggerHandler(ve,"plotly_beforeplot",[xe,Ne,et]);if(Gt===!1)return Promise.reject();!xe&&!Ne&&!L.isPlotDiv(ve)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ve);function jt(){if(st)return V.addFrames(ve,st)}N(ve,et),Ne||(Ne={}),m.select(ve).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(ve._promises)||(ve._promises=[]);var Tt=(ve.data||[]).length===0&&Array.isArray(xe);Array.isArray(xe)&&(x.cleanData(xe),Tt?ve.data=xe:ve.data.push.apply(ve.data,xe),ve.empty=!1),(!ve.layout||Tt)&&(ve.layout=x.cleanLayout(Ne)),a.supplyDefaults(ve);var Dt=ve._fullLayout,Xt=Dt._has("cartesian");Dt._replotting=!0,(Tt||Dt._shouldCreateBgLayer)&&(Le(ve),Dt._shouldCreateBgLayer&&delete Dt._shouldCreateBgLayer),u.initGradients(ve),u.initPatterns(ve),Tt&&n.saveShowSpikeInitial(ve);var gr=!ve.calcdata||ve.calcdata.length!==(ve._fullData||[]).length;gr&&a.doCalcdata(ve);for(var gt=0;gt<ve.calcdata.length;gt++)ve.calcdata[gt][0].trace=ve._fullData[gt];ve._context.responsive?ve._responsiveChartHandler||(ve._responsiveChartHandler=function(){L.isHidden(ve)||a.resize(ve)},window.addEventListener("resize",ve._responsiveChartHandler)):L.clearResponsive(ve);var Zt=L.extendFlat({},Dt._size),Qt=0;function yr(){for(var Bt=Dt._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(ve);!Dt._glcanvas&&Dt._has("gl")&&(Dt._glcanvas=Dt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Dt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=ve._context.plotGlPixelRatio;if(Dt._glcanvas){Dt._glcanvas.attr("width",Dt.width*Jt).attr("height",Dt.height*Jt).style("width",Dt.width+"px").style("height",Dt.height+"px");var hr=Dt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Dt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Dt.height*Jt)!==hr._gl.drawingBufferHeight)){var fr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)L.error(fr);else return L.log(fr+" Clearing graph and plotting again."),a.cleanPlot([],{},ve._fullData,Dt),a.supplyDefaults(ve),Dt=ve._fullLayout,a.doCalcdata(ve),Qt++,yr()}}return Dt.modebar.orientation==="h"?Dt._modebardiv.style("height",null).style("width","100%"):Dt._modebardiv.style("width",null).style("height",Dt.height+"px"),a.previousPromises(ve)}function or(){if(a.clearAutoMarginIds(ve),w.drawMarginPushers(ve),n.allowAutoMargin(ve),ve._fullLayout.title.text&&ve._fullLayout.title.automargin&&a.allowAutoMargin(ve,"title.automargin"),Dt._has("pie"))for(var Bt=ve._fullData,Nt=0;Nt<Bt.length;Nt++){var Jt=Bt[Nt];Jt.type==="pie"&&Jt.automargin&&a.allowAutoMargin(ve,"pie."+Jt.uid+".automargin")}return a.doAutoMargin(ve),a.previousPromises(ve)}function mt(){if(a.didMarginChange(Zt,Dt._size))return L.syncOrAsync([or,w.layoutStyles],ve)}function ut(){if(!gr){bt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],ve)}function bt(){ve._transitioning||(w.doAutoRangeAndConstraints(ve),Tt&&n.saveRangeInitial(ve),r.getComponentMethod("rangeslider","calcAutorange")(ve))}function Et(){return n.draw(ve,Tt?"":"redraw")}var Rt=[a.previousPromises,jt,yr,or,mt];Xt&&Rt.push(ut),Rt.push(w.layoutStyles),Xt&&Rt.push(Et,function(Nt){var Jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,we(Nt,Jt).then(function(){n.saveRangeInitial(Nt,!0)})}),Rt.push(w.drawData,w.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Ht=L.syncOrAsync(Rt,ve);return(!Ht||!Ht.then)&&(Ht=Promise.resolve()),Ht.then(function(){return E(ve),ve})}function E(ve){var xe=ve._fullLayout;xe._redrawFromAutoMarginCount?xe._redrawFromAutoMarginCount--:ve.emit("plotly_afterplot")}function b(ve){return L.extendFlat(o,ve)}function F(ve,xe){try{ve._fullLayout._paper.style("background",xe)}catch(Ne){L.error(Ne)}}function I(ve,xe){var Ne=g.combine(xe,"white");F(ve,Ne)}function N(ve,xe){if(!ve._context){ve._context=L.extendDeep({},o);var Ne=m.select("base");ve._context._baseUrl=Ne.size()&&Ne.attr("href")?window.location.href.split("#")[0]:""}var et=ve._context,st,lt,Gt;if(xe){for(lt=Object.keys(xe),st=0;st<lt.length;st++)Gt=lt[st],!(Gt==="editable"||Gt==="edits")&&Gt in et&&(Gt==="setBackground"&&xe[Gt]==="opaque"?et[Gt]=I:et[Gt]=xe[Gt]);xe.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var jt=xe.editable;if(jt!==void 0)for(et.editable=jt,lt=Object.keys(et.edits),st=0;st<lt.length;st++)et.edits[lt[st]]=jt;if(xe.edits)for(lt=Object.keys(xe.edits),st=0;st<lt.length;st++)Gt=lt[st],Gt in et.edits&&(et.edits[Gt]=xe.edits[Gt]);et._exportedPlot=xe._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),et.displayModeBar==="hover"&&!i&&(et.displayModeBar=!0),(et.setBackground==="transparent"||typeof et.setBackground!="function")&&(et.setBackground=F),et._hasZeroHeight=et._hasZeroHeight||ve.clientHeight===0,et._hasZeroWidth=et._hasZeroWidth||ve.clientWidth===0;var Tt=et.scrollZoom,Dt=et._scrollZoom={};if(Tt===!0)Dt.cartesian=1,Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1;else if(typeof Tt=="string"){var Xt=Tt.split("+");for(st=0;st<Xt.length;st++)Dt[Xt[st]]=1}else Tt!==!1&&(Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1)}function _(ve){if(ve=L.getGraphDiv(ve),!L.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);return x.cleanData(ve.data),x.cleanLayout(ve.layout),ve.calcdata=void 0,V._doPlot(ve).then(function(){return ve.emit("plotly_redraw"),ve})}function O(ve,xe,Ne,et){return ve=L.getGraphDiv(ve),a.cleanPlot([],{},ve._fullData||[],ve._fullLayout||{}),a.purge(ve),V._doPlot(ve,xe,Ne,et)}function B(ve,xe){var Ne=xe+1,et=[],st,lt;for(st=0;st<ve.length;st++)lt=ve[st],lt<0?et.push(Ne+lt):et.push(lt);return et}function z(ve,xe,Ne){var et,st;for(et=0;et<xe.length;et++){if(st=xe[et],st!==parseInt(st,10))throw new Error("all values in "+Ne+" must be integers");if(st>=ve.data.length||st<-ve.data.length)throw new Error(Ne+" must be valid indices for gd.data.");if(xe.indexOf(st,et+1)>-1||st>=0&&xe.indexOf(-ve.data.length+st)>-1||st<0&&xe.indexOf(ve.data.length+st)>-1)throw new Error("each index in "+Ne+" must be unique.")}}function U(ve,xe,Ne){if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(xe)||(xe=[xe]),z(ve,xe,"currentIndices"),typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&z(ve,Ne,"newIndices"),typeof Ne<"u"&&xe.length!==Ne.length)throw new Error("current and new indices must be of equal length.")}function Z(ve,xe,Ne){var et,st;if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("traces must be defined.");for(Array.isArray(xe)||(xe=[xe]),et=0;et<xe.length;et++)if(st=xe[et],typeof st!="object"||Array.isArray(st)||st===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&Ne.length!==xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(ve,xe,Ne,et){var st=L.isPlainObject(et);if(!Array.isArray(ve.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(xe))throw new Error("update must be a key:value object");if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers");z(ve,Ne,"indices");for(var lt in xe){if(!Array.isArray(xe[lt])||xe[lt].length!==Ne.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(st&&(!(lt in et)||!Array.isArray(et[lt])||et[lt].length!==xe[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(ve,xe,Ne,et){var st=L.isPlainObject(et),lt=[],Gt,jt,Tt,Dt,Xt;Array.isArray(Ne)||(Ne=[Ne]),Ne=B(Ne,ve.data.length-1);for(var gr in xe)for(var gt=0;gt<Ne.length;gt++){if(Gt=ve.data[Ne[gt]],Tt=S(Gt,gr),jt=Tt.get(),Dt=xe[gr][gt],!L.isArrayOrTypedArray(Dt))throw new Error("attribute: "+gr+" index: "+gt+" must be an array");if(!L.isArrayOrTypedArray(jt))throw new Error("cannot extend missing or non-array attribute: "+gr);if(jt.constructor!==Dt.constructor)throw new Error("cannot extend array with an array of a different type: "+gr);Xt=st?et[gr][gt]:et,P(Xt)||(Xt=-1),lt.push({prop:Tt,target:jt,insert:Dt,maxp:Math.floor(Xt)})}return lt}function ne(ve,xe,Ne,et,st){J(ve,xe,Ne,et);for(var lt=re(ve,xe,Ne,et),Gt={},jt={},Tt=0;Tt<lt.length;Tt++){var Dt=lt[Tt].prop,Xt=lt[Tt].maxp,gr=st(lt[Tt].target,lt[Tt].insert,Xt);Dt.set(gr[0]),Array.isArray(Gt[Dt.astr])||(Gt[Dt.astr]=[]),Gt[Dt.astr].push(gr[1]),Array.isArray(jt[Dt.astr])||(jt[Dt.astr]=[]),jt[Dt.astr].push(lt[Tt].target.length)}return{update:Gt,maxPoints:jt}}function ue(ve,xe){var Ne=new ve.constructor(ve.length+xe.length);return Ne.set(ve),Ne.set(xe,ve.length),Ne}function te(ve,xe,Ne,et){ve=L.getGraphDiv(ve);function st(Tt,Dt,Xt){var gr,gt;if(L.isTypedArray(Tt))if(Xt<0){var Zt=new Tt.constructor(0),Qt=ue(Tt,Dt);Xt<0?(gr=Qt,gt=Zt):(gr=Zt,gt=Qt)}else if(gr=new Tt.constructor(Xt),gt=new Tt.constructor(Tt.length+Dt.length-Xt),Xt===Dt.length)gr.set(Dt),gt.set(Tt);else if(Xt<Dt.length){var yr=Dt.length-Xt;gr.set(Dt.subarray(yr)),gt.set(Tt),gt.set(Dt.subarray(0,yr),Tt.length)}else{var or=Xt-Dt.length,mt=Tt.length-or;gr.set(Tt.subarray(mt)),gr.set(Dt,or),gt.set(Tt.subarray(0,mt))}else gr=Tt.concat(Dt),gt=Xt>=0&&Xt<gr.length?gr.splice(0,gr.length-Xt):[];return[gr,gt]}var lt=ne(ve,xe,Ne,et,st),Gt=V.redraw(ve),jt=[ve,lt.update,Ne,lt.maxPoints];return p.add(ve,V.prependTraces,jt,te,arguments),Gt}function Q(ve,xe,Ne,et){ve=L.getGraphDiv(ve);function st(Tt,Dt,Xt){var gr,gt;if(L.isTypedArray(Tt))if(Xt<=0){var Zt=new Tt.constructor(0),Qt=ue(Dt,Tt);Xt<0?(gr=Qt,gt=Zt):(gr=Zt,gt=Qt)}else if(gr=new Tt.constructor(Xt),gt=new Tt.constructor(Tt.length+Dt.length-Xt),Xt===Dt.length)gr.set(Dt),gt.set(Tt);else if(Xt<Dt.length){var yr=Dt.length-Xt;gr.set(Dt.subarray(0,yr)),gt.set(Dt.subarray(yr)),gt.set(Tt,yr)}else{var or=Xt-Dt.length;gr.set(Dt),gr.set(Tt.subarray(0,or),Dt.length),gt.set(Tt.subarray(or))}else gr=Dt.concat(Tt),gt=Xt>=0&&Xt<gr.length?gr.splice(Xt,gr.length):[];return[gr,gt]}var lt=ne(ve,xe,Ne,et,st),Gt=V.redraw(ve),jt=[ve,lt.update,Ne,lt.maxPoints];return p.add(ve,V.extendTraces,jt,Q,arguments),Gt}function ie(ve,xe,Ne){ve=L.getGraphDiv(ve);var et=[],st=V.deleteTraces,lt=ie,Gt=[ve,et],jt=[ve,xe],Tt,Dt;for(Z(ve,xe,Ne),Array.isArray(xe)||(xe=[xe]),xe=xe.map(function(Xt){return L.extendFlat({},Xt)}),x.cleanData(xe),Tt=0;Tt<xe.length;Tt++)ve.data.push(xe[Tt]);for(Tt=0;Tt<xe.length;Tt++)et.push(-xe.length+Tt);if(typeof Ne>"u")return Dt=V.redraw(ve),p.add(ve,st,Gt,lt,jt),Dt;Array.isArray(Ne)||(Ne=[Ne]);try{U(ve,et,Ne)}catch(Xt){throw ve.data.splice(ve.data.length-xe.length,xe.length),Xt}return p.startSequence(ve),p.add(ve,st,Gt,lt,jt),Dt=V.moveTraces(ve,et,Ne),p.stopSequence(ve),Dt}function Y(ve,xe){ve=L.getGraphDiv(ve);var Ne=[],et=V.addTraces,st=Y,lt=[ve,Ne,xe],Gt=[ve,xe],jt,Tt;if(typeof xe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(xe)||(xe=[xe]),z(ve,xe,"indices"),xe=B(xe,ve.data.length-1),xe.sort(L.sorterDes),jt=0;jt<xe.length;jt+=1)Tt=ve.data.splice(xe[jt],1)[0],Ne.push(Tt);var Dt=V.redraw(ve);return p.add(ve,et,lt,st,Gt),Dt}function $(ve,xe,Ne){ve=L.getGraphDiv(ve);var et=[],st=[],lt=$,Gt=$,jt=[ve,Ne,xe],Tt=[ve,xe,Ne],Dt;if(U(ve,xe,Ne),xe=Array.isArray(xe)?xe:[xe],typeof Ne>"u")for(Ne=[],Dt=0;Dt<xe.length;Dt++)Ne.push(-xe.length+Dt);for(Ne=Array.isArray(Ne)?Ne:[Ne],xe=B(xe,ve.data.length-1),Ne=B(Ne,ve.data.length-1),Dt=0;Dt<ve.data.length;Dt++)xe.indexOf(Dt)===-1&&et.push(ve.data[Dt]);for(Dt=0;Dt<xe.length;Dt++)st.push({newIndex:Ne[Dt],trace:ve.data[xe[Dt]]});for(st.sort(function(gr,gt){return gr.newIndex-gt.newIndex}),Dt=0;Dt<st.length;Dt+=1)et.splice(st[Dt].newIndex,0,st[Dt].trace);ve.data=et;var Xt=V.redraw(ve);return p.add(ve,lt,jt,Gt,Tt),Xt}function oe(ve,xe,Ne,et){ve=L.getGraphDiv(ve),x.clearPromiseQueue(ve);var st={};if(typeof xe=="string")st[xe]=Ne;else if(L.isPlainObject(xe))st=L.extendFlat({},xe),et===void 0&&(et=Ne);else return L.warn("Restyle fail.",xe,Ne,et),Promise.reject();Object.keys(st).length&&(ve.changed=!0);var lt=x.coerceTraceIndices(ve,et),Gt=ce(ve,st,lt),jt=Gt.flags;jt.calc&&(ve.calcdata=void 0),jt.clearAxisTypes&&x.clearAxisTypes(ve,lt,{});var Tt=[];jt.fullReplot?Tt.push(V._doPlot):(Tt.push(a.previousPromises),a.supplyDefaults(ve),jt.markerSize&&(a.doCalcdata(ve),De(Tt)),jt.style&&Tt.push(w.doTraceStyle),jt.colorbars&&Tt.push(w.doColorBars),Tt.push(E)),Tt.push(a.rehover,a.redrag,a.reselect),p.add(ve,oe,[ve,Gt.undoit,Gt.traces],oe,[ve,Gt.redoit,Gt.traces]);var Dt=L.syncOrAsync(Tt,ve);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return ve.emit("plotly_restyle",Gt.eventData),ve})}function j(ve){return ve===void 0?null:ve}function X(ve,xe){return xe?function(Ne,et,st){var lt=S(Ne,et),Gt=lt.set;return lt.set=function(jt){var Tt=(st||"")+et;se(Tt,lt.get(),jt,ve),Gt(jt)},lt}:S}function se(ve,xe,Ne,et){if(Array.isArray(xe)||Array.isArray(Ne))for(var st=Array.isArray(xe)?xe:[],lt=Array.isArray(Ne)?Ne:[],Gt=Math.max(st.length,lt.length),jt=0;jt<Gt;jt++)se(ve+"["+jt+"]",st[jt],lt[jt],et);else if(L.isPlainObject(xe)||L.isPlainObject(Ne)){var Tt=L.isPlainObject(xe)?xe:{},Dt=L.isPlainObject(Ne)?Ne:{},Xt=L.extendFlat({},Tt,Dt);for(var gr in Xt)se(ve+"."+gr,Tt[gr],Dt[gr],et)}else et[ve]===void 0&&(et[ve]=j(xe))}function q(ve,xe,Ne){for(var et in Ne){var st=S(ve,et);se(et,st.get(),Ne[et],xe)}}function ce(ve,xe,Ne){var et=ve._fullLayout,st=ve._fullData,lt=ve.data,Gt=et._guiEditing,jt=X(et._preGUI,Gt),Tt=L.extendDeepAll({},xe),Dt;ye(xe);var Xt=C.traceFlags(),gr={},gt={},Zt;function Qt(){return Ne.map(function(){})}function yr(An){var Tr=n.id2name(An);Zt.indexOf(Tr)===-1&&Zt.push(Tr)}function or(An){return"LAYOUT"+An+".autorange"}function mt(An){return"LAYOUT"+An+".range"}function ut(An){for(var Tr=An;Tr<st.length;Tr++)if(st[Tr]._input===lt[An])return st[Tr]}function bt(An,Tr,Fr){if(Array.isArray(An)){An.forEach(function(un){bt(un,Tr,Fr)});return}if(!(An in xe||x.hasParent(xe,An))){var Yr;if(An.substr(0,6)==="LAYOUT")Yr=jt(ve.layout,An.replace("LAYOUT",""));else{var _r=Ne[Fr],on=et._tracePreGUI[ut(_r)._fullInput.uid];Yr=X(on,Gt)(lt[_r],An)}An in gt||(gt[An]=Qt()),gt[An][Fr]===void 0&&(gt[An][Fr]=j(Yr.get())),Tr!==void 0&&Yr.set(Tr)}}function Et(An){return function(Tr){return st[Tr][An]}}function Rt(An){return function(Tr,Fr){return Tr===!1?st[Ne[Fr]][An]:null}}for(var Ht in xe){if(x.hasParent(xe,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Bt=xe[Ht],Nt,Jt,hr,fr,dr,Ye;if((Ht==="autobinx"||Ht==="autobiny")&&(Ht=Ht.charAt(Ht.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Rt(Ht)):Bt===!1?Bt=Ne.map(Et(Ht)):Bt=null),gr[Ht]=Bt,Ht.substr(0,6)==="LAYOUT"){hr=jt(ve.layout,Ht.replace("LAYOUT","")),gt[Ht]=[j(hr.get())],hr.set(Array.isArray(Bt)?Bt[0]:Bt),Xt.calc=!0;continue}for(gt[Ht]=Qt(),Dt=0;Dt<Ne.length;Dt++){Nt=lt[Ne[Dt]],Jt=ut(Ne[Dt]);var Ve=et._tracePreGUI[Jt._fullInput.uid];if(hr=X(Ve,Gt)(Nt,Ht),fr=hr.get(),dr=Array.isArray(Bt)?Bt[Dt%Bt.length]:Bt,dr!==void 0){var _t=hr.parts[hr.parts.length-1],kt=Ht.substr(0,Ht.length-_t.length-1),Kt=kt?kt+".":"",sr=kt?S(Jt,kt).get():Jt;if(Ye=t.getTraceValObject(Jt,hr.parts),Ye&&Ye.impliedEdits&&dr!==null)for(var cr in Ye.impliedEdits)bt(L.relativeAttr(Ht,cr),Ye.impliedEdits[cr],Dt);else if((_t==="thicknessmode"||_t==="lenmode")&&fr!==dr&&(dr==="fraction"||dr==="pixels")&&sr){var er=et._size,Ot=sr.orient,nr=Ot==="top"||Ot==="bottom";if(_t==="thicknessmode"){var vr=nr?er.h:er.w;bt(Kt+"thickness",sr.thickness*(dr==="fraction"?1/vr:vr),Dt)}else{var wr=nr?er.w:er.h;bt(Kt+"len",sr.len*(dr==="fraction"?1/wr:wr),Dt)}}else if(Ht==="type"&&(dr==="pie"!=(fr==="pie")||dr==="funnelarea"!=(fr==="funnelarea"))){var ur="x",Vr="y";(dr==="bar"||fr==="bar")&&Nt.orientation==="h"&&(ur="y",Vr="x"),L.swapAttrs(Nt,["?","?src"],"labels",ur),L.swapAttrs(Nt,["d?","?0"],"label",ur),L.swapAttrs(Nt,["?","?src"],"values",Vr),fr==="pie"||fr==="funnelarea"?(S(Nt,"marker.color").set(S(Nt,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&S(Nt,"marker.colors").set(S(Nt,"marker.color").get())}gt[Ht][Dt]=j(fr);var Pr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Pr.indexOf(Ht)!==-1){if(Ht==="orientation"){hr.set(dr);var Dr=Nt.x&&!Nt.y?"h":"v";if((hr.get()||Dr)===Jt.orientation)continue}else Ht==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Jt.orientation]);x.swapXYData(Nt),Xt.calc=Xt.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(hr.parts[0])!==-1?(x.manageArrayContainers(hr,dr,gt),Xt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs(Jt,"regl")&&(L.isArrayOrTypedArray(dr)||L.isArrayOrTypedArray(fr))?Xt.calc=!0:C.update(Xt,Ye):Xt.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ht)!==-1&&n.swap(ve,Ne),Ht==="orientationaxes"){var ln=S(ve.layout,"hovermode"),Wr=ln.get();Wr==="x"?ln.set("y"):Wr==="y"?ln.set("x"):Wr==="x unified"?ln.set("y unified"):Wr==="y unified"&&ln.set("x unified")}if(["orientation","type"].indexOf(Ht)!==-1){for(Zt=[],Dt=0;Dt<Ne.length;Dt++){var Tn=lt[Ne[Dt]];r.traceIs(Tn,"cartesian")&&(yr(Tn.xaxis||"x"),yr(Tn.yaxis||"y"))}bt(Zt.map(or),!0,0),bt(Zt.map(mt),[0,1],0)}}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:gt,redoit:gr,traces:Ne,eventData:L.extendDeepNoArrays([],[Tt,Ne])}}function ye(ve){var xe=L.counterRegex("axis",".title",!1,!1),Ne=/colorbar\.title$/,et=Object.keys(ve),st,lt,Gt;for(st=0;st<et.length;st++)lt=et[st],Gt=ve[lt],(lt==="title"||xe.test(lt)||Ne.test(lt))&&(typeof Gt=="string"||typeof Gt=="number")?jt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?jt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?jt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?jt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&jt(lt,lt.replace("titleoffset","title.offset"));function jt(Tt,Dt){ve[Dt]=ve[Tt],delete ve[Tt]}}function we(ve,xe,Ne){ve=L.getGraphDiv(ve),x.clearPromiseQueue(ve);var et={};if(typeof xe=="string")et[xe]=Ne;else if(L.isPlainObject(xe))et=L.extendFlat({},xe);else return L.warn("Relayout fail.",xe,Ne),Promise.reject();Object.keys(et).length&&(ve.changed=!0);var st=Ie(ve,et),lt=st.flags;lt.calc&&(ve.calcdata=void 0);var Gt=[a.previousPromises];lt.layoutReplot?Gt.push(w.layoutReplot):Object.keys(et).length&&(be(ve,lt,st)||a.supplyDefaults(ve),lt.legend&&Gt.push(w.doLegend),lt.layoutstyle&&Gt.push(w.layoutStyles),lt.axrange&&De(Gt,st.rangesAltered),lt.ticks&&Gt.push(w.doTicksRelayout),lt.modebar&&Gt.push(w.doModeBar),lt.camera&&Gt.push(w.doCamera),lt.colorbars&&Gt.push(w.doColorBars),Gt.push(E)),Gt.push(a.rehover,a.redrag,a.reselect),p.add(ve,we,[ve,st.undoit],we,[ve,st.redoit]);var jt=L.syncOrAsync(Gt,ve);return(!jt||!jt.then)&&(jt=Promise.resolve(ve)),jt.then(function(){return ve.emit("plotly_relayout",st.eventData),ve})}function be(ve,xe,Ne){var et=ve._fullLayout;if(!xe.axrange)return!1;for(var st in xe)if(st!=="axrange"&&xe[st])return!1;var lt,Gt,jt=function(Zt,Qt){return L.coerce(lt,Gt,l,Zt,Qt)},Tt={};for(var Dt in Ne.rangesAltered){var Xt=n.id2name(Dt);if(lt=ve.layout[Xt],Gt=et[Xt],f(lt,Gt,jt,Tt),Gt._matchGroup){for(var gr in Gt._matchGroup)if(gr!==Dt){var gt=et[n.id2name(gr)];gt.autorange=Gt.autorange,gt.range=Gt.range.slice(),gt._input.range=Gt.range.slice()}}}return!0}function De(ve,xe){var Ne=xe?function(et){var st=[],lt=!0;for(var Gt in xe){var jt=n.getFromId(et,Gt);if(st.push(Gt),(jt.ticklabelposition||"").indexOf("inside")!==-1&&jt._anchorAxis&&st.push(jt._anchorAxis._id),jt._matchGroup)for(var Tt in jt._matchGroup)xe[Tt]||st.push(Tt)}return n.draw(et,st,{skipTitle:lt})}:function(et){return n.draw(et,"redraw")};ve.push(c,w.doAutoRangeAndConstraints,Ne,w.drawData,w.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Be=/^[xyz]axis[0-9]*\.autorange$/,Ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ie(ve,xe){var Ne=ve.layout,et=ve._fullLayout,st=et._guiEditing,lt=X(et._preGUI,st),Gt=Object.keys(xe),jt=n.list(ve),Tt=L.extendDeepAll({},xe),Dt={},Xt,gr,gt;for(ye(xe),Gt=Object.keys(xe),gr=0;gr<Gt.length;gr++)if(Gt[gr].indexOf("allaxes")===0){for(gt=0;gt<jt.length;gt++){var Zt=jt[gt]._id.substr(1),Qt=Zt.indexOf("scene")!==-1?Zt+".":"",yr=Gt[gr].replace("allaxes",Qt+jt[gt]._name);xe[yr]||(xe[yr]=xe[Gt[gr]])}delete xe[Gt[gr]]}var or=C.layoutFlags(),mt={},ut={};function bt(on,un){if(Array.isArray(on)){on.forEach(function(Ln){bt(Ln,un)});return}if(!(on in xe||x.hasParent(xe,on))){var Sn=lt(Ne,on);on in ut||(ut[on]=j(Sn.get())),un!==void 0&&Sn.set(un)}}var Et={},Rt;function Ht(on){var un=n.name2id(on.split(".")[0]);return Et[un]=1,un}for(var Bt in xe){if(x.hasParent(xe,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=lt(Ne,Bt),Jt=xe[Bt],hr=Nt.parts.length,fr=hr-1;fr>0&&typeof Nt.parts[fr]!="string";)fr--;var dr=Nt.parts[fr],Ye=Nt.parts[fr-1]+"."+dr,Ve=Nt.parts.slice(0,fr).join("."),_t=S(ve.layout,Ve).get(),kt=S(et,Ve).get(),Kt=Nt.get();if(Jt!==void 0){mt[Bt]=Jt,ut[Bt]=dr==="reverse"?Jt:j(Kt);var sr=t.getLayoutValObject(et,Nt.parts);if(sr&&sr.impliedEdits&&Jt!==null)for(var cr in sr.impliedEdits)bt(L.relativeAttr(Bt,cr),sr.impliedEdits[cr]);if(["width","height"].indexOf(Bt)!==-1)if(Jt){bt("autosize",null);var er=Bt==="height"?"width":"height";bt(er,et[er])}else et[Bt]=ve._initialAutoSize[Bt];else if(Bt==="autosize")bt("width",Jt?null:et.width),bt("height",Jt?null:et.height);else if(Ye.match(ke))Ht(Ye),S(et,Ve+"._inputRange").set(null);else if(Ye.match(Be)){Ht(Ye),S(et,Ve+"._inputRange").set(null);var Ot=S(et,Ve).get();Ot._inputDomain&&(Ot._input.domain=Ot._inputDomain.slice())}else Ye.match(Ae)&&S(et,Ve+"._inputDomain").set(null);if(dr==="type"){Rt=_t;var nr=kt.type==="linear"&&Jt==="log",vr=kt.type==="log"&&Jt==="linear";if(nr||vr){if(!Rt||!Rt.range)bt(Ve+".autorange",!0);else if(kt.autorange)nr&&(Rt.range=Rt.range[1]>Rt.range[0]?[1,2]:[2,1]);else{var wr=Rt.range[0],ur=Rt.range[1];nr?(wr<=0&&ur<=0&&bt(Ve+".autorange",!0),wr<=0?wr=ur/1e6:ur<=0&&(ur=wr/1e6),bt(Ve+".range[0]",Math.log(wr)/Math.LN10),bt(Ve+".range[1]",Math.log(ur)/Math.LN10)):(bt(Ve+".range[0]",Math.pow(10,wr)),bt(Ve+".range[1]",Math.pow(10,ur)))}Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete et[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(ve,kt,Jt,bt),r.getComponentMethod("images","convertCoords")(ve,kt,Jt,bt)}else bt(Ve+".autorange",!0),bt(Ve+".range",null);S(et,Ve+"._inputRange").set(null)}else if(dr.match(y)){var Vr=S(et,Bt).get(),Pr=(Jt||{}).type;(!Pr||Pr==="-")&&(Pr="linear"),r.getComponentMethod("annotations","convertCoords")(ve,Vr,Pr,bt),r.getComponentMethod("images","convertCoords")(ve,Vr,Pr,bt)}var Dr=d.containerArrayMatch(Bt);if(Dr){Xt=Dr.array,gr=Dr.index;var ln=Dr.property,Wr=sr||{editType:"calc"};gr!==""&&ln===""&&(d.isAddVal(Jt)?ut[Bt]=null:d.isRemoveVal(Jt)?ut[Bt]=(S(Ne,Xt).get()||[])[gr]:L.warn("unrecognized full object value",xe)),C.update(or,Wr),Dt[Xt]||(Dt[Xt]={});var Tn=Dt[Xt][gr];Tn||(Tn=Dt[Xt][gr]={}),Tn[ln]=Jt,delete xe[Bt]}else dr==="reverse"?(_t.range?_t.range.reverse():(bt(Ve+".autorange",!0),_t.range=[1,0]),kt.autorange?or.calc=!0:or.plot=!0):(Bt==="dragmode"&&(Jt===!1&&Kt!==!1||Jt!==!1&&Kt===!1)||et._has("scatter-like")&&et._has("regl")&&Bt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(Kt==="lasso"||Kt==="select")||et._has("gl2d")?or.plot=!0:sr?C.update(or,sr):or.calc=!0,Nt.set(Jt))}}for(Xt in Dt){var An=d.applyContainerArrayChanges(ve,lt(Ne,Xt),Dt[Xt],or,lt);An||(or.plot=!0)}for(var Tr in Et){Rt=n.getFromId(ve,Tr);var Fr=Rt&&Rt._constraintGroup;if(Fr){or.calc=!0;for(var Yr in Fr)Et[Yr]||(n.getFromId(ve,Yr)._constraintShrinkable=!0)}}(Me(ve)||xe.height||xe.width)&&(or.plot=!0);var _r=et.shapes;for(gr=0;gr<_r.length;gr++)if(_r[gr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Et,undoit:ut,redoit:mt,eventData:Tt}}function Me(ve){var xe=ve._fullLayout,Ne=xe.width,et=xe.height;return ve.layout.autosize&&a.plotAutoSize(ve,ve.layout,xe),xe.width!==Ne||xe.height!==et}function Fe(ve,xe,Ne,et){ve=L.getGraphDiv(ve),x.clearPromiseQueue(ve),L.isPlainObject(xe)||(xe={}),L.isPlainObject(Ne)||(Ne={}),Object.keys(xe).length&&(ve.changed=!0),Object.keys(Ne).length&&(ve.changed=!0);var st=x.coerceTraceIndices(ve,et),lt=ce(ve,L.extendFlat({},xe),st),Gt=lt.flags,jt=Ie(ve,L.extendFlat({},Ne)),Tt=jt.flags;(Gt.calc||Tt.calc)&&(ve.calcdata=void 0),Gt.clearAxisTypes&&x.clearAxisTypes(ve,st,Ne);var Dt=[];Tt.layoutReplot?Dt.push(w.layoutReplot):Gt.fullReplot?Dt.push(V._doPlot):(Dt.push(a.previousPromises),be(ve,Tt,jt)||a.supplyDefaults(ve),Gt.style&&Dt.push(w.doTraceStyle),(Gt.colorbars||Tt.colorbars)&&Dt.push(w.doColorBars),Tt.legend&&Dt.push(w.doLegend),Tt.layoutstyle&&Dt.push(w.layoutStyles),Tt.axrange&&De(Dt,jt.rangesAltered),Tt.ticks&&Dt.push(w.doTicksRelayout),Tt.modebar&&Dt.push(w.doModeBar),Tt.camera&&Dt.push(w.doCamera),Dt.push(E)),Dt.push(a.rehover,a.redrag,a.reselect),p.add(ve,Fe,[ve,lt.undoit,jt.undoit,lt.traces],Fe,[ve,lt.redoit,jt.redoit,lt.traces]);var Xt=L.syncOrAsync(Dt,ve);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(ve)),Xt.then(function(){return ve.emit("plotly_update",{data:lt.eventData,layout:jt.eventData}),ve})}function Ee(ve){return function(Ne){Ne._fullLayout._guiEditing=!0;var et=ve.apply(null,arguments);return Ne._fullLayout._guiEditing=!1,et}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],rt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ot(ve,xe){for(var Ne=0;Ne<xe.length;Ne++){var et=xe[Ne],st=ve.match(et.pattern);if(st){var lt=st[1]||"";return{head:lt,tail:ve.substr(lt.length+1),attr:et.attr}}}}function $e(ve,xe){var Ne=S(xe,ve).get();if(Ne!==void 0)return Ne;var et=ve.split(".");for(et.pop();et.length>1;)if(et.pop(),Ne=S(xe,et.join(".")+".uirevision").get(),Ne!==void 0)return Ne;return xe.uirevision}function qe(ve,xe){for(var Ne=0;Ne<xe.length;Ne++)if(xe[Ne]._fullInput.uid===ve)return Ne;return-1}function ht(ve,xe,Ne){for(var et=0;et<xe.length;et++)if(xe[et].uid===ve)return et;return!xe[Ne]||xe[Ne].uid?-1:Ne}function vt(ve,xe){var Ne=L.isPlainObject(ve),et=Array.isArray(ve);return Ne||et?(Ne&&L.isPlainObject(xe)||et&&Array.isArray(xe))&&JSON.stringify(ve)===JSON.stringify(xe):ve===xe}function pt(ve,xe,Ne,et){var st=et._preGUI,lt,Gt,jt,Tt,Dt,Xt,gr,gt,Zt,Qt,yr=[],or={},mt={};for(lt in st){if(Dt=ot(lt,He),Dt){if(Zt=Dt.head,Qt=Dt.tail,Gt=Dt.attr||Zt+".uirevision",jt=S(et,Gt).get(),Tt=jt&&$e(Gt,xe),Tt&&Tt===jt){if(Xt=st[lt],Xt===null&&(Xt=void 0),gr=S(xe,lt),gt=gr.get(),vt(gt,Xt)){gt===void 0&&Qt==="autorange"&&yr.push(Zt),gr.set(j(S(et,lt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var ut=st[Zt+".range[0]"],bt=st[Zt+".range[1]"],Et=st[Zt+".autorange"];if(Et||Et===null&&ut===null&&bt===null){if(!(Zt in or)){var Rt=S(xe,Zt).get();or[Zt]=Rt&&(Rt.autorange||Rt.autorange!==!1&&(!Rt.range||Rt.range.length!==2))}if(or[Zt]){gr.set(j(S(et,lt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+lt);delete st[lt],Dt&&Dt.tail.substr(0,6)==="range["&&(mt[Dt.head]=1)}for(var Ht=0;Ht<yr.length;Ht++){var Bt=yr[Ht];if(mt[Bt]){var Nt=S(xe,Bt).get();Nt&&delete Nt.autorange}}var Jt=et._tracePreGUI;for(var hr in Jt){var fr=Jt[hr],dr=null,Ye;for(lt in fr){if(!dr){var Ve=qe(hr,Ne);if(Ve<0){delete Jt[hr];break}var _t=Ne[Ve];Ye=_t._fullInput;var kt=ht(hr,ve,Ye.index);if(kt<0){delete Jt[hr];break}dr=ve[kt]}if(Dt=ot(lt,rt),Dt){if(Dt.attr?(jt=S(et,Dt.attr).get(),Tt=jt&&$e(Dt.attr,xe)):(jt=Ye.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=xe.uirevision)),Tt&&Tt===jt&&(Xt=fr[lt],Xt===null&&(Xt=void 0),gr=S(dr,lt),gt=gr.get(),vt(gt,Xt))){gr.set(j(S(Ye,lt).get()));continue}}else L.warn("unrecognized GUI edit: "+lt+" in trace uid "+hr);delete fr[lt]}}}function wt(ve,xe,Ne,et){var st,lt;function Gt(){return V.addFrames(ve,st)}ve=L.getGraphDiv(ve),x.clearPromiseQueue(ve);var jt=ve._fullData,Tt=ve._fullLayout;if(!L.isPlotDiv(ve)||!jt||!Tt)lt=V.newPlot(ve,xe,Ne,et);else{if(L.isPlainObject(xe)){var Dt=xe;xe=Dt.data,Ne=Dt.layout,et=Dt.config,st=Dt.frames}var Xt=!1;if(et){var gr=L.extendDeep({},ve._context);ve._context=void 0,N(ve,et),Xt=Ge(gr,ve._context)}ve.data=xe||[],x.cleanData(ve.data),ve.layout=Ne||{},x.cleanLayout(ve.layout),pt(ve.data,ve.layout,jt,Tt),a.supplyDefaults(ve,{skipUpdateCalc:!0});var gt=ve._fullData,Zt=ve._fullLayout,Qt=Zt.datarevision===void 0,yr=Zt.transition,or=nt(ve,Tt,Zt,Qt,yr),mt=or.newDataRevision,ut=Mt(ve,jt,gt,Qt,yr,mt);if(Me(ve)&&(or.layoutReplot=!0),ut.calc||or.calc){ve.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Zt),Et=0;Et<bt.length;Et++){var Rt=bt[Et],Ht=Rt.substring(0,5);if(Ht==="xaxis"||Ht==="yaxis"){var Bt=Zt[Rt]._emptyCategories;Bt&&Bt()}}}else a.supplyDefaultsUpdateCalc(ve.calcdata,gt);var Nt=[];if(st&&(ve._transitionData={},a.createTransitionData(ve),Nt.push(Gt)),Zt.transition&&!Xt&&(ut.anim||or.anim))or.ticks&&Nt.push(w.doTicksRelayout),a.doCalcdata(ve),w.doAutoRangeAndConstraints(ve),Nt.push(function(){return a.transitionFromReact(ve,ut,or,Tt)});else if(ut.fullReplot||or.layoutReplot||Xt)ve._fullLayout._skipDefaults=!0,Nt.push(V._doPlot);else{for(var Jt in or.arrays){var hr=or.arrays[Jt];if(hr.length){var fr=r.getComponentMethod(Jt,"drawOne");if(fr!==L.noop)for(var dr=0;dr<hr.length;dr++)fr(ve,hr[dr]);else{var Ye=r.getComponentMethod(Jt,"draw");if(Ye===L.noop)throw new Error("cannot draw components: "+Jt);Ye(ve)}}}Nt.push(a.previousPromises),ut.style&&Nt.push(w.doTraceStyle),(ut.colorbars||or.colorbars)&&Nt.push(w.doColorBars),or.legend&&Nt.push(w.doLegend),or.layoutstyle&&Nt.push(w.layoutStyles),or.axrange&&De(Nt),or.ticks&&Nt.push(w.doTicksRelayout),or.modebar&&Nt.push(w.doModeBar),or.camera&&Nt.push(w.doCamera),Nt.push(E)}Nt.push(a.rehover,a.redrag,a.reselect),lt=L.syncOrAsync(Nt,ve),(!lt||!lt.then)&&(lt=Promise.resolve(ve))}return lt.then(function(){return ve.emit("plotly_react",{data:xe,layout:Ne}),ve})}function Mt(ve,xe,Ne,et,st,lt){var Gt=xe.length===Ne.length;if(!st&&!Gt)return{fullReplot:!0,calc:!0};var jt=C.traceFlags();jt.arrays={},jt.nChanges=0,jt.nChangesAnim=0;var Tt,Dt;function Xt(Zt){var Qt=t.getTraceValObject(Dt,Zt);return!Dt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var gr={getValObject:Xt,flags:jt,immutable:et,transition:st,newDataRevision:lt,gd:ve},gt={};for(Tt=0;Tt<xe.length;Tt++)if(Ne[Tt]){if(Dt=Ne[Tt]._fullInput,a.hasMakesDataTransform(Dt)&&(Dt=Ne[Tt]),gt[Dt.uid])continue;gt[Dt.uid]=1,_e(xe[Tt]._fullInput,Dt,[],gr)}return(jt.calc||jt.plot)&&(jt.fullReplot=!0),st&&jt.nChanges&&jt.nChangesAnim&&(jt.anim=jt.nChanges===jt.nChangesAnim&&Gt?"all":"some"),jt}function nt(ve,xe,Ne,et,st){var lt=C.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function Gt(Tt){return t.getLayoutValObject(Ne,Tt)}var jt={getValObject:Gt,flags:lt,immutable:et,transition:st,gd:ve};return _e(xe,Ne,[],jt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),st&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function _e(ve,xe,Ne,et){var st,lt,Gt,jt=et.getValObject,Tt=et.flags,Dt=et.immutable,Xt=et.inArray,gr=et.arrayIndex;function gt(){var Ve=st.editType;if(Xt&&Ve.indexOf("arraydraw")!==-1){L.pushUnique(Tt.arrays[Xt],gr);return}C.update(Tt,st),Ve!=="none"&&Tt.nChanges++,et.transition&&st.anim&&Tt.nChangesAnim++,(ke.test(Gt)||Be.test(Gt))&&(Tt.rangesAltered[Ne[0]]=1),Ae.test(Gt)&&S(xe,"_inputDomain").set(null),lt==="datarevision"&&(Tt.newDataRevision=1)}function Zt(Ve){return Ve.valType==="data_array"||Ve.arrayOk}for(lt in ve){if(Tt.calc&&!et.transition)return;var Qt=ve[lt],yr=xe[lt],or=Ne.concat(lt);if(Gt=or.join("."),!(lt.charAt(0)==="_"||typeof Qt=="function"||Qt===yr)){if((lt==="tick0"||lt==="dtick")&&Ne[0]!=="geo"){var mt=xe.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if(!(lt==="range"&&xe.autorange)&&!((lt==="zmin"||lt==="zmax")&&xe.type==="contourcarpet")&&(st=jt(or),!!st&&!(st._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(yr)))){var ut=st.valType,bt,Et=Zt(st),Rt=Array.isArray(Qt),Ht=Array.isArray(yr);if(Rt&&Ht){var Bt="_input_"+lt,Nt=ve[Bt],Jt=xe[Bt];if(Array.isArray(Nt)&&Nt===Jt)continue}if(yr===void 0)Et&&Rt?Tt.calc=!0:gt();else if(st._isLinkedToArray){var hr=[],fr=!1;Xt||(Tt.arrays[lt]=hr);var dr=Math.min(Qt.length,yr.length),Ye=Math.max(Qt.length,yr.length);if(dr!==Ye)if(st.editType==="arraydraw")fr=!0;else{gt();continue}for(bt=0;bt<dr;bt++)_e(Qt[bt],yr[bt],or.concat(bt),L.extendFlat({inArray:lt,arrayIndex:bt},et));if(fr)for(bt=dr;bt<Ye;bt++)hr.push(bt)}else!ut&&L.isPlainObject(Qt)?_e(Qt,yr,or,et):Et?Rt&&Ht?(Dt&&(Tt.calc=!0),(Dt||et.newDataRevision)&&gt()):Rt!==Ht?Tt.calc=!0:gt():Rt&&Ht?(Qt.length!==yr.length||String(Qt)!==String(yr))&&gt():gt()}}}for(lt in xe)if(!(lt in ve||lt.charAt(0)==="_"||typeof xe[lt]=="function"))if(st=jt(Ne.concat(lt)),Zt(st)&&Array.isArray(xe[lt])){Tt.calc=!0;return}else gt()}function Ge(ve,xe){var Ne;for(Ne in ve)if(Ne.charAt(0)!=="_"){var et=ve[Ne],st=xe[Ne];if(et!==st)if(L.isPlainObject(et)&&L.isPlainObject(st)){if(Ge(et,st))return!0}else if(Array.isArray(et)&&Array.isArray(st)){if(et.length!==st.length)return!0;for(var lt=0;lt<et.length;lt++)if(et[lt]!==st[lt])if(L.isPlainObject(et[lt])&&L.isPlainObject(st[lt])){if(Ge(et[lt],st[lt]))return!0}else return!0}else return!0}}function je(ve,xe,Ne){if(ve=L.getGraphDiv(ve),!L.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=ve._transitionData;et._frameQueue||(et._frameQueue=[]),Ne=a.supplyAnimationDefaults(Ne);var st=Ne.transition,lt=Ne.frame;et._frameWaitingCnt===void 0&&(et._frameWaitingCnt=0);function Gt(Dt){return Array.isArray(st)?Dt>=st.length?st[0]:st[Dt]:st}function jt(Dt){return Array.isArray(lt)?Dt>=lt.length?lt[0]:lt[Dt]:lt}function Tt(Dt,Xt){var gr=0;return function(){if(Dt&&++gr===Xt)return Dt()}}return new Promise(function(Dt,Xt){function gr(){if(et._frameQueue.length!==0){for(;et._frameQueue.length;){var dr=et._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}ve.emit("plotly_animationinterrupted",[])}}function gt(dr){if(dr.length!==0){for(var Ye=0;Ye<dr.length;Ye++){var Ve;dr[Ye].type==="byname"?Ve=a.computeFrame(ve,dr[Ye].name):Ve=dr[Ye].data;var _t=jt(Ye),kt=Gt(Ye);kt.duration=Math.min(kt.duration,_t.duration);var Kt={frame:Ve,name:dr[Ye].name,frameOpts:_t,transitionOpts:kt};Ye===dr.length-1&&(Kt.onComplete=Tt(Dt,2),Kt.onInterrupt=Xt),et._frameQueue.push(Kt)}Ne.mode==="immediate"&&(et._lastFrameAt=-1/0),et._animationRaf||yr()}}function Zt(){ve.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}function Qt(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var dr=et._currentFrame=et._frameQueue.shift();if(dr){var Ye=dr.name?dr.name.toString():null;ve._fullLayout._currentFrame=Ye,et._lastFrameAt=Date.now(),et._timeToNext=dr.frameOpts.duration,a.transition(ve,dr.frame.data,dr.frame.layout,x.coerceTraceIndices(ve,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),ve.emit("plotly_animatingframe",{name:Ye,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function yr(){ve.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var dr=function(){et._animationRaf=window.requestAnimationFrame(dr),Date.now()-et._lastFrameAt>et._timeToNext&&Qt()};dr()}var or=0;function mt(dr){return Array.isArray(st)?or>=st.length?dr.transitionOpts=st[or]:dr.transitionOpts=st[0]:dr.transitionOpts=st,or++,dr}var ut,bt,Et=[],Rt=xe==null,Ht=Array.isArray(xe),Bt=!Rt&&!Ht&&L.isPlainObject(xe);if(Bt)Et.push({type:"object",data:mt(L.extendFlat({},xe))});else if(Rt||["string","number"].indexOf(typeof xe)!==-1)for(ut=0;ut<et._frames.length;ut++)bt=et._frames[ut],bt&&(Rt||String(bt.group)===String(xe))&&Et.push({type:"byname",name:String(bt.name),data:mt({name:bt.name})});else if(Ht)for(ut=0;ut<xe.length;ut++){var Nt=xe[ut];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Et.push({type:"byname",name:Nt,data:mt({name:Nt})})):L.isPlainObject(Nt)&&Et.push({type:"object",data:mt(L.extendFlat({},Nt))})}for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&!et._frameHash[bt.data.name]){L.warn('animate failure: frame not found: "'+bt.data.name+'"'),Xt();return}["next","immediate"].indexOf(Ne.mode)!==-1&&gr(),Ne.direction==="reverse"&&Et.reverse();var Jt=ve._fullLayout._currentFrame;if(Jt&&Ne.fromcurrent){var hr=-1;for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&bt.name===Jt){hr=ut;break}if(hr>0&&hr<Et.length-1){var fr=[];for(ut=0;ut<Et.length;ut++)bt=Et[ut],(Et[ut].type!=="byname"||ut>hr)&&fr.push(bt);Et=fr}}Et.length>0?gt(Et):(ve.emit("plotly_animated"),Dt())})}function We(ve,xe,Ne){if(ve=L.getGraphDiv(ve),xe==null)return Promise.resolve();if(!L.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,st,lt,Gt,jt=ve._transitionData._frames,Tt=ve._transitionData._frameHash;if(!Array.isArray(xe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+xe);var Dt=jt.length+xe.length*2,Xt=[],gr={};for(et=xe.length-1;et>=0;et--)if(L.isPlainObject(xe[et])){var gt=xe[et].name,Zt=(Tt[gt]||gr[gt]||{}).name,Qt=xe[et].name,yr=Tt[Zt]||gr[Zt];Zt&&Qt&&typeof Qt=="number"&&yr&&M<A&&(M++,L.warn('addFrames: overwriting frame "'+(Tt[Zt]||gr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),M===A&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),gr[gt]={name:gt},Xt.push({frame:a.supplyFrameDefaults(xe[et]),index:Ne&&Ne[et]!==void 0&&Ne[et]!==null?Ne[et]:Dt+et})}Xt.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var or=[],mt=[],ut=jt.length;for(et=Xt.length-1;et>=0;et--){if(st=Xt[et].frame,typeof st.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!st.name)for(;Tt[st.name="frame "+ve._transitionData._counter++];);if(Tt[st.name]){for(lt=0;lt<jt.length&&(jt[lt]||{}).name!==st.name;lt++);or.push({type:"replace",index:lt,value:st}),mt.unshift({type:"replace",index:lt,value:jt[lt]})}else Gt=Math.max(0,Math.min(Xt[et].index,ut)),or.push({type:"insert",index:Gt,value:st}),mt.unshift({type:"delete",index:Gt}),ut++}var bt=a.modifyFrames,Et=a.modifyFrames,Rt=[ve,mt],Ht=[ve,or];return p&&p.add(ve,bt,Rt,Et,Ht),a.modifyFrames(ve,or)}function Pe(ve,xe){if(ve=L.getGraphDiv(ve),!L.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);var Ne,et,st=ve._transitionData._frames,lt=[],Gt=[];if(!xe)for(xe=[],Ne=0;Ne<st.length;Ne++)xe.push(Ne);for(xe=xe.slice(),xe.sort(),Ne=xe.length-1;Ne>=0;Ne--)et=xe[Ne],lt.push({type:"delete",index:et}),Gt.unshift({type:"insert",index:et,value:st[et]});var jt=a.modifyFrames,Tt=a.modifyFrames,Dt=[ve,Gt],Xt=[ve,lt];return p&&p.add(ve,jt,Dt,Tt,Xt),a.modifyFrames(ve,lt)}function Re(ve){ve=L.getGraphDiv(ve);var xe=ve._fullLayout||{},Ne=ve._fullData||[];return a.cleanPlot([],{},Ne,xe),a.purge(ve),v.purge(ve),xe._container&&xe._container.remove(),delete ve._context,ve}function Xe(ve){var xe=ve._fullLayout,Ne=ve.getBoundingClientRect();if(!L.equalDomRects(Ne,xe._lastBBox)){var et=xe._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(ve));xe._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),xe._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),xe._lastBBox=Ne}}function Le(ve){var xe=m.select(ve),Ne=ve._fullLayout;if(Ne._calcInverseTransform=Xe,Ne._calcInverseTransform(ve),Ne._container=xe.selectAll(".plot-container").data([0]),Ne._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ne._paperdiv=Ne._container.selectAll(".svg-container").data([0]),Ne._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ne._glcontainer=Ne._paperdiv.selectAll(".gl-container").data([{}]),Ne._glcontainer.enter().append("div").classed("gl-container",!0),Ne._paperdiv.selectAll(".main-svg").remove(),Ne._paperdiv.select(".modebar-container").remove(),Ne._paper=Ne._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ne._toppaper=Ne._paperdiv.append("svg").classed("main-svg",!0),Ne._modebardiv=Ne._paperdiv.append("div"),delete Ne._modeBar,Ne._hoverpaper=Ne._paperdiv.append("svg").classed("main-svg",!0),!Ne._uid){var et={};m.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),Ne._uid=L.randstr(et)}Ne._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ne._defs=Ne._paper.append("defs").attr("id","defs-"+Ne._uid),Ne._clips=Ne._defs.append("g").classed("clips",!0),Ne._topdefs=Ne._toppaper.append("defs").attr("id","topdefs-"+Ne._uid),Ne._topclips=Ne._topdefs.append("g").classed("clips",!0),Ne._bgLayer=Ne._paper.append("g").classed("bglayer",!0),Ne._draggers=Ne._paper.append("g").classed("draglayer",!0);var st=Ne._paper.append("g").classed("layer-below",!0);Ne._imageLowerLayer=st.append("g").classed("imagelayer",!0),Ne._shapeLowerLayer=st.append("g").classed("shapelayer",!0),Ne._cartesianlayer=Ne._paper.append("g").classed("cartesianlayer",!0),Ne._polarlayer=Ne._paper.append("g").classed("polarlayer",!0),Ne._smithlayer=Ne._paper.append("g").classed("smithlayer",!0),Ne._ternarylayer=Ne._paper.append("g").classed("ternarylayer",!0),Ne._geolayer=Ne._paper.append("g").classed("geolayer",!0),Ne._funnelarealayer=Ne._paper.append("g").classed("funnelarealayer",!0),Ne._pielayer=Ne._paper.append("g").classed("pielayer",!0),Ne._iciclelayer=Ne._paper.append("g").classed("iciclelayer",!0),Ne._treemaplayer=Ne._paper.append("g").classed("treemaplayer",!0),Ne._sunburstlayer=Ne._paper.append("g").classed("sunburstlayer",!0),Ne._indicatorlayer=Ne._toppaper.append("g").classed("indicatorlayer",!0),Ne._glimages=Ne._paper.append("g").classed("glimages",!0);var lt=Ne._toppaper.append("g").classed("layer-above",!0);Ne._imageUpperLayer=lt.append("g").classed("imagelayer",!0),Ne._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),Ne._selectionLayer=Ne._toppaper.append("g").classed("selectionlayer",!0),Ne._infolayer=Ne._toppaper.append("g").classed("infolayer",!0),Ne._menulayer=Ne._toppaper.append("g").classed("menulayer",!0),Ne._zoomlayer=Ne._toppaper.append("g").classed("zoomlayer",!0),Ne._hoverlayer=Ne._hoverpaper.append("g").classed("hoverlayer",!0),Ne._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ve.emit("plotly_framework")}V.animate=je,V.addFrames=We,V.deleteFrames=Pe,V.addTraces=ie,V.deleteTraces=Y,V.extendTraces=te,V.moveTraces=$,V.prependTraces=Q,V.newPlot=O,V._doPlot=s,V.purge=Re,V.react=wt,V.redraw=_,V.relayout=we,V.restyle=oe,V.setPlotConfig=b,V.update=Fe,V._guiRelayout=Ee(we),V._guiRestyle=Ee(oe),V._guiUpdate=Ee(Fe),V._storeDirectGUIEdit=q},20556:function(G){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function m(P,i){for(var L in P){var S=P[L];S.valType?i[L]=S.dflt:(i[L]||(i[L]={}),m(S,i[L]))}}m(V,e),G.exports={configAttributes:V,dfltConfig:e}},73060:function(G,V,e){var m=e(24040),P=e(3400),i=e(45464),L=e(64859),S=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,a=P.isPlainObject,n=P.isArrayOrTypedArray,f=P.nestedProperty,l=P.valObjectMeta,u="_isSubplotObj",g="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[u,g,h,T];V.IS_SUBPLOT_OBJ=u,V.IS_LINKED_TO_ARRAY=g,V.DEPRECATED=T,V.UNDERSCORE_ATTRS=c,V.get=function(){var N={};m.allTypes.forEach(function(O){N[O]=w(O)});var _={};return Object.keys(m.transformsRegistry).forEach(function(O){_[O]=y(O)}),{defs:{valObjects:l,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:C(),transforms:_,frames:M(),animation:A(v),config:A(p)}},V.crawl=function(N,_,O,B){var z=O||0;B=B||"",Object.keys(N).forEach(function(U){var Z=N[U];if(c.indexOf(U)===-1){var J=(B?B+".":"")+U;_(Z,U,N,z,J),!V.isValObject(Z)&&a(Z)&&U!=="impliedEdits"&&V.crawl(Z,_,z+1,J)}})},V.isValObject=function(N){return N&&N.valType!==void 0},V.findArrayAttributes=function(N){var _=[],O=[],B=[],z,U;function Z(Q,ie,Y,$){O=O.slice(0,$).concat([ie]),B=B.slice(0,$).concat([Q&&Q._isLinkedToArray]);var oe=Q&&(Q.valType==="data_array"||Q.arrayOk===!0)&&!(O[$-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));oe&&J(z,0,"")}function J(Q,ie,Y){var $=Q[O[ie]],oe=Y+O[ie];if(ie===O.length-1)n($)&&_.push(U+oe);else if(B[ie]){if(Array.isArray($))for(var j=0;j<$.length;j++)a($[j])&&J($[j],ie+1,oe+"["+j+"].")}else a($)&&J($,ie+1,oe+".")}z=N,U="",V.crawl(i,Z),N._module&&N._module.attributes&&V.crawl(N._module.attributes,Z);var re=N.transforms;if(re)for(var ne=0;ne<re.length;ne++){var ue=re[ne],te=ue._module;te&&(U="transforms["+ne+"].",z=ue,V.crawl(te.attributes,Z))}return _},V.getTraceValObject=function(N,_){var O=_[0],B=1,z,U;if(O==="transforms"){if(_.length===1)return i.transforms;var Z=N.transforms;if(!Array.isArray(Z)||!Z.length)return!1;var J=_[1];if(!x(J)||J>=Z.length)return!1;z=(m.transformsRegistry[Z[J].type]||{}).attributes,U=z&&z[_[2]],B=3}else{var re=N._module;if(re||(re=(m.modules[N.type||i.type.dflt]||{})._module),!re)return!1;if(z=re.attributes,U=z&&z[O],!U){var ne=re.basePlotModule;ne&&ne.attributes&&(U=ne.attributes[O])}U||(U=i[O])}return d(U,_,B)},V.getLayoutValObject=function(N,_){var O=o(N,_[0]);return d(O,_,1)};function o(N,_){var O,B,z,U,Z=N._basePlotModules;if(Z){var J;for(O=0;O<Z.length;O++){if(z=Z[O],z.attrRegex&&z.attrRegex.test(_)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!J&&z.layoutAttributes&&(J=z.layoutAttributes)}var re=z.baseLayoutAttrOverrides;if(re&&_ in re)return re[_]}if(J)return J}var ne=N._modules;if(ne){for(O=0;O<ne.length;O++)if(U=ne[O].layoutAttributes,U&&_ in U)return U[_]}for(B in m.componentsRegistry){if(z=m.componentsRegistry[B],z.name==="colorscale"&&_.indexOf("coloraxis")===0)return z.layoutAttributes[_];if(!z.schema&&_===z.name)return z.layoutAttributes}return _ in L?L[_]:!1}function d(N,_,O){if(!N)return!1;if(N._isLinkedToArray){if(x(_[O]))O++;else if(O<_.length)return!1}for(;O<_.length;O++){var B=N[_[O]];if(a(B))N=B;else break;if(O===_.length-1)break;if(N._isLinkedToArray){if(O++,!x(_[O]))return!1}else if(N.valType==="info_array"){O++;var z=_[O];if(!x(z))return!1;var U=N.items;if(Array.isArray(U)){if(z>=U.length)return!1;if(N.dimensions===2){if(O++,_.length===O)return N;var Z=_[O];if(!x(Z))return!1;N=U[z][Z]}else N=U[z]}else N=U}}return N}function x(N){return N===Math.round(N)&&N>=0}function w(N){var _,O;_=m.modules[N]._module,O=_.basePlotModule;var B={};B.type=null;var z=t({},i),U=t({},_.attributes);V.crawl(U,function(re,ne,ue,te,Q){f(z,Q).set(void 0),re===void 0&&f(U,Q).set(void 0)}),t(B,z),m.traceIs(N,"noOpacity")&&delete B.opacity,m.traceIs(N,"showLegend")||(delete B.showlegend,delete B.legendgroup),m.traceIs(N,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),_.selectPoints||delete B.selectedpoints,t(B,U),O.attributes&&t(B,O.attributes),B.type=N;var Z={meta:_.meta||{},categories:_.categories||{},animatable:!!_.animatable,type:N,attributes:A(B)};if(_.layoutAttributes){var J={};t(J,_.layoutAttributes),Z.layoutAttributes=A(J)}return _.animatable||V.crawl(Z,function(re){V.isValObject(re)&&"anim"in re&&delete re.anim}),Z}function C(){var N={},_,O;t(N,L);for(_ in m.subplotsRegistry)if(O=m.subplotsRegistry[_],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var B=0;B<O.attr.length;B++)F(N,O,O.attr[B]);else{var z=O.attr==="subplot"?O.name:O.attr;F(N,O,z)}for(_ in m.componentsRegistry){O=m.componentsRegistry[_];var U=O.schema;if(U&&(U.subplots||U.layout)){var Z=U.subplots;if(Z&&Z.xaxis&&!Z.yaxis)for(var J in Z.xaxis)delete N.yaxis[J];delete N.xaxis.shift,delete N.xaxis.autoshift}else O.name==="colorscale"?t(N,O.layoutAttributes):O.layoutAttributes&&I(N,O.layoutAttributes,O.name)}return{layoutAttributes:A(N)}}function y(N){var _=m.transformsRegistry[N],O=t({},_.attributes);return Object.keys(m.componentsRegistry).forEach(function(B){var z=m.componentsRegistry[B];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(U){I(O,z.schema.transforms[N][U],U)})}),{attributes:A(O)}}function M(){var N={frames:t({},S)};return A(N),N.frames}function A(N){return s(N),E(N),b(N),N}function s(N){function _(B){return{valType:"string",editType:"none"}}function O(B,z,U){V.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(U[z+"src"]=_()):a(B)&&(B.role="object")}V.crawl(N,O)}function E(N){function _(O,B,z){if(O){var U=O[g];U&&(delete O[g],z[B]={items:{}},z[B].items[U]=O,z[B].role="object")}}V.crawl(N,_)}function b(N){function _(O){for(var B in O)if(a(O[B]))_(O[B]);else if(Array.isArray(O[B]))for(var z=0;z<O[B].length;z++)_(O[B][z]);else O[B]instanceof RegExp&&(O[B]=O[B].toString())}_(N)}function F(N,_,O){var B=f(N,O),z=t({},_.layoutAttributes);z[u]=!0,B.set(z)}function I(N,_,O){var B=f(N,O);B.set(t(B.get()||{},_))}},31780:function(G,V,e){var m=e(3400),P=e(45464),i="templateitemname",L={name:{valType:"string",editType:"none"}};L[i]={valType:"string",editType:"calc"},V.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[i]=L[i],r},V.traceTemplater=function(p){var r={},t,a;for(t in p)a=p[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(f){t=m.coerce(f,{},P,"type");var l={type:t,_template:null};if(t in r){a=p[t];var u=r[t]%a.length;r[t]++,l._template=a[u]}return l}return{newTrace:n}},V.newContainer=function(p,r,t){var a=p._template,n=a&&(a[r]||t&&a[t]);m.isPlainObject(n)||(n=null);var f=p[r]={_template:n};return f},V.arrayTemplater=function(p,r,t){var a=p._template,n=a&&a[v(r)],f=a&&a[r];(!Array.isArray(f)||!f.length)&&(f=[]);var l={};function u(h){var T={name:h.name,_input:h},c=T[i]=h[i];if(!S(c))return T._template=n,T;for(var o=0;o<f.length;o++){var d=f[o];if(d.name===c)return l[c]=1,T._template=d,T}return T[t]=h[t]||!1,T._template=!1,T}function g(){for(var h=[],T=0;T<f.length;T++){var c=f[T],o=c.name;if(S(o)&&!l[o]){var d={_template:c,name:o,_input:{_templateitemname:o}};d[i]=c[i],h.push(d),l[o]=1}}return h}return{newItem:u,defaultItems:g}};function S(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&m.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,r,t){var a=(m.nestedProperty(p,r).get()||[]).length,n=t._index,f=n>=a&&(t._input||{})._templateitemname;f&&(n=a);var l=r+"["+n+"]",u;function g(){u={},f&&(u[l]={},u[l][i]=f)}g();function h(d,x){u[d]=x}function T(d,x){f?m.nestedProperty(u[l],d).set(x):u[l+"."+d]=x}function c(){var d=u;return g(),d}function o(d,x){d&&T(d,x);var w=c();for(var C in w)m.nestedProperty(p,C).set(w[C])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:o}}},39172:function(G,V,e){var m=e(33428),P=e(24040),i=e(7316),L=e(3400),S=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),a=e(45460),n=e(54460),f=e(84284),l=e(71888),u=l.enforce,g=l.clean,h=e(19280).doAutoRange,T="start",c="middle",o="end";V.layoutStyles=function(O){return L.syncOrAsync([i.doAutoMargin,x],O)};function d(O,B,z){for(var U=0;U<z.length;U++){var Z=z[U][0],J=z[U][1];if(!(Z[0]>=O[1]||Z[1]<=O[0])&&J[0]<B[1]&&J[1]>B[0])return!0}return!1}function x(O){var B=O._fullLayout,z=B._size,U=z.p,Z=n.list(O,"",!0),J,re,ne,ue,te,Q;if(B._paperdiv.style({width:O._context.responsive&&B.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":B.width+"px",height:O._context.responsive&&B.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(r.setSize,B.width,B.height),O._context.setBackground(O,B.paper_bgcolor),V.drawMainTitle(O),a.manage(O),!B._has("cartesian"))return i.previousPromises(O);function ie(Re,Xe,Le){var ve=Re._lw/2;if(Re._id.charAt(0)==="x"){if(Xe){if(Le==="top")return Xe._offset-U-ve}else return z.t+z.h*(1-(Re.position||0))+ve%1;return Xe._offset+Xe._length+U+ve}if(Xe){if(Le==="right")return Xe._offset+Xe._length+U+ve}else return z.l+z.w*(Re.position||0)+ve%1;return Xe._offset-U-ve}for(J=0;J<Z.length;J++){ue=Z[J];var Y=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(O,ue.linewidth,1),ue._mainLinePosition=ie(ue,Y,ue.side),ue._mainMirrorPosition=ue.mirror&&Y?ie(ue,Y,f.OPPOSITE_SIDE[ue.side]):null}var $=[],oe=[],j=[],X=p.opacity(B.paper_bgcolor)===1&&p.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(re in B._plots)if(ne=B._plots[re],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var se=ne.xaxis.domain,q=ne.yaxis.domain,ce=ne.plotgroup;if(d(se,q,j)){var ye=ce.node(),we=ne.bg=L.ensureSingle(ce,"rect","bg");ye.insertBefore(we.node(),ye.childNodes[0]),oe.push(re)}else ce.select("rect.bg").remove(),j.push([se,q]),X||($.push(re),oe.push(re))}var be=B._bgLayer.selectAll(".bg").data($);for(be.enter().append("rect").classed("bg",!0),be.exit().remove(),be.each(function(Re){B._plots[Re].bg=m.select(this)}),J=0;J<oe.length;J++)ne=B._plots[oe[J]],te=ne.xaxis,Q=ne.yaxis,ne.bg&&te._offset!==void 0&&Q._offset!==void 0&&ne.bg.call(r.setRect,te._offset-U,Q._offset-U,te._length+2*U,Q._length+2*U).call(p.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(re in B._plots){ne=B._plots[re],te=ne.xaxis,Q=ne.yaxis;var De=ne.clipId="clip"+B._uid+re+"plot",ke=L.ensureSingleById(B._clips,"clipPath",De,function(Re){Re.classed("plotclip",!0).append("rect")});ne.clipRect=ke.select("rect").attr({width:te._length,height:Q._length}),r.setTranslate(ne.plot,te._offset,Q._offset);var Be,Ae;ne._hasClipOnAxisFalse?(Be=null,Ae=De):(Be=De,Ae=null),r.setClipUrl(ne.plot,Be,O),ne.layerClipId=Ae}var Ie,Me,Fe,Ee,He,rt,ot,$e,qe,ht,vt,pt,wt;function Mt(Re){return"M"+Ie+","+Re+"H"+Me}function nt(Re){return"M"+te._offset+","+Re+"h"+te._length}function _e(Re){return"M"+Re+","+$e+"V"+ot}function Ge(Re){return Q._shift!==void 0&&(Re+=Q._shift),"M"+Re+","+Q._offset+"v"+Q._length}function je(Re,Xe,Le){if(!Re.showline||re!==Re._mainSubplot)return"";if(!Re._anchorAxis)return Le(Re._mainLinePosition);var ve=Xe(Re._mainLinePosition);return Re.mirror&&(ve+=Xe(Re._mainMirrorPosition)),ve}for(re in B._plots){ne=B._plots[re],te=ne.xaxis,Q=ne.yaxis;var We="M0,0";w(te,re)&&(He=y(te,"left",Q,Z),Ie=te._offset-(He?U+He:0),rt=y(te,"right",Q,Z),Me=te._offset+te._length+(rt?U+rt:0),Fe=ie(te,Q,"bottom"),Ee=ie(te,Q,"top"),wt=!te._anchorAxis||re!==te._mainSubplot,wt&&(te.mirror==="allticks"||te.mirror==="all")&&(te._linepositions[re]=[Fe,Ee]),We=je(te,Mt,nt),wt&&te.showline&&(te.mirror==="all"||te.mirror==="allticks")&&(We+=Mt(Fe)+Mt(Ee)),ne.xlines.style("stroke-width",te._lw+"px").call(p.stroke,te.showline?te.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",We);var Pe="M0,0";w(Q,re)&&(vt=y(Q,"bottom",te,Z),ot=Q._offset+Q._length+(vt?U:0),pt=y(Q,"top",te,Z),$e=Q._offset-(pt?U:0),qe=ie(Q,te,"left"),ht=ie(Q,te,"right"),wt=!Q._anchorAxis||re!==Q._mainSubplot,wt&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[re]=[qe,ht]),Pe=je(Q,_e,Ge),wt&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(Pe+=_e(qe)+_e(ht)),ne.ylines.style("stroke-width",Q._lw+"px").call(p.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",Pe)}return n.makeClipPaths(O),i.previousPromises(O)}function w(O,B){return(O.ticks||O.showline)&&(B===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function C(O,B,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var U=z._anchorAxis;if(!U)return!1;var Z=f.FROM_BL[B];return z.side===B?U.domain[Z]===O.domain[Z]:z.mirror&&U.domain[1-Z]===O.domain[1-Z]}function y(O,B,z,U){if(C(O,B,z))return z._lw;for(var Z=0;Z<U.length;Z++){var J=U[Z];if(J._mainAxis===z._mainAxis&&C(O,B,J))return J._lw}return 0}V.drawMainTitle=function(O){var B=O._fullLayout.title,z=O._fullLayout,U=N(z),Z=_(z),J=F(z,Z),re=b(z,U);if(t.draw(O,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:re,y:J,"text-anchor":U,dy:Z}}),B.text&&B.automargin){var ne=m.selectAll(".gtitle"),ue=r.bBox(ne.node()).height,te=s(O,B,ue);if(te>0){E(O,J,te,ue),ne.attr({x:re,y:J,"text-anchor":U,dy:I(B.yanchor)}).call(S.positionText,re,J);var Q=(B.text.match(S.BR_TAG_ALL)||[]).length;if(Q){var ie=f.LINE_SPACING*Q+f.MID_SHIFT;B.y===0&&(ie=-ie),ne.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-ie+"em";this.setAttribute("dy",Y)})}}}};function M(O,B,z,U,Z){var J=B.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,re=L.isTopAnchor(B)?U:U-Z,ne=z==="b"?J-re:re;return L.isTopAnchor(B)&&z==="t"||L.isBottomAnchor(B)&&z==="b"?!1:ne<Z}function A(O,B,z,U,Z){var J=0;return z==="middle"&&(J+=Z/2),O==="t"?(z==="top"&&(J+=Z),J+=U-B*U):(z==="bottom"&&(J+=Z),J+=B*U),J}function s(O,B,z){var U=B.y,Z=B.yanchor,J=U>.5?"t":"b",re=O._fullLayout.margin[J],ne=0;return B.yref==="paper"?ne=z+B.pad.t+B.pad.b:B.yref==="container"&&(ne=A(J,U,Z,O._fullLayout.height,z)+B.pad.t+B.pad.b),ne>re?ne:0}function E(O,B,z,U){var Z="title.automargin",J=O._fullLayout.title,re=J.y>.5?"t":"b",ne={x:J.x,y:J.y,t:0,b:0},ue={};J.yref==="paper"&&M(O,J,re,B,U)?ne[re]=z:J.yref==="container"&&(ue[re]=z,O._fullLayout._reservedMargin[Z]=ue),i.allowAutoMargin(O,Z),i.autoMargin(O,Z,ne)}function b(O,B){var z=O.title,U=O._size,Z=0;switch(B===T?Z=z.pad.l:B===o&&(Z=-z.pad.r),z.xref){case"paper":return U.l+U.w*z.x+Z;case"container":default:return O.width*z.x+Z}}function F(O,B){var z=O.title,U=O._size,Z=0;if(B==="0em"||!B?Z=-z.pad.b:B===f.CAP_SHIFT+"em"&&(Z=z.pad.t),z.y==="auto")return U.t/2;switch(z.yref){case"paper":return U.t+U.h-U.h*z.y+Z;case"container":default:return O.height-O.height*z.y+Z}}function I(O){return O==="top"?f.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(O){var B=O.title,z=c;return L.isRightAnchor(B)?z=o:L.isLeftAnchor(B)&&(z=T),z}function _(O){var B=O.title,z="0em";return L.isTopAnchor(B)?z=f.CAP_SHIFT+"em":L.isMiddleAnchor(B)&&(z=f.MID_SHIFT+"em"),z}V.doTraceStyle=function(O){var B=O.calcdata,z=[],U;for(U=0;U<B.length;U++){var Z=B[U],J=Z[0]||{},re=J.trace||{},ne=re._module||{},ue=ne.arraysToCalcdata;ue&&ue(Z,re);var te=ne.editStyle;te&&z.push({fn:te,cd0:J})}if(z.length){for(U=0;U<z.length;U++){var Q=z[U];Q.fn(O,Q.cd0)}v(O),V.redrawReglTraces(O)}return i.style(O),P.getComponentMethod("legend","draw")(O),i.previousPromises(O)},V.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),i.previousPromises(O)},V.layoutReplot=function(O){var B=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",B)},V.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),i.previousPromises(O)},V.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),V.redrawReglTraces(O)),V.drawMainTitle(O),i.previousPromises(O)},V.doModeBar=function(O){var B=O._fullLayout;a.manage(O);for(var z=0;z<B._basePlotModules.length;z++){var U=B._basePlotModules[z].updateFx;U&&U(O)}return i.previousPromises(O)},V.doCamera=function(O){for(var B=O._fullLayout,z=B._subplots.gl3d,U=0;U<z.length;U++){var Z=B[z[U]],J=Z._scene;J.setViewport(Z)}},V.drawData=function(O){var B=O._fullLayout;v(O);for(var z=B._basePlotModules,U=0;U<z.length;U++)z[U].plot(O);return V.redrawReglTraces(O),i.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),B._replotting=!1,i.previousPromises(O)},V.redrawReglTraces=function(O){var B=O._fullLayout;if(B._has("regl")){var z=O._fullData,U=[],Z=[],J,re;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),J=0;J<z.length;J++){var ne=z[J];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?B._splomScenes[ne.uid].draw():ne.type==="scattergl"?L.pushUnique(U,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&L.pushUnique(Z,ne.subplot))}for(J=0;J<U.length;J++)re=B._plots[U[J]],re._scene&&re._scene.draw();for(J=0;J<Z.length;J++)re=B[Z[J]]._subplot,re._scene&&re._scene.draw()}},V.doAutoRangeAndConstraints=function(O){for(var B=n.list(O,"",!0),z,U={},Z=0;Z<B.length;Z++)if(z=B[Z],!U[z._id]){U[z._id]=1,g(O,z),h(O,z);var J=z._matchGroup;if(J)for(var re in J){var ne=n.getFromId(O,re);h(O,ne,z.range),U[re]=1}}u(O)},V.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},V.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},94828:function(G,V,e){var m=e(3400),P=m.isPlainObject,i=e(73060),L=e(7316),S=e(45464),v=e(31780),p=e(20556).dfltConfig;V.makeTemplate=function(h){h=m.isPlainObject(h)?h:m.getGraphDiv(h),h=m.extendDeep({_context:p},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};T.forEach(function(b){var F={};a(b,F,f.bind(null,b));var I=m.coerce(b,{},S,"type"),N=o.data[I];N||(N=o.data[I]=[]),N.push(F)}),a(c,o.layout,n.bind(null,c)),delete o.layout.template;var d=c.template;if(P(d)){var x=d.layout,w,C,y,M,A,s;P(x)&&r(x,o.layout);var E=d.data;if(P(E)){for(C in o.data)if(y=E[C],Array.isArray(y)){for(A=o.data[C],s=A.length,M=y.length,w=0;w<s;w++)r(y[w%M],A[w]);for(w=s;w<M;w++)A.push(m.extendDeep({},y[w]))}for(C in E)C in o.data||(o.data[C]=m.extendDeep([],E[C]))}}return o};function r(h,T){h=m.extendDeep({},h);var c=Object.keys(h).sort(),o,d;function x(A,s,E){if(P(s)&&P(A))r(A,s);else if(Array.isArray(s)&&Array.isArray(A)){var b=v.arrayTemplater({_template:h},E);for(d=0;d<s.length;d++){var F=s[d],I=b.newItem(F)._template;I&&r(I,F)}var N=b.defaultItems();for(d=0;d<N.length;d++)s.push(N[d]._template);for(d=0;d<s.length;d++)delete s[d].templateitemname}}for(o=0;o<c.length;o++){var w=c[o],C=h[w];if(w in T?x(C,T[w],w):T[w]=C,t(w)===w)for(var y in T){var M=t(y);y!==M&&M===w&&!(y in h)&&x(C,T[y],w)}}}function t(h){return h.replace(/[0-9]+$/,"")}function a(h,T,c,o,d){var x=d&&c(d);for(var w in h){var C=h[w],y=l(h,w,o),M=l(h,w,d),A=c(M);if(!A){var s=t(w);s!==w&&(M=l(h,s,d),A=c(M))}if(!(x&&x===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(C)))if(!A.valType&&P(C))a(C,T,c,y,M);else if(A._isLinkedToArray&&Array.isArray(C))for(var E=!1,b=0,F={},I=0;I<C.length;I++){var N=C[I];if(P(N)){var _=N.name;if(_)F[_]||(a(N,T,c,l(C,b,y),l(C,b,M)),b++,F[_]=1);else if(!E){var O=v.arrayDefaultKey(w),B=l(h,O,o),z=l(C,b,y);a(N,T,c,z,l(C,b,M));var U=m.nestedProperty(T,z),Z=m.nestedProperty(T,B);Z.set(U.get()),U.set(null),E=!0}}}else{var J=m.nestedProperty(T,y);J.set(C)}}}function n(h,T){return i.getLayoutValObject(h,m.nestedProperty({},T).parts)}function f(h,T){return i.getTraceValObject(h,m.nestedProperty({},T).parts)}function l(h,T,c){var o;return c?Array.isArray(h)?o=c+"["+T+"]":o=c+"."+T:o=T,o}V.validateTemplate=function(h,T){var c=m.extendDeep({},{_context:p,data:h.data,layout:h.layout}),o=c.layout||{};P(T)||(T=o.template||{});var d=T.layout,x=T.data,w=[];c.layout=o,c.layout.template=T,L.supplyDefaults(c);var C=c._fullLayout,y=c._fullData,M={};function A(B,z){for(var U in B)if(U.charAt(0)!=="_"&&P(B[U])){var Z=t(U),J=[],re;for(re=0;re<z.length;re++)J.push(l(B,U,z[re])),Z!==U&&J.push(l(B,Z,z[re]));for(re=0;re<J.length;re++)M[J[re]]=1;A(B[U],J)}}function s(B,z){for(var U in B)if(U.indexOf("defaults")===-1&&P(B[U])){var Z=l(B,U,z);M[Z]?s(B[U],Z):w.push({code:"unused",path:Z})}}if(P(d)?(A(C,["layout"]),s(d,"layout")):w.push({code:"layout"}),!P(x))w.push({code:"data"});else{for(var E={},b,F=0;F<y.length;F++){var I=y[F];b=I.type,E[b]=(E[b]||0)+1,I._fullInput._template||w.push({code:"missing",index:I._fullInput.index,traceType:b})}for(b in x){var N=x[b].length,_=E[b]||0;N>_?w.push({code:"unused",traceType:b,templateCount:N,dataCount:_}):_>N&&w.push({code:"reused",traceType:b,templateCount:N,dataCount:_})}}function O(B,z){for(var U in B)if(U.charAt(0)!=="_"){var Z=B[U],J=l(B,U,z);P(Z)?(Array.isArray(B)&&Z._template===!1&&Z.templateitemname&&w.push({code:"missing",path:J,templateitemname:Z.templateitemname}),O(Z,J)):Array.isArray(Z)&&u(Z)&&O(Z,J)}}if(O({data:y,layout:C},""),w.length)return w.map(g)};function u(h){for(var T=0;T<h.length;T++)if(P(h[T]))return!0}function g(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(G,V,e){var m=e(38248),P=e(36424),i=e(7316),L=e(3400),S=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function a(n,f){f=f||{};var l,u,g,h;L.isPlainObject(n)?(l=n.data||[],u=n.layout||{},g=n.config||{},h={}):(n=L.getGraphDiv(n),l=L.extendDeep([],n.data),u=L.extendDeep({},n.layout),g=n._context,h=n._fullLayout||{});function T(_){return!(_ in f)||L.validate(f[_],t[_])}if(!T("width")&&f.width!==null||!T("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var c={};function o(_,O){return L.coerce(f,c,t,_,O)}var d=o("format"),x=o("width"),w=o("height"),C=o("scale"),y=o("setBackground"),M=o("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var s=L.extendFlat({},u);x?s.width=x:f.width===null&&m(h.width)&&(s.width=h.width),w?s.height=w:f.height===null&&m(h.height)&&(s.height=h.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),b=S.getRedrawFunc(A);function F(){return new Promise(function(_){setTimeout(_,S.getDelay(A._fullLayout))})}function I(){return new Promise(function(_,O){var B=v(A,d,C),z=A._fullLayout.width,U=A._fullLayout.height;function Z(){P.purge(A),document.body.removeChild(A)}if(d==="full-json"){var J=i.graphJson(A,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),Z(),_(M?J:S.encodeJSON(J))}if(Z(),d==="svg")return _(M?B:S.encodeSVG(B));var re=document.createElement("canvas");re.id=L.randstr(),p({format:d,width:z,height:U,scale:C,canvas:re,svg:B,promise:!0}).then(_).catch(O)})}function N(_){return M?_.replace(S.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,O){P.newPlot(A,l,s,E).then(b).then(F).then(I).then(function(B){_(N(B))}).catch(function(B){O(B)})})}G.exports=a},21480:function(G,V,e){var m=e(3400),P=e(7316),i=e(73060),L=e(20556).dfltConfig,S=m.isPlainObject,v=Array.isArray,p=m.isArrayOrTypedArray;G.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var x=i.get(),w=[],C={_context:m.extendFlat({},L)},y,M;v(o)?(C.data=m.extendDeep([],o),y=o):(C.data=[],y=[],w.push(f("array","data"))),S(d)?(C.layout=m.extendDeep({},d),M=d):(C.layout={},M={},arguments.length>1&&w.push(f("object","layout"))),P.supplyDefaults(C);for(var A=C._fullData,s=y.length,E=0;E<s;E++){var b=y[E],F=["data",E];if(!S(b)){w.push(f("object",F));continue}var I=A[E],N=I.type,_=x.traces[N].attributes;_.type={valType:"enumerated",values:[N]},I.visible===!1&&b.visible!==!1&&w.push(f("invisible",F)),r(b,I,_,w,F);var O=b.transforms,B=I.transforms;if(O){v(O)||w.push(f("array",F,["transforms"])),F.push("transforms");for(var z=0;z<O.length;z++){var U=["transforms",z],Z=O[z].type;if(!S(O[z])){w.push(f("object",F,U));continue}var J=x.transforms[Z]?x.transforms[Z].attributes:{};J.type={valType:"enumerated",values:Object.keys(x.transforms)},r(O[z],B[z],J,w,F,U)}}}var re=C._fullLayout,ne=t(x,A);return r(M,re,ne,w,"layout"),w.length===0?void 0:w};function r(c,o,d,x,w,C){C=C||[];for(var y=Object.keys(c),M=0;M<y.length;M++){var A=y[M];if(A!=="transforms"){var s=C.slice();s.push(A);var E=c[A],b=o[A],F=u(d,A),I=(F||{}).valType,N=I==="info_array",_=I==="colorscale",O=(F||{}).items;if(!l(d,A))x.push(f("schema",w,s));else if(S(E)&&S(b)&&I!=="any")r(E,b,F,x,w,s);else if(N&&v(E)){E.length>b.length&&x.push(f("unused",w,s.concat(b.length)));var B=b.length,z=Array.isArray(O);z&&(B=Math.min(B,O.length));var U,Z,J,re,ne;if(F.dimensions===2)for(Z=0;Z<B;Z++)if(v(E[Z])){E[Z].length>b[Z].length&&x.push(f("unused",w,s.concat(Z,b[Z].length)));var ue=b[Z].length;for(U=0;U<(z?Math.min(ue,O[Z].length):ue);U++)J=z?O[Z][U]:O,re=E[Z][U],ne=b[Z][U],m.validate(re,J)?ne!==re&&ne!==+re&&x.push(f("dynamic",w,s.concat(Z,U),re,ne)):x.push(f("value",w,s.concat(Z,U),re))}else x.push(f("array",w,s.concat(Z),E[Z]));else for(Z=0;Z<B;Z++)J=z?O[Z]:O,re=E[Z],ne=b[Z],m.validate(re,J)?ne!==re&&ne!==+re&&x.push(f("dynamic",w,s.concat(Z),re,ne)):x.push(f("value",w,s.concat(Z),re))}else if(F.items&&!N&&v(E)){var te=O[Object.keys(O)[0]],Q=[],ie,Y;for(ie=0;ie<b.length;ie++){var $=b[ie]._index||ie;if(Y=s.slice(),Y.push($),S(E[$])&&S(b[ie])){Q.push($);var oe=E[$],j=b[ie];S(oe)&&oe.visible!==!1&&j.visible===!1?x.push(f("invisible",w,Y)):r(oe,j,te,x,w,Y)}}for(ie=0;ie<E.length;ie++)Y=s.slice(),Y.push(ie),S(E[ie])?Q.indexOf(ie)===-1&&x.push(f("unused",w,Y)):x.push(f("object",w,Y,E[ie]))}else!S(E)&&S(b)?x.push(f("object",w,s,E)):!p(E)&&p(b)&&!N&&!_?x.push(f("array",w,s,E)):A in o?m.validate(E,F)?F.valType==="enumerated"&&(F.coerceNumber&&E!==+b||E!==b)&&x.push(f("dynamic",w,s,E,b)):x.push(f("value",w,s,E)):x.push(f("unused",w,s,E))}}return x}function t(c,o){for(var d=c.layout.layoutAttributes,x=0;x<o.length;x++){var w=o[x],C=c.traces[w.type],y=C.layoutAttributes;y&&(w.subplot?m.extendFlat(d[C.attributes.subplot.dflt],y):m.extendFlat(d,y))}return d}var a={object:function(c,o){var d;return c==="layout"&&o===""?d="The layout argument":c[0]==="data"&&o===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+o,d+" must be linked to an object container"},array:function(c,o){var d;return c==="data"?d="The data argument":d=n(c)+"key "+o,d+" must be linked to an array container"},schema:function(c,o){return n(c)+"key "+o+" is not part of the schema"},unused:function(c,o,d){var x=S(d)?"container":"key";return n(c)+x+" "+o+" did not get coerced"},dynamic:function(c,o,d,x){return[n(c)+"key",o,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?n(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,d){return[n(c)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,o,d,x,w){d=d||"";var C,y;v(o)?(C=o[0],y=o[1]):(C=o,y=null);var M=T(d),A=a[c](o,M,x,w);return m.log(A),{code:c,container:C,trace:y,path:d,astr:M,msg:A}}function l(c,o){var d=h(o),x=d.keyMinusId,w=d.id;return x in c&&c[x]._isSubplotObj&&w?!0:o in c}function u(c,o){if(o in c)return c[o];var d=h(o);return c[d.keyMinusId]}var g=m.counterRegex("([a-z]+)");function h(c){var o=c.match(g);return{keyMinusId:o&&o[1],id:o&&o[2]}}function T(c){if(!v(c))return String(c);for(var o="",d=0;d<c.length;d++){var x=c[d];typeof x=="number"?o=o.substr(0,o.length-1)+"["+x+"]":o+=x,d<c.length-1&&(o+=".")}return o}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,V,e){var m=e(3400),P=e(31780);G.exports=function(L,S,v){var p=v.name,r=v.inclusionAttr||"visible",t=S[p],a=m.isArrayOrTypedArray(L[p])?L[p]:[],n=S[p]=[],f=P.arrayTemplater(S,p,r),l,u;for(l=0;l<a.length;l++){var g=a[l];m.isPlainObject(g)?u=f.newItem(g):(u=f.newItem({}),u[r]=!1),u._index=l,u[r]!==!1&&v.handleItemDefaults(g,u,S,v),n.push(u)}var h=f.defaultItems();for(l=0;l<h.length;l++)u=h[l],u._index=n.length,v.handleItemDefaults({},u,S,v,{}),n.push(u);if(m.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(l=0;l<T;l++)m.relinkPrivateKeys(n[l],t[l])}return n}},45464:function(G,V,e){var m=e(25376),P=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:m({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,V,e){var m=e(38248),P=e(3400),i=P.dateTime2ms,L=P.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;G.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var f=r[a+"periodalignment"];if(!f)return{vals:n};var l=r[a+"period"],u;if(m(l)){if(l=+l,l<=0)return{vals:n}}else if(typeof l=="string"&&l.charAt(0)==="M"){var g=+l.substring(1);if(g>0&&Math.round(g)===g)u=g;else return{vals:n}}for(var h=t.calendar,T=f==="start",c=f==="end",o=r[a+"period0"],d=i(o,h)||0,x=[],w=[],C=[],y=n.length,M=0;M<y;M++){var A=n[M],s,E,b;if(u){for(s=Math.round((A-d)/(u*v)),b=L(d,u*s,h);b>A;)b=L(b,-u,h);for(;b<=A;)b=L(b,u,h);E=L(b,-u,h)}else{for(s=Math.round((A-d)/l),b=d+s*l;b>A;)b-=l;for(;b<=A;)b+=l;E=b-l}x[M]=T?E:c?b:(E+b)/2,w[M]=E,C[M]=b}return{vals:x,starts:w,ends:C}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,V,e){var m=e(33428),P=e(38248),i=e(3400),L=e(39032).FP_SAFE,S=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:s,getAutoRange:a,makePadFn:f,doAutoRange:h,findExtremes:T,concatExtremes:g};function a(E,b){var F,I,N=[],_=E._fullLayout,O=f(_,b,0),B=f(_,b,1),z=g(E,b),U=z.min,Z=z.max;if(U.length===0||Z.length===0)return i.simpleMap(b.range,b.r2l);var J=U[0].val,re=Z[0].val;for(F=1;F<U.length&&J===re;F++)J=Math.min(J,U[F].val);for(F=1;F<Z.length&&J===re;F++)re=Math.max(re,Z[F].val);var ne=b.autorange,ue=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!ue&&b.range){var te=i.simpleMap(b.range,b.r2l);ue=te[1]<te[0]}b.autorange==="reversed"&&(b.autorange=!0);var Q=b.rangemode,ie=Q==="tozero",Y=Q==="nonnegative",$=b._length,oe=$/10,j=0,X,se,q,ce,ye,we;for(F=0;F<U.length;F++)for(X=U[F],I=0;I<Z.length;I++)se=Z[I],we=se.val-X.val-n(b,X.val,se.val),we>0&&(ye=$-O(X)-B(se),ye>oe?we/ye>j&&(q=X,ce=se,j=we/ye):we/$>j&&(q={val:X.val,nopad:1},ce={val:se.val,nopad:1},j=we/$));function be(Ie,Me){return Math.max(Ie,B(Me))}if(J===re){var De=J-1,ke=J+1;if(ie)if(J===0)N=[0,1];else{var Be=(J>0?Z:U).reduce(be,0),Ae=J/(1-Math.min(.5,Be/$));N=J>0?[0,Ae]:[Ae,0]}else Y?N=[Math.max(0,De),Math.max(1,ke)]:N=[De,ke]}else ie?(q.val>=0&&(q={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):Y&&(q.val-j*O(q)<0&&(q={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),j=(ce.val-q.val-n(b,X.val,se.val))/($-O(q)-B(ce)),N=[q.val-j*O(q),ce.val+j*B(ce)];return N=s(N,b),b.limitRange&&b.limitRange(),ue&&N.reverse(),i.simpleMap(N,b.l2r||Number)}function n(E,b,F){var I=0;if(E.rangebreaks)for(var N=E.locateBreaks(b,F),_=0;_<N.length;_++){var O=N[_];I+=O.max-O.min}return I}function f(E,b,F){var I=.05*b._length,N=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var _=b.isReversed();if(!_){var O=i.simpleMap(b.range,b.r2l);_=O[1]<O[0]}_&&(F=!F)}var B=0;return t(E,b._id)||(B=u(E,b,F)),I=Math.max(B,I),b.constrain==="domain"&&b._inputDomain&&(I*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?I:B)}}var l=3;function u(E,b,F){var I=0,N=b._id.charAt(0)==="x";for(var _ in E._plots){var O=E._plots[_];if(!(b._id!==O.xaxis._id&&b._id!==O.yaxis._id)){var B=(N?O.yaxis:O.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!F&&(B.side==="left"||B.side==="bottom")||F&&(B.side==="top"||B.side==="right"))){if(B._vals){var z=i.deg2rad(B._tickAngles[B._id+"tick"]||0),U=Math.abs(Math.cos(z)),Z=Math.abs(Math.sin(z));if(!B._vals[0].bb){var J=B._id+"tick",re=B._selections[J];re.each(function(Y){var $=m.select(this),oe=$.select(".text-math-group");oe.empty()&&(Y.bb=v.bBox($.node()))})}for(var ne=0;ne<B._vals.length;ne++){var ue=B._vals[ne],te=ue.bb;if(te){var Q=2*l+te.width,ie=2*l+te.height;I=Math.max(I,N?Math.max(Q*U,ie*Z):Math.max(ie*U,Q*Z))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(I+=B.ticklen||0)}}}return I}function g(E,b,F){var I=b._id,N=E._fullData,_=E._fullLayout,O=[],B=[],z,U,Z;function J(Q,ie){for(z=0;z<ie.length;z++){var Y=Q[ie[z]],$=(Y._extremes||{})[I];if(Y.visible===!0&&$){for(U=0;U<$.min.length;U++)Z=$.min[U],c(O,Z.val,Z.pad,{extrapad:Z.extrapad});for(U=0;U<$.max.length;U++)Z=$.max[U],o(B,Z.val,Z.pad,{extrapad:Z.extrapad})}}}if(J(N,b._traceIndices),J(_.annotations||[],b._annIndices||[]),J(_.shapes||[],b._shapeIndices||[]),b._matchGroup&&!F){for(var re in b._matchGroup)if(re!==b._id){var ne=r(E,re),ue=g(E,ne,!0),te=b._length/ne._length;for(U=0;U<ue.min.length;U++)Z=ue.min[U],c(O,Z.val,Z.pad*te,{extrapad:Z.extrapad});for(U=0;U<ue.max.length;U++)Z=ue.max[U],o(B,Z.val,Z.pad*te,{extrapad:Z.extrapad})}}return{min:O,max:B}}function h(E,b,F){if(b.setScale(),b.autorange){b.range=F?F.slice():a(E,b),b._r=b.range.slice(),b._rl=i.simpleMap(b._r,b.r2l);var I=b._input,N={};N[b._attr+".range"]=b.range,N[b._attr+".autorange"]=b.autorange,S.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,N),I.range=b.range.slice(),I.autorange=b.autorange}var _=b._anchorAxis;if(_&&_.rangeslider){var O=_.rangeslider[b._name];O&&O.rangemode==="auto"&&(O.range=a(E,b)),_._input.rangeslider[b._name]=i.extendFlat({},O)}}function T(E,b,F){F||(F={}),E._m||E.setScale();var I=[],N=[],_=b.length,O=F.padded||!1,B=F.tozero&&(E.type==="linear"||E.type==="-"),z=E.type==="log",U=!1,Z=F.vpadLinearized||!1,J,re,ne,ue,te,Q,ie,Y,$;function oe(be){if(Array.isArray(be))return U=!0,function(ke){return Math.max(Number(be[ke]||0),0)};var De=Math.max(Number(be||0),0);return function(){return De}}var j=oe((E._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),X=oe((E._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),se=oe(F.vpadplus||F.vpad),q=oe(F.vpadminus||F.vpad);if(!U){if(Y=1/0,$=-1/0,z)for(J=0;J<_;J++)re=b[J],re<Y&&re>0&&(Y=re),re>$&&re<L&&($=re);else for(J=0;J<_;J++)re=b[J],re<Y&&re>-L&&(Y=re),re>$&&re<L&&($=re);b=[Y,$],_=2}var ce={tozero:B,extrapad:O};function ye(be){ne=b[be],P(ne)&&(Q=j(be),ie=X(be),Z?(ue=E.c2l(ne)-q(be),te=E.c2l(ne)+se(be)):(Y=ne-q(be),$=ne+se(be),z&&Y<$/10&&(Y=$/10),ue=E.c2l(Y),te=E.c2l($)),B&&(ue=Math.min(0,ue),te=Math.max(0,te)),x(ue)&&c(I,ue,ie,ce),x(te)&&o(N,te,Q,ce))}var we=Math.min(6,_);for(J=0;J<we;J++)ye(J);for(J=_-1;J>=we;J--)ye(J);return{min:I,max:N,opts:F}}function c(E,b,F,I){d(E,b,F,I,w)}function o(E,b,F,I){d(E,b,F,I,C)}function d(E,b,F,I,N){for(var _=I.tozero,O=I.extrapad,B=!0,z=0;z<E.length&&B;z++){var U=E[z];if(N(U.val,b)&&U.pad>=F&&(U.extrapad||!O)){B=!1;break}else N(b,U.val)&&U.pad<=F&&(O||!U.extrapad)&&(E.splice(z,1),z--)}if(B){var Z=_&&b===0;E.push({val:b,pad:Z?0:F,extrapad:Z?!1:O})}}function x(E){return P(E)&&Math.abs(E)<L}function w(E,b){return E<=b}function C(E,b){return E>=b}function y(E,b){var F=b.autorangeoptions;return F&&F.minallowed!==void 0&&A(b,F.minallowed,F.maxallowed)?F.minallowed:F&&F.clipmin!==void 0&&A(b,F.clipmin,F.clipmax)?Math.max(E,b.d2l(F.clipmin)):E}function M(E,b){var F=b.autorangeoptions;return F&&F.maxallowed!==void 0&&A(b,F.minallowed,F.maxallowed)?F.maxallowed:F&&F.clipmax!==void 0&&A(b,F.clipmin,F.clipmax)?Math.min(E,b.d2l(F.clipmax)):E}function A(E,b,F){return b!==void 0&&F!==void 0?(b=E.d2l(b),F=E.d2l(F),b<F):!0}function s(E,b){if(!b||!b.autorangeoptions)return E;var F=E[0],I=E[1],N=b.autorangeoptions.include;if(N!==void 0){var _=b.d2l(F),O=b.d2l(I);i.isArrayOrTypedArray(N)||(N=[N]);for(var B=0;B<N.length;B++){var z=b.d2l(N[B]);_>=z&&(_=z,F=z),O<=z&&(O=z,I=z)}}return F=y(F,b),I=M(I,b),[F,I]}},76808:function(G){G.exports=function(e,m,P){var i,L;if(P){var S=m==="reversed"||m==="min reversed"||m==="max reversed";i=P[S?1:0],L=P[S?0:1]}var v=e("autorangeoptions.minallowed",L===null?i:void 0),p=e("autorangeoptions.maxallowed",i===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,V,e){var m=e(33428),P=e(38248),i=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(72736),r=e(81668),t=e(76308),a=e(43616),n=e(94724),f=e(98728),l=e(39032),u=l.ONEMAXYEAR,g=l.ONEAVGYEAR,h=l.ONEMINYEAR,T=l.ONEMAXQUARTER,c=l.ONEAVGQUARTER,o=l.ONEMINQUARTER,d=l.ONEMAXMONTH,x=l.ONEAVGMONTH,w=l.ONEMINMONTH,C=l.ONEWEEK,y=l.ONEDAY,M=y/2,A=l.ONEHOUR,s=l.ONEMIN,E=l.ONESEC,b=l.MINUS_SIGN,F=l.BADNUM,I={K:"zeroline"},N={K:"gridline",L:"path"},_={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},B={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(84284),Z=U.MID_SHIFT,J=U.CAP_SHIFT,re=U.LINE_SPACING,ne=U.OPPOSITE_SIDE,ue=3,te=G.exports={};te.setConvert=e(78344);var Q=e(52976),ie=e(79811),Y=ie.idSort,$=ie.isLinked;te.id2name=ie.id2name,te.name2id=ie.name2id,te.cleanId=ie.cleanId,te.list=ie.list,te.listIds=ie.listIds,te.getFromId=ie.getFromId,te.getFromTrace=ie.getFromTrace;var oe=e(19280);te.getAutoRange=oe.getAutoRange,te.findExtremes=oe.findExtremes;var j=1e-4;function X(Ye){var Ve=(Ye[1]-Ye[0])*j;return[Ye[0]-Ve,Ye[1]+Ve]}te.coerceRef=function(Ye,Ve,_t,kt,Kt,sr){var cr=kt.charAt(kt.length-1),er=_t._fullLayout._subplots[cr+"axis"],Ot=kt+"ref",nr={};return Kt||(Kt=er[0]||(typeof sr=="string"?sr:sr[0])),sr||(sr=Kt),er=er.concat(er.map(function(vr){return vr+" domain"})),nr[Ot]={valType:"enumerated",values:er.concat(sr?typeof sr=="string"?[sr]:sr:[]),dflt:Kt},S.coerce(Ye,Ve,nr,Ot)},te.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},te.coercePosition=function(Ye,Ve,_t,kt,Kt,sr){var cr,er,Ot=te.getRefType(kt);if(Ot!=="range")cr=S.ensureNumber,er=_t(Kt,sr);else{var nr=te.getFromId(Ve,kt);sr=nr.fraction2r(sr),er=_t(Kt,sr),cr=nr.cleanPos}Ye[Kt]=cr(er)},te.cleanPosition=function(Ye,Ve,_t){var kt=_t==="paper"||_t==="pixel"?S.ensureNumber:te.getFromId(Ve,_t).cleanPos;return kt(Ye)},te.redrawComponents=function(Ye,Ve){Ve=Ve||te.listIds(Ye);var _t=Ye._fullLayout;function kt(Kt,sr,cr,er){for(var Ot=L.getComponentMethod(Kt,sr),nr={},vr=0;vr<Ve.length;vr++)for(var wr=_t[te.id2name(Ve[vr])],ur=wr[cr],Vr=0;Vr<ur.length;Vr++){var Pr=ur[Vr];if(!nr[Pr]&&(Ot(Ye,Pr),nr[Pr]=1,er))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var se=te.getDataConversions=function(Ye,Ve,_t,kt){var Kt,sr=_t==="x"||_t==="y"||_t==="z"?_t:kt;if(S.isArrayOrTypedArray(sr)){if(Kt={type:Q(kt,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},te.setConvert(Kt),Kt.type==="category")for(var cr=0;cr<kt.length;cr++)Kt.d2c(kt[cr])}else Kt=te.getFromTrace(Ye,Ve,sr);return Kt?{d2c:Kt.d2c,c2d:Kt.c2d}:sr==="ids"?{d2c:ce,c2d:ce}:{d2c:q,c2d:q}};function q(Ye){return+Ye}function ce(Ye){return String(Ye)}te.getDataToCoordFunc=function(Ye,Ve,_t,kt){return se(Ye,Ve,_t,kt).d2c},te.counterLetter=function(Ye){var Ve=Ye.charAt(0);if(Ve==="x")return"y";if(Ve==="y")return"x"},te.minDtick=function(Ye,Ve,_t,kt){["log","category","multicategory"].indexOf(Ye.type)!==-1||!kt?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=Ve,Ye._forceTick0=_t):Ye._minDtick&&((Ye._minDtick/Ve+1e-6)%1<2e-6&&((_t-Ye._forceTick0)/Ve%1+1.000001)%1<2e-6?(Ye._minDtick=Ve,Ye._forceTick0=_t):((Ve/Ye._minDtick+1e-6)%1>2e-6||((_t-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},te.saveRangeInitial=function(Ye,Ve){for(var _t=te.list(Ye,"",!0),kt=!1,Kt=0;Kt<_t.length;Kt++){var sr=_t[Kt],cr=sr._rangeInitial0===void 0&&sr._rangeInitial1===void 0,er=cr||sr.range[0]!==sr._rangeInitial0||sr.range[1]!==sr._rangeInitial1,Ot=sr.autorange;(cr&&Ot!==!0||Ve&&er)&&(sr._rangeInitial0=Ot==="min"||Ot==="max reversed"?void 0:sr.range[0],sr._rangeInitial1=Ot==="max"||Ot==="min reversed"?void 0:sr.range[1],sr._autorangeInitial=Ot,kt=!0)}return kt},te.saveShowSpikeInitial=function(Ye,Ve){for(var _t=te.list(Ye,"",!0),kt=!1,Kt="on",sr=0;sr<_t.length;sr++){var cr=_t[sr],er=cr._showSpikeInitial===void 0,Ot=er||cr.showspikes!==cr._showspikes;(er||Ve&&Ot)&&(cr._showSpikeInitial=cr.showspikes,kt=!0),Kt==="on"&&!cr.showspikes&&(Kt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Kt,kt},te.autoBin=function(Ye,Ve,_t,kt,Kt,sr){var cr=S.aggNums(Math.min,null,Ye),er=S.aggNums(Math.max,null,Ye);if(Ve.type==="category"||Ve.type==="multicategory")return{start:cr-.5,end:er+.5,size:Math.max(1,Math.round(sr)||1),_dataSpan:er-cr};Kt||(Kt=Ve.calendar);var Ot;if(Ve.type==="log"?Ot={type:"linear",range:[cr,er]}:Ot={type:Ve.type,range:S.simpleMap([cr,er],Ve.c2r,0,Kt),calendar:Kt},te.setConvert(Ot),sr=sr&&f.dtick(sr,Ot.type),sr)Ot.dtick=sr,Ot.tick0=f.tick0(void 0,Ot.type,Kt);else{var nr;if(_t)nr=(er-cr)/_t;else{var vr=S.distinctVals(Ye),wr=Math.pow(10,Math.floor(Math.log(vr.minDiff)/Math.LN10)),ur=wr*S.roundUp(vr.minDiff/wr,[.9,1.9,4.9,9.9],!0);nr=Math.max(ur,2*S.stdev(Ye)/Math.pow(Ye.length,kt?.25:.4)),P(nr)||(nr=1)}te.autoTicks(Ot,nr)}var Vr=Ot.dtick,Pr=te.tickIncrement(te.tickFirst(Ot),Vr,"reverse",Kt),Dr,ln;if(typeof Vr=="number")Pr=ye(Pr,Ye,Ot,cr,er),ln=1+Math.floor((er-Pr)/Vr),Dr=Pr+ln*Vr;else for(Ot.dtick.charAt(0)==="M"&&(Pr=we(Pr,Ye,Vr,cr,Kt)),Dr=Pr,ln=0;Dr<=er;)Dr=te.tickIncrement(Dr,Vr,!1,Kt),ln++;return{start:Ve.c2r(Pr,0,Kt),end:Ve.c2r(Dr,0,Kt),size:Vr,_dataSpan:er-cr}};function ye(Ye,Ve,_t,kt,Kt){var sr=0,cr=0,er=0,Ot=0;function nr(Vr){return(1+(Vr-Ye)*100/_t.dtick)%100<2}for(var vr=0;vr<Ve.length;vr++)Ve[vr]%1===0?er++:P(Ve[vr])||Ot++,nr(Ve[vr])&&sr++,nr(Ve[vr]+_t.dtick/2)&&cr++;var wr=Ve.length-Ot;if(er===wr&&_t.type!=="date")_t.dtick<1?Ye=kt-.5*_t.dtick:(Ye-=.5,Ye+_t.dtick<kt&&(Ye+=_t.dtick));else if(cr<wr*.1&&(sr>wr*.3||nr(kt)||nr(Kt))){var ur=_t.dtick/2;Ye+=Ye+ur<kt?ur:-ur}return Ye}function we(Ye,Ve,_t,kt,Kt){var sr=S.findExactDates(Ve,Kt),cr=.8;if(sr.exactDays>cr){var er=Number(_t.substr(1));sr.exactYears>cr&&er%12===0?Ye=te.tickIncrement(Ye,"M6","reverse")+y*1.5:sr.exactMonths>cr?Ye=te.tickIncrement(Ye,"M1","reverse")+y*15.5:Ye-=M;var Ot=te.tickIncrement(Ye,_t);if(Ot<=kt)return Ot}return Ye}te.prepMinorTicks=function(Ye,Ve,_t){if(!Ve.minor.dtick){delete Ye.dtick;var kt=Ve.dtick&&P(Ve._tmin),Kt;if(kt){var sr=te.tickIncrement(Ve._tmin,Ve.dtick,!0);Kt=[Ve._tmin,sr*.99+Ve._tmin*.01]}else{var cr=S.simpleMap(Ve.range,Ve.r2l);Kt=[cr[0],.8*cr[0]+.2*cr[1]]}if(Ye.range=S.simpleMap(Kt,Ve.l2r),Ye._isMinor=!0,te.prepTicks(Ye,_t),kt){var er=P(Ve.dtick),Ot=P(Ye.dtick),nr=er?Ve.dtick:+Ve.dtick.substring(1),vr=Ot?Ye.dtick:+Ye.dtick.substring(1);er&&Ot?be(nr,vr)?nr===2*C&&vr===2*y&&(Ye.dtick=C):nr===2*C&&vr===3*y?Ye.dtick=C:nr===C&&!(Ve._input.minor||{}).nticks?Ye.dtick=y:De(nr/vr,2.5)?Ye.dtick=nr/2:Ye.dtick=nr:String(Ve.dtick).charAt(0)==="M"?Ot?Ye.dtick="M1":be(nr,vr)?nr>=12&&vr===2&&(Ye.dtick="M3"):Ye.dtick=Ve.dtick:String(Ye.dtick).charAt(0)==="L"?String(Ve.dtick).charAt(0)==="L"?be(nr,vr)||(Ye.dtick=De(nr/vr,2.5)?Ve.dtick/2:Ve.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+Ve.dtick>1&&(Ye.dtick=1)}Ye.range=Ve.range}Ve.minor._tick0Init===void 0&&(Ye.tick0=Ve.tick0)};function be(Ye,Ve){return Math.abs((Ye/Ve+.5)%1-.5)<.001}function De(Ye,Ve){return Math.abs(Ye/Ve-1)<.001}te.prepTicks=function(Ye,Ve){var _t=S.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Ve);if(Ye.tickmode==="auto"||!Ye.dtick){var kt=Ye.nticks,Kt;kt||(Ye.type==="category"||Ye.type==="multicategory"?(Kt=Ye.tickfont?S.bigFont(Ye.tickfont.size||12):15,kt=Ye._length/Kt):(Kt=Ye._id.charAt(0)==="y"?40:80,kt=S.constrain(Ye._length/Kt,4,9)+1),Ye._name==="radialaxis"&&(kt*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(kt*=100),Ye._roughDTick=Math.abs(_t[1]-_t[0])/kt,te.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Be(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),pt(Ye)};function ke(Ye){return+Ye.substring(1)}function Be(Ye){var Ve;function _t(){return!(P(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var kt=_t(),Kt=te.getTickFormat(Ye);if(Kt){var sr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Kt)||(/%[HI]/.test(Kt)?(Ve=A,sr&&!kt&&Ye.dtick<A&&(Ye.dtick=A)):/%p/.test(Kt)?(Ve=M,sr&&!kt&&Ye.dtick<M&&(Ye.dtick=M)):/%[Aadejuwx]/.test(Kt)?(Ve=y,sr&&!kt&&Ye.dtick<y&&(Ye.dtick=y)):/%[UVW]/.test(Kt)?(Ve=C,sr&&!kt&&Ye.dtick<C&&(Ye.dtick=C)):/%[Bbm]/.test(Kt)?(Ve=x,sr&&(kt?ke(Ye.dtick)<1:Ye.dtick<w)&&(Ye.dtick="M1")):/%[q]/.test(Kt)?(Ve=c,sr&&(kt?ke(Ye.dtick)<3:Ye.dtick<o)&&(Ye.dtick="M3")):/%[Yy]/.test(Kt)&&(Ve=g,sr&&(kt?ke(Ye.dtick)<12:Ye.dtick<h)&&(Ye.dtick="M12")))}kt=_t(),kt&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=Ve}function Ae(Ye,Ve,_t){for(var kt=0;kt<Ye.length;kt++){var Kt=Ye[kt].value,sr=kt,cr=kt+1;kt<Ye.length-1?(sr=kt,cr=kt+1):kt>0?(sr=kt-1,cr=kt):(sr=kt,cr=kt);var er=Ye[sr].value,Ot=Ye[cr].value,nr=Math.abs(Ot-er),vr=_t||nr,wr=0;vr>=h?nr>=h&&nr<=u?wr=nr:wr=g:_t===c&&vr>=o?nr>=o&&nr<=T?wr=nr:wr=c:vr>=w?nr>=w&&nr<=d?wr=nr:wr=x:_t===C&&vr>=C?wr=C:vr>=y?wr=y:_t===M&&vr>=M?wr=M:_t===A&&vr>=A&&(wr=A);var ur;wr>=nr&&(wr=nr,ur=!0);var Vr=Kt+wr;if(Ve.rangebreaks&&wr>0){for(var Pr=84,Dr=0,ln=0;ln<Pr;ln++){var Wr=(ln+.5)/Pr;Ve.maskBreaks(Kt*(1-Wr)+Wr*Vr)!==F&&Dr++}wr*=Dr/Pr,wr||(Ye[kt].drop=!0),ur&&nr>C&&(wr=nr)}(wr>0||kt===0)&&(Ye[kt].periodX=Kt+wr/2)}}te.calcTicks=function(Ve,_t){for(var kt=Ve.type,Kt=Ve.calendar,sr=Ve.ticklabelstep,cr=Ve.ticklabelmode==="period",er=S.simpleMap(Ve.range,Ve.r2l,void 0,void 0,_t),Ot=er[1]<er[0],nr=Math.min(er[0],er[1]),vr=Math.max(er[0],er[1]),wr=Math.max(1e3,Ve._length||0),ur=[],Vr=[],Pr=[],Dr=[],ln=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),Wr=1;Wr>=(ln?0:1);Wr--){var Tn=!Wr;Wr?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var An=Wr?Ve:S.extendFlat({},Ve,Ve.minor);if(Tn?te.prepMinorTicks(An,Ve,_t):te.prepTicks(An,_t),An.tickmode==="array"){Wr?(Pr=[],ur=Fe(Ve,!Tn)):(Dr=[],Vr=Fe(Ve,!Tn));continue}if(An.tickmode==="sync"){Pr=[],ur=Me(Ve);continue}var Tr=X(er),Fr=Tr[0],Yr=Tr[1],_r=P(An.dtick),on=kt==="log"&&!(_r||An.dtick.charAt(0)==="L"),un=te.tickFirst(An,_t);if(Wr){if(Ve._tmin=un,un<Fr!==Ot)break;(kt==="category"||kt==="multicategory")&&(Yr=Ot?Math.max(-.5,Yr):Math.min(Ve._categories.length-.5,Yr))}var Sn=null,Ln=un,Un;if(Wr){var na;_r?na=Ve.dtick:kt==="date"?typeof Ve.dtick=="string"&&Ve.dtick.charAt(0)==="M"&&(na=x*Ve.dtick.substring(1)):na=Ve._roughDTick,Un=Math.round((Ve.r2l(Ln)-Ve.r2l(Ve.tick0))/na)-1}var ga=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(Ln=Nt(Ln,Ve),Ot||(Ln=te.tickIncrement(Ln,ga,!Ot,Kt))),Wr&&cr&&(Ln=te.tickIncrement(Ln,ga,!Ot,Kt),Un--);Ot?Ln>=Yr:Ln<=Yr;Ln=te.tickIncrement(Ln,ga,Ot,Kt)){if(Wr&&Un++,An.rangebreaks&&!Ot){if(Ln<Fr)continue;if(An.maskBreaks(Ln)===F&&Nt(Ln,An)>=vr)break}if(Pr.length>wr||Ln===Sn)break;Sn=Ln;var xa={value:Ln};Wr?(on&&Ln!==(Ln|0)&&(xa.simpleLabel=!0),sr>1&&Un%sr&&(xa.skipLabel=!0),Pr.push(xa)):(xa.minor=!0,Dr.push(xa))}}if(ln){var ca=Ve.minor.ticks==="inside"&&Ve.ticks==="outside"||Ve.minor.ticks==="outside"&&Ve.ticks==="inside";if(!ca){for(var Vn=Pr.map(function(pn){return pn.value}),mr=[],Jr=0;Jr<Dr.length;Jr++){var Qr=Dr[Jr],vn=Qr.value;if(Vn.indexOf(vn)===-1){for(var _n=!1,xn=0;!_n&&xn<Pr.length;xn++)1e7+Pr[xn].value===1e7+vn&&(_n=!0);_n||mr.push(Qr)}}Dr=mr}}cr&&Ae(Pr,Ve,Ve._definedDelta);var bn;if(Ve.rangebreaks){var Bn=Ve._id.charAt(0)==="y",Jn=1;Ve.tickmode==="auto"&&(Jn=Ve.tickfont?Ve.tickfont.size:12);var ha=NaN;for(bn=Pr.length-1;bn>-1;bn--){if(Pr[bn].drop){Pr.splice(bn,1);continue}Pr[bn].value=Nt(Pr[bn].value,Ve);var Ia=Ve.c2p(Pr[bn].value);(Bn?ha>Ia-Jn:ha<Ia+Jn)?Pr.splice(Ot?bn+1:bn,1):ha=Ia}}Bt(Ve)&&Math.abs(er[1]-er[0])===360&&Pr.pop(),Ve._tmax=(Pr[Pr.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var Ar,zr=function(pn){pn.text="",Ve._prevDateHead=Ar};Pr=Pr.concat(Dr);var Sr,Or;for(bn=0;bn<Pr.length;bn++){var yn=Pr[bn].minor,Rn=Pr[bn].value;yn?Vr.push({x:Rn,minor:!0}):(Ar=Ve._prevDateHead,Sr=te.tickText(Ve,Rn,!1,Pr[bn].simpleLabel),Or=Pr[bn].periodX,Or!==void 0&&(Sr.periodX=Or,(Or>vr||Or<nr)&&(Or>vr&&(Sr.periodX=vr),Or<nr&&(Sr.periodX=nr),zr(Sr))),Pr[bn].skipLabel&&zr(Sr),ur.push(Sr))}return ur=ur.concat(Vr),Ve._inCalcTicks=!1,cr&&ur.length&&(ur[0].noTick=!0),ur};function Ie(Ye,Ve){return Ye.rangebreaks&&(Ve=Ve.filter(function(_t){return Ye.maskBreaks(_t.x)!==F})),Ve}function Me(Ye){var Ve=Ye._mainAxis,_t=[];if(Ve._vals){for(var kt=0;kt<Ve._vals.length;kt++)if(!Ve._vals[kt].noTick){var Kt=Ve.l2p(Ve._vals[kt].x),sr=Ye.p2l(Kt),cr=te.tickText(Ye,sr);Ve._vals[kt].minor&&(cr.minor=!0,cr.text=""),_t.push(cr)}}return _t=Ie(Ye,_t),_t}function Fe(Ye,Ve){var _t=S.simpleMap(Ye.range,Ye.r2l),kt=X(_t),Kt=Math.min(kt[0],kt[1]),sr=Math.max(kt[0],kt[1]),cr=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var er=[],Ot=0;Ot<=1;Ot++)if(!(Ve!==void 0&&(Ve&&Ot||Ve===!1&&!Ot))&&!(Ot&&!Ye.minor)){var nr=Ot?Ye.minor.tickvals:Ye.tickvals,vr=Ot?[]:Ye.ticktext;if(nr){S.isArrayOrTypedArray(vr)||(vr=[]);for(var wr=0;wr<nr.length;wr++){var ur=cr(nr[wr]);if(ur>Kt&&ur<sr){var Vr=te.tickText(Ye,ur,!1,String(vr[wr]));Ot&&(Vr.minor=!0,Vr.text=""),er.push(Vr)}}}}return er=Ie(Ye,er),er}var Ee=[2,5,10],He=[1,2,3,6,12],rt=[1,2,5,10,15,30],ot=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ht=[15,30,45,90,180];function vt(Ye,Ve,_t){return Ve*S.roundUp(Ye/Ve,_t)}te.autoTicks=function(Ye,Ve,_t){var kt;function Kt(wr){return Math.pow(wr,Math.floor(Math.log(Ve)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=S.dateTick0(Ye.calendar,0);var sr=2*Ve;if(sr>g)Ve/=g,kt=Kt(10),Ye.dtick="M"+12*vt(Ve,kt,Ee);else if(sr>x)Ve/=x,Ye.dtick="M"+vt(Ve,1,He);else if(sr>y){if(Ye.dtick=vt(Ve,y,Ye._hasDayOfWeekBreaks?[1,2,7,14]:ot),!_t){var cr=te.getTickFormat(Ye),er=Ye.ticklabelmode==="period";er&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(cr)?Ye.tick0=S.dateTick0(Ye.calendar,2):Ye.tick0=S.dateTick0(Ye.calendar,1),er&&(Ye._dowTick0=Ye.tick0)}}else sr>A?Ye.dtick=vt(Ve,A,He):sr>s?Ye.dtick=vt(Ve,s,rt):sr>E?Ye.dtick=vt(Ve,E,rt):(kt=Kt(10),Ye.dtick=vt(Ve,kt,Ee))}else if(Ye.type==="log"){Ye.tick0=0;var Ot=S.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(Ve*=1.5),Ve>.7)Ye.dtick=Math.ceil(Ve);else if(Math.abs(Ot[1]-Ot[0])<1){var nr=1.5*Math.abs((Ot[1]-Ot[0])/Ve);Ve=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/nr,kt=Kt(10),Ye.dtick="L"+vt(Ve,kt,Ee)}else Ye.dtick=Ve>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(Ve,1))):Bt(Ye)?(Ye.tick0=0,kt=1,Ye.dtick=vt(Ve,kt,ht)):(Ye.tick0=0,kt=Kt(10),Ye.dtick=vt(Ve,kt,Ee));if(Ye.dtick===0&&(Ye.dtick=1),!P(Ye.dtick)&&typeof Ye.dtick!="string"){var vr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(vr)}};function pt(Ye){var Ve=Ye.dtick;if(Ye._tickexponent=0,!P(Ve)&&typeof Ve!="string"&&(Ve=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var _t=Ye.r2l(Ye.tick0),kt=Ye.l2r(_t).replace(/(^-|i)/g,""),Kt=kt.length;if(String(Ve).charAt(0)==="M")Kt>10||kt.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+Ve.substr(1)%12===0?"y":"m";else if(Ve>=y&&Kt<=10||Ve>=y*15)Ye._tickround="d";else if(Ve>=s&&Kt<=16||Ve>=A)Ye._tickround="M";else if(Ve>=E&&Kt<=19||Ve>=s)Ye._tickround="S";else{var sr=Ye.l2r(_t+Ve).replace(/^-/,"").length;Ye._tickround=Math.max(Kt,sr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(P(Ve)||Ve.charAt(0)==="L"){var cr=Ye.range.map(Ye.r2d||Number);P(Ve)||(Ve=Number(Ve.substr(1))),Ye._tickround=2-Math.floor(Math.log(Ve)/Math.LN10+.01);var er=Math.max(Math.abs(cr[0]),Math.abs(cr[1])),Ot=Math.floor(Math.log(er)/Math.LN10+.01),nr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Ot)>nr&&(Xe(Ye.exponentformat)&&!Le(Ot)?Ye._tickexponent=3*Math.round((Ot-1)/3):Ye._tickexponent=Ot)}else Ye._tickround=null}te.tickIncrement=function(Ye,Ve,_t,kt){var Kt=_t?-1:1;if(P(Ve))return S.increment(Ye,Kt*Ve);var sr=Ve.charAt(0),cr=Kt*Number(Ve.substr(1));if(sr==="M")return S.incrementMonth(Ye,cr,kt);if(sr==="L")return Math.log(Math.pow(10,Ye)+cr)/Math.LN10;if(sr==="D"){var er=Ve==="D2"?qe:$e,Ot=Ye+Kt*.01,nr=S.roundUp(S.mod(Ot,1),er,_t);return Math.floor(Ot)+Math.log(m.round(Math.pow(10,nr),1))/Math.LN10}throw"unrecognized dtick "+String(Ve)},te.tickFirst=function(Ye,Ve){var _t=Ye.r2l||Number,kt=S.simpleMap(Ye.range,_t,void 0,void 0,Ve),Kt=kt[1]<kt[0],sr=Kt?Math.floor:Math.ceil,cr=X(kt)[0],er=Ye.dtick,Ot=_t(Ye.tick0);if(P(er)){var nr=sr((cr-Ot)/er)*er+Ot;return(Ye.type==="category"||Ye.type==="multicategory")&&(nr=S.constrain(nr,0,Ye._categories.length-1)),nr}var vr=er.charAt(0),wr=Number(er.substr(1));if(vr==="M"){for(var ur=0,Vr=Ot,Pr,Dr,ln;ur<10;){if(Pr=te.tickIncrement(Vr,er,Kt,Ye.calendar),(Pr-cr)*(Vr-cr)<=0)return Kt?Math.min(Vr,Pr):Math.max(Vr,Pr);Dr=(cr-(Vr+Pr)/2)/(Pr-Vr),ln=vr+(Math.abs(Math.round(Dr))||1)*wr,Vr=te.tickIncrement(Vr,ln,Dr<0?!Kt:Kt,Ye.calendar),ur++}return S.error("tickFirst did not converge",Ye),Vr}else{if(vr==="L")return Math.log(sr((Math.pow(10,cr)-Ot)/wr)*wr+Ot)/Math.LN10;if(vr==="D"){var Wr=er==="D2"?qe:$e,Tn=S.roundUp(S.mod(cr,1),Wr,Kt);return Math.floor(cr)+Math.log(m.round(Math.pow(10,Tn),1))/Math.LN10}else throw"unrecognized dtick "+String(er)}},te.tickText=function(Ye,Ve,_t,kt){var Kt=wt(Ye,Ve),sr=Ye.tickmode==="array",cr=_t||sr,er=Ye.type,Ot=er==="category"?Ye.d2l_noadd:Ye.d2l,nr,vr=function(ln){var Wr=Ye.l2p(ln);return Wr>=0&&Wr<=Ye._length?ln:null};if(sr&&S.isArrayOrTypedArray(Ye.ticktext)){var wr=S.simpleMap(Ye.range,Ye.r2l),ur=(Math.abs(wr[1]-wr[0])-(Ye._lBreaks||0))/1e4;for(nr=0;nr<Ye.ticktext.length&&!(Math.abs(Ve-Ot(Ye.tickvals[nr]))<ur);nr++);if(nr<Ye.ticktext.length)return Kt.text=String(Ye.ticktext[nr]),Kt.xbnd=[vr(Kt.x-.5),vr(Kt.x+Ye.dtick-.5)],Kt}function Vr(ln){if(ln===void 0)return!0;if(_t)return ln==="none";var Wr={first:Ye._tmin,last:Ye._tmax}[ln];return ln!=="all"&&Ve!==Wr}var Pr=_t?"never":Ye.exponentformat!=="none"&&Vr(Ye.showexponent)?"hide":"";if(er==="date"?Mt(Ye,Kt,_t,cr):er==="log"?nt(Ye,Kt,_t,cr,Pr):er==="category"?_e(Ye,Kt):er==="multicategory"?Ge(Ye,Kt,_t):Bt(Ye)?We(Ye,Kt,_t,cr,Pr):je(Ye,Kt,_t,cr,Pr),kt||(Ye.tickprefix&&!Vr(Ye.showtickprefix)&&(Kt.text=Ye.tickprefix+Kt.text),Ye.ticksuffix&&!Vr(Ye.showticksuffix)&&(Kt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Kt.text)){var Dr=Ye.labelalias[Kt.text];typeof Dr=="string"&&(Kt.text=Dr)}return(Ye.tickson==="boundaries"||Ye.showdividers)&&(Kt.xbnd=[vr(Kt.x-.5),vr(Kt.x+Ye.dtick-.5)]),Kt},te.hoverLabelText=function(Ye,Ve,_t){_t&&(Ye=S.extendFlat({},Ye,{hoverformat:_t}));var kt=S.isArrayOrTypedArray(Ve)?Ve[0]:Ve,Kt=S.isArrayOrTypedArray(Ve)?Ve[1]:void 0;if(Kt!==void 0&&Kt!==kt)return te.hoverLabelText(Ye,kt,_t)+" - "+te.hoverLabelText(Ye,Kt,_t);var sr=Ye.type==="log"&&kt<=0,cr=te.tickText(Ye,Ye.c2l(sr?-kt:kt),"hover").text;return sr?kt===0?"0":b+cr:cr};function wt(Ye,Ve,_t){var kt=Ye.tickfont||{};return{x:Ve,dx:0,dy:0,text:_t||"",fontSize:kt.size,font:kt.family,fontWeight:kt.weight,fontStyle:kt.style,fontVariant:kt.variant,fontTextcase:kt.textcase,fontLineposition:kt.lineposition,fontShadow:kt.shadow,fontColor:kt.color}}function Mt(Ye,Ve,_t,kt){var Kt=Ye._tickround,sr=_t&&Ye.hoverformat||te.getTickFormat(Ye);kt=!sr&&kt,kt&&(P(Kt)?Kt=4:Kt={y:"m",m:"d",d:"M",M:"S",S:4}[Kt]);var cr=S.formatDate(Ve.x,sr,Kt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),er,Ot=cr.indexOf(`
`);if(Ot!==-1&&(er=cr.substr(Ot+1),cr=cr.substr(0,Ot)),kt&&(er!==void 0&&(cr==="00:00:00"||cr==="00:00")?(cr=er,er=""):cr.length===8&&(cr=cr.replace(/:00$/,""))),er)if(_t)Kt==="d"?cr+=", "+er:cr=er+(cr?", "+cr:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==er)Ye._prevDateHead=er,cr+="<br>"+er;else{var nr=Jt(Ye),vr=Ye._trueSide||Ye.side;(!nr&&vr==="top"||nr&&vr==="bottom")&&(cr+="<br> ")}Ve.text=cr}function nt(Ye,Ve,_t,kt,Kt){var sr=Ye.dtick,cr=Ve.x,er=Ye.tickformat,Ot=typeof sr=="string"&&sr.charAt(0);if(Kt==="never"&&(Kt=""),kt&&Ot!=="L"&&(sr="L3",Ot="L"),er||Ot==="L")Ve.text=ve(Math.pow(10,cr),Ye,Kt,kt);else if(P(sr)||Ot==="D"&&S.mod(cr+.01,1)<.1){var nr=Math.round(cr),vr=Math.abs(nr),wr=Ye.exponentformat;wr==="power"||Xe(wr)&&Le(nr)?(nr===0?Ve.text=1:nr===1?Ve.text="10":Ve.text="10<sup>"+(nr>1?"":b)+vr+"</sup>",Ve.fontSize*=1.25):(wr==="e"||wr==="E")&&vr>2?Ve.text="1"+wr+(nr>0?"+":b)+vr:(Ve.text=ve(Math.pow(10,cr),Ye,"","fakehover"),sr==="D1"&&Ye._id.charAt(0)==="y"&&(Ve.dy-=Ve.fontSize/6))}else if(Ot==="D")Ve.text=String(Math.round(Math.pow(10,S.mod(cr,1)))),Ve.fontSize*=.75;else throw"unrecognized dtick "+String(sr);if(Ye.dtick==="D1"){var ur=String(Ve.text).charAt(0);(ur==="0"||ur==="1")&&(Ye._id.charAt(0)==="y"?Ve.dx-=Ve.fontSize/4:(Ve.dy+=Ve.fontSize/2,Ve.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*Ve.fontSize*(cr<0?.5:.25)))}}function _e(Ye,Ve){var _t=Ye._categories[Math.round(Ve.x)];_t===void 0&&(_t=""),Ve.text=String(_t)}function Ge(Ye,Ve,_t){var kt=Math.round(Ve.x),Kt=Ye._categories[kt]||[],sr=Kt[1]===void 0?"":String(Kt[1]),cr=Kt[0]===void 0?"":String(Kt[0]);_t?Ve.text=cr+" - "+sr:(Ve.text=sr,Ve.text2=cr)}function je(Ye,Ve,_t,kt,Kt){Kt==="never"?Kt="":Ye.showexponent==="all"&&Math.abs(Ve.x/Ye.dtick)<1e-6&&(Kt="hide"),Ve.text=ve(Ve.x,Ye,Kt,kt)}function We(Ye,Ve,_t,kt,Kt){if(Ye.thetaunit==="radians"&&!_t){var sr=Ve.x/180;if(sr===0)Ve.text="0";else{var cr=Pe(sr);if(cr[1]>=100)Ve.text=ve(S.deg2rad(Ve.x),Ye,Kt,kt);else{var er=Ve.x<0;cr[1]===1?cr[0]===1?Ve.text="":Ve.text=cr[0]+"":Ve.text=["<sup>",cr[0],"</sup>","","<sub>",cr[1],"</sub>",""].join(""),er&&(Ve.text=b+Ve.text)}}}else Ve.text=ve(Ve.x,Ye,Kt,kt)}function Pe(Ye){function Ve(er,Ot){return Math.abs(er-Ot)<=1e-6}function _t(er,Ot){return Ve(Ot,0)?er:_t(Ot,er%Ot)}function kt(er){for(var Ot=1;!Ve(Math.round(er*Ot)/Ot,er);)Ot*=10;return Ot}var Kt=kt(Ye),sr=Ye*Kt,cr=Math.abs(_t(sr,Kt));return[Math.round(sr/cr),Math.round(Kt/cr)]}var Re=["f","p","n","","m","","k","M","G","T"];function Xe(Ye){return Ye==="SI"||Ye==="B"}function Le(Ye){return Ye>14||Ye<-15}function ve(Ye,Ve,_t,kt){var Kt=Ye<0,sr=Ve._tickround,cr=_t||Ve.exponentformat||"B",er=Ve._tickexponent,Ot=te.getTickFormat(Ve),nr=Ve.separatethousands;if(kt){var vr={exponentformat:cr,minexponent:Ve.minexponent,dtick:Ve.showexponent==="none"?Ve.dtick:P(Ye)&&Math.abs(Ye)||1,range:Ve.showexponent==="none"?Ve.range.map(Ve.r2d):[0,Ye||1]};pt(vr),sr=(Number(vr._tickround)||0)+4,er=vr._tickexponent,Ve.hoverformat&&(Ot=Ve.hoverformat)}if(Ot)return Ve._numFormat(Ot)(Ye).replace(/-/g,b);var wr=Math.pow(10,-sr)/2;if(cr==="none"&&(er=0),Ye=Math.abs(Ye),Ye<wr)Ye="0",Kt=!1;else{if(Ye+=wr,er&&(Ye*=Math.pow(10,-er),sr+=er),sr===0)Ye=String(Math.floor(Ye));else if(sr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+sr);for(var ur=sr;ur<0;ur++)Ye+="0"}else{Ye=String(Ye);var Vr=Ye.indexOf(".")+1;Vr&&(Ye=Ye.substr(0,Vr+sr).replace(/\.?0+$/,""))}Ye=S.numSeparate(Ye,Ve._separators,nr)}if(er&&cr!=="hide"){Xe(cr)&&Le(er)&&(cr="power");var Pr;er<0?Pr=b+-er:cr!=="power"?Pr="+"+er:Pr=String(er),cr==="e"||cr==="E"?Ye+=cr+Pr:cr==="power"?Ye+="10<sup>"+Pr+"</sup>":cr==="B"&&er===9?Ye+="B":Xe(cr)&&(Ye+=Re[er/3+5])}return Kt?b+Ye:Ye}te.getTickFormat=function(Ye){var Ve;function _t(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*x}function kt(Ot,nr){var vr=["L","D"];if(typeof Ot==typeof nr){if(typeof Ot=="number")return Ot-nr;var wr=vr.indexOf(Ot.charAt(0)),ur=vr.indexOf(nr.charAt(0));return wr===ur?Number(Ot.replace(/(L|D)/g,""))-Number(nr.replace(/(L|D)/g,"")):wr-ur}else return typeof Ot=="number"?1:-1}function Kt(Ot,nr,vr){var wr=vr||function(Pr){return Pr},ur=nr[0],Vr=nr[1];return(!ur&&typeof ur!="number"||wr(ur)<=wr(Ot))&&(!Vr&&typeof Vr!="number"||wr(Vr)>=wr(Ot))}function sr(Ot,nr){var vr=nr[0]===null,wr=nr[1]===null,ur=kt(Ot,nr[0])>=0,Vr=kt(Ot,nr[1])<=0;return(vr||ur)&&(wr||Vr)}var cr,er;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(Ve=0;Ve<Ye.tickformatstops.length;Ve++)if(er=Ye.tickformatstops[Ve],er.enabled&&Kt(Ye.dtick,er.dtickrange,_t)){cr=er;break}break}case"log":{for(Ve=0;Ve<Ye.tickformatstops.length;Ve++)if(er=Ye.tickformatstops[Ve],er.enabled&&sr(Ye.dtick,er.dtickrange)){cr=er;break}break}}return cr?cr.value:Ye.tickformat},te.getSubplots=function(Ye,Ve){var _t=Ye._fullLayout._subplots,kt=_t.cartesian.concat(_t.gl2d||[]),Kt=Ve?te.findSubplotsWithAxis(kt,Ve):kt;return Kt.sort(function(sr,cr){var er=sr.substr(1).split("y"),Ot=cr.substr(1).split("y");return er[0]===Ot[0]?+er[1]-+Ot[1]:+er[0]-+Ot[0]}),Kt},te.findSubplotsWithAxis=function(Ye,Ve){for(var _t=new RegExp(Ve._id.charAt(0)==="x"?"^"+Ve._id+"y":Ve._id+"$"),kt=[],Kt=0;Kt<Ye.length;Kt++){var sr=Ye[Kt];_t.test(sr)&&kt.push(sr)}return kt},te.makeClipPaths=function(Ye){var Ve=Ye._fullLayout;if(!Ve._hasOnlyLargeSploms){var _t={_offset:0,_length:Ve.width,_id:""},kt={_offset:0,_length:Ve.height,_id:""},Kt=te.list(Ye,"x",!0),sr=te.list(Ye,"y",!0),cr=[],er,Ot;for(er=0;er<Kt.length;er++)for(cr.push({x:Kt[er],y:kt}),Ot=0;Ot<sr.length;Ot++)er===0&&cr.push({x:_t,y:sr[Ot]}),cr.push({x:Kt[er],y:sr[Ot]});var nr=Ve._clips.selectAll(".axesclip").data(cr,function(vr){return vr.x._id+vr.y._id});nr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(vr){return"clip"+Ve._uid+vr.x._id+vr.y._id}).append("rect"),nr.exit().remove(),nr.each(function(vr){m.select(this).select("rect").attr({x:vr.x._offset||0,y:vr.y._offset||0,width:vr.x._length||1,height:vr.y._length||1})})}},te.draw=function(Ye,Ve,_t){var kt=Ye._fullLayout;Ve==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Ot){var nr=Ot[0],vr=kt._plots[nr];if(vr){var wr=vr.xaxis,ur=vr.yaxis;vr.xaxislayer.selectAll("."+wr._id+"tick").remove(),vr.yaxislayer.selectAll("."+ur._id+"tick").remove(),vr.xaxislayer.selectAll("."+wr._id+"tick2").remove(),vr.yaxislayer.selectAll("."+ur._id+"tick2").remove(),vr.xaxislayer.selectAll("."+wr._id+"divider").remove(),vr.yaxislayer.selectAll("."+ur._id+"divider").remove(),vr.minorGridlayer&&vr.minorGridlayer.selectAll("path").remove(),vr.gridlayer&&vr.gridlayer.selectAll("path").remove(),vr.zerolinelayer&&vr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+wr._id+"title").remove(),kt._infolayer.select(".g-"+ur._id+"title").remove()}});var Kt=!Ve||Ve==="redraw"?te.listIds(Ye):Ve,sr=te.list(Ye),cr=sr.filter(function(Ot){return Ot.autoshift}).map(function(Ot){return Ot.overlaying});Kt.map(function(Ot){var nr=te.getFromId(Ye,Ot);if(nr.tickmode==="sync"&&nr.overlaying){var vr=Kt.findIndex(function(wr){return wr===nr.overlaying});vr>=0&&Kt.unshift(Kt.splice(vr,1).shift())}});var er={false:{left:0,right:0}};return S.syncOrAsync(Kt.map(function(Ot){return function(){if(Ot){var nr=te.getFromId(Ye,Ot);_t||(_t={}),_t.axShifts=er,_t.overlayingShiftedAx=cr;var vr=te.drawOne(Ye,nr,_t);return nr._shiftPusher&&fr(nr,nr._fullDepth||0,er,!0),nr._r=nr.range.slice(),nr._rl=S.simpleMap(nr._r,nr.r2l),vr}}}))},te.drawOne=function(Ye,Ve,_t){_t=_t||{};var kt=_t.axShifts||{},Kt=_t.overlayingShiftedAx||[],sr,cr,er;Ve.setScale();var Ot=Ye._fullLayout,nr=Ve._id,vr=nr.charAt(0),wr=te.counterLetter(nr),ur=Ot._plots[Ve._mainSubplot];if(!ur)return;if(Ve._shiftPusher=Ve.autoshift||Kt.indexOf(Ve._id)!==-1||Kt.indexOf(Ve.overlaying)!==-1,Ve._shiftPusher&Ve.anchor==="free"){var Vr=Ve.linewidth/2||0;Ve.ticks==="inside"&&(Vr+=Ve.ticklen),fr(Ve,Vr,kt,!0),fr(Ve,Ve.shift||0,kt,!1)}(_t.skipTitle!==!0||Ve._shift===void 0)&&(Ve._shift=dr(Ve,kt));var Pr=ur[vr+"axislayer"],Dr=Ve._mainLinePosition,ln=Dr+=Ve._shift,Wr=Ve._mainMirrorPosition,Tn=Ve._vals=te.calcTicks(Ve),An=[Ve.mirror,ln,Wr].join("_");for(sr=0;sr<Tn.length;sr++)Tn[sr].axInfo=An;Ve._selections={},Ve._tickAngles&&(Ve._prevTickAngles=Ve._tickAngles),Ve._tickAngles={},Ve._depth=null;var Tr={};function Fr(Hr){var en=nr+(Hr||"tick");return Tr[en]||(Tr[en]=lt(Ve,en,ln)),Tr[en]}if(Ve.visible){var Yr=te.makeTransTickFn(Ve),_r=te.makeTransTickLabelFn(Ve),on,un,Sn=Ve.ticks==="inside",Ln=Ve.ticks==="outside";if(Ve.tickson==="boundaries"){var Un=Ne(Ve,Tn);un=te.clipEnds(Ve,Un),on=Sn?un:Un}else un=te.clipEnds(Ve,Tn),on=Sn&&Ve.ticklabelmode!=="period"?un:Tn;var na=Ve._gridVals=un,ga=st(Ve,Tn);if(!Ot._hasOnlyLargeSploms){var xa=Ve._subplotsWith,ca={};for(sr=0;sr<xa.length;sr++){cr=xa[sr],er=Ot._plots[cr];var Vn=er[wr+"axis"],mr=Vn._mainAxis._id;if(!ca[mr]){ca[mr]=1;var Jr=vr==="x"?"M0,"+Vn._offset+"v"+Vn._length:"M"+Vn._offset+",0h"+Vn._length;te.drawGrid(Ye,Ve,{vals:na,counterAxis:Vn,layer:er.gridlayer.select("."+nr),minorLayer:er.minorGridlayer.select("."+nr),path:Jr,transFn:Yr}),te.drawZeroLine(Ye,Ve,{counterAxis:Vn,layer:er.zerolinelayer,path:Jr,transFn:Yr})}}}var Qr,vn=te.getTickSigns(Ve),_n=te.getTickSigns(Ve,"minor");if(Ve.ticks||Ve.minor&&Ve.minor.ticks){var xn=te.makeTickPath(Ve,ln,vn[2]),bn=te.makeTickPath(Ve,ln,_n[2],{minor:!0}),Bn,Jn,ha,Ia;if(Ve._anchorAxis&&Ve.mirror&&Ve.mirror!==!0?(Bn=te.makeTickPath(Ve,Wr,vn[3]),Jn=te.makeTickPath(Ve,Wr,_n[3],{minor:!0}),ha=xn+Bn,Ia=bn+Jn):(Bn="",Jn="",ha=xn,Ia=bn),Ve.showdividers&&Ln&&Ve.tickson==="boundaries"){var Ar={};for(sr=0;sr<ga.length;sr++)Ar[ga[sr].x]=1;Qr=function(Hr){return Ar[Hr.x]?Bn:ha}}else Qr=function(Hr){return Hr.minor?Ia:ha}}if(te.drawTicks(Ye,Ve,{vals:on,layer:Pr,path:Qr,transFn:Yr}),Ve.mirror==="allticks"){var zr=Object.keys(Ve._linepositions||{});for(sr=0;sr<zr.length;sr++){cr=zr[sr],er=Ot._plots[cr];var Sr=Ve._linepositions[cr]||[],Or=Sr[0],yn=Sr[1],Rn=Sr[2],pn=te.makeTickPath(Ve,Or,Rn?vn[0]:_n[0],{minor:Rn})+te.makeTickPath(Ve,yn,Rn?vn[1]:_n[1],{minor:Rn});te.drawTicks(Ye,Ve,{vals:on,layer:er[vr+"axislayer"],path:pn,transFn:Yr})}}var sn=[];if(sn.push(function(){return te.drawLabels(Ye,Ve,{vals:Tn,layer:Pr,plotinfo:er,transFn:_r,labelFns:te.makeLabelFns(Ve,ln)})}),Ve.type==="multicategory"){var Er={x:2,y:10}[vr];sn.push(function(){var Hr={x:"height",y:"width"}[vr],en=Fr()[Hr]+Er+(Ve._tickAngles[nr+"tick"]?Ve.tickfont.size*re:0);return te.drawLabels(Ye,Ve,{vals:et(Ve,Tn),layer:Pr,cls:nr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yr,labelFns:te.makeLabelFns(Ve,ln+en*vn[4])})}),sn.push(function(){return Ve._depth=vn[4]*(Fr("tick2")[Ve.side]-ln),Dt(Ye,Ve,{vals:ga,layer:Pr,path:te.makeTickPath(Ve,ln,vn[4],{len:Ve._depth}),transFn:Yr})})}else Ve.title.hasOwnProperty("standoff")&&sn.push(function(){Ve._depth=vn[4]*(Fr()[Ve.side]-ln)});var Zr=L.getComponentMethod("rangeslider","isVisible")(Ve);return!_t.skipTitle&&!(Zr&&Ve.side==="bottom")&&sn.push(function(){return gr(Ye,Ve)}),sn.push(function(){var Hr=Ve.side.charAt(0),en=ne[Ve.side].charAt(0),wn=te.getPxPosition(Ye,Ve),Fn=Ln?Ve.ticklen:0,Mn,Nn,zn,fa;(Ve.automargin||Zr||Ve._shiftPusher)&&(Ve.type==="multicategory"?Mn=Fr("tick2"):(Mn=Fr(),vr==="x"&&Hr==="b"&&(Ve._depth=Math.max(Mn.width>0?Mn.bottom-wn:0,Fn))));var ia=0,pa=0;if(Ve._shiftPusher&&(ia=Math.max(Fn,Mn.height>0?Hr==="l"?wn-Mn.left:Mn.right-wn:0),Ve.title.text!==Ot._dfltTitle[vr]&&(pa=(Ve._titleStandoff||0)+(Ve._titleScoot||0),Hr==="l"&&(pa+=Xt(Ve))),Ve._fullDepth=Math.max(ia,pa)),Ve.automargin){Nn={x:0,y:0,r:0,l:0,t:0,b:0};var La=[0,1],yi=typeof Ve._shift=="number"?Ve._shift:0;if(vr==="x"){if(Hr==="b"?Nn[Hr]=Ve._depth:(Nn[Hr]=Ve._depth=Math.max(Mn.width>0?wn-Mn.top:0,Fn),La.reverse()),Mn.width>0){var ii=Mn.right-(Ve._offset+Ve._length);ii>0&&(Nn.xr=1,Nn.r=ii);var Bo=Ve._offset-Mn.left;Bo>0&&(Nn.xl=0,Nn.l=Bo)}}else if(Hr==="l"?(Ve._depth=Math.max(Mn.height>0?wn-Mn.left:0,Fn),Nn[Hr]=Ve._depth-yi):(Ve._depth=Math.max(Mn.height>0?Mn.right-wn:0,Fn),Nn[Hr]=Ve._depth+yi,La.reverse()),Mn.height>0){var Ro=Mn.bottom-(Ve._offset+Ve._length);Ro>0&&(Nn.yb=0,Nn.b=Ro);var no=Ve._offset-Mn.top;no>0&&(Nn.yt=1,Nn.t=no)}Nn[wr]=Ve.anchor==="free"?Ve.position:Ve._anchorAxis.domain[La[0]],Ve.title.text!==Ot._dfltTitle[vr]&&(Nn[Hr]+=Xt(Ve)+(Ve.title.standoff||0)),Ve.mirror&&Ve.anchor!=="free"&&(zn={x:0,y:0,r:0,l:0,t:0,b:0},zn[en]=Ve.linewidth,Ve.mirror&&Ve.mirror!==!0&&(zn[en]+=Fn),Ve.mirror===!0||Ve.mirror==="ticks"?zn[wr]=Ve._anchorAxis.domain[La[1]]:(Ve.mirror==="all"||Ve.mirror==="allticks")&&(zn[wr]=[Ve._counterDomainMin,Ve._counterDomainMax][La[1]]))}Zr&&(fa=L.getComponentMethod("rangeslider","autoMarginOpts")(Ye,Ve)),typeof Ve.automargin=="string"&&(xe(Nn,Ve.automargin),xe(zn,Ve.automargin)),i.autoMargin(Ye,or(Ve),Nn),i.autoMargin(Ye,mt(Ve),zn),i.autoMargin(Ye,ut(Ve),fa)}),S.syncOrAsync(sn)}};function xe(Ye,Ve){if(Ye){var _t=Object.keys(z).reduce(function(kt,Kt){return Ve.indexOf(Kt)!==-1&&z[Kt].forEach(function(sr){kt[sr]=1}),kt},{});Object.keys(Ye).forEach(function(kt){_t[kt]||(kt.length===1?Ye[kt]=0:delete Ye[kt])})}}function Ne(Ye,Ve){var _t=[],kt,Kt=function(sr,cr){var er=sr.xbnd[cr];er!==null&&_t.push(S.extendFlat({},sr,{x:er}))};if(Ve.length){for(kt=0;kt<Ve.length;kt++)Kt(Ve[kt],0);Kt(Ve[kt-1],1)}return _t}function et(Ye,Ve){for(var _t=[],kt={},Kt=0;Kt<Ve.length;Kt++){var sr=Ve[Kt];kt[sr.text2]?kt[sr.text2].push(sr.x):kt[sr.text2]=[sr.x]}for(var cr in kt)_t.push(wt(Ye,S.interp(kt[cr],.5),cr));return _t}function st(Ye,Ve){var _t=[],kt,Kt,sr=Ve.length&&Ve[Ve.length-1].x<Ve[0].x,cr=function(Ot,nr){var vr=Ot.xbnd[nr];vr!==null&&_t.push(S.extendFlat({},Ot,{x:vr}))};if(Ye.showdividers&&Ve.length){for(kt=0;kt<Ve.length;kt++){var er=Ve[kt];er.text2!==Kt&&cr(er,sr?1:0),Kt=er.text2}cr(Ve[kt-1],sr?0:1)}return _t}function lt(Ye,Ve,_t){var kt,Kt,sr,cr;if(Ye._selections[Ve].size())kt=1/0,Kt=-1/0,sr=1/0,cr=-1/0,Ye._selections[Ve].each(function(){var Ot=yr(this),nr=a.bBox(Ot.node().parentNode);kt=Math.min(kt,nr.top),Kt=Math.max(Kt,nr.bottom),sr=Math.min(sr,nr.left),cr=Math.max(cr,nr.right)});else{var er=te.makeLabelFns(Ye,_t);kt=Kt=er.yFn({dx:0,dy:0,fontSize:0}),sr=cr=er.xFn({dx:0,dy:0,fontSize:0})}return{top:kt,bottom:Kt,left:sr,right:cr,height:Kt-kt,width:cr-sr}}te.getTickSigns=function(Ye,Ve){var _t=Ye._id.charAt(0),kt={x:"top",y:"right"}[_t],Kt=Ye.side===kt?1:-1,sr=[-1,1,Kt,-Kt],cr=Ve?(Ye.minor||{}).ticks:Ye.ticks;return cr!=="inside"==(_t==="x")&&(sr=sr.map(function(er){return-er})),Ye.side&&sr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),sr},te.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(Ve){return v(Ye._offset+Ye.l2p(Ve.x),0)}:function(Ve){return v(0,Ye._offset+Ye.l2p(Ve.x))}},te.makeTransTickLabelFn=function(Ye){var Ve=jt(Ye),_t=Ve[0],kt=Ve[1];return Ye._id.charAt(0)==="x"?function(Kt){return v(_t+Ye._offset+Ye.l2p(Gt(Kt)),kt)}:function(Kt){return v(kt,_t+Ye._offset+Ye.l2p(Gt(Kt)))}};function Gt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function jt(Ye){var Ve=Ye.ticklabelposition||"",_t=function(Vr){return Ve.indexOf(Vr)!==-1},kt=_t("top"),Kt=_t("left"),sr=_t("right"),cr=_t("bottom"),er=_t("inside"),Ot=cr||Kt||kt||sr;if(!Ot&&!er)return[0,0];var nr=Ye.side,vr=Ot?(Ye.tickwidth||0)/2:0,wr=ue,ur=Ye.tickfont?Ye.tickfont.size:12;return(cr||kt)&&(vr+=ur*J,wr+=(Ye.linewidth||0)/2),(Kt||sr)&&(vr+=(Ye.linewidth||0)/2,wr+=ue),er&&nr==="top"&&(wr-=ur*(1-J)),(Kt||kt)&&(vr=-vr),(nr==="bottom"||nr==="right")&&(wr=-wr),[Ot?vr:0,er?wr:0]}te.makeTickPath=function(Ye,Ve,_t,kt){kt||(kt={});var Kt=kt.minor;if(Kt&&!Ye.minor)return"";var sr=kt.len!==void 0?kt.len:Kt?Ye.minor.ticklen:Ye.ticklen,cr=Ye._id.charAt(0),er=(Ye.linewidth||1)/2;return cr==="x"?"M0,"+(Ve+er*_t)+"v"+sr*_t:"M"+(Ve+er*_t)+",0h"+sr*_t},te.makeLabelFns=function(Ye,Ve,_t){var kt=Ye.ticklabelposition||"",Kt=function(Un){return kt.indexOf(Un)!==-1},sr=Kt("top"),cr=Kt("left"),er=Kt("right"),Ot=Kt("bottom"),nr=Ot||cr||sr||er,vr=Kt("inside"),wr=kt==="inside"&&Ye.ticks==="inside"||!vr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",ur=0,Vr=0,Pr=wr?Ye.ticklen:0;if(vr?Pr*=-1:nr&&(Pr=0),wr&&(ur+=Pr,_t)){var Dr=S.deg2rad(_t);ur=Pr*Math.cos(Dr)+1,Vr=Pr*Math.sin(Dr)}Ye.showticklabels&&(wr||Ye.showline)&&(ur+=.2*Ye.tickfont.size),ur+=(Ye.linewidth||1)/2*(vr?-1:1);var ln={labelStandoff:ur,labelShift:Vr},Wr,Tn,An,Tr,Fr=0,Yr=Ye.side,_r=Ye._id.charAt(0),on=Ye.tickangle,un;if(_r==="x")un=!vr&&Yr==="bottom"||vr&&Yr==="top",Tr=un?1:-1,vr&&(Tr*=-1),Wr=Vr*Tr,Tn=Ve+ur*Tr,An=un?1:-.2,Math.abs(on)===90&&(vr?An+=Z:on===-90&&Yr==="bottom"?An=J:on===90&&Yr==="top"?An=Z:An=.5,Fr=Z/2*(on/90)),ln.xFn=function(Un){return Un.dx+Wr+Fr*Un.fontSize},ln.yFn=function(Un){return Un.dy+Tn+Un.fontSize*An},ln.anchorFn=function(Un,na){if(nr){if(cr)return"end";if(er)return"start"}return!P(na)||na===0||na===180?"middle":na*Tr<0!==vr?"end":"start"},ln.heightFn=function(Un,na,ga){return na<-60||na>60?-.5*ga:Ye.side==="top"!==vr?-ga:0};else if(_r==="y"){if(un=!vr&&Yr==="left"||vr&&Yr==="right",Tr=un?1:-1,vr&&(Tr*=-1),Wr=ur,Tn=Vr*Tr,An=0,!vr&&Math.abs(on)===90&&(on===-90&&Yr==="left"||on===90&&Yr==="right"?An=J:An=.5),vr){var Sn=P(on)?+on:0;if(Sn!==0){var Ln=S.deg2rad(Sn);Fr=Math.abs(Math.sin(Ln))*J*Tr,An=0}}ln.xFn=function(Un){return Un.dx+Ve-(Wr+Un.fontSize*An)*Tr+Fr*Un.fontSize},ln.yFn=function(Un){return Un.dy+Tn+Un.fontSize*Z},ln.anchorFn=function(Un,na){return P(na)&&Math.abs(na)===90?"middle":un?"end":"start"},ln.heightFn=function(Un,na,ga){return Ye.side==="right"&&(na*=-1),na<-30?-ga:na<30?-.5*ga:0}}return ln};function Tt(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}te.drawTicks=function(Ye,Ve,_t){_t=_t||{};var kt=Ve._id+"tick",Kt=[].concat(Ve.minor&&Ve.minor.ticks?_t.vals.filter(function(cr){return cr.minor&&!cr.noTick}):[]).concat(Ve.ticks?_t.vals.filter(function(cr){return!cr.minor&&!cr.noTick}):[]),sr=_t.layer.selectAll("path."+kt).data(Kt,Tt);sr.exit().remove(),sr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",_t.crisp!==!1).each(function(cr){return t.stroke(m.select(this),cr.minor?Ve.minor.tickcolor:Ve.tickcolor)}).style("stroke-width",function(cr){return a.crispRound(Ye,cr.minor?Ve.minor.tickwidth:Ve.tickwidth,1)+"px"}).attr("d",_t.path).style("display",null),hr(Ve,[O]),sr.attr("transform",_t.transFn)},te.drawGrid=function(Ye,Ve,_t){if(_t=_t||{},Ve.tickmode!=="sync"){var kt=Ve._id+"grid",Kt=Ve.minor&&Ve.minor.showgrid,sr=Kt?_t.vals.filter(function(Wr){return Wr.minor}):[],cr=Ve.showgrid?_t.vals.filter(function(Wr){return!Wr.minor}):[],er=_t.counterAxis;if(er&&te.shouldShowZeroLine(Ye,Ve,er))for(var Ot=Ve.tickmode==="array",nr=0;nr<cr.length;nr++){var vr=cr[nr].x;if(Ot?!vr:Math.abs(vr)<Ve.dtick/100)if(cr=cr.slice(0,nr).concat(cr.slice(nr+1)),Ot)nr--;else break}Ve._gw=a.crispRound(Ye,Ve.gridwidth,1);for(var wr=Kt?a.crispRound(Ye,Ve.minor.gridwidth,1):0,ur=_t.layer,Vr=_t.minorLayer,Pr=1;Pr>=0;Pr--){var Dr=Pr?ur:Vr;if(Dr){var ln=Dr.selectAll("path."+kt).data(Pr?cr:sr,Tt);ln.exit().remove(),ln.enter().append("path").classed(kt,1).classed("crisp",_t.crisp!==!1),ln.attr("transform",_t.transFn).attr("d",_t.path).each(function(Wr){return t.stroke(m.select(this),Wr.minor?Ve.minor.gridcolor:Ve.gridcolor||"#ddd")}).style("stroke-dasharray",function(Wr){return a.dashStyle(Wr.minor?Ve.minor.griddash:Ve.griddash,Wr.minor?Ve.minor.gridwidth:Ve.gridwidth)}).style("stroke-width",function(Wr){return(Wr.minor?wr:Ve._gw)+"px"}).style("display",null),typeof _t.path=="function"&&ln.attr("d",_t.path)}}hr(Ve,[N,_])}},te.drawZeroLine=function(Ye,Ve,_t){_t=_t||_t;var kt=Ve._id+"zl",Kt=te.shouldShowZeroLine(Ye,Ve,_t.counterAxis),sr=_t.layer.selectAll("path."+kt).data(Kt?[{x:0,id:Ve._id}]:[]);sr.exit().remove(),sr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",_t.crisp!==!1).each(function(){_t.layer.selectAll("path").sort(function(cr,er){return Y(cr.id,er.id)})}),sr.attr("transform",_t.transFn).attr("d",_t.path).call(t.stroke,Ve.zerolinecolor||t.defaultLine).style("stroke-width",a.crispRound(Ye,Ve.zerolinewidth,Ve._gw||1)+"px").style("display",null),hr(Ve,[I])},te.drawLabels=function(Ye,Ve,_t){_t=_t||{};var kt=Ye._fullLayout,Kt=Ve._id,sr=_t.cls||Kt+"tick",cr=_t.vals.filter(function(mr){return mr.text}),er=_t.labelFns,Ot=_t.secondary?0:Ve.tickangle,nr=(Ve._prevTickAngles||{})[sr],vr=_t.layer.selectAll("g."+sr).data(Ve.showticklabels?cr:[],Tt),wr=[];vr.enter().append("g").classed(sr,1).append("text").attr("text-anchor","middle").each(function(mr){var Jr=m.select(this),Qr=Ye._promises.length;Jr.call(p.positionText,er.xFn(mr),er.yFn(mr)).call(a.font,{family:mr.font,size:mr.fontSize,color:mr.fontColor,weight:mr.fontWeight,style:mr.fontStyle,variant:mr.fontVariant,textcase:mr.fontTextcase,lineposition:mr.fontLineposition,shadow:mr.fontShadow}).text(mr.text).call(p.convertToTspans,Ye),Ye._promises[Qr]?wr.push(Ye._promises.pop().then(function(){ur(Jr,Ot)})):ur(Jr,Ot)}),hr(Ve,[B]),vr.exit().remove(),_t.repositionOnUpdate&&vr.each(function(mr){m.select(this).select("text").call(p.positionText,er.xFn(mr),er.yFn(mr))});function ur(mr,Jr){mr.each(function(Qr){var vn=m.select(this),_n=vn.select(".text-math-group"),xn=er.anchorFn(Qr,Jr),bn=_t.transFn.call(vn.node(),Qr)+(P(Jr)&&+Jr!=0?" rotate("+Jr+","+er.xFn(Qr)+","+(er.yFn(Qr)-Qr.fontSize/2)+")":""),Bn=p.lineCount(vn),Jn=re*Qr.fontSize,ha=er.heightFn(Qr,P(Jr)?+Jr:0,(Bn-1)*Jn);if(ha&&(bn+=v(0,ha)),_n.empty()){var Ia=vn.select("text");Ia.attr({transform:bn,"text-anchor":xn}),Ia.style("opacity",1),Ve._adjustTickLabelsOverflow&&Ve._adjustTickLabelsOverflow()}else{var Ar=a.bBox(_n.node()).width,zr=Ar*{end:-.5,start:.5}[xn];_n.attr("transform",bn+v(zr,0))}})}Ve._adjustTickLabelsOverflow=function(){var mr=Ve.ticklabeloverflow;if(!(!mr||mr==="allow")){var Jr=mr.indexOf("hide")!==-1,Qr=Ve._id.charAt(0)==="x",vn=0,_n=Qr?Ye._fullLayout.width:Ye._fullLayout.height;if(mr.indexOf("domain")!==-1){var xn=S.simpleMap(Ve.range,Ve.r2l);vn=Ve.l2p(xn[0])+Ve._offset,_n=Ve.l2p(xn[1])+Ve._offset}var bn=Math.min(vn,_n),Bn=Math.max(vn,_n),Jn=Ve.side,ha=1/0,Ia=-1/0;vr.each(function(Or){var yn=m.select(this),Rn=yn.select(".text-math-group");if(Rn.empty()){var pn=a.bBox(yn.node()),sn=0;Qr?(pn.right>Bn||pn.left<bn)&&(sn=1):(pn.bottom>Bn||pn.top+(Ve.tickangle?0:Or.fontSize/4)<bn)&&(sn=1);var Er=yn.select("text");sn?Jr&&Er.style("opacity",0):(Er.style("opacity",1),Jn==="bottom"||Jn==="right"?ha=Math.min(ha,Qr?pn.top:pn.left):ha=-1/0,Jn==="top"||Jn==="left"?Ia=Math.max(Ia,Qr?pn.bottom:pn.right):Ia=1/0)}});for(var Ar in kt._plots){var zr=kt._plots[Ar];if(!(Ve._id!==zr.xaxis._id&&Ve._id!==zr.yaxis._id)){var Sr=Qr?zr.yaxis:zr.xaxis;Sr&&(Sr["_visibleLabelMin_"+Ve._id]=ha,Sr["_visibleLabelMax_"+Ve._id]=Ia)}}}},Ve._hideCounterAxisInsideTickLabels=function(mr){var Jr=Ve._id.charAt(0)==="x",Qr=[];for(var vn in kt._plots){var _n=kt._plots[vn];Ve._id!==_n.xaxis._id&&Ve._id!==_n.yaxis._id||Qr.push(Jr?_n.yaxis:_n.xaxis)}Qr.forEach(function(xn,bn){xn&&Jt(xn)&&(mr||[I,_,N,O,B]).forEach(function(Bn){var Jn=Bn.K==="tick"&&Bn.L==="text"&&Ve.ticklabelmode==="period",ha=kt._plots[Ve._mainSubplot],Ia;Bn.K===I.K?Ia=ha.zerolinelayer.selectAll("."+Ve._id+"zl"):Bn.K===_.K?Ia=ha.minorGridlayer.selectAll("."+Ve._id):Bn.K===N.K?Ia=ha.gridlayer.selectAll("."+Ve._id):Ia=ha[Ve._id.charAt(0)+"axislayer"],Ia.each(function(){var Ar=m.select(this);Bn.L&&(Ar=Ar.selectAll(Bn.L)),Ar.each(function(zr){var Sr=Ve.l2p(Jn?Gt(zr):zr.x)+Ve._offset,Or=m.select(this);Sr<Ve["_visibleLabelMax_"+xn._id]&&Sr>Ve["_visibleLabelMin_"+xn._id]?Or.style("display","none"):Bn.K==="tick"&&!bn&&Or.style("display",null)})})})})},ur(vr,nr+1?nr:Ot);function Vr(){return wr.length&&Promise.all(wr)}var Pr=null;function Dr(){if(ur(vr,Ot),cr.length&&Ve.autotickangles&&(Ve.type!=="log"||String(Ve.dtick).charAt(0)!=="D")){Pr=Ve.autotickangles[0];var mr=0,Jr=[],Qr,vn=1;vr.each(function(Mn){mr=Math.max(mr,Mn.fontSize);var Nn=Ve.l2p(Mn.x),zn=yr(this),fa=a.bBox(zn.node());vn=Math.max(vn,p.lineCount(zn)),Jr.push({top:0,bottom:10,height:10,left:Nn-fa.width/2,right:Nn+fa.width/2+2,width:fa.width+2})});var _n=(Ve.tickson==="boundaries"||Ve.showdividers)&&!_t.secondary,xn=cr.length,bn=Math.abs((cr[xn-1].x-cr[0].x)*Ve._m)/(xn-1),Bn=_n?bn/2:bn,Jn=_n?Ve.ticklen:mr*1.25*vn,ha=Math.sqrt(Math.pow(Bn,2)+Math.pow(Jn,2)),Ia=Bn/ha,Ar=Ve.autotickangles.map(function(Mn){return Mn*Math.PI/180}),zr=Ar.find(function(Mn){return Math.abs(Math.cos(Mn))<=Ia});zr===void 0&&(zr=Ar.reduce(function(Mn,Nn){return Math.abs(Math.cos(Mn))<Math.abs(Math.cos(Nn))?Mn:Nn},Ar[0]));var Sr=zr*(180/Math.PI);if(_n){var Or=2;for(Ve.ticks&&(Or+=Ve.tickwidth/2),Qr=0;Qr<Jr.length;Qr++){var yn=cr[Qr].xbnd,Rn=Jr[Qr];if(yn[0]!==null&&Rn.left-Ve.l2p(yn[0])<Or||yn[1]!==null&&Ve.l2p(yn[1])-Rn.right<Or){Pr=Sr;break}}}else{var pn=Ve.ticklabelposition||"",sn=function(Mn){return pn.indexOf(Mn)!==-1},Er=sn("top"),Zr=sn("left"),Hr=sn("right"),en=sn("bottom"),wn=en||Zr||Er||Hr,Fn=wn?(Ve.tickwidth||0)+2*ue:0;for(Qr=0;Qr<Jr.length-1;Qr++)if(S.bBoxIntersect(Jr[Qr],Jr[Qr+1],Fn)){Pr=Sr;break}}Pr&&ur(vr,Pr)}}Ve._selections&&(Ve._selections[sr]=vr);var ln=[Vr];Ve.automargin&&kt._redrawFromAutoMarginCount&&nr===90?(Pr=nr,ln.push(function(){ur(vr,nr)})):ln.push(Dr),Ve._tickAngles&&ln.push(function(){Ve._tickAngles[sr]=Pr===null?P(Ot)?Ot:0:Pr});var Wr=function(){var mr=0,Jr=0;return vr.each(function(Qr,vn){var _n=yr(this),xn=_n.select(".text-math-group");if(xn.empty()){var bn;Ve._vals[vn]&&(bn=Ve._vals[vn].bb||a.bBox(_n.node()),Ve._vals[vn].bb=bn),mr=Math.max(mr,bn.width),Jr=Math.max(Jr,bn.height)}}),{labelsMaxW:mr,labelsMaxH:Jr}},Tn=Ve._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&Jt(Ve)&&!$(kt,Ve._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),Tn.autorange&&(kt._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,ln.push(Wr)),Tn.insiderange)){var An=Wr(),Tr=Ve._id.charAt(0)==="y"?An.labelsMaxW:An.labelsMaxH;Tr+=2*ue,Ve.ticklabelposition==="inside"&&(Tr+=Ve.ticklen||0);var Fr=Ve.side==="right"||Ve.side==="top"?1:-1,Yr=Fr===1?1:0,_r=Fr===1?0:1,on=[];on[_r]=Tn.range[_r];var un=Tn.range,Sn=Tn.r2p(un[Yr]),Ln=Tn.r2p(un[_r]),Un=kt._insideTickLabelsUpdaterange[Tn._name+".range"];if(Un){var na=Tn.r2p(Un[Yr]),ga=Tn.r2p(Un[_r]),xa=Fr*(Ve._id.charAt(0)==="y"?1:-1);xa*Sn<xa*na&&(Sn=na,on[Yr]=un[Yr]=Un[Yr]),xa*Ln>xa*ga&&(Ln=ga,on[_r]=un[_r]=Un[_r])}var ca=Math.abs(Ln-Sn);ca-Tr>0?(ca-=Tr,Tr*=1+Tr/ca):Tr=0,Ve._id.charAt(0)!=="y"&&(Tr=-Tr),on[Yr]=Tn.p2r(Tn.r2p(un[Yr])+Fr*Tr),Tn.autorange==="min"||Tn.autorange==="max reversed"?(on[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):(Tn.autorange==="max"||Tn.autorange==="min reversed")&&(on[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[Tn._name+".range"]=on}var Vn=S.syncOrAsync(ln);return Vn&&Vn.then&&Ye._promises.push(Vn),Vn};function Dt(Ye,Ve,_t){var kt=Ve._id+"divider",Kt=_t.vals,sr=_t.layer.selectAll("path."+kt).data(Kt,Tt);sr.exit().remove(),sr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(t.stroke,Ve.dividercolor).style("stroke-width",a.crispRound(Ye,Ve.dividerwidth,1)+"px"),sr.attr("transform",_t.transFn).attr("d",_t.path)}te.getPxPosition=function(Ye,Ve){var _t=Ye._fullLayout._size,kt=Ve._id.charAt(0),Kt=Ve.side,sr;if(Ve.anchor!=="free"?sr=Ve._anchorAxis:kt==="x"?sr={_offset:_t.t+(1-(Ve.position||0))*_t.h,_length:0}:kt==="y"&&(sr={_offset:_t.l+(Ve.position||0)*_t.w+Ve._shift,_length:0}),Kt==="top"||Kt==="left")return sr._offset;if(Kt==="bottom"||Kt==="right")return sr._offset+sr._length};function Xt(Ye){var Ve=Ye.title.font.size,_t=(Ye.title.text.match(p.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?Ve*(J+_t*re):_t?Ve*(_t+1)*re:Ve}function gr(Ye,Ve){var _t=Ye._fullLayout,kt=Ve._id,Kt=kt.charAt(0),sr=Ve.title.font.size,cr,er=(Ve.title.text.match(p.BR_TAG_ALL)||[]).length;if(Ve.title.hasOwnProperty("standoff"))Ve.side==="bottom"||Ve.side==="right"?cr=Ve._depth+Ve.title.standoff+sr*J:(Ve.side==="top"||Ve.side==="left")&&(cr=Ve._depth+Ve.title.standoff+sr*(Z+er*re));else{var Ot=Jt(Ve);if(Ve.type==="multicategory")cr=Ve._depth;else{var nr=1.5*sr;Ot&&(nr=.5*sr,Ve.ticks==="outside"&&(nr+=Ve.ticklen)),cr=10+nr+(Ve.linewidth?Ve.linewidth-1:0)}Ot||(Kt==="x"?cr+=Ve.side==="top"?sr*(Ve.showticklabels?1:0):sr*(Ve.showticklabels?1.5:.5):cr+=Ve.side==="right"?sr*(Ve.showticklabels?1:.5):sr*(Ve.showticklabels?.5:0))}var vr=te.getPxPosition(Ye,Ve),wr,ur,Vr;Kt==="x"?(ur=Ve._offset+Ve._length/2,Vr=Ve.side==="top"?vr-cr:vr+cr):(Vr=Ve._offset+Ve._length/2,ur=Ve.side==="right"?vr+cr:vr-cr,wr={rotate:"-90",offset:0});var Pr;if(Ve.type!=="multicategory"){var Dr=Ve._selections[Ve._id+"tick"];if(Pr={selection:Dr,side:Ve.side},Dr&&Dr.node()&&Dr.node().parentNode){var ln=a.getTranslate(Dr.node().parentNode);Pr.offsetLeft=ln.x,Pr.offsetTop=ln.y}Ve.title.hasOwnProperty("standoff")&&(Pr.pad=0)}return Ve._titleStandoff=cr,r.draw(Ye,kt+"title",{propContainer:Ve,propName:Ve._name+".title.text",placeholder:_t._dfltTitle[Kt],avoid:Pr,transform:wr,attributes:{x:ur,y:Vr,"text-anchor":"middle"}})}te.shouldShowZeroLine=function(Ye,Ve,_t){var kt=S.simpleMap(Ve.range,Ve.r2l);return kt[0]*kt[1]<=0&&Ve.zeroline&&(Ve.type==="linear"||Ve.type==="-")&&!(Ve.rangebreaks&&Ve.maskBreaks(0)===F)&&(gt(Ve,0)||!Zt(Ye,Ve,_t,kt)||Qt(Ye,Ve))},te.clipEnds=function(Ye,Ve){return Ve.filter(function(_t){return gt(Ye,_t.x)})};function gt(Ye,Ve){var _t=Ye.l2p(Ve);return _t>1&&_t<Ye._length-1}function Zt(Ye,Ve,_t,kt){var Kt=_t._mainAxis;if(!Kt)return;var sr=Ye._fullLayout,cr=Ve._id.charAt(0),er=te.counterLetter(Ve._id),Ot=Ve._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(cr==="x")?0:Ve._length);function nr(Pr){if(!Pr.showline||!Pr.linewidth)return!1;var Dr=Math.max((Pr.linewidth+Ve.zerolinewidth)/2,1);function ln(An){return typeof An=="number"&&Math.abs(An-Ot)<Dr}if(ln(Pr._mainLinePosition)||ln(Pr._mainMirrorPosition))return!0;var Wr=Pr._linepositions||{};for(var Tn in Wr)if(ln(Wr[Tn][0])||ln(Wr[Tn][1]))return!0}var vr=sr._plots[_t._mainSubplot];if(!(vr.mainplotinfo||vr).overlays.length)return nr(_t);for(var wr=te.list(Ye,er),ur=0;ur<wr.length;ur++){var Vr=wr[ur];if(Vr._mainAxis===Kt&&nr(Vr))return!0}}function Qt(Ye,Ve){for(var _t=Ye._fullData,kt=Ve._mainSubplot,Kt=Ve._id.charAt(0),sr=0;sr<_t.length;sr++){var cr=_t[sr];if(cr.visible===!0&&cr.xaxis+cr.yaxis===kt&&(L.traceIs(cr,"bar-like")&&cr.orientation==={x:"h",y:"v"}[Kt]||cr.fill&&cr.fill.charAt(cr.fill.length-1)===Kt))return!0}return!1}function yr(Ye){var Ve=m.select(Ye),_t=Ve.select(".text-math-group");return _t.empty()?Ve.select("text"):_t}te.allowAutoMargin=function(Ye){for(var Ve=te.list(Ye,"",!0),_t=0;_t<Ve.length;_t++){var kt=Ve[_t];kt.automargin&&(i.allowAutoMargin(Ye,or(kt)),kt.mirror&&i.allowAutoMargin(Ye,mt(kt))),L.getComponentMethod("rangeslider","isVisible")(kt)&&i.allowAutoMargin(Ye,ut(kt))}};function or(Ye){return Ye._id+".automargin"}function mt(Ye){return or(Ye)+".mirror"}function ut(Ye){return Ye._id+".rangeslider"}te.swap=function(Ye,Ve){for(var _t=bt(Ye,Ve),kt=0;kt<_t.length;kt++)Rt(Ye,_t[kt].x,_t[kt].y)};function bt(Ye,Ve){var _t=[],kt,Kt;for(kt=0;kt<Ve.length;kt++){var sr=[],cr=Ye._fullData[Ve[kt]].xaxis,er=Ye._fullData[Ve[kt]].yaxis;if(!(!cr||!er)){for(Kt=0;Kt<_t.length;Kt++)(_t[Kt].x.indexOf(cr)!==-1||_t[Kt].y.indexOf(er)!==-1)&&sr.push(Kt);if(!sr.length){_t.push({x:[cr],y:[er]});continue}var Ot=_t[sr[0]],nr;if(sr.length>1)for(Kt=1;Kt<sr.length;Kt++)nr=_t[sr[Kt]],Et(Ot.x,nr.x),Et(Ot.y,nr.y);Et(Ot.x,[cr]),Et(Ot.y,[er])}}return _t}function Et(Ye,Ve){for(var _t=0;_t<Ve.length;_t++)Ye.indexOf(Ve[_t])===-1&&Ye.push(Ve[_t])}function Rt(Ye,Ve,_t){var kt=[],Kt=[],sr=Ye.layout,cr,er;for(cr=0;cr<Ve.length;cr++)kt.push(te.getFromId(Ye,Ve[cr]));for(cr=0;cr<_t.length;cr++)Kt.push(te.getFromId(Ye,_t[cr]));var Ot=Object.keys(n),nr=["anchor","domain","overlaying","position","side","tickangle","editType"],vr=["linear","log"];for(cr=0;cr<Ot.length;cr++){var wr=Ot[cr],ur=kt[0][wr],Vr=Kt[0][wr],Pr=!0,Dr=!1,ln=!1;if(!(wr.charAt(0)==="_"||typeof ur=="function"||nr.indexOf(wr)!==-1)){for(er=1;er<kt.length&&Pr;er++){var Wr=kt[er][wr];wr==="type"&&vr.indexOf(ur)!==-1&&vr.indexOf(Wr)!==-1&&ur!==Wr?Dr=!0:Wr!==ur&&(Pr=!1)}for(er=1;er<Kt.length&&Pr;er++){var Tn=Kt[er][wr];wr==="type"&&vr.indexOf(Vr)!==-1&&vr.indexOf(Tn)!==-1&&Vr!==Tn?ln=!0:Kt[er][wr]!==Vr&&(Pr=!1)}Pr&&(Dr&&(sr[kt[0]._name].type="linear"),ln&&(sr[Kt[0]._name].type="linear"),Ht(sr,wr,kt,Kt,Ye._fullLayout._dfltTitle))}}for(cr=0;cr<Ye._fullLayout.annotations.length;cr++){var An=Ye._fullLayout.annotations[cr];Ve.indexOf(An.xref)!==-1&&_t.indexOf(An.yref)!==-1&&S.swapAttrs(sr.annotations[cr],["?"])}}function Ht(Ye,Ve,_t,kt,Kt){var sr=S.nestedProperty,cr=sr(Ye[_t[0]._name],Ve).get(),er=sr(Ye[kt[0]._name],Ve).get(),Ot;for(Ve==="title"&&(cr&&cr.text===Kt.x&&(cr.text=Kt.y),er&&er.text===Kt.y&&(er.text=Kt.x)),Ot=0;Ot<_t.length;Ot++)sr(Ye,_t[Ot]._name+"."+Ve).set(er);for(Ot=0;Ot<kt.length;Ot++)sr(Ye,kt[Ot]._name+"."+Ve).set(cr)}function Bt(Ye){return Ye._id==="angularaxis"}function Nt(Ye,Ve){for(var _t=Ve._rangebreaks.length,kt=0;kt<_t;kt++){var Kt=Ve._rangebreaks[kt];if(Ye>=Kt.min&&Ye<Kt.max)return Kt.max}return Ye}function Jt(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function hr(Ye,Ve){Jt(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(Ve)}function fr(Ye,Ve,_t,kt){var Kt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,sr;kt?sr=Ye.side==="right"?Ve:-Ve:sr=Ve,Kt in _t||(_t[Kt]={}),Ye.side in _t[Kt]||(_t[Kt][Ye.side]=0),_t[Kt][Ye.side]+=sr}function dr(Ye,Ve){return Ye.autoshift?Ve[Ye.overlaying][Ye.side]:Ye.shift||0}},52976:function(G,V,e){var m=e(38248),P=e(3400),i=e(39032).BADNUM,L=P.isArrayOrTypedArray,S=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(g,h,T){var c=g,o=T.noMultiCategory;if(L(c)&&!c.length)return"-";if(!o&&l(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var d=[],x=0;x<c.length;x++)if(L(c[x]))for(var w=0;w<c[x].length;w++)d.push(c[x][w]);c=d}if(a(c,h))return"date";var C=T.autotypenumbers!=="strict";return f(c,C)?"category":t(c,C)?"linear":"-"};function r(u,g){return g?m(u):typeof u=="number"}function t(u,g){for(var h=u.length,T=0;T<h;T++)if(r(u[T],g))return!0;return!1}function a(u,g){for(var h=u.length,T=n(h),c=0,o=0,d={},x=0;x<h;x+=T){var w=p(x),C=u[w],y=String(C);d[y]||(d[y]=1,S(C,g)&&c++,m(C)&&o++)}return c>o*2}function n(u){return Math.max(1,(u-1)/1e3)}function f(u,g){for(var h=u.length,T=n(h),c=0,o=0,d={},x=0;x<h;x+=T){var w=p(x),C=u[w],y=String(C);if(!d[y]){d[y]=1;var M=typeof C;M==="boolean"?o++:(g?v(C)!==i:M==="number")?c++:M==="string"&&o++}}return o>c*2}function l(u){return L(u[0])&&L(u[1])}},28336:function(G,V,e){var m=e(38248),P=e(24040),i=e(3400),L=e(31780),S=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),a=e(42568),n=e(22416),f=e(42136),l=e(96312),u=e(78344),g=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;G.exports=function(x,w,C,y,M){var A=y.letter,s=y.font||{},E=y.splomStash||{},b=C("visible",!y.visibleDflt),F=w._template||{},I=w.type||F.type||"-",N;if(I==="date"){var _=P.getComponentMethod("calendars","handleDefaults");_(x,w,"calendar",y.calendar),y.noTicklabelmode||(N=C("ticklabelmode"))}var O="";(!y.noTicklabelposition||I==="multicategory")&&(O=i.coerce(x,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||C("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),u(w,M),l(x,w,C,y),n(x,w,C,y),I!=="category"&&!y.noHover&&C("hoverformat");var B=C("color"),z=B!==v.color.dflt?B:s.color,U=E.label||M._dfltTitle[A];if(a(x,w,C,I,y),!b)return w;C("title.text",U),i.coerceFont(C,"title.font",s,{overrideDflt:{size:i.bigFont(s.size),color:z}}),p(x,w,C,I);var Z=y.hasMinor;if(Z&&(L.newContainer(w,"minor"),p(x,w,C,I,{isMinor:!0})),t(x,w,C,I,y),r(x,w,C,y),Z){var J=y.isMinor;y.isMinor=!0,r(x,w,C,y),y.isMinor=J}f(x,w,C,{dfltColor:B,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:Z,attributes:v}),Z&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&C("mirror");var re=I==="multicategory";if(!y.noTickson&&(I==="category"||re)&&(w.ticks||w.showgrid)){var ne;re&&(ne="boundaries");var ue=C("tickson",ne);ue==="boundaries"&&delete w.ticklabelposition}if(re){var te=C("showdividers");te&&(C("dividercolor"),C("dividerwidth"))}if(I==="date")if(S(x,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var Q=0;Q<w.rangebreaks.length;Q++)if(w.rangebreaks[Q].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(u(w,M),M._has("scattergl")||M._has("splom"))for(var ie=0;ie<y.data.length;ie++){var Y=y.data[ie];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,i.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return w};function T(d,x,w){function C(N,_){return i.coerce(d,x,v.rangebreaks,N,_)}var y=C("enabled");if(y){var M=C("bounds");if(M&&M.length>=2){var A="",s,E;if(M.length===2){for(s=0;s<2;s++)if(E=o(M[s]),E){A=g;break}}var b=C("pattern",A);if(b===g)for(s=0;s<2;s++)E=o(M[s]),E&&(x.bounds[s]=M[s]=E-1);if(b)for(s=0;s<2;s++)switch(E=M[s],b){case g:if(!m(E)){x.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){x.enabled=!1;return}x.bounds[s]=M[s]=E;break;case h:if(!m(E)){x.enabled=!1;return}if(E=+E,E<0||E>24){x.enabled=!1;return}x.bounds[s]=M[s]=E;break}if(w.autorange===!1){var F=w.range;if(F[0]<F[1]){if(M[0]<F[0]&&M[1]>F[1]){x.enabled=!1;return}}else if(M[0]>F[0]&&M[1]<F[1]){x.enabled=!1;return}}}else{var I=C("values");if(I&&I.length)C("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(G,V,e){var m=e(26880),P=m.FORMAT_LINK,i=m.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function S(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return S(p,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(G,V,e){var m=e(24040),P=e(33816);V.id2name=function(S){if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},V.name2id=function(S){if(S.match(P.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},V.cleanId=function(S,v,p){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!p)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&p?" domain":"")}},V.list=function(L,S,v){var p=L._fullLayout;if(!p)return[];var r=V.listIds(L,S),t=new Array(r.length),a;for(a=0;a<r.length;a++){var n=r[a];t[a]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=p._subplots.gl3d||[];for(a=0;a<f.length;a++){var l=p[f[a]];S?t.push(l[S+"axis"]):t.push(l.xaxis,l.yaxis,l.zaxis)}}return t},V.listIds=function(L,S){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return S?p[S+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(L,S,v){var p=L._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),p[V.id2name(S)]},V.getFromTrace=function(L,S,v){var p=L._fullLayout,r=null;if(m.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=V.getFromId(L,S[v+"axis"]||v);return r},V.idSort=function(L,S){var v=L.charAt(0),p=S.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(S.substr(1)||1)},V.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function i(L,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][L])return!0}return!1}V.isLinked=function(L,S){return i(S,L._axisMatchGroups)||i(S,L._axisConstraintGroups)}},22416:function(G,V,e){var m=e(38116).isTypedArraySpec;function P(i,L){var S=L.dataAttr||i._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var a=L.data[r];a[S+"axis"]===i._id&&p.push(a)}for(r=0;r<p.length;r++){var n=p[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}G.exports=function(L,S,v,p){if(S.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||m(r),a;t&&(a="array");var n=v("categoryorder",a),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=P(S,p).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(G,V,e){var m=e(38248),P=e(3400),i=e(39032),L=i.ONEDAY,S=i.ONEWEEK;V.dtick=function(v,p){var r=p==="log",t=p==="date",a=p==="category",n=t?L:1;if(!v)return n;if(m(v))return v=Number(v),v<=0?n:a?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),l=v.substr(1);return l=m(l)?Number(l):0,l<=0||!(t&&f==="M"&&l===Math.round(l)||r&&f==="L"||r&&f==="D"&&(l===1||l===2))?n:v},V.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return m(v)?Number(v):0}},33816:function(G,V,e){var m=e(53756).counter;G.exports={idRegex:{x:m("x","( domain)?"),y:m("y","( domain)?")},attrRegex:m("[xy]axis"),xAxisMatch:m("xaxis"),yAxisMatch:m("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(G,V,e){var m=e(3400),P=e(19280),i=e(79811).id2name,L=e(94724),S=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;V.handleDefaults=function(h,T,c){var o=c.axIds,d=c.axHasImage,x=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],C,y,M,A,s,E,b,F;for(C=0;C<o.length;C++)A=i(o[C]),s=h[A],E=T[A],t(s,E,{axIds:o,layoutOut:T,hasImage:d[A]});function I(re,ne){for(C=0;C<re.length;C++){y=re[C];for(M in y)T[i(M)][ne]=y}}for(I(w,"_matchGroup"),C=0;C<x.length;C++){y=x[C];for(M in y)if(E=T[i(M)],E.fixedrange){for(var N in y){var _=i(N);(h[_]||{}).fixedrange===!1&&m.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),T[_].fixedrange=!0}break}}for(C=0;C<x.length;){y=x[C];for(M in y){E=T[i(M)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(y).length&&(x.splice(C,1),C--);break}C++}I(x,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,z=!1;function U(){F=E[b],b==="rangebreaks"&&(z=E._hasDayOfWeekBreaks)}for(C=0;C<w.length;C++){y=w[C];for(var Z=0;Z<O.length;Z++){b=O[Z],F=null;var J;for(M in y)if(A=i(M),s=h[A],E=T[A],b in E){if(!E.matches&&(J=E,b in s)){U();break}F===null&&b in s&&U()}if(b==="range"&&F&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(B=!0),b==="autorange"&&F===null&&B&&(F=!1),F===null&&b in J&&(F=J[b]),F!==null)for(M in y)E=T[i(M)],E[b]=b==="range"?F.slice():F,b==="rangebreaks"&&(E._hasDayOfWeekBreaks=z,v(E,T))}}};function t(h,T,c){var o=c.axIds,d=c.layoutOut,x=c.hasImage,w=d._axisConstraintGroups,C=d._axisMatchGroups,y=T._id,M=y.charAt(0),A=((d._splomAxes||{})[M]||{})[y]||{},s=T._id,E=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(Q,ie){return m.coerce(h,T,L,Q,ie)}b("constrain",x?"domain":"range"),m.coerce(h,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var F=T.type,I,N,_=[];for(I=0;I<o.length;I++)if(N=o[I],N!==s){var O=d[i(N)];O.type===F&&_.push(N)}var B=n(w,s);if(B){var z=[];for(I=0;I<_.length;I++)N=_[I],B[N]||z.push(N);_=z}var U=_.length,Z,J;U&&(h.matches||A.matches)&&(Z=m.coerce(h,T,{matches:{valType:"enumerated",values:_,dflt:_.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var re=x&&!E?T.anchor:void 0;if(U&&!Z&&(h.scaleanchor||re)&&(J=m.coerce(h,T,{scaleanchor:{valType:"enumerated",values:_.concat([!1])}},"scaleanchor",re)),Z){T._matchGroup=f(C,s,Z,1);var ne=d[i(Z)],ue=a(d,T)/a(d,ne);E!==(Z.charAt(0)==="x")&&(ue=(E?"x":"y")+ue),f(w,s,Z,ue)}else h.matches&&o.indexOf(h.matches)!==-1&&m.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(J){var te=b("scaleratio");te||(te=T.scaleratio=1),f(w,s,J,te)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&m.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var c=T.domain;return c||(c=h[i(T.overlaying)].domain),c[1]-c[0]}function n(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function f(h,T,c,o){var d,x,w,C,y,M=n(h,T);M===null?(M={},M[T]=1,y=h.length,h.push(M)):y=h.indexOf(M);var A=Object.keys(M);for(d=0;d<h.length;d++)if(w=h[d],d!==y&&w[c]){var s=w[c];for(x=0;x<A.length;x++)C=A[x],w[C]=l(s,l(o,M[C]));h.splice(y,1);return}if(o!==1)for(x=0;x<A.length;x++){var E=A[x];M[E]=l(o,M[E])}M[c]=1}function l(h,T){var c="",o="",d,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof T=="string"&&(o=T.match(/^[xy]*/)[0],x=o.length,T=+T.substr(x));var w=h*T;return!d&&!x?w:!d||!x||c.charAt(0)===o.charAt(0)?c+o+h*T:d===x?w:(d>x?c.substr(x):o.substr(d))+w}function u(h,T){for(var c=T._size,o=c.h/c.w,d={},x=Object.keys(h),w=0;w<x.length;w++){var C=x[w],y=h[C];if(typeof y=="string"){var M=y.match(/^[xy]*/)[0],A=M.length;y=+y.substr(A);for(var s=M.charAt(0)==="y"?o:1/o,E=0;E<A;E++)y*=s}d[C]=y}return d}V.enforce=function(T){var c=T._fullLayout,o=c._axisConstraintGroups||[],d,x,w,C,y,M,A,s;for(d=0;d<o.length;d++){w=u(o[d],c);var E=Object.keys(w),b=1/0,F=0,I=1/0,N={},_={},O=!1;for(x=0;x<E.length;x++)C=E[x],_[C]=y=c[i(C)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),N[C]=M=Math.abs(y._m)/w[C],b=Math.min(b,M),(y.constrain==="domain"||!y._constraintShrinkable)&&(I=Math.min(I,M)),delete y._constraintShrinkable,F=Math.max(F,M),y.constrain==="domain"&&(O=!0);if(!(b>p*F&&!O)){for(x=0;x<E.length;x++)if(C=E[x],M=N[C],y=_[C],A=y.constrain,M!==I||A==="domain")if(s=M/I,A==="range")S(y,s);else{var B=y._inputDomain,z=(y.domain[1]-y.domain[0])/(B[1]-B[0]),U=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(s/=z,s*U<1){y.domain=y._input.domain=B.slice(),S(y,s);continue}if(U<1&&(y.range=y._input.range=y._inputRange.slice(),s*=U),y.autorange){var Z=y.r2l(y.range[0]),J=y.r2l(y.range[1]),re=(Z+J)/2,ne=re,ue=re,te=Math.abs(J-re),Q=re-te*s*1.0001,ie=re+te*s*1.0001,Y=P.makePadFn(c,y,0),$=P.makePadFn(c,y,1);g(y,s);var oe=Math.abs(y._m),j=P.concatExtremes(T,y),X=j.min,se=j.max,q,ce;for(ce=0;ce<X.length;ce++)q=X[ce].val-Y(X[ce])/oe,q>Q&&q<ne&&(ne=q);for(ce=0;ce<se.length;ce++)q=se[ce].val+$(se[ce])/oe,q<ie&&q>ue&&(ue=q);var ye=(ue-ne)/(2*te);s/=ye,ne=y.l2r(ne),ue=y.l2r(ue),y.range=y._input.range=Z<J?[ne,ue]:[ue,ne]}g(y,s)}}}},V.getAxisGroup=function(T,c){for(var o=T._axisMatchGroups,d=0;d<o.length;d++){var x=o[d];if(x[c])return"g"+d}return c},V.clean=function(T,c){if(c._inputDomain){for(var o=!1,d=c._id,x=T._fullLayout._axisConstraintGroups,w=0;w<x.length;w++)if(x[w][d]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function g(h,T){var c=h._inputDomain,o=r[h.constraintoward],d=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[d+(c[0]-d)/T,d+(c[1]-d)/T],h.setScale()}},51184:function(G,V,e){var m=e(33428),P=e(3400),i=P.numberFormat,L=e(49760),S=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),a=e(43616),n=e(93024),f=e(54460),l=e(93972),u=e(86476),g=e(72760),h=g.selectingOrDrawing,T=g.freeMode,c=e(84284).FROM_TL,o=e(73696),d=e(39172).redrawReglTraces,x=e(7316),w=e(79811).getFromId,C=e(22676).prepSelect,y=e(22676).clearOutline,M=e(22676).selectOnClick,A=e(21160),s=e(33816),E=s.MINDRAG,b=s.MINZOOM,F=!0;function I(q,ce,ye,we,be,De,ke,Be){var Ae=q._fullLayout._zoomlayer,Ie=ke+Be==="nsew",Me=(ke+Be).length===1,Fe,Ee,He,rt,ot,$e,qe,ht,vt,pt,wt,Mt,nt,_e,Ge,je,We,Pe,Re,Xe,Le,ve,xe;ye+=ce.yaxis._shift;function Ne(){if(Fe=ce.xaxis,Ee=ce.yaxis,vt=Fe._length,pt=Ee._length,qe=Fe._offset,ht=Ee._offset,He={},He[Fe._id]=Fe,rt={},rt[Ee._id]=Ee,ke&&Be)for(var er=ce.overlays,Ot=0;Ot<er.length;Ot++){var nr=er[Ot].xaxis;He[nr._id]=nr;var vr=er[Ot].yaxis;rt[vr._id]=vr}ot=se(He),$e=se(rt),nt=O(ot,Be),_e=O($e,ke),Ge=!_e&&!nt,Mt=j(q,q._fullLayout._axisMatchGroups,He,rt),wt=j(q,q._fullLayout._axisConstraintGroups,He,rt,Mt);var wr=wt.isSubplotConstrained||Mt.isSubplotConstrained;je=Be||wr,We=ke||wr;var ur=q._fullLayout;Pe=ur._has("scattergl"),Re=ur._has("splom"),Xe=ur._has("svg")}Ne();var et=J(_e+nt,q._fullLayout.dragmode,Ie),st=_(ce,ke+Be+"drag",et,ye,we,be,De);if(Ge&&!Ie)return st.onmousedown=null,st.style.pointerEvents="none",st;var lt={element:st,gd:q,plotinfo:ce};lt.prepFn=function(er,Ot,nr){var vr=lt.dragmode,wr=q._fullLayout.dragmode;wr!==vr&&(lt.dragmode=wr),Ne(),ve=q._fullLayout._invScaleX,xe=q._fullLayout._invScaleY,Ge||(Ie?er.shiftKey?wr==="pan"?wr="zoom":h(wr)||(wr="pan"):er.ctrlKey&&(wr="pan"):wr="pan"),T(wr)?lt.minDrag=1:lt.minDrag=void 0,h(wr)?(lt.xaxes=ot,lt.yaxes=$e,C(er,Ot,nr,lt,wr)):(lt.clickFn=jt,h(vr)&&Gt(),Ge||(wr==="zoom"?(lt.moveFn=bt,lt.doneFn=Rt,lt.minDrag=1,ut(er,Ot,nr)):wr==="pan"&&(lt.moveFn=fr,lt.doneFn=_t))),q._fullLayout._redrag=function(){var ur=q._dragdata;if(ur&&ur.element===st){var Vr=q._fullLayout.dragmode;h(Vr)||(Ne(),kt([0,0,vt,pt]),lt.moveFn(ur.dx,ur.dy))}}};function Gt(){lt.plotinfo.selection=!1,y(q)}function jt(er,Ot){var nr=lt.gd;if(nr._fullLayout._activeShapeIndex>=0){nr._fullLayout._deactivateShape(nr);return}var vr=nr._fullLayout.clickmode;if(Q(nr),er===2&&!Me&&Ve(),Ie)vr.indexOf("select")>-1&&M(Ot,nr,ot,$e,ce.id,lt),vr.indexOf("event")>-1&&n.click(nr,Ot,ce.id);else if(er===1&&Me){var wr=ke?Ee:Fe,ur=ke==="s"||Be==="w"?0:1,Vr=wr._name+".range["+ur+"]",Pr=B(wr,ur),Dr="left",ln="middle";if(wr.fixedrange)return;ke?(ln=ke==="n"?"top":"bottom",wr.side==="right"&&(Dr="right")):Be==="e"&&(Dr="right"),nr._context.showAxisRangeEntryBoxes&&m.select(st).call(r.makeEditable,{gd:nr,immediate:!0,background:nr._fullLayout.paper_bgcolor,text:String(Pr),fill:wr.tickfont?wr.tickfont.color:"#444",horizontalAlign:Dr,verticalAlign:ln}).on("edit",function(Wr){var Tn=wr.d2r(Wr);Tn!==void 0&&v.call("_guiRelayout",nr,Vr,Tn)})}}u.init(lt);var Tt,Dt,Xt,gr,gt,Zt,Qt,yr,or,mt;function ut(er,Ot,nr){var vr=st.getBoundingClientRect();Tt=Ot-vr.left,Dt=nr-vr.top,q._fullLayout._calcInverseTransform(q);var wr=P.apply3DTransform(q._fullLayout._invTransform)(Tt,Dt);Tt=wr[0],Dt=wr[1],Xt={l:Tt,r:Tt,w:0,t:Dt,b:Dt,h:0},gr=q._hmpixcount?q._hmlumcount/q._hmpixcount:L(q._fullLayout.plot_bgcolor).getLuminance(),gt="M0,0H"+vt+"V"+pt+"H0V0",Zt=!1,Qt="xy",mt=!1,yr=re(Ae,gr,qe,ht,gt),or=ne(Ae,qe,ht)}function bt(er,Ot){if(q._transitioningWithDuration)return!1;var nr=Math.max(0,Math.min(vt,ve*er+Tt)),vr=Math.max(0,Math.min(pt,xe*Ot+Dt)),wr=Math.abs(nr-Tt),ur=Math.abs(vr-Dt);Xt.l=Math.min(Tt,nr),Xt.r=Math.max(Tt,nr),Xt.t=Math.min(Dt,vr),Xt.b=Math.max(Dt,vr);function Vr(){Qt="",Xt.r=Xt.l,Xt.t=Xt.b,or.attr("d","M0,0Z")}if(wt.isSubplotConstrained)wr>b||ur>b?(Qt="xy",wr/vt>ur/pt?(ur=wr*pt/vt,Dt>vr?Xt.t=Dt-ur:Xt.b=Dt+ur):(wr=ur*vt/pt,Tt>nr?Xt.l=Tt-wr:Xt.r=Tt+wr),or.attr("d",oe(Xt))):Vr();else if(Mt.isSubplotConstrained)if(wr>b||ur>b){Qt="xy";var Pr=Math.min(Xt.l/vt,(pt-Xt.b)/pt),Dr=Math.max(Xt.r/vt,(pt-Xt.t)/pt);Xt.l=Pr*vt,Xt.r=Dr*vt,Xt.b=(1-Pr)*pt,Xt.t=(1-Dr)*pt,or.attr("d",oe(Xt))}else Vr();else!_e||ur<Math.min(Math.max(wr*.6,E),b)?wr<E||!nt?Vr():(Xt.t=0,Xt.b=pt,Qt="x",or.attr("d",Y(Xt,Dt))):!nt||wr<Math.min(ur*.6,b)?(Xt.l=0,Xt.r=vt,Qt="y",or.attr("d",$(Xt,Tt))):(Qt="xy",or.attr("d",oe(Xt)));Xt.w=Xt.r-Xt.l,Xt.h=Xt.b-Xt.t,Qt&&(mt=!0),q._dragged=mt,ue(yr,or,Xt,gt,Zt,gr),Et(),q.emit("plotly_relayouting",Le),Zt=!0}function Et(){Le={},(Qt==="xy"||Qt==="x")&&(z(ot,Xt.l/vt,Xt.r/vt,Le,wt.xaxes),dr("x",Le)),(Qt==="xy"||Qt==="y")&&(z($e,(pt-Xt.b)/pt,(pt-Xt.t)/pt,Le,wt.yaxes),dr("y",Le))}function Rt(){Et(),Q(q),_t(),ie(q)}var Ht=[0,0,vt,pt],Bt=null,Nt=s.REDRAWDELAY,Jt=ce.mainplot?q._fullLayout._plots[ce.mainplot]:ce;function hr(er){if(!q._context._scrollZoom.cartesian&&!q._fullLayout._enablescrollzoom)return;if(Gt(),q._transitioningWithDuration){er.preventDefault(),er.stopPropagation();return}Ne(),clearTimeout(Bt);var Ot=-er.deltaY;if(isFinite(Ot)||(Ot=er.wheelDelta/10),!isFinite(Ot)){P.log("Did not find wheel motion attributes: ",er);return}var nr=Math.exp(-Math.min(Math.max(Ot,-20),20)/200),vr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wr=(er.clientX-vr.left)/vr.width,ur=(vr.bottom-er.clientY)/vr.height,Vr;function Pr(Dr,ln,Wr){if(Dr.fixedrange)return;var Tn=P.simpleMap(Dr.range,Dr.r2l),An=Tn[0]+(Tn[1]-Tn[0])*ln;function Tr(Fr){return Dr.l2r(An+(Fr-An)*Wr)}Dr.range=Tn.map(Tr)}if(je){for(Be||(wr=.5),Vr=0;Vr<ot.length;Vr++)Pr(ot[Vr],wr,nr);dr("x"),Ht[2]*=nr,Ht[0]+=Ht[2]*wr*(1/nr-1)}if(We){for(ke||(ur=.5),Vr=0;Vr<$e.length;Vr++)Pr($e[Vr],ur,nr);dr("y"),Ht[3]*=nr,Ht[1]+=Ht[3]*(1-ur)*(1/nr-1)}kt(Ht),Ye(),q.emit("plotly_relayouting",Le),Bt=setTimeout(function(){q._fullLayout&&(Ht=[0,0,vt,pt],_t())},Nt),er.preventDefault()}ke.length*Be.length!==1&&X(st,hr);function fr(er,Ot){if(er=er*ve,Ot=Ot*xe,q._transitioningWithDuration)return;if(q._fullLayout._replotting=!0,nt==="ew"||_e==="ns"){var nr=nt?-er:0,vr=_e?-Ot:0;if(Mt.isSubplotConstrained){if(nt&&_e){var wr=(er/vt-Ot/pt)/2;er=wr*vt,Ot=-wr*pt,nr=-er,vr=-Ot}_e?nr=-vr*vt/pt:vr=-nr*pt/vt}nt&&(U(ot,er),dr("x")),_e&&(U($e,Ot),dr("y")),kt([nr,vr,vt,pt]),Ye(),q.emit("plotly_relayouting",Le);return}function ur(Tr,Fr,Yr){for(var _r=1-Fr,on,un,Sn=0;Sn<Tr.length;Sn++){var Ln=Tr[Sn];if(!Ln.fixedrange){on=Ln,un=Ln._rl[_r]+(Ln._rl[Fr]-Ln._rl[_r])/Z(Yr/Ln._length);var Un=Ln.l2r(un);Un!==!1&&Un!==void 0&&(Ln.range[Fr]=Un)}}return on._length*(on._rl[Fr]-un)/(on._rl[Fr]-on._rl[_r])}var Vr=nt==="w"==(_e==="n")?1:-1;if(nt&&_e&&(wt.isSubplotConstrained||Mt.isSubplotConstrained)){var Pr=(er/vt+Vr*Ot/pt)/2;er=Pr*vt,Ot=Vr*Pr*pt}var Dr,ln;if(nt==="w"?er=ur(ot,0,er):nt==="e"?er=ur(ot,1,-er):nt||(er=0),_e==="n"?Ot=ur($e,1,Ot):_e==="s"?Ot=ur($e,0,-Ot):_e||(Ot=0),Dr=nt==="w"?er:0,ln=_e==="n"?Ot:0,wt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&nt&&_e&&Vr>0){var Wr;if(Mt.isSubplotConstrained||!nt&&_e.length===1){for(Wr=0;Wr<ot.length;Wr++)ot[Wr].range=ot[Wr]._r.slice(),A(ot[Wr],1-Ot/pt);er=Ot*vt/pt,Dr=er/2}if(Mt.isSubplotConstrained||!_e&&nt.length===1){for(Wr=0;Wr<$e.length;Wr++)$e[Wr].range=$e[Wr]._r.slice(),A($e[Wr],1-er/vt);Ot=er*pt/vt,ln=Ot/2}}(!Mt.isSubplotConstrained||!_e)&&dr("x"),(!Mt.isSubplotConstrained||!nt)&&dr("y");var Tn=vt-er,An=pt-Ot;Mt.isSubplotConstrained&&!(nt&&_e)&&(nt?(ln=Dr?0:er*pt/vt,An=Tn*pt/vt):(Dr=ln?0:Ot*vt/pt,Tn=An*vt/pt)),kt([Dr,ln,Tn,An]),Ye(),q.emit("plotly_relayouting",Le)}function dr(er,Ot){for(var nr=Mt.isSubplotConstrained?{x:$e,y:ot}[er]:Mt[er+"axes"],vr=Mt.isSubplotConstrained?{x:ot,y:$e}[er]:[],wr=0;wr<nr.length;wr++){var ur=nr[wr],Vr=ur._id,Pr=Mt.xLinks[Vr]||Mt.yLinks[Vr],Dr=vr[0]||He[Pr]||rt[Pr];Dr&&(Ot?(Ot[ur._name+".range[0]"]=Ot[Dr._name+".range[0]"],Ot[ur._name+".range[1]"]=Ot[Dr._name+".range[1]"]):ur.range=Dr.range.slice())}}function Ye(){var er=[],Ot;function nr(Vr){for(Ot=0;Ot<Vr.length;Ot++)Vr[Ot].fixedrange||er.push(Vr[Ot]._id)}function vr(Vr,Pr){for(Ot=0;Ot<Vr.length;Ot++){var Dr=Vr[Ot],ln=Dr[Pr];!Dr.fixedrange&&ln.tickmode==="sync"&&er.push(ln._id)}}for(je&&(nr(ot),nr(wt.xaxes),nr(Mt.xaxes),vr(ce.overlays,"xaxis")),We&&(nr($e),nr(wt.yaxes),nr(Mt.yaxes),vr(ce.overlays,"yaxis")),Le={},Ot=0;Ot<er.length;Ot++){var wr=er[Ot],ur=w(q,wr);f.drawOne(q,ur,{skipTitle:!0}),Le[ur._name+".range[0]"]=ur.range[0],Le[ur._name+".range[1]"]=ur.range[1]}f.redrawComponents(q,er)}function Ve(){if(!q._transitioningWithDuration){var er=q._context.doubleClick,Ot=[];nt&&(Ot=Ot.concat(ot)),_e&&(Ot=Ot.concat($e)),Mt.xaxes&&(Ot=Ot.concat(Mt.xaxes)),Mt.yaxes&&(Ot=Ot.concat(Mt.yaxes));var nr={},vr,wr;if(er==="reset+autosize")for(er="autosize",wr=0;wr<Ot.length;wr++){vr=Ot[wr];var ur=vr._rangeInitial0,Vr=vr._rangeInitial1,Pr=ur!==void 0||Vr!==void 0;if(Pr&&(ur!==void 0&&ur!==vr.range[0]||Vr!==void 0&&Vr!==vr.range[1])||!Pr&&vr.autorange!==!0){er="reset";break}}if(er==="autosize")for(wr=0;wr<Ot.length;wr++)vr=Ot[wr],vr.fixedrange||(nr[vr._name+".autorange"]=!0);else if(er==="reset"){for((nt||wt.isSubplotConstrained)&&(Ot=Ot.concat(wt.xaxes)),_e&&!wt.isSubplotConstrained&&(Ot=Ot.concat(wt.yaxes)),wt.isSubplotConstrained&&(nt?_e||(Ot=Ot.concat($e)):Ot=Ot.concat(ot)),wr=0;wr<Ot.length;wr++)if(vr=Ot[wr],!vr.fixedrange){var Dr=vr._name,ln=vr._autorangeInitial;vr._rangeInitial0===void 0&&vr._rangeInitial1===void 0?nr[Dr+".autorange"]=!0:vr._rangeInitial0===void 0?(nr[Dr+".autorange"]=ln,nr[Dr+".range"]=[null,vr._rangeInitial1]):vr._rangeInitial1===void 0?(nr[Dr+".range"]=[vr._rangeInitial0,null],nr[Dr+".autorange"]=ln):nr[Dr+".range"]=[vr._rangeInitial0,vr._rangeInitial1]}}q.emit("plotly_doubleclick",null),v.call("_guiRelayout",q,nr)}}function _t(){kt([0,0,vt,pt]),P.syncOrAsync([x.previousPromises,function(){q._fullLayout._replotting=!1,v.call("_guiRelayout",q,Le)}],q)}function kt(er){var Ot=q._fullLayout,nr=Ot._plots,vr=Ot._subplots.cartesian,wr,ur,Vr,Pr;if(Re&&v.subplotsRegistry.splom.drag(q),Pe){for(wr=0;wr<vr.length;wr++)if(ur=nr[vr[wr]],Vr=ur.xaxis,Pr=ur.yaxis,ur._scene){var Dr=P.simpleMap(Vr.range,Vr.r2l),ln=P.simpleMap(Pr.range,Pr.r2l);Vr.limitRange&&Vr.limitRange(),Pr.limitRange&&Pr.limitRange(),Dr=Vr.range,ln=Pr.range,ur._scene.update({range:[Dr[0],ln[0],Dr[1],ln[1]]})}}if((Re||Pe)&&(o(q),d(q)),Xe){var Wr=er[2]/Fe._length,Tn=er[3]/Ee._length;for(wr=0;wr<vr.length;wr++){ur=nr[vr[wr]],Vr=ur.xaxis,Pr=ur.yaxis;var An=(je||Mt.isSubplotConstrained)&&!Vr.fixedrange&&He[Vr._id],Tr=(We||Mt.isSubplotConstrained)&&!Pr.fixedrange&&rt[Pr._id],Fr,Yr,_r,on;if(An?(Fr=Wr,_r=Be||Mt.isSubplotConstrained?er[0]:cr(Vr,Fr)):Mt.xaHash[Vr._id]?(Fr=Wr,_r=er[0]*Vr._length/Fe._length):Mt.yaHash[Vr._id]?(Fr=Tn,_r=_e==="ns"?-er[1]*Vr._length/Ee._length:cr(Vr,Fr,{n:"top",s:"bottom"}[_e])):(Fr=Kt(Vr,Wr,Tn),_r=sr(Vr,Fr)),Fr>1&&(Vr.maxallowed!==void 0&&je===(Vr.range[0]<Vr.range[1]?"e":"w")||Vr.minallowed!==void 0&&je===(Vr.range[0]<Vr.range[1]?"w":"e"))&&(Fr=1,_r=0),Tr?(Yr=Tn,on=ke||Mt.isSubplotConstrained?er[1]:cr(Pr,Yr)):Mt.yaHash[Pr._id]?(Yr=Tn,on=er[1]*Pr._length/Ee._length):Mt.xaHash[Pr._id]?(Yr=Wr,on=nt==="ew"?-er[0]*Pr._length/Fe._length:cr(Pr,Yr,{e:"right",w:"left"}[nt])):(Yr=Kt(Pr,Wr,Tn),on=sr(Pr,Yr)),Yr>1&&(Pr.maxallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"n":"s")||Pr.minallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"s":"n"))&&(Yr=1,on=0),!(!Fr&&!Yr)){Fr||(Fr=1),Yr||(Yr=1);var un=Vr._offset-_r/Fr,Sn=Pr._offset-on/Yr;ur.clipRect.call(a.setTranslate,_r,on).call(a.setScale,Fr,Yr),ur.plot.call(a.setTranslate,un,Sn).call(a.setScale,1/Fr,1/Yr),(Fr!==ur.xScaleFactor||Yr!==ur.yScaleFactor)&&(a.setPointGroupScale(ur.zoomScalePts,Fr,Yr),a.setTextPointsScale(ur.zoomScaleTxt,Fr,Yr)),a.hideOutsideRangePoints(ur.clipOnAxisFalseTraces,ur),ur.xScaleFactor=Fr,ur.yScaleFactor=Yr}}}}function Kt(er,Ot,nr){return er.fixedrange?0:je&&wt.xaHash[er._id]?Ot:We&&(wt.isSubplotConstrained?wt.xaHash:wt.yaHash)[er._id]?nr:0}function sr(er,Ot){return Ot?(er.range=er._r.slice(),A(er,Ot),cr(er,Ot)):0}function cr(er,Ot,nr){return er._length*(1-Ot)*c[nr||er.constraintoward||"middle"]}return st}function N(q,ce,ye,we){var be=P.ensureSingle(q.draglayer,ce,ye,function(De){De.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",q.id)});return be.call(l,we),be.node()}function _(q,ce,ye,we,be,De,ke){var Be=N(q,"rect",ce,ye);return m.select(Be).call(a.setRect,we,be,De,ke),Be}function O(q,ce){for(var ye=0;ye<q.length;ye++)if(!q[ye].fixedrange)return ce;return""}function B(q,ce){var ye=q.range[ce],we=Math.abs(ye-q.range[1-ce]),be;return q.type==="date"?ye:q.type==="log"?(be=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,i("."+be+"g")(Math.pow(10,ye))):(be=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,i("."+String(be)+"g")(ye))}function z(q,ce,ye,we,be){for(var De=0;De<q.length;De++){var ke=q[De];if(!ke.fixedrange)if(ke.rangebreaks){var Be=ke._id.charAt(0)==="y",Ae=Be?1-ce:ce,Ie=Be?1-ye:ye;we[ke._name+".range[0]"]=ke.l2r(ke.p2l(Ae*ke._length)),we[ke._name+".range[1]"]=ke.l2r(ke.p2l(Ie*ke._length))}else{var Me=ke._rl[0],Fe=ke._rl[1]-Me;we[ke._name+".range[0]"]=ke.l2r(Me+Fe*ce),we[ke._name+".range[1]"]=ke.l2r(Me+Fe*ye)}}if(be&&be.length){var Ee=(ce+(1-ye))/2;z(be,Ee,1-Ee,we,[])}}function U(q,ce){for(var ye=0;ye<q.length;ye++){var we=q[ye];if(!we.fixedrange){if(we.rangebreaks){var be=0,De=we._length,ke=we.p2l(be+ce)-we.p2l(be),Be=we.p2l(De+ce)-we.p2l(De),Ae=(ke+Be)/2;we.range=[we.l2r(we._rl[0]-Ae),we.l2r(we._rl[1]-Ae)]}else we.range=[we.l2r(we._rl[0]-ce/we._m),we.l2r(we._rl[1]-ce/we._m)];we.limitRange&&we.limitRange()}}}function Z(q){return 1-(q>=0?Math.min(q,.9):1/(1/Math.max(q,-.3)+3.222))}function J(q,ce,ye){return q?q==="nsew"?ye?"":ce==="pan"?"move":"crosshair":q.toLowerCase()+"-resize":"pointer"}function re(q,ce,ye,we,be){return q.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,we)).attr("d",be+"Z")}function ne(q,ce,ye){return q.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ce,ye)).attr("d","M0,0Z")}function ue(q,ce,ye,we,be,De){q.attr("d",we+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),te(q,ce,be,De)}function te(q,ce,ye,we){ye||(q.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function Q(q){m.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ie(q){F&&q.data&&q._context.showTips&&(P.notifier(P._(q,"Double-click to zoom back out"),"long"),F=!1)}function Y(q,ce){return"M"+(q.l-.5)+","+(ce-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(q.r+.5)+","+(ce-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function $(q,ce){return"M"+(ce-b-.5)+","+(q.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(ce-b-.5)+","+(q.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function oe(q){var ce=Math.floor(Math.min(q.b-q.t,q.r-q.l,b)/2);return"M"+(q.l-3.5)+","+(q.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(q.r+3.5)+","+(q.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(q.r+3.5)+","+(q.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(q.l-3.5)+","+(q.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function j(q,ce,ye,we,be){for(var De=!1,ke={},Be={},Ae,Ie,Me,Fe,Ee=(be||{}).xaHash,He=(be||{}).yaHash,rt=0;rt<ce.length;rt++){var ot=ce[rt];for(Ae in ye)if(ot[Ae]){for(Me in ot)!(be&&(Ee[Me]||He[Me]))&&!(Me.charAt(0)==="x"?ye:we)[Me]&&(ke[Me]=Ae);for(Ie in we)!(be&&(Ee[Ie]||He[Ie]))&&ot[Ie]&&(De=!0)}for(Ie in we)if(ot[Ie])for(Fe in ot)!(be&&(Ee[Fe]||He[Fe]))&&!(Fe.charAt(0)==="x"?ye:we)[Fe]&&(Be[Fe]=Ie)}De&&(P.extendFlat(ke,Be),Be={});var $e={},qe=[];for(Me in ke){var ht=w(q,Me);qe.push(ht),$e[ht._id]=ht}var vt={},pt=[];for(Fe in Be){var wt=w(q,Fe);pt.push(wt),vt[wt._id]=wt}return{xaHash:$e,yaHash:vt,xaxes:qe,yaxes:pt,xLinks:ke,yLinks:Be,isSubplotConstrained:De}}function X(q,ce){if(!S)q.onwheel!==void 0?q.onwheel=ce:q.onmousewheel!==void 0?q.onmousewheel=ce:q.isAddedWheelEvent||(q.isAddedWheelEvent=!0,q.addEventListener("wheel",ce,{passive:!1}));else{var ye=q.onwheel!==void 0?"wheel":"mousewheel";q._onwheel&&q.removeEventListener(ye,q._onwheel),q._onwheel=ce,q.addEventListener(ye,ce,{passive:!1})}}function se(q){var ce=[];for(var ye in q)ce.push(q[ye]);return ce}G.exports={makeDragBox:I,makeDragger:N,makeRectDragger:_,makeZoombox:re,makeCorners:ne,updateZoombox:ue,xyCorners:oe,transitionZoombox:te,removeZoombox:Q,showDoubleClickNotifier:ie,attachWheelEventHandler:X}},42464:function(G,V,e){var m=e(33428),P=e(93024),i=e(86476),L=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;V.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){m.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(f,l){if((t._plots[f].mainplot&&!0)===(t._plots[l].mainplot&&!0)){var u=f.split("y"),g=l.split("y");return u[0]===g[0]?Number(u[1]||1)-Number(g[1]||1):Number(u[0]||1)-Number(g[0]||1)}return t._plots[f].mainplot?1:-1});a.forEach(function(f){var l=t._plots[f],u=l.xaxis,g=l.yaxis;if(!l.mainplot){var h=S(r,l,u._offset,g._offset,u._length,g._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&P.hover(r,o,f)},P.hover(r,o,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,i.unhover(r,o))},r._context.showAxisDragHandles&&(S(r,l,u._offset-v,g._offset-v,v,v,"n","w"),S(r,l,u._offset+u._length,g._offset-v,v,v,"n","e"),S(r,l,u._offset-v,g._offset+g._length,v,v,"s","w"),S(r,l,u._offset+u._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===u._mainSubplot){var T=u._mainLinePosition;u.side==="top"&&(T-=v),S(r,l,u._offset+u._length*.1,T,u._length*.8,v,"","ew"),S(r,l,u._offset,T,u._length*.1,v,"","w"),S(r,l,u._offset+u._length*.9,T,u._length*.1,v,"","e")}if(f===g._mainSubplot){var c=g._mainLinePosition;g.side!=="right"&&(c-=v),S(r,l,c,g._offset+g._length*.1,v,g._length*.8,"ns",""),S(r,l,c,g._offset+g._length*.9,v,g._length*.1,"s",""),S(r,l,c,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,P.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,P.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},V.updateFx(r)}},V.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(G,V,e){var m=e(24040),P=e(3400),i=e(79811);G.exports=function(S){return function(p,r){var t=p[S];if(Array.isArray(t))for(var a=m.subplotsRegistry.cartesian,n=a.idRegex,f=r._subplots,l=f.xaxis,u=f.yaxis,g=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(P.isPlainObject(c)){var o=i.cleanId(c.xref,"x",!1),d=i.cleanId(c.yref,"y",!1),x=n.x.test(o),w=n.y.test(d);if(x||w){h||P.pushUnique(r._basePlotModules,a);var C=!1;x&&l.indexOf(o)===-1&&(l.push(o),C=!0),w&&u.indexOf(d)===-1&&(u.push(d),C=!0),C&&x&&w&&g.push(o+d)}}}}}},57952:function(G,V,e){var m=e(33428),P=e(24040),i=e(3400),L=e(7316),S=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),a=i.ensureSingle;function n(T,c,o){return i.ensureSingle(T,c,o,function(d){d.datum(o)})}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=r.idRegex,V.attrRegex=r.attrRegex,V.attributes=e(26720),V.layoutAttributes=e(94724),V.supplyLayoutDefaults=e(67352),V.transitionAxes=e(73736),V.finalizeSubplots=function(T,c){var o=c._subplots,d=o.xaxis,x=o.yaxis,w=o.cartesian,C=w.concat(o.gl2d||[]),y={},M={},A,s,E;for(A=0;A<C.length;A++){var b=C[A].split("y");y[b[0]]=1,M["y"+b[1]]=1}for(A=0;A<d.length;A++)s=d[A],y[s]||(E=(T[p.id2name(s)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),w.push(s+E),C.push(s+E),M[E]||(M[E]=1,i.pushUnique(x,E)));for(A=0;A<x.length;A++)E=x[A],M[E]||(s=(T[p.id2name(E)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),w.push(s+E),C.push(s+E),y[s]||(y[s]=1,i.pushUnique(d,s)));if(!C.length){s="",E="";for(var F in T)if(r.attrRegex.test(F)){var I=F.charAt(0);I==="x"?(!s||+F.substr(5)<+s.substr(5))&&(s=F):(!E||+F.substr(5)<+E.substr(5))&&(E=F)}s=s?p.name2id(s):"x",E=E?p.name2id(E):"y",d.push(s),x.push(E),w.push(s+E)}},V.plot=function(T,c,o,d){var x=T._fullLayout,w=x._subplots.cartesian,C=T.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<C.length;y++)c.push(y);for(y=0;y<w.length;y++){for(var M=w[y],A=x._plots[M],s=[],E,b=0;b<C.length;b++){var F=C[b],I=F[0].trace;I.xaxis+I.yaxis===M&&((c.indexOf(I.index)!==-1||I.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===M&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&s.indexOf(E)===-1&&s.push(E),s.push(F)),E=F)}f(T,A,s,o,d)}};function f(T,c,o,d,x){for(var w=r.traceLayerClasses,C=T._fullLayout,y=C._modules,M,A,s,E={},b=0;b<o.length;b++){var F=o[b][0].trace,I=F.zorder||0;E[I]||(E[I]=[]),E[I].push(o[b])}for(var N=[],_=[],O=Object.keys(E).map(Number).sort(i.sorterAsc),B=0;B<O.length;B++)for(var z=O[B],U=0;U<y.length;U++){M=y[U];var Z=M.name,J=P.modules[Z].categories;if(J.svg){var re=M.layerName||Z+"layer",ne=re+(B?Number(B)+1:""),ue=M.plot;A=v(o,ue,z),s=A[0],o=A[1],s.length&&N.push({i:w.indexOf(re),zorder:B,className:ne,plotMethod:ue,cdModule:s}),J.zoomScale&&_.push("."+ne)}}N.sort(function(ie,Y){return(ie.zorder||0)-(Y.zorder||0)||ie.i-Y.i});var te=c.plot.selectAll("g.mlayer").data(N,function(ie){return ie.className});if(te.enter().append("g").attr("class",function(ie){return ie.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),te.exit().remove(),te.order(),te.each(function(ie){var Y=m.select(this),$=ie.className;ie.plotMethod(T,c,ie.cdModule,Y,d,x),r.clipOnAxisFalseQuery.indexOf("."+$)===-1&&S.setClipUrl(Y,c.layerClipId,T)}),C._has("scattergl")&&(M=P.getModule("scattergl"),s=v(o,M)[0],M.plot(T,c,s)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),_.length)){var Q=c.plot.selectAll(_.join(",")).selectAll(".trace");c.zoomScalePts=Q.selectAll("path.point"),c.zoomScaleTxt=Q.selectAll(".textpoint")}}V.clean=function(T,c,o,d){var x=d._plots||{},w=c._plots||{},C=d._subplots||{},y,M,A;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(A in x)y=x[A],y.plotgroup&&y.plotgroup.remove();var s=d._has&&d._has("gl"),E=c._has&&c._has("gl");if(s&&!E)for(A in x)y=x[A],y._scene&&y._scene.destroy();if(C.xaxis&&C.yaxis){var b=p.listIds({_fullLayout:d});for(M=0;M<b.length;M++){var F=b[M];c[p.id2name(F)]||d._infolayer.selectAll(".g-"+F+"title").remove()}}var I=d._has&&d._has("cartesian"),N=c._has&&c._has("cartesian");if(I&&!N)g(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(M=0;M<C.cartesian.length;M++){var _=C.cartesian[M];if(!w[_]){var O="."+_+",."+_+"-x,."+_+"-y";d._cartesianlayer.selectAll(O).remove(),h(_,d)}}},V.drawFramework=function(T){var c=T._fullLayout,o=l(T),d=c._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(g,c),d.each(function(x){var w=x[0],C=c._plots[w];C.plotgroup=m.select(this),u(T,C),C.draglayer=a(c._draggers,"g",w)})},V.rangePlot=function(T,c,o){u(T,c),f(T,c,o),L.style(T)};function l(T){var c=T._fullLayout,o=c._subplots.cartesian,d=o.length,x,w,C,y,M,A,s=[],E=[];for(x=0;x<d;x++){C=o[x],y=c._plots[C],M=y.xaxis,A=y.yaxis;var b=M._mainAxis,F=A._mainAxis,I=b._id+F._id,N=c._plots[I];y.overlays=[],I!==C&&N?(y.mainplot=I,y.mainplotinfo=N,E.push(C)):(y.mainplot=void 0,y.mainplotinfo=void 0,s.push(C))}for(x=0;x<E.length;x++)C=E[x],y=c._plots[C],y.mainplotinfo.overlays.push(y);var _=s.concat(E),O=new Array(d);for(x=0;x<d;x++){C=_[x],y=c._plots[C],M=y.xaxis,A=y.yaxis;var B=[C,M.layer,A.layer,M.overlaying||"",A.overlaying||""];for(w=0;w<y.overlays.length;w++)B.push(y.overlays[w].id);O[x]=B}return O}function u(T,c){var o=c.plotgroup,d=c.id,x=r.layerValue2layerClass[c.xaxis.layer],w=r.layerValue2layerClass[c.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var A=c.mainplotinfo,s=A.plotgroup,E=d+"-x",b=d+"-y";c.minorGridlayer=A.minorGridlayer,c.gridlayer=A.gridlayer,c.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",E),a(A.overlinesBelow,"path",b),a(A.overaxesBelow,"g",E),a(A.overaxesBelow,"g",b),c.plot=a(A.overplot,"g",d),a(A.overlinesAbove,"path",E),a(A.overlinesAbove,"path",b),a(A.overaxesAbove,"g",E),a(A.overaxesAbove,"g",b),c.xlines=s.select(".overlines-"+x).select("."+E),c.ylines=s.select(".overlines-"+w).select("."+b),c.xaxislayer=s.select(".overaxes-"+x).select("."+E),c.yaxislayer=s.select(".overaxes-"+w).select("."+b)}else if(C)c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.xaxislayer=a(o,"g","xaxislayer-above"),c.yaxislayer=a(o,"g","yaxislayer-above");else{var y=a(o,"g","layer-subplot");c.shapelayer=a(y,"g","shapelayer"),c.imagelayer=a(y,"g","imagelayer"),c.minorGridlayer=a(o,"g","minor-gridlayer"),c.gridlayer=a(o,"g","gridlayer"),c.zerolinelayer=a(o,"g","zerolinelayer");var M=a(o,"g","layer-between");c.shapelayerBetween=a(M,"g","shapelayer"),c.imagelayerBetween=a(M,"g","imagelayer"),a(o,"path","xlines-below"),a(o,"path","ylines-below"),c.overlinesBelow=a(o,"g","overlines-below"),a(o,"g","xaxislayer-below"),a(o,"g","yaxislayer-below"),c.overaxesBelow=a(o,"g","overaxes-below"),c.plot=a(o,"g","plot"),c.overplot=a(o,"g","overplot"),c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.overlinesAbove=a(o,"g","overlines-above"),a(o,"g","xaxislayer-above"),a(o,"g","yaxislayer-above"),c.overaxesAbove=a(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+x),c.ylines=o.select(".ylines-"+w),c.xaxislayer=o.select(".xaxislayer-"+x),c.yaxislayer=o.select(".yaxislayer-"+w)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(F){return F[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(F){return F[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function g(T,c){if(T){var o={};T.each(function(M){var A=M[0],s=m.select(this);s.remove(),h(A,c),o[A]=!0});for(var d in c._plots)for(var x=c._plots[d],w=x.overlays||[],C=0;C<w.length;C++){var y=w[C];o[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}V.toSVG=function(T){var c=T._fullLayout._glimages,o=m.select(T).selectAll(".svg-container"),d=o.filter(function(w,C){return C===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var w=this,C=w.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(x)},V.updateFx=e(42464).updateFx},94724:function(G,V,e){var m=e(25376),P=e(22548),i=e(98192).u,L=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,a=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=L({},n,{values:n.values.slice().concat(["sync"])});function l(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=5),A}function o(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=1),A}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},x={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=1),A}var C=L({},i,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:m({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:f,nticks:l(),tick0:u,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:m({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:x,gridwidth:w(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:l("minor"),tick0:u,dtick:g,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:x,gridwidth:w("minor"),griddash:C,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:m({editType:"ticks"})}}},67352:function(G,V,e){var m=e(3400),P=e(76308),i=e(10624).isUnifiedHover,L=e(41008),S=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),a=e(71888),n=e(37668),f=e(79811),l=f.id2name,u=f.name2id,g=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function o(d,x,w){Array.isArray(d[x])?d[x].push(w):d[x]=[w]}G.exports=function(x,w,C){var y=w.autotypenumbers,M={},A={},s={},E={},b={},F={},I={},N={},_={},O={},B,z;for(B=0;B<C.length;B++){var U=C[B];if(!(!T(U,"cartesian")&&!T(U,"gl2d"))){var Z;if(U.xaxis)Z=l(U.xaxis),o(M,Z,U);else if(U.xaxes)for(z=0;z<U.xaxes.length;z++)o(M,l(U.xaxes[z]),U);var J;if(U.yaxis)J=l(U.yaxis),o(M,J,U);else if(U.yaxes)for(z=0;z<U.yaxes.length;z++)o(M,l(U.yaxes[z]),U);if(U.type==="funnel"?U.orientation==="h"?(Z&&(A[Z]=!0),J&&(I[J]=!0)):J&&(s[J]=!0):U.type==="image"?(J&&(N[J]=!0),Z&&(N[Z]=!0)):(J&&(b[J]=!0,F[J]=!0),(!T(U,"carpet")||U.type==="carpet"&&!U._cheater)&&Z&&(E[Z]=!0)),U.type==="carpet"&&U._cheater&&Z&&(A[Z]=!0),T(U,"2dMap")&&(_[Z]=!0,_[J]=!0),T(U,"oriented")){var re=U.orientation==="h"?J:Z;O[re]=!0}}}var ne=w._subplots,ue=ne.xaxis,te=ne.yaxis,Q=m.simpleMap(ue,l),ie=m.simpleMap(te,l),Y=Q.concat(ie),$=P.background;ue.length&&te.length&&($=m.coerce(x,w,v,"plot_bgcolor"));var oe=P.combine($,w.paper_bgcolor),j,X,se,q,ce;function ye(){var ve=M[j]||[];ce._traceIndices=ve.map(function(xe){return xe._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=j,ce._id=X}function we(ve,xe){return m.coerce(q,ce,p,ve,xe)}function be(ve,xe){return m.coerce2(q,ce,p,ve,xe)}function De(ve){return ve==="x"?te:ue}function ke(ve,xe){for(var Ne=ve==="x"?Q:ie,et=[],st=0;st<Ne.length;st++){var lt=Ne[st];lt!==xe&&!(x[lt]||{}).overlaying&&et.push(u(lt))}return et}var Be={x:De("x"),y:De("y")},Ae=Be.x.concat(Be.y),Ie={},Me=[];function Fe(){var ve=q.matches;g.test(ve)&&Ae.indexOf(ve)===-1&&(Ie[ve]=q.type,Me=Object.keys(Ie))}var Ee=L(x,w),He=i(Ee);for(B=0;B<Y.length;B++){j=Y[B],X=u(j),se=j.charAt(0),m.isPlainObject(x[j])||(x[j]={}),q=x[j],ce=S.newContainer(w,j,se+"axis"),ye();var rt=se==="x"&&!E[j]&&A[j]||se==="y"&&!b[j]&&s[j],ot=se==="y"&&(!F[j]&&I[j]||N[j]),$e={hasMinor:!0,letter:se,font:w.font,outerTicks:_[j],showGrid:!O[j],data:M[j]||[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:rt,reverseDflt:ot,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[X],noAutotickangles:se==="y"};we("uirevision",w.uirevision),r(q,ce,we,$e),t(q,ce,we,$e,w);var qe=He&&se===Ee.charAt(0),ht=be("spikecolor",He?ce.color:void 0),vt=be("spikethickness",He?1.5:void 0),pt=be("spikedash",He?"dot":void 0),wt=be("spikemode",He?"across":void 0),Mt=be("spikesnap"),nt=we("showspikes",!!qe||!!ht||!!vt||!!pt||!!wt||!!Mt);nt||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var _e=l(q.overlaying),Ge=[0,1];if(w[_e]!==void 0){var je=l(w[_e].anchor);w[je]!==void 0&&(Ge=w[je].domain)}n(q,ce,we,{letter:se,counterAxes:Be[se],overlayableAxes:ke(se,j),grid:w.grid,overlayingDomain:Ge}),we("title.standoff"),Fe(),ce._input=q}for(B=0;B<Me.length;){X=Me[B++],j=l(X),se=j.charAt(0),m.isPlainObject(x[j])||(x[j]={}),q=x[j],ce=S.newContainer(w,j,se+"axis"),ye();var We={letter:se,font:w.font,outerTicks:_[j],showGrid:!O[j],data:[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[X]};we("uirevision",w.uirevision),ce.type=Ie[X]||"linear",t(q,ce,we,We,w),n(q,ce,we,{letter:se,counterAxes:Be[se],overlayableAxes:ke(se,j),grid:w.grid}),we("fixedrange"),Fe(),ce._input=q}var Pe=c("rangeslider","handleDefaults"),Re=c("rangeselector","handleDefaults");for(B=0;B<Q.length;B++)j=Q[B],q=x[j],ce=w[j],Pe(x,w,j),ce.type==="date"&&Re(q,ce,w,ie,ce.calendar),we("fixedrange");for(B=0;B<ie.length;B++){j=ie[B],q=x[j],ce=w[j];var Xe=w[l(ce.anchor)],Le=c("rangeslider","isVisible")(Xe);we("fixedrange",Le)}a.handleDefaults(x,w,{axIds:Ae.concat(Me).sort(f.idSort),axHasImage:N})}},42136:function(G,V,e){var m=e(49760).mix,P=e(22548),i=e(3400);G.exports=function(S,v,p,r){r=r||{};var t=r.dfltColor;function a(s,E){return i.coerce2(S,v,r.attributes,s,E)}var n=a("linecolor",t),f=a("linewidth"),l=p("showline",r.showLine||!!n||!!f);l||(delete v.linecolor,delete v.linewidth);var u=m(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=a("gridcolor",u),h=a("gridwidth"),T=a("griddash"),c=p("showgrid",r.showGrid||!!g||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=m(v.gridcolor,r.bgColor,67).toRgbString(),d=a("minor.gridcolor",o),x=a("minor.gridwidth",v.gridwidth||1),w=a("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!x||!!w);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=a("zerolinecolor",t),M=a("zerolinewidth"),A=p("zeroline",r.showGrid||!!y||!!M);A||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,V,e){var m=e(38248),P=e(3400);G.exports=function(L,S,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],a=p.letter,n=p.grid,f=p.overlayingDomain,l,u,g,h,T,c;n&&(u=n._domains[a][n._axisMap[S._id]],l=n._anchors[S._id],u&&(g=n[a+"side"].split(" ")[0],h=n.domain[a][g==="right"||g==="top"?1:0])),u=u||[0,1],l=l||(m(L.position)?"free":r[0]||"free"),g=g||(a==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var o=P.coerce(L,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:l}},"anchor"),d=P.coerce(L,S,{side:{valType:"enumerated",values:a==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(o==="free"){if(a==="y"){var x=v("autoshift");x&&(h=d==="left"?f[0]:f[1],c=S.automargin?S.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var w=!1;if(t.length&&(w=P.coerce(L,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var C=v("domain",u);C[0]>C[1]-.000244140625&&(S.domain=u),P.noneOrAll(L.domain,S.domain,u),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(G,V,e){var m=e(85024);G.exports=function(i,L,S,v,p){p||(p={});var r=p.tickSuffixDflt,t=m(i),a=S("tickprefix");a&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(G,V,e){var m=e(76808);G.exports=function(i,L,S,v){var p=L._template||{},r=L.type||p.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var a;!v.noInsiderange&&r!=="log"&&(a=S("insiderange"),a&&(a[0]===null||a[1]===null)&&(L.insiderange=!1,a=void 0),a&&(t=S("range",a)))}var n=L.getAutorangeDflt(t,v),f=S("autorange",n),l;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,l=!0),l||(n=L.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(m(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),L.cleanRange()}},21160:function(G,V,e){var m=e(84284).FROM_BL;G.exports=function(i,L,S){S===void 0&&(S=m[i.constraintoward||"center"]);var v=[i.r2l(i.range[0]),i.r2l(i.range[1])],p=v[0]+(v[1]-v[0])*S;i.range=i._input.range=[i.l2r(p+(v[0]-p)*L),i.l2r(p+(v[1]-p)*L)],i.setScale()}},78344:function(G,V,e){var m=e(33428),P=e(94336).E9,i=e(3400),L=i.numberFormat,S=e(38248),v=i.cleanNumber,p=i.ms2DateTime,r=i.dateTime2ms,t=i.ensureNumber,a=i.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,l=n.BADNUM,u=n.LOG_CLIP,g=n.ONEWEEK,h=n.ONEDAY,T=n.ONEHOUR,c=n.ONEMIN,o=n.ONESEC,d=e(79811),x=e(33816),w=x.HOUR_PATTERN,C=x.WEEKDAY_PATTERN;function y(A){return Math.pow(10,A)}function M(A){return A!=null}G.exports=function(s,E){E=E||{};var b=s._id||"x",F=b.charAt(0);function I(Y,$){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&$&&s.range&&s.range.length===2){var oe=s.range[0],j=s.range[1];return .5*(oe+j-2*u*Math.abs(oe-j))}else return l}function N(Y,$,oe,j){if((j||{}).msUTC&&S(Y))return+Y;var X=r(Y,oe||s.calendar);if(X===l)if(S(Y)){Y=+Y;var se=Math.floor(i.mod(Y+.05,1)*10),q=Math.round(Y-se/10);X=r(new Date(q))+se/10}else return l;return X}function _(Y,$,oe){return p(Y,$,oe||s.calendar)}function O(Y){return s._categories[Math.round(Y)]}function B(Y){if(M(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var $=s._categories.length-1;return s._categoriesMap[Y]=$,$}return l}function z(Y,$){for(var oe=new Array($),j=0;j<$;j++){var X=(Y[0]||[])[j],se=(Y[1]||[])[j];oe[j]=U([X,se])}return oe}function U(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function Z(Y){var $=U(Y);if($!==void 0)return $;if(S(Y))return+Y}function J(Y){return S(Y)?+Y:U(Y)}function re(Y,$,oe){return m.round(oe+$*Y,2)}function ne(Y,$,oe){return(Y-oe)/$}var ue=function($){return S($)?re($,s._m,s._b):l},te=function(Y){return ne(Y,s._m,s._b)};if(s.rangebreaks){var Q=F==="y";ue=function(Y){if(!S(Y))return l;var $=s._rangebreaks.length;if(!$)return re(Y,s._m,s._b);var oe=Q;s.range[0]>s.range[1]&&(oe=!oe);for(var j=oe?-1:1,X=j*Y,se=0,q=0;q<$;q++){var ce=j*s._rangebreaks[q].min,ye=j*s._rangebreaks[q].max;if(X<ce)break;if(X>ye)se=q+1;else{se=X<(ce+ye)/2?q:q+1;break}}var we=s._B[se]||0;return isFinite(we)?re(Y,s._m2,we):0},te=function(Y){var $=s._rangebreaks.length;if(!$)return ne(Y,s._m,s._b);for(var oe=0,j=0;j<$&&!(Y<s._rangebreaks[j].pmin);j++)Y>s._rangebreaks[j].pmax&&(oe=j+1);return ne(Y,s._m2,s._B[oe])}}s.c2l=s.type==="log"?I:t,s.l2c=s.type==="log"?y:t,s.l2p=ue,s.p2l=te,s.c2p=s.type==="log"?function(Y,$){return ue(I(Y,$))}:ue,s.p2c=s.type==="log"?function(Y){return y(te(Y))}:te,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=te,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,$){return I(v(Y),$)},s.r2d=s.r2c=function(Y){return y(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=I,s.l2d=y,s.d2p=function(Y,$){return s.l2p(s.d2r(Y,$))},s.p2d=function(Y){return y(te(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=te,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=i.identity,s.d2c=s.r2c=s.d2l=s.r2l=N,s.c2d=s.c2r=s.l2d=s.l2r=_,s.d2p=s.r2p=function(Y,$,oe){return s.l2p(N(Y,0,oe))},s.p2d=s.p2r=function(Y,$,oe){return _(te(Y),$,oe)},s.cleanPos=function(Y){return i.cleanDate(Y,l,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=B,s.r2d=s.c2d=s.l2d=O,s.d2r=s.d2l_noadd=Z,s.r2c=function(Y){var $=J(Y);return $!==void 0?$:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=J,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return O(te(Y))},s.r2p=s.d2p,s.p2r=te,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=O,s.d2r=s.d2l_noadd=Z,s.r2c=function(Y){var $=Z(Y);return $!==void 0?$:s.fraction2r(.5)},s.r2c_just_indices=U,s.l2r=s.c2r=t,s.r2l=Z,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return O(te(Y))},s.r2p=s.d2p,s.p2r=te,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var $=s._traceIndices,oe,j,X=s._matchGroup;if(X&&s._categories.length===0){for(var se in X)if(se!==b){var q=E[d.id2name(se)];$=$.concat(q._traceIndices)}}var ce=[[0,{}],[0,{}]],ye=[];for(oe=0;oe<$.length;oe++){var we=Y[$[oe]];if(F in we){var be=we[F],De=we._length||i.minRowLength(be);if(a(be[0])&&a(be[1]))for(j=0;j<De;j++){var ke=be[0][j],Be=be[1][j];M(ke)&&M(Be)&&(ye.push([ke,Be]),ke in ce[0][1]||(ce[0][1][ke]=ce[0][0]++),Be in ce[1][1]||(ce[1][1][Be]=ce[1][0]++))}}}for(ye.sort(function(Ae,Ie){var Me=ce[0][1],Fe=Me[Ae[0]]-Me[Ie[0]];if(Fe)return Fe;var Ee=ce[1][1];return Ee[Ae[1]]-Ee[Ie[1]]}),oe=0;oe<ye.length;oe++)B(ye[oe])}),s.fraction2r=function(Y){var $=s.r2l(s.range[0]),oe=s.r2l(s.range[1]);return s.l2r($+Y*(oe-$))},s.r2fraction=function(Y){var $=s.r2l(s.range[0]),oe=s.r2l(s.range[1]);return(s.r2l(Y)-$)/(oe-$)},s.limitRange=function(Y){var $=s.minallowed,oe=s.maxallowed;if(!($===void 0&&oe===void 0)){Y||(Y="range");var j=i.nestedProperty(s,Y).get(),X=i.simpleMap(j,s.r2l),se=X[1]<X[0];se&&X.reverse();var q=i.simpleMap([$,oe],s.r2l);if($!==void 0&&X[0]<q[0]&&(j[se?1:0]=$),oe!==void 0&&X[1]>q[1]&&(j[se?0:1]=oe),j[0]===j[1]){var ce=s.l2r($),ye=s.l2r(oe);if($!==void 0){var we=ce+1;oe!==void 0&&(we=Math.min(we,ye)),j[se?1:0]=we}if(oe!==void 0){var be=ye+1;$!==void 0&&(be=Math.max(be,ce)),j[se?0:1]=be}}}},s.cleanRange=function(Y,$){s._cleanRange(Y,$),s.limitRange(Y)},s._cleanRange=function(Y,$){$||($={}),Y||(Y="range");var oe=i.nestedProperty(s,Y).get(),j,X;if(s.type==="date"?X=i.dfltRange(s.calendar):F==="y"?X=x.DFLTRANGEY:s._name==="realaxis"?X=[0,1]:X=$.dfltRange||x.DFLTRANGEX,X=X.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(X[0]=0),!oe||oe.length!==2){i.nestedProperty(s,Y).set(X);return}var se=oe[0]===null,q=oe[1]===null;for(s.type==="date"&&!s.autorange&&(oe[0]=i.cleanDate(oe[0],l,s.calendar),oe[1]=i.cleanDate(oe[1],l,s.calendar)),j=0;j<2;j++)if(s.type==="date"){if(!i.isDateTime(oe[j],s.calendar)){s[Y]=X;break}if(s.r2l(oe[0])===s.r2l(oe[1])){var ce=i.constrain(s.r2l(oe[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);oe[0]=s.l2r(ce-1e3),oe[1]=s.l2r(ce+1e3);break}}else{if(!S(oe[j]))if(!(se||q)&&S(oe[1-j]))oe[j]=oe[1-j]*(j?10:.1);else{s[Y]=X;break}if(oe[j]<-f?oe[j]=-f:oe[j]>f&&(oe[j]=f),oe[0]===oe[1]){var ye=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ye,oe[1]+=ye}}},s.setScale=function(Y){var $=E._size;if(s.overlaying){var oe=d.getFromId({_fullLayout:E},s.overlaying);s.domain=oe.domain}var j=Y&&s._r?"_r":"range",X=s.calendar;s.cleanRange(j);var se=s.r2l(s[j][0],X),q=s.r2l(s[j][1],X),ce=F==="y";if(ce?(s._offset=$.t+(1-s.domain[1])*$.h,s._length=$.h*(s.domain[1]-s.domain[0]),s._m=s._length/(se-q),s._b=-s._m*q):(s._offset=$.l+s.domain[0]*$.w,s._length=$.w*(s.domain[1]-s.domain[0]),s._m=s._length/(q-se),s._b=-s._m*se),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var ye,we;if(s._rangebreaks=s.locateBreaks(Math.min(se,q),Math.max(se,q)),s._rangebreaks.length){for(ye=0;ye<s._rangebreaks.length;ye++)we=s._rangebreaks[ye],s._lBreaks+=Math.abs(we.max-we.min);var be=ce;se>q&&(be=!be),be&&s._rangebreaks.reverse();var De=be?-1:1;for(s._m2=De*s._length/(Math.abs(q-se)-s._lBreaks),s._B.push(-s._m2*(ce?q:se)),ye=0;ye<s._rangebreaks.length;ye++)we=s._rangebreaks[ye],s._B.push(s._B[s._B.length-1]-De*s._m2*(we.max-we.min));for(ye=0;ye<s._rangebreaks.length;ye++)we=s._rangebreaks[ye],we.pmin=ue(we.min),we.pmax=ue(we.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var $=s.rangebreaks||[],oe,j,X,se,q;$._cachedPatterns||($._cachedPatterns=$.map(function(Me){return Me.enabled&&Me.bounds?i.simpleMap(Me.bounds,Me.pattern?v:s.d2c):null})),$._cachedValues||($._cachedValues=$.map(function(Me){return Me.enabled&&Me.values?i.simpleMap(Me.values,s.d2c).sort(i.sorterAsc):null}));for(var ce=0;ce<$.length;ce++){var ye=$[ce];if(ye.enabled){if(ye.bounds){var we=ye.pattern;switch(oe=$._cachedPatterns[ce],j=oe[0],X=oe[1],we){case C:q=new Date(Y),se=q.getUTCDay(),j>X&&(X+=7,se<j&&(se+=7));break;case w:q=new Date(Y);var be=q.getUTCHours(),De=q.getUTCMinutes(),ke=q.getUTCSeconds(),Be=q.getUTCMilliseconds();se=be+(De/60+ke/3600+Be/36e5),j>X&&(X+=24,se<j&&(se+=24));break;case"":se=Y;break}if(se>=j&&se<X)return l}else for(var Ae=$._cachedValues[ce],Ie=0;Ie<Ae.length;Ie++)if(j=Ae[Ie],X=j+ye.dvalue,Y>=j&&Y<X)return l}}return Y},s.locateBreaks=function(Y,$){var oe,j,X,se,q=[];if(!s.rangebreaks)return q;var ce=s.rangebreaks.slice().sort(function(Ee,He){return Ee.pattern===C&&He.pattern===w?-1:He.pattern===C&&Ee.pattern===w?1:0}),ye=function(Ee,He){if(Ee=i.constrain(Ee,Y,$),He=i.constrain(He,Y,$),Ee!==He){for(var rt=!0,ot=0;ot<q.length;ot++){var $e=q[ot];Ee<$e.max&&He>=$e.min&&(Ee<$e.min&&($e.min=Ee),He>$e.max&&($e.max=He),rt=!1)}rt&&q.push({min:Ee,max:He})}};for(oe=0;oe<ce.length;oe++){var we=ce[oe];if(we.enabled)if(we.bounds){var be=Y,De=$;we.pattern&&(be=Math.floor(be)),j=i.simpleMap(we.bounds,we.pattern?v:s.r2l),X=j[0],se=j[1];var ke=new Date(be),Be,Ae;switch(we.pattern){case C:Ae=g,Be=((se<X?7:0)+(se-X))*h,be+=X*h-(ke.getUTCDay()*h+ke.getUTCHours()*T+ke.getUTCMinutes()*c+ke.getUTCSeconds()*o+ke.getUTCMilliseconds());break;case w:Ae=h,Be=((se<X?24:0)+(se-X))*T,be+=X*T-(ke.getUTCHours()*T+ke.getUTCMinutes()*c+ke.getUTCSeconds()*o+ke.getUTCMilliseconds());break;default:be=Math.min(j[0],j[1]),De=Math.max(j[0],j[1]),Ae=De-be,Be=Ae}for(var Ie=be;Ie<De;Ie+=Ae)ye(Ie,Ie+Be)}else for(var Me=i.simpleMap(we.values,s.d2c),Fe=0;Fe<Me.length;Fe++)X=Me[Fe],se=X+we.dvalue,ye(X,se)}return q.sort(function(Ee,He){return Ee.min-He.min}),q},s.makeCalcdata=function(Y,$,oe){var j,X,se,q,ce=s.type,ye=ce==="date"&&Y[$+"calendar"];if($ in Y){if(j=Y[$],q=Y._length||i.minRowLength(j),i.isTypedArray(j)&&(ce==="linear"||ce==="log")){if(q===j.length)return j;if(j.subarray)return j.subarray(0,q)}if(ce==="multicategory")return z(j,q);for(X=new Array(q),se=0;se<q;se++)X[se]=s.d2c(j[se],0,ye,oe)}else{var we=$+"0"in Y?s.d2c(Y[$+"0"],0,ye):0,be=Y["d"+$]?Number(Y["d"+$]):1;for(j=Y[{x:"y",y:"x"}[$]],q=Y._length||j.length,X=new Array(q),se=0;se<q;se++)X[se]=we+se*be}if(s.rangebreaks)for(se=0;se<q;se++)X[se]=s.maskBreaks(X[se]);return X},s.isValidRange=function(Y,$){return Array.isArray(Y)&&Y.length===2&&($&&Y[0]===null||S(s.r2l(Y[0])))&&($&&Y[1]===null||S(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,$){var oe=!s.isValidRange(Y,"nullOk");return oe&&$&&$.reverseDflt?oe="reversed":Y&&(Y[0]===null&&Y[1]===null?oe=!0:Y[0]===null&&Y[1]!==null?oe="min":Y[0]!==null&&Y[1]===null&&(oe="max")),oe},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,$){var oe=s.c2l(Y[F],null,$),j=s.r2l(s.range[0]),X=s.r2l(s.range[1]);return j<X?j<=oe&&oe<=X:X<=oe&&oe<=j},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var $=null,oe=null;for(var j in Y){var X=E[d.id2name(j)];if(X._categories){$=X._categories,oe=X._categoriesMap;break}}$&&oe?(s._categories=$,s._categoriesMap=oe):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var se=0;se<s._initialCategories.length;se++)B(s._initialCategories[se])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var $=0;$<s._initialCategories.length;$++)B(s._initialCategories[$]);Y=Y.concat(s._traceIndices);var oe=s._matchGroup;for(var j in oe)if(b!==j){var X=E[d.id2name(j)];X._categories=s._categories,X._categoriesMap=s._categoriesMap,Y=Y.concat(X._traceIndices)}return Y};var ie=E._d3locale;s.type==="date"&&(s._dateFormat=ie?ie.timeFormat:P,s._extraFormat=E._extraFormat),s._separators=E.separators,s._numFormat=ie?ie.numberFormat:L,delete s._minDtick,delete s._forceTick0}},85024:function(G){G.exports=function(e){var m=["showexponent","showtickprefix","showticksuffix"],P=m.filter(function(L){return e[L]!==void 0}),i=function(L){return e[L]===e[P[0]]};if(P.every(i)||P.length===1)return e[P[0]]}},95936:function(G,V,e){var m=e(3400),P=e(76308).contrast,i=e(94724),L=e(85024),S=e(51272);G.exports=function(r,t,a,n,f){f||(f={});var l=a("labelalias");m.isPlainObject(l)||delete t.labelalias;var u=L(r),g=a("showticklabels");if(g){var h=f.font||{},T=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?P(f.bgColor):T&&T!==i.color.dflt?T:h.color;if(m.coerceFont(a,"tickfont",h,{overrideDflt:{color:o}}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!f.noAng){var d=a("tickangle");!f.noAutotickangles&&d==="auto"&&a("autotickangles")}if(n!=="category"){var x=a("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!x&&n!=="date"&&(a("showexponent",u),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function v(p,r){function t(n,f){return m.coerce(p,r,i.tickformatstops,n,f)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}},25404:function(G,V,e){var m=e(3400),P=e(94724);G.exports=function(L,S,v,p){var r=p.isMinor,t=r?L.minor||{}:L,a=r?S.minor:S,n=r?P.minor:P,f=r?"minor.":"",l=m.coerce2(t,a,n,"ticklen",r?(S.ticklen||5)*.6:void 0),u=m.coerce2(t,a,n,"tickwidth",r?S.tickwidth||1:void 0),g=m.coerce2(t,a,n,"tickcolor",(r?S.tickcolor:void 0)||a.color),h=v(f+"ticks",!r&&p.outerTicks||l||u||g?"outside":"");h||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(G,V,e){var m=e(98728),P=e(3400).isArrayOrTypedArray,i=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;G.exports=function(v,p,r,t,a){a||(a={});var n=a.isMinor,f=n?v.minor||{}:v,l=n?p.minor:p,u=n?"minor.":"";function g(C){var y=f[C];return i(y)&&(y=L(y)),y!==void 0?y:(l._template||{})[C]}var h=g("tick0"),T=g("dtick"),c=g("tickvals"),o=P(c)?"array":T?"linear":"auto",d=r(u+"tickmode",o);if(d==="auto"||d==="sync")r(u+"nticks");else if(d==="linear"){var x=l.dtick=m.dtick(T,t);l.tick0=m.tick0(h,t,p.calendar,x)}else if(t!=="multicategory"){var w=r(u+"tickvals");w===void 0?l.tickmode="auto":n||r("ticktext")}}},73736:function(G,V,e){var m=e(33428),P=e(24040),i=e(3400),L=e(43616),S=e(54460);G.exports=function(p,r,t,a){var n=p._fullLayout;if(r.length===0){S.redrawComponents(p);return}function f(w){var C=w.xaxis,y=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),w.plot.call(L.setTranslate,C._offset,y._offset).call(L.setScale,1,1);var M=w.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(L.setPointGroupScale,1,1),M.selectAll(".textpoint").call(L.setTextPointsScale,1,1),M.call(L.hideOutsideRangePoints,w)}function l(w,C){var y=w.plotinfo,M=y.xaxis,A=y.yaxis,s=M._length,E=A._length,b=!!w.xr1,F=!!w.yr1,I=[];if(b){var N=i.simpleMap(w.xr0,M.r2l),_=i.simpleMap(w.xr1,M.r2l),O=N[1]-N[0],B=_[1]-_[0];I[0]=(N[0]*(1-C)+C*_[0]-N[0])/(N[1]-N[0])*s,I[2]=s*(1-C+C*B/O),M.range[0]=M.l2r(N[0]*(1-C)+C*_[0]),M.range[1]=M.l2r(N[1]*(1-C)+C*_[1])}else I[0]=0,I[2]=s;if(F){var z=i.simpleMap(w.yr0,A.r2l),U=i.simpleMap(w.yr1,A.r2l),Z=z[1]-z[0],J=U[1]-U[0];I[1]=(z[1]*(1-C)+C*U[1]-z[1])/(z[0]-z[1])*E,I[3]=E*(1-C+C*J/Z),A.range[0]=M.l2r(z[0]*(1-C)+C*U[0]),A.range[1]=A.l2r(z[1]*(1-C)+C*U[1])}else I[1]=0,I[3]=E;S.drawOne(p,M,{skipTitle:!0}),S.drawOne(p,A,{skipTitle:!0}),S.redrawComponents(p,[M._id,A._id]);var re=b?s/I[2]:1,ne=F?E/I[3]:1,ue=b?I[0]:0,te=F?I[1]:0,Q=b?I[0]/I[2]*s:0,ie=F?I[1]/I[3]*E:0,Y=M._offset-Q,$=A._offset-ie;y.clipRect.call(L.setTranslate,ue,te).call(L.setScale,1/re,1/ne),y.plot.call(L.setTranslate,Y,$).call(L.setScale,re,ne),L.setPointGroupScale(y.zoomScalePts,1/re,1/ne),L.setTextPointsScale(y.zoomScaleTxt,1/re,1/ne)}var u;a&&(u=a());function g(){for(var w={},C=0;C<r.length;C++){var y=r[C],M=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr1&&(w[M._name+".range"]=y.xr1.slice()),y.yr1&&(w[A._name+".range"]=y.yr1.slice())}return u&&u(),P.call("relayout",p,w).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}function h(){for(var w={},C=0;C<r.length;C++){var y=r[C],M=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr0&&(w[M._name+".range"]=y.xr0.slice()),y.yr0&&(w[A._name+".range"]=y.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}var T,c,o,d=m.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function x(){c=Date.now();for(var w=Math.min(1,(c-T)/t.duration),C=d(w),y=0;y<r.length;y++)l(r[y],C);c-T>t.duration?(g(),o=window.cancelAnimationFrame(x)):o=window.requestAnimationFrame(x)}return T=Date.now(),o=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(G,V,e){var m=e(24040).traceIs,P=e(52976);G.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var f=a("type",(n.splomStash||{}).type);f==="-"&&(i(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function i(p,r){if(p.type==="-"){var t=p._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var f=L(r,t,a);if(f){if(f.type==="histogram"&&a==={v:"y",h:"x"}[f.orientation||"v"]){p.type="linear";return}var l=a+"calendar",u=f[l],g={noMultiCategory:!m(f,"cartesian")||m(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&a==={h:"x",v:"y"}[f.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(f,a)){var h=S(f),T=[];for(n=0;n<r.length;n++){var c=r[n];!m(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[l]!==u&&(u=void 0))}p.type=P(T,u,g)}else if(f.type==="splom"){var o=f.dimensions,d=o[f._axesDim[t]];d.visible&&(p.type=P(d.values,u,g))}else p.type=P(f[a]||[f[a+"0"]],u,g)}}}function L(p,r,t){for(var a=0;a<p.length;a++){var n=p[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=S(p),a=m(p,"box-violin"),n=m(p._fullInput||{},"candlestick");return a&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(G,V,e){var m=e(24040),P=e(3400);V.manageCommandObserver=function(r,t,a,n){var f={},l=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var u=V.hasSimpleAPICommandBindings(r,a,f.lookupTable);if(t&&t._commandObserver){if(u)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(u){i(r,u,f.cache),f.check=function(){if(l){var c=i(r,u,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:u.type,prop:u.prop,traces:u.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<g.length;h++)r._internalOn(g[h],f.check);f.remove=function(){for(var T=0;T<g.length;T++)r._removeInternalListener(g[T],f.check)}}else P.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){l=!1},f.enable=function(){l=!0},t&&(t._commandObserver=f),f},V.hasSimpleAPICommandBindings=function(r,t,a){var n,f=t.length,l;for(n=0;n<f;n++){var u,g=t[n],h=g.method,T=g.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=V.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!l)l=c[0],Array.isArray(l.traces)&&l.traces.sort();else{if(u=c[0],u.type!==l.type||u.prop!==l.prop)return!1;if(Array.isArray(l.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var o=0;o<l.traces.length;o++)if(l.traces[o]!==u.traces[o])return!1}else return!1;else if(u.prop!==l.prop)return!1}u=c[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;a&&(a[d]=n)}return l};function i(r,t,a){var n,f,l,u=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=P.nestedProperty(n,t.prop).get(),l=a[t.type]=a[t.type]||{},l.hasOwnProperty(t.prop)&&l[t.prop]!==f&&(u=!0),l[t.prop]=f,{changed:u,value:f}}V.executeAPICommand=function(r,t,a){if(t==="skip")return Promise.resolve();var n=m.apiMethodRegistry[t],f=[r];Array.isArray(a)||(a=[]);for(var l=0;l<a.length;l++)f.push(a[l]);return n.apply(null,f).catch(function(u){return P.warn("API call to Plotly."+t+" rejected.",u),Promise.reject(u)})},V.computeAPICommandBindings=function(r,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(r,a);break;case"relayout":n=S(r,a);break;case"update":n=v(r,[a[0],a[2]]).concat(S(r,[a[1]]));break;case"animate":n=L(r,a);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var a=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(P.isPlainObject(n))f=n;else return a;return p(f,function(l,u,g){a.push({type:"layout",prop:l,value:g})},"",0),a}function v(r,t){var a,n,f,l,u=[];if(n=t[0],f=t[1],a=t[2],l={},typeof n=="string")l[n]=f;else if(P.isPlainObject(n))l=n,a===void 0&&(a=f);else return u;return a===void 0&&(a=null),p(l,function(g,h,T){var c,o;if(Array.isArray(T)){o=T.slice();var d=Math.min(o.length,r.data.length);a&&(d=Math.min(d,a.length)),c=[];for(var x=0;x<d;x++)c[x]=a?a[x]:x}else o=T,c=a?a.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var w=o;o=[];for(var C=0;C<c.length;C++)o[C]=w}o.length=Math.min(c.length,o.length)}u.push({type:"data",prop:g,traces:c,value:o})},"",0),u}function p(r,t,a,n){Object.keys(r).forEach(function(f){var l=r[f];if(f[0]!=="_"){var u=a+(n>0?".":"")+f;P.isPlainObject(l)?p(l,t,u,n+1):t(u,f,l)}})}},86968:function(G,V,e){var m=e(92880).extendFlat;V.u=function(P,i){P=P||{},i=i||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,i.description&&""+i.description;var S={x:m({},L,{}),y:m({},L,{}),editType:P.editType};return P.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:P.editType},S.column={valType:"integer",min:0,dflt:0,editType:P.editType}),S},V.Q=function(P,i,L,S){var v=S&&S.x||[0,1],p=S&&S.y||[0,1],r=i.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var a=L("domain.row");a!==void 0&&(a<r.rows?p=r._domains.y[a]:delete P.domain.row)}var n=L("domain.x",v),f=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),f[0]<f[1]||(P.domain.y=p.slice())}},25376:function(G){G.exports=function(V){var e=V.variantValues,m=V.editType,P=V.colorEditType;P===void 0&&(P=m);var i={editType:m,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};V.noNumericWeightValues&&(i.valType="enumerated",i.values=i.extras,i.extras=void 0,i.min=void 0,i.max=void 0);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:m},size:{valType:"number",min:1,editType:m},color:{valType:"color",editType:P},weight:i,style:{editType:m,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:V.noFontVariant?void 0:{editType:m,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:V.noFontTextcase?void 0:{editType:m,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:V.noFontLineposition?void 0:{editType:m,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:V.noFontShadow?void 0:{editType:m,valType:"string",dflt:V.autoShadowDflt?"auto":"none"},editType:m};return V.autoSize&&(L.size.dflt="auto"),V.autoColor&&(L.color.dflt="auto"),V.arrayOk&&(L.family.arrayOk=!0,L.weight.arrayOk=!0,L.style.arrayOk=!0,V.noFontVariant||(L.variant.arrayOk=!0),V.noFontTextcase||(L.textcase.arrayOk=!0),V.noFontLineposition||(L.lineposition.arrayOk=!0),V.noFontShadow||(L.shadow.arrayOk=!0),L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,V,e){var m=e(33428),P=e(83356),i=P.geoPath,L=P.geoDistance,S=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),a=e(43616),n=e(93024),f=e(7316),l=e(54460),u=e(19280).getAutoRange,g=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),d=e(79552),x=e(27144),w=e(59972),C=e(55712).NO;function y(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=y.prototype;G.exports=function(F){return new y(F)},M.plot=function(b,F,I,N){var _=this;if(N)return _.update(b,F,!0);_._geoCalcData=b,_._fullLayout=F;var O=F[this.id],B=[],z=!1;for(var U in d.layerNameToAdjective)if(U!=="frame"&&O["show"+U]){z=!0;break}for(var Z=!1,J=0;J<b.length;J++){var re=b[0][0].trace;re._geo=_,re.locationmode&&(z=!0);var ne=re.marker;if(ne){var ue=ne.angle,te=ne.angleref;(ue||te==="north"||te==="previous")&&(Z=!0)}}if(this._hasMarkerAngles=Z,z){var Q=w.getTopojsonName(O);(_.topojson===null||Q!==_.topojsonName)&&(_.topojsonName=Q,PlotlyGeoAssets.topojson[_.topojsonName]===void 0&&B.push(_.fetchTopojson()))}B=B.concat(x.fetchTraceGeoData(b)),I.push(new Promise(function(ie,Y){Promise.all(B).then(function(){_.topojson=PlotlyGeoAssets.topojson[_.topojsonName],_.update(b,F),ie()}).catch(Y)}))},M.fetchTopojson=function(){var b=this,F=w.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(I,N){m.json(F,function(_,O){if(_)return _.status===404?N(new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=O,I()})})},M.update=function(b,F,I){var N=F[this.id];this.hasChoropleth=!1;for(var _=0;_<b.length;_++){var O=b[_],B=O[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(O,F)}if(!I){var z=this.updateProjection(b,F);if(z)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(F,N),this.updateDims(F,N),this.updateFx(F,N),f.generalUpdatePerTraceModule(this.graphDiv,this,b,N);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},M.updateProjection=function(b,F){var I=this.graphDiv,N=F[this.id],_=F._size,O=N.domain,B=N.projection,z=N.lonaxis,U=N.lataxis,Z=z._ax,J=U._ax,re=this.projection=A(N),ne=[[_.l+_.w*O.x[0],_.t+_.h*(1-O.y[1])],[_.l+_.w*O.x[1],_.t+_.h*(1-O.y[0])]],ue=N.center||{},te=B.rotation||{},Q=z.range||[],ie=U.range||[];if(N.fitbounds){Z._length=ne[1][0]-ne[0][0],J._length=ne[1][1]-ne[0][1],Z.range=u(I,Z),J.range=u(I,J);var Y=(Z.range[0]+Z.range[1])/2,$=(J.range[0]+J.range[1])/2;if(N._isScoped)ue={lon:Y,lat:$};else if(N._isClipped){ue={lon:Y,lat:$},te={lon:Y,lat:$,roll:te.roll};var oe=B.type,j=d.lonaxisSpan[oe]/2||180,X=d.lataxisSpan[oe]/2||90;Q=[Y-j,Y+j],ie=[$-X,$+X]}else ue={lon:Y,lat:$},te={lon:Y,lat:te.lat,roll:te.roll}}re.center([ue.lon-te.lon,ue.lat-te.lat]).rotate([-te.lon,-te.lat,te.roll]).parallels(B.parallels);var se=E(Q,ie);re.fitExtent(ne,se);var q=this.bounds=re.getBounds(se),ce=this.fitScale=re.scale(),ye=re.translate();if(N.fitbounds){var we=re.getBounds(E(Z.range,J.range)),be=Math.min((q[1][0]-q[0][0])/(we[1][0]-we[0][0]),(q[1][1]-q[0][1])/(we[1][1]-we[0][1]));isFinite(be)?re.scale(be*ce):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(B.scale*ce);var De=this.midPt=[(q[0][0]+q[1][0])/2,(q[0][1]+q[1][1])/2];if(re.translate([ye[0]+(De[0]-ye[0]),ye[1]+(De[1]-ye[1])]).clipExtent(q),N._isAlbersUsa){var ke=re([ue.lon,ue.lat]),Be=re.translate();re.translate([Be[0]-(ke[0]-Be[0]),Be[1]-(ke[1]-Be[1])])}},M.updateBaseLayers=function(b,F){var I=this,N=I.topojson,_=I.layers,O=I.basePaths;function B(ne){return ne==="lonaxis"||ne==="lataxis"}function z(ne){return!!d.lineLayers[ne]}function U(ne){return!!d.fillLayers[ne]}var Z=this.hasChoropleth?d.layersForChoropleth:d.layers,J=Z.filter(function(ne){return z(ne)||U(ne)?F["show"+ne]:B(ne)?F[ne].showgrid:!0}),re=I.framework.selectAll(".layer").data(J,String);re.exit().each(function(ne){delete _[ne],delete O[ne],m.select(this).remove()}),re.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var ue=_[ne]=m.select(this);ne==="bg"?I.bgRect=ue.append("rect").style("pointer-events","all"):B(ne)?O[ne]=ue.append("path").style("fill","none"):ne==="backplot"?ue.append("g").classed("choroplethlayer",!0):ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):z(ne)?O[ne]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):U(ne)&&(O[ne]=ue.append("path").style("stroke","none"))}),re.order(),re.each(function(ne){var ue=O[ne],te=d.layerNameToAdjective[ne];ne==="frame"?ue.datum(d.sphereSVG):z(ne)||U(ne)?ue.datum(C(N,N.objects[ne])):B(ne)&&ue.datum(s(ne,F,b)).call(t.stroke,F[ne].gridcolor).call(a.dashLine,F[ne].griddash,F[ne].gridwidth),z(ne)?ue.call(t.stroke,F[te+"color"]).call(a.dashLine,"",F[te+"width"]):U(ne)&&ue.call(t.fill,F[te+"color"])})},M.updateDims=function(b,F){var I=this.bounds,N=(F.framewidth||0)/2,_=I[0][0]-N,O=I[0][1]-N,B=I[1][0]-_+N,z=I[1][1]-O+N;a.setRect(this.clipRect,_,O,B,z),this.bgRect.call(a.setRect,_,O,B,z).call(t.fill,F.bgcolor),this.xaxis._offset=_,this.xaxis._length=B,this.yaxis._offset=O,this.yaxis._length=z},M.updateFx=function(b,F){var I=this,N=I.graphDiv,_=I.bgRect,O=b.dragmode,B=b.clickmode;if(I.isStatic)return;function z(){var re=I.viewInitial,ne={};for(var ue in re)ne[I.id+"."+ue]=re[ue];v.call("_guiRelayout",N,ne),N.emit("plotly_doubleclick",null)}function U(re){return I.projection.invert([re[0]+I.xaxis._offset,re[1]+I.yaxis._offset])}var Z=function(re,ne){if(ne.isRect){var ue=re.range={};ue[I.id]=[U([ne.xmin,ne.ymin]),U([ne.xmax,ne.ymax])]}else{var te=re.lassoPoints={};te[I.id]=ne.map(U)}},J={element:I.bgRect.node(),gd:N,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:Z},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(re){re===2&&T(N)}};O==="pan"?(_.node().onmousedown=null,_.call(o(I,F)),_.on("dblclick.zoom",z),N._context._scrollZoom.geo||_.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(_.on(".zoom",null),J.prepFn=function(re,ne,ue){h(re,ne,ue,J,O)},g.init(J)),_.on("mousemove",function(){var re=I.projection.invert(p.getPositionFromD3Event());if(!re)return g.unhover(N,m.event);I.xaxis.p2c=function(){return re[0]},I.yaxis.p2c=function(){return re[1]},n.hover(N,m.event,I.id)}),_.on("mouseout",function(){N._dragging||g.unhover(N,m.event)}),_.on("click",function(){O!=="select"&&O!=="lasso"&&(B.indexOf("select")>-1&&c(m.event,N,[I.xaxis],[I.yaxis],I.id,J),B.indexOf("event")>-1&&n.click(N,m.event))})},M.makeFramework=function(){var b=this,F=b.graphDiv,I=F._fullLayout,N="clip"+I._uid+b.id;b.clipDef=I._clips.append("clipPath").attr("id",N),b.clipRect=b.clipDef.append("rect"),b.framework=m.select(b.container).append("g").attr("class","geo "+b.id).call(a.setClipUrl,N,F),b.project=function(_){var O=b.projection(_);return O?[O[0]-b.xaxis._offset,O[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(_){return b.project(_)[0]}},b.yaxis={_id:"y",c2p:function(_){return b.project(_)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(b.mockAxis,I)},M.saveViewInitial=function(b){var F=b.center||{},I=b.projection,N=I.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":I.scale};var _;b._isScoped?_={"center.lon":F.lon,"center.lat":F.lat}:b._isClipped?_={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:_={"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,_)},M.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var b=this.projection,F=b.getPath(),I;function N(O){var B=b(O.lonlat);return B?r(B[0],B[1]):null}function _(O){return b.isLonLatOverEdges(O.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",F);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(O){return F(O.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",_).attr("transform",N)};function A(b){var F=b.projection,I=F.type,N=d.projNames[I];N="geo"+p.titleCase(N);for(var _=P[N]||S[N],O=_(),B=b._isSatellite?Math.acos(1/F.distance)*180/Math.PI:b._isClipped?d.lonaxisSpan[I]/2:null,z=["center","rotate","parallels","clipExtent"],U=function(re){return re?O:[]},Z=0;Z<z.length;Z++){var J=z[Z];typeof O[J]!="function"&&(O[J]=U)}return O.isLonLatOverEdges=function(re){if(O(re)===null)return!0;if(B){var ne=O.rotate(),ue=L(re,[-ne[0],-ne[1]]),te=B*Math.PI/180;return ue>te}else return!1},O.getPath=function(){return i().projection(O)},O.getBounds=function(re){return O.getPath().bounds(re)},O.precision(d.precision),b._isSatellite&&O.tilt(F.tilt).distance(F.distance),B&&O.clipAngle(B-d.clipPad),O}function s(b,F,I){var N=1e-6,_=2.5,O=F[b],B=d.scopeDefaults[F.scope],z,U,Z;b==="lonaxis"?(z=B.lonaxisRange,U=B.lataxisRange,Z=function($,oe){return[$,oe]}):b==="lataxis"&&(z=B.lataxisRange,U=B.lonaxisRange,Z=function($,oe){return[oe,$]});var J={type:"linear",range:[z[0],z[1]-N],tick0:O.tick0,dtick:O.dtick};l.setConvert(J,I);var re=l.calcTicks(J);!F.isScoped&&b==="lonaxis"&&re.pop();for(var ne=re.length,ue=new Array(ne),te=0;te<ne;te++)for(var Q=re[te].x,ie=ue[te]=[],Y=U[0];Y<U[1]+_;Y+=_)ie.push(Z(Q,Y));return{type:"MultiLineString",coordinates:ue}}function E(b,F){var I=d.clipPad,N=b[0]+I,_=b[1]-I,O=F[0]+I,B=F[1]-I;N>0&&_<0&&(_+=360);var z=(_-N)/4;return{type:"Polygon",coordinates:[[[N,O],[N,B],[N+z,B],[N+2*z,B],[N+3*z,B],[_,B],[_,O],[_-z,O],[_-2*z,O],[_-3*z,O],[N,O]]]}}},10816:function(G,V,e){var m=e(84888).KY,P=e(3400).counterRegex,i=e(43520),L="geo",S=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(a){for(var n=a._fullLayout,f=a.calcdata,l=n._subplots[L],u=0;u<l.length;u++){var g=l[u],h=m(f,L,g),T=n[g],c=T._subplot;c||(c=i({id:g,graphDiv:a,container:n._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),n[g]._subplot=c),c.plot(h,n,a._promises)}}function r(a,n,f,l){for(var u=l._subplots[L]||[],g=0;g<u.length;g++){var h=u[g],T=l[h]._subplot;!n[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(a){for(var n=a._fullLayout,f=n._subplots[L],l=0;l<f.length;l++){var u=n[f[l]],g=u._subplot;g.updateFx(n,u)}}G.exports={attr:L,name:L,idRoot:L,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(G,V,e){var m=e(22548),P=e(86968).u,i=e(98192).u,L=e(79552),S=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:m.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=G.exports=S({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:m.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:m.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:m.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:m.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:m.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,V,e){var m=e(3400),P=e(168),i=e(84888).op,L=e(79552),S=e(40384),v=L.axesNames;G.exports=function(t,a,n){P(t,a,n,{type:"geo",attributes:S,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,a,n){var f=i(n.fullData,"geo",n.id),l=f.map(function(ie){return ie._expandedIndex}),u=a("resolution"),g=a("scope"),h=L.scopeDefaults[g],T=a("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(g=t.scope="usa");var o=t._isScoped=g!=="world",d=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var C=m.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var y=a("visible"),M,A=0;A<v.length;A++){var s=v[A],E=[30,10][A],b;if(o)b=h[s+"Range"];else{var F=L[s+"Span"],I=(F[T]||F["*"])/2,N=a("projection.rotation."+s.substr(0,3),h.projRotate[A]);b=[N-I,N+I]}var _=a(s+".range",b);a(s+".tick0"),a(s+".dtick",E),M=a(s+".showgrid",y?void 0:!1),M&&(a(s+".gridcolor"),a(s+".gridwidth"),a(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:l,setScale:m.identity,c2l:m.identity,r2l:m.identity,autorange:!0,range:_.slice(),_m:1,_input:{}}}var O=t.lonaxis.range,B=t.lataxis.range,z=O[0],U=O[1];z>0&&U<0&&(U+=360);var Z=(z+U)/2,J;if(!c){var re=o?h.projRotate:[Z,0,0];J=a("projection.rotation.lon",re[0]),a("projection.rotation.lat",re[1]),a("projection.rotation.roll",re[2]),M=a("showcoastlines",!o&&y),M&&(a("coastlinecolor"),a("coastlinewidth")),M=a("showocean",y?void 0:!1),M&&a("oceancolor")}var ne,ue;if(c?(ne=-96.6,ue=38.7):(ne=o?Z:J,ue=(B[0]+B[1])/2),a("center.lon",ne),a("center.lat",ue),d&&(a("projection.tilt"),a("projection.distance")),x){var te=h.projParallels||[0,60];a("projection.parallels",te)}a("projection.scale"),M=a("showland",y?void 0:!1),M&&a("landcolor"),M=a("showlakes",y?void 0:!1),M&&a("lakecolor"),M=a("showrivers",y?void 0:!1),M&&(a("rivercolor"),a("riverwidth")),M=a("showcountries",o&&g!=="usa"&&y),M&&(a("countrycolor"),a("countrywidth")),(g==="usa"||g==="north america"&&u===50)&&(a("showsubunits",y),a("subunitcolor"),a("subunitwidth")),o||(M=a("showframe",y),M&&(a("framecolor"),a("framewidth"))),a("bgcolor");var Q=a("fitbounds");Q&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,V,e){var m=e(33428),P=e(3400),i=e(24040),L=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(s,E){var b=s.projection,F;return E._isScoped?F=n:E._isClipped?F=l:F=f,F(s,b)}G.exports=r;function t(s,E){return m.behavior.zoom().translate(E.translate()).scale(E.scale())}function a(s,E,b){var F=s.id,I=s.graphDiv,N=I.layout,_=N[F],O=I._fullLayout,B=O[F],z={},U={};function Z(J,re){z[F+"."+J]=P.nestedProperty(_,J).get(),i.call("_storeDirectGUIEdit",N,O._preGUI,z);var ne=P.nestedProperty(B,J);ne.get()!==re&&(ne.set(re),P.nestedProperty(_,J).set(re),U[F+"."+J]=re)}b(Z),Z("projection.scale",E.scale()/s.fitScale),Z("fitbounds",!1),I.emit("plotly_relayout",U)}function n(s,E){var b=t(s,E);function F(){m.select(this).style(v)}function I(){E.scale(m.event.scale).translate(m.event.translate),s.render(!0);var O=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function N(O){var B=E.invert(s.midPt);O("center.lon",B[0]),O("center.lat",B[1])}function _(){m.select(this).style(p),a(s,E,N)}return b.on("zoomstart",F).on("zoom",I).on("zoomend",_),b}function f(s,E){var b=t(s,E),F=2,I,N,_,O,B,z,U,Z,J;function re(Y){return E.invert(Y)}function ne(Y){var $=re(Y);if(!$)return!0;var oe=E($);return Math.abs(oe[0]-Y[0])>F||Math.abs(oe[1]-Y[1])>F}function ue(){m.select(this).style(v),I=m.mouse(this),N=E.rotate(),_=E.translate(),O=N,B=re(I)}function te(){if(z=m.mouse(this),ne(I)){b.scale(E.scale()),b.translate(E.translate());return}E.scale(m.event.scale),E.translate([_[0],m.event.translate[1]]),B?re(z)&&(Z=re(z),U=[O[0]+(Z[0]-B[0]),N[1],N[2]],E.rotate(U),O=U):(I=z,B=re(I)),J=!0,s.render(!0);var Y=E.rotate(),$=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":$[0],"geo.center.lat":$[1],"geo.projection.rotation.lon":-Y[0]})}function Q(){m.select(this).style(p),J&&a(s,E,ie)}function ie(Y){var $=E.rotate(),oe=E.invert(s.midPt);Y("projection.rotation.lon",-$[0]),Y("center.lon",oe[0]),Y("center.lat",oe[1])}return b.on("zoomstart",ue).on("zoom",te).on("zoomend",Q),b}function l(s,E){E.rotate(),E.scale();var b=t(s,E),F=A(b,"zoomstart","zoom","zoomend"),I=0,N=b.on,_;b.on("zoomstart",function(){m.select(this).style(v);var Z=m.mouse(this),J=E.rotate(),re=J,ne=E.translate(),ue=g(J);_=u(E,Z),N.call(b,"zoom",function(){var te=m.mouse(this);if(E.scale(m.event.scale),!_)Z=te,_=u(E,Z);else if(u(E,te)){E.rotate(J).translate(ne);var Q=u(E,te),ie=T(_,Q),Y=w(h(ue,ie)),$=c(Y,_,re);(!isFinite($[0])||!isFinite($[1])||!isFinite($[2]))&&($=re),E.rotate($),re=$}B(F.of(this,arguments))}),O(F.of(this,arguments))}).on("zoomend",function(){m.select(this).style(p),N.call(b,"zoom",null),z(F.of(this,arguments)),a(s,E,U)}).on("zoom.redraw",function(){s.render(!0);var Z=E.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.projection.rotation.lon":-Z[0],"geo.projection.rotation.lat":-Z[1]})});function O(Z){I++||Z({type:"zoomstart"})}function B(Z){Z({type:"zoom"})}function z(Z){--I||Z({type:"zoomend"})}function U(Z){var J=E.rotate();Z("projection.rotation.lon",-J[0]),Z("projection.rotation.lat",-J[1])}return m.rebind(b,F,"on")}function u(s,E){var b=s.invert(E);return b&&isFinite(b[0])&&isFinite(b[1])&&C(b)}function g(s){var E=.5*s[0]*L,b=.5*s[1]*L,F=.5*s[2]*L,I=Math.sin(E),N=Math.cos(E),_=Math.sin(b),O=Math.cos(b),B=Math.sin(F),z=Math.cos(F);return[N*O*z+I*_*B,I*O*z-N*_*B,N*_*z+I*O*B,N*O*B-I*_*z]}function h(s,E){var b=s[0],F=s[1],I=s[2],N=s[3],_=E[0],O=E[1],B=E[2],z=E[3];return[b*_-F*O-I*B-N*z,b*O+F*_+I*z-N*B,b*B-F*z+I*_+N*O,b*z+F*B-I*O+N*_]}function T(s,E){if(!(!s||!E)){var b=M(s,E),F=Math.sqrt(y(b,b)),I=.5*Math.acos(Math.max(-1,Math.min(1,y(s,E)))),N=Math.sin(I)/F;return F&&[Math.cos(I),b[2]*N,-b[1]*N,b[0]*N]}}function c(s,E,b){var F=x(E,2,s[0]);F=x(F,1,s[1]),F=x(F,0,s[2]-b[2]);var I=E[0],N=E[1],_=E[2],O=F[0],B=F[1],z=F[2],U=Math.atan2(N,I)*S,Z=Math.sqrt(I*I+N*N),J,re;Math.abs(B)>Z?(re=(B>0?90:-90)-U,J=0):(re=Math.asin(B/Z)*S-U,J=Math.sqrt(Z*Z-B*B));var ne=180-re-2*U,ue=(Math.atan2(z,O)-Math.atan2(_,J))*S,te=(Math.atan2(z,O)-Math.atan2(_,-J))*S,Q=o(b[0],b[1],re,ue),ie=o(b[0],b[1],ne,te);return Q<=ie?[re,ue,b[2]]:[ne,te,b[2]]}function o(s,E,b,F){var I=d(b-s),N=d(F-E);return Math.sqrt(I*I+N*N)}function d(s){return(s%360+540)%360-180}function x(s,E,b){var F=b*L,I=s.slice(),N=E===0?1:0,_=E===2?1:2,O=Math.cos(F),B=Math.sin(F);return I[N]=s[N]*O-s[_]*B,I[_]=s[_]*O+s[N]*B,I}function w(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*S,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*S]}function C(s){var E=s[0]*L,b=s[1]*L,F=Math.cos(b);return[F*Math.cos(E),F*Math.sin(E),Math.sin(b)]}function y(s,E){for(var b=0,F=0,I=s.length;F<I;++F)b+=s[F]*E[F];return b}function M(s,E){return[s[1]*E[2]-s[2]*E[1],s[2]*E[0]-s[0]*E[2],s[0]*E[1]-s[1]*E[0]]}function A(s){for(var E=0,b=arguments.length,F=[];++E<b;)F.push(arguments[E]);var I=m.dispatch.apply(null,F);return I.of=function(N,_){return function(O){var B;try{B=O.sourceEvent=m.event,O.target=s,m.event=O,I[O.type].apply(N,_)}finally{m.event=B}}},I}},84888:function(G,V,e){var m=e(24040),P=e(33816).SUBPLOT_PATTERN;V.KY=function(i,L,S){var v=m.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<i.length;t++){var a=i[t],n=a[0].trace;n[p]===S&&r.push(a)}return r},V._M=function(i,L,S){var v=[],p=[],r;if(typeof L=="string"?r=m.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,i];for(var t=S,a=0;a<i.length;a++){var n=i[a],f=n[0].trace,l=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!l||f.zorder===t)?v.push(n):p.push(n))}return[v,p]},V.op=function(L,S,v){if(!m.subplotsRegistry[S])return[];var p=m.subplotsRegistry[S].attr,r=[],t,a,n;if(S==="gl2d"){var f=v.match(P);a="x"+f[1],n="y"+f[2]}for(var l=0;l<L.length;l++)t=L[l],S==="gl2d"&&m.traceIs(t,"gl2d")?t[p[0]]===a&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(G,V,e){var m=e(62644),P=e(97264),i=e(29128),L=e(33816),S=e(89184);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,a=r.glplot,n=new v(t,a);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function l(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<g.length;c++)if(g[c][h]!==-1){if(g[c][T]!==-1)return!0;break}return!1}n.mouseListener=m(t,u),t.addEventListener("touchstart",function(g){var h=i(g.changedTouches[0],t);u(0,h[0],h[1]),u(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var h=i(g.changedTouches[0],t);u(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(g){u(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},S?{passive:!1}:!1);function u(g,h,T){var c=r.calcDataBox(),o=a.viewBox,d=n.lastPos[0],x=n.lastPos[1],w=L.MINDRAG*a.pixelRatio,C=L.MINZOOM*a.pixelRatio,y,M;h*=a.pixelRatio,T*=a.pixelRatio,T=o[3]-o[1]-T;function A(N,_,O){var B=Math.min(_,O),z=Math.max(_,O);B!==z?(c[N]=B,c[N+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var s=h/(o[2]-o[0])*(c[2]-c[0])+c[0],E=T/(o[3]-o[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=T),n.boxEnd[0]=s,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-h)<C,F=Math.abs(n.dragStart[1]-T)<C;if(l()&&!(b&&F)){y=n.boxEnd[0]-n.boxStart[0],M=n.boxEnd[1]-n.boxStart[1];var I=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*I)>Math.abs(M)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(y)*I*(M>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(M)/I*(y>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(I)))}else b&&(n.boxEnd[0]=n.boxStart[0]),F&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(y=n.boxStart[0]!==n.boxEnd[0],M=n.boxStart[1]!==n.boxEnd[1],y||M?(y&&(A(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),M&&(A(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=T),Math.abs(n.dragStart[0]-h)<w&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),y=(d-h)*(c[2]-c[0])/(a.viewBox[2]-a.viewBox[0]),M=(x-T)*(c[3]-c[1])/(a.viewBox[3]-a.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=M,c[3]+=M,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=T}return n.wheelListener=P(t,function(g,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=a.viewBox,o=n.lastPos[0],d=n.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),w=o/(c[2]-c[0])*(T[2]-T[0])+T[0],C=d/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*x+w,T[2]=(T[2]-w)*x+w,T[1]=(T[1]-C)*x+C,T[3]=(T[3]-C)*x+C,r.setRanges(T),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,V,e){var m=e(54460),P=e(43080);function i(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=i.prototype,S=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,a,n,f,l,u,g,h,T,c;for(T=0;T<2;++T){r=S[T];var o=r.charAt(0);for(t=p[this.scene[r]._name],a=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=a,this.labelColor[T+c]=P(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=P((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=P(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=P(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;u=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!u,l=this.hasAxisInAltrPos(r,t)&&!u,n=t.mirror||!1,g=u?String(n).indexOf("all")!==-1:!!n,h=u?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[T]=!0:l&&(this.labelEnable[T+2]=!0),f?this.tickEnable[T]=t.showticklabels:l&&(this.tickEnable[T+2]=t.showticklabels),(f||g)&&(this.borderLineEnable[T]=t.showline),(l||g)&&(this.borderLineEnable[T+2]=t.showline),(f||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(l||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,a=m.findSubplotsWithAxis(t,p);return a.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,a=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+a*(t+(n?1:0)):-10+a*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new i(p)}G.exports=v},39952:function(G,V,e){var m=e(67824).overrideAll,P=e(17188),i=e(64859),L=e(9616),S=e(33816),v=e(57952),p=e(65460),r=e(84888).op;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=S.idRegex,V.attrRegex=S.attrRegex,V.attributes=e(26720),V.supplyLayoutDefaults=function(t,a,n){a._has("cartesian")||v.supplyLayoutDefaults(t,a,n)},V.layoutAttrOverrides=m(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=m({plot_bgcolor:i.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(a){for(var n=a._fullLayout,f=a._fullData,l=n._subplots.gl2d,u=0;u<l.length;u++){var g=l[u],h=n._plots[g],T=r(f,"gl2d",g),c=h._scene2d;c===void 0&&(c=new P({id:g,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(T,a.calcdata,n,a.layout)}},V.clean=function(t,a,n,f){for(var l=f._subplots.gl2d||[],u=0;u<l.length;u++){var g=l[u],h=f._plots[g];if(h._scene2d){var T=r(t,"gl2d",g);T.length===0&&(h._scene2d.destroy(),delete f._plots[g])}}v.clean.apply(this,arguments)},V.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},V.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var l=a._plots[n[f]],u=l._scene2d,g=u.toImage("png"),h=a._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},V.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var l=a._plots[n[f]]._scene2d;l.updateFx(a.dragmode)}}},17188:function(G,V,e){var m=e(24040),P=e(54460),i=e(93024),L=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),a=e(16576),n=e(71888),f=n.enforce,l=n.clean,u=e(19280).doAutoRange,g=e(72760),h=g.drawMode,T=g.selectMode,c=["xaxis","yaxis"],o,d,x=e(33816).SUBPLOT_PATTERN;function w(M,A){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var C=w.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var M=this.container.querySelector(".gl-canvas-focus"),A=p({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){a(this),this.stopped=!0;return}this.canvas=M,this.gl=A}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(E),F.appendChild(b);var I=this;b.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),b.addEventListener("mouseover",function(){I.isMouseOver=!0})},C.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var A=this.glplot.gl,s=A.drawingBufferWidth,E=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var b=new Uint8Array(s*E*4);A.readPixels(0,0,s,E,A.RGBA,A.UNSIGNED_BYTE,b);for(var F=0,I=E-1;F<I;++F,--I)for(var N=0;N<s;++N)for(var _=0;_<4;++_){var O=b[4*(s*F+N)+_];b[4*(s*F+N)+_]=b[4*(s*I+N)+_],b[4*(s*I+N)+_]=O}var B=document.createElement("canvas");B.width=s,B.height=E;var z=B.getContext("2d",{willReadFrequently:!0}),U=z.createImageData(s,E);U.data.set(b),z.putImageData(U,0,0);var Z;switch(M){case"jpeg":Z=B.toDataURL("image/jpeg");break;case"webp":Z=B.toDataURL("image/webp");break;default:Z=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),Z},C.updateSize=function(M){M||(M=this.canvas);var A=this.pixelRatio,s=this.fullLayout,E=s.width,b=s.height,F=Math.ceil(A*E)|0,I=Math.ceil(A*b)|0;return(M.width!==F||M.height!==I)&&(M.width=F,M.height=I),M},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],A=0;A<2;++A)for(var s=0;s<M[A].length;++s)M[A][s].text=M[A][s].text+"";return M};function y(M,A){for(var s=0;s<2;++s){var E=M[s],b=A[s];if(E.length!==b.length)return!0;for(var F=0;F<E.length;++F)if(E[F].x!==b[F].x)return!0}return!1}C.updateRefs=function(M){this.fullLayout=M;var A=this.id.match(x),s="xaxis"+A[1],E="yaxis"+A[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var M=this.graphDiv,A=this.xaxis,s=this.yaxis,E=M.layout,b={},F=b[A._name+".range"]=A.range.slice(),I=b[s._name+".range"]=s.range.slice();b[A._name+".autorange"]=A.autorange,b[s._name+".autorange"]=s.autorange,m.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,b);var N=E[A._name];N.range=F,N.autorange=A.autorange;var _=E[s._name];_.range=I,_.autorange=s.autorange,b.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",b)},C.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),s=this.glplotOptions.ticks;y(A,s)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var M=this.graphDiv,A=this.fullLayout.annotations,s=0;s<A.length;s++){var E=A[s];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&m.getComponentMethod("annotations","drawOne")(M,s)}},C.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(A){M[A].dispose(),delete M[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(M,A,s){var E=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,A),this.updateFx(s.dragmode);var b=s.width,F=s.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(s),I.screenBox=[0,0,b,F];var N={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};l(N,this.xaxis),l(N,this.yaxis);var _=s._size,O=this.xaxis.domain,B=this.yaxis.domain;I.viewBox=[_.l+O[0]*_.w,_.b+B[0]*_.h,b-_.r-(1-O[1])*_.w,F-_.t-(1-B[1])*_.h],this.mouseContainer.style.width=_.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=_.h*(B[1]-B[0])+"px",this.mouseContainer.height=_.h*(B[1]-B[0]),this.mouseContainer.style.left=_.l+O[0]*_.w+"px",this.mouseContainer.style.top=_.t+(1-B[1])*_.h+"px";var z,U;for(U=0;U<2;++U)z=this[c[U]],z._length=I.viewBox[U+2]-I.viewBox[U],u(this.graphDiv,z),z.setScale();f(N),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(s),E.update(I),this.glplot.draw()},C.calcDataBox=function(){var M=this.xaxis,A=this.yaxis,s=M.range,E=A.range,b=M.r2l,F=A.r2l;return[b(s[0]),F(E[0]),b(s[1]),F(E[1])]},C.setRanges=function(M){var A=this.xaxis,s=this.yaxis,E=A.l2r,b=s.l2r;A.range=[E(M[0]),E(M[2])],s.range=[b(M[1]),b(M[3])]},C.updateTraces=function(M,A){var s=Object.keys(this.traces),E,b,F;this.fullData=M;e:for(E=0;E<s.length;E++){var I=s[E],N=this.traces[I];for(b=0;b<M.length;b++)if(F=M[b],F.uid===I&&F.type===N.type)continue e;N.dispose(),delete this.traces[I]}for(E=0;E<M.length;E++){F=M[E];var _=A[E],O=this.traces[F.uid];O?O.update(F,_):(O=F._module.plot(this,F,_),this.traces[F.uid]=O)}this.glplot.objects.sort(function(B,z){return B._trace.index-z._trace.index})},C.updateFx=function(M){T(M)||h(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),M==="pan"?this.mouseContainer.style.cursor="move":M==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(M,A){for(var s=M.trace.uid,E=M.pointIndex,b,F=0;F<this.fullData.length;F++)this.fullData[F].uid===s&&(b=this.fullData[F]);var I={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:b.index,pointNumber:E,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(I,b,E),this.graphDiv.emit(A,{points:[I]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,A=this.camera,s=A.mouseListener,E=this.lastButtonState===1&&s.buttons===0,b=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var F=s.x*M.pixelRatio,I=this.canvas.height-M.pixelRatio*s.y,N;if(A.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var _=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],O=0;O<2;O++)A.boxStart[O]===A.boxEnd[O]&&(_[O]=M.dataBox[O],_[O+2]=M.dataBox[O+2]);M.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=b._size,z=this.xaxis.domain,U=this.yaxis.domain;N=M.pick(F/M.pixelRatio+B.l+z[0]*B.w,I/M.pixelRatio-(B.t+(1-U[1])*B.h));var Z=N&&N.object._trace.handlePick(N);if(Z&&E&&this.emitPointAction(Z,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&b.hovermode&&Z&&(!this.lastPickResult||this.lastPickResult.traceUid!==Z.trace.uid||this.lastPickResult.dataCoord[0]!==Z.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Z.dataCoord[1])){var J=Z;this.lastPickResult={traceUid:Z.trace?Z.trace.uid:null,dataCoord:Z.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),J.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(N.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(N.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(Z,"plotly_hover");var re=this.fullData[J.trace.index]||{},ne=J.pointIndex,ue=i.castHoverinfo(re,b,ne);if(ue&&ue!=="all"){var te=ue.split("+");te.indexOf("x")===-1&&(J.traceCoord[0]=void 0),te.indexOf("y")===-1&&(J.traceCoord[1]=void 0),te.indexOf("z")===-1&&(J.traceCoord[2]=void 0),te.indexOf("text")===-1&&(J.textLabel=void 0),te.indexOf("name")===-1&&(J.name=void 0)}i.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:i.castHoverOption(re,ne,"bgcolor")||J.color,borderColor:i.castHoverOption(re,ne,"bordercolor"),fontFamily:i.castHoverOption(re,ne,"font.family"),fontSize:i.castHoverOption(re,ne,"font.size"),fontColor:i.castHoverOption(re,ne,"font.color"),nameLength:i.castHoverOption(re,ne,"namelength"),textAlign:i.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),M.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},C.hoverFormatter=function(M,A){if(A!==void 0){var s=this[M];return P.tickText(s,s.c2l(A),"hover").text}}},12536:function(G,V,e){var m=e(67824).overrideAll,P=e(65460),i=e(98432),L=e(84888).op,S=e(3400),v=e(9616),p="gl3d",r="scene";V.name=p,V.attr=r,V.idRoot=r,V.idRegex=V.attrRegex=S.counterRegex("scene"),V.attributes=e(6636),V.layoutAttributes=e(346),V.baseLayoutAttrOverrides=m({hoverlabel:P.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(5208),V.plot=function(a){for(var n=a._fullLayout,f=a._fullData,l=n._subplots[p],u=0;u<l.length;u++){var g=l[u],h=L(f,p,g),T=n[g],c=T.camera,o=T._scene;o||(o=new i({id:g,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:c},n),T._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,n,a.layout)}},V.clean=function(t,a,n,f){for(var l=f._subplots[p]||[],u=0;u<l.length;u++){var g=l[u];!a[g]&&f[g]._scene&&(f[g]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+g).remove())}},V.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots[p],f=a._size,l=0;l<n.length;l++){var u=a[n[l]],g=u.domain,h=u._scene,T=h.toImage("png"),c=a._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:f.l+f.w*g.x[0],y:f.t+f.h*(1-g.y[1]),width:f.w*(g.x[1]-g.x[0]),height:f.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},V.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),r+n}},V.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots[p],f=0;f<n.length;f++){var l=a[n[f]]._scene;l.updateFx(a.dragmode,a.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,V,e){var m=e(76308),P=e(94724),i=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:m.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:i({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:i({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:i({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(G,V,e){var m=e(49760).mix,P=e(3400),i=e(31780),L=e(86140),S=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);G.exports=function(a,n,f){var l,u;function g(c,o){return P.coerce(l,u,L,c,o)}for(var h=0;h<p.length;h++){var T=p[h];l=a[T]||{},u=i.newContainer(n,T),u._id=T[0]+f.scene,u._name=T,S(l,u,g,f),v(l,u,g,{font:f.font,letter:T[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),g("gridcolor",m(u.color,f.bgColor,r).toRgbString()),g("title.text",T[0]),u.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",u.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(G,V,e){var m=e(43080),P=e(3400),i=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=L.prototype;S.merge=function(p,r){for(var t=this,a=0;a<3;++a){var n=r[i[a]];if(!n.visible){t.tickEnable[a]=!1,t.labelEnable[a]=!1,t.lineEnable[a]=!1,t.lineTickEnable[a]=!1,t.gridEnable[a]=!1,t.zeroEnable[a]=!1,t.backgroundEnable[a]=!1;continue}t.labels[a]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[a]=m(n.title.font.color)),n.title.font.family&&(t.labelFont[a]=n.title.font.family),n.title.font.size&&(t.labelSize[a]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[a]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[a]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[a]=n.title.font.variant)),"showline"in n&&(t.lineEnable[a]=n.showline),"linecolor"in n&&(t.lineColor[a]=m(n.linecolor)),"linewidth"in n&&(t.lineWidth[a]=n.linewidth),"showgrid"in n&&(t.gridEnable[a]=n.showgrid),"gridcolor"in n&&(t.gridColor[a]=m(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[a]=n.gridwidth),n.type==="log"?t.zeroEnable[a]=!1:"zeroline"in n&&(t.zeroEnable[a]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[a]=m(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[a]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[a]=!0:t.lineTickEnable[a]=!1,"ticklen"in n&&(t.lineTickLength[a]=t._defaultLineTickLength[a]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[a]=m(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[a]=n.tickwidth),"tickangle"in n&&(t.tickAngle[a]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[a]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[a]=m(n.tickfont.color)),n.tickfont.family&&(t.tickFont[a]=n.tickfont.family),n.tickfont.size&&(t.tickSize[a]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[a]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[a]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[a]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[a]=!0,t.lineMirror[a]=!0):n.mirror===!0?(t.lineTickMirror[a]=!1,t.lineMirror[a]=!0):(t.lineTickMirror[a]=!1,t.lineMirror[a]=!1):t.lineMirror[a]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[a]=!0,t.backgroundColor[a]=m(n.backgroundcolor)):t.backgroundEnable[a]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}G.exports=v},5208:function(G,V,e){var m=e(3400),P=e(76308),i=e(24040),L=e(168),S=e(64380),v=e(346),p=e(84888).op,r="gl3d";G.exports=function(n,f,l){var u=f._basePlotModules.length>1;function g(h){if(!u){var T=m.validate(n[h],v[h]);if(T)return n[h]}}L(n,f,l,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:l,getDfltFromLayout:g,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(a,n,f,l){for(var u=f("bgcolor"),g=P.combine(u,l.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)f("camera."+h[T]+".x"),f("camera."+h[T]+".y"),f("camera."+h[T]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),o=c?"manual":"auto",d=f("aspectmode",o);c||(a.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),a.aspectmode=n.aspectmode);var x=p(l.fullData,r,l.id);S(a,n,{font:l.font,scene:l.id,data:x,bgColor:g,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(a,n,l);var w=l.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",a.camera&&a.camera.up){var C=a.camera.up.x,y=a.camera.up.y,M=a.camera.up.z;M!==0&&(!C||!y||!M||M/Math.sqrt(C*C+y*y+M*M)>.999)&&(w="turntable")}else w="turntable";f("dragmode",w),f("hovermode",l.getDfltFromLayout("hovermode"))}},346:function(G,V,e){var m=e(86140),P=e(86968).u,i=e(92880).extendFlat,L=e(3400).counterRegex;function S(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(S(0,0,1),{}),center:i(S(0,0,0),{}),eye:i(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:m,yaxis:m,zaxis:m,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,V,e){var m=e(43080),P=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=i.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=m(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function S(v){var p=new i;return p.merge(v),p}G.exports=S},87152:function(G,V,e){G.exports=S;var m=e(54460),P=e(3400),i=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],a=new Array(t.length),n=0;n<t.length;++n)a[n]=t[n].x;p[r]=a}return p}function S(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var f=t[i[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))a[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var l=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var u=f.nticks||P.constrain(f._length/40,4,9);m.autoTicks(f,Math.abs(f.range[1]-f.range[0])/u)}for(var g=m.calcTicks(f,{msUTC:!0}),h=0;h<g.length;++h)g[h].x=g[h].x*v.dataScale[n],f.type==="date"&&(g[h].text=g[h].text.replace(/\<br\>/g," "));a[n]=g,f.tickmode=l}}p.ticks=a;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(a)}},94424:function(G){function V(m,P){var i=[0,0,0,0],L,S;for(L=0;L<4;++L)for(S=0;S<4;++S)i[S]+=m[4*L+S]*P[L];return i}function e(m,P){var i=V(m.projection,V(m.view,V(m.model,[P[0],P[1],P[2],1])));return i}G.exports=e},98432:function(G,V,e){var m=e(67792).gl_plot3d,P=m.createCamera,i=m.createScene,L=e(5408),S=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),a=e(93024),n=e(43080),f=e(16576),l=e(94424),u=e(44728),g=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,o,d=!1;function x(I,N){var _=document.createElement("div"),O=I.container;this.graphDiv=I.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",_.appendChild(B),this.svgContainer=B,_.id=I.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",O.appendChild(_),this.fullLayout=N,this.id=I.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(N,N[this.id]),this.spikeOptions=g(N[this.id]),this.container=_,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=x.prototype;w.prepareOptions=function(){var I=this,N={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!o&&(c=document.createElement("canvas"),o=L({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");N.gl=o,N.canvas=c}return N};var C=!0;w.tryCreatePlot=function(){var I=this,N=I.prepareOptions(),_=!0;try{I.glplot=i(N)}catch{if(I.staticMode||!C||r)_=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,I.glplot=i(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,_=!1}}}return C=!1,_},w.initializeGLCamera=function(){var I=this,N=I.fullSceneLayout.camera,_=N.projection.type==="orthographic";I.camera=P(I.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var N=I.tryCreatePlot();if(!N)return f(I);I.traces={},I.make4thDimension();var _=I.graphDiv,O=_.layout,B=function(){var U={};return I.isCameraChanged(O)&&(U[I.id+".camera"]=I.getCamera()),I.isAspectChanged(O)&&(U[I.id+".aspectratio"]=I.glplot.getAspectratio(),O[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=O[I.id].aspectmode=U[I.id+".aspectmode"]="manual")),U},z=function(U){if(U.fullSceneLayout.dragmode!==!1){var Z=B();U.saveLayout(O),U.graphDiv.emit("plotly_relayout",Z)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){z(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(U){if(_._context._scrollZoom.gl3d){if(I.camera._ortho){var Z=U.deltaX>U.deltaY?1.1:.9090909090909091,J=I.glplot.getAspectratio();I.glplot.setAspectratio({x:Z*J.x,y:Z*J.y,z:Z*J.z})}z(I)}},S?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var U=B();I.graphDiv.emit("plotly_relayouting",U)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(U){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:U,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},w.render=function(){var I=this,N=I.graphDiv,_,O=I.svgContainer,B=I.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var z=N._fullLayout._invScaleX,U=N._fullLayout._invScaleY,Z=B.width*z,J=B.height*U;O.setAttributeNS(null,"viewBox","0 0 "+Z+" "+J),O.setAttributeNS(null,"width",Z),O.setAttributeNS(null,"height",J),h(I),I.glplot.axes.update(I.axesOptions);for(var re=Object.keys(I.traces),ne=null,ue=I.glplot.selection,te=0;te<re.length;++te)_=I.traces[re[te]],_.data.hoverinfo!=="skip"&&_.handlePick(ue)&&(ne=_),_.setContourLevels&&_.setContourLevels();function Q(De,ke,Be){var Ae=I.fullSceneLayout[De+"axis"];return Ae.type!=="log"&&(ke=Ae.d2l(ke)),t.hoverLabelText(Ae,ke,Be)}if(ne!==null){var ie=l(I.glplot.cameraParams,ue.dataCoordinate);_=ne.data;var Y=N._fullData[_.index],$=ue.index,oe={xLabel:Q("x",ue.traceCoordinate[0],_.xhoverformat),yLabel:Q("y",ue.traceCoordinate[1],_.yhoverformat),zLabel:Q("z",ue.traceCoordinate[2],_.zhoverformat)},j=a.castHoverinfo(Y,I.fullLayout,$),X=(j||"").split("+"),se=j&&j==="all";!Y.hovertemplate&&!se&&(X.indexOf("x")===-1&&(oe.xLabel=void 0),X.indexOf("y")===-1&&(oe.yLabel=void 0),X.indexOf("z")===-1&&(oe.zLabel=void 0),X.indexOf("text")===-1&&(ue.textLabel=void 0),X.indexOf("name")===-1&&(ne.name=void 0));var q,ce=[];_.type==="cone"||_.type==="streamtube"?(oe.uLabel=Q("x",ue.traceCoordinate[3],_.uhoverformat),(se||X.indexOf("u")!==-1)&&ce.push("u: "+oe.uLabel),oe.vLabel=Q("y",ue.traceCoordinate[4],_.vhoverformat),(se||X.indexOf("v")!==-1)&&ce.push("v: "+oe.vLabel),oe.wLabel=Q("z",ue.traceCoordinate[5],_.whoverformat),(se||X.indexOf("w")!==-1)&&ce.push("w: "+oe.wLabel),oe.normLabel=ue.traceCoordinate[6].toPrecision(3),(se||X.indexOf("norm")!==-1)&&ce.push("norm: "+oe.normLabel),_.type==="streamtube"&&(oe.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(se||X.indexOf("divergence")!==-1)&&ce.push("divergence: "+oe.divergenceLabel)),ue.textLabel&&ce.push(ue.textLabel),q=ce.join("<br>")):_.type==="isosurface"||_.type==="volume"?(oe.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(ue.traceCoordinate[3]),_.valuehoverformat),ce.push("value: "+oe.valueLabel),ue.textLabel&&ce.push(ue.textLabel),q=ce.join("<br>")):q=ue.textLabel;var ye={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:$};a.appendArrayPointValue(ye,Y,$),_._module.eventData&&(ye=Y._module.eventData(ye,ue,Y,{},$));var we={points:[ye]};if(I.fullSceneLayout.hovermode){var be=[];a.loneHover({trace:Y,x:(.5+.5*ie[0]/ie[3])*Z,y:(.5-.5*ie[1]/ie[3])*J,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:q,name:ne.name,color:a.castHoverOption(Y,$,"bgcolor")||ne.color,borderColor:a.castHoverOption(Y,$,"bordercolor"),fontFamily:a.castHoverOption(Y,$,"font.family"),fontSize:a.castHoverOption(Y,$,"font.size"),fontColor:a.castHoverOption(Y,$,"font.color"),nameLength:a.castHoverOption(Y,$,"namelength"),textAlign:a.castHoverOption(Y,$,"align"),hovertemplate:p.castOption(Y,$,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,oe),eventData:[ye]},{container:O,gd:N,inOut_bbox:be}),ye.bbox=be[0]}ue.distance<5&&(ue.buttons||d)?N.emit("plotly_click",we):N.emit("plotly_hover",we),this.oldEventData=we}else a.loneUnhover(O),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},w.recoverContext=function(){var I=this;I.glplot.dispose();var N=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(N)};var y=["xaxis","yaxis","zaxis"];function M(I,N,_){for(var O=I.fullSceneLayout,B=0;B<3;B++){var z=y[B],U=z.charAt(0),Z=O[z],J=N[U],re=N[U+"calendar"],ne=N["_"+U+"length"];if(!p.isArrayOrTypedArray(J))_[0][B]=Math.min(_[0][B],0),_[1][B]=Math.max(_[1][B],ne-1);else for(var ue,te=0;te<(ne||J.length);te++)if(p.isArrayOrTypedArray(J[te]))for(var Q=0;Q<J[te].length;++Q)ue=Z.d2l(J[te][Q],0,re),!isNaN(ue)&&isFinite(ue)&&(_[0][B]=Math.min(_[0][B],ue),_[1][B]=Math.max(_[1][B],ue));else ue=Z.d2l(J[te],0,re),!isNaN(ue)&&isFinite(ue)&&(_[0][B]=Math.min(_[0][B],ue),_[1][B]=Math.max(_[1][B],ue))}}function A(I,N){for(var _=I.fullSceneLayout,O=_.annotations||[],B=0;B<3;B++)for(var z=y[B],U=z.charAt(0),Z=_[z],J=0;J<O.length;J++){var re=O[J];if(re.visible){var ne=Z.r2l(re[U]);!isNaN(ne)&&isFinite(ne)&&(N[0][B]=Math.min(N[0][B],ne),N[1][B]=Math.max(N[1][B],ne))}}}w.plot=function(I,N,_){var O=this;if(O.plotArgs=[I,N,_],!O.glplot.contextLost){var B,z,U,Z,J,re,ne=N[O.id],ue=_[O.id];O.fullLayout=N,O.fullSceneLayout=ne,O.axesOptions.merge(N,ne),O.spikeOptions.merge(ne),O.setViewport(ne),O.updateFx(ne.dragmode,ne.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ne.bgcolor)),O.setConvert(J),I?Array.isArray(I)||(I=[I]):I=[];var te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<I.length;++U)B=I[U],!(B.visible!==!0||B._length===0)&&M(this,B,te);A(this,te);var Q=[1,1,1];for(Z=0;Z<3;++Z)te[1][Z]===te[0][Z]?Q[Z]=1:Q[Z]=1/(te[1][Z]-te[0][Z]);for(O.dataScale=Q,O.convertAnnotations(this),U=0;U<I.length;++U)B=I[U],!(B.visible!==!0||B._length===0)&&(z=O.traces[B.uid],z?z.data.type===B.type?z.update(B):(z.dispose(),z=B._module.plot(this,B),O.traces[B.uid]=z):(z=B._module.plot(this,B),O.traces[B.uid]=z),z.name=B.name);var ie=Object.keys(O.traces);e:for(U=0;U<ie.length;++U){for(Z=0;Z<I.length;++Z)if(I[Z].uid===ie[U]&&I[Z].visible===!0&&I[Z]._length!==0)continue e;z=O.traces[ie[U]],z.dispose(),delete O.traces[ie[U]]}O.glplot.objects.sort(function(ot,$e){return ot._trace.data.index-$e._trace.data.index});var Y=[[0,0,0],[0,0,0]],$={};for(U=0;U<3;++U){J=ne[y[U]],re=J.type,re in $?($[re].acc*=Q[U],$[re].count+=1):$[re]={acc:Q[U],count:1};var oe;if(J.autorange){Y[0][U]=1/0,Y[1][U]=-1/0;var j=O.glplot.objects,X=O.fullSceneLayout.annotations||[],se=J._name.charAt(0);for(Z=0;Z<j.length;Z++){var q=j[Z],ce=q.bounds,ye=q._trace.data._pad||0;q.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?Y[0][U]=Math.min(Y[0][U],J._lowerLogErrorBound):Y[0][U]=Math.min(Y[0][U],ce[0][U]/Q[U]-ye),Y[1][U]=Math.max(Y[1][U],ce[1][U]/Q[U]+ye)}for(Z=0;Z<X.length;Z++){var we=X[Z];if(we.visible){var be=J.r2l(we[se]);Y[0][U]=Math.min(Y[0][U],be),Y[1][U]=Math.max(Y[1][U],be)}}if("rangemode"in J&&J.rangemode==="tozero"&&(Y[0][U]=Math.min(Y[0][U],0),Y[1][U]=Math.max(Y[1][U],0)),Y[0][U]>Y[1][U])Y[0][U]=-1,Y[1][U]=1;else{var De=Y[1][U]-Y[0][U];Y[0][U]-=De/32,Y[1][U]+=De/32}if(oe=[Y[0][U],Y[1][U]],oe=T(oe,J),Y[0][U]=oe[0],Y[1][U]=oe[1],J.isReversed()){var ke=Y[0][U];Y[0][U]=Y[1][U],Y[1][U]=ke}}else oe=J.range,Y[0][U]=J.r2l(oe[0]),Y[1][U]=J.r2l(oe[1]);Y[0][U]===Y[1][U]&&(Y[0][U]-=1,Y[1][U]+=1),J.range=[Y[0][U],Y[1][U]],J.limitRange(),O.glplot.setBounds(U,{min:J.range[0]*Q[U],max:J.range[1]*Q[U]})}var Be,Ae=ne.aspectmode;if(Ae==="cube")Be=[1,1,1];else if(Ae==="manual"){var Ie=ne.aspectratio;Be=[Ie.x,Ie.y,Ie.z]}else if(Ae==="auto"||Ae==="data"){var Me=[1,1,1];for(U=0;U<3;++U){J=ne[y[U]],re=J.type;var Fe=$[re];Me[U]=Math.pow(Fe.acc,1/Fe.count)/Q[U]}Ae==="data"||Math.max.apply(null,Me)/Math.min.apply(null,Me)<=4?Be=Me:Be=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=ue.aspectratio.x=Be[0],ne.aspectratio.y=ue.aspectratio.y=Be[1],ne.aspectratio.z=ue.aspectratio.z=Be[2],O.glplot.setAspectratio(ne.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ne.aspectmode);var Ee=ne.domain||null,He=N._size||null;if(Ee&&He){var rt=O.container.style;rt.position="absolute",rt.left=He.l+Ee.x[0]*He.w+"px",rt.top=He.t+(1-Ee.y[1])*He.h+"px",rt.width=He.w*(Ee.x[1]-Ee.x[0])+"px",rt.height=He.h*(Ee.y[1]-Ee.y[0])+"px"}O.glplot.redraw()}},w.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function s(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function E(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),E(I.camera)},w.setViewport=function(I){var N=this,_=I.camera;N.camera.lookAt.apply(this,s(_)),N.glplot.setAspectratio(I.aspectratio);var O=_.projection.type==="orthographic",B=N.camera._ortho;O!==B&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(I){var N=this,_=N.getCamera(),O=p.nestedProperty(I,N.id+".camera"),B=O.get();function z(re,ne,ue,te){var Q=["up","center","eye"],ie=["x","y","z"];return ne[Q[ue]]&&re[Q[ue]][ie[te]]===ne[Q[ue]][ie[te]]}var U=!1;if(B===void 0)U=!0;else{for(var Z=0;Z<3;Z++)for(var J=0;J<3;J++)if(!z(_,B,Z,J)){U=!0;break}(!B.projection||_.projection&&_.projection.type!==B.projection.type)&&(U=!0)}return U},w.isAspectChanged=function(I){var N=this,_=N.glplot.getAspectratio(),O=p.nestedProperty(I,N.id+".aspectratio"),B=O.get();return B===void 0||B.x!==_.x||B.y!==_.y||B.z!==_.z},w.saveLayout=function(I){var N=this,_=N.fullLayout,O,B,z,U,Z,J,re=N.isCameraChanged(I),ne=N.isAspectChanged(I),ue=re||ne;if(ue){var te={};if(re&&(O=N.getCamera(),B=p.nestedProperty(I,N.id+".camera"),z=B.get(),te[N.id+".camera"]=z),ne&&(U=N.glplot.getAspectratio(),Z=p.nestedProperty(I,N.id+".aspectratio"),J=Z.get(),te[N.id+".aspectratio"]=J),v.call("_storeDirectGUIEdit",I,_._preGUI,te),re){B.set(O);var Q=p.nestedProperty(_,N.id+".camera");Q.set(O)}if(ne){Z.set(U);var ie=p.nestedProperty(_,N.id+".aspectratio");ie.set(U),N.glplot.redraw()}}return ue},w.updateFx=function(I,N){var _=this,O=_.camera;if(O)if(I==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(I==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var B=_.graphDiv,z=B._fullLayout,U=_.fullSceneLayout.camera,Z=U.up.x,J=U.up.y,re=U.up.z;if(re/Math.sqrt(Z*Z+J*J+re*re)<.999){var ne=_.id+".camera.up",ue={x:0,y:0,z:1},te={};te[ne]=ue;var Q=B.layout;v.call("_storeDirectGUIEdit",Q,z._preGUI,te),U.up=ue,p.nestedProperty(Q,ne).set(ue)}}else O.keyBindingMode=I;_.fullSceneLayout.hovermode=N};function b(I,N,_){for(var O=0,B=_-1;O<B;++O,--B)for(var z=0;z<N;++z)for(var U=0;U<4;++U){var Z=4*(N*O+z)+U,J=4*(N*B+z)+U,re=I[Z];I[Z]=I[J],I[J]=re}}function F(I,N,_){for(var O=0;O<_;++O)for(var B=0;B<N;++B){var z=4*(N*O+B),U=I[z+3];if(U>0)for(var Z=255/U,J=0;J<3;++J)I[z+J]=Math.min(Z*I[z+J],255)}}w.toImage=function(I){var N=this;I||(I="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var _=N.glplot.gl,O=_.drawingBufferWidth,B=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var z=new Uint8Array(O*B*4);_.readPixels(0,0,O,B,_.RGBA,_.UNSIGNED_BYTE,z),b(z,O,B),F(z,O,B);var U=document.createElement("canvas");U.width=O,U.height=B;var Z=U.getContext("2d",{willReadFrequently:!0}),J=Z.createImageData(O,B);J.data.set(z),Z.putImageData(J,0,0);var re;switch(I){case"jpeg":re=U.toDataURL("image/jpeg");break;case"webp":re=U.toDataURL("image/webp");break;default:re=U.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),re},w.setConvert=function(){for(var I=this,N=0;N<3;N++){var _=I.fullSceneLayout[y[N]];t.setConvert(_,I.fullLayout),_.setScale=p.noop}},w.make4thDimension=function(){var I=this,N=I.graphDiv,_=N._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,_)},G.exports=x},52094:function(G){G.exports=function(e,m,P,i){i=i||e.length;for(var L=new Array(i),S=0;S<i;S++)L[S]=[e[S],m[S],P[S]];return L}},64859:function(G,V,e){var m=e(25376),P=e(85656),i=e(22548),L=e(92872),S=e(34200),v=e(66741),p=e(92880).extendFlat,r=m({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:m({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:m({editType:"layoutstyle"})}}},47552:function(G,V,e){var m=e(95376),P="1.13.4",i=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=m(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,V,e){var m=e(3400);G.exports=function(i,L){var S=i.split(" "),v=S[0],p=S[1],r=m.isArrayOrTypedArray(L)?m.mean(L):L,t=.5+r/100,a=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-a;break;case"bottom":n[0]="bottom",f[1]=a;break}switch(p){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var l;return n[0]&&n[1]?l=n.join("-"):n[0]?l=n[0]:n[1]?l=n[1]:l="center",{anchor:l,offset:f}}},33688:function(G,V,e){var m=e(3480),P=e(3400),i=P.strTranslate,L=P.strScale,S=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),a=e(14440),n="mapbox",f=V.constants=e(47552);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=P.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(5232),V.supplyLayoutDefaults=e(5976),V.plot=function(h){var T=h._fullLayout,c=h.calcdata,o=T._subplots[n];if(m.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=l(h,o);m.accessToken=d;for(var x=0;x<o.length;x++){var w=o[x],C=S(c,n,w),y=T[w],M=y._subplot;M||(M=new a(h,w),T[w]._subplot=M),M.viewInitial||(M.viewInitial={center:P.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),M.plot(C,T,h._promises)}},V.clean=function(g,h,T,c){for(var o=c._subplots[n]||[],d=0;d<o.length;d++){var x=o[d];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},V.toSVG=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=h._size,o=0;o<T.length;o++){var d=h[T[o]],x=d.domain,w=d._subplot,C=w.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var M=p.select(d._subplot.div),A=M.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var s=h._glimages.append("g");s.attr("transform",i(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),s.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=h._glimages.append("g"),F=b.append("text");F.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var I=r.bBox(F.node()),N=c.w*(x.x[1]-x.x[0]);if(I.width>N/2){var _=E.split("|").join("<br>");F.text(_).attr("data-unformatted",_).call(t.convertToTspans,g),I=r.bBox(F.node())}F.attr("transform",i(-3,-I.height+8)),b.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;I.width+6>N&&(O=N/(I.width+6));var B=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];b.attr("transform",i(B[0],B[1])+L(O))}};function l(g,h){var T=g._fullLayout,c=g._context;if(c.mapboxAccessToken==="")return"";for(var o=[],d=[],x=!1,w=!1,C=0;C<h.length;C++){var y=T[h[C]],M=y.accesstoken;u(y.style)&&(M?P.pushUnique(o,M):(u(y._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),x=!0),w=!0)),M&&P.pushUnique(d,M)}if(w){var A=x?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw P.error(A),new Error(A)}return o.length?(o.length>1&&P.warn(f.multipleTokensErrorMsg),o[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(g){return typeof g=="string"&&(f.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}V.updateFx=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=0;c<T.length;c++){var o=h[T[c]]._subplot;o.updateFx(h)}}},22360:function(G,V,e){var m=e(3400),P=e(72736).sanitizeHTML,i=e(89032),L=e(47552);function S(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(a){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},v.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},v.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(a){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,!!p(a)){var f=t(a);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var l=n[f].id;if(typeof l=="string"&&l.indexOf(L.traceLayerPrefix)===0){a=l;break}}return a},v.updateLayer=function(a){var n=this.subplot,f=r(a),l=this.lookupBelow(),u=this.findFollowingMapboxLayerId(l);this.removeLayer(),p(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:f.layout,paint:f.paint},u),this.layerType=a.type,this.below=l},v.updateStyle=function(a){if(p(a)){var n=r(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},v.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)};function p(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return m.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(a){var n={},f={};switch(a.type){case"circle":m.extendFlat(f,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":m.extendFlat(f,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":m.extendFlat(f,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var l=a.symbol,u=i(l.textposition,l.iconsize);m.extendFlat(n,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":l.placement}),m.extendFlat(f,{"icon-color":a.color,"text-color":l.textfont.color,"text-opacity":a.opacity});break;case"raster":m.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":a.opacity});break}return{layout:n,paint:f}}function t(a){var n=a.sourcetype,f=a.source,l={type:n},u;return n==="geojson"?u="data":n==="vector"?u=typeof f=="string"?"url":"tiles":n==="raster"?(u="tiles",l.tileSize=256):n==="image"&&(u="url",l.coordinates=a.coordinates),l[u]=f,a.sourceattribution&&(l.attribution=P(a.sourceattribution)),l}G.exports=function(n,f,l){var u=new S(n,f);return u.update(l),u}},5232:function(G,V,e){var m=e(3400),P=e(76308).defaultLine,i=e(86968).u,L=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=L({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var a=G.exports=v({_arrayAttrRegexps:[m.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:m.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");a.uirevision={valType:"any",editType:"none"}},5976:function(G,V,e){var m=e(3400),P=e(168),i=e(51272),L=e(5232);G.exports=function(r,t,a){P(r,t,a,{type:"mapbox",attributes:L,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(p,r,t,a){t("accesstoken",a.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),l=t("bounds.south"),u=t("bounds.north");(n===void 0||f===void 0||l===void 0||u===void 0)&&delete r.bounds,i(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,h){return m.coerce(p,r,L.layers,g,h)}var a=t("visible");if(a){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var l;f&&(l="raster");var u=t("type",l);f&&u!=="raster"&&(u=r.type="raster",m.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),u==="circle"&&t("circle.radius"),u==="line"&&(t("line.width"),t("line.dash")),u==="fill"&&t("fill.outlinecolor"),u==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),m.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,V,e){var m=e(3480),P=e(3400),i=e(27144),L=e(24040),S=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,a=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,g=e(47552),h=e(22360);function T(C,y){this.id=y,this.gd=C;var M=C._fullLayout,A=C._context;this.container=M._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(C,y,M){var A=this,s=y[A.id];A.map&&s.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var E;A.map?E=new Promise(function(b,F){A.updateMap(C,y,b,F)}):E=new Promise(function(b,F){A.createMap(C,y,b,F)}),M.push(E)},c.createMap=function(C,y,M,A){var s=this,E=y[s.id],b=s.styleObj=d(E.style,y);s.accessToken=E.accesstoken;var F=E.bounds,I=F?[[F.west,F.south],[F.east,F.north]]:null,N=s.map=new m.Map({container:s.div,style:b.style,center:w(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:I,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new m.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",s.rejectOnError(A),s.isStatic||s.initFx(C,y);var _=[];_.push(new Promise(function(O){N.once("load",O)})),_=_.concat(i.fetchTraceGeoData(C)),Promise.all(_).then(function(){s.fillBelowLookup(C,y),s.updateData(C),s.updateLayout(y),s.resolveOnRender(M)}).catch(A)},c.updateMap=function(C,y,M,A){var s=this,E=s.map,b=y[this.id];s.rejectOnError(A);var F=[],I=d(b.style,y);JSON.stringify(s.styleObj)!==JSON.stringify(I)&&(s.styleObj=I,E.setStyle(I.style),s.traceHash={},F.push(new Promise(function(N){E.once("styledata",N)}))),F=F.concat(i.fetchTraceGeoData(C)),Promise.all(F).then(function(){s.fillBelowLookup(C,y),s.updateData(C),s.updateLayout(y),s.resolveOnRender(M)}).catch(A)},c.fillBelowLookup=function(C,y){var M=y[this.id],A=M.layers,s,E,b=this.belowLookup={},F=!1;for(s=0;s<C.length;s++){var I=C[s][0].trace,N=I._module;typeof I.below=="string"?E=I.below:N.getBelow&&(E=N.getBelow(I,this)),E===""&&(F=!0),b["trace-"+I.uid]=E||""}for(s=0;s<A.length;s++){var _=A[s];typeof _.below=="string"?E=_.below:F?E="traces":E="",b["layout-"+s]=E}var O={},B,z;for(B in b)E=b[B],O[E]?O[E].push(B):O[E]=[B];for(E in O){var U=O[E];if(U.length>1)for(s=0;s<U.length;s++)B=U[s],B.indexOf("trace-")===0?(z=B.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):B.indexOf("layout-")===0&&(z=B.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var y=this.traceHash,M,A,s,E,b=C.slice().sort(function(O,B){return o[O[0].trace.type]-o[B[0].trace.type]});for(s=0;s<b.length;s++){var F=b[s];A=F[0].trace,M=y[A.uid];var I=!1;M&&(M.type===A.type?(M.update(F),I=!0):M.dispose()),!I&&A._module&&(y[A.uid]=A._module.plot(this,F))}var N=Object.keys(y);e:for(s=0;s<N.length;s++){var _=N[s];for(E=0;E<C.length;E++)if(A=C[E][0].trace,_===A.uid)continue e;M=y[_],M.dispose(),delete y[_]}},c.updateLayout=function(C){var y=this.map,M=C[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(w(M.center)),y.setZoom(M.zoom),y.setBearing(M.bearing),y.setPitch(M.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(C){var y=this.map;y.on("render",function M(){y.loaded()&&(y.off("render",M),setTimeout(C,10))})},c.rejectOnError=function(C){var y=this.map;function M(){C(new Error(g.mapOnErrorMsg))}y.once("error",M),y.once("style.error",M),y.once("source.error",M),y.once("tile.error",M),y.once("layer.error",M)},c.createFramework=function(C){var y=this,M=y.div=document.createElement("div");M.id=y.uid,M.style.position="absolute",y.container.appendChild(M),y.xaxis={_id:"x",c2p:function(A){return y.project(A).x}},y.yaxis={_id:"y",c2p:function(A){return y.project(A).y}},y.updateFramework(C),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(y.mockAxis,C)},c.initFx=function(C,y){var M=this,A=M.gd,s=M.map;s.on("moveend",function(F){if(M.map){var I=A._fullLayout;if(F.originalEvent||M.wheeling){var N=I[M.id];L.call("_storeDirectGUIEdit",A.layout,I._preGUI,M.getViewEdits(N));var _=M.getView();N._input.center=N.center=_.center,N._input.zoom=N.zoom=_.zoom,N._input.bearing=N.bearing=_.bearing,N._input.pitch=N.pitch=_.pitch,A.emit("plotly_relayout",M.getViewEditsWithDerived(_))}F.originalEvent&&F.originalEvent.type==="mouseup"?M.dragging=!1:M.wheeling&&(M.wheeling=!1),I._rehover&&I._rehover()}}),s.on("wheel",function(){M.wheeling=!0}),s.on("mousemove",function(F){var I=M.div.getBoundingClientRect(),N=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return I},M.xaxis.p2c=function(){return s.unproject(N).lng},M.yaxis.p2c=function(){return s.unproject(N).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===M.id&&A._fullLayout[M.id]&&p.hover(A,F,M.id)},p.hover(A,F,M.id),A._fullLayout._hoversubplot=M.id});function E(){p.loneUnhover(y._hoverlayer)}s.on("dragstart",function(){M.dragging=!0,E()}),s.on("zoomstart",E),s.on("mouseout",function(){A._fullLayout._hoversubplot=null});function b(){var F=M.getView();A.emit("plotly_relayouting",M.getViewEditsWithDerived(F))}s.on("drag",b),s.on("zoom",b),s.on("dblclick",function(){var F=A._fullLayout[M.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,M.getViewEdits(F));var I=M.viewInitial;s.setCenter(w(I.center)),s.setZoom(I.zoom),s.setBearing(I.bearing),s.setPitch(I.pitch);var N=M.getView();F._input.center=F.center=N.center,F._input.zoom=F.zoom=N.zoom,F._input.bearing=F.bearing=N.bearing,F._input.pitch=F.pitch=N.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",M.getViewEditsWithDerived(N))}),M.clearOutline=function(){l(M.dragOptions),f(M.dragOptions.gd)},M.onClickInPanFn=function(F){return function(I){var N=A._fullLayout.clickmode;N.indexOf("select")>-1&&u(I.originalEvent,A,[M.xaxis],[M.yaxis],M.id,F),N.indexOf("event")>-1&&p.click(A,I.originalEvent)}}},c.updateFx=function(C){var y=this,M=y.map,A=y.gd;if(y.isStatic)return;function s(I){var N=y.map.unproject(I);return[N.lng,N.lat]}var E=C.dragmode,b;b=function(I,N){if(N.isRect){var _=I.range={};_[y.id]=[s([N.xmin,N.ymin]),s([N.xmax,N.ymax])]}else{var O=I.lassoPoints={};O[y.id]=N.map(s)}};var F=y.dragOptions;y.dragOptions=P.extendDeep(F||{},{dragmode:C.dragmode,element:y.div,gd:A,plotinfo:{id:y.id,domain:C[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:b},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),M.off("click",y.onClickInPanHandler),a(E)||t(E)?(M.dragPan.disable(),M.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(I,N,_){n(I,N,_,y.dragOptions,E)},v.init(y.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),M.on("click",y.onClickInPanHandler))},c.updateFramework=function(C){var y=C[this.id].domain,M=C._size,A=this.div.style;A.width=M.w*(y.x[1]-y.x[0])+"px",A.height=M.h*(y.y[1]-y.y[0])+"px",A.left=M.l+y.x[0]*M.w+"px",A.top=M.t+(1-y.y[1])*M.h+"px",this.xaxis._offset=M.l+y.x[0]*M.w,this.xaxis._length=M.w*(y.x[1]-y.x[0]),this.yaxis._offset=M.t+(1-y.y[1])*M.h,this.yaxis._length=M.h*(y.y[1]-y.y[0])},c.updateLayers=function(C){var y=C[this.id],M=y.layers,A=this.layerList,s;if(M.length!==A.length){for(s=0;s<A.length;s++)A[s].dispose();for(A=this.layerList=[],s=0;s<M.length;s++)A.push(h(this,s,M[s]))}else for(s=0;s<M.length;s++)A[s].update(M[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,y,M){for(var A in M)this.map[y](C,A,M[A])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,y){var M=this.map;if(typeof y=="string"){if(y===""){M.addLayer(C,y);return}for(var A=this.getMapLayers(),s=0;s<A.length;s++)if(y===A[s].id){M.addLayer(C,y);return}P.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(C)},c.project=function(C){return this.map.project(new m.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,y=C.getCenter(),M=y.lng,A=y.lat,s={lon:M,lat:A},E=C.getCanvas(),b=parseInt(E.style.width),F=parseInt(E.style.height);return{center:s,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([b,0]).toArray(),C.unproject([b,F]).toArray(),C.unproject([0,F]).toArray()]}}},c.getViewEdits=function(C){for(var y=this.id,M=["center","zoom","bearing","pitch"],A={},s=0;s<M.length;s++){var E=M[s];A[y+"."+E]=C[E]}return A},c.getViewEditsWithDerived=function(C){var y=this.id,M=this.getViewEdits(C);return M[y+"._derived"]=C._derived,M};function d(C,y){var M={};if(P.isPlainObject(C))M.id=C.id,M.style=C;else if(typeof C=="string")if(M.id=C,g.styleValuesMapbox.indexOf(C)!==-1)M.style=x(C);else if(g.stylesNonMapbox[C]){M.style=g.stylesNonMapbox[C];var A=M.style.sources["plotly-"+C],s=A?A.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=y._mapboxAccessToken)}else M.style=C;else M.id=g.styleValueDflt,M.style=x(g.styleValueDflt);return M.transition={duration:0,delay:0},M}function x(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function w(C){return[C.lon,C.lat]}G.exports=T},66741:function(G){G.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,V,e){var m=e(33428),P=e(94336).m_,i=e(57624).SO,L=e(38248),S=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),a=e(76308),n=e(39032).BADNUM,f=e(79811),l=e(1936).clearOutline,u=e(55308),g=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,o=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var x=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function($){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),$(d.previousPromises(Y)))},300)})},d.resize=function(Y){Y=t.getGraphDiv(Y);var $,oe=new Promise(function(j,X){(!Y||t.isHidden(Y))&&X(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&($=Y._resolveResize),Y._resolveResize=j,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){j(Y);return}delete Y.layout.width,delete Y.layout.height;var se=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=se,Y._resolveResize===j&&(delete Y._resolveResize,j(Y))})},100)});return $&&$(oe),oe},d.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},d.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var $=Y._fullLayout,oe=t.ensureSingle($._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var we=m.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),j=oe.node(),X={y:$._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=$.width-20?(X["text-anchor"]="start",X.x=5):(X["text-anchor"]="end",X.x=$._paper.attr("width")-7),oe.attr(X);var se=oe.select(".js-link-to-tool"),q=oe.select(".js-link-spacer"),ce=oe.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&C(Y,se),q.text(se.text()&&ce.text()?" - ":"")}};function C(Y,$){$.text("");var oe=$.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" "+String.fromCharCode(187));if(Y._context.sendData)oe.on("click",function(){d.sendDataToCloud(Y)});else{var j=window.location.pathname.split("/"),X=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+j[2].split(".")[0]+"/"+j[1]+X})}}d.sendDataToCloud=function(Y){var $=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if($){Y.emit("plotly_beforeexport");var oe=m.select(Y).append("div").attr("id","hiddenform").style("display","none"),j=oe.append("form").attr({action:$+"/external",method:"post",target:"_blank"}),X=j.append("input").attr({type:"text",name:"data"});return X.node().value=d.graphJson(Y,!1,"keepdata"),j.node().submit(),oe.remove(),Y.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(Y,$){var oe=$&&$.skipUpdateCalc,j=Y._fullLayout||{};if(j._skipDefaults){delete j._skipDefaults;return}var X=Y._fullLayout={},se=Y.layout||{},q=Y._fullData||[],ce=Y._fullData=[],ye=Y.data||[],we=Y.calcdata||[],be=Y._context||{},De;Y._transitionData||d.createTransitionData(Y),X._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},X._traceWord=o(Y,"trace");var ke=E(Y,y);if(X._mapboxAccessToken=be.mapboxAccessToken,j._initialAutoSizeIsDone){var Be=j.width,Ae=j.height;d.supplyLayoutGlobalDefaults(se,X,ke),se.width||(X.width=Be),se.height||(X.height=Ae),d.sanitizeMargins(X)}else{d.supplyLayoutGlobalDefaults(se,X,ke);var Ie=!se.width||!se.height,Me=X.autosize,Fe=be.autosizable,Ee=Ie&&(Me||Fe);Ee?d.plotAutoSize(Y,se,X):Ie&&d.sanitizeMargins(X),!Me&&Ie&&(se.width=X.width,se.height=X.height)}X._d3locale=b(ke,X.separators),X._extraFormat=E(Y,M),X._initialAutoSizeIsDone=!0,X._dataLength=ye.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var He=X._subplots=s(),rt=X._splomAxes={x:{},y:{}},ot=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=A(q,ye),X._globalTransforms=(Y._context||{}).globalTransforms,d.supplyDataDefaults(ye,ce,se,X);var $e=Object.keys(rt.x),qe=Object.keys(rt.y);if($e.length>1&&qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,X),De=0;De<$e.length;De++)t.pushUnique(He.xaxis,$e[De]);for(De=0;De<qe.length;De++)t.pushUnique(He.yaxis,qe[De]);for(var ht in ot)t.pushUnique(He.cartesian,ht)}if(X._has=d._hasPlotType.bind(X),q.length===ce.length)for(De=0;De<ce.length;De++)c(ce[De],q[De]);d.supplyLayoutModuleDefaults(se,X,ce,Y._transitionData);var vt=X._visibleModules,pt=[];for(De=0;De<vt.length;De++){var wt=vt[De].crossTraceDefaults;wt&&t.pushUnique(pt,wt)}for(De=0;De<pt.length;De++)pt[De](ce,X);X._hasOnlyLargeSploms=X._basePlotModules.length===1&&X._basePlotModules[0].name==="splom"&&$e.length>15&&qe.length>15&&X.shapes.length===0&&X.images.length===0,d.linkSubplots(ce,X,q,j),d.cleanPlot(ce,X,q,j);var Mt=!!(j._has&&j._has("gl2d")),nt=!!(X._has&&X._has("gl2d")),_e=!!(j._has&&j._has("cartesian")),Ge=!!(X._has&&X._has("cartesian")),je=_e||Mt,We=Ge||nt;je&&!We?j._bgLayer.remove():We&&!je&&(X._shouldCreateBgLayer=!0),j._zoomlayer&&!Y._dragging&&l({_fullLayout:j}),F(ce,X),c(X,j),v.getComponentMethod("colorscale","crossTraceDefaults")(ce,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Pe=X._tracePreGUI,Re={},Xe;for(Xe in Pe)Re[Xe]="old";for(De=0;De<ce.length;De++)Xe=ce[De]._fullInput.uid,Re[Xe]||(Pe[Xe]={}),Re[Xe]="new";for(Xe in Re)Re[Xe]==="old"&&delete Pe[Xe];B(X),v.getComponentMethod("rangeslider","makeData")(X),!oe&&we.length===ce.length&&d.supplyDefaultsUpdateCalc(we,ce)},d.supplyDefaultsUpdateCalc=function(Y,$){for(var oe=0;oe<$.length;oe++){var j=$[oe],X=(Y[oe]||[])[0];if(X&&X.trace){var se=X.trace;if(se._hasCalcTransform){var q=se._arrayAttrs,ce,ye,we;for(ce=0;ce<q.length;ce++)ye=q[ce],we=t.nestedProperty(se,ye).get().slice(),t.nestedProperty(j,ye).set(we)}X.trace=j}}};function A(Y,$){var oe=$.length,j=[],X,se;for(X=0;X<Y.length;X++){var q=Y[X]._fullInput;q!==se&&j.push(q),se=q}var ce=j.length,ye=new Array(oe),we={};function be(Be,Ae){ye[Ae]=Be,we[Be]=1}function De(Be,Ae){if(Be&&typeof Be=="string"&&!we[Be])return be(Be,Ae),!0}for(X=0;X<oe;X++){var ke=$[X].uid;typeof ke=="number"&&(ke=String(ke)),!De(ke,X)&&(X<ce&&De(j[X].uid,X)||be(t.randstr(we),X))}return ye}function s(){var Y=v.collectableSubplotTypes,$={},oe,j;if(!Y){Y=[];var X=v.subplotsRegistry;for(var se in X){var q=X[se],ce=q.attr;if(ce&&(Y.push(se),Array.isArray(ce)))for(j=0;j<ce.length;j++)t.pushUnique(Y,ce[j])}}for(oe=0;oe<Y.length;oe++)$[Y[oe]]=[];return $}function E(Y,$){var oe=Y._context.locale;oe||(oe="en-US");var j=!1,X={};function se(De){for(var ke=!0,Be=0;Be<$.length;Be++){var Ae=$[Be];X[Ae]||(De[Ae]?X[Ae]=De[Ae]:ke=!1)}ke&&(j=!0)}for(var q=0;q<2;q++){for(var ce=Y._context.locales,ye=0;ye<2;ye++){var we=(ce[oe]||{}).format;if(we&&(se(we),j))break;ce=v.localeRegistry}var be=oe.split("-")[0];if(j||be===oe)break;oe=be}return j||se(v.localeRegistry.en.format),X}function b(Y,$){return Y.decimal=$.charAt(0),Y.thousands=$.charAt(1),{numberFormat:function(oe){try{oe=i(Y).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:P(Y).utcFormat}}function F(Y,$){var oe,j=[];$.meta&&(oe=$._meta={meta:$.meta,layout:{meta:$.meta}});for(var X=0;X<Y.length;X++){var se=Y[X];se.meta?j[se.index]=se._meta={meta:se.meta}:$.meta&&(se._meta={meta:$.meta}),$.meta&&(se._meta.layout={meta:$.meta})}j.length&&(oe||(oe=$._meta={}),oe.data=j)}d.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},d._hasPlotType=function(Y){var $,oe=this._basePlotModules||[];for($=0;$<oe.length;$++)if(oe[$].name===Y)return!0;var j=this._modules||[];for($=0;$<j.length;$++){var X=j[$].name;if(X===Y)return!0;var se=v.modules[X];if(se&&se.categories[Y])return!0}return!1},d.cleanPlot=function(Y,$,oe,j){var X,se,q=j._basePlotModules||[];for(X=0;X<q.length;X++){var ce=q[X];ce.clean&&ce.clean(Y,$,oe,j)}var ye=j._has&&j._has("gl"),we=$._has&&$._has("gl");ye&&!we&&j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var be=!!j._infolayer;e:for(X=0;X<oe.length;X++){var De=oe[X],ke=De.uid;for(se=0;se<Y.length;se++){var Be=Y[se];if(ke===Be.uid)continue e}be&&j._infolayer.select(".cb"+ke).remove()}},d.linkSubplots=function(Y,$,oe,j){var X,se,q=j._plots||{},ce=$._plots={},ye=$._subplots,we={_fullData:Y,_fullLayout:$},be=ye.cartesian.concat(ye.gl2d||[]);for(X=0;X<be.length;X++){var De=be[X],ke=q[De],Be=f.getFromId(we,De,"x"),Ae=f.getFromId(we,De,"y"),Ie;for(ke?Ie=ce[De]=ke:(Ie=ce[De]={},Ie.id=De),Be._counterAxes.push(Ae._id),Ae._counterAxes.push(Be._id),Be._subplotsWith.push(De),Ae._subplotsWith.push(De),Ie.xaxis=Be,Ie.yaxis=Ae,Ie._hasClipOnAxisFalse=!1,se=0;se<Y.length;se++){var Me=Y[se];if(Me.xaxis===Ie.xaxis._id&&Me.yaxis===Ie.yaxis._id&&Me.cliponaxis===!1){Ie._hasClipOnAxisFalse=!0;break}}}var Fe=f.list(we,null,!0),Ee;for(X=0;X<Fe.length;X++){Ee=Fe[X];var He=null;Ee.overlaying&&(He=f.getFromId(we,Ee.overlaying),He&&He.overlaying&&(Ee.overlaying=!1,He=null)),Ee._mainAxis=He||Ee,He&&(Ee.domain=He.domain.slice()),Ee._anchorAxis=Ee.anchor==="free"?null:f.getFromId(we,Ee.anchor)}for(X=0;X<Fe.length;X++)if(Ee=Fe[X],Ee._counterAxes.sort(f.idSort),Ee._subplotsWith.sort(t.subplotSort),Ee._mainSubplot=I(Ee,$),Ee._counterAxes.length&&(Ee.spikemode&&Ee.spikemode.indexOf("across")!==-1||Ee.automargin&&Ee.mirror&&Ee.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Ee))){var rt=1,ot=0;for(se=0;se<Ee._counterAxes.length;se++){var $e=f.getFromId(we,Ee._counterAxes[se]);rt=Math.min(rt,$e.domain[0]),ot=Math.max(ot,$e.domain[1])}rt<ot&&(Ee._counterDomainMin=rt,Ee._counterDomainMax=ot)}};function I(Y,$){var oe={_fullLayout:$},j=Y._id.charAt(0)==="x",X=Y._mainAxis._anchorAxis,se="",q="",ce="";if(X&&(ce=X._mainAxis._id,se=j?Y._id+ce:ce+Y._id),!se||!$._plots[se]){se="";for(var ye=Y._counterAxes,we=0;we<ye.length;we++){var be=ye[we],De=j?Y._id+be:be+Y._id;q||(q=De);var ke=f.getFromId(oe,be);if(ce&&ke.overlaying===ce){se=De;break}}}return se||q}d.clearExpandedTraceDefaultColors=function(Y){var $,oe,j;function X(q,ce,ye,we){oe[we]=ce,oe.length=we+1,q.valType==="color"&&q.dflt===void 0&&$.push(oe.join("."))}for(oe=[],$=Y._module._colorAttrs,$||(Y._module._colorAttrs=$=[],p.crawl(Y._module.attributes,X)),j=0;j<$.length;j++){var se=t.nestedProperty(Y,"_input."+$[j]);se.get()||t.nestedProperty(Y,$[j]).set(null)}},d.supplyDataDefaults=function(Y,$,oe,j){var X=j._modules,se=j._visibleModules,q=j._basePlotModules,ce=0,ye=0,we,be,De;j._transformModules=[];function ke(qe){$.push(qe);var ht=qe._module;ht&&(t.pushUnique(X,ht),qe.visible===!0&&t.pushUnique(se,ht),t.pushUnique(q,qe._module.basePlotModule),ce++,qe._input.visible!==!1&&ye++)}var Be={},Ae=[],Ie=(oe.template||{}).data||{},Me=r.traceTemplater(Ie);for(we=0;we<Y.length;we++){if(De=Y[we],be=Me.newTrace(De),be.uid=j._traceUids[we],d.supplyTraceDefaults(De,be,ye,j,we),be.index=we,be._input=De,be._expandedIndex=ce,be.transforms&&be.transforms.length)for(var Fe=De.visible!==!1&&be.visible===!1,Ee=_(be,$,oe,j),He=0;He<Ee.length;He++){var rt=Ee[He],ot={_template:be._template,type:be.type,uid:be.uid+He};Fe&&rt.visible===!1&&delete rt.visible,d.supplyTraceDefaults(rt,ot,ce,j,we),c(ot,rt),ot.index=we,ot._input=De,ot._fullInput=be,ot._expandedIndex=ce,ot._expandedInput=rt,ke(ot)}else be._fullInput=be,be._expandedInput=be,ke(be);v.traceIs(be,"carpetAxis")&&(Be[be.carpet]=be),v.traceIs(be,"carpetDependent")&&Ae.push(we)}for(we=0;we<Ae.length;we++)if(be=$[Ae[we]],!!be.visible){var $e=Be[be.carpet];if(be._carpet=$e,!$e||!$e.visible){be.visible=!1;continue}be.xaxis=$e.xaxis,be.yaxis=$e.yaxis}},d.supplyAnimationDefaults=function(Y){Y=Y||{};var $,oe={};function j(X,se){return t.coerce(Y||{},oe,g,X,se)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(Y.frame))for(oe.frame=[],$=0;$<Y.frame.length;$++)oe.frame[$]=d.supplyAnimationFrameDefaults(Y.frame[$]||{});else oe.frame=d.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(oe.transition=[],$=0;$<Y.transition.length;$++)oe.transition[$]=d.supplyAnimationTransitionDefaults(Y.transition[$]||{});else oe.transition=d.supplyAnimationTransitionDefaults(Y.transition||{});return oe},d.supplyAnimationFrameDefaults=function(Y){var $={};function oe(j,X){return t.coerce(Y||{},$,g.frame,j,X)}return oe("duration"),oe("redraw"),$},d.supplyAnimationTransitionDefaults=function(Y){var $={};function oe(j,X){return t.coerce(Y||{},$,g.transition,j,X)}return oe("duration"),oe("easing"),$},d.supplyFrameDefaults=function(Y){var $={};function oe(j,X){return t.coerce(Y,$,h,j,X)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),$},d.supplyTraceDefaults=function(Y,$,oe,j,X){var se=j.colorway||a.defaults,q=se[oe%se.length],ce;function ye(He,rt){return t.coerce(Y,$,d.attributes,He,rt)}var we=ye("visible");ye("type"),ye("name",j._traceWord+" "+X),ye("uirevision",j.uirevision);var be=d.getModule($);if($._module=be,be){var De=be.basePlotModule,ke=De.attr,Be=De.attributes;if(ke&&Be){var Ae=j._subplots,Ie="";if(we||De.name!=="gl2d"){if(Array.isArray(ke))for(ce=0;ce<ke.length;ce++){var Me=ke[ce],Fe=t.coerce(Y,$,Be,Me);Ae[Me]&&t.pushUnique(Ae[Me],Fe),Ie+=Fe}else Ie=t.coerce(Y,$,Be,ke);Ae[De.name]&&t.pushUnique(Ae[De.name],Ie)}}}if(we){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs($,"showLegend")?(t.coerce(Y,$,be.attributes.showlegend?be.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),$._dfltShowLegend=!0):$._dfltShowLegend=!1,be&&be.supplyDefaults(Y,$,q,j),v.traceIs($,"noOpacity")||ye("opacity"),v.traceIs($,"notLegendIsolatable")&&($.visible=!!$.visible),v.traceIs($,"noHover")||($.hovertemplate||t.coerceHoverinfo(Y,$,j),$.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,$,q,j)),be&&be.selectPoints){var Ee=ye("selectedpoints");t.isTypedArray(Ee)&&($.selectedpoints=Array.from(Ee))}d.supplyTransformDefaults(Y,$,j)}return $};function N(Y){var $=Y.transforms;if(Array.isArray($)&&$.length)for(var oe=0;oe<$.length;oe++){var j=$[oe],X=j._module||x[j.type];if(X&&X.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(Y,$,oe){if($._length||N(Y)){var j=oe._globalTransforms||[],X=oe._transformModules||[];if(!(!Array.isArray(Y.transforms)&&j.length===0))for(var se=Y.transforms||[],q=j.concat(se),ce=$.transforms=[],ye=0;ye<q.length;ye++){var we=q[ye],be=we.type,De=x[be],ke,Be=!(we._module&&we._module===De),Ae=De&&typeof De.transform=="function";De||t.warn("Unrecognized transform type "+be+"."),De&&De.supplyDefaults&&(Be||Ae)?(ke=De.supplyDefaults(we,$,oe,Y),ke.type=be,ke._module=De,t.pushUnique(X,De)):ke=t.extendFlat({},we),ce.push(ke)}}};function _(Y,$,oe,j){for(var X=Y.transforms,se=[Y],q=0;q<X.length;q++){var ce=X[q],ye=x[ce.type];ye&&ye.transform&&(se=ye.transform(se,{transform:ce,fullTrace:Y,fullData:$,layout:oe,fullLayout:j,transformIndex:q}))}return se}d.supplyLayoutGlobalDefaults=function(Y,$,oe){function j(De,ke){return t.coerce(Y,$,d.layoutAttributes,De,ke)}var X=Y.template;t.isPlainObject(X)&&($.template=X,$._template=X.layout,$._dataTemplate=X.data),j("autotypenumbers");var se=t.coerceFont(j,"font"),q=se.size;t.coerceFont(j,"title.font",se,{overrideDflt:{size:Math.round(q*1.4)}}),j("title.text",$._dfltTitle.plot),j("title.xref");var ce=j("title.yref");j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l");var ye=j("title.automargin");j("title.x"),j("title.xanchor"),j("title.y"),j("title.yanchor"),ye&&(ce==="paper"&&($.title.y!==0&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y===0?"top":"bottom")),ce==="container"&&($.title.y==="auto"&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y<.5?"bottom":"top")));var we=j("uniformtext.mode");we&&j("uniformtext.minsize"),j("autosize",!(Y.width&&Y.height)),j("width"),j("height"),j("minreducedwidth"),j("minreducedheight"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),Y.width&&Y.height&&d.sanitizeMargins($),v.getComponentMethod("grid","sizeDefaults")(Y,$),j("paper_bgcolor"),j("separators",oe.decimal+oe.thousands),j("hidesources"),j("colorway"),j("datarevision");var be=j("uirevision");j("editrevision",be),j("selectionrevision",be),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,$),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,$,j),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,$,j),j("meta"),t.isPlainObject(Y.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,$,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,$,j),t.coerce(Y,$,u,"scattermode")};function O(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}d.plotAutoSize=function($,oe,j){var X=$._context||{},se=X.frameMargins,q,ce,ye=t.isPlotDiv($);if(ye&&$.emit("plotly_autosize"),X.fillFrame)q=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var we=ye?window.getComputedStyle($):{};if(q=O(we.width)||O(we.maxWidth)||j.width,ce=O(we.height)||O(we.maxHeight)||j.height,L(se)&&se>0){var be=1-2*se;q=Math.round(be*q),ce=Math.round(be*ce)}}var De=d.layoutAttributes.width.min,ke=d.layoutAttributes.height.min;q<De&&(q=De),ce<ke&&(ce=ke);var Be=!oe.width&&Math.abs(j.width-q)>1,Ae=!oe.height&&Math.abs(j.height-ce)>1;(Ae||Be)&&(Be&&(j.width=q),Ae&&(j.height=ce)),$._initialAutoSize||($._initialAutoSize={width:q,height:ce}),d.sanitizeMargins(j)},d.supplyLayoutModuleDefaults=function(Y,$,oe,j){var X=v.componentsRegistry,se=$._basePlotModules,q,ce,ye,we=v.subplotsRegistry.cartesian;for(q in X)ye=X[q],ye.includeBasePlot&&ye.includeBasePlot(Y,$);se.length||se.push(we),$._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,$),we.finalizeSubplots(Y,$));for(var be in $._subplots)$._subplots[be].sort(t.subplotSort);for(ce=0;ce<se.length;ce++)ye=se[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,$,oe);var De=$._modules;for(ce=0;ce<De.length;ce++)ye=De[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,$,oe);var ke=$._transformModules;for(ce=0;ce<ke.length;ce++)ye=ke[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,$,oe,j);for(q in X)ye=X[q],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(Y,$,oe)},d.purge=function(Y){var $=Y._fullLayout||{};$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.remove(),$._glcanvas=null),$._modeBar&&$._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},d.style=function(Y){var $=Y._fullLayout._visibleModules,oe=[],j;for(j=0;j<$.length;j++){var X=$[j];X.style&&t.pushUnique(oe,X.style)}for(j=0;j<oe.length;j++)oe[j](Y)},d.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var $=Y.width,oe=Y.height,j=Y.margin,X=$-(j.l+j.r),se=oe-(j.t+j.b),q;X<0&&(q=($-1)/(j.l+j.r),j.l=Math.floor(q*j.l),j.r=Math.floor(q*j.r)),se<0&&(q=(oe-1)/(j.t+j.b),j.t=Math.floor(q*j.t),j.b=Math.floor(q*j.b))}},d.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(Y,$){Y._fullLayout._pushmarginIds[$]=1};function B(Y){var $=Y.margin;if(!Y._size){var oe=Y._size={l:Math.round($.l),r:Math.round($.r),t:Math.round($.t),b:Math.round($.b),p:Math.round($.pad)};oe.w=Math.round(Y.width)-oe.l-oe.r,oe.h=Math.round(Y.height)-oe.t-oe.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var z=2,U=2;d.autoMargin=function(Y,$,oe){var j=Y._fullLayout,X=j.width,se=j.height,q=j.margin,ce=j.minreducedwidth,ye=j.minreducedheight,we=t.constrain(X-q.l-q.r,z,ce),be=t.constrain(se-q.t-q.b,U,ye),De=Math.max(0,X-we),ke=Math.max(0,se-be),Be=j._pushmargin,Ae=j._pushmarginIds;if(q.autoexpand!==!1){if(!oe)delete Be[$],delete Ae[$];else{var Ie=oe.pad;if(Ie===void 0&&(Ie=Math.min(12,q.l,q.r,q.t,q.b)),De){var Me=(oe.l+oe.r)/De;Me>1&&(oe.l/=Me,oe.r/=Me)}if(ke){var Fe=(oe.t+oe.b)/ke;Fe>1&&(oe.t/=Fe,oe.b/=Fe)}var Ee=oe.xl!==void 0?oe.xl:oe.x,He=oe.xr!==void 0?oe.xr:oe.x,rt=oe.yt!==void 0?oe.yt:oe.y,ot=oe.yb!==void 0?oe.yb:oe.y;Be[$]={l:{val:Ee,size:oe.l+Ie},r:{val:He,size:oe.r+Ie},b:{val:ot,size:oe.b+Ie},t:{val:rt,size:oe.t+Ie}},Ae[$]=1}if(!j._replotting)return d.doAutoMargin(Y)}};function Z(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var $=f.list(Y,"",!0);for(var oe in $)if($[oe].autoshift||$[oe].shift)return!0;return!1}d.doAutoMargin=function(Y){var $=Y._fullLayout,oe=$.width,j=$.height;$._size||($._size={}),B($);var X=$._size,se=$.margin,q={t:0,b:0,l:0,r:0},ce=t.extendFlat({},X),ye=se.l,we=se.r,be=se.t,De=se.b,ke=$._pushmargin,Be=$._pushmarginIds,Ae=$.minreducedwidth,Ie=$.minreducedheight;if(se.autoexpand!==!1){for(var Me in ke)Be[Me]||delete ke[Me];var Fe=Y._fullLayout._reservedMargin;for(var Ee in Fe)for(var He in Fe[Ee]){var rt=Fe[Ee][He];q[He]=Math.max(q[He],rt)}ke.base={l:{val:0,size:ye},r:{val:1,size:we},t:{val:1,size:be},b:{val:0,size:De}};for(var ot in q){var $e=0;for(var qe in ke)qe!=="base"&&L(ke[qe][ot].size)&&($e=ke[qe][ot].size>$e?ke[qe][ot].size:$e);var ht=Math.max(0,se[ot]-$e);q[ot]=Math.max(0,q[ot]-ht)}for(var vt in ke){var pt=ke[vt].l||{},wt=ke[vt].b||{},Mt=pt.val,nt=pt.size,_e=wt.val,Ge=wt.size,je=oe-q.r-q.l,We=j-q.t-q.b;for(var Pe in ke){if(L(nt)&&ke[Pe].r){var Re=ke[Pe].r.val,Xe=ke[Pe].r.size;if(Re>Mt){var Le=(nt*Re+(Xe-je)*Mt)/(Re-Mt),ve=(Xe*(1-Mt)+(nt-je)*(1-Re))/(Re-Mt);Le+ve>ye+we&&(ye=Le,we=ve)}}if(L(Ge)&&ke[Pe].t){var xe=ke[Pe].t.val,Ne=ke[Pe].t.size;if(xe>_e){var et=(Ge*xe+(Ne-We)*_e)/(xe-_e),st=(Ne*(1-_e)+(Ge-We)*(1-xe))/(xe-_e);et+st>De+be&&(De=et,be=st)}}}}}var lt=t.constrain(oe-se.l-se.r,z,Ae),Gt=t.constrain(j-se.t-se.b,U,Ie),jt=Math.max(0,oe-lt),Tt=Math.max(0,j-Gt);if(jt){var Dt=(ye+we)/jt;Dt>1&&(ye/=Dt,we/=Dt)}if(Tt){var Xt=(De+be)/Tt;Xt>1&&(De/=Xt,be/=Xt)}if(X.l=Math.round(ye)+q.l,X.r=Math.round(we)+q.r,X.t=Math.round(be)+q.t,X.b=Math.round(De)+q.b,X.p=Math.round(se.pad),X.w=Math.round(oe)-X.l-X.r,X.h=Math.round(j)-X.t-X.b,!$._replotting&&(d.didMarginChange(ce,X)||Z(Y))){"_redrawFromAutoMarginCount"in $?$._redrawFromAutoMarginCount++:$._redrawFromAutoMarginCount=1;var gr=3*(1+Object.keys(Be).length);if($._redrawFromAutoMarginCount<gr)return v.call("_doPlot",Y);$._size=ce,t.warn("Too many auto-margin redraws.")}J(Y)};function J(Y){var $=f.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var j=0;j<$.length;j++){var X=$[j][oe];X&&X()}})}var re=["l","r","t","b","p","w","h"];d.didMarginChange=function(Y,$){for(var oe=0;oe<re.length;oe++){var j=re[oe],X=Y[j],se=$[j];if(!L(X)||Math.abs(se-X)>1)return!0}return!1},d.graphJson=function(Y,$,oe,j,X,se){(X&&$&&!Y._fullData||X&&!$&&!Y._fullLayout)&&d.supplyDefaults(Y);var q=X?Y._fullData:Y.data,ce=X?Y._fullLayout:Y.layout,ye=(Y._transitionData||{})._frames;function we(ke,Be){if(typeof ke=="function")return Be?"_function_":null;if(t.isPlainObject(ke)){var Ae={},Ie;return Object.keys(ke).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof ke[He]=="function"){Be&&(Ae[He]="_function");return}if(oe==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(oe==="keepstream"){if(Ie=ke[He+"src"],typeof Ie=="string"&&Ie.indexOf(":")>0&&!t.isPlainObject(ke.stream))return}else if(oe!=="keepall"&&(Ie=ke[He+"src"],typeof Ie=="string"&&Ie.indexOf(":")>0))return;Ae[He]=we(ke[He],Be)}}),Ae}var Me=Array.isArray(ke),Fe=t.isTypedArray(ke);if((Me||Fe)&&ke.dtype&&ke.shape){var Ee=ke.bdata;return we({dtype:ke.dtype,shape:ke.shape,bdata:t.isArrayBuffer(Ee)?S.encode(Ee):Ee},Be)}return Me?ke.map(function(He){return we(He,Be)}):Fe?t.simpleMap(ke,t.identity):t.isJSDate(ke)?t.ms2DateTimeLocal(+ke):ke}var be={data:(q||[]).map(function(ke){var Be=we(ke);return $&&delete Be.fit,Be})};if(!$&&(be.layout=we(ce),X)){var De=ce._size;be.layout.computed={margin:{b:De.b,l:De.l,r:De.r,t:De.t}}}return ye&&(be.frames=we(ye)),se&&(be.config=we(Y._context,!0)),j==="object"?be:JSON.stringify(be)},d.modifyFrames=function(Y,$){var oe,j,X,se=Y._transitionData._frames,q=Y._transitionData._frameHash;for(oe=0;oe<$.length;oe++)switch(j=$[oe],j.type){case"replace":X=j.value;var ce=(se[j.index]||{}).name,ye=X.name;se[j.index]=q[ye]=X,ye!==ce&&(delete q[ce],q[ye]=X);break;case"insert":X=j.value,q[X.name]=X,se.splice(j.index,0,X);break;case"delete":X=se[j.index],delete q[X.name],se.splice(j.index,1);break}return Promise.resolve()},d.computeFrame=function(Y,$){var oe=Y._transitionData._frameHash,j,X,se,q;if(!$)throw new Error("computeFrame must be given a string frame name");var ce=oe[$.toString()];if(!ce)return!1;for(var ye=[ce],we=[ce.name];ce.baseframe&&(ce=oe[ce.baseframe.toString()])&&we.indexOf(ce.name)===-1;)ye.push(ce),we.push(ce.name);for(var be={};ce=ye.pop();)if(ce.layout&&(be.layout=d.extendLayout(be.layout,ce.layout)),ce.data){if(be.data||(be.data=[]),X=ce.traces,!X)for(X=[],j=0;j<ce.data.length;j++)X[j]=j;for(be.traces||(be.traces=[]),j=0;j<ce.data.length;j++)se=X[j],se!=null&&(q=be.traces.indexOf(se),q===-1&&(q=be.data.length,be.traces[q]=se),be.data[q]=d.extendTrace(be.data[q],ce.data[j]))}return be},d.recomputeFrameHash=function(Y){for(var $=Y._transitionData._frameHash={},oe=Y._transitionData._frames,j=0;j<oe.length;j++){var X=oe[j];X&&X.name&&($[X.name]=X)}},d.extendObjectWithContainers=function(Y,$,oe){var j,X,se,q,ce,ye,we,be,De=t.extendDeepNoArrays({},$||{}),ke=t.expandObjectPaths(De),Be={};if(oe&&oe.length)for(se=0;se<oe.length;se++)j=t.nestedProperty(ke,oe[se]),X=j.get(),X===void 0?t.nestedProperty(Be,oe[se]).set(null):(j.set(null),t.nestedProperty(Be,oe[se]).set(X));if(Y=t.extendDeepNoArrays(Y||{},ke),oe&&oe.length){for(se=0;se<oe.length;se++)if(ce=t.nestedProperty(Be,oe[se]),we=ce.get(),!!we){for(ye=t.nestedProperty(Y,oe[se]),be=ye.get(),Array.isArray(be)||(be=[],ye.set(be)),q=0;q<we.length;q++){var Ae=we[q];Ae===null?be[q]=null:be[q]=d.extendObjectWithContainers(be[q],Ae)}ye.set(be)}}return Y},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(Y,$){return d.extendObjectWithContainers(Y,$,d.dataArrayContainers)},d.extendLayout=function(Y,$){return d.extendObjectWithContainers(Y,$,d.layoutArrayContainers)},d.transition=function(Y,$,oe,j,X,se){var q={redraw:X.redraw},ce={},ye=[];return q.prepareFn=function(){for(var we=Array.isArray($)?$.length:0,be=j.slice(0,we),De=0;De<be.length;De++){var ke=be[De],Be=Y._fullData[ke],Ae=Be._module;if(Ae){if(Ae.animatable){var Ie=Ae.basePlotModule.name;ce[Ie]||(ce[Ie]=[]),ce[Ie].push(ke)}Y.data[be[De]]=d.extendTrace(Y.data[be[De]],$[De])}}var Me=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),Fe=/^[xy]axis[0-9]*$/;for(var Ee in Me)Fe.test(Ee)&&delete Me[Ee].range;d.extendLayout(Y.layout,Me),delete Y.calcdata,d.supplyDefaults(Y),d.doCalcdata(Y);var He=t.expandObjectPaths(oe);if(He){var rt=Y._fullLayout._plots;for(var ot in rt){var $e=rt[ot],qe=$e.xaxis,ht=$e.yaxis,vt=qe.range.slice(),pt=ht.range.slice(),wt=null,Mt=null,nt=null,_e=null;Array.isArray(He[qe._name+".range"])?wt=He[qe._name+".range"].slice():Array.isArray((He[qe._name]||{}).range)&&(wt=He[qe._name].range.slice()),Array.isArray(He[ht._name+".range"])?Mt=He[ht._name+".range"].slice():Array.isArray((He[ht._name]||{}).range)&&(Mt=He[ht._name].range.slice()),vt&&wt&&(qe.r2l(vt[0])!==qe.r2l(wt[0])||qe.r2l(vt[1])!==qe.r2l(wt[1]))&&(nt={xr0:vt,xr1:wt}),pt&&Mt&&(ht.r2l(pt[0])!==ht.r2l(Mt[0])||ht.r2l(pt[1])!==ht.r2l(Mt[1]))&&(_e={yr0:pt,yr1:Mt}),(nt||_e)&&ye.push(t.extendFlat({plotinfo:$e},nt,_e))}}return Promise.resolve()},q.runFn=function(we){var be,De=Y._fullLayout._basePlotModules,ke=ye.length,Be;if(oe)for(Be=0;Be<De.length;Be++)De[Be].transitionAxes&&De[Be].transitionAxes(Y,ye,se,we);ke?(be=t.extendFlat({},se),be.duration=0,delete ce.cartesian):be=se;for(var Ae in ce){var Ie=ce[Ae],Me=Y._fullData[Ie[0]]._module;Me.basePlotModule.plot(Y,Ie,be,we)}},ne(Y,se,q)},d.transitionFromReact=function(Y,$,oe,j){var X=Y._fullLayout,se=X.transition,q={},ce=[];return q.prepareFn=function(){var ye=X._plots;q.redraw=!1,$.anim==="some"&&(q.redraw=!0),oe.anim==="some"&&(q.redraw=!0);for(var we in ye){var be=ye[we],De=be.xaxis,ke=be.yaxis,Be=j[De._name].range.slice(),Ae=j[ke._name].range.slice(),Ie=De.range.slice(),Me=ke.range.slice();De.setScale(),ke.setScale();var Fe=null,Ee=null;(De.r2l(Be[0])!==De.r2l(Ie[0])||De.r2l(Be[1])!==De.r2l(Ie[1]))&&(Fe={xr0:Be,xr1:Ie}),(ke.r2l(Ae[0])!==ke.r2l(Me[0])||ke.r2l(Ae[1])!==ke.r2l(Me[1]))&&(Ee={yr0:Ae,yr1:Me}),(Fe||Ee)&&ce.push(t.extendFlat({plotinfo:be},Fe,Ee))}return Promise.resolve()},q.runFn=function(ye){for(var we=Y._fullData,be=Y._fullLayout,De=be._basePlotModules,ke,Be,Ae,Ie=[],Me=0;Me<we.length;Me++)Ie.push(Me);function Fe(){if(Y._fullLayout)for(var He=0;He<De.length;He++)De[He].transitionAxes&&De[He].transitionAxes(Y,ce,ke,ye)}function Ee(){if(Y._fullLayout)for(var He=0;He<De.length;He++)De[He].plot(Y,Ae,Be,ye)}ce.length&&$.anim?se.ordering==="traces first"?(ke=t.extendFlat({},se,{duration:0}),Ae=Ie,Be=se,setTimeout(Fe,se.duration),Ee()):(ke=se,Ae=null,Be=t.extendFlat({},se,{duration:0}),setTimeout(Ee,ke.duration),Fe()):ce.length?(ke=se,Fe()):$.anim&&(Ae=Ie,Be=se,Ee())},ne(Y,se,q)};function ne(Y,$,oe){var j=!1;function X(De){var ke=Promise.resolve();if(!De)return ke;for(;De.length;)ke=ke.then(De.shift());return ke}function se(De){if(De)for(;De.length;)De.shift()}function q(){return Y.emit("plotly_transitioning",[]),new Promise(function(De){Y._transitioning=!0,$.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){j=!0}),oe.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var ke=0,Be=0;function Ae(){return ke++,function(){Be++,!j&&Be===ke&&ce(De)}}oe.runFn(Ae),setTimeout(Ae())})}function ce(De){if(Y._transitionData)return se(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(De)}function ye(){if(Y._transitionData)return Y._transitioning=!1,X(Y._transitionData._interruptCallbacks)}var we=[d.previousPromises,ye,oe.prepareFn,d.rehover,d.reselect,q],be=t.syncOrAsync(we,Y);return(!be||!be.then)&&(be=Promise.resolve()),be.then(function(){return Y})}d.doCalcdata=function(Y,$){var oe=f.list(Y),j=Y._fullData,X=Y._fullLayout,se,q,ce,ye,we=new Array(j.length),be=(Y.calcdata||[]).slice();for(Y.calcdata=we,X._numBoxes=0,X._numViolins=0,X._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,X._piecolormap={},X._sunburstcolormap={},X._treemapcolormap={},X._iciclecolormap={},X._funnelareacolormap={},ce=0;ce<j.length;ce++)if(Array.isArray($)&&$.indexOf(ce)===-1){we[ce]=be[ce];continue}for(ce=0;ce<j.length;ce++)se=j[ce],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var De=X._subplots.polar||[];for(ce=0;ce<De.length;ce++)oe.push(X[De[ce]].radialaxis,X[De[ce]].angularaxis);for(var ke in X._colorAxes){var Be=X[ke];Be.cauto!==!1&&(delete Be.cmin,delete Be.cmax)}var Ae=!1;function Ie(Ee){if(se=j[Ee],q=se._module,se.visible===!0&&se.transforms){if(q&&q.calc){var He=q.calc(Y,se);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(ye=0;ye<se.transforms.length;ye++){var rt=se.transforms[ye];q=x[rt.type],q&&q.calcTransform&&(se._hasCalcTransform=!0,Ae=!0,q.calcTransform(Y,se,rt))}}}function Me(Ee,He){if(se=j[Ee],q=se._module,!!q.isContainer===He){var rt=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var ot=se.transforms||[];for(ye=ot.length-1;ye>=0;ye--)if(ot[ye].enabled){se._indexToPoints=ot[ye]._indexToPoints;break}q&&q.calc&&(rt=q.calc(Y,se))}(!Array.isArray(rt)||!rt[0])&&(rt=[{x:n,y:n}]),rt[0].t||(rt[0].t={}),rt[0].trace=se,we[Ee]=rt}}for(Q(oe,j,X),ce=0;ce<j.length;ce++)Me(ce,!0);for(ce=0;ce<j.length;ce++)Ie(ce);for(Ae&&Q(oe,j,X),ce=0;ce<j.length;ce++)Me(ce,!0);for(ce=0;ce<j.length;ce++)Me(ce,!1);ie(Y);var Fe=te(oe,Y);if(Fe.length){for(X._numBoxes=0,X._numViolins=0,ce=0;ce<Fe.length;ce++)Me(Fe[ce],!0);for(ce=0;ce<Fe.length;ce++)Me(Fe[ce],!1);ie(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function te(Y,$){var oe=[],j,X,se,q,ce;function ye(Pe,Re,Xe){var Le=Re._id.charAt(0);if(Pe==="histogram2dcontour"){var ve=Re._counterAxes[0],xe=f.getFromId($,ve),Ne=Le==="x"||ve==="x"&&xe.type==="category",et=Le==="y"||ve==="y"&&xe.type==="category";return function(st,lt){return st===0||lt===0||Ne&&st===Xe[lt].length-1||et&&lt===Xe.length-1?-1:(Le==="y"?lt:st)-1}}else return function(st,lt){return Le==="y"?lt:st}}var we={min:function(Pe){return t.aggNums(Math.min,null,Pe)},max:function(Pe){return t.aggNums(Math.max,null,Pe)},sum:function(Pe){return t.aggNums(function(Re,Xe){return Re+Xe},null,Pe)},total:function(Pe){return t.aggNums(function(Re,Xe){return Re+Xe},null,Pe)},mean:function(Pe){return t.mean(Pe)},median:function(Pe){return t.median(Pe)}};function be(Pe,Re){return Pe[1]-Re[1]}function De(Pe,Re){return Re[1]-Pe[1]}for(j=0;j<Y.length;j++){var ke=Y[j];if(ke.type==="category"){var Be=ke.categoryorder.match(ue);if(Be){var Ae=Be[1],Ie=Be[2],Me=ke._id.charAt(0),Fe=Me==="x",Ee=[];for(X=0;X<ke._categories.length;X++)Ee.push([ke._categories[X],[]]);for(X=0;X<ke._traceIndices.length;X++){var He=ke._traceIndices[X],rt=$._fullData[He];if(rt.visible===!0){var ot=rt.type;v.traceIs(rt,"histogram")&&(delete rt._xautoBinFinished,delete rt._yautoBinFinished);var $e=ot==="splom",qe=ot==="scattergl",ht=$.calcdata[He];for(se=0;se<ht.length;se++){var vt=ht[se],pt,wt;if($e){var Mt=rt._axesDim[ke._id];if(!Fe){var nt=rt._diag[Mt][0];nt&&(ke=$._fullLayout[f.id2name(nt)])}var _e=vt.trace.dimensions[Mt].values;for(q=0;q<_e.length;q++)for(pt=ke._categoriesMap[_e[q]],ce=0;ce<vt.trace.dimensions.length;ce++)if(ce!==Mt){var Ge=vt.trace.dimensions[ce];Ee[pt][1].push(Ge.values[q])}}else if(qe){for(q=0;q<vt.t.x.length;q++)Fe?(pt=vt.t.x[q],wt=vt.t.y[q]):(pt=vt.t.y[q],wt=vt.t.x[q]),Ee[pt][1].push(wt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){wt=vt.z;var je=ye(rt.type,ke,wt);for(q=0;q<wt.length;q++)for(ce=0;ce<wt[q].length;ce++)pt=je(ce,q),pt+1&&Ee[pt][1].push(wt[q][ce])}else for(pt=vt.p,pt===void 0&&(pt=vt[Me]),wt=vt.s,wt===void 0&&(wt=vt.v),wt===void 0&&(wt=Fe?vt.y:vt.x),Array.isArray(wt)||(wt===void 0?wt=[]:wt=[wt]),q=0;q<wt.length;q++)Ee[pt][1].push(wt[q])}}}ke._categoriesValue=Ee;var We=[];for(X=0;X<Ee.length;X++)We.push([Ee[X][0],we[Ae](Ee[X][1])]);We.sort(Ie==="descending"?De:be),ke._categoriesAggregatedValue=We,ke._initialCategories=We.map(function(Pe){return Pe[0]}),oe=oe.concat(ke.sortByInitialCategories())}}}return oe}function Q(Y,$,oe){var j={};function X(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory($),j[ye._id]=1}t.simpleMap(Y,X);for(var se=oe._axisMatchGroups||[],q=0;q<se.length;q++)for(var ce in se[q])j[ce]||X(oe[f.id2name(ce)])}function ie(Y){var $=Y._fullLayout,oe=$._visibleModules,j={},X,se,q;for(se=0;se<oe.length;se++){var ce=oe[se],ye=ce.crossTraceCalc;if(ye){var we=ce.basePlotModule.name;j[we]?t.pushUnique(j[we],ye):j[we]=[ye]}}for(q in j){var be=j[q],De=$._subplots[q];if(Array.isArray(De))for(X=0;X<De.length;X++){var ke=De[X],Be=q==="cartesian"?$._plots[ke]:$[ke];for(se=0;se<be.length;se++)be[se](Y,Be,ke)}else for(se=0;se<be.length;se++)be[se](Y)}}d.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},d.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},d.reselect=function(Y){var $=Y._fullLayout,oe=(Y.layout||{}).selections,j=$._previousSelections;$._previousSelections=oe;var X=$._reselect||JSON.stringify(oe)!==JSON.stringify(j);v.getComponentMethod("selections","reselect")(Y,X)},d.generalUpdatePerTraceModule=function(Y,$,oe,j){var X=$.traceHash,se={},q;for(q=0;q<oe.length;q++){var ce=oe[q],ye=ce[0].trace;ye.visible&&(se[ye.type]=se[ye.type]||[],se[ye.type].push(ce))}for(var we in X)if(!se[we]){var be=X[we][0],De=be[0].trace;De.visible=!1,se[we]=[be]}for(var ke in se){var Be=se[ke],Ae=Be[0][0].trace._module;Ae.plot(Y,$,t.filterVisible(Be),j)}$.traceHash=se},d.plotBasePlot=function(Y,$,oe,j,X){var se=v.getModule(Y),q=T($.calcdata,se)[0];se.plot($,q,j,X)},d.cleanBasePlot=function(Y,$,oe,j,X){var se=X._has&&X._has(Y),q=oe._has&&oe._has(Y);se&&!q&&X["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,V,e){var m=e(3400),P=e(92065).tester,i=m.findIndexOfMin,L=m.isAngleInsideSector,S=m.angleDelta,v=m.angleDist;function p(o,d,x,w,C){if(!L(d,w))return!1;var y,M;x[0]<x[1]?(y=x[0],M=x[1]):(y=x[1],M=x[0]);var A=P(f(y,w[0],w[1],C)),s=P(f(M,w[0],w[1],C)),E=[o*Math.cos(d),o*Math.sin(d)];return s.contains(E)&&!A.contains(E)}function r(o,d,x,w){var C,y,M=w[0],A=w[1],s=g(Math.sin(d)-Math.sin(o)),E=g(Math.cos(d)-Math.cos(o)),b=Math.tan(x),F=g(1/b),I=s/E,N=A-I*M;return F?s&&E?(C=N/(b-I),y=b*C):E?(C=A*F,y=A):(C=M,y=M*b):s&&E?(C=0,y=N):E?(C=0,y=A):C=y=NaN,[C,y]}function t(o,d,x,w){var C=-d*x,y=d*d+1,M=2*(d*C-x),A=C*C+x*x-o*o,s=Math.sqrt(M*M-4*y*A),E=(-M+s)/(2*y),b=(-M-s)/(2*y);return[[E,d*E+C+w],[b,d*b+C+w]]}function a(o,d){var x=d.length,w=new Array(x+1),C;for(C=0;C<x;C++){var y=d[C];w[C]=[o*Math.cos(y),o*Math.sin(y)]}return w[C]=w[0].slice(),w}function n(o,d,x,w){var C=w.length,y=[],M,A;function s(z){return[o*Math.cos(z),o*Math.sin(z)]}function E(z,U,Z){return r(z,U,Z,s(z))}function b(z){return m.mod(z,C)}function F(z){return L(z,[d,x])}var I=i(w,function(z){return F(z)?v(z,d):1/0}),N=E(w[I],w[b(I-1)],d);for(y.push(N),M=I,A=0;A<C;M++,A++){var _=w[b(M)];if(!F(_))break;y.push(s(_))}var O=i(w,function(z){return F(z)?v(z,x):1/0}),B=E(w[O],w[b(O+1)],x);return y.push(B),y.push([0,0]),y.push(y[0].slice()),y}function f(o,d,x,w){return m.isFullCircle([d,x])?a(o,w):n(o,d,x,w)}function l(o,d,x,w){for(var C=1/0,y=1/0,M=f(o,d,x,w),A=0;A<M.length;A++){var s=M[A];C=Math.min(C,s[0]),y=Math.min(y,-s[1])}return[C,y]}function u(o,d){var x=function(y){var M=S(y,o);return M>0?M:1/0},w=i(d,x),C=m.mod(w+1,d.length);return[d[w],d[C]]}function g(o){return Math.abs(o)>1e-10?o:0}function h(o,d,x){d=d||0,x=x||0;for(var w=o.length,C=new Array(w),y=0;y<w;y++){var M=o[y];C[y]=[d+M[0],x-M[1]]}return C}function T(o,d,x,w,C,y){var M=f(o,d,x,w);return"M"+h(M,C,y).join("L")}function c(o,d,x,w,C,y,M){var A,s;o<d?(A=o,s=d):(A=d,s=o);var E=h(f(A,x,w,C),y,M),b=h(f(s,x,w,C),y,M);return"M"+b.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:l,findEnclosingVertexAngles:u,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(G,V,e){var m=e(84888).KY,P=e(3400).counterRegex,i=e(62400),L=e(39360),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,l=n.calcdata,u=f._subplots[v],g=0;g<u.length;g++){var h=u[g],T=m(l,v,h),c=f[h]._subplot;c||(c=i(n,h),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,l,u){for(var g=u._subplots[v]||[],h=u._has&&u._has("gl"),T=f._has&&f._has("gl"),c=h&&!T,o=0;o<g.length;o++){var d=g[o],x=u[d]._subplot;if(!f[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var w in x.clipPaths)x.clipPaths[w].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:a,toSVG:e(57952).toSVG}},95300:function(G,V,e){var m=e(22548),P=e(94724),i=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),G.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:m.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,V,e){var m=e(3400),P=e(76308),i=e(31780),L=e(168),S=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),a=e(22416),n=e(42136),f=e(76808),l=e(52976),u=e(95300),g=e(57696),h=e(39360),T=h.axisNames;function c(d,x,w,C){var y=w("bgcolor");C.bgColor=P.combine(y,C.paper_bgcolor);var M=w("sector");w("hole");var A=S(C.fullData,h.name,C.id),s=C.layoutOut,E;function b(ce,ye){return w(E+"."+ce,ye)}for(var F=0;F<T.length;F++){E=T[F],m.isPlainObject(d[E])||(d[E]={});var I=d[E],N=i.newContainer(x,E);N._id=N._name=E,N._attr=C.id+"."+E,N._traceIndices=A.map(function(ce){return ce._expandedIndex});var _=h.axisName2dataArray[E],O=o(I,N,b,A,_,C);a(I,N,b,{axData:A,dataAttr:_});var B=b("visible");switch(g(N,x,s),b("uirevision",x.uirevision),N._m=1,E){case"radialaxis":b("minallowed"),b("maxallowed");var z=b("range"),U=N.getAutorangeDflt(z),Z=b("autorange",U),J;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(Z==="reversed"||Z===!0)||z[0]!==null&&(Z==="min"||Z==="max reversed")||z[1]!==null&&(Z==="max"||Z==="min reversed"))&&(z=void 0,delete N.range,N.autorange=!0,J=!0),J||(U=N.getAutorangeDflt(z),Z=b("autorange",U)),I.autorange=Z,Z&&(f(b,Z,z),(O==="linear"||O==="-")&&b("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){m.log("Polar plots do not support date angular axes yet.");for(var re=0;re<A.length;re++)A[re].visible=!1;O=I.type=N.type="linear"}b(O==="linear"?"thetaunit":"period");var ne=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(I,N,b,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),B){var ue,te,Q,ie,Y,$,oe,j,X,se,q=C.font||{};ue=b("color"),te=ue===I.color?ue:q.color,Q=q.size,ie=q.family,Y=q.weight,$=q.style,oe=q.variant,j=q.textcase,X=q.lineposition,se=q.shadow,v(I,N,b,N.type),r(I,N,b,N.type,{font:{weight:Y,style:$,variant:oe,textcase:j,lineposition:X,shadow:se,color:te,size:Q,family:ie},noAutotickangles:E==="angularaxis"}),p(I,N,b,{outerTicks:!0}),n(I,N,b,{dfltColor:ue,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[E]}),b("layer"),E==="radialaxis"&&(b("side"),b("angle",M[0]),b("title.text"),m.coerceFont(b,"title.font",{weight:Y,style:$,variant:oe,textcase:j,lineposition:X,shadow:se,color:te,size:m.bigFont(Q),family:ie}))}O!=="category"&&b("hoverformat"),N._input=I}x.angularaxis.type==="category"&&w("gridshape")}function o(d,x,w,C,y,M){var A=w("autotypenumbers",M.autotypenumbersDflt),s=w("type");if(s==="-"){for(var E,b=0;b<C.length;b++)if(C[b].visible){E=C[b];break}E&&E[y]&&(x.type=l(E[y],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}G.exports=function(x,w,C){L(x,w,C,{type:h.name,attributes:u,handleDefaults:c,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:C,layoutOut:w})}},62400:function(G,V,e){var m=e(33428),P=e(49760),i=e(24040),L=e(3400),S=L.strRotate,v=L.strTranslate,p=e(76308),r=e(43616),t=e(7316),a=e(54460),n=e(78344),f=e(57696),l=e(19280).doAutoRange,u=e(51184),g=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),w=e(73696),C=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,M=e(39360),A=e(57384),s=e(36416),E=s.smith,b=s.reactanceArc,F=s.resistanceArc,I=s.smithTransform,N=L._,_=L.mod,O=L.deg2rad,B=L.rad2deg;function z(ue,te,Q){this.isSmith=Q||!1,this.id=te,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ie=ue._fullLayout,Y="clip"+ie._uid+te;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=ie._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ie["_"+(Q?"smith":"polar")+"layer"].append("g").attr("class",te),this.getHole=function($){return this.isSmith?0:$.hole},this.getSector=function($){return this.isSmith?[0,360]:$.sector},this.getRadial=function($){return this.isSmith?$.realaxis:$.radialaxis},this.getAngular=function($){return this.isSmith?$.imaginaryaxis:$.angularaxis},Q||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=z.prototype;G.exports=function(te,Q,ie){return new z(te,Q,ie)},U.plot=function(ue,te){for(var Q=this,ie=te[Q.id],Y=!1,$=0;$<ue.length;$++){var oe=ue[$][0].trace;if(oe.cliponaxis===!1){Y=!0;break}}Q._hasClipOnAxisFalse=Y,Q.updateLayers(te,ie),Q.updateLayout(te,ie),t.generalUpdatePerTraceModule(Q.gd,Q,ue,ie),Q.updateFx(te,ie),Q.isSmith&&(delete ie.realaxis.range,delete ie.imaginaryaxis.range)},U.updateLayers=function(ue,te){var Q=this,ie=Q.isSmith,Y=Q.layers,$=Q.getRadial(te),oe=Q.getAngular(te),j=M.layerNames,X=j.indexOf("frontplot"),se=j.slice(0,X),q=oe.layer==="below traces",ce=$.layer==="below traces";q&&se.push("angular-line"),ce&&se.push("radial-line"),q&&se.push("angular-axis"),ce&&se.push("radial-axis"),se.push("frontplot"),q||se.push("angular-line"),ce||se.push("radial-line"),q||se.push("angular-axis"),ce||se.push("radial-axis");var ye=(ie?"smith":"polar")+"sublayer",we=Q.framework.selectAll("."+ye).data(se,String);we.enter().append("g").attr("class",function(be){return ye+" "+be}).each(function(be){var De=Y[be]=m.select(this);switch(be){case"frontplot":ie||De.append("g").classed("barlayer",!0),De.append("g").classed("scatterlayer",!0);break;case"backplot":De.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=De.append("path");break;case"radial-grid":De.style("fill","none");break;case"angular-grid":De.style("fill","none");break;case"radial-line":De.append("line").style("fill","none");break;case"angular-line":De.append("path").style("fill","none");break}}),we.order()},U.updateLayout=function(ue,te){var Q=this,ie=Q.layers,Y=ue._size,$=Q.getRadial(te),oe=Q.getAngular(te),j=te.domain.x,X=te.domain.y;Q.xOffset=Y.l+Y.w*j[0],Q.yOffset=Y.t+Y.h*(1-X[1]);var se=Q.xLength=Y.w*(j[1]-j[0]),q=Q.yLength=Y.h*(X[1]-X[0]),ce=Q.getSector(te);Q.sectorInRad=ce.map(O);var ye=Q.sectorBBox=J(ce),we=ye[2]-ye[0],be=ye[3]-ye[1],De=q/se,ke=Math.abs(be/we),Be,Ae,Ie,Me,Fe;De>ke?(Be=se,Ae=se*ke,Fe=(q-Ae)/Y.h/2,Ie=[j[0],j[1]],Me=[X[0]+Fe,X[1]-Fe]):(Be=q/ke,Ae=q,Fe=(se-Be)/Y.w/2,Ie=[j[0]+Fe,j[1]-Fe],Me=[X[0],X[1]]),Q.xLength2=Be,Q.yLength2=Ae,Q.xDomain2=Ie,Q.yDomain2=Me;var Ee=Q.xOffset2=Y.l+Y.w*Ie[0],He=Q.yOffset2=Y.t+Y.h*(1-Me[1]),rt=Q.radius=Be/we,ot=Q.innerRadius=Q.getHole(te)*rt,$e=Q.cx=Ee-rt*ye[0],qe=Q.cy=He+rt*ye[3],ht=Q.cxx=$e-Ee,vt=Q.cyy=qe-He,pt=$.side,wt;pt==="counterclockwise"?(wt=pt,pt="top"):pt==="clockwise"&&(wt=pt,pt="bottom"),Q.radialAxis=Q.mockAxis(ue,te,$,{_id:"x",side:pt,_trueSide:wt,domain:[ot/Y.w,rt/Y.w]}),Q.angularAxis=Q.mockAxis(ue,te,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),Q.doAutoRange(ue,te),Q.updateAngularAxis(ue,te),Q.updateRadialAxis(ue,te),Q.updateRadialAxisTitle(ue,te),Q.xaxis=Q.mockCartesianAxis(ue,te,{_id:"x",domain:Ie}),Q.yaxis=Q.mockCartesianAxis(ue,te,{_id:"y",domain:Me});var Mt=Q.pathSubplot();Q.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ht,vt)),ie.frontplot.attr("transform",v(Ee,He)).call(r.setClipUrl,Q._hasClipOnAxisFalse?null:Q.clipIds.forTraces,Q.gd),ie.bg.attr("d",Mt).attr("transform",v($e,qe)).call(p.fill,te.bgcolor)},U.mockAxis=function(ue,te,Q,ie){var Y=L.extendFlat({},Q,ie);return f(Y,te,ue),Y},U.mockCartesianAxis=function(ue,te,Q){var ie=this,Y=ie.isSmith,$=Q._id,oe=L.extendFlat({type:"linear"},Q);n(oe,ue);var j={x:[0,2],y:[1,3]};return oe.setRange=function(){var X=ie.sectorBBox,se=j[$],q=ie.radialAxis._rl,ce=(q[1]-q[0])/(1-ie.getHole(te));oe.range=[X[se[0]]*ce,X[se[1]]*ce]},oe.isPtWithinRange=$==="x"&&!Y?function(X){return ie.isPtInside(X)}:function(){return!0},oe.setRange(),oe.setScale(),oe},U.doAutoRange=function(ue,te){var Q=this,ie=Q.gd,Y=Q.radialAxis,$=Q.getRadial(te);l(ie,Y);var oe=Y.range;if($.range=oe.slice(),$._input.range=oe.slice(),Y._rl=[Y.r2l(oe[0],null,"gregorian"),Y.r2l(oe[1],null,"gregorian")],Y.minallowed!==void 0){var j=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],j):Y._rl[0]=Math.max(Y._rl[0],j)}if(Y.maxallowed!==void 0){var X=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],X):Y._rl[0]=Math.min(Y._rl[0],X)}},U.updateRadialAxis=function(ue,te){var Q=this,ie=Q.gd,Y=Q.layers,$=Q.radius,oe=Q.innerRadius,j=Q.cx,X=Q.cy,se=Q.getRadial(te),q=_(Q.getSector(te)[0],360),ce=Q.radialAxis,ye=oe<$,we=Q.isSmith;we||(Q.fillViewInitialKey("radialaxis.angle",se.angle),Q.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&q>90&&q<=270&&(ce.tickangle=180);var be=we?function(rt){var ot=I(Q,E([rt.x,0]));return v(ot[0]-j,ot[1]-X)}:function(rt){return v(ce.l2p(rt.x)+oe,0)},De=we?function(rt){return F(Q,rt.x,-1/0,1/0)}:function(rt){return Q.pathArc(ce.r2p(rt.x)+oe)},ke=Z(se);if(Q.radialTickLayout!==ke&&(Y["radial-axis"].selectAll(".xtick").remove(),Q.radialTickLayout=ke),ye){ce.setScale();var Be=0,Ae=we?(ce.tickvals||[]).filter(function(rt){return rt>=0}).map(function(rt){return a.tickText(ce,rt,!0,!1)}):a.calcTicks(ce),Ie=we?Ae:a.clipEnds(ce,Ae),Me=a.getTickSigns(ce)[2];we&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(Me=-Me),ce.ticks==="top"&&ce.side==="top"&&(Be=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Be=ce.ticklen)),a.drawTicks(ie,ce,{vals:Ae,layer:Y["radial-axis"],path:a.makeTickPath(ce,0,Me),transFn:be,crisp:!1}),a.drawGrid(ie,ce,{vals:Ie,layer:Y["radial-grid"],path:De,transFn:L.noop,crisp:!1}),a.drawLabels(ie,ce,{vals:Ae,layer:Y["radial-axis"],transFn:be,labelFns:a.makeLabelFns(ce,Be)})}var Fe=Q.radialAxisAngle=Q.vangles?B(re(O(se.angle),Q.vangles)):se.angle,Ee=v(j,X),He=Ee+S(-Fe);ne(Y["radial-axis"],ye&&(se.showticklabels||se.ticks),{transform:He}),ne(Y["radial-grid"],ye&&se.showgrid,{transform:we?"":Ee}),ne(Y["radial-line"].select("line"),ye&&se.showline,{x1:we?-$:oe,y1:0,x2:$,y2:0,transform:He}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},U.updateRadialAxisTitle=function(ue,te,Q){if(!this.isSmith){var ie=this,Y=ie.gd,$=ie.radius,oe=ie.cx,j=ie.cy,X=ie.getRadial(te),se=ie.id+"title",q=0;if(X.title){var ce=r.bBox(ie.layers["radial-axis"].node()).height,ye=X.title.font.size,we=X.side;q=we==="top"?ye:we==="counterclockwise"?-(ce+ye*.4):ce+ye*.8}var be=Q!==void 0?Q:ie.radialAxisAngle,De=O(be),ke=Math.cos(De),Be=Math.sin(De),Ae=oe+$/2*ke+q*Be,Ie=j-$/2*Be+q*ke;ie.layers["radial-axis-title"]=T.draw(Y,se,{propContainer:X,propName:ie.id+".radialaxis.title",placeholder:N(Y,"Click to enter radial axis title"),attributes:{x:Ae,y:Ie,"text-anchor":"middle"},transform:{rotate:-be}})}},U.updateAngularAxis=function(ue,te){var Q=this,ie=Q.gd,Y=Q.layers,$=Q.radius,oe=Q.innerRadius,j=Q.cx,X=Q.cy,se=Q.getAngular(te),q=Q.angularAxis,ce=Q.isSmith;ce||(Q.fillViewInitialKey("angularaxis.rotation",se.rotation),q.setGeometry(),q.setScale());var ye=ce?function(ot){var $e=I(Q,E([0,ot.x]));return Math.atan2($e[0]-j,$e[1]-X)-Math.PI/2}:function(ot){return q.t2g(ot.x)};q.type==="linear"&&q.thetaunit==="radians"&&(q.tick0=B(q.tick0),q.dtick=B(q.dtick));var we=function(ot){return v(j+$*Math.cos(ot),X-$*Math.sin(ot))},be=ce?function(ot){var $e=I(Q,E([0,ot.x]));return v($e[0],$e[1])}:function(ot){return we(ye(ot))},De=ce?function(ot){var $e=I(Q,E([0,ot.x])),qe=Math.atan2($e[0]-j,$e[1]-X)-Math.PI/2;return v($e[0],$e[1])+S(-B(qe))}:function(ot){var $e=ye(ot);return we($e)+S(-B($e))},ke=ce?function(ot){return b(Q,ot.x,0,1/0)}:function(ot){var $e=ye(ot),qe=Math.cos($e),ht=Math.sin($e);return"M"+[j+oe*qe,X-oe*ht]+"L"+[j+$*qe,X-$*ht]},Be=a.makeLabelFns(q,0),Ae=Be.labelStandoff,Ie={};Ie.xFn=function(ot){var $e=ye(ot);return Math.cos($e)*Ae},Ie.yFn=function(ot){var $e=ye(ot),qe=Math.sin($e)>0?.2:1;return-Math.sin($e)*(Ae+ot.fontSize*qe)+Math.abs(Math.cos($e))*(ot.fontSize*y)},Ie.anchorFn=function(ot){var $e=ye(ot),qe=Math.cos($e);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Ie.heightFn=function(ot,$e,qe){var ht=ye(ot);return-.5*(1+Math.sin(ht))*qe};var Me=Z(se);Q.angularTickLayout!==Me&&(Y["angular-axis"].selectAll("."+q._id+"tick").remove(),Q.angularTickLayout=Me);var Fe=ce?[1/0].concat(q.tickvals||[]).map(function(ot){return a.tickText(q,ot,!0,!1)}):a.calcTicks(q);ce&&(Fe[0].text="",Fe[0].fontSize*=1.75);var Ee;if(te.gridshape==="linear"?(Ee=Fe.map(ye),L.angleDelta(Ee[0],Ee[1])<0&&(Ee=Ee.slice().reverse())):Ee=null,Q.vangles=Ee,q.type==="category"&&(Fe=Fe.filter(function(ot){return L.isAngleInsideSector(ye(ot),Q.sectorInRad)})),q.visible){var He=q.ticks==="inside"?-1:1,rt=(q.linewidth||1)/2;a.drawTicks(ie,q,{vals:Fe,layer:Y["angular-axis"],path:"M"+He*rt+",0h"+He*q.ticklen,transFn:De,crisp:!1}),a.drawGrid(ie,q,{vals:Fe,layer:Y["angular-grid"],path:ke,transFn:L.noop,crisp:!1}),a.drawLabels(ie,q,{vals:Fe,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:be,labelFns:Ie})}ne(Y["angular-line"].select("path"),se.showline,{d:Q.pathSubplot(),transform:v(j,X)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},U.updateFx=function(ue,te){if(!this.gd._context.staticPlot){var Q=!this.isSmith;Q&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,te,0),this.updateRadialDrag(ue,te,1)),this.updateHoverAndMainDrag(ue)}},U.updateHoverAndMainDrag=function(ue){var te=this,Q=te.isSmith,ie=te.gd,Y=te.layers,$=ue._zoomlayer,oe=M.MINZOOM,j=M.OFFEDGE,X=te.radius,se=te.innerRadius,q=te.cx,ce=te.cy,ye=te.cxx,we=te.cyy,be=te.sectorInRad,De=te.vangles,ke=te.radialAxis,Be=A.clampTiny,Ae=A.findXYatLength,Ie=A.findEnclosingVertexAngles,Me=M.cornerHalfWidth,Fe=M.cornerLen/2,Ee,He,rt=u.makeDragger(Y,"path","maindrag",ue.dragmode===!1?"none":"crosshair");m.select(rt).attr("d",te.pathSubplot()).attr("transform",v(q,ce)),rt.onmousemove=function(Tt){h.hover(ie,Tt,te.id),ie._fullLayout._lasthover=rt,ie._fullLayout._hoversubplot=te.id},rt.onmouseout=function(Tt){ie._dragging||g.unhover(ie,Tt)};var ot={element:rt,gd:ie,subplot:te.id,plotinfo:{id:te.id,xaxis:te.xaxis,yaxis:te.yaxis},xaxes:[te.xaxis],yaxes:[te.yaxis]},$e,qe,ht,vt,pt,wt,Mt,nt,_e;function Ge(Tt,Dt){return Math.sqrt(Tt*Tt+Dt*Dt)}function je(Tt,Dt){return Ge(Tt-ye,Dt-we)}function We(Tt,Dt){return Math.atan2(we-Dt,Tt-ye)}function Pe(Tt,Dt){return[Tt*Math.cos(Dt),Tt*Math.sin(-Dt)]}function Re(Tt,Dt){if(Tt===0)return te.pathSector(2*Me);var Xt=Fe/Tt,gr=Dt-Xt,gt=Dt+Xt,Zt=Math.max(0,Math.min(Tt,X)),Qt=Zt-Me,yr=Zt+Me;return"M"+Pe(Qt,gr)+"A"+[Qt,Qt]+" 0,0,0 "+Pe(Qt,gt)+"L"+Pe(yr,gt)+"A"+[yr,yr]+" 0,0,1 "+Pe(yr,gr)+"Z"}function Xe(Tt,Dt,Xt){if(Tt===0)return te.pathSector(2*Me);var gr=Pe(Tt,Dt),gt=Pe(Tt,Xt),Zt=Be((gr[0]+gt[0])/2),Qt=Be((gr[1]+gt[1])/2),yr,or;if(Zt&&Qt){var mt=Qt/Zt,ut=-1/mt,bt=Ae(Me,mt,Zt,Qt);yr=Ae(Fe,ut,bt[0][0],bt[0][1]),or=Ae(Fe,ut,bt[1][0],bt[1][1])}else{var Et,Rt;Qt?(Et=Fe,Rt=Me):(Et=Me,Rt=Fe),yr=[[Zt-Et,Qt-Rt],[Zt+Et,Qt-Rt]],or=[[Zt-Et,Qt+Rt],[Zt+Et,Qt+Rt]]}return"M"+yr.join("L")+"L"+or.reverse().join("L")+"Z"}function Le(){ht=null,vt=null,pt=te.pathSubplot(),wt=!1;var Tt=ie._fullLayout[te.id];Mt=P(Tt.bgcolor).getLuminance(),nt=u.makeZoombox($,Mt,q,ce,pt),nt.attr("fill-rule","evenodd"),_e=u.makeCorners($,q,ce),d(ie)}function ve(Tt,Dt){return Dt=Math.max(Math.min(Dt,X),se),Tt<j?Tt=0:X-Tt<j?Tt=X:Dt<j?Dt=0:X-Dt<j&&(Dt=X),Math.abs(Dt-Tt)>oe?(Tt<Dt?(ht=Tt,vt=Dt):(ht=Dt,vt=Tt),!0):(ht=null,vt=null,!1)}function xe(Tt,Dt){Tt=Tt||pt,Dt=Dt||"M0,0Z",nt.attr("d",Tt),_e.attr("d",Dt),u.transitionZoombox(nt,_e,wt,Mt),wt=!0;var Xt={};Gt(Xt),ie.emit("plotly_relayouting",Xt)}function Ne(Tt,Dt){Tt=Tt*Ee,Dt=Dt*He;var Xt=$e+Tt,gr=qe+Dt,gt=je($e,qe),Zt=Math.min(je(Xt,gr),X),Qt=We($e,qe),yr,or;ve(gt,Zt)&&(yr=pt+te.pathSector(vt),ht&&(yr+=te.pathSector(ht)),or=Re(ht,Qt)+Re(vt,Qt)),xe(yr,or)}function et(Tt,Dt,Xt,gr){var gt=A.findIntersectionXY(Xt,gr,Xt,[Tt-ye,we-Dt]);return Ge(gt[0],gt[1])}function st(Tt,Dt){var Xt=$e+Tt,gr=qe+Dt,gt=We($e,qe),Zt=We(Xt,gr),Qt=Ie(gt,De),yr=Ie(Zt,De),or=et($e,qe,Qt[0],Qt[1]),mt=Math.min(et(Xt,gr,yr[0],yr[1]),X),ut,bt;ve(or,mt)&&(ut=pt+te.pathSector(vt),ht&&(ut+=te.pathSector(ht)),bt=[Xe(ht,Qt[0],Qt[1]),Xe(vt,Qt[0],Qt[1])].join(" ")),xe(ut,bt)}function lt(){if(u.removeZoombox(ie),!(ht===null||vt===null)){var Tt={};Gt(Tt),u.showDoubleClickNotifier(ie),i.call("_guiRelayout",ie,Tt)}}function Gt(Tt){var Dt=ke._rl,Xt=(Dt[1]-Dt[0])/(1-se/X)/X,gr=[Dt[0]+(ht-se)*Xt,Dt[0]+(vt-se)*Xt];Tt[te.id+".radialaxis.range"]=gr}function jt(Tt,Dt){var Xt=ie._fullLayout.clickmode;if(u.removeZoombox(ie),Tt===2){var gr={};for(var gt in te.viewInitial)gr[te.id+"."+gt]=te.viewInitial[gt];ie.emit("plotly_doubleclick",null),i.call("_guiRelayout",ie,gr)}Xt.indexOf("select")>-1&&Tt===1&&o(Dt,ie,[te.xaxis],[te.yaxis],te.id,ot),Xt.indexOf("event")>-1&&h.click(ie,Dt,te.id)}ot.prepFn=function(Tt,Dt,Xt){var gr=ie._fullLayout.dragmode,gt=rt.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var Zt=ie._fullLayout._invTransform;Ee=ie._fullLayout._invScaleX,He=ie._fullLayout._invScaleY;var Qt=L.apply3DTransform(Zt)(Dt-gt.left,Xt-gt.top);if($e=Qt[0],qe=Qt[1],De){var yr=A.findPolygonOffset(X,be[0],be[1],De);$e+=ye+yr[0],qe+=we+yr[1]}switch(gr){case"zoom":ot.clickFn=jt,Q||(De?ot.moveFn=st:ot.moveFn=Ne,ot.doneFn=lt,Le());break;case"select":case"lasso":c(Tt,Dt,Xt,ot,gr);break}},g.init(ot)},U.updateRadialDrag=function(ue,te,Q){var ie=this,Y=ie.gd,$=ie.layers,oe=ie.radius,j=ie.innerRadius,X=ie.cx,se=ie.cy,q=ie.radialAxis,ce=M.radialDragBoxSize,ye=ce/2;if(!q.visible)return;var we=O(ie.radialAxisAngle),be=q._rl,De=be[0],ke=be[1],Be=be[Q],Ae=.75*(be[1]-be[0])/(1-ie.getHole(te))/oe,Ie,Me,Fe;Q?(Ie=X+(oe+ye)*Math.cos(we),Me=se-(oe+ye)*Math.sin(we),Fe="radialdrag"):(Ie=X+(j-ye)*Math.cos(we),Me=se-(j-ye)*Math.sin(we),Fe="radialdrag-inner");var Ee=u.makeRectDragger($,Fe,"crosshair",-ye,-ye,ce,ce),He={element:Ee,gd:Y};ue.dragmode===!1&&(He.dragmode=!1),ne(m.select(Ee),q.visible&&j<oe,{transform:v(Ie,Me)});var rt,ot,$e;function qe(Mt,nt){if(rt)rt(Mt,nt);else{var _e=[Mt,-nt],Ge=[Math.cos(we),Math.sin(we)],je=Math.abs(L.dot(_e,Ge)/Math.sqrt(L.dot(_e,_e)));isNaN(je)||(rt=je<.5?pt:wt)}var We={};ht(We),Y.emit("plotly_relayouting",We)}function ht(Mt){ot!==null?Mt[ie.id+".radialaxis.angle"]=ot:$e!==null&&(Mt[ie.id+".radialaxis.range["+Q+"]"]=$e)}function vt(){ot!==null?i.call("_guiRelayout",Y,ie.id+".radialaxis.angle",ot):$e!==null&&i.call("_guiRelayout",Y,ie.id+".radialaxis.range["+Q+"]",$e)}function pt(Mt,nt){if(Q!==0){var _e=Ie+Mt,Ge=Me+nt;ot=Math.atan2(se-Ge,_e-X),ie.vangles&&(ot=re(ot,ie.vangles)),ot=B(ot);var je=v(X,se)+S(-ot);$["radial-axis"].attr("transform",je),$["radial-line"].select("line").attr("transform",je);var We=ie.gd._fullLayout,Pe=We[ie.id];ie.updateRadialAxisTitle(We,Pe,ot)}}function wt(Mt,nt){var _e=L.dot([Mt,-nt],[Math.cos(we),Math.sin(we)]);if($e=Be-Ae*_e,Ae>0!=(Q?$e>De:$e<ke)){$e=null;return}var Ge=Y._fullLayout,je=Ge[ie.id];q.range[Q]=$e,q._rl[Q]=$e,ie.updateRadialAxis(Ge,je),ie.xaxis.setRange(),ie.xaxis.setScale(),ie.yaxis.setRange(),ie.yaxis.setScale();var We=!1;for(var Pe in ie.traceHash){var Re=ie.traceHash[Pe],Xe=L.filterVisible(Re),Le=Re[0][0].trace._module;Le.plot(Y,ie,Xe,je),i.traceIs(Pe,"gl")&&Xe.length&&(We=!0)}We&&(w(Y),C(Y))}He.prepFn=function(){rt=null,ot=null,$e=null,He.moveFn=qe,He.doneFn=vt,d(Y)},He.clampFn=function(Mt,nt){return Math.sqrt(Mt*Mt+nt*nt)<M.MINDRAG&&(Mt=0,nt=0),[Mt,nt]},g.init(He)},U.updateAngularDrag=function(ue){var te=this,Q=te.gd,ie=te.layers,Y=te.radius,$=te.angularAxis,oe=te.cx,j=te.cy,X=te.cxx,se=te.cyy,q=M.angularDragBoxSize,ce=u.makeDragger(ie,"path","angulardrag",ue.dragmode===!1?"none":"move"),ye={element:ce,gd:Q};ue.dragmode===!1?ye.dragmode=!1:m.select(ce).attr("d",te.pathAnnulus(Y,Y+q)).attr("transform",v(oe,j)).call(x,"move");function we($e,qe){return Math.atan2(se+q-qe,$e-X-q)}var be=ie.frontplot.select(".scatterlayer").selectAll(".trace"),De=be.selectAll(".point"),ke=be.selectAll(".textpoint"),Be,Ae,Ie,Me,Fe,Ee;function He($e,qe){var ht=te.gd._fullLayout,vt=ht[te.id],pt=Be+$e*ue._invScaleX,wt=Ae+qe*ue._invScaleY,Mt=we(pt,wt),nt=B(Mt-Ee);if(Me=Ie+nt,ie.frontplot.attr("transform",v(te.xOffset2,te.yOffset2)+S([-nt,X,se])),te.vangles){Fe=te.radialAxisAngle+nt;var _e=v(oe,j)+S(-nt),Ge=v(oe,j)+S(-Fe);ie.bg.attr("transform",_e),ie["radial-grid"].attr("transform",_e),ie["radial-axis"].attr("transform",Ge),ie["radial-line"].select("line").attr("transform",Ge),te.updateRadialAxisTitle(ht,vt,Fe)}else te.clipPaths.forTraces.select("path").attr("transform",v(X,se)+S(nt));De.each(function(){var ve=m.select(this),xe=r.getTranslate(ve);ve.attr("transform",v(xe.x,xe.y)+S([nt]))}),ke.each(function(){var ve=m.select(this),xe=ve.select("text"),Ne=r.getTranslate(ve);ve.attr("transform",S([nt,xe.attr("x"),xe.attr("y")])+v(Ne.x,Ne.y))}),$.rotation=L.modHalf(Me,360),te.updateAngularAxis(ht,vt),te._hasClipOnAxisFalse&&!L.isFullCircle(te.sectorInRad)&&be.call(r.hideOutsideRangePoints,te);var je=!1;for(var We in te.traceHash)if(i.traceIs(We,"gl")){var Pe=te.traceHash[We],Re=L.filterVisible(Pe),Xe=Pe[0][0].trace._module;Xe.plot(Q,te,Re,vt),Re.length&&(je=!0)}je&&(w(Q),C(Q));var Le={};rt(Le),Q.emit("plotly_relayouting",Le)}function rt($e){$e[te.id+".angularaxis.rotation"]=Me,te.vangles&&($e[te.id+".radialaxis.angle"]=Fe)}function ot(){ke.select("text").attr("transform",null);var $e={};rt($e),i.call("_guiRelayout",Q,$e)}ye.prepFn=function($e,qe,ht){var vt=ue[te.id];Ie=vt.angularaxis.rotation;var pt=ce.getBoundingClientRect();Be=qe-pt.left,Ae=ht-pt.top,Q._fullLayout._calcInverseTransform(Q);var wt=L.apply3DTransform(ue._invTransform)(Be,Ae);Be=wt[0],Ae=wt[1],Ee=we(Be,Ae),ye.moveFn=He,ye.doneFn=ot,d(Q)},te.vangles&&!L.isFullCircle(te.sectorInRad)&&(ye.prepFn=L.noop,x(m.select(ce),null)),g.init(ye)},U.isPtInside=function(ue){if(this.isSmith)return!0;var te=this.sectorInRad,Q=this.vangles,ie=this.angularAxis.c2g(ue.theta),Y=this.radialAxis,$=Y.c2l(ue.r),oe=Y._rl,j=Q?A.isPtInsidePolygon:L.isPtInsideSector;return j($,ie,oe,te,Q)},U.pathArc=function(ue){var te=this.sectorInRad,Q=this.vangles,ie=Q?A.pathPolygon:L.pathArc;return ie(ue,te[0],te[1],Q)},U.pathSector=function(ue){var te=this.sectorInRad,Q=this.vangles,ie=Q?A.pathPolygon:L.pathSector;return ie(ue,te[0],te[1],Q)},U.pathAnnulus=function(ue,te){var Q=this.sectorInRad,ie=this.vangles,Y=ie?A.pathPolygonAnnulus:L.pathAnnulus;return Y(ue,te,Q[0],Q[1],ie)},U.pathSubplot=function(){var ue=this.innerRadius,te=this.radius;return ue?this.pathAnnulus(ue,te):this.pathSector(te)},U.fillViewInitialKey=function(ue,te){ue in this.viewInitial||(this.viewInitial[ue]=te)};function Z(ue){var te=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(te+=ue.side),te}function J(ue){var te=ue[0],Q=ue[1],ie=Q-te,Y=_(te,360),$=Y+ie,oe=Math.cos(O(Y)),j=Math.sin(O(Y)),X=Math.cos(O($)),se=Math.sin(O($)),q,ce,ye,we;return Y<=90&&$>=90||Y>90&&$>=450?we=1:j<=0&&se<=0?we=0:we=Math.max(j,se),Y<=180&&$>=180||Y>180&&$>=540?q=-1:oe>=0&&X>=0?q=0:q=Math.min(oe,X),Y<=270&&$>=270||Y>270&&$>=630?ce=-1:j>=0&&se>=0?ce=0:ce=Math.min(j,se),$>=360?ye=1:oe<=0&&X<=0?ye=0:ye=Math.max(oe,X),[q,ce,ye,we]}function re(ue,te){var Q=function(Y){return L.angleDist(ue,Y)},ie=L.findIndexOfMin(te,Q);return te[ie]}function ne(ue,te,Q){return te?(ue.attr("display",null),ue.attr(Q)):ue&&ue.attr("display","none"),ue}},57696:function(G,V,e){var m=e(3400),P=e(78344),i=m.deg2rad,L=m.rad2deg;G.exports=function(a,n,f){switch(P(a,f),a._id){case"x":case"radialaxis":S(a,n);break;case"angularaxis":r(a,n);break}};function S(t,a){var n=a._subplot;t.setGeometry=function(){var f=t._rl[0],l=t._rl[1],u=n.innerRadius,g=(n.radius-u)/(l-f),h=u/g,T=f>l?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-f;return(T(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*g},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,a){return a==="degrees"?i(t):t}function p(t,a){return a==="degrees"?L(t):t}function r(t,a){var n=t.type;if(n==="linear"){var f=t.d2c,l=t.c2d;t.d2c=function(u,g){return v(f(u),g)},t.c2d=function(u,g){return l(p(u,g))}}t.makeCalcdata=function(u,g){var h=u[g],T=u._length,c,o,d=function(M){return t.d2c(M,u.thetaunit)};if(h)for(c=new Array(T),o=0;o<T;o++)c[o]=d(h[o]);else{var x=g+"0",w="d"+g,C=x in u?d(u[x]):0,y=u[w]?d(u[w]):(t.period||2*Math.PI)/T;for(c=new Array(T),o=0;o<T;o++)c[o]=C+o*y}return c},t.setGeometry=function(){var u=a.sector,g=u.map(i),h={clockwise:-1,counterclockwise:1}[t.direction],T=i(t.rotation),c=function(A){return h*A+T},o=function(A){return(A-T)/h},d,x,w,C;switch(n){case"linear":x=d=m.identity,C=i,w=L,t.range=m.isFullCircle(g)?[u[0],u[0]+360]:g.map(o).map(L);break;case"category":var y=t._categories.length,M=t.period?Math.max(t.period,y):y;M===0&&(M=1),x=C=function(A){return A*2*Math.PI/M},d=w=function(A){return A*M/Math.PI/2},t.range=[0,M];break}t.c2g=function(A){return c(x(A))},t.g2c=function(A){return d(o(A))},t.t2g=function(A){return c(C(A))},t.g2t=function(A){return w(o(A))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function V(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],p=S[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function m(S,v){var p=v[0],r=v[1];return[p*S.radius+S.cx,-r*S.radius+S.cy]}function P(S,v){return v*S.radius}function i(S,v,p,r){var t=m(S,e([p,v])),a=t[0],n=t[1],f=m(S,e([r,v])),l=f[0],u=f[1];if(v===0)return["M"+a+","+n,"L"+l+","+u].join(" ");var g=P(S,1/Math.abs(v));return["M"+a+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+l+","+u].join(" ")}function L(S,v,p,r){var t=P(S,1/(v+1)),a=m(S,e([v,p])),n=a[0],f=a[1],l=m(S,e([v,r])),u=l[0],g=l[1];if(V(p)!==V(r)){var h=m(S,e([v,0])),T=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+u+","+g].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+u+","+g].join(" ")}G.exports={smith:e,reactanceArc:i,resistanceArc:L,smithTransform:m}},47788:function(G,V,e){var m=e(84888).KY,P=e(3400).counterRegex,i=e(62400),L=e(55012),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,l=n.calcdata,u=f._subplots[v],g=0;g<u.length;g++){var h=u[g],T=m(l,v,h),c=f[h]._subplot;c||(c=i(n,h,!0),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,l,u){for(var g=u._subplots[v]||[],h=0;h<g.length;h++){var T=g[h],c=u[T]._subplot;if(!f[T]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:a,toSVG:e(57952).toSVG}},6183:function(G,V,e){var m=e(22548),P=e(94724),i=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:m.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,V,e){var m=e(3400),P=e(76308),i=e(31780),L=e(168),S=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),a=e(6183),n=e(55012),f=n.axisNames,l=g(function(h){return m.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function u(h,T,c,o){var d=c("bgcolor");o.bgColor=P.combine(d,o.paper_bgcolor);var x=S(o.fullData,n.name,o.id),w=o.layoutOut,C;function y(U,Z){return c(C+"."+U,Z)}for(var M=0;M<f.length;M++){C=f[M],m.isPlainObject(h[C])||(h[C]={});var A=h[C],s=i.newContainer(T,C);s._id=s._name=C,s._attr=o.id+"."+C,s._traceIndices=x.map(function(U){return U._expandedIndex});var E=y("visible");if(s.type="linear",t(s,w),v(A,s,y,s.type),E){var b=C==="realaxis";if(b&&y("side"),b)y("tickvals");else{var F=l(T.realaxis.tickvals||a.realaxis.tickvals.dflt);y("tickvals",F)}m.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var I,N,_,O,B=o.font||{};E&&(I=y("color"),N=I===A.color?I:B.color,_=B.size,O=B.family),p(A,s,y,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:N,size:_,family:O}}),m.coerce2(h,T,a,C+".ticklen"),m.coerce2(h,T,a,C+".tickwidth"),m.coerce2(h,T,a,C+".tickcolor",T.color);var z=y("ticks");z||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),r(A,s,y,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a[C]}),y("layer")}y("hoverformat"),delete s.type,s._input=A}}G.exports=function(T,c,o){L(T,c,o,{noUirevision:!0,type:n.name,attributes:a,handleDefaults:u,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function g(h,T){var c={};return function(o){var d=T?T(o):o;if(d in c)return c[d];var x=h(o);return c[d]=x,x}}},168:function(G,V,e){var m=e(3400),P=e(31780),i=e(86968).Q;G.exports=function(S,v,p,r){var t=r.type,a=r.attributes,n=r.handleDefaults,f=r.partition||"x",l=v._subplots[t],u=l.length,g=u&&l[0].replace(/\d+$/,""),h,T;function c(w,C){return m.coerce(h,T,a,w,C)}for(var o=0;o<u;o++){var d=l[o];S[d]?h=S[d]:h=S[d]={},T=P.newContainer(v,d,g),r.noUirevision||c("uirevision",v.uirevision);var x={};x[f]=[o/u,(o+1)/u],i(T,v,c,x),r.id=d,n(h,T,c,r)}}},21776:function(G,V,e){var m=e(26880);m.FORMAT_LINK,m.DATE_FORMAT_LINK;function P(i){var L=i.description?" "+i.description:"",S=i.keys||[];if(S.length>0){for(var v=[],p=0;p<S.length;p++)v[p]="`"+S[p]+"`";L=L+"Finally, the template string has access to ",S.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}V.Ks=function(i,L){i=i||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(S.arrayOk=!0),S},V.Gw=function(i,L){i=i||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(S.arrayOk=!0),S},V.ye=function(i,L){i=i||{},L=L||{},i.newshape,P(L);var S={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return S}},19352:function(G,V,e){var m=e(24696),P=e(84888).KY,i=e(3400).counterRegex,L="ternary";V.name=L;var S=V.attr="subplot";V.idRoot=L,V.idRegex=V.attrRegex=i(L);var v=V.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(86379),V.supplyLayoutDefaults=e(38536),V.plot=function(r){for(var t=r._fullLayout,a=r.calcdata,n=t._subplots[L],f=0;f<n.length;f++){var l=n[f],u=P(a,L,l),g=t[l]._subplot;g||(g=new m({id:l,graphDiv:r,container:t._ternarylayer.node()},t),t[l]._subplot=g),g.plot(u,t,r._promises)}},V.clean=function(p,r,t,a){for(var n=a._subplots[L]||[],f=0;f<n.length;f++){var l=n[f],u=a[l]._subplot;!r[l]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},86379:function(G,V,e){var m=e(22548),P=e(86968).u,i=e(94724),L=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:S({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:S({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:S({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},p=G.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:m.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,V,e){var m=e(76308),P=e(31780),i=e(3400),L=e(168),S=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),a=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(g,h,T){L(g,h,T,{type:"ternary",attributes:a,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(u,g,h,T){var c=h("bgcolor"),o=h("sum");T.bgColor=m.combine(c,T.paper_bgcolor);for(var d,x,w,C=0;C<n.length;C++)d=n[C],x=u[d]||{},w=P.newContainer(g,d),w._name=d,l(x,w,T,g);var y=g.aaxis,M=g.baxis,A=g.caxis;y.min+M.min+A.min>=o&&(y.min=0,M.min=0,A.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,g,h,T){var c=a[g._name];function o(s,E){return i.coerce(u,g,c,s,E)}o("uirevision",T.uirevision),g.type="linear";var d=o("color"),x=d!==c.color.dflt?d:h.font.color,w=g._name,C=w.charAt(0).toUpperCase(),y="Component "+C,M=o("title.text",y);g._hovertitle=M===y?M:C,i.coerceFont(o,"title.font",h.font,{overrideDflt:{size:i.bigFont(h.font.size),color:x}}),o("min"),r(u,g,o,"linear"),v(u,g,o,"linear"),S(u,g,o,"linear",{noAutotickangles:!0}),p(u,g,o,{outerTicks:!0});var A=o("showticklabels");A&&(i.coerceFont(o,"tickfont",h.font,{overrideDflt:{color:x}}),o("tickangle"),o("tickformat")),t(u,g,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(G,V,e){var m=e(33428),P=e(49760),i=e(24040),L=e(3400),S=L.strTranslate,v=L._,p=e(76308),r=e(43616),t=e(78344),a=e(92880).extendFlat,n=e(7316),f=e(54460),l=e(86476),u=e(93024),g=e(72760),h=g.freeMode,T=g.rectMode,c=e(81668),o=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,w=e(22676).clearSelectionsCache,C=e(33816);function y(B,z){this.id=B.id,this.graphDiv=B.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=y;var M=y.prototype;M.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},M.plot=function(B,z){var U=this,Z=z[U.id],J=z._size;U._hasClipOnAxisFalse=!1;for(var re=0;re<B.length;re++){var ne=B[re][0].trace;if(ne.cliponaxis===!1){U._hasClipOnAxisFalse=!0;break}}U.updateLayers(Z),U.adjustLayout(Z,J),n.generalUpdatePerTraceModule(U.graphDiv,U,B,Z),U.layers.plotbg.select("path").call(p.fill,Z.bgcolor)},M.makeFramework=function(B){var z=this,U=z.graphDiv,Z=B[z.id],J=z.clipId="clip"+z.layoutId+z.id,re=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=L.ensureSingleById(B._clips,"clipPath",J,function(ne){ne.append("path").attr("d","M0,0Z")}),z.clipDefRelative=L.ensureSingleById(B._clips,"clipPath",re,function(ne){ne.append("path").attr("d","M0,0Z")}),z.plotContainer=L.ensureSingle(z.container,"g",z.id),z.updateLayers(Z),r.setClipUrl(z.layers.backplot,J,U),r.setClipUrl(z.layers.grids,J,U)},M.updateLayers=function(B){var z=this,U=z.layers,Z=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),B.baxis.layer==="below traces"&&Z.push("baxis","bline"),B.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),B.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),B.baxis.layer==="above traces"&&Z.push("baxis","bline"),B.caxis.layer==="above traces"&&Z.push("caxis","cline");var J=z.plotContainer.selectAll("g.toplevel").data(Z,String),re=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var ue=m.select(this);U[ne]=ue,ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):ne==="backplot"?ue.append("g").classed("maplayer",!0):ne==="plotbg"?ue.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?ue.append("path"):ne==="grids"&&re.forEach(function(te){U[te]=ue.append("g").classed("grid "+te,!0)})}),J.order()};var A=Math.sqrt(4/3);M.adjustLayout=function(B,z){var U=this,Z=B.domain,J=(Z.x[0]+Z.x[1])/2,re=(Z.y[0]+Z.y[1])/2,ne=Z.x[1]-Z.x[0],ue=Z.y[1]-Z.y[0],te=ne*z.w,Q=ue*z.h,ie=B.sum,Y=B.aaxis.min,$=B.baxis.min,oe=B.caxis.min,j,X,se,q,ce,ye;te>A*Q?(q=Q,se=q*A):(se=te,q=se/A),ce=ne*se/te,ye=ue*q/Q,j=z.l+z.w*J-se/2,X=z.t+z.h*(1-re)-q/2,U.x0=j,U.y0=X,U.w=se,U.h=q,U.sum=ie,U.xaxis={type:"linear",range:[Y+2*oe-ie,ie-Y-2*$],domain:[J-ce/2,J+ce/2],_id:"x"},t(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(He){return He.a>=U.aaxis.range[0]&&He.a<=U.aaxis.range[1]&&He.b>=U.baxis.range[1]&&He.b<=U.baxis.range[0]&&He.c>=U.caxis.range[1]&&He.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[Y,ie-$-oe],domain:[re-ye/2,re+ye/2],_id:"y"},t(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var we=U.yaxis.domain[0],be=U.aaxis=a({},B.aaxis,{range:[Y,ie-$-oe],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[we,we+ye*A],anchor:"free",position:0,_id:"y",_length:se});t(be,U.graphDiv._fullLayout),be.setScale();var De=U.baxis=a({},B.baxis,{range:[ie-Y-oe,$],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(De,U.graphDiv._fullLayout),De.setScale();var ke=U.caxis=a({},B.caxis,{range:[ie-Y-$,oe],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[we,we+ye*A],anchor:"free",position:0,_id:"y",_length:se});t(ke,U.graphDiv._fullLayout),ke.setScale();var Be="M"+j+","+(X+q)+"h"+se+"l-"+se/2+",-"+q+"Z";U.clipDef.select("path").attr("d",Be),U.layers.plotbg.select("path").attr("d",Be);var Ae="M0,"+q+"h"+se+"l-"+se/2+",-"+q+"Z";U.clipDefRelative.select("path").attr("d",Ae);var Ie=S(j,X);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ie),U.clipDefRelative.select("path").attr("transform",null);var Me=S(j-De._offset,X+q);U.layers.baxis.attr("transform",Me),U.layers.bgrid.attr("transform",Me);var Fe=S(j+se/2,X)+"rotate(30)"+S(0,-be._offset);U.layers.aaxis.attr("transform",Fe),U.layers.agrid.attr("transform",Fe);var Ee=S(j+se/2,X)+"rotate(-30)"+S(0,-ke._offset);U.layers.caxis.attr("transform",Ee),U.layers.cgrid.attr("transform",Ee),U.drawAxes(!0),U.layers.aline.select("path").attr("d",be.showline?"M"+j+","+(X+q)+"l"+se/2+",-"+q:"M0,0").call(p.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",De.showline?"M"+j+","+(X+q)+"h"+se:"M0,0").call(p.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",ke.showline?"M"+(j+se/2)+","+X+"l"+se/2+","+q:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),r.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},M.drawAxes=function(B){var z=this,U=z.graphDiv,Z=z.id.substr(7)+"title",J=z.layers,re=z.aaxis,ne=z.baxis,ue=z.caxis;if(z.drawAx(re),z.drawAx(ne),z.drawAx(ue),B){var te=Math.max(re.showticklabels?re.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),Q=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;J["a-title"]=c.draw(U,"a"+Z,{propContainer:re,propName:z.id+".aaxis.title",placeholder:v(U,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-re.title.font.size/3-te,"text-anchor":"middle"}}),J["b-title"]=c.draw(U,"b"+Z,{propContainer:ne,propName:z.id+".baxis.title",placeholder:v(U,"Click to enter Component B title"),attributes:{x:z.x0-Q,y:z.y0+z.h+ne.title.font.size*.83+Q,"text-anchor":"middle"}}),J["c-title"]=c.draw(U,"c"+Z,{propContainer:ue,propName:z.id+".caxis.title",placeholder:v(U,"Click to enter Component C title"),attributes:{x:z.x0+z.w+Q,y:z.y0+z.h+ue.title.font.size*.83+Q,"text-anchor":"middle"}})}},M.drawAx=function(B){var z=this,U=z.graphDiv,Z=B._name,J=Z.charAt(0),re=B._id,ne=z.layers[Z],ue=30,te=J+"tickLayout",Q=s(B);z[te]!==Q&&(ne.selectAll("."+re+"tick").remove(),z[te]=Q),B.setScale();var ie=f.calcTicks(B),Y=f.clipEnds(B,ie),$=f.makeTransTickFn(B),oe=f.getTickSigns(B)[2],j=L.deg2rad(ue),X=oe*(B.linewidth||1)/2,se=oe*B.ticklen,q=z.w,ce=z.h,ye=J==="b"?"M0,"+X+"l"+Math.sin(j)*se+","+Math.cos(j)*se:"M"+X+",0l"+Math.cos(j)*se+","+-Math.sin(j)*se,we={a:"M0,0l"+ce+",-"+q/2,b:"M0,0l-"+q/2+",-"+ce,c:"M0,0l-"+ce+","+q/2}[J];f.drawTicks(U,B,{vals:B.ticks==="inside"?Y:ie,layer:ne,path:ye,transFn:$,crisp:!1}),f.drawGrid(U,B,{vals:Y,layer:z.layers[J+"grid"],path:we,transFn:$,crisp:!1}),f.drawLabels(U,B,{vals:ie,layer:ne,transFn:$,labelFns:f.makeLabelFns(B,0,ue)})};function s(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var E=C.MINZOOM/2+.87,b="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",F="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",I="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",_=!0;M.clearOutline=function(){w(this.dragOptions),x(this.dragOptions.gd)},M.initInteractions=function(){var B=this,z=B.layers.plotbg.select("path").node(),U=B.graphDiv,Z=U._fullLayout._zoomlayer,J,re;this.dragOptions={element:z,gd:U,plotinfo:{id:B.id,domain:U._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Me,Fe,Ee){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],J=U._fullLayout._invScaleX,re=U._fullLayout._invScaleY;var He=B.dragOptions.dragmode=U._fullLayout.dragmode;h(He)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,He==="zoom"?(B.dragOptions.moveFn=De,B.dragOptions.clickFn=q,B.dragOptions.doneFn=ke,ce(Me,Fe,Ee)):He==="pan"?(B.dragOptions.moveFn=Ae,B.dragOptions.clickFn=q,B.dragOptions.doneFn=Ie,Be(),B.clearOutline(U)):(T(He)||h(He))&&o(Me,Fe,Ee,B.dragOptions,He)}};var ne,ue,te,Q,ie,Y,$,oe,j,X;function se(Me){var Fe={};return Fe[B.id+".aaxis.min"]=Me.a,Fe[B.id+".baxis.min"]=Me.b,Fe[B.id+".caxis.min"]=Me.c,Fe}function q(Me,Fe){var Ee=U._fullLayout.clickmode;O(U),Me===2&&(U.emit("plotly_doubleclick",null),i.call("_guiRelayout",U,se({a:0,b:0,c:0}))),Ee.indexOf("select")>-1&&Me===1&&d(Fe,U,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Ee.indexOf("event")>-1&&u.click(U,Fe,B.id)}function ce(Me,Fe,Ee){var He=z.getBoundingClientRect();ne=Fe-He.left,ue=Ee-He.top,U._fullLayout._calcInverseTransform(U);var rt=U._fullLayout._invTransform,ot=L.apply3DTransform(rt)(ne,ue);ne=ot[0],ue=ot[1],te={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ie=te,Q=B.aaxis.range[1]-te.a,Y=P(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),$="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",oe=!1,j=Z.append("path").attr("class","zoombox").attr("transform",S(B.x0,B.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",$),X=Z.append("path").attr("class","zoombox-corners").attr("transform",S(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(U)}function ye(Me,Fe){return 1-Fe/B.h}function we(Me,Fe){return 1-(Me+(B.h-Fe)/Math.sqrt(3))/B.w}function be(Me,Fe){return(Me-(B.h-Fe)/Math.sqrt(3))/B.w}function De(Me,Fe){var Ee=ne+Me*J,He=ue+Fe*re,rt=Math.max(0,Math.min(1,ye(ne,ue),ye(Ee,He))),ot=Math.max(0,Math.min(1,we(ne,ue),we(Ee,He))),$e=Math.max(0,Math.min(1,be(ne,ue),be(Ee,He))),qe=(rt/2+$e)*B.w,ht=(1-rt/2-ot)*B.w,vt=(qe+ht)/2,pt=ht-qe,wt=(1-rt)*B.h,Mt=wt-pt/A;pt<C.MINZOOM?(ie=te,j.attr("d",$),X.attr("d","M0,0Z")):(ie={a:te.a+rt*Q,b:te.b+ot*Q,c:te.c+$e*Q},j.attr("d",$+"M"+qe+","+wt+"H"+ht+"L"+vt+","+Mt+"L"+qe+","+wt+"Z"),X.attr("d","M"+ne+","+ue+N+"M"+qe+","+wt+b+"M"+ht+","+wt+F+"M"+vt+","+Mt+I)),oe||(j.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),X.transition().style("opacity",1).duration(200),oe=!0),U.emit("plotly_relayouting",se(ie))}function ke(){O(U),ie!==te&&(i.call("_guiRelayout",U,se(ie)),_&&U.data&&U._context.showTips&&(L.notifier(v(U,"Double-click to zoom back out"),"long"),_=!1))}function Be(){te={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},ie=te}function Ae(Me,Fe){var Ee=Me/B.xaxis._m,He=Fe/B.yaxis._m;ie={a:te.a-He,b:te.b+(Ee+He)/2,c:te.c-(Ee-He)/2};var rt=[ie.a,ie.b,ie.c].sort(L.sorterAsc),ot={a:rt.indexOf(ie.a),b:rt.indexOf(ie.b),c:rt.indexOf(ie.c)};rt[0]<0&&(rt[1]+rt[0]/2<0?(rt[2]+=rt[0]+rt[1],rt[0]=rt[1]=0):(rt[2]+=rt[0]/2,rt[1]+=rt[0]/2,rt[0]=0),ie={a:rt[ot.a],b:rt[ot.b],c:rt[ot.c]},Fe=(te.a-ie.a)*B.yaxis._m,Me=(te.c-ie.c-te.b+ie.b)*B.xaxis._m);var $e=S(B.x0+Me,B.y0+Fe);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var qe=S(-Me,-Fe);B.clipDefRelative.select("path").attr("transform",qe),B.aaxis.range=[ie.a,B.sum-ie.b-ie.c],B.baxis.range=[B.sum-ie.a-ie.c,ie.b],B.caxis.range=[B.sum-ie.a-ie.b,ie.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),U.emit("plotly_relayouting",se(ie))}function Ie(){i.call("_guiRelayout",U,se(ie))}z.onmousemove=function(Me){u.hover(U,Me,B.id),U._fullLayout._lasthover=z,U._fullLayout._hoversubplot=B.id},z.onmouseout=function(Me){U._dragging||l.unhover(U,Me)},l.init(this.dragOptions)};function O(B){m.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,V,e){var m=e(24248),P=e(16628),i=e(52416),L=e(63620),S=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,a=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(w){if(V.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<w.length;C++){var y=w[C];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":u(y);break;case"component":l(y);break;case"locale":g(y);break;case"apiMethod":var M=y.name;V.apiMethodRegistry[M]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(x){var w=V.modules[d(x)];return w?w._module:!1},V.traceIs=function(x,w){if(x=d(x),x==="various")return!1;var C=V.modules[x];return C||(x&&m.log("Unrecognized trace type "+x+"."),C=V.modules[p.type.dflt]),!!C.categories[w]},V.getTransformIndices=function(x,w){for(var C=[],y=x.transforms||[],M=0;M<y.length;M++)y[M].type===w&&C.push(M);return C},V.hasTransform=function(x,w){for(var C=x.transforms||[],y=0;y<C.length;y++)if(C[y].type===w)return!0;return!1},V.getComponentMethod=function(x,w){var C=V.componentsRegistry[x];return C&&C[w]||P},V.call=function(){var x=arguments[0],w=[].slice.call(arguments,1);return V.apiMethodRegistry[x].apply(null,w)};function n(x){var w=x.name,C=x.categories,y=x.meta;if(V.modules[w]){m.log("Type "+w+" already registered");return}V.subplotsRegistry[x.basePlotModule.name]||f(x.basePlotModule);for(var M={},A=0;A<C.length;A++)M[C[A]]=!0,V.allCategories[C[A]]=!0;V.modules[w]={_module:x,categories:M},y&&Object.keys(y).length&&(V.modules[w].meta=y),V.allTypes.push(w);for(var s in V.componentsRegistry)T(s,w);x.layoutAttributes&&t(V.traceLayoutAttributes,x.layoutAttributes);var E=x.basePlotModule,b=E.name;if(b==="mapbox"){var F=E.constants.styleRules;for(var I in F)S(".js-plotly-plot .plotly .mapboxgl-"+I,F[I])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(x){var w=x.name;if(V.subplotsRegistry[w]){m.log("Plot type "+w+" already registered.");return}h(x),V.subplotsRegistry[w]=x;for(var C in V.componentsRegistry)o(C,x.name)}function l(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var w=x.name;V.componentsRegistry[w]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&i(V.layoutArrayContainers,w),h(x));for(var C in V.modules)T(w,C);for(var y in V.subplotsRegistry)o(w,y);for(var M in V.transformsRegistry)c(w,M);x.schema&&x.schema.layout&&a(r,x.schema.layout)}function u(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+x.name,C=typeof x.transform=="function",y=typeof x.calcTransform=="function";if(!C&&!y)throw new Error(w+" is missing a *transform* or *calcTransform* method.");C&&y&&m.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(x.attributes)||m.log(w+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&m.log(w+" registered without a *supplyDefaults* method."),V.transformsRegistry[x.name]=x;for(var M in V.componentsRegistry)c(M,x.name)}function g(x){var w=x.name,C=w.split("-")[0],y=x.dictionary,M=x.format,A=y&&Object.keys(y).length,s=M&&Object.keys(M).length,E=V.localeRegistry,b=E[w];if(b||(E[w]=b={}),C!==w){var F=E[C];F||(E[C]=F={}),A&&F.dictionary===b.dictionary&&(F.dictionary=y),s&&F.format===b.format&&(F.format=M)}A&&(b.dictionary=y),s&&(b.format=M)}function h(x){if(x.layoutAttributes){var w=x.layoutAttributes._arrayAttrRegexps;if(w)for(var C=0;C<w.length;C++)i(V.layoutArrayRegexes,w[C])}}function T(x,w){var C=V.componentsRegistry[x].schema;if(!(!C||!C.traces)){var y=C.traces[w];y&&a(V.modules[w]._module.attributes,y)}}function c(x,w){var C=V.componentsRegistry[x].schema;if(!(!C||!C.transforms)){var y=C.transforms[w];y&&a(V.transformsRegistry[w].attributes,y)}}function o(x,w){var C=V.componentsRegistry[x].schema;if(!(!C||!C.subplots)){var y=V.subplotsRegistry[w],M=y.layoutAttributes,A=y.attr==="subplot"?y.name:y.attr;Array.isArray(A)&&(A=A[0]);var s=C.subplots[A];M&&s&&a(M,s)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(G,V,e){var m=e(24040),P=e(3400),i=P.extendFlat,L=P.extendDeep;function S(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var a,n=r.data,f=r.layout,l=L([],n),u=L({},f,S(t.tileClass)),g=r._context||{};if(t.width&&(u.width=t.width),t.height&&(u.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){u.annotations=[];var h=Object.keys(u);for(a=0;a<h.length;a++)v(h[a])&&(u[h[a]].title={text:""});for(a=0;a<l.length;a++){var T=l[a];T.showscale=!1,T.marker&&(T.marker.showscale=!1),m.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)u.annotations.push(t.annotations[a]);var c=Object.keys(u).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var d=u[c[a]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),i(d.xaxis,o),i(d.yaxis,o),i(d.zaxis,o),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var w={gd:x,td:x,layout:u,data:l,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=S(t.tileClass),w}},39792:function(G,V,e){var m=e(3400),P=e(67024),i=e(48616),L=e(81792);function S(v,p){var r;return m.isPlainObject(v)||(r=m.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),m.isIE()&&p.format!=="svg"&&a(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),f=p.filename||v.fn||"newplot";f+="."+p.format.replace("-","."),n.then(function(l){return r&&(r._snapshotInProgress=!1),i(l,f,p.format)}).then(function(l){t(l)}).catch(function(l){r&&(r._snapshotInProgress=!1),a(l)})})}G.exports=S},48616:function(G,V,e){var m=e(3400),P=e(81792);function i(L,S,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(a,n){var f,l;if(m.isIE())return f=P.createBlob(L,"svg"),window.navigator.msSaveBlob(f,S),f=null,a(S);if(r)return f=P.createBlob(L,v),l=P.createObjectURL(f),p.href=l,p.download=S,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(l),f=null,a(S);if(m.isSafari()){var u=v==="svg"?",":";base64,";return P.octetStream(u+encodeURIComponent(L)),a(S)}n(new Error("download error"))});return t}G.exports=i},81792:function(G,V,e){var m=e(24040);V.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},V.getRedrawFunc=function(L){return function(){m.getComponentMethod("colorbar","draw")(L)}},V.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},V.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;V.createObjectURL=function(L){return P.createObjectURL(L)},V.revokeObjectURL=function(L){return P.revokeObjectURL(L)},V.createBlob=function(L,S){if(S==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=i(window.atob(L));return new window.Blob([v],{type:"image/"+S})},V.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function i(L){for(var S=L.length,v=new ArrayBuffer(S),p=new Uint8Array(v),r=0;r<S;r++)p[r]=L.charCodeAt(r);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,V,e){var m=e(81792),P={getDelay:m.getDelay,getRedrawFunc:m.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=P},63268:function(G,V,e){var m=e(3400),P=e(61252).EventEmitter,i=e(81792);function L(S){var v=S.emitter||new P,p=new Promise(function(r,t){var a=window.Image,n=S.svg,f=S.format||"png";if(m.isIE()&&f!=="svg"){var l=new Error(i.MSG_IE_BAD_FORMAT);return t(l),S.promise?p:v.emit("error",l)}var u=S.canvas,g=S.scale||1,h=S.width||300,T=S.height||150,c=g*h,o=g*T,d=u.getContext("2d",{willReadFrequently:!0}),x=new a,w,C;f==="svg"||m.isSafari()?C=i.encodeSVG(n):(w=i.createBlob(n,"svg"),C=i.createObjectURL(w)),u.width=c,u.height=o,x.onload=function(){var y;switch(w=null,i.revokeObjectURL(C),f!=="svg"&&d.drawImage(x,0,0,c,o),f){case"jpeg":y=u.toDataURL("image/jpeg");break;case"png":y=u.toDataURL("image/png");break;case"webp":y=u.toDataURL("image/webp");break;case"svg":y=C;break;default:var M="Image format is not jpeg, png, svg or webp.";if(t(new Error(M)),!S.promise)return v.emit("error",M)}r(y),S.promise||v.emit("success",y)},x.onerror=function(y){if(w=null,i.revokeObjectURL(C),t(y),!S.promise)return v.emit("error",y)},x.src=C});return S.promise?p:v}G.exports=L},61808:function(G,V,e){var m=e(61252).EventEmitter,P=e(24040),i=e(3400),L=e(81792),S=e(91536),v=e(37164),p=e(63268);function r(t,a){var n=new m,f=S(t,{format:"png"}),l=f.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);function u(){var h=L.getDelay(l._fullLayout);setTimeout(function(){var T=v(l),c=document.createElement("canvas");c.id=i.randstr(),n=p({format:a.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:c,emitter:n,svg:T}),n.clean=function(){l&&document.body.removeChild(l)}},h)}var g=L.getRedrawFunc(l);return P.call("_doPlot",l,f.data,f.layout,f.config).then(g).then(u).catch(function(h){n.emit("error",h)}),n}G.exports=r},37164:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(76308),S=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var f=m.select("body").append("div").style({display:"none"}).html(""),l=n.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":f.html(u).text()});return f.remove(),l}function a(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(f,l,u){var g=f._fullLayout,h=g._paper,T=g._toppaper,c=g.width,o=g.height,d;h.insert("rect",":first-child").call(i.setRect,0,0,c,o).call(L.fill,g.paper_bgcolor);var x=g._basePlotModules||[];for(d=0;d<x.length;d++){var w=x[d];w.toSVG&&w.toSVG(f)}if(T){var C=T.node().childNodes,y=Array.prototype.slice.call(C);for(d=0;d<y.length;d++){var M=y[d];M.childNodes.length&&h.node().appendChild(M)}}g._draggers&&g._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=m.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&s.style("font-family",E.replace(v,p));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&s.style("font-weight",void 0);var F=this.style.fontStyle;F&&F==="normal"&&s.style("font-style",void 0);var I=this.style.fontVariant;I&&I==="normal"&&s.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=m.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&s.style("fill",E.replace(v,p));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&s.style("stroke",b.replace(v,p))}),(l==="pdf"||l==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(S.xmlns,"xmlns",S.svg),h.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),l==="svg"&&u&&(h.attr("width",u*c),h.attr("height",u*o),h.attr("viewBox","0 0 "+c+" "+o));var A=new window.XMLSerializer().serializeToString(h.node());return A=t(A),A=a(A),A=A.replace(r,"'"),P.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},84664:function(G,V,e){var m=e(3400);G.exports=function(i,L){for(var S=0;S<i.length;S++)i[S].i=S;m.mergeArray(L.text,i,"tx"),m.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,i,"mo",!0),m.mergeArray(v.color,i,"mc");var p=v.line;p&&(m.mergeArray(p.color,i,"mlc"),m.mergeArrayCastPositive(p.width,i,"mlw"))}}},20832:function(G,V,e){var m=e(52904),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(21776).Gw,S=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=m.marker,f=n.line,l=t({},f.width,{dflt:0}),u=t({width:l,editType:"calc"},S("marker.line")),g=t({line:u,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:m.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:m.hovertext,hovertemplate:i({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},a,{}),insidetextfont:t({},a,{}),outsidetextfont:t({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},m.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:{marker:{opacity:m.selected.marker.opacity,color:m.selected.marker.color,editType:"style"},textfont:m.selected.textfont,editType:"style"},unselected:{marker:{opacity:m.unselected.marker.opacity,color:m.unselected.marker.color,editType:"style"},textfont:m.unselected.textfont,editType:"style"},zorder:m.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,V,e){var m=e(54460),P=e(1220),i=e(94288).hasColorscale,L=e(47128),S=e(84664),v=e(4500);G.exports=function(r,t){var a=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,l,u,g,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=a.makeCalcdata(t,"x",c),u=n.makeCalcdata(t,"y"),g=P(t,n,"y",u),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y",c),u=a.makeCalcdata(t,"x"),g=P(t,a,"x",u),h=!!t.xperiodalignment,T="x"),l=g.vals;for(var o=Math.min(l.length,f.length),d=new Array(o),x=0;x<o;x++)d[x]={p:l[x],s:f[x]},h&&(d[x].orig_p=u[x],d[x][T+"End"]=g.ends[x],d[x][T+"Start"]=g.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return i(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(d,t),v(d,t),d}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,V,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,L=e(24040),S=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(b,F){for(var I=F.xaxis,N=F.yaxis,_=b._fullLayout,O=b._fullData,B=b.calcdata,z=[],U=[],Z=0;Z<O.length;Z++){var J=O[Z];if(J.visible===!0&&L.traceIs(J,"bar")&&J.xaxis===I._id&&J.yaxis===N._id&&(J.orientation==="h"?z.push(B[Z]):U.push(B[Z]),J._computePh))for(var re=b.calcdata[Z],ne=0;ne<re.length;ne++)typeof re[ne].ph0=="function"&&(re[ne].ph0=re[ne].ph0()),typeof re[ne].ph1=="function"&&(re[ne].ph1=re[ne].ph1())}var ue={xCat:I.type==="category"||I.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};t(b,I,N,U,ue),t(b,N,I,z,ue)}function t(b,F,I,N,_){if(N.length){var O,B,z,U,Z;switch(f(I,N),_.mode){case"overlay":l(F,I,N,_);break;case"group":for(O=[],B=[],z=0;z<N.length;z++)U=N[z],Z=U[0].trace,Z.offset===void 0?B.push(U):O.push(U);B.length&&u(b,F,I,B,_),O.length&&l(F,I,O,_);break;case"stack":case"relative":for(O=[],B=[],z=0;z<N.length;z++)U=N[z],Z=U[0].trace,Z.base===void 0?B.push(U):O.push(U);n(B),B.length&&g(b,F,I,B,_),O.length&&l(F,I,O,_);break}a(N),s(N,F)}}function a(b){var F,I,N,_,O,B,z;for(F=0;F<b.length;F++)I=b[F],N=I[0].trace,_=I[0].t,_.cornerradiusvalue===void 0&&(O=N.marker?N.marker.cornerradius:void 0,O!==void 0&&(B=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",_.cornerradiusvalue=B,_.cornerradiusform=z))}function n(b){if(!(b.length<2)){var F,I,N,_,O,B,z;for(F=0;F<b.length&&(I=b[F],N=I[0].trace,O=N.marker?N.marker.cornerradius:void 0,O===void 0);F++);if(O!==void 0)for(B=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",F=0;F<b.length;F++)I=b[F],_=I[0].t,_.cornerradiusvalue=B,_.cornerradiusform=z}}function f(b,F){var I,N;for(I=0;I<F.length;I++){var _=F[I],O=_[0].trace,B=O.type==="funnel"?O._base:O.base,z,U=O.orientation==="h"?O.xcalendar:O.ycalendar,Z=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(P(B)){for(N=0;N<Math.min(B.length,_.length);N++)z=Z(B[N],0,U),m(z)?(_[N].b=+z,_[N].hasB=1):_[N].b=0;for(;N<_.length;N++)_[N].b=0}else{z=Z(B,0,U);var J=m(z);for(z=J?z:0,N=0;N<_.length;N++)_[N].b=z,J&&(_[N].hasB=1)}}}function l(b,F,I,N){for(var _=0;_<I.length;_++){var O=I[_],B=new p([O],{posAxis:b,sepNegVal:!1,overlapNoMerge:!N.norm});h(b,B,N),N.norm?(C(B),M(F,B,N)):x(F,B)}}function u(b,F,I,N,_){var O=new p(N,{posAxis:F,sepNegVal:!1,overlapNoMerge:!_.norm});T(b,F,O,_),y(O,F),_.norm?(C(O),M(I,O,_)):x(I,O)}function g(b,F,I,N,_){var O=new p(N,{posAxis:F,sepNegVal:_.mode==="relative",overlapNoMerge:!(_.norm||_.mode==="stack"||_.mode==="relative")});h(F,O,_),w(I,O,_);for(var B=0;B<N.length;B++)for(var z=N[B],U=0;U<z.length;U++){var Z=z[U];if(Z.s!==i){var J=Z.b+Z.s===O.get(Z.p,Z.s);J&&(Z._outmost=!0)}}_.norm&&M(I,O,_)}function h(b,F,I){for(var N=F.minDiff,_=F.traces,O=N*(1-I.gap),B=O,z=B*(1-(I.groupgap||0)),U=-z/2,Z=0;Z<_.length;Z++){var J=_[Z],re=J[0].t;re.barwidth=z,re.poffset=U,re.bargroupwidth=O,re.bardelta=N}F.binWidth=_[0][0].t.barwidth/100,c(F),o(b,F),d(b,F)}function T(b,F,I,N){for(var _=b._fullLayout,O=I.positions,B=I.distinctPositions,z=I.minDiff,U=I.traces,Z=U.length,J=O.length!==B.length,re=z*(1-N.gap),ne=v(_,F._id)+U[0][0].trace.orientation,ue=_._alignmentOpts[ne]||{},te=0;te<Z;te++){var Q=U[te],ie=Q[0].trace,Y=ue[ie.alignmentgroup]||{},$=Object.keys(Y.offsetGroups||{}).length,oe;$?oe=re/$:oe=J?re/Z:re;var j=oe*(1-(N.groupgap||0)),X;$?X=((2*ie._offsetIndex+1-$)*oe-j)/2:X=J?((2*te+1-Z)*oe-j)/2:-j/2;var se=Q[0].t;se.barwidth=j,se.poffset=X,se.bargroupwidth=re,se.bardelta=z}I.binWidth=U[0][0].t.barwidth/100,c(I),o(F,I),d(F,I,J)}function c(b){var F=b.traces,I,N;for(I=0;I<F.length;I++){var _=F[I],O=_[0],B=O.trace,z=O.t,U=B._offset||B.offset,Z=z.poffset,J;if(P(U)){for(J=Array.prototype.slice.call(U,0,_.length),N=0;N<J.length;N++)m(J[N])||(J[N]=Z);for(N=J.length;N<_.length;N++)J.push(Z);z.poffset=J}else U!==void 0&&(z.poffset=U);var re=B._width||B.width,ne=z.barwidth;if(P(re)){var ue=Array.prototype.slice.call(re,0,_.length);for(N=0;N<ue.length;N++)m(ue[N])||(ue[N]=ne);for(N=ue.length;N<_.length;N++)ue.push(ne);if(z.barwidth=ue,U===void 0){for(J=[],N=0;N<_.length;N++)J.push(Z+(ne-ue[N])/2);z.poffset=J}}else re!==void 0&&(z.barwidth=re,U===void 0&&(z.poffset=Z+(ne-re)/2))}}function o(b,F){for(var I=F.traces,N=E(b),_=0;_<I.length;_++)for(var O=I[_],B=O[0].t,z=B.poffset,U=P(z),Z=B.barwidth,J=P(Z),re=0;re<O.length;re++){var ne=O[re],ue=ne.w=J?Z[re]:Z;ne.p===void 0&&(ne.p=ne[N],ne["orig_"+N]=ne[N]);var te=(U?z[re]:z)+ue/2;ne[N]=ne.p+te}}function d(b,F,I){var N=F.traces,_=F.minDiff,O=_/2;S.minDtick(b,F.minDiff,F.distinctPositions[0],I);for(var B=0;B<N.length;B++){var z=N[B],U=z[0],Z=U.trace,J=[],re,ne,ue,te;for(te=0;te<z.length;te++)re=z[te],ne=re.p-O,ue=re.p+O,J.push(ne,ue);if(Z.width||Z.offset){var Q=U.t,ie=Q.poffset,Y=Q.barwidth,$=P(ie),oe=P(Y);for(te=0;te<z.length;te++){re=z[te];var j=$?ie[te]:ie,X=oe?Y[te]:Y;ne=re.p+j,ue=ne+X,J.push(ne,ue)}}Z._extremes[b._id]=S.findExtremes(b,J,{padded:!1})}}function x(b,F){for(var I=F.traces,N=E(b),_=0;_<I.length;_++){for(var O=I[_],B=O[0].trace,z=B.type==="scatter",U=B.orientation==="v",Z=[],J=!1,re=0;re<O.length;re++){var ne=O[re],ue=z?0:ne.b,te=z?U?ne.y:ne.x:ue+ne.s;ne[N]=te,Z.push(te),ne.hasB&&Z.push(ue),(!ne.hasB||!ne.b)&&(J=!0)}B._extremes[b._id]=S.findExtremes(b,Z,{tozero:J,padded:!0})}}function w(b,F,I){var N=E(b),_=F.traces,O,B,z,U,Z,J;for(U=0;U<_.length;U++)if(O=_[U],B=O[0].trace,B.type==="funnel")for(Z=0;Z<O.length;Z++)J=O[Z],J.s!==i&&F.put(J.p,-.5*J.s);for(U=0;U<_.length;U++){O=_[U],B=O[0].trace,z=B.type==="funnel";var re=[];for(Z=0;Z<O.length;Z++)if(J=O[Z],J.s!==i){var ne;z?ne=J.s:ne=J.s+J.b;var ue=F.put(J.p,ne),te=ue+ne;J.b=ue,J[N]=te,I.norm||(re.push(te),J.hasB&&re.push(ue))}I.norm||(B._extremes[b._id]=S.findExtremes(b,re,{tozero:!0,padded:!0}))}}function C(b){for(var F=b.traces,I=0;I<F.length;I++)for(var N=F[I],_=0;_<N.length;_++){var O=N[_];O.s!==i&&b.put(O.p,O.b+O.s)}}function y(b,F){for(var I=b.traces,N=0;N<I.length;N++){var _=I[N],O=_[0].trace;if(O.base===void 0)for(var B=new p([_],{posAxis:F,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<_.length;z++){var U=_[z];if(U.p!==i){var Z=B.put(U.p,U.b+U.s);Z&&(U.b=Z)}}}}function M(b,F,I){var N=F.traces,_=E(b),O=I.norm==="fraction"?1:100,B=O/1e9,z=b.l2c(b.c2l(0)),U=I.mode==="stack"?O:z;function Z(X){return m(b.c2l(X))&&(X<z-B||X>U+B||!m(z))}for(var J=0;J<N.length;J++){for(var re=N[J],ne=re[0].trace,ue=[],te=!1,Q=!1,ie=0;ie<re.length;ie++){var Y=re[ie];if(Y.s!==i){var $=Math.abs(O/F.get(Y.p,Y.s));Y.b*=$,Y.s*=$;var oe=Y.b,j=oe+Y.s;Y[_]=j,ue.push(j),Q=Q||Z(j),Y.hasB&&(ue.push(oe),Q=Q||Z(oe)),(!Y.hasB||!Y.b)&&(te=!0)}}ne._extremes[b._id]=S.findExtremes(b,ue,{tozero:te,padded:Q})}}function A(b,F,I,N){for(var _=E(N),O=0;O<b.length;O++)for(var B=b[O],z=0;z<B.length;z++){var U=B[z],Z=U[_];U._sMin=F[Z],U._sMax=I[Z]}}function s(b,F){var I=E(F),N={},_,O,B,z=1/0,U=-1/0;for(_=0;_<b.length;_++)for(B=b[_],O=0;O<B.length;O++){var Z=B[O].p;m(Z)&&(z=Math.min(z,Z),U=Math.max(U,Z))}var J=1e4/(U-z),re=N.round=function(ce){return String(Math.round(J*(ce-z)))},ne={},ue={},te=b.some(function(ce){var ye=ce[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(_=0;_<b.length;_++){B=b[_],B[0].t.extents=N;var Q=B[0].t.poffset,ie=P(Q);for(O=0;O<B.length;O++){var Y=B[O],$=Y[I]-Y.w/2;if(m($)){var oe=Y[I]+Y.w/2,j=re(Y.p);N[j]?N[j]=[Math.min($,N[j][0]),Math.max(oe,N[j][1])]:N[j]=[$,oe]}if(Y.p0=Y.p+(ie?Q[O]:Q),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,te){var X=Math.min(Y.s0,Y.s1)||0,se=Math.max(Y.s0,Y.s1)||0,q=Y[I];ne[q]=q in ne?Math.min(ne[q],X):X,ue[q]=q in ue?Math.max(ue[q],se):se}}}te&&A(b,ne,ue,F)}function E(b){return b._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,V,e){var m=e(38248),P=e(3400),i=e(76308),L=e(24040),S=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),a=P.coerceFont;function n(g,h,T,c){function o(y,M){return P.coerce(g,h,t,y,M)}var d=S(g,h,c,o);if(!d){h.visible=!1;return}v(g,h,c,o),o("xhoverformat"),o("yhoverformat"),o("zorder"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");u(g,h,c,o,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(g,h,o,T,c);var w=(h.marker.line||{}).color,C=L.getComponentMethod("errorbars","supplyDefaults");C(g,h,w||i.defaultLine,{axis:"y"}),C(g,h,w||i.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,o)}function f(g,h){var T,c;function o(w,C){return P.coerce(c._input,c,t,w,C)}for(var d=0;d<g.length;d++)if(c=g[d],c.type==="bar"){T=c._input;var x=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=l(x)),h.barmode==="group"&&r(T,c,h,o)}}function l(g){if(m(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&m(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function u(g,h,T,c,o,d){d=d||{};var x=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,M=d.moduleHasTextangle!==!1,A=d.moduleHasInsideanchor!==!1,s=!!d.hasPathbar,E=Array.isArray(o)||o==="auto",b=E||o==="inside",F=E||o==="outside";if(b||F){var I=a(c,"textfont",T.font),N=P.extendFlat({},I),_=g.textfont&&g.textfont.color,O=!_;if(O&&delete N.color,a(c,"insidetextfont",N),s){var B=P.extendFlat({},I);O&&delete B.color,a(c,"pathbar.textfont",B)}F&&a(c,"outsidetextfont",I),x&&c("selected.textfont.color"),w&&c("unselected.textfont.color"),C&&c("constraintext"),y&&c("cliponaxis"),M&&c("textangle"),c("texttemplate")}b&&A&&c("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:u,validateCornerradius:l}},52160:function(G){G.exports=function(e,m,P){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,V,e){var m=e(38248),P=e(49760),i=e(3400).isArrayOrTypedArray;V.coerceString=function(L,S,v){if(typeof S=="string"){if(S||!L.noBlank)return S}else if((typeof S=="number"||S===!0)&&!L.strict)return String(S);return v!==void 0?v:L.dflt},V.coerceNumber=function(L,S,v){if(m(S)){S=+S;var p=L.min,r=L.max,t=p!==void 0&&S<p||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:L.dflt},V.coerceColor=function(L,S,v){return P(S).isValid()?S:v!==void 0?v:L.dflt},V.coerceEnumerated=function(L,S,v){return L.coerceNumber&&(S=+S),L.values.indexOf(S)!==-1?S:v!==void 0?v:L.dflt},V.getValue=function(L,S){var v;return i(L)?S<L.length&&(v=L[S]):v=L,v},V.getLineWidth=function(L,S){var v=0<S.mlw?S.mlw:i(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(G,V,e){var m=e(93024),P=e(24040),i=e(76308),L=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,f,l,u,g){var h=t(n,f,l,u,g);if(h){var T=h.cd,c=T[0].trace,o=T[h.index];return h.color=a(c,o),P.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(n,f,l,u,g){var h=n.cd,T=h[0].trace,c=h[0].t,o=u==="closest",d=T.type==="waterfall",x=n.maxHoverDistance,w=n.maxSpikeDistance,C,y,M,A,s,E,b;T.orientation==="h"?(C=l,y=f,M="y",A="x",s=ue,E=J):(C=f,y=l,M="x",A="y",E=ue,s=J);var F=T[M+"period"],I=o||F;function N(ce){return O(ce,-1)}function _(ce){return O(ce,1)}function O(ce,ye){var we=ce.w;return ce[M]+ye*we/2}function B(ce){return ce[M+"End"]-ce[M+"Start"]}var z=o?N:F?function(ce){return ce.p-B(ce)/2}:function(ce){return Math.min(N(ce),ce.p-c.bardelta/2)},U=o?_:F?function(ce){return ce.p+B(ce)/2}:function(ce){return Math.max(_(ce),ce.p+c.bardelta/2)};function Z(ce,ye,we){return g.finiteRange&&(we=0),m.inbox(ce-C,ye-C,we+Math.min(1,Math.abs(ye-ce)/b)-1)}function J(ce){return Z(z(ce),U(ce),x)}function re(ce){return Z(N(ce),_(ce),w)}function ne(ce){var ye=ce[A];if(d){var we=Math.abs(ce.rawS)||0;y>0?ye+=we:y<0&&(ye-=we)}return ye}function ue(ce){var ye=y,we=ce.b,be=ne(ce);return m.inbox(we-ye,be-ye,x+(be-ye)/(be-we)-1)}function te(ce){var ye=y,we=ce.b,be=ne(ce);return m.inbox(we-ye,be-ye,w+(be-ye)/(be-we)-1)}var Q=n[M+"a"],ie=n[A+"a"];b=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));function Y(ce){return(s(ce)+E(ce))/2}var $=m.getDistanceFunction(u,s,E,Y);if(m.getClosest(h,$,n),n.index!==!1&&h[n.index].p!==p){I||(z=function(ce){return Math.min(N(ce),ce.p-c.bargroupwidth/2)},U=function(ce){return Math.max(_(ce),ce.p+c.bargroupwidth/2)});var oe=n.index,j=h[oe],X=T.base?j.b+j.s:j.s;n[A+"0"]=n[A+"1"]=ie.c2p(j[A],!0),n[A+"LabelVal"]=X;var se=c.extents[c.extents.round(j.p)];n[M+"0"]=Q.c2p(o?z(j):se[0],!0),n[M+"1"]=Q.c2p(o?U(j):se[1],!0);var q=j.orig_p!==void 0;return n[M+"LabelVal"]=q?j.orig_p:j.p,n.labelLabel=v(Q,n[M+"LabelVal"],T[M+"hoverformat"]),n.valueLabel=v(ie,n[A+"LabelVal"],T[A+"hoverformat"]),n.baseLabel=v(ie,j.b,T[A+"hoverformat"]),n.spikeDistance=(te(j)+re(j))/2,n[M+"Spike"]=Q.c2p(j.p,!0),L(j,T,n),n.hovertemplate=T.hovertemplate,n}}function a(n,f){var l=f.mcc||n.marker.color,u=f.mlcc||n.marker.line.color,g=S(n,f);if(i.opacity(l))return l;if(i.opacity(u)&&g)return u}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:a}},51132:function(G,V,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,V,e){var m=e(24040),P=e(54460),i=e(3400),L=e(39324),S=e(31508).validateCornerradius;G.exports=function(v,p,r){function t(d,x){return i.coerce(v,p,L,d,x)}for(var a=!1,n=!1,f=!1,l={},u=t("barmode"),g=0;g<r.length;g++){var h=r[g];if(m.traceIs(h,"bar")&&h.visible)a=!0;else continue;if(u==="group"){var T=h.xaxis+h.yaxis;l[T]&&(f=!0),l[T]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!a){delete p.barmode;return}u!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var o=t("barcornerradius");p.barcornerradius=S(o)}},98184:function(G,V,e){var m=e(33428),P=e(38248),i=e(3400),L=e(72736),S=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),l=e(60444),u=e(78048),g=e(20832),h=g.text,T=g.textposition,c=e(10624).appendArrayPointValue,o=u.TEXTPAD;function d(J){return J.id}function x(J){if(J.ids)return d}function w(J){return(J>0)-(J<0)}function C(J,re){return J<re?1:-1}function y(J,re,ne,ue){var te=[],Q=[],ie=ue?re:ne,Y=ue?ne:re;return te[0]=ie.c2p(J.s0,!0),Q[0]=Y.c2p(J.p0,!0),te[1]=ie.c2p(J.s1,!0),Q[1]=Y.c2p(J.p1,!0),ue?[te,Q]:[Q,te]}function M(J,re,ne,ue){if(!re.uniformtext.mode&&A(ne)){var te;return ue&&(te=ue()),J.transition().duration(ne.duration).ease(ne.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()})}else return J}function A(J){return J&&J.duration>0}function s(J,re,ne,ue,te,Q){var ie=re.xaxis,Y=re.yaxis,$=J._fullLayout,oe=J._context.staticPlot;te||(te={mode:$.barmode,norm:$.barmode,gap:$.bargap,groupgap:$.bargroupgap},n("bar",$));var j=i.makeTraceGroups(ue,ne,"trace bars").each(function(X){var se=m.select(this),q=X[0].trace,ce=X[0].t,ye=q.type==="waterfall",we=q.type==="funnel",be=q.type==="histogram",De=q.type==="bar",ke=De||we,Be=0;ye&&q.connector.visible&&q.connector.mode==="between"&&(Be=q.connector.line.width/2);var Ae=q.orientation==="h",Ie=A(te),Me=i.ensureSingle(se,"g","points"),Fe=x(q),Ee=Me.selectAll("g.point").data(i.identity,Fe);Ee.enter().append("g").classed("point",!0),Ee.exit().remove(),Ee.each(function(rt,ot){var $e=m.select(this),qe=y(rt,ie,Y,Ae),ht=qe[0][0],vt=qe[0][1],pt=qe[1][0],wt=qe[1][1],Mt=(Ae?vt-ht:wt-pt)===0;Mt&&ke&&l.getLineWidth(q,rt)&&(Mt=!1),Mt||(Mt=!P(ht)||!P(vt)||!P(pt)||!P(wt)),rt.isBlank=Mt,Mt&&(Ae?vt=ht:wt=pt),Be&&!Mt&&(Ae?(ht-=C(ht,vt)*Be,vt+=C(ht,vt)*Be):(pt-=C(pt,wt)*Be,wt+=C(pt,wt)*Be));var nt,_e;if(q.type==="waterfall"){if(!Mt){var Ge=q[rt.dir].marker;nt=Ge.line.width,_e=Ge.color}}else nt=l.getLineWidth(q,rt),_e=rt.mc||q.marker.color;function je(ut){var bt=m.round(nt/2%1,2);return te.gap===0&&te.groupgap===0?m.round(Math.round(ut)-bt,2):ut}function We(ut,bt,Et){return Et&&ut===bt?ut:Math.abs(ut-bt)>=2?je(ut):ut>bt?Math.ceil(ut):Math.floor(ut)}var Pe=S.opacity(_e),Re=Pe<1||nt>.01?je:We;J._context.staticPlot||(ht=Re(ht,vt,Ae),vt=Re(vt,ht,Ae),pt=Re(pt,wt,!Ae),wt=Re(wt,pt,!Ae));var Xe=Ae?ie.c2p:Y.c2p,Le;rt.s0>0?Le=rt._sMax:rt.s0<0?Le=rt._sMin:Le=rt.s1>0?rt._sMax:rt._sMin;function ve(ut,bt){if(!ut)return 0;var Et=Math.abs(Ae?wt-pt:vt-ht),Rt=Math.abs(Ae?vt-ht:wt-pt),Ht=Re(Math.abs(Xe(Le,!0)-Xe(0,!0))),Bt=rt.hasB?Math.min(Et/2,Rt/2):Math.min(Et/2,Ht),Nt;if(bt==="%"){var Jt=Math.min(50,ut);Nt=Et*(Jt/100)}else Nt=ut;return Re(Math.max(Math.min(Nt,Bt),0))}var xe=De||be?ve(ce.cornerradiusvalue,ce.cornerradiusform):0,Ne,et,st="M"+ht+","+pt+"V"+wt+"H"+vt+"V"+pt+"Z",lt=0;if(xe&&rt.s){var Gt=w(rt.s0)===0||w(rt.s)===w(rt.s0)?rt.s1:rt.s0;if(lt=Re(rt.hasB?0:Math.abs(Xe(Le,!0)-Xe(Gt,!0))),lt<xe){var jt=C(ht,vt),Tt=C(pt,wt),Dt=jt===-Tt?1:0;if(Ae)if(rt.hasB)Ne="M"+(ht+xe*jt)+","+pt+"A "+xe+","+xe+" 0 0 "+Dt+" "+ht+","+(pt+xe*Tt)+"V"+(wt-xe*Tt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(ht+xe*jt)+","+wt+"H"+(vt-xe*jt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+vt+","+(wt-xe*Tt)+"V"+(pt+xe*Tt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(vt-xe*jt)+","+pt+"Z";else{et=Math.abs(vt-ht)+lt;var Xt=et<xe?xe-Math.sqrt(et*(2*xe-et)):0,gr=lt>0?Math.sqrt(lt*(2*xe-lt)):0,gt=jt>0?Math.max:Math.min;Ne="M"+ht+","+pt+"V"+(wt-Xt*Tt)+"H"+gt(vt-(xe-lt)*jt,ht)+"A "+xe+","+xe+" 0 0 "+Dt+" "+vt+","+(wt-xe*Tt-gr)+"V"+(pt+xe*Tt+gr)+"A "+xe+","+xe+" 0 0 "+Dt+" "+gt(vt-(xe-lt)*jt,ht)+","+(pt+Xt*Tt)+"Z"}else if(rt.hasB)Ne="M"+(ht+xe*jt)+","+pt+"A "+xe+","+xe+" 0 0 "+Dt+" "+ht+","+(pt+xe*Tt)+"V"+(wt-xe*Tt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(ht+xe*jt)+","+wt+"H"+(vt-xe*jt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+vt+","+(wt-xe*Tt)+"V"+(pt+xe*Tt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(vt-xe*jt)+","+pt+"Z";else{et=Math.abs(wt-pt)+lt;var Zt=et<xe?xe-Math.sqrt(et*(2*xe-et)):0,Qt=lt>0?Math.sqrt(lt*(2*xe-lt)):0,yr=Tt>0?Math.max:Math.min;Ne="M"+(ht+Zt*jt)+","+pt+"V"+yr(wt-(xe-lt)*Tt,pt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(ht+xe*jt-Qt)+","+wt+"H"+(vt-xe*jt+Qt)+"A "+xe+","+xe+" 0 0 "+Dt+" "+(vt-Zt*jt)+","+yr(wt-(xe-lt)*Tt,pt)+"V"+pt+"Z"}}else Ne=st}else Ne=st;var or=M(i.ensureSingle($e,"path"),$,te,Q);if(or.style("vector-effect",oe?"none":"non-scaling-stroke").attr("d",isNaN((vt-ht)*(wt-pt))||Mt&&J._context.staticPlot?"M0,0Z":Ne).call(v.setClipUrl,re.layerClipId,J),!$.uniformtext.mode&&Ie){var mt=v.makePointStyleFns(q);v.singlePointStyle(rt,or,q,mt,J)}E(J,re,$e,X,ot,ht,vt,pt,wt,xe,lt,te,Q),re.layerClipId&&v.hideOutsideRangePoint(rt,$e.select("text"),ie,Y,q.xcalendar,q.ycalendar)});var He=q.cliponaxis===!1;v.setClipUrl(se,He?null:re.layerClipId,J)});p.getComponentMethod("errorbars","plot")(J,j,re,te)}function E(J,re,ne,ue,te,Q,ie,Y,$,oe,j,X,se){var q=re.xaxis,ce=re.yaxis,ye=J._fullLayout,we;function be(et,st,lt){var Gt=i.ensureSingle(et,"text").text(st).attr({class:"bartext bartext-"+we,"text-anchor":"middle","data-notex":1}).call(v.font,lt).call(L.convertToTspans,J);return Gt}var De=ue[0].trace,ke=De.orientation==="h",Be=B(ye,ue,te,q,ce);we=z(De,te);var Ae=X.mode==="stack"||X.mode==="relative",Ie=ue[te],Me=!Ae||Ie._outmost,Fe=Ie.hasB,Ee=oe&&oe-j>o;if(!Be||we==="none"||(Ie.isBlank||Q===ie||Y===$)&&(we==="auto"||we==="inside")){ne.select("text").remove();return}var He=ye.font,rt=f.getBarColor(ue[te],De),ot=f.getInsideTextFont(De,te,He,rt),$e=f.getOutsideTextFont(De,te,He),qe=De.insidetextanchor||"end",ht=ne.datum();ke?q.type==="log"&&ht.s0<=0&&(q.range[0]<q.range[1]?Q=0:Q=q._length):ce.type==="log"&&ht.s0<=0&&(ce.range[0]<ce.range[1]?Y=ce._length:Y=0);var vt=Math.abs(ie-Q),pt=Math.abs($-Y),wt=vt-2*o,Mt=pt-2*o,nt,_e,Ge,je,We;if(we==="outside"&&!Me&&!Ie.hasB&&(we="inside"),we==="auto")if(Me){we="inside",We=i.ensureUniformFontSize(J,ot),nt=be(ne,Be,We),_e=v.bBox(nt.node()),Ge=_e.width,je=_e.height;var Pe=Ge>0&&je>0,Re;Ee?Fe?Re=b(wt-2*oe,Mt,Ge,je,ke)||b(wt,Mt-2*oe,Ge,je,ke):ke?Re=b(wt-(oe-j),Mt,Ge,je,ke)||b(wt,Mt-2*(oe-j),Ge,je,ke):Re=b(wt,Mt-(oe-j),Ge,je,ke)||b(wt-2*(oe-j),Mt,Ge,je,ke):Re=b(wt,Mt,Ge,je,ke),Pe&&Re?we="inside":(we="outside",nt.remove(),nt=null)}else we="inside";if(!nt){We=i.ensureUniformFontSize(J,we==="outside"?$e:ot),nt=be(ne,Be,We);var Xe=nt.attr("transform");if(nt.attr("transform",""),_e=v.bBox(nt.node()),Ge=_e.width,je=_e.height,nt.attr("transform",Xe),Ge<=0||je<=0){nt.remove();return}}var Le=De.textangle,ve,xe;we==="outside"?(xe=De.constraintext==="both"||De.constraintext==="outside",ve=O(Q,ie,Y,$,_e,{isHorizontal:ke,constrained:xe,angle:Le})):(xe=De.constraintext==="both"||De.constraintext==="inside",ve=N(Q,ie,Y,$,_e,{isHorizontal:ke,constrained:xe,angle:Le,anchor:qe,hasB:Fe,r:oe,overhead:j})),ve.fontSize=We.size,a(De.type==="histogram"?"bar":De.type,ve,ye),Ie.transform=ve;var Ne=M(nt,ye,X,se);i.setTransormAndDisplay(Ne,ve)}function b(J,re,ne,ue,te){if(J<0||re<0)return!1;var Q=ne<=J&&ue<=re,ie=ne<=re&&ue<=J,Y=te?J>=ne*(re/ue):re>=ue*(J/ne);return Q||ie||Y}function F(J){return J==="auto"?0:J}function I(J,re){var ne=Math.PI/180*re,ue=Math.abs(Math.sin(ne)),te=Math.abs(Math.cos(ne));return{x:J.width*te+J.height*ue,y:J.width*ue+J.height*te}}function N(J,re,ne,ue,te,Q){var ie=!!Q.isHorizontal,Y=!!Q.constrained,$=Q.angle||0,oe=Q.anchor,j=oe==="end",X=oe==="start",se=Q.leftToRight||0,q=(se+1)/2,ce=1-q,ye=Q.hasB,we=Q.r,be=Q.overhead,De=te.width,ke=te.height,Be=Math.abs(re-J),Ae=Math.abs(ue-ne),Ie=Be>2*o&&Ae>2*o?o:0;Be-=2*Ie,Ae-=2*Ie;var Me=F($);$==="auto"&&!(De<=Be&&ke<=Ae)&&(De>Be||ke>Ae)&&(!(De>Ae||ke>Be)||De<ke!=Be<Ae)&&(Me+=90);var Fe=I(te,Me),Ee,He;if(we&&we-be>o){var rt=_(J,re,ne,ue,Fe,we,be,ie,ye);Ee=rt.scale,He=rt.pad}else Ee=1,Y&&(Ee=Math.min(1,Be/Fe.x,Ae/Fe.y)),He=0;var ot=te.left*ce+te.right*q,$e=(te.top+te.bottom)/2,qe=(J+o)*ce+(re-o)*q,ht=(ne+ue)/2,vt=0,pt=0;if(X||j){var wt=(ie?Fe.x:Fe.y)/2;we&&(j||ye)&&(Ie+=He);var Mt=ie?C(J,re):C(ne,ue);ie?X?(qe=J+Mt*Ie,vt=-Mt*wt):(qe=re-Mt*Ie,vt=Mt*wt):X?(ht=ne+Mt*Ie,pt=-Mt*wt):(ht=ue-Mt*Ie,pt=Mt*wt)}return{textX:ot,textY:$e,targetX:qe,targetY:ht,anchorX:vt,anchorY:pt,scale:Ee,rotate:Me}}function _(J,re,ne,ue,te,Q,ie,Y,$){var oe=Math.max(0,Math.abs(re-J)-2*o),j=Math.max(0,Math.abs(ue-ne)-2*o),X=Q-o,se=ie?X-Math.sqrt(X*X-(X-ie)*(X-ie)):X,q=$?X*2:Y?X-ie:2*se,ce=$?X*2:Y?2*se:X-ie,ye,we,be,De,ke;return te.y/te.x>=j/(oe-q)?De=j/te.y:te.y/te.x<=(j-ce)/oe?De=oe/te.x:!$&&Y?(ye=te.x*te.x+te.y*te.y/4,we=-2*te.x*(oe-X)-te.y*(j/2-X),be=(oe-X)*(oe-X)+(j/2-X)*(j/2-X)-X*X,De=(-we+Math.sqrt(we*we-4*ye*be))/(2*ye)):$?(ye=(te.x*te.x+te.y*te.y)/4,we=-te.x*(oe/2-X)-te.y*(j/2-X),be=(oe/2-X)*(oe/2-X)+(j/2-X)*(j/2-X)-X*X,De=(-we+Math.sqrt(we*we-4*ye*be))/(2*ye)):(ye=te.x*te.x/4+te.y*te.y,we=-te.x*(oe/2-X)-2*te.y*(j-X),be=(oe/2-X)*(oe/2-X)+(j-X)*(j-X)-X*X,De=(-we+Math.sqrt(we*we-4*ye*be))/(2*ye)),De=Math.min(1,De),Y?ke=Math.max(0,X-Math.sqrt(Math.max(0,X*X-(X-(j-te.y*De)/2)*(X-(j-te.y*De)/2)))-ie):ke=Math.max(0,X-Math.sqrt(Math.max(0,X*X-(X-(oe-te.x*De)/2)*(X-(oe-te.x*De)/2)))-ie),{scale:De,pad:ke}}function O(J,re,ne,ue,te,Q){var ie=!!Q.isHorizontal,Y=!!Q.constrained,$=Q.angle||0,oe=te.width,j=te.height,X=Math.abs(re-J),se=Math.abs(ue-ne),q;ie?q=se>2*o?o:0:q=X>2*o?o:0;var ce=1;Y&&(ce=ie?Math.min(1,se/j):Math.min(1,X/oe));var ye=F($),we=I(te,ye),be=(ie?we.x:we.y)/2,De=(te.left+te.right)/2,ke=(te.top+te.bottom)/2,Be=(J+re)/2,Ae=(ne+ue)/2,Ie=0,Me=0,Fe=ie?C(re,J):C(ne,ue);return ie?(Be=re-Fe*q,Ie=Fe*be):(Ae=ue+Fe*q,Me=-Fe*be),{textX:De,textY:ke,targetX:Be,targetY:Ae,anchorX:Ie,anchorY:Me,scale:ce,rotate:ye}}function B(J,re,ne,ue,te){var Q=re[0].trace,ie=Q.texttemplate,Y;return ie?Y=U(J,re,ne,ue,te):Q.textinfo?Y=Z(re,ne,ue,te):Y=l.getValue(Q.text,ne),l.coerceString(h,Y)}function z(J,re){var ne=l.getValue(J.textposition,re);return l.coerceEnumerated(T,ne)}function U(J,re,ne,ue,te){var Q=re[0].trace,ie=i.castOption(Q,ne,"texttemplate");if(!ie)return"";var Y=Q.type==="histogram",$=Q.type==="waterfall",oe=Q.type==="funnel",j=Q.orientation==="h",X,se,q,ce;j?(X="y",se=te,q="x",ce=ue):(X="x",se=ue,q="y",ce=te);function ye(Ie){return r(se,se.c2l(Ie),!0).text}function we(Ie){return r(ce,ce.c2l(Ie),!0).text}var be=re[ne],De={};De.label=be.p,De.labelLabel=De[X+"Label"]=ye(be.p);var ke=i.castOption(Q,be.i,"text");(ke===0||ke)&&(De.text=ke),De.value=be.s,De.valueLabel=De[q+"Label"]=we(be.s);var Be={};c(Be,Q,be.i),(Y||Be.x===void 0)&&(Be.x=j?De.value:De.label),(Y||Be.y===void 0)&&(Be.y=j?De.label:De.value),(Y||Be.xLabel===void 0)&&(Be.xLabel=j?De.valueLabel:De.labelLabel),(Y||Be.yLabel===void 0)&&(Be.yLabel=j?De.labelLabel:De.valueLabel),$&&(De.delta=+be.rawS||be.s,De.deltaLabel=we(De.delta),De.final=be.v,De.finalLabel=we(De.final),De.initial=De.final-De.delta,De.initialLabel=we(De.initial)),oe&&(De.value=be.s,De.valueLabel=we(De.value),De.percentInitial=be.begR,De.percentInitialLabel=i.formatPercent(be.begR),De.percentPrevious=be.difR,De.percentPreviousLabel=i.formatPercent(be.difR),De.percentTotal=be.sumR,De.percenTotalLabel=i.formatPercent(be.sumR));var Ae=i.castOption(Q,be.i,"customdata");return Ae&&(De.customdata=Ae),i.texttemplateString(ie,De,J._d3locale,Be,De,Q._meta||{})}function Z(J,re,ne,ue){var te=J[0].trace,Q=te.orientation==="h",ie=te.type==="waterfall",Y=te.type==="funnel";function $(Ae){var Ie=Q?ue:ne;return r(Ie,Ae,!0).text}function oe(Ae){var Ie=Q?ne:ue;return r(Ie,+Ae,!0).text}var j=te.textinfo,X=J[re],se=j.split("+"),q=[],ce,ye=function(Ae){return se.indexOf(Ae)!==-1};if(ye("label")&&q.push($(J[re].p)),ye("text")&&(ce=i.castOption(te,X.i,"text"),(ce===0||ce)&&q.push(ce)),ie){var we=+X.rawS||X.s,be=X.v,De=be-we;ye("initial")&&q.push(oe(De)),ye("delta")&&q.push(oe(we)),ye("final")&&q.push(oe(be))}if(Y){ye("value")&&q.push(oe(X.s));var ke=0;ye("percent initial")&&ke++,ye("percent previous")&&ke++,ye("percent total")&&ke++;var Be=ke>1;ye("percent initial")&&(ce=i.formatPercent(X.begR),Be&&(ce+=" of initial"),q.push(ce)),ye("percent previous")&&(ce=i.formatPercent(X.difR),Be&&(ce+=" of previous"),q.push(ce)),ye("percent total")&&(ce=i.formatPercent(X.sumR),Be&&(ce+=" of total"),q.push(ce))}return q.join("<br>")}G.exports={plot:s,toMoveInsideBar:N}},45784:function(G){G.exports=function(m,P){var i=m.cd,L=m.xaxis,S=m.yaxis,v=i[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],a;if(P===!1)for(a=0;a<i.length;a++)i[a].selected=0;else for(a=0;a<i.length;a++){var n=i[a],f="ct"in n?n.ct:V(n,L,S,r,p);P.contains(f,!1,a,m)?(t.push({pointNumber:a,x:L.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function V(e,m,P,i,L){var S=m.c2p(i?e.s0:e.p0,!0),v=m.c2p(i?e.s1:e.p1,!0),p=P.c2p(i?e.p0:e.s0,!0),r=P.c2p(i?e.p1:e.s1,!0);return L?[(S+v)/2,(p+r)/2]:i?[v,(p+r)/2]:[(S+v)/2,r]}},72592:function(G,V,e){G.exports=P;var m=e(3400).distinctVals;function P(i,L){this.traces=i,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var S=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<i.length;r++){for(var t=i[r],a=0;a<t.length;a++){var n=t[a],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&p.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=p;var l=m(p);this.distinctPositions=l.vals,l.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(l.minDiff,S);var u=(L.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,S){var v=this.getLabel(L,S),p=this.bins[v]||0;return this.bins[v]=p+S,p},P.prototype.get=function(L,S){var v=this.getLabel(L,S);return this.bins[v]||0},P.prototype.getLabel=function(L,S){var v=S<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},60100:function(G,V,e){var m=e(33428),P=e(76308),i=e(43616),L=e(3400),S=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,a=p.outsidetextfont,n=e(60444);function f(y){var M=m.select(y).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(y,M,"bar");var A=M.size(),s=y._fullLayout;M.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(s.barmode==="stack"&&A>1||s.bargap===0&&s.bargroupgap===0&&!E[0].trace.marker.line.width)&&m.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(E){var b=m.select(this),F=E[0].trace;l(b,F,y)}),S.getComponentMethod("errorbars","style")(M)}function l(y,M,A){i.pointStyle(y.selectAll("path"),M,A),u(y,M,A)}function u(y,M,A){y.selectAll("text").each(function(s){var E=m.select(this),b=L.ensureUniformFontSize(A,c(E,s,M,A));i.font(E,b)})}function g(y,M,A){var s=M[0].trace;s.selectedpoints?h(A,s,y):(l(A,s,y),S.getComponentMethod("errorbars","style")(A))}function h(y,M,A){i.selectedPointStyle(y.selectAll("path"),M),T(y.selectAll("text"),M,A)}function T(y,M,A){y.each(function(s){var E=m.select(this),b;if(s.selected){b=L.ensureUniformFontSize(A,c(E,s,M,A));var F=M.selected.textfont&&M.selected.textfont.color;F&&(b.color=F),i.font(E,b)}else i.selectedTextStyle(E,M)})}function c(y,M,A,s){var E=s._fullLayout.font,b=A.textfont;if(y.classed("bartext-inside")){var F=C(M,A);b=d(A,M.i,E,F)}else y.classed("bartext-outside")&&(b=x(A,M.i,E));return b}function o(y,M,A){return w(r,y.textfont,M,A)}function d(y,M,A,s){var E=o(y,M,A),b=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[M]===void 0;return b&&(E={color:P.contrast(s),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant,textcase:E.textcase,lineposition:E.lineposition,shadow:E.shadow}),w(t,y.insidetextfont,M,E)}function x(y,M,A){var s=o(y,M,A);return w(a,y.outsidetextfont,M,s)}function w(y,M,A,s){M=M||{};var E=n.getValue(M.family,A),b=n.getValue(M.size,A),F=n.getValue(M.color,A),I=n.getValue(M.weight,A),N=n.getValue(M.style,A),_=n.getValue(M.variant,A),O=n.getValue(M.textcase,A),B=n.getValue(M.lineposition,A),z=n.getValue(M.shadow,A);return{family:n.coerceString(y.family,E,s.family),size:n.coerceNumber(y.size,b,s.size),color:n.coerceColor(y.color,F,s.color),weight:n.coerceString(y.weight,I,s.weight),style:n.coerceString(y.style,N,s.style),variant:n.coerceString(y.variant,_,s.variant),textcase:n.coerceString(y.variant,O,s.textcase),lineposition:n.coerceString(y.variant,B,s.lineposition),shadow:n.coerceString(y.variant,z,s.shadow)}}function C(y,M){return M.type==="waterfall"?M[y.dir].marker.color:y.mcc||y.mc||M.marker.color}G.exports={style:f,styleTextPoints:u,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:C,resizeText:v}},55592:function(G,V,e){var m=e(76308),P=e(94288).hasColorscale,i=e(27260),L=e(3400).coercePattern;G.exports=function(v,p,r,t,a){var n=r("marker.color",t),f=P(v,"marker");f&&i(v,p,a,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",m.defaultLine),P(v,"marker.line")&&i(v,p,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,V,e){var m=e(33428),P=e(3400);function i(p,r,t){var a=p._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var f=a.uniformtext.mode==="hide",l;switch(t){case"funnelarea":case"pie":case"sunburst":l="g.slice";break;case"treemap":case"icicle":l="g.slice, g.pathbar";break;default:l="g.points > g.point"}r.selectAll(l).each(function(u){var g=u.transform;if(g){g.scale=f&&g.hide?0:n/g.fontSize;var h=m.select(this).select("text");P.setTransormAndDisplay(h,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var a=v(p),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(f,n)))}}function S(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:S,resizeText:i}},78100:function(G,V,e){var m=e(21776).Ks,P=e(92880).extendFlat,i=e(8319),L=e(20832);G.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:S(),hoverinfo:i.hoverinfo,hovertemplate:m(),selected:L.selected,unselected:L.unselected};function S(){var v=P({},L.marker);return delete v.cornerradius,v}},47056:function(G,V,e){var m=e(94288).hasColorscale,P=e(47128),i=e(3400).isArrayOrTypedArray,L=e(84664),S=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var l=n._fullLayout,u=f.subplot,g=l[u].radialaxis,h=l[u].angularaxis,T=g.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),o=f._length,d=new Array(o),x=T,w=c,C=0;C<o;C++)d[C]={p:w[C],s:x[C]};function y(M){var A=f[M];A!==void 0&&(f["_"+M]=i(A)?h.makeCalcdata(f,M):h.d2c(A,f.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),m(f,"marker")&&P(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),m(f,"marker.line")&&P(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,f),v(d,f),d}function a(n,f,l){for(var u=n.calcdata,g=[],h=0;h<u.length;h++){var T=u[h],c=T[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===l&&g.push(T)}var o=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;S(n,d,o,g,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}G.exports={calc:t,crossTraceCalc:a}},70384:function(G,V,e){var m=e(3400),P=e(85968).handleRThetaDefaults,i=e(55592),L=e(78100);G.exports=function(v,p,r,t){function a(f,l){return m.coerce(v,p,L,f,l)}var n=P(v,p,t,a);if(!n){p.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),i(v,p,a,r,t),m.coerceSelectionMarkerOpacity(p,a)}},68896:function(G,V,e){var m=e(93024),P=e(3400),i=e(63400).getTraceColor,L=P.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,l=r.subplot,u=l.radialAxis,g=l.angularAxis,h=l.vangles,T=h?v:P.isPtInsideSector,c=r.maxHoverDistance,o=g._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(t*t+a*a))),x=Math.atan2(a,t);u.range[0]>u.range[1]&&(x+=Math.PI);var w=function(A){return T(d,x,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?c+Math.min(1,Math.abs(A.thetag1-A.thetag0)/o)-1+(A.rp1-d)/(A.rp1-A.rp0)-1:1/0};if(m.getClosest(n,w,r),r.index!==!1){var C=r.index,y=n[C];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var M=P.extendFlat({},y,{r:y.s,theta:y.p});return L(y,f,r),S(M,f,l,r),r.hovertemplate=f.hovertemplate,r.color=i(f,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,V,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,V,e){var m=e(3400),P=e(9320);G.exports=function(i,L,S){var v={},p;function r(n,f){return m.coerce(i[p]||{},L[p],P,n,f)}for(var t=0;t<S.length;t++){var a=S[t];a.type==="barpolar"&&a.visible===!0&&(p=a.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(G,V,e){var m=e(33428),P=e(38248),i=e(3400),L=e(43616),S=e(57384);G.exports=function(r,t,a){var n=r._context.staticPlot,f=t.xaxis,l=t.yaxis,u=t.radialAxis,g=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");i.makeTraceGroups(T,a,"trace bars").each(function(){var c=m.select(this),o=i.ensureSingle(c,"g","points"),d=o.selectAll("g.point").data(i.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var w=m.select(this),C=x.rp0=u.c2p(x.s0),y=x.rp1=u.c2p(x.s1),M=x.thetag0=g.c2g(x.p0),A=x.thetag1=g.c2g(x.p1),s;if(!P(C)||!P(y)||!P(M)||!P(A)||C===y||M===A)s="M0,0Z";else{var E=u.c2g(x.s1),b=(M+A)/2;x.ct=[f.c2p(E*Math.cos(b)),l.c2p(E*Math.sin(b))],s=h(C,y,M,A)}i.ensureSingle(w,"path").attr("d",s)}),L.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(a,n,f,l){var u,g;i.angleDelta(f,l)>0?(u=f,g=l):(u=l,g=f);var h=S.findEnclosingVertexAngles(u,p.vangles)[0],T=S.findEnclosingVertexAngles(g,p.vangles)[1],c=[h,(u+g)/2,T];return S.pathPolygonAnnulus(a,n,u,g,c,r,t)}:function(a,n,f,l){return i.pathAnnulus(a,n,f,l,r,t)}}},63188:function(G,V,e){var m=e(98304),P=e(52904),i=e(20832),L=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(G,V,e){var m=e(38248),P=e(54460),i=e(1220),L=e(3400),S=e(39032).BADNUM,v=L._;G.exports=function(x,w){var C=x._fullLayout,y=P.getFromId(x,w.xaxis||"x"),M=P.getFromId(x,w.yaxis||"y"),A=[],s=w.type==="violin"?"_numViolins":"_numBoxes",E,b,F,I,N,_,O;w.orientation==="h"?(F=y,I="x",N=M,_="y",O=!!w.yperiodalignment):(F=M,I="y",N=y,_="x",O=!!w.xperiodalignment);var B=p(w,_,N,C[s]),z=B[0],U=B[1],Z=L.distinctVals(z,N),J=Z.vals,re=Z.minDiff/2,ne,ue,te,Q,ie,Y,$=(w.boxpoints||w.points)==="all"?L.identity:function(Mt){return Mt.v<ne.lf||Mt.v>ne.uf};if(w._hasPreCompStats){var oe=w[I],j=function(Mt){return F.d2c((w[Mt]||[])[E])},X=1/0,se=-1/0;for(E=0;E<w._length;E++){var q=z[E];if(m(q)){if(ne={},ne.pos=ne[_]=q,O&&U&&(ne.orig_p=U[E]),ne.q1=j("q1"),ne.med=j("median"),ne.q3=j("q3"),ue=[],oe&&L.isArrayOrTypedArray(oe[E]))for(b=0;b<oe[E].length;b++)Y=F.d2c(oe[E][b]),Y!==S&&(ie={v:Y,i:[E,b]},n(ie,w,[E,b]),ue.push(ie));if(ne.pts=ue.sort(l),te=ne[I]=ue.map(u),Q=te.length,ne.med!==S&&ne.q1!==S&&ne.q3!==S&&ne.med>=ne.q1&&ne.q3>=ne.med){var ce=j("lowerfence");ne.lf=ce!==S&&ce<=ne.q1?ce:g(ne,te,Q);var ye=j("upperfence");ne.uf=ye!==S&&ye>=ne.q3?ye:h(ne,te,Q);var we=j("mean");ne.mean=we!==S?we:Q?L.mean(te,Q):(ne.q1+ne.q3)/2;var be=j("sd");ne.sd=we!==S&&be>=0?be:Q?L.stdev(te,Q,ne.mean):ne.q3-ne.q1,ne.lo=T(ne),ne.uo=c(ne);var De=j("notchspan");De=De!==S&&De>0?De:o(ne,Q),ne.ln=ne.med-De,ne.un=ne.med+De;var ke=ne.lf,Be=ne.uf;w.boxpoints&&te.length&&(ke=Math.min(ke,te[0]),Be=Math.max(Be,te[Q-1])),w.notched&&(ke=Math.min(ke,ne.ln),Be=Math.max(Be,ne.un)),ne.min=ke,ne.max=Be}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var Ae;ne.med!==S?Ae=ne.med:ne.q1!==S?ne.q3!==S?Ae=(ne.q1+ne.q3)/2:Ae=ne.q1:ne.q3!==S?Ae=ne.q3:Ae=0,ne.med=Ae,ne.q1=ne.q3=Ae,ne.lf=ne.uf=Ae,ne.mean=ne.sd=Ae,ne.ln=ne.un=Ae,ne.min=ne.max=Ae}X=Math.min(X,ne.min),se=Math.max(se,ne.max),ne.pts2=ue.filter($),A.push(ne)}}w._extremes[F._id]=P.findExtremes(F,[X,se],{padded:!0})}else{var Ie=F.makeCalcdata(w,I),Me=r(J,re),Fe=J.length,Ee=t(Fe);for(E=0;E<w._length;E++)if(Y=Ie[E],!!m(Y)){var He=L.findBin(z[E],Me);He>=0&&He<Fe&&(ie={v:Y,i:E},n(ie,w,E),Ee[He].push(ie))}var rt=1/0,ot=-1/0,$e=w.quartilemethod,qe=$e==="exclusive",ht=$e==="inclusive";for(E=0;E<Fe;E++)if(Ee[E].length>0){if(ne={},ne.pos=ne[_]=J[E],ue=ne.pts=Ee[E].sort(l),te=ne[I]=ue.map(u),Q=te.length,ne.min=te[0],ne.max=te[Q-1],ne.mean=L.mean(te,Q),ne.sd=L.stdev(te,Q,ne.mean)*w.sdmultiple,ne.med=L.interp(te,.5),Q%2&&(qe||ht)){var vt,pt;qe?(vt=te.slice(0,Q/2),pt=te.slice(Q/2+1)):ht&&(vt=te.slice(0,Q/2+1),pt=te.slice(Q/2)),ne.q1=L.interp(vt,.5),ne.q3=L.interp(pt,.5)}else ne.q1=L.interp(te,.25),ne.q3=L.interp(te,.75);ne.lf=g(ne,te,Q),ne.uf=h(ne,te,Q),ne.lo=T(ne),ne.uo=c(ne);var wt=o(ne,Q);ne.ln=ne.med-wt,ne.un=ne.med+wt,rt=Math.min(rt,ne.ln),ot=Math.max(ot,ne.un),ne.pts2=ue.filter($),A.push(ne)}w.notched&&L.isTypedArray(Ie)&&(Ie=Array.from(Ie)),w._extremes[F._id]=P.findExtremes(F,w.notched?Ie.concat([rt,ot]):Ie,{padded:!0})}return f(A,w),A.length>0?(A[0].t={num:C[s],dPos:re,posLetter:_,valLetter:I,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(x,"mean  :").replace("",w.sdmultiple===1?"":w.sdmultiple+""):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},C[s]++,A):[{t:{empty:!0}}]};function p(d,x,w,C){var y=x in d,M=x+"0"in d,A="d"+x in d;if(y||M&&A){var s=w.makeCalcdata(d,x),E=i(d,w,x,s).vals;return[E,s]}var b;M?b=d[x+"0"]:"name"in d&&(w.type==="category"||m(d.name)&&["linear","log"].indexOf(w.type)!==-1||L.isDateTime(d.name)&&w.type==="date")?b=d.name:b=C;for(var F=w.type==="multicategory"?w.r2c_just_indices(b):w.d2c(b,0,d[x+"calendar"]),I=d._length,N=new Array(I),_=0;_<I;_++)N[_]=F;return[N]}function r(d,x){for(var w=d.length,C=new Array(w+1),y=0;y<w;y++)C[y]=d[y]-x;return C[w]=d[w-1]+x,C}function t(d){for(var x=new Array(d),w=0;w<d;w++)x[w]=[];return x}var a={text:"tx",hovertext:"htx"};function n(d,x,w){for(var C in a)L.isArrayOrTypedArray(x[C])&&(Array.isArray(w)?L.isArrayOrTypedArray(x[C][w[0]])&&(d[a[C]]=x[C][w[0]][w[1]]):d[a[C]]=x[C][w])}function f(d,x){if(L.isArrayOrTypedArray(x.selectedpoints))for(var w=0;w<d.length;w++){for(var C=d[w].pts||[],y={},M=0;M<C.length;M++)y[C[M].i]=M;L.tagSelected(C,x,y)}}function l(d,x){return d.v-x.v}function u(d){return d.v}function g(d,x,w){return w===0?d.q1:Math.min(d.q1,x[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,w-1)])}function h(d,x,w){return w===0?d.q3:Math.max(d.q3,x[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function T(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function o(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(G,V,e){var m=e(54460),P=e(3400),i=e(71888).getAxisGroup,L=["v","h"];function S(p,r){for(var t=p.calcdata,a=r.xaxis,n=r.yaxis,f=0;f<L.length;f++){for(var l=L[f],u=l==="h"?n:a,g=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,o=T[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===l&&o.xaxis===a._id&&o.yaxis===n._id&&g.push(h)}v("box",p,g,u)}}function v(p,r,t,a){var n=r.calcdata,f=r._fullLayout,l=a._id,u=l.charAt(0),g,h,T,c=[],o=0;for(g=0;g<t.length;g++)for(T=n[t[g]],h=0;h<T.length;h++)c.push(a.c2l(T[h].pos,!0)),o+=(T[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(a.type==="category"||a.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;m.minDtick(a,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",C=f[w],y=f[p+"mode"]==="group"&&C>1,M=1-f[p+"gap"],A=1-f[p+"groupgap"];for(g=0;g<t.length;g++){T=n[t[g]];var s=T[0].trace,E=T[0].t,b=s.width,F=s.side,I,N,_,O;if(b)I=N=O=b/2,_=0;else if(I=x,y){var B=i(f,a._id)+s.orientation,z=f._alignmentOpts[B]||{},U=z[s.alignmentgroup]||{},Z=Object.keys(U.offsetGroups||{}).length,J=Z||C,re=Z?s._offsetIndex:E.num;N=I*M*A/J,_=2*I*(-.5+(re+.5)/J)*M,O=I*M/J}else N=I*M*A,_=0,O=I;E.dPos=I,E.bPos=_,E.bdPos=N,E.wHover=O;var ne,ue,te=_+N,Q,ie,Y,$,oe,j,X=!!b,se=(s.boxpoints||s.points)&&o>0;if(F==="positive"?(ne=I*(b?1:.5),Q=te,ue=Q=_):F==="negative"?(ne=Q=_,ue=I*(b?1:.5),ie=te):(ne=ue=I,Q=ie=te),se){var q=s.pointpos,ce=s.jitter,ye=s.marker.size/2,we=0;q+ce>=0&&(we=te*(q+ce),we>ne?(X=!0,oe=ye,Y=we):we>Q&&(oe=ye,Y=ne)),we<=ne&&(Y=ne);var be=0;q-ce<=0&&(be=-te*(q-ce),be>ue?(X=!0,j=ye,$=be):be>ie&&(j=ye,$=ue)),be<=ue&&($=ue)}else Y=ne,$=ue;var De=new Array(T.length);for(h=0;h<T.length;h++)De[h]=T[h].pos;s._extremes[l]=m.findExtremes(a,De,{padded:X,vpadminus:$,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:j,y:oe}[u],ppadplus:{x:oe,y:j}[u]})}}}G.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(G,V,e){var m=e(3400),P=e(24040),i=e(76308),L=e(31147),S=e(20011),v=e(52976),p=e(63188);function r(f,l,u,g){function h(A,s){return m.coerce(f,l,p,A,s)}if(t(f,l,h,g),l.visible!==!1){L(f,l,g,h),h("xhoverformat"),h("yhoverformat");var T=l._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||u),h("line.width"),h("fillcolor",i.addOpacity(l.line.color,.5));var c=!1;if(T){var o=h("mean"),d=h("sd");o&&o.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),w;x==="quartiles"&&(w=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||w==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(T){var y=h("notchspan");y&&y.length&&(C=!0)}else m.validate(f.notchwidth,p.notchwidth)&&(C=!0);var M=h("notched",C);M&&h("notchwidth"),a(f,l,h,{prefix:"box"}),h("zorder")}}function t(f,l,u,g){function h(Z){var J=0;return Z&&Z.length&&(J+=1,m.isArrayOrTypedArray(Z[0])&&Z[0].length&&(J+=1)),J}function T(Z){return m.validate(f[Z],p[Z])}var c=u("y"),o=u("x"),d;if(l.type==="box"){var x=u("q1"),w=u("median"),C=u("q3");l._hasPreCompStats=x&&x.length&&w&&w.length&&C&&C.length,d=Math.min(m.minRowLength(x),m.minRowLength(w),m.minRowLength(C))}var y=h(c),M=h(o),A=y&&m.minRowLength(c),s=M&&m.minRowLength(o),E=g.calendar,b={autotypenumbers:g.autotypenumbers},F,I;if(l._hasPreCompStats)switch(String(M)+String(y)){case"00":var N=T("x0")||T("dx"),_=T("y0")||T("dy");_&&!N?F="h":F="v",I=d;break;case"10":F="v",I=Math.min(d,s);break;case"20":F="h",I=Math.min(d,o.length);break;case"01":F="h",I=Math.min(d,A);break;case"02":F="v",I=Math.min(d,c.length);break;case"12":F="v",I=Math.min(d,s,c.length);break;case"21":F="h",I=Math.min(d,o.length,A);break;case"11":I=0;break;case"22":var O=!1,B;for(B=0;B<o.length;B++)if(v(o[B],E,b)==="category"){O=!0;break}if(O)F="v",I=Math.min(d,s,c.length);else{for(B=0;B<c.length;B++)if(v(c[B],E,b)==="category"){O=!0;break}O?(F="h",I=Math.min(d,o.length,A)):(F="v",I=Math.min(d,s,c.length))}break}else y>0?(F="v",M>0?I=Math.min(s,A):I=Math.min(A)):M>0?(F="h",I=Math.min(s)):I=0;if(!I){l.visible=!1;return}l._length=I;var z=u("orientation",F);l._hasPreCompStats?z==="v"&&M===0?(u("x0",0),u("dx",1)):z==="h"&&y===0&&(u("y0",0),u("dy",1)):z==="v"&&M===0?u("x0"):z==="h"&&y===0&&u("y0");var U=P.getComponentMethod("calendars","handleTraceDefaults");U(f,l,["x","y"],g)}function a(f,l,u,g){var h=g.prefix,T=m.coerce2(f,l,p,"marker.outliercolor"),c=u("marker.line.outliercolor"),o="outliers";l._hasPreCompStats?o="all":(T||c)&&(o="suspectedoutliers");var d=u(h+"points",o);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",l.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",l.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete l.marker;var x=u("hoveron");(x==="all"||x.indexOf("points")!==-1)&&u("hovertemplate"),m.coerceSelectionMarkerOpacity(l,u)}function n(f,l){var u,g;function h(o){return m.coerce(g._input,g,p,o)}for(var T=0;T<f.length;T++){g=f[T];var c=g.type;(c==="box"||c==="violin")&&(u=g._input,l[c+"mode"]==="group"&&S(u,g,l,h))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(G){G.exports=function(e,m){return m.hoverOnBox&&(e.hoverOnBox=m.hoverOnBox),"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},27576:function(G,V,e){var m=e(54460),P=e(3400),i=e(93024),L=e(76308),S=P.fillText;function v(t,a,n,f){var l=t.cd,u=l[0].trace,g=u.hoveron,h=[],T;return g.indexOf("boxes")!==-1&&(h=h.concat(p(t,a,n,f))),g.indexOf("points")!==-1&&(T=r(t,a,n)),f==="closest"?T?[T]:h:(T&&h.push(T),h)}function p(t,a,n,f){var l=t.cd,u=t.xa,g=t.ya,h=l[0].trace,T=l[0].t,c=h.type==="violin",o,d,x,w,C,y,M,A,s,E,b,F=T.bdPos,I,N,_=T.wHover,O=function(be){return x.c2l(be.pos)+T.bPos-x.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(be){var De=O(be);return i.inbox(De,De+_,E)},I=F,N=0),h.side==="negative"&&(s=function(be){var De=O(be);return i.inbox(De-_,De,E)},I=0,N=F)):(s=function(be){var De=O(be);return i.inbox(De-_,De+_,E)},I=N=F);var B;c?B=function(be){return i.inbox(be.span[0]-C,be.span[1]-C,E)}:B=function(be){return i.inbox(be.min-C,be.max-C,E)},h.orientation==="h"?(C=a,y=n,M=B,A=s,o="y",x=g,d="x",w=u):(C=n,y=a,M=s,A=B,o="x",x=u,d="y",w=g);var z=Math.min(1,F/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));E=t.maxHoverDistance-z,b=t.maxSpikeDistance-z;function U(be){return(M(be)+A(be))/2}var Z=i.getDistanceFunction(f,M,A,U);if(i.getClosest(l,Z,t),t.index===!1)return[];var J=l[t.index],re=h.line.color,ne=(h.marker||{}).color;L.opacity(re)&&h.line.width?t.color=re:L.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[o+"0"]=x.c2p(J.pos+T.bPos-N,!0),t[o+"1"]=x.c2p(J.pos+T.bPos+I,!0),t[o+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var ue=o+"Spike";t.spikeDistance=U(J)*b/E,t[ue]=x.c2p(J.pos,!0);var te=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Q=h.boxpoints||h.points,ie=Q&&te?["max","uf","q3","med","mean","q1","lf","min"]:Q&&!te?["max","uf","q3","med","q1","lf","min"]:!Q&&te?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=w.range[1]<w.range[0];h.orientation===(Y?"v":"h")&&ie.reverse();for(var $=t.spikeDistance,oe=t[ue],j=[],X=0;X<ie.length;X++){var se=ie[X];if(se in J){var q=J[se],ce=w.c2p(q,!0),ye=P.extendFlat({},t);ye.attr=se,ye[d+"0"]=ye[d+"1"]=ce,ye[d+"LabelVal"]=q,ye[d+"Label"]=(T.labels?T.labels[se]+" ":"")+m.hoverLabelText(w,q,h[d+"hoverformat"]),ye.hoverOnBox=!0,se==="mean"&&"sd"in J&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ye[d+"err"]=J.sd),ye.hovertemplate=!1,j.push(ye)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var we=0;we<j.length;we++)j[we].attr!=="med"?(j[we].name="",j[we].spikeDistance=void 0,j[we][ue]=void 0):(j[we].spikeDistance=$,j[we][ue]=oe);return j}function r(t,a,n){for(var f=t.cd,l=t.xa,u=t.ya,g=f[0].trace,h=l.c2p(a),T=u.c2p(n),c,o=function(B){var z=Math.max(3,B.mrc||0);return Math.max(Math.abs(l.c2p(B.x)-h)-z,1-3/z)},d=function(B){var z=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.y)-T)-z,1-3/z)},x=i.quadrature(o,d),w=!1,C,y,M=0;M<f.length;M++){C=f[M];for(var A=0;A<(C.pts||[]).length;A++){y=C.pts[A];var s=x(y);s<=t.distance&&(t.distance=s,w=[M,A])}}if(!w)return!1;C=f[w[0]],y=C.pts[w[1]];var E=l.c2p(y.x,!0),b=u.c2p(y.y,!0),F=y.mrc||1;c=P.extendFlat({},t,{index:y.i,color:(g.marker||{}).color,name:g.name,x0:E-F,x1:E+F,y0:b-F,y1:b+F,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var I=C.orig_p,N=I!==void 0?I:C.pos,_;g.orientation==="h"?(_=u,c.xLabelVal=y.x,c.yLabelVal=N):(_=l,c.xLabelVal=N,c.yLabelVal=y.y);var O=_._id.charAt(0);return c[O+"Spike"]=_.c2p(C.pos,!0),S(y,g,c),c}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(G,V,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,V,e){var m=e(24040),P=e(3400),i=e(16560);function L(v,p,r,t,a){for(var n=a+"Layout",f=!1,l=0;l<r.length;l++){var u=r[l];if(m.traceIs(u,n)){f=!0;break}}f&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}function S(v,p,r){function t(a,n){return P.coerce(v,p,i,a,n)}L(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:S,_supply:L}},18728:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=5,S=.01;function v(a,n,f,l){var u=a._context.staticPlot,g=n.xaxis,h=n.yaxis;P.makeTraceGroups(l,f,"trace boxes").each(function(T){var c=m.select(this),o=T[0],d=o.t,x=o.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){c.remove();return}var w,C;x.orientation==="h"?(w=h,C=g):(w=g,C=h),p(c,{pos:w,val:C},x,d,u),r(c,{x:g,y:h},x,d),t(c,{pos:w,val:C},x,d)})}function p(a,n,f,l,u){var g=f.orientation==="h",h=n.val,T=n.pos,c=!!T.rangebreaks,o=l.bPos,d=l.wdPos||0,x=l.bPosPxOffset||0,w=f.whiskerwidth||0,C=f.showwhiskers!==!1,y=f.notched||!1,M=y?1-2*f.notchwidth:1,A,s;Array.isArray(l.bdPos)?(A=l.bdPos[0],s=l.bdPos[1]):(A=l.bdPos,s=l.bdPos);var E=a.selectAll("path.box").data(f.type!=="violin"||f.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(b){if(b.empty)return m.select(this).attr("d","M0,0Z");var F=T.c2l(b.pos+o,!0),I=T.l2p(F-A)+x,N=T.l2p(F+s)+x,_=c?(I+N)/2:T.l2p(F)+x,O=f.whiskerwidth,B=c?I*O+(1-O)*_:T.l2p(F-d)+x,z=c?N*O+(1-O)*_:T.l2p(F+d)+x,U=T.l2p(F-A*M)+x,Z=T.l2p(F+s*M)+x,J=f.sizemode==="sd",re=h.c2p(J?b.mean-b.sd:b.q1,!0),ne=J?h.c2p(b.mean+b.sd,!0):h.c2p(b.q3,!0),ue=P.constrain(J?h.c2p(b.mean,!0):h.c2p(b.med,!0),Math.min(re,ne)+1,Math.max(re,ne)-1),te=b.lf===void 0||f.boxpoints===!1||J,Q=h.c2p(te?b.min:b.lf,!0),ie=h.c2p(te?b.max:b.uf,!0),Y=h.c2p(b.ln,!0),$=h.c2p(b.un,!0);g?m.select(this).attr("d","M"+ue+","+U+"V"+Z+"M"+re+","+I+"V"+N+(y?"H"+Y+"L"+ue+","+Z+"L"+$+","+N:"")+"H"+ne+"V"+I+(y?"H"+$+"L"+ue+","+U+"L"+Y+","+I:"")+"Z"+(C?"M"+re+","+_+"H"+Q+"M"+ne+","+_+"H"+ie+(w===0?"":"M"+Q+","+B+"V"+z+"M"+ie+","+B+"V"+z):"")):m.select(this).attr("d","M"+U+","+ue+"H"+Z+"M"+I+","+re+"H"+N+(y?"V"+Y+"L"+Z+","+ue+"L"+N+","+$:"")+"V"+ne+"H"+I+(y?"V"+$+"L"+U+","+ue+"L"+I+","+Y:"")+"Z"+(C?"M"+_+","+re+"V"+Q+"M"+_+","+ne+"V"+ie+(w===0?"":"M"+B+","+Q+"H"+z+"M"+B+","+ie+"H"+z):""))})}function r(a,n,f,l){var u=n.x,g=n.y,h=l.bdPos,T=l.bPos,c=f.boxpoints||f.points;P.seedPseudoRandom();var o=function(w){return w.forEach(function(C){C.t=l,C.trace=f}),w},d=a.selectAll("g.points").data(c?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(w){var C,y=w.pts2,M=Math.max((w.max-w.min)/10,w.q3-w.q1),A=M*1e-9,s=M*S,E=[],b=0,F;if(f.jitter){if(M===0)for(b=1,E=new Array(y.length),C=0;C<y.length;C++)E[C]=1;else for(C=0;C<y.length;C++){var I=Math.max(0,C-L),N=y[I].v,_=Math.min(y.length-1,C+L),O=y[_].v;c!=="all"&&(y[C].v<w.lf?O=Math.min(O,w.lf):N=Math.max(N,w.uf));var B=Math.sqrt(s*(_-I)/(O-N+A))||0;B=P.constrain(Math.abs(B),0,1),E.push(B),b=Math.max(B,b)}F=f.jitter*2/(b||1)}for(C=0;C<y.length;C++){var z=y[C],U=z.v,Z=f.jitter?F*E[C]*(P.pseudoRandom()-.5):0,J=w.pos+T+h*(f.pointpos+Z);f.orientation==="h"?(z.y=J,z.x=U):(z.x=J,z.y=U),c==="suspectedoutliers"&&U<w.uo&&U>w.lo&&(z.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(i.translatePoints,u,g)}function t(a,n,f,l){var u=n.val,g=n.pos,h=!!g.rangebreaks,T=l.bPos,c=l.bPosPxOffset||0,o=f.boxmean||(f.meanline||{}).visible,d,x;Array.isArray(l.bdPos)?(d=l.bdPos[0],x=l.bdPos[1]):(d=l.bdPos,x=l.bdPos);var w=a.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(C){var y=g.c2l(C.pos+T,!0),M=g.l2p(y-d)+c,A=g.l2p(y+x)+c,s=h?(M+A)/2:g.l2p(y)+c,E=u.c2p(C.mean,!0),b=u.c2p(C.mean-C.sd,!0),F=u.c2p(C.mean+C.sd,!0);f.orientation==="h"?m.select(this).attr("d","M"+E+","+M+"V"+A+(o==="sd"?"m0,0L"+b+","+s+"L"+E+","+M+"L"+F+","+s+"Z":"")):m.select(this).attr("d","M"+M+","+E+"H"+A+(o==="sd"?"m0,0L"+s+","+b+"L"+M+","+E+"L"+s+","+F+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,m){var P=e.cd,i=e.xaxis,L=e.yaxis,S=[],v,p;if(m===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=i.c2p(r.x),a=L.c2p(r.y);m.contains([t,a],null,r.i,e)?(S.push({pointNumber:r.i,x:i.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(G,V,e){var m=e(33428),P=e(76308),i=e(43616);function L(v,p,r){var t=r||m.select(v).selectAll("g.trace.boxes");t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var n=m.select(this),f=a[0].trace,l=f.line.width;function u(T,c,o,d){T.style("stroke-width",c+"px").call(P.stroke,o).call(P.fill,d)}var g=n.selectAll("path.box");if(f.type==="candlestick")g.each(function(T){if(!T.empty){var c=m.select(this),o=f[T.dir];u(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",f.selectedpoints&&!T.selected?.3:1)}});else{u(g,l,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":l,"stroke-dasharray":2*l+"px,"+l+"px"}).call(P.stroke,f.line.color);var h=n.selectAll("path.point");i.pointStyle(h,f,v)}})}function S(v,p,r){var t=p[0].trace,a=r.selectAll("path.point");t.selectedpoints?i.selectedPointStyle(a,t):i.pointStyle(a,t,v)}G.exports={style:L,styleOnSelect:S}},64216:function(G,V,e){var m=e(3400).extendFlat,P=e(29736).axisHoverFormat,i=e(20279),L=e(63188);function S(v){return{line:{color:m({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:m({},L.line.width,{}),editType:"style"},increasing:S(i.increasing.line.color.dflt),decreasing:S(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:m({},L.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel,zorder:L.zorder}},46283:function(G,V,e){var m=e(3400),P=e(54460),i=e(1220),L=e(42812).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),a=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),f=i(p,t,"x",n).vals,l=L(v,p,n,f,a,S);return l.length?(m.extendFlat(l[0].t,{num:r._numBoxes,dPos:m.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,l):[{t:{empty:!0}}]};function S(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(G,V,e){var m=e(3400),P=e(76308),i=e(52744),L=e(31147),S=e(64216);G.exports=function(r,t,a,n){function f(u,g){return m.coerce(r,t,S,u,g)}var l=i(r,t,f,n);if(!l){t.visible=!1;return}L(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(p,r,t,a){var n=t(a+".line.color");t(a+".line.width",r.line.width),t(a+".fillcolor",P.addOpacity(n,.5))}},61712:function(G,V,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,V,e){var m=e(63856),P=e(31780);G.exports=function(S,v,p,r,t){var a=r("a");a||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),i(S,v,p,t)};function i(L,S,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var a=t.charAt(0),n=L[t]||{},f=P.newContainer(S,t),l={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:a+"axis",letter:a,font:S.font,name:t,data:L[a],calendar:S.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};m(n,f,l),f._categories=f._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},51676:function(G,V,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(i){return P(i,0)};function P(i,L){if(!m(i)||L>=10)return null;for(var S=1/0,v=-1/0,p=i.length,r=0;r<p;r++){var t=i[r];if(m(t)){var a=P(t,L+1);a&&(S=Math.min(a[0],S),v=Math.max(a[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(G,V,e){var m=e(25376),P=e(98692),i=e(22548),L=m({editType:"calc"}),S=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=i.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(G,V,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,i,L,S){var v,p,r,t,a,n,f,l,u,g,h,T,c,o=m(L)?"a":"b",d=o==="a"?P.aaxis:P.baxis,x=d.smoothing,w=o==="a"?P.a2i:P.b2j,C=o==="a"?L:S,y=o==="a"?S:L,M=o==="a"?i.a.length:i.b.length,A=o==="a"?i.b.length:i.a.length,s=Math.floor(o==="a"?P.b2j(y):P.a2i(y)),E=o==="a"?function(re){return P.evalxy([],re,s)}:function(re){return P.evalxy([],s,re)};x&&(r=Math.max(0,Math.min(A-2,s)),t=s-r,p=o==="a"?function(re,ne){return P.dxydi([],re,r,ne,t)}:function(re,ne){return P.dxydj([],r,re,t,ne)});var b=w(C[0]),F=w(C[1]),I=b<F?1:-1,N=(F-b)*1e-8,_=I>0?Math.floor:Math.ceil,O=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,z=I>0?Math.max:Math.min,U=_(b+N),Z=O(F-N);f=E(b);var J=[[f]];for(v=U;v*I<Z*I;v+=I)a=[],h=z(b,v),T=B(F,v+I),c=T-h,n=Math.max(0,Math.min(M-2,Math.floor(.5*(h+T)))),l=E(T),x&&(u=p(n,h-n),g=p(n,T-n),a.push([f[0]+u[0]/3*c,f[1]+u[1]/3*c]),a.push([l[0]-g[0]/3*c,l[1]-g[1]/3*c])),a.push(l),J.push(a),f=l;return J}},98692:function(G,V,e){var m=e(25376),P=e(22548),i=e(94724),L=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:m({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},i.labelalias,{editType:"calc"}),tickfont:m({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:S(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:m({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,V,e){var m=e(85720),P=e(76308).addOpacity,i=e(24040),L=e(3400),S=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),a=e(52976);G.exports=function(l,u,g){var h=g.letter,T=g.font||{},c=m[h+"axis"];function o(U,Z){return L.coerce(l,u,c,U,Z)}function d(U,Z){return L.coerce2(l,u,c,U,Z)}g.name&&(u._name=g.name,u._id=g.name),o("autotypenumbers",g.autotypenumbersDflt);var x=o("type");if(x==="-"&&(g.data&&n(u,g.data),u.type==="-"?u.type="linear":x=l.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),u.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=h,x==="date"){var w=i.getComponentMethod("calendars","handleDefaults");w(l,u,"calendar",g.calendar)}t(u,g.fullLayout),u.c2p=L.identity;var C=o("color",g.dfltColor),y=C===l.color?C:T.color,M=o("title.text");M&&(L.coerceFont(o,"title.font",T,{overrideDflt:{size:L.bigFont(T.size),color:y}}),o("title.offset")),o("tickangle");var A=o("autorange",!u.isValidRange(l.range));A&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),S(l,u,o,x),p(l,u,o,x,g),v(l,u,o,x,g),r(l,u,o,{data:g.data,dataAttr:h});var s=d("gridcolor",P(C,.3)),E=d("gridwidth"),b=d("griddash"),F=o("showgrid");F||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var I=d("startlinecolor",C),N=d("startlinewidth",E),_=o("startline",u.showgrid||!!I||!!N);_||(delete u.startlinecolor,delete u.startlinewidth);var O=d("endlinecolor",C),B=d("endlinewidth",E),z=o("endline",u.showgrid||!!O||!!B);return z||(delete u.endlinecolor,delete u.endlinewidth),F?(o("minorgridcount"),o("minorgridwidth",E),o("minorgriddash",b),o("minorgridcolor",P(s,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u};function n(f,l){if(f.type==="-"){var u=f._id,g=u.charAt(0),h=g+"calendar",T=f[h];f.type=a(l,T,{autotypenumbers:f.autotypenumbers})}}},58744:function(G,V,e){var m=e(54460),P=e(3400).isArray1D,i=e(60776),L=e(51676),S=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),a=e(2872),n=e(81e3);G.exports=function(l,u){var g=m.getFromId(l,u.xaxis),h=m.getFromId(l,u.yaxis),T=u.aaxis,c=u.baxis,o=u.x,d=u.y,x=[];o&&P(o)&&x.push("x"),d&&P(d)&&x.push("y"),x.length&&a(u,T,c,"a","b",x);var w=u._a=u._a||u.a,C=u._b=u._b||u.b;o=u._x||u.x,d=u._y||u.y;var y={};if(u._cheater){var M=T.cheatertype==="index"?w.length:w,A=c.cheatertype==="index"?C.length:C;o=i(M,A,u.cheaterslope)}u._x=o=r(o),u._y=d=r(d),t(o,w,C),t(d,w,C),n(u),u.setScale();var s=L(o),E=L(d),b=.5*(s[1]-s[0]),F=.5*(s[1]+s[0]),I=.5*(E[1]-E[0]),N=.5*(E[1]+E[0]),_=1.3;return s=[F-b*_,F+b*_],E=[N-I*_,N+I*_],u._extremes[g._id]=m.findExtremes(g,s,{padded:!0}),u._extremes[h._id]=m.findExtremes(h,E,{padded:!0}),S(u,"a","b"),S(u,"b","a"),v(u,T),v(u,c),y.clipsegments=p(u._xctrl,u._yctrl,T,c),y.x=o,y.y=d,y.a=w,y.b=C,[y]}},24944:function(G){G.exports=function(e,m,P,i){var L,S,v,p=[],r=!!P.smoothing,t=!!i.smoothing,a=e[0].length-1,n=e.length-1;for(L=0,S=[],v=[];L<=a;L++)S[L]=e[0][L],v[L]=m[0][L];for(p.push({x:S,y:v,bicubic:r}),L=0,S=[],v=[];L<=n;L++)S[L]=e[L][a],v[L]=m[L][a];for(p.push({x:S,y:v,bicubic:t}),L=a,S=[],v=[];L>=0;L--)S[a-L]=e[n][L],v[a-L]=m[n][L];for(p.push({x:S,y:v,bicubic:r}),L=n,S=[],v=[];L>=0;L--)S[n-L]=e[L][0],v[n-L]=m[L][0];return p.push({x:S,y:v,bicubic:t}),p}},19216:function(G,V,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S,v){var p,r,t,a,n,f,l,u,g,h,T,c,o,d,x=L["_"+S],w=L[S+"axis"],C=w._gridlines=[],y=w._minorgridlines=[],M=w._boundarylines=[],A=L["_"+v],s=L[v+"axis"];w.tickmode==="array"&&(w.tickvals=x.slice());var E=L._xctrl,b=L._yctrl,F=E[0].length,I=E.length,N=L._a.length,_=L._b.length;m.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var O=w.smoothing?3:1;function B(U){var Z,J,re,ne,ue,te,Q,ie,Y,$,oe,j,X=[],se=[],q={};if(S==="b")for(J=L.b2j(U),re=Math.floor(Math.max(0,Math.min(_-2,J))),ne=J-re,q.length=_,q.crossLength=N,q.xy=function(ce){return L.evalxy([],ce,J)},q.dxy=function(ce,ye){return L.dxydi([],ce,re,ye,ne)},Z=0;Z<N;Z++)te=Math.min(N-2,Z),Q=Z-te,ie=L.evalxy([],Z,J),s.smoothing&&Z>0&&(Y=L.dxydi([],Z-1,re,0,ne),X.push(ue[0]+Y[0]/3),se.push(ue[1]+Y[1]/3),$=L.dxydi([],Z-1,re,1,ne),X.push(ie[0]-$[0]/3),se.push(ie[1]-$[1]/3)),X.push(ie[0]),se.push(ie[1]),ue=ie;else for(Z=L.a2i(U),te=Math.floor(Math.max(0,Math.min(N-2,Z))),Q=Z-te,q.length=N,q.crossLength=_,q.xy=function(ce){return L.evalxy([],Z,ce)},q.dxy=function(ce,ye){return L.dxydj([],te,ce,Q,ye)},J=0;J<_;J++)re=Math.min(_-2,J),ne=J-re,ie=L.evalxy([],Z,J),s.smoothing&&J>0&&(oe=L.dxydj([],te,J-1,Q,0),X.push(ue[0]+oe[0]/3),se.push(ue[1]+oe[1]/3),j=L.dxydj([],te,J-1,Q,1),X.push(ie[0]-j[0]/3),se.push(ie[1]-j[1]/3)),X.push(ie[0]),se.push(ie[1]),ue=ie;return q.axisLetter=S,q.axis=w,q.crossAxis=s,q.value=U,q.constvar=v,q.index=u,q.x=X,q.y=se,q.smoothing=s.smoothing,q}function z(U){var Z,J,re,ne,ue,te=[],Q=[],ie={};if(ie.length=x.length,ie.crossLength=A.length,S==="b")for(re=Math.max(0,Math.min(_-2,U)),ue=Math.min(1,Math.max(0,U-re)),ie.xy=function(Y){return L.evalxy([],Y,U)},ie.dxy=function(Y,$){return L.dxydi([],Y,re,$,ue)},Z=0;Z<F;Z++)te[Z]=E[U*O][Z],Q[Z]=b[U*O][Z];else for(J=Math.max(0,Math.min(N-2,U)),ne=Math.min(1,Math.max(0,U-J)),ie.xy=function(Y){return L.evalxy([],U,Y)},ie.dxy=function(Y,$){return L.dxydj([],J,Y,ne,$)},Z=0;Z<I;Z++)te[Z]=E[Z][U*O],Q[Z]=b[Z][U*O];return ie.axisLetter=S,ie.axis=w,ie.crossAxis=s,ie.value=x[U],ie.constvar=v,ie.index=U,ie.x=te,ie.y=Q,ie.smoothing=s.smoothing,ie}if(w.tickmode==="array"){for(a=5e-15,n=[Math.floor((x.length-1-w.arraytick0)/w.arraydtick*(1+a)),Math.ceil(-w.arraytick0/w.arraydtick/(1+a))].sort(function(U,Z){return U-Z}),f=n[0]-1,l=n[1]+1,u=f;u<l;u++)r=w.arraytick0+w.arraydtick*u,!(r<0||r>x.length-1)&&C.push(P(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(u=f;u<l;u++)if(t=w.arraytick0+w.arraydtick*u,T=Math.min(t+w.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(c=x[t],o=x[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(h=c+(o-c)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(h<x[0]||h>x[x.length-1])&&y.push(P(B(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&M.push(P(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(z(x.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(a=5e-15,n=[Math.floor((x[x.length-1]-w.tick0)/w.dtick*(1+a)),Math.ceil((x[0]-w.tick0)/w.dtick/(1+a))].sort(function(U,Z){return U-Z}),f=n[0],l=n[1],u=f;u<=l;u++)g=w.tick0+w.dtick*u,C.push(P(B(g),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(u=f-1;u<l+1;u++)for(g=w.tick0+w.dtick*u,p=0;p<w.minorgridcount;p++)h=g+w.dtick*(p+1)/(w.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&y.push(P(B(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&M.push(P(B(x[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(B(x[x.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(G,V,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S){var v,p,r,t,a,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)a=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,a.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p)),["end","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,a.value),P(p,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p))}},62284:function(G){var V=.5;G.exports=function(m,P,i,L){var S=m[0]-P[0],v=m[1]-P[1],p=i[0]-P[0],r=i[1]-P[1],t=Math.pow(S*S+v*v,V/2),a=Math.pow(p*p+r*r,V/2),n=(a*a*S-t*t*p)*L,f=(a*a*v-t*t*r)*L,l=a*(t+a)*3,u=t*(t+a)*3;return[[P[0]+(l&&n/l),P[1]+(l&&f/l)],[P[0]-(u&&n/u),P[1]-(u&&f/u)]]}},60776:function(G,V,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,i,L){var S,v,p,r,t,a,n=[],f=m(P)?P.length:P,l=m(i)?i.length:i,u=m(P)?P:null,g=m(i)?i:null;u&&(p=(u.length-1)/(u[u.length-1]-u[0])/(f-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(l-1));var h,T=1/0,c=-1/0;for(v=0;v<l;v++)for(n[v]=[],a=g?(g[v]-g[0])*r:v/(l-1),S=0;S<f;S++)t=u?(u[S]-u[0])*p:S/(f-1),h=t-a*L,T=Math.min(h,T),c=Math.max(h,c),n[v][S]=h;var o=1/(c-T),d=-T*o;for(v=0;v<l;v++)for(S=0;S<f;S++)n[v][S]=o*n[v][S]+d;return n}},30180:function(G,V,e){var m=e(62284),P=e(3400).ensureArray;function i(L,S,v){var p=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}G.exports=function(S,v,p,r,t,a){var n,f,l,u,g,h,T,c,o,d,x=p[0].length,w=p.length,C=t?3*x-2:x,y=a?3*w-2:w;for(S=P(S,y),v=P(v,y),l=0;l<y;l++)S[l]=P(S[l],C),v[l]=P(v[l],C);for(f=0,u=0;f<w;f++,u+=a?3:1)for(g=S[u],h=v[u],T=p[f],c=r[f],n=0,l=0;n<x;n++,l+=t?3:1)g[l]=T[n],h[l]=c[n];if(t)for(f=0,u=0;f<w;f++,u+=a?3:1){for(n=1,l=3;n<x-1;n++,l+=3)o=m([p[f][n-1],r[f][n-1]],[p[f][n],r[f][n]],[p[f][n+1],r[f][n+1]],t),S[u][l-1]=o[0][0],v[u][l-1]=o[0][1],S[u][l+1]=o[1][0],v[u][l+1]=o[1][1];d=i([S[u][0],v[u][0]],[S[u][2],v[u][2]],[S[u][3],v[u][3]]),S[u][1]=d[0],v[u][1]=d[1],d=i([S[u][C-1],v[u][C-1]],[S[u][C-3],v[u][C-3]],[S[u][C-4],v[u][C-4]]),S[u][C-2]=d[0],v[u][C-2]=d[1]}if(a)for(l=0;l<C;l++){for(u=3;u<y-3;u+=3)o=m([S[u-3][l],v[u-3][l]],[S[u][l],v[u][l]],[S[u+3][l],v[u+3][l]],a),S[u-1][l]=o[0][0],v[u-1][l]=o[0][1],S[u+1][l]=o[1][0],v[u+1][l]=o[1][1];d=i([S[0][l],v[0][l]],[S[2][l],v[2][l]],[S[3][l],v[3][l]]),S[1][l]=d[0],v[1][l]=d[1],d=i([S[y-1][l],v[y-1][l]],[S[y-3][l],v[y-3][l]],[S[y-4][l],v[y-4][l]]),S[y-2][l]=d[0],v[y-2][l]=d[1]}if(t&&a)for(u=1;u<y;u+=(u+1)%3===0?2:1){for(l=3;l<C-3;l+=3)o=m([S[u][l-3],v[u][l-3]],[S[u][l],v[u][l]],[S[u][l+3],v[u][l+3]],t),S[u][l-1]=.5*(S[u][l-1]+o[0][0]),v[u][l-1]=.5*(v[u][l-1]+o[0][1]),S[u][l+1]=.5*(S[u][l+1]+o[1][0]),v[u][l+1]=.5*(v[u][l+1]+o[1][1]);d=i([S[u][0],v[u][0]],[S[u][2],v[u][2]],[S[u][3],v[u][3]]),S[u][1]=.5*(S[u][1]+d[0]),v[u][1]=.5*(v[u][1]+d[1]),d=i([S[u][C-1],v[u][C-1]],[S[u][C-3],v[u][C-3]],[S[u][C-4],v[u][C-4]]),S[u][C-2]=.5*(S[u][C-2]+d[0]),v[u][C-2]=.5*(v[u][C-2]+d[1])}return[S,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(V,e,m){return e&&m?function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n,f;i*=3,L*=3;var l=S*S,u=1-S,g=u*u,h=u*S*2,T=-3*g,c=3*(g-h),o=3*(h-l),d=3*l,x=v*v,w=x*v,C=1-v,y=C*C,M=y*C;for(f=0;f<V.length;f++)n=V[f],p=T*n[L][i]+c*n[L][i+1]+o*n[L][i+2]+d*n[L][i+3],r=T*n[L+1][i]+c*n[L+1][i+1]+o*n[L+1][i+2]+d*n[L+1][i+3],t=T*n[L+2][i]+c*n[L+2][i+1]+o*n[L+2][i+2]+d*n[L+2][i+3],a=T*n[L+3][i]+c*n[L+3][i+1]+o*n[L+3][i+2]+d*n[L+3][i+3],P[f]=M*p+3*(y*v*r+C*x*t)+w*a;return P}:e?function(P,i,L,S,v){P||(P=[]);var p,r,t,a;i*=3;var n=S*S,f=1-S,l=f*f,u=f*S*2,g=-3*l,h=3*(l-u),T=3*(u-n),c=3*n,o=1-v;for(t=0;t<V.length;t++)a=V[t],p=g*a[L][i]+h*a[L][i+1]+T*a[L][i+2]+c*a[L][i+3],r=g*a[L+1][i]+h*a[L+1][i+1]+T*a[L+1][i+2]+c*a[L+1][i+3],P[t]=o*p+v*r;return P}:m?function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n,f;L*=3;var l=v*v,u=l*v,g=1-v,h=g*g,T=h*g;for(n=0;n<V.length;n++)f=V[n],p=f[L][i+1]-f[L][i],r=f[L+1][i+1]-f[L+1][i],t=f[L+2][i+1]-f[L+2][i],a=f[L+3][i+1]-f[L+3][i],P[n]=T*p+3*(h*v*r+g*l*t)+u*a;return P}:function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n=1-v;for(t=0;t<V.length;t++)a=V[t],p=a[L][i+1]-a[L][i],r=a[L+1][i+1]-a[L+1][i],P[t]=n*p+v*r;return P}}},24464:function(G){G.exports=function(V,e,m){return e&&m?function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n,f;i*=3,L*=3;var l=S*S,u=l*S,g=1-S,h=g*g,T=h*g,c=v*v,o=1-v,d=o*o,x=o*v*2,w=-3*d,C=3*(d-x),y=3*(x-c),M=3*c;for(f=0;f<V.length;f++)n=V[f],p=w*n[L][i]+C*n[L+1][i]+y*n[L+2][i]+M*n[L+3][i],r=w*n[L][i+1]+C*n[L+1][i+1]+y*n[L+2][i+1]+M*n[L+3][i+1],t=w*n[L][i+2]+C*n[L+1][i+2]+y*n[L+2][i+2]+M*n[L+3][i+2],a=w*n[L][i+3]+C*n[L+1][i+3]+y*n[L+2][i+3]+M*n[L+3][i+3],P[f]=T*p+3*(h*S*r+g*l*t)+u*a;return P}:e?function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n,f;i*=3;var l=v*v,u=l*v,g=1-v,h=g*g,T=h*g;for(n=0;n<V.length;n++)f=V[n],p=f[L+1][i]-f[L][i],r=f[L+1][i+1]-f[L][i+1],t=f[L+1][i+2]-f[L][i+2],a=f[L+1][i+3]-f[L][i+3],P[n]=T*p+3*(h*v*r+g*l*t)+u*a;return P}:m?function(P,i,L,S,v){P||(P=[]);var p,r,t,a;L*=3;var n=1-S,f=v*v,l=1-v,u=l*l,g=l*v*2,h=-3*u,T=3*(u-g),c=3*(g-f),o=3*f;for(t=0;t<V.length;t++)a=V[t],p=h*a[L][i]+T*a[L+1][i]+c*a[L+2][i]+o*a[L+3][i],r=h*a[L][i+1]+T*a[L+1][i+1]+c*a[L+2][i+1]+o*a[L+3][i+1],P[t]=n*p+S*r;return P}:function(P,i,L,S,v){P||(P=[]);var p,r,t,a,n=1-S;for(t=0;t<V.length;t++)a=V[t],p=a[L+1][i]-a[L][i],r=a[L+1][i+1]-a[L][i+1],P[t]=n*p+S*r;return P}}},29056:function(G){G.exports=function(V,e,m,P,i){var L=e-2,S=m-2;return P&&i?function(v,p,r){v||(v=[]);var t,a,n,f,l,u,g=Math.max(0,Math.min(Math.floor(p),L)),h=Math.max(0,Math.min(Math.floor(r),S)),T=Math.max(0,Math.min(1,p-g)),c=Math.max(0,Math.min(1,r-h));g*=3,h*=3;var o=T*T,d=o*T,x=1-T,w=x*x,C=w*x,y=c*c,M=y*c,A=1-c,s=A*A,E=s*A;for(u=0;u<V.length;u++)l=V[u],t=C*l[h][g]+3*(w*T*l[h][g+1]+x*o*l[h][g+2])+d*l[h][g+3],a=C*l[h+1][g]+3*(w*T*l[h+1][g+1]+x*o*l[h+1][g+2])+d*l[h+1][g+3],n=C*l[h+2][g]+3*(w*T*l[h+2][g+1]+x*o*l[h+2][g+2])+d*l[h+2][g+3],f=C*l[h+3][g]+3*(w*T*l[h+3][g+1]+x*o*l[h+3][g+2])+d*l[h+3][g+3],v[u]=E*t+3*(s*c*a+A*y*n)+M*f;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),l,u,g,h,T,c;t*=3;var o=n*n,d=o*n,x=1-n,w=x*x,C=w*x,y=1-f;for(T=0;T<V.length;T++)c=V[T],l=y*c[a][t]+f*c[a+1][t],u=y*c[a][t+1]+f*c[a+1][t+1],g=y*c[a][t+2]+f*c[a+1][t+1],h=y*c[a][t+3]+f*c[a+1][t+1],v[T]=C*l+3*(w*n*u+x*o*g)+d*h;return v}:i?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),l,u,g,h,T,c;a*=3;var o=f*f,d=o*f,x=1-f,w=x*x,C=w*x,y=1-n;for(T=0;T<V.length;T++)c=V[T],l=y*c[a][t]+n*c[a][t+1],u=y*c[a+1][t]+n*c[a+1][t+1],g=y*c[a+2][t]+n*c[a+2][t+1],h=y*c[a+3][t]+n*c[a+3][t+1],v[T]=C*l+3*(w*f*u+x*o*g)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),l,u,g,h,T=1-f,c=1-n;for(g=0;g<V.length;g++)h=V[g],l=c*h[a][t]+n*h[a][t+1],u=c*h[a+1][t]+n*h[a+1][t+1],v[g]=T*l+f*u;return v}}},38356:function(G,V,e){var m=e(3400),P=e(86411),i=e(93504),L=e(85720),S=e(22548);G.exports=function(p,r,t,a){function n(u,g){return m.coerce(p,r,L,u,g)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(m.coerceFont(n,"font",a.font),n("carpet"),i(p,r,a,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var l=P(p,r,n);l||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(G,V,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(V,e){for(var m=V._fullData.length,P,i=0;i<m;i++){var L=V._fullData[i];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},53416:function(G){G.exports=function(e,m,P){if(e.length===0)return"";var i,L=[],S=P?3:1;for(i=0;i<e.length;i+=S)L.push(e[i]+","+m[i]),P&&i<e.length-S&&(L.push("C"),L.push([e[i+1]+","+m[i+1],e[i+2]+","+m[i+2]+" "].join(" ")));return L.join(P?"":"L")}},87072:function(G,V,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(i,L,S){var v;for(m(i)?i.length>L.length&&(i=i.slice(0,L.length)):i=[],v=0;v<L.length;v++)i[v]=S(L[v]);return i}},15584:function(G){G.exports=function(e,m,P,i,L,S){var v=L[0]*e.dpdx(m),p=L[1]*e.dpdy(P),r=1,t=1;if(S){var a=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(L[0]*S[0]+L[1]*S[1])/a/n;t=Math.max(0,f)}var l=Math.atan2(p,v)*180/Math.PI;return l<-90?(l+=180,r=-r):l>90&&(l-=180,r=-r),{angle:l,flip:r,p:e.c2p(i,m,P),offsetMultplier:t}}},164:function(G,V,e){var m=e(33428),P=e(43616),i=e(87072),L=e(53416),S=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,a=e(84284);G.exports=function(o,d,x,w){var C=o._context.staticPlot,y=d.xaxis,M=d.yaxis,A=o._fullLayout,s=A._clips;p.makeTraceGroups(w,x,"trace").each(function(E){var b=m.select(this),F=E[0],I=F.trace,N=I.aaxis,_=I.baxis,O=p.ensureSingle(b,"g","minorlayer"),B=p.ensureSingle(b,"g","majorlayer"),z=p.ensureSingle(b,"g","boundarylayer"),U=p.ensureSingle(b,"g","labellayer");b.style("opacity",I.opacity),f(y,M,B,N,"a",N._gridlines,!0),f(y,M,B,_,"b",_._gridlines,!0),f(y,M,O,N,"a",N._minorgridlines,!0),f(y,M,O,_,"b",_._minorgridlines,!0),f(y,M,z,N,"a-boundary",N._boundarylines,C),f(y,M,z,_,"b-boundary",_._boundarylines,C);var Z=l(o,y,M,I,F,U,N._labels,"a-label"),J=l(o,y,M,I,F,U,_._labels,"b-label");u(o,U,I,F,y,M,Z,J),n(I,F,s,y,M)})};function n(c,o,d,x,w){var C,y,M,A,s=d.select("#"+c._clipPathId);s.size()||(s=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(s,"path","carpetboundary"),b=o.clipsegments,F=[];for(A=0;A<b.length;A++)C=b[A],y=i([],C.x,x.c2p),M=i([],C.y,w.c2p),F.push(L(y,M,C.bicubic));var I="M"+F.join("L")+"Z";s.attr("id",c._clipPathId),E.attr("d",I)}function f(c,o,d,x,w,C,y){var M="const-"+w+"-lines",A=d.selectAll("."+M).data(C);A.enter().append("path").classed(M,!0).style("vector-effect",y?"none":"non-scaling-stroke"),A.each(function(s){var E=s,b=E.x,F=E.y,I=i([],b,c.c2p),N=i([],F,o.c2p),_="M"+L(I,N,E.smoothing),O=m.select(this);O.attr("d",_).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),A.exit().remove()}function l(c,o,d,x,w,C,y,M){var A=C.selectAll("text."+M).data(y);A.enter().append("text").classed(M,!0);var s=0,E={};return A.each(function(b,F){var I;if(b.axis.tickangle==="auto")I=S(x,o,d,b.xy,b.dxy);else{var N=(b.axis.tickangle+180)*Math.PI/180;I=S(x,o,d,b.xy,[Math.cos(N),Math.sin(N)])}F||(E={angle:I.angle,flip:I.flip});var _=(b.endAnchor?-1:1)*I.flip,O=m.select(this).attr({"text-anchor":_>0?"start":"end","data-notex":1}).call(P.font,b.font).text(b.text).call(v.convertToTspans,c),B=P.bBox(this);O.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(b.axis.labelpadding*_,B.height*.3)),s=Math.max(s,B.width+b.axis.labelpadding)}),A.exit().remove(),E.maxExtent=s,E}function u(c,o,d,x,w,C,y,M){var A,s,E,b,F=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),_=p.aggNums(Math.max,null,d.b);A=.5*(F+I),s=N,E=d.ab2xy(A,s,!0),b=d.dxyda_rough(A,s),y.angle===void 0&&p.extendFlat(y,S(d,w,C,E,d.dxydb_rough(A,s))),T(c,o,d,x,E,b,d.aaxis,w,C,y,"a-title"),A=F,s=.5*(N+_),E=d.ab2xy(A,s,!0),b=d.dxydb_rough(A,s),M.angle===void 0&&p.extendFlat(M,S(d,w,C,E,d.dxyda_rough(A,s))),T(c,o,d,x,E,b,d.baxis,w,C,M,"b-title")}var g=a.LINE_SPACING,h=(1-a.MID_SHIFT)/g+1;function T(c,o,d,x,w,C,y,M,A,s,E){var b=[];y.title.text&&b.push(y.title.text);var F=o.selectAll("text."+E).data(b),I=s.maxExtent;F.enter().append("text").classed(E,!0),F.each(function(){var N=S(d,M,A,w,C);["start","both"].indexOf(y.showticklabels)===-1&&(I=0);var _=y.title.font.size;I+=_+y.title.offset;var O=s.angle+(s.flip<0?180:0),B=(O-N.angle+450)%360,z=B>90&&B<270,U=m.select(this);U.text(y.title.text).call(v.convertToTspans,c),z&&(I=(-v.lineCount(U)+h)*g*_-I),U.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,I)).attr("text-anchor","middle").call(P.font,y.title.font)}),F.exit().remove()}},81e3:function(G,V,e){var m=e(24588),P=e(14952).findBin,i=e(30180),L=e(29056),S=e(26435),v=e(24464);G.exports=function(r){var t=r._a,a=r._b,n=t.length,f=a.length,l=r.aaxis,u=r.baxis,g=t[0],h=t[n-1],T=a[0],c=a[f-1],o=t[t.length-1]-t[0],d=a[a.length-1]-a[0],x=o*m.RELATIVE_CULL_TOLERANCE,w=d*m.RELATIVE_CULL_TOLERANCE;g-=x,h+=x,T-=w,c+=w,r.isVisible=function(C,y){return C>g&&C<h&&y>T&&y<c},r.isOccluded=function(C,y){return C<g||C>h||y<T||y>c},r.setScale=function(){var C=r._x,y=r._y,M=i(r._xctrl,r._yctrl,C,y,l.smoothing,u.smoothing);r._xctrl=M[0],r._yctrl=M[1],r.evalxy=L([r._xctrl,r._yctrl],n,f,l.smoothing,u.smoothing),r.dxydi=S([r._xctrl,r._yctrl],l.smoothing,u.smoothing),r.dxydj=v([r._xctrl,r._yctrl],l.smoothing,u.smoothing)},r.i2a=function(C){var y=Math.max(0,Math.floor(C[0]),n-2),M=C[0]-y;return(1-M)*t[y]+M*t[y+1]},r.j2b=function(C){var y=Math.max(0,Math.floor(C[1]),n-2),M=C[1]-y;return(1-M)*a[y]+M*a[y+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var y=Math.max(0,Math.min(P(C,t),n-2)),M=t[y],A=t[y+1];return Math.max(0,Math.min(n-1,y+(C-M)/(A-M)))},r.b2j=function(C){var y=Math.max(0,Math.min(P(C,a),f-2)),M=a[y],A=a[y+1];return Math.max(0,Math.min(f-1,y+(C-M)/(A-M)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,y){return r.evalxy([],C,y)},r.ab2xy=function(C,y,M){if(!M&&(C<t[0]||C>t[n-1]|y<a[0]||y>a[f-1]))return[!1,!1];var A=r.a2i(C),s=r.b2j(y),E=r.evalxy([],A,s);if(M){var b=0,F=0,I=[],N,_,O,B;C<t[0]?(N=0,_=0,b=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(N=n-2,_=1,b=(C-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(A))),_=A-N),y<a[0]?(O=0,B=0,F=(y-a[0])/(a[1]-a[0])):y>a[f-1]?(O=f-2,B=1,F=(y-a[f-1])/(a[f-1]-a[f-2])):(O=Math.max(0,Math.min(f-2,Math.floor(s))),B=s-O),b&&(r.dxydi(I,N,O,_,B),E[0]+=I[0]*b,E[1]+=I[1]*b),F&&(r.dxydj(I,N,O,_,B),E[0]+=I[0]*F,E[1]+=I[1]*F)}return E},r.c2p=function(C,y,M){return[y.c2p(C[0]),M.c2p(C[1])]},r.p2x=function(C,y,M){return[y.p2c(C[0]),M.p2c(C[1])]},r.dadi=function(C){var y=Math.max(0,Math.min(t.length-2,C));return t[y+1]-t[y]},r.dbdj=function(C){var y=Math.max(0,Math.min(a.length-2,C));return a[y+1]-a[y]},r.dxyda=function(C,y,M,A){var s=r.dxydi(null,C,y,M,A),E=r.dadi(C,M);return[s[0]/E,s[1]/E]},r.dxydb=function(C,y,M,A){var s=r.dxydj(null,C,y,M,A),E=r.dbdj(y,A);return[s[0]/E,s[1]/E]},r.dxyda_rough=function(C,y,M){var A=o*(M||.1),s=r.ab2xy(C+A,y,!0),E=r.ab2xy(C-A,y,!0);return[(s[0]-E[0])*.5/A,(s[1]-E[1])*.5/A]},r.dxydb_rough=function(C,y,M){var A=d*(M||.1),s=r.ab2xy(C,y+A,!0),E=r.ab2xy(C,y-A,!0);return[(s[0]-E[0])*.5/A,(s[1]-E[1])*.5/A]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(G,V,e){var m=e(3400);G.exports=function(i,L,S){var v,p,r,t=[],a=[],n=i[0].length,f=i.length;function l(J,re){var ne=0,ue,te=0;return J>0&&(ue=i[re][J-1])!==void 0&&(te++,ne+=ue),J<n-1&&(ue=i[re][J+1])!==void 0&&(te++,ne+=ue),re>0&&(ue=i[re-1][J])!==void 0&&(te++,ne+=ue),re<f-1&&(ue=i[re+1][J])!==void 0&&(te++,ne+=ue),ne/Math.max(1,te)}var u=0;for(v=0;v<n;v++)for(p=0;p<f;p++)i[p][v]===void 0&&(t.push(v),a.push(p),i[p][v]=l(v,p)),u=Math.max(u,Math.abs(i[p][v]));if(!t.length)return i;var g,h,T,c,o,d,x,w,C,y,M,A=1e-5,s=0,E=100,b=0,F=t.length;do{for(s=0,r=0;r<F;r++){v=t[r],p=a[r];var I=0,N=0,_,O,B,z,U,Z;v===0?(U=Math.min(n-1,2),B=L[U],z=L[1],_=i[p][U],O=i[p][1],N+=O+(O-_)*(L[0]-z)/(z-B),I++):v===n-1&&(U=Math.max(0,n-3),B=L[U],z=L[n-2],_=i[p][U],O=i[p][n-2],N+=O+(O-_)*(L[n-1]-z)/(z-B),I++),(v===0||v===n-1)&&p>0&&p<f-1&&(g=S[p+1]-S[p],h=S[p]-S[p-1],N+=(h*i[p+1][v]+g*i[p-1][v])/(h+g),I++),p===0?(Z=Math.min(f-1,2),B=S[Z],z=S[1],_=i[Z][v],O=i[1][v],N+=O+(O-_)*(S[0]-z)/(z-B),I++):p===f-1&&(Z=Math.max(0,f-3),B=S[Z],z=S[f-2],_=i[Z][v],O=i[f-2][v],N+=O+(O-_)*(S[f-1]-z)/(z-B),I++),(p===0||p===f-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],h=L[v]-L[v-1],N+=(h*i[p][v+1]+g*i[p][v-1])/(h+g),I++),I?N/=I:(T=L[v+1]-L[v],c=L[v]-L[v-1],o=S[p+1]-S[p],d=S[p]-S[p-1],x=T*c*(T+c),w=o*d*(o+d),N=(x*(d*i[p+1][v]+o*i[p-1][v])+w*(c*i[p][v+1]+T*i[p][v-1]))/(w*(c+T)+x*(d+o))),C=N-i[p][v],y=C/u,s+=y*y,M=I?0:.85,i[p][v]+=C*(1+M)}s=Math.sqrt(s)}while(b++<E&&s>A);return m.log("Smoother converged to",s,"after",b,"iterations"),i}},86411:function(G,V,e){var m=e(3400).isArray1D;G.exports=function(i,L,S){var v=S("x"),p=v&&v.length,r=S("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||m(v))&&(!t||m(r))){var a=p?v.length:1/0;t&&(a=Math.min(a,r.length)),L.a&&L.a.length&&(a=Math.min(a,L.a.length)),L.b&&L.b.length&&(a=Math.min(a,L.b.length)),L._length=a}else L._length=null;return!0}},83372:function(G,V,e){var m=e(21776).Ks,P=e(6096),i=e(49084),L=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:S}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:m(),showlegend:v({},L.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,V,e){var m=e(38248),P=e(39032).BADNUM,i=e(47128),L=e(20148),S=e(4500);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var a=t._length,n=new Array(a),f;t.geojson?f=function(T){return v(T)||m(T)}:f=v;for(var l=0;l<a;l++){var u=n[l]={},g=t.locations[l],h=t.z[l];f(g)&&m(h)?(u.loc=g,u.z=h):(u.loc=null,u.z=P),u.index=l}return L(n,t),i(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(G,V,e){var m=e(3400),P=e(27260),i=e(83372);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,i,h,T)}var a=t("locations"),n=t("z");if(!(a&&a.length&&m.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(a.length,n.length);var f=t("geojson"),l;(typeof f=="string"&&f!==""||m.isPlainObject(f))&&(l="geojson-id");var u=t("locationmode",l);u==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,m,P,i,L){e.location=m.location,e.z=m.z;var S=i[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(G,V,e){var m=e(54460),P=e(83372),i=e(3400).fillText;G.exports=function(v,p,r){var t=v.cd,a=t[0].trace,n=v.subplot,f,l,u,g,h=[p,r],T=[p+360,r];for(l=0;l<t.length;l++)if(f=t[l],g=!1,f._polygons){for(u=0;u<f._polygons.length;u++)f._polygons[u].contains(h)&&(g=!g),f._polygons[u].contains(T)&&(g=!g);if(g)break}if(!(!g||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=m.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,L(v,a,f),[v]};function L(S,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),a=r==="all"?P.hoverinfo.flags:r.split("+"),n=a.indexOf("name")!==-1,f=a.indexOf("location")!==-1,l=a.indexOf("z")!==-1,u=a.indexOf("text")!==-1,g=!n&&f,h=[];g?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&h.push(t)),l&&h.push(S.zLabel),u&&i(p,v,h),S.extraText=h.join("<br>")}}},54272:function(G,V,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,V,e){var m=e(33428),P=e(3400),i=e(27144),L=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function p(t,a,n){var f=a.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(f,n,"trace choropleth").each(function(l){var u=m.select(this),g=u.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,l)})}function r(t,a){for(var n=t[0].trace,f=a[n.geo],l=f._subplot,u=n.locationmode,g=n._length,h=u==="geojson-id"?i.extractTraceFeature(t):L(n,l.topojson),T=[],c=[],o=0;o<g;o++){var d=t[o],x=u==="geojson-id"?d.fOut:i.locationToFeature(u,d.loc,h);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=i.feature2polygons(x);var w=i.computeBbox(x);T.push(w[0],w[2]),c.push(w[1],w[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&u==="geojson-id"){var C=i.computeBbox(i.getTraceGeojson(n));T=[C[0],C[2]],c=[C[1],C[3]]}var y={padded:!0};n._extremes.lon=S(f.lonaxis._ax,T,y),n._extremes.lat=S(f.lataxis._ax,c,y)}G.exports={calcGeoJSON:r,plot:p}},17328:function(G){G.exports=function(e,m){var P=e.cd,i=e.xaxis,L=e.yaxis,S=[],v,p,r,t,a;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=i.c2p(r),a=L.c2p(r),m.contains([t,a],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return S}},7947:function(G,V,e){var m=e(33428),P=e(76308),i=e(43616),L=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var a=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),l=a.marker||{},u=l.line||{},g=L.makeColorScaleFuncFromTrace(a);f.each(function(h){m.select(this).attr("fill",g(h.z)).call(P.stroke,h.mlc||u.color).call(i.dashLine,"",h.mlw||u.width||0).style("opacity",l.opacity)}),i.selectedPointStyle(f,a)}function p(r,t){var a=t[0].node3,n=t[0].trace;n.selectedpoints?i.selectedPointStyle(a.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:S,styleOnSelect:p}},45608:function(G,V,e){var m=e(83372),P=e(49084),i=e(21776).Ks,L=e(45464),S=e(92880).extendFlat;G.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},m.featureidkey,{}),below:{valType:"string",editType:"plot"},text:m.text,hovertext:m.hovertext,marker:{line:{color:S({},m.marker.line.color,{editType:"plot"}),width:S({},m.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},m.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},m.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},m.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:m.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:S({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,V,e){var m=e(38248),P=e(3400),i=e(8932),L=e(43616),S=e(44808).makeBlank,v=e(27144);function p(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,f={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},u=a._opts={fill:f,line:l,geojson:S()};if(!n)return u;var g=v.extractTraceFeature(t);if(!g)return u;var h=i.makeColorScaleFuncFromTrace(a),T=a.marker,c=T.line||{},o;P.isArrayOrTypedArray(T.opacity)&&(o=function(s){var E=s.mo;return m(E)?+P.constrain(E,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(s){return s.mlc});var x;P.isArrayOrTypedArray(c.width)&&(x=function(s){return s.mlw});for(var w=0;w<t.length;w++){var C=t[w],y=C.fOut;if(y){var M=y.properties;M.fc=h(C.z),o&&(M.mo=o(C)),d&&(M.mlc=d(C)),x&&(M.mlw=x(C)),C.ct=M.ct,C._polygons=v.feature2polygons(y)}}var A=o?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),P.extendFlat(l.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":A}),f.layout.visibility="visible",l.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:g},r(t),u}function r(t){var a=t[0].trace,n=a._opts,f;if(a.selectedpoints){for(var l=L.makeSelectedPointStyleFns(a),u=0;u<t.length;u++){var g=t[u];g.fOut&&(g.fOut.properties.mo2=l.selectedOpacityFn(g))}f={type:"identity",property:"mo2"}}else f=P.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":f}),P.extendFlat(n.line.paint,{"line-opacity":f}),n}G.exports={convert:p,convertOnSelect:r}},9352:function(G,V,e){var m=e(3400),P=e(27260),i=e(45608);G.exports=function(S,v,p,r){function t(u,g){return m.coerce(S,v,i,u,g)}var a=t("locations"),n=t("z"),f=t("geojson");if(!m.isArrayOrTypedArray(a)||!a.length||!m.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||m.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var l=t("marker.line.width");l&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,V,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(m,P){if(P){var i=P[0].trace;i._glTrace.updateOnSelect(P)}},getBelow:function(m,P){for(var i=P.getMapLayers(),L=i.length-2;L>=0;L--){var S=i[L].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=L+1;v<i.length;v++)if(S=i[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,V,e){var m=e(13504).convert,P=e(13504).convertOnSelect,i=e(47552).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",i+p+"-fill"],["line",i+p+"-line"]],this.below=null}var S=L.prototype;S.update=function(v){this._update(m(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(P(v))},S._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var a=0;a<r.length;a++){var n=r[a],f=n[0],l=n[1],u=v[f];p.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&p.setOptions(l,"setPaintProperty",u.paint)}},S._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var f=t[n],l=f[0],u=v[l];r.addLayer({type:l,id:f[1],source:a,layout:u.layout,paint:u.paint},p)}},S._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,a=new L(p,t.uid),n=a.sourceId,f=m(r),l=a.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:f.geojson}),a._addLayers(f,l),r[0].trace._glTrace=a,a}},86040:function(G,V,e){var m=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},83344:function(G,V,e){var m=e(47128);G.exports=function(i,L){for(var S=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,S.length,v.length,p.length),t=-1/0,a=1/0,n=0;n<r;n++){var f=S[n],l=v[n],u=p[n],g=Math.sqrt(f*f+l*l+u*u);t=Math.max(t,g),a=Math.min(a,g)}L._len=r,L._normMax=t,m(i,L,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(G,V,e){var m=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,i=e(3400).simpleMap,L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(g,h){this.scene=g,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index,T=this.data.x[h],c=this.data.y[h],o=this.data.z[h],d=this.data.u[h],x=this.data.v[h],w=this.data.w[h];g.traceCoordinate=[T,c,o,d,x,w,Math.sqrt(d*d+x*x+w*w)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?g.textLabel=C[h]:C&&(g.textLabel=C),!0}};var a={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function l(g,h){var T=g.fullSceneLayout,c=g.dataScale,o={};function d(M,A){var s=T[A],E=c[a[A]];return i(M,function(b){return s.d2l(b)*E})}o.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),o.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var x=S(h);o.colormap=L(h),o.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],o.coneOffset=n[h.anchor];var w=h.sizemode;w==="scaled"?o.coneSize=h.sizeref||.5:w==="absolute"?o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:w==="raw"&&(o.coneSize=h.sizeref),o.coneSizemode=w;var C=m(o),y=h.lightposition;return C.lightPosition=[y.x,y.y,y.z],C.ambient=h.lighting.ambient,C.diffuse=h.lighting.diffuse,C.specular=h.lighting.specular,C.roughness=h.lighting.roughness,C.fresnel=h.lighting.fresnel,C.opacity=h.opacity,h._pad=f[h.anchor]*C.vectorScale*C.coneScale*h._normMax,C}t.update=function(g){this.data=g;var h=l(this.scene,g);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(g,h){var T=g.glplot.gl,c=l(g,h),o=P(T,c),d=new r(g,h.uid);return d.mesh=o,d.data=h,o._trace=d,g.glplot.add(o),d}G.exports=u},86096:function(G,V,e){var m=e(3400),P=e(27260),i=e(86040);G.exports=function(S,v,p,r){function t(T,c){return m.coerce(S,v,i,T,c)}var a=t("u"),n=t("v"),f=t("w"),l=t("x"),u=t("y"),g=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!l||!l.length||!u||!u.length||!g||!g.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,V,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(m,P){return m.norm=P.traceCoordinate[6],m},meta:{}}},67104:function(G,V,e){var m=e(83328),P=e(52904),i=e(29736),L=i.axisHoverFormat,S=i.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,a=e(69104),n=a.COMPARISON_OPS2,f=a.INTERVAL_OPS,l=P.line;G.exports=t({z:m.z,x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,text:m.text,hovertext:m.hovertext,transpose:m.transpose,xtype:m.xtype,ytype:m.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:t({},m.texttemplate,{}),textfont:t({},m.textfont,{}),hoverongaps:m.hoverongaps,connectgaps:t({},m.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},l.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,V,e){var m=e(8932),P=e(19512),i=e(54444),L=e(46960);G.exports=function(v,p){var r=P(v,p),t=r[0].z;i(p,t);var a=p.contours,n=m.extractOpts(p),f;if(a.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var l=a.start,u=L(a),g=a.size||1,h=Math.floor((u-l)/g)+1;isFinite(g)||(g=1,h=1);var T=l-g/2,c=T+h*g;f=[T,c]}else f=t;return m.calc(v,p,{vals:f,cLetter:"z"}),r}},56008:function(G){G.exports=function(V,e){var m=V[0],P=m.z,i;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(i=0;i<V.length;i++){var S=V[i];S.prefixBoundary=!S.edgepaths.length&&(L>S.level||S.starts.length&&L===S.level)}break;case"constraint":if(m.prefixBoundary=!1,m.edgepaths.length)return;var v=m.x.length,p=m.y.length,r=-1/0,t=1/0;for(i=0;i<p;i++)t=Math.min(t,P[i][0]),t=Math.min(t,P[i][v-1]),r=Math.max(r,P[i][0]),r=Math.max(r,P[i][v-1]);for(i=1;i<v-1;i++)t=Math.min(t,P[0][i]),t=Math.min(t,P[p-1][i]),r=Math.max(r,P[0][i]),r=Math.max(r,P[p-1][i]);var a=e.value,n,f;switch(e._operation){case">":a>r&&(m.prefixBoundary=!0);break;case"<":(a<t||m.starts.length&&a===t)&&(m.prefixBoundary=!0);break;case"[]":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),(f<t||n>r||m.starts.length&&f===t)&&(m.prefixBoundary=!0);break;case"][":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),n<t&&f>r&&(m.prefixBoundary=!0);break}break}}},55296:function(G,V,e){var m=e(8932),P=e(41076),i=e(46960);function L(S,v,p){var r=v.contours,t=v.line,a=r.size||1,n=r.coloring,f=P(v,{isColorbar:!0});if(n==="heatmap"){var l=m.extractOpts(v);p._fillgradient=l.reversescale?m.flipScale(l.colorscale):l.colorscale,p._zrange=[l.min,l.max]}else n==="fill"&&(p._fillcolor=f);p._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:i(r),size:a}}G.exports={min:"zmin",max:"zmax",calc:L}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,V,e){var m=e(38248),P=e(17428),i=e(76308),L=i.addOpacity,S=i.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(f,l,u,g,h,T){var c=l.contours,o,d,x,w=u("contours.operation");if(c._operation=r[w],a(u,c),w==="="?o=c.showlines=!0:(o=u("contours.showlines"),x=u("fillcolor",L((f.line||{}).color||h,.5))),o){var C=x&&S(x)?L(l.fillcolor,1):h;d=u("line.color",C),u("line.width",2),u("line.dash")}u("line.smoothing"),P(u,g,d,T)};function a(n,f){var l;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),p(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(l=parseFloat(f.value[0]),f.value=[l,l+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:m(f.value)&&(l=parseFloat(f.value),f.value=[l,l+1])):(n("contours.value",0),m(f.value)||(p(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(G,V,e){var m=e(69104),P=e(38248);G.exports={"[]":L("[]"),"][":L("]["),">":S(">"),"<":S("<"),"=":S("=")};function i(v,p){var r=Array.isArray(p),t;function a(n){return P(n)?+n:null}return m.COMPARISON_OPS2.indexOf(v)!==-1?t=a(r?p[0]:p):m.INTERVAL_OPS.indexOf(v)!==-1?t=r?[a(p[0]),a(p[1])]:[a(p),a(p)]:m.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(a):[a(p)]),t}function L(v){return function(p){p=i(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(p){return p=i(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,m,P,i){var L=i("contours.start"),S=i("contours.end"),v=L===!1||S===!1,p=P("contours.size"),r;v?r=m.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(G,V,e){var m=e(3400);G.exports=function(i,L){var S,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return i;case">":for(i.length!==1&&m.warn("Contour data invalid for the specified inequality operation."),v=i[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return i;case"][":var a=r;r=t,t=a;case"[]":for(i.length!==2&&m.warn("Contour data invalid for the specified inequality range operation."),v=P(i[0]),p=P(i[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(i){return m.extendFlat({},i,{edgepaths:m.extendDeep([],i.edgepaths),paths:m.extendDeep([],i.paths),starts:m.extendDeep([],i.starts)})}},57004:function(G,V,e){var m=e(3400),P=e(51264),i=e(31147),L=e(95536),S=e(84952),v=e(97680),p=e(39096),r=e(67104);G.exports=function(a,n,f,l){function u(c,o){return m.coerce(a,n,r,c,o)}function g(c){return m.coerce2(a,n,r,c)}var h=P(a,n,u,l);if(!h){n.visible=!1;return}i(a,n,l,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var T=u("contours.type")==="constraint";u("connectgaps",m.isArray1D(n.z)),T?L(a,n,u,l,f):(S(a,n,u,g),v(a,n,u,l)),n.contours&&n.contours.coloring==="heatmap"&&p(u,l),u("zorder")}},61512:function(G,V,e){var m=e(3400),P=e(3212),i=e(46960);G.exports=function(S,v,p){for(var r=S.type==="constraint"?P[S._operation](S.value):S,t=r.size,a=[],n=i(r),f=p.trace._carpetTrace,l=f?{xaxis:f.aaxis,yaxis:f.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},u=r.start;u<n;u+=t)if(a.push(m.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},l)),a.length>1e3){m.warn("Too many contours, clipping at 1000",S);break}return a}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,V,e){var m=e(3400),P=e(93252);G.exports=function(t,a,n){var f,l,u,g,h;for(a=a||.01,n=n||.01,u=0;u<t.length;u++){for(g=t[u],h=0;h<g.starts.length;h++)l=g.starts[h],S(g,l,"edge",a,n);for(f=0;Object.keys(g.crossings).length&&f<1e4;)f++,l=Object.keys(g.crossings)[0].split(",").map(Number),S(g,l,void 0,a,n);f===1e4&&m.log("Infinite loop in contour?")}};function i(r,t,a,n){return Math.abs(r[0]-t[0])<a&&Math.abs(r[1]-t[1])<n}function L(r,t){var a=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(a*a+n*n)}function S(r,t,a,n,f){var l=t.join(","),u=r.crossings[l],g=v(u,a,t),h=[p(r,t,[-g[0],-g[1]])],T=r.z.length,c=r.z[0].length,o=t.slice(),d=g.slice(),x;for(x=0;x<1e4;x++){if(u>20?(u=P.CHOOSESADDLE[u][(g[0]||g[1])<0?0:1],r.crossings[l]=P.SADDLEREMAINDER[u]):delete r.crossings[l],g=P.NEWDELTA[u],!g){m.log("Found bad marching index:",u,t,r.level);break}h.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],l=t.join(","),i(h[h.length-1],h[h.length-2],n,f)&&h.pop();var w=g[0]&&(t[0]<0||t[0]>c-2)||g[1]&&(t[1]<0||t[1]>T-2),C=t[0]===o[0]&&t[1]===o[1]&&g[0]===d[0]&&g[1]===d[1];if(C||a&&w)break;u=r.crossings[l]}x===1e4&&m.log("Infinite loop in contour?");var y=i(h[0],h[h.length-1],n,f),M=0,A=.2*r.smoothing,s=[],E=0,b,F,I,N,_,O,B,z,U,Z,J;for(x=1;x<h.length;x++)B=L(h[x],h[x-1]),M+=B,s.push(B);var re=M/s.length*A;function ne(Q){return h[Q%h.length]}for(x=h.length-2;x>=E;x--)if(b=s[x],b<re){for(I=0,F=x-1;F>=E&&b+s[F]<re;F--)b+=s[F];if(y&&x===h.length-2)for(I=0;I<F&&b+s[I]<re;I++)b+=s[I];_=x-F+I+1,O=Math.floor((x+F+I+2)/2),!y&&x===h.length-2?N=h[h.length-1]:!y&&F===-1?N=h[0]:_%2?N=ne(O):N=[(ne(O)[0]+ne(O+1)[0])/2,(ne(O)[1]+ne(O+1)[1])/2],h.splice(F+1,x-F+1,N),x=F+1,I&&(E=I),y&&(x===h.length-2?h[I]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{a||m.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var ue=!1;for(z=0;z<r.edgepaths.length;z++)if(Z=r.edgepaths[z],!ue&&i(Z[0],h[h.length-1],n,f)){h.pop(),ue=!0;var te=!1;for(U=0;U<r.edgepaths.length;U++)if(J=r.edgepaths[U],i(J[J.length-1],h[0],n,f)){te=!0,h.shift(),r.edgepaths.splice(z,1),U===z?r.paths.push(h.concat(J)):(U>z&&U--,r.edgepaths[U]=J.concat(h,Z));break}te||(r.edgepaths[z]=h.concat(Z))}for(z=0;z<r.edgepaths.length&&!ue;z++)Z=r.edgepaths[z],i(Z[Z.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[z]=Z.concat(h),ue=!0);ue||r.edgepaths.push(h)}}function v(r,t,a){var n=0,f=0;return r>20&&t?r===208||r===1114?n=a[0]===0?1:-1:f=a[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?f=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function p(r,t,a){var n=t[0]+Math.max(a[0],0),f=t[1]+Math.max(a[1],0),l=r.z[f][n],u=r.xaxis,g=r.yaxis;if(a[1]){var h=(r.level-l)/(r.z[f][n+1]-l),T=(h!==1?(1-h)*u.c2l(r.x[n]):0)+(h!==0?h*u.c2l(r.x[n+1]):0);return[u.c2p(u.l2c(T),!0),g.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-l)/(r.z[f+1][n]-l),o=(c!==1?(1-c)*g.c2l(r.y[f]):0)+(c!==0?c*g.c2l(r.y[f+1]):0);return[u.c2p(r.x[n],!0),g.c2p(g.l2c(o),!0),n,f+c]}}},38200:function(G,V,e){var m=e(76308),P=e(55512);G.exports=function(L,S,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,S,v,p,r);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&m.opacity(n.fillcolor)?a.color=m.addOpacity(n.fillcolor,1):n.contours.showlines&&m.opacity(n.line.color)&&(a.color=m.addOpacity(n.line.color,1)))}),t}},66240:function(G,V,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,V,e){var m=e(3400);G.exports=function(i,L,S,v){v||(v={});var p=i("contours.showlabels");if(p){var r=L.font;m.coerceFont(i,"contours.labelfont",r,{overrideDflt:{color:S}}),i("contours.labelformat")}v.hasHover!==!1&&i("zhoverformat")}},41076:function(G,V,e){var m=e(33428),P=e(8932),i=e(46960);G.exports=function(S){var v=S.contours,p=v.start,r=i(v),t=v.size||1,a=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,f=P.extractOpts(S);isFinite(t)||(t=1,a=1);var l=f.reversescale?P.flipScale(f.colorscale):f.colorscale,u=l.length,g=new Array(u),h=new Array(u),T,c,o=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<u;c++)T=l[c],g[c]=T[0]*(d-o)+o,h[c]=T[1];var x=m.extent([o,d,v.start,v.start+t*(a-1)]),w=x[o<d?0:1],C=x[o<d?1:0];w!==o&&(g.splice(0,0,w),h.splice(0,0,h[0])),C!==d&&(g.push(C),h.push(h[h.length-1]))}else{var y=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(y&&(p<=o||r>=d)&&(p<=o&&(p=o),r>=d&&(r=d),a=Math.floor((r-p)/t)+1,n=0),c=0;c<u;c++)T=l[c],g[c]=(T[0]*(a+n-1)-n/2)*t+p,h[c]=T[1];(y||S.autocontour)&&(g[0]>o&&(g.unshift(o),h.unshift(h[0])),g[g.length-1]<d&&(g.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:g,range:h},{noNumericCheck:!0})}},72424:function(G,V,e){var m=e(93252);G.exports=function(L){var S=L[0].z,v=S.length,p=S[0].length,r=v===2||p===2,t,a,n,f,l,u,g,h,T;for(a=0;a<v-1;a++)for(f=[],a===0&&(f=f.concat(m.BOTTOMSTART)),a===v-2&&(f=f.concat(m.TOPSTART)),t=0;t<p-1;t++)for(n=f.slice(),t===0&&(n=n.concat(m.LEFTSTART)),t===p-2&&(n=n.concat(m.RIGHTSTART)),l=t+","+a,u=[[S[a][t],S[a][t+1]],[S[a+1][t],S[a+1][t+1]]],T=0;T<L.length;T++)h=L[T],g=P(h.level,u),g&&(h.crossings[l]=g,n.indexOf(g)!==-1&&(h.starts.push([t,a]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&h.starts.push([t,a])))};function P(i,L){var S=(L[0][0]>i?0:1)+(L[0][1]>i?0:2)+(L[1][1]>i?0:4)+(L[1][0]>i?0:8);if(S===5||S===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return i>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(8932),S=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),a=e(88748),n=e(61512),f=e(82172),l=e(56008),u=e(93252),g=u.LABELOPTIMIZER;V.plot=function(y,M,A,s){var E=M.xaxis,b=M.yaxis;P.makeTraceGroups(s,A,"contour").each(function(F){var I=m.select(this),N=F[0],_=N.trace,O=N.x,B=N.y,z=_.contours,U=n(z,M,N),Z=P.ensureSingle(I,"g","heatmapcoloring"),J=[];z.coloring==="heatmap"&&(J=[F]),r(y,M,J,Z),t(U),a(U);var re=E.c2p(O[0],!0),ne=E.c2p(O[O.length-1],!0),ue=b.c2p(B[0],!0),te=b.c2p(B[B.length-1],!0),Q=[[re,te],[ne,te],[ne,ue],[re,ue]],ie=U;z.type==="constraint"&&(ie=f(U,z._operation)),h(I,Q,z),T(I,ie,Q,z),o(I,U,y,N,z),x(I,M,y,N,Q)})};function h(C,y,M){var A=P.ensureSingle(C,"g","contourbg"),s=A.selectAll("path").data(M.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function T(C,y,M,A){var s=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",E="M"+M.join("L")+"Z";s&&l(y,A);var b=P.ensureSingle(C,"g","contourfill"),F=b.selectAll("path").data(s?y:[]);F.enter().append("path"),F.exit().remove(),F.each(function(I){var N=(I.prefixBoundary?E:"")+c(I,M);N?m.select(this).attr("d",N).style("stroke","none"):m.select(this).remove()})}function c(C,y){var M="",A=0,s=C.edgepaths.map(function(re,ne){return ne}),E=!0,b,F,I,N,_,O;function B(re){return Math.abs(re[1]-y[0][1])<.01}function z(re){return Math.abs(re[1]-y[2][1])<.01}function U(re){return Math.abs(re[0]-y[0][0])<.01}function Z(re){return Math.abs(re[0]-y[2][0])<.01}for(;s.length;){for(O=i.smoothopen(C.edgepaths[A],C.smoothing),M+=E?O:O.replace(/^M/,"L"),s.splice(s.indexOf(A),1),b=C.edgepaths[A][C.edgepaths[A].length-1],N=-1,I=0;I<4;I++){if(!b){P.log("Missing end?",A,C);break}for(B(b)&&!Z(b)?F=y[1]:U(b)?F=y[0]:z(b)?F=y[3]:Z(b)&&(F=y[2]),_=0;_<C.edgepaths.length;_++){var J=C.edgepaths[_][0];Math.abs(b[0]-F[0])<.01?Math.abs(b[0]-J[0])<.01&&(J[1]-b[1])*(F[1]-J[1])>=0&&(F=J,N=_):Math.abs(b[1]-F[1])<.01?Math.abs(b[1]-J[1])<.01&&(J[0]-b[0])*(F[0]-J[0])>=0&&(F=J,N=_):P.log("endpt to newendpt is not vert. or horz.",b,F,J)}if(b=F,N>=0)break;M+="L"+F}if(N===C.edgepaths.length){P.log("unclosed perimeter path");break}A=N,E=s.indexOf(A)===-1,E&&(A=s[0],M+="Z")}for(A=0;A<C.paths.length;A++)M+=i.smoothclosed(C.paths[A],C.smoothing);return M}function o(C,y,M,A,s){var E=M._context.staticPlot,b=P.ensureSingle(C,"g","contourlines"),F=s.showlines!==!1,I=s.showlabels,N=F&&I,_=V.createLines(b,F||I,y,E),O=V.createLineClip(b,N,M,A.trace.uid),B=C.selectAll("g.contourlabels").data(I?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),I){var z=[],U=[];P.clearLocationCache();var Z=V.labelFormatter(M,A),J=i.tester.append("text").attr("data-notex",1).call(i.font,s.labelfont),re=y[0].xaxis,ne=y[0].yaxis,ue=re._length,te=ne._length,Q=re.range,ie=ne.range,Y=P.aggNums(Math.min,null,A.x),$=P.aggNums(Math.max,null,A.x),oe=P.aggNums(Math.min,null,A.y),j=P.aggNums(Math.max,null,A.y),X=Math.max(re.c2p(Y,!0),0),se=Math.min(re.c2p($,!0),ue),q=Math.max(ne.c2p(j,!0),0),ce=Math.min(ne.c2p(oe,!0),te),ye={};Q[0]<Q[1]?(ye.left=X,ye.right=se):(ye.left=se,ye.right=X),ie[0]<ie[1]?(ye.top=q,ye.bottom=ce):(ye.top=ce,ye.bottom=q),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,z.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var we=Math.sqrt(ue*ue+te*te),be=u.LABELDISTANCE*we/Math.max(1,y.length/u.LABELINCREASE);_.each(function(De){var ke=V.calcTextOpts(De.level,Z,J,M);m.select(this).selectAll("path").each(function(){var Be=this,Ae=P.getVisibleSegment(Be,ye,ke.height/2);if(Ae&&!(Ae.len<(ke.width+ke.height)*u.LABELMIN))for(var Ie=Math.min(Math.ceil(Ae.len/be),u.LABELMAX),Me=0;Me<Ie;Me++){var Fe=V.findBestTextLocation(Be,Ae,ke,U,ye);if(!Fe)break;V.addLabelData(Fe,ke,U,z)}})}),J.remove(),V.drawLabels(B,U,M,O,N?z:null)}I&&!F&&_.remove()}V.createLines=function(C,y,M,A){var s=M[0].smoothing,E=C.selectAll("g.contourlevel").data(y?M:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),y){var b=E.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(I){return i.smoothopen(I,s)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var F=E.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});F.exit().remove(),F.enter().append("path").classed("closedline",!0),F.attr("d",function(I){return i.smoothclosed(I,s)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return E},V.createLineClip=function(C,y,M,A){var s=M._fullLayout._clips,E=y?"clipline"+A:null,b=s.selectAll("#"+E).data(y?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),i.setClipUrl(C,E,M),b},V.labelFormatter=function(C,y){var M=C._fullLayout,A=y.trace,s=A.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)E.tickformat=s.labelformat,p(E,M);else{var b=L.extractOpts(A);if(b&&b.colorbar&&b.colorbar._axis)E=b.colorbar._axis;else{if(s.type==="constraint"){var F=s.value;P.isArrayOrTypedArray(F)?E.range=[F[0],F[F.length-1]]:E.range=[F,F]}else E.range=[s.start,s.end],E.nticks=(s.end-s.start)/s.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,M),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(I){return v.tickText(E,I).text}},V.calcTextOpts=function(C,y,M,A){var s=y(C);M.text(s).call(S.convertToTspans,A);var E=M.node(),b=i.bBox(E,!0);return{text:s,width:b.width,height:b.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(b.top+b.bottom)/2}},V.findBestTextLocation=function(C,y,M,A,s){var E=M.width,b,F,I,N,_;y.isClosed?(F=y.len/g.INITIALSEARCHPOINTS,b=y.min+F/2,I=y.max):(F=(y.len-E)/(g.INITIALSEARCHPOINTS+1),b=y.min+F+E/2,I=y.max-(F+E)/2);for(var O=1/0,B=0;B<g.ITERATIONS;B++){for(var z=b;z<I;z+=F){var U=P.getTextLocation(C,y.total,z,E),Z=d(U,M,A,s);Z<O&&(O=Z,_=U,N=z)}if(O>g.MAXCOST*2)break;B&&(F/=2),b=N-F/2,I=b+F*1.5}if(O<=g.MAXCOST)return _};function d(C,y,M,A){var s=y.width/2,E=y.height/2,b=C.x,F=C.y,I=C.theta,N=Math.cos(I)*s,_=Math.sin(I)*s,O=(b>A.center?A.right-b:b-A.left)/(N+Math.abs(Math.sin(I)*E)),B=(F>A.middle?A.bottom-F:F-A.top)/(Math.abs(_)+Math.cos(I)*E);if(O<1||B<1)return 1/0;var z=g.EDGECOST*(1/(O-1)+1/(B-1));z+=g.ANGLECOST*I*I;for(var U=b-N,Z=F-_,J=b+N,re=F+_,ne=0;ne<M.length;ne++){var ue=M[ne],te=Math.cos(ue.theta)*ue.width/2,Q=Math.sin(ue.theta)*ue.width/2,ie=P.segmentDistance(U,Z,J,re,ue.x-te,ue.y-Q,ue.x+te,ue.y+Q)*2/(y.height+ue.height),Y=ue.level===y.level,$=Y?g.SAMELEVELDISTANCE:1;if(ie<=$)return 1/0;var oe=g.NEIGHBORCOST*(Y?g.SAMELEVELFACTOR:1);z+=oe/(ie-$)}return z}V.addLabelData=function(C,y,M,A){var s=y.fontSize,E=y.width+s/3,b=Math.max(0,y.height-s/3),F=C.x,I=C.y,N=C.theta,_=Math.sin(N),O=Math.cos(N),B=function(U,Z){return[F+U*O-Z*_,I+U*_+Z*O]},z=[B(-E/2,-b/2),B(-E/2,b/2),B(E/2,b/2),B(E/2,-b/2)];M.push({text:y.text,x:F,y:I,dy:y.dy,theta:N,level:y.level,width:E,height:b}),A.push(z)},V.drawLabels=function(C,y,M,A,s){var E=C.selectAll("text").data(y,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var _=N.x+Math.sin(N.theta)*N.dy,O=N.y-Math.cos(N.theta)*N.dy;m.select(this).text(N.text).attr({x:_,y:O,transform:"rotate("+180*N.theta/Math.PI+" "+_+" "+O+")"}).call(S.convertToTspans,M)}),s){for(var b="",F=0;F<s.length;F++)b+="M"+s[F].join("L")+"Z";var I=P.ensureSingle(A,"path","");I.attr("d",b)}};function x(C,y,M,A,s){var E=A.trace,b=M._fullLayout._clips,F="clip"+E.uid,I=b.selectAll("#"+F).data(E.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",F),I.exit().remove(),E.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:A.x,y:A.y,z:w(A),smoothing:0};t([N]),a([N]),l([N],{type:"levels"});var _=P.ensureSingle(I,"path","");_.attr("d",(N.prefixBoundary?"M"+s.join("L")+"Z":"")+c(N,s))}else F=null;i.setClipUrl(C,F,M)}function w(C){var y=C.trace._emptypoints,M=[],A=C.z.length,s=C.z[0].length,E,b=[],F;for(E=0;E<s;E++)b.push(1);for(E=0;E<A;E++)M.push(b.slice());for(E=0;E<y.length;E++)F=y[E],M[F[0]][F[1]]=0;return C.zmask=M,M}},54444:function(G,V,e){var m=e(54460),P=e(3400);G.exports=function(S,v){var p=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var a=i(r,t,S.ncontours);p.size=a.dtick,p.start=m.tickFirst(a),a.range.reverse(),p.end=m.tickFirst(a),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),S._input.contours||(S._input.contours={}),P.extendFlat(S._input.contours,{start:p.start,end:p.end,size:p.size}),S._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,f=p.end,l=S._input.contours;if(n>f&&(p.start=l.start=f,f=p.end=l.end=n,n=p.start),!(p.size>0)){var u;n===f?u=1:u=i(n,f,S.ncontours).dtick,l.size=p.size=u}}};function i(L,S,v){var p={type:"linear",range:[L,S]};return m.autoTicks(p,(S-L)/(v||15)),p}},52440:function(G,V,e){var m=e(33428),P=e(43616),i=e(41648),L=e(41076);G.exports=function(v){var p=m.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=m.select(this),a=r[0].trace,n=a.contours,f=a.line,l=n.size||1,u=n.start,g=n.type==="constraint",h=!g&&n.coloring==="lines",T=!g&&n.coloring==="fill",c=h||T?L(a):null;t.selectAll("g.contourlevel").each(function(x){m.select(this).selectAll("path").call(P.lineGroupStyle,f.width,h?c(x.level):f.color,f.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){P.font(m.select(this),{weight:o.weight,style:o.style,variant:o.variant,textcase:o.textcase,lineposition:o.lineposition,shadow:o.shadow,family:o.family,size:o.size,color:o.color||(h?c(x.level):f.color)})}),g)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),c(x.level+.5*l)}),d===void 0&&(d=u),t.selectAll("g.contourbg path").style("fill",c(d-.5*l))}}),i(v)}},97680:function(G,V,e){var m=e(27260),P=e(17428);G.exports=function(L,S,v,p,r){var t=v("contours.coloring"),a,n="";t==="fill"&&(a=v("contours.showlines")),a!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,m(L,S,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(G,V,e){var m=e(83328),P=e(67104),i=e(49084),L=e(92880).extendFlat,S=P.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:m.z,a:m.x,a0:m.x0,da:m.dx,b:m.y,b0:m.y0,db:m.dy,text:m.text,hovertext:m.hovertext,transpose:m.transpose,atype:m.xtype,btype:m.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,V,e){var m=e(47128),P=e(3400),i=e(2872),L=e(26136),S=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),a=e(54444);G.exports=function(l,u){var g=u._carpetTrace=t(l,u);if(!(!g||!g.visible||g.visible==="legendonly")){if(!u.a||!u.b){var h=l.data[g.index],T=l.data[u.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,u,u._defaultColor,l._fullLayout)}var c=n(l,u);return a(u,u._z),c}};function n(f,l){var u=l._carpetTrace,g=u.aaxis,h=u.baxis,T,c,o,d,x,w,C;g._minDtick=0,h._minDtick=0,P.isArray1D(l.z)&&i(l,g,h,"a","b",["z"]),T=l._a=l._a||l.a,d=l._b=l._b||l.b,T=T?g.makeCalcdata(l,"_a"):[],d=d?h.makeCalcdata(l,"_b"):[],c=l.a0||0,o=l.da||1,x=l.b0||0,w=l.db||1,C=l._z=L(l._z||l.z,l.transpose),l._emptypoints=v(C),S(C,l._emptypoints);var y=P.maxRowLength(C),M=l.xtype==="scaled"?"":T,A=p(l,M,c,o,y,g),s=l.ytype==="scaled"?"":d,E=p(l,s,x,w,C.length,h),b={a:A,b:E,z:C};return l.contours.type==="levels"&&l.contours.coloring!=="none"&&m(f,l,{vals:C,containerStr:"",cLetter:"z"}),[b]}},3252:function(G,V,e){var m=e(3400),P=e(51264),i=e(37960),L=e(95536),S=e(84952),v=e(97680);G.exports=function(r,t,a,n){function f(h,T){return m.coerce(r,t,i,h,T)}function l(h){return m.coerce2(r,t,i,h)}if(f("carpet"),r.a&&r.b){var u=P(r,t,f,n,"a","b");if(!u){t.visible=!1;return}f("text");var g=f("contours.type")==="constraint";g?L(r,t,f,n,a,{hasHover:!1}):(S(r,t,f,l),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null;f("zorder")}},40448:function(G,V,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,V,e){var m=e(33428),P=e(87072),i=e(53416),L=e(43616),S=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),a=e(82172),n=e(61512),f=e(56008),l=e(50948),u=e(77712);G.exports=function(M,A,s,E){var b=A.xaxis,F=A.yaxis;S.makeTraceGroups(E,s,"contour").each(function(I){var N=m.select(this),_=I[0],O=_.trace,B=O._carpetTrace=l(M,O),z=M.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var U=_.a,Z=_.b,J=O.contours,re=n(J,A,_),ne=J.type==="constraint",ue=J._operation,te=ne?ue==="="?"lines":"fill":J.coloring;function Q(we){var be=B.ab2xy(we[0],we[1],!0);return[b.c2p(be[0]),F.c2p(be[1])]}var ie=[[U[0],Z[Z.length-1]],[U[U.length-1],Z[Z.length-1]],[U[U.length-1],Z[0]],[U[0],Z[0]]];v(re);var Y=(U[U.length-1]-U[0])*1e-8,$=(Z[Z.length-1]-Z[0])*1e-8;p(re,Y,$);var oe=re;J.type==="constraint"&&(oe=a(re,ue)),g(re,Q);var j,X,se,q,ce=[];for(q=z.clipsegments.length-1;q>=0;q--)j=z.clipsegments[q],X=P([],j.x,b.c2p),se=P([],j.y,F.c2p),X.reverse(),se.reverse(),ce.push(i(X,se,j.bicubic));var ye="M"+ce.join("L")+"Z";x(N,z.clipsegments,b,F,ne,te),w(O,N,b,F,oe,ie,Q,B,z,te,ye),h(N,re,M,_,J,A,B),L.setClipUrl(N,B._clipPathId,M)})};function g(y,M){var A,s,E,b,F,I,N,_,O;for(A=0;A<y.length;A++){for(b=y[A],F=b.pedgepaths=[],I=b.ppaths=[],s=0;s<b.edgepaths.length;s++){for(O=b.edgepaths[s],N=[],E=0;E<O.length;E++)N[E]=M(O[E]);F.push(N)}for(s=0;s<b.paths.length;s++){for(O=b.paths[s],_=[],E=0;E<O.length;E++)_[E]=M(O[E]);I.push(_)}}}function h(y,M,A,s,E,b,F){var I=A._context.staticPlot,N=S.ensureSingle(y,"g","contourlines"),_=E.showlines!==!1,O=E.showlabels,B=_&&O,z=r.createLines(N,_||O,M,I),U=r.createLineClip(N,B,A,s.trace.uid),Z=y.selectAll("g.contourlabels").data(O?[0]:[]);if(Z.exit().remove(),Z.enter().append("g").classed("contourlabels",!0),O){var J=b.xaxis,re=b.yaxis,ne=J._length,ue=re._length,te=[[[0,0],[ne,0],[ne,ue],[0,ue]]],Q=[];S.clearLocationCache();var ie=r.labelFormatter(A,s),Y=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),$={left:0,right:ne,center:ne/2,top:0,bottom:ue,middle:ue/2},oe=Math.sqrt(ne*ne+ue*ue),j=t.LABELDISTANCE*oe/Math.max(1,M.length/t.LABELINCREASE);z.each(function(X){var se=r.calcTextOpts(X.level,ie,Y,A);m.select(this).selectAll("path").each(function(q){var ce=this,ye=S.getVisibleSegment(ce,$,se.height/2);if(ye&&(T(ce,q,X,ye,F,se.height),!(ye.len<(se.width+se.height)*t.LABELMIN)))for(var we=Math.min(Math.ceil(ye.len/j),t.LABELMAX),be=0;be<we;be++){var De=r.findBestTextLocation(ce,ye,se,Q,$);if(!De)break;r.addLabelData(De,se,Q,te)}})}),Y.remove(),r.drawLabels(Z,Q,A,U,B?te:null)}O&&!_&&z.remove()}function T(y,M,A,s,E,b){for(var F,I=0;I<A.pedgepaths.length;I++)M===A.pedgepaths[I]&&(F=A.edgepaths[I]);if(!F)return;var N=E.a[0],_=E.a[E.a.length-1],O=E.b[0],B=E.b[E.b.length-1];function z(ne,ue){var te=0,Q,ie=.1;return(Math.abs(ne[0]-N)<ie||Math.abs(ne[0]-_)<ie)&&(Q=o(E.dxydb_rough(ne[0],ne[1],ie)),te=Math.max(te,b*d(ue,Q)/2)),(Math.abs(ne[1]-O)<ie||Math.abs(ne[1]-B)<ie)&&(Q=o(E.dxyda_rough(ne[0],ne[1],ie)),te=Math.max(te,b*d(ue,Q)/2)),te}var U=c(y,0,1),Z=c(y,s.total,s.total-1),J=z(F[0],U),re=s.total-z(F[F.length-1],Z);s.min<J&&(s.min=J),s.max>re&&(s.max=re),s.len=s.max-s.min}function c(y,M,A){var s=y.getPointAtLength(M),E=y.getPointAtLength(A),b=E.x-s.x,F=E.y-s.y,I=Math.sqrt(b*b+F*F);return[b/I,F/I]}function o(y){var M=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/M,y[1]/M]}function d(y,M){var A=Math.abs(y[0]*M[0]+y[1]*M[1]),s=Math.sqrt(1-A*A);return s/A}function x(y,M,A,s,E,b){var F,I,N,_,O=S.ensureSingle(y,"g","contourbg"),B=O.selectAll("path").data(b==="fill"&&!E?[0]:[]);B.enter().append("path"),B.exit().remove();var z=[];for(_=0;_<M.length;_++)F=M[_],I=P([],F.x,A.c2p),N=P([],F.y,s.c2p),z.push(i(I,N,F.bicubic));B.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(y,M,A,s,E,b,F,I,N,_,O){var B=_==="fill";B&&f(E,y.contours);var z=S.ensureSingle(M,"g","contourfill"),U=z.selectAll("path").data(B?E:[]);U.enter().append("path"),U.exit().remove(),U.each(function(Z){var J=(Z.prefixBoundary?O:"")+C(y,Z,b,F,I,N,A,s);J?m.select(this).attr("d",J).style("stroke","none"):m.select(this).remove()})}function C(y,M,A,s,E,b,F,I){var N,_="",O=M.edgepaths.map(function(se,q){return q}),B=!0,z,U,Z,J,re,ne,ue=Math.abs(A[0][0]-A[2][0])*1e-4,te=Math.abs(A[0][1]-A[2][1])*1e-4;function Q(se){return Math.abs(se[1]-A[0][1])<te}function ie(se){return Math.abs(se[1]-A[2][1])<te}function Y(se){return Math.abs(se[0]-A[0][0])<ue}function $(se){return Math.abs(se[0]-A[2][0])<ue}function oe(se,q){var ce,ye,we,be,De="";for(Q(se)&&!$(se)||ie(se)&&!Y(se)?(be=E.aaxis,we=u(E,b,[se[0],q[0]],.5*(se[1]+q[1]))):(be=E.baxis,we=u(E,b,.5*(se[0]+q[0]),[se[1],q[1]])),ce=1;ce<we.length;ce++)for(De+=be.smoothing?"C":"L",ye=0;ye<we[ce].length;ye++){var ke=we[ce][ye];De+=[F.c2p(ke[0]),I.c2p(ke[1])]+" "}return De}for(N=0,z=null;O.length;){var j=M.edgepaths[N][0];for(z&&(_+=oe(z,j)),ne=L.smoothopen(M.edgepaths[N].map(s),M.smoothing),_+=B?ne:ne.replace(/^M/,"L"),O.splice(O.indexOf(N),1),z=M.edgepaths[N][M.edgepaths[N].length-1],J=-1,Z=0;Z<4;Z++){if(!z){S.log("Missing end?",N,M);break}for(Q(z)&&!$(z)?U=A[1]:Y(z)?U=A[0]:ie(z)?U=A[3]:$(z)&&(U=A[2]),re=0;re<M.edgepaths.length;re++){var X=M.edgepaths[re][0];Math.abs(z[0]-U[0])<ue?Math.abs(z[0]-X[0])<ue&&(X[1]-z[1])*(U[1]-X[1])>=0&&(U=X,J=re):Math.abs(z[1]-U[1])<te?Math.abs(z[1]-X[1])<te&&(X[0]-z[0])*(U[0]-X[0])>=0&&(U=X,J=re):S.log("endpt to newendpt is not vert. or horz.",z,U,X)}if(J>=0)break;_+=oe(z,U),z=U}if(J===M.edgepaths.length){S.log("unclosed perimeter path");break}N=J,B=O.indexOf(N)===-1,B&&(N=O[0],_+=oe(z,U)+"Z",z=null)}for(N=0;N<M.paths.length;N++)_+=L.smoothclosed(M.paths[N].map(s),M.smoothing);return _}},33928:function(G,V,e){var m=e(49084),P=e(21776).Ks,i=e(45464),L=e(31512),S=e(92880).extendFlat;G.exports=S({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:S({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:S({},i.showlegend,{dflt:!1})},m("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,V,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,L=e(47128),S=e(3400)._;G.exports=function(p,r){for(var t=r._length,a=new Array(t),n=r.z,f=P(n)&&n.length,l=0;l<t;l++){var u=a[l]={},g=r.lon[l],h=r.lat[l];if(u.lonlat=m(g)&&m(h)?[+g,+h]:[i,i],f){var T=n[l];u.z=m(T)?T:i}}return L(p,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:S(p,"lat:")+" ",lon:S(p,"lon:")+" "}}),a}},4629:function(G,V,e){var m=e(38248),P=e(3400),i=e(76308),L=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,a=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!a)return f;var l=[],u,g=t.z,h=t.radius,T=P.isArrayOrTypedArray(g)&&g.length,c=P.isArrayOrTypedArray(h);for(u=0;u<r.length;u++){var o=r[u],d=o.lonlat;if(d[0]!==S){var x={};if(T){var w=o.z;x.z=w!==S?w:0}c&&(x.r=m(h[u])&&h[u]>0?+h[u]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var C=L.extractOpts(t),y=C.reversescale?L.flipScale(C.colorscale):C.colorscale,M=y[0][1],A=i.opacity(M)<1?M:i.addOpacity(M,0),s=["interpolate",["linear"],["heatmap-density"],0,A];for(u=1;u<y.length;u++)s.push(y[u][0],y[u][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(f.heatmap.paint,{"heatmap-weight":T?E:1/(C.max-C.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:l},f.heatmap.layout.visibility="visible",f}},97664:function(G,V,e){var m=e(3400),P=e(27260),i=e(33928);G.exports=function(S,v,p,r){function t(l,u){return m.coerce(S,v,i,l,u)}var a=t("lon")||[],n=t("lat")||[],f=Math.min(a.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e.z=m.z,e}},25336:function(G,V,e){var m=e(54460),P=e(63312).hoverPoints,i=e(63312).getExtraText;G.exports=function(S,v,p){var r=P(S,v,p);if(r){var t=r[0],a=t.cd,n=a[0].trace,f=a[t.index];if(delete t.color,"z"in f){var l=t.subplot.mockAxis;t.z=f.z,t.zLabel=m.tickText(l,l.c2l(f.z),"hover").text}return t.extraText=i(n,f,a[0].t.labels),[t]}}},15088:function(G,V,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(m,P){for(var i=P.getMapLayers(),L=0;L<i.length;L++){var S=i[L],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,V,e){var m=e(4629),P=e(47552).traceLayerPrefix;function i(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=i.prototype;L.update=function(S){var v=this.subplot,p=this.layerList,r=m(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var a=0;a<p.length;a++){var n=p[a],f=n[0],l=n[1],u=r[f];v.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(l,"setPaintProperty",u.paint)}},L._addLayers=function(S,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,a=0;a<r.length;a++){var n=r[a],f=n[0],l=S[f];p.addLayer({type:f,id:n[1],source:t,layout:l.layout,paint:l.paint},v)}},L._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)S.removeLayer(v[p][1])},L.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new i(v,r.uid),a=t.sourceId,n=m(p),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(G,V,e){var m=e(3400);G.exports=function(i,L){for(var S=0;S<i.length;S++)i[S].i=S;m.mergeArray(L.text,i,"tx"),m.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,i,"mo"),m.mergeArray(v.color,i,"mc");var p=v.line;p&&(m.mergeArray(p.color,i,"mlc"),m.mergeArrayCastPositive(p.width,i,"mlw"))}}},20088:function(G,V,e){var m=e(20832),P=e(52904).line,i=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:m.text,textposition:m.textposition,insidetextanchor:r({},m.insidetextanchor,{dflt:"middle"}),textangle:r({},m.textangle,{dflt:0}),textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:r({},m.orientation,{}),offset:r({},m.offset,{arrayOk:!1}),width:r({},m.width,{arrayOk:!1}),marker:a(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder};function a(){var n=r({},m.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,V,e){var m=e(54460),P=e(1220),i=e(74248),L=e(4500),S=e(39032).BADNUM;G.exports=function(r,t){var a=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,l,u,g,h,T,c,o;t.orientation==="h"?(f=a.makeCalcdata(t,"x"),u=n.makeCalcdata(t,"y"),g=P(t,n,"y",u),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y"),u=a.makeCalcdata(t,"x"),g=P(t,a,"x",u),h=!!t.xperiodalignment,T="x"),l=g.vals;var d=Math.min(l.length,f.length),x=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=S);var w=!1;f[c]!==S&&c+1<d&&f[c+1]!==S&&(w=!0),o=x[c]={p:l[c],s:f[c],cNext:w},t._base[c]=-.5*o.s,h&&(x[c].orig_p=u[c],x[c][T+"End"]=g.ends[c],x[c][T+"Start"]=g.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(o.s),o.begR=v(o.s)/v(x[0].s)}var C;for(c=0;c<d;c++)o=x[c],o.s!==S&&(o.sumR=o.s/x[0].vTotal,o.difR=C!==void 0?o.s/C:1,C=o.s);return i(x,t),L(x,t),x};function v(p){return p===S?0:p}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,V,e){var m=e(96376).setGroupPositions;G.exports=function(i,L){var S=i._fullLayout,v=i._fullData,p=i.calcdata,r=L.xaxis,t=L.yaxis,a=[],n=[],f=[],l,u;for(u=0;u<v.length;u++){var g=v[u],h=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(l=p[u],h?f.push(l):n.push(l),a.push(l))}var T={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(m(i,r,t,n,T),m(i,t,r,f,T),u=0;u<a.length;u++){l=a[u];for(var c=0;c<l.length;c++)c+1<l.length&&(l[c].nextP0=l[c+1].p0,l[c].nextS0=l[c+1].s0,l[c].nextP1=l[c+1].p1,l[c].nextS1=l[c+1].s1)}}},45432:function(G,V,e){var m=e(3400),P=e(20011),i=e(31508).handleText,L=e(43980),S=e(31147),v=e(20088),p=e(76308);function r(n,f,l,u){function g(w,C){return m.coerce(n,f,v,w,C)}var h=L(n,f,u,g);if(!h){f.visible=!1;return}S(n,f,u,g),g("xhoverformat"),g("yhoverformat"),g("orientation",f.y&&!f.x?"v":"h"),g("offset"),g("width");var T=g("text");g("hovertext"),g("hovertemplate");var c=g("textposition");i(n,f,u,g,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&g("textinfo",m.isArrayOrTypedArray(T)?"text+value":"value");var o=g("marker.color",l);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(o));var x=g("connector.line.width");x&&(g("connector.line.color"),g("connector.line.dash"))}g("zorder")}function t(n){var f=m.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(f,.5*p.opacity(f))}function a(n,f){var l,u;function g(T){return m.coerce(u._input,u,v,T)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)u=n[h],l=u._input,P(l,u,f,g)}G.exports={supplyDefaults:r,crossTraceDefaults:a}},34580:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"percentInitial"in m&&(e.percentInitial=m.percentInitial),"percentPrevious"in m&&(e.percentPrevious=m.percentPrevious),"percentTotal"in m&&(e.percentTotal=m.percentTotal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},31488:function(G,V,e){var m=e(76308).opacity,P=e(63400).hoverOnBars,i=e(3400).formatPercent;G.exports=function(v,p,r,t,a){var n=P(v,p,r,t,a);if(n){var f=n.cd,l=f[0].trace,u=l.orientation==="h",g=n.index,h=f[g],T=u?"x":"y";n[T+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=i(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=i(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=i(h.sumR,1);var c=h.hi||l.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",x=c.split("+"),w=function(C){return d||x.indexOf(C)!==-1};w("percent initial")&&o.push(n.percentInitialLabel+" of initial"),w("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),w("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=L(l,h),[n]}};function L(S,v){var p=S.marker,r=v.mc||p.color,t=v.mlc||p.line.color,a=v.mlw||p.line.width;if(m(r))return r;if(m(t)&&a)return t}},94704:function(G,V,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,V,e){var m=e(3400),P=e(7076);G.exports=function(i,L,S){var v=!1;function p(a,n){return m.coerce(i,L,P,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,f,l,u){var g=n._fullLayout;v("funnel",g),p(n,f,l,u),r(n,f,l,u),S.plot(n,f,l,u,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(a,n,f,l){var u=n.xaxis,g=n.yaxis;P.makeTraceGroups(l,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,o=P.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var d=c.orientation==="h",x=o.selectAll("g.region").data(P.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=t(C,u,g,d),A=M[0],s=M[1],E="";A[0]!==L&&s[0]!==L&&A[1]!==L&&s[1]!==L&&A[2]!==L&&s[2]!==L&&A[3]!==L&&s[3]!==L&&(d?E+="M"+A[0]+","+s[1]+"L"+A[2]+","+s[2]+"H"+A[3]+"L"+A[1]+","+s[1]+"Z":E+="M"+A[1]+","+s[1]+"L"+A[2]+","+s[3]+"V"+s[2]+"L"+A[1]+","+s[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,a)}})})}function r(a,n,f,l){var u=n.xaxis,g=n.yaxis;P.makeTraceGroups(l,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,o=P.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var d=c.orientation==="h",x=o.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=t(C,u,g,d),A=M[0],s=M[1],E="";A[3]!==void 0&&s[3]!==void 0&&(d?(E+="M"+A[0]+","+s[1]+"L"+A[2]+","+s[2],E+="M"+A[1]+","+s[1]+"L"+A[3]+","+s[2]):(E+="M"+A[1]+","+s[1]+"L"+A[2]+","+s[3],E+="M"+A[1]+","+s[0]+"L"+A[2]+","+s[2])),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,a)}})})}function t(a,n,f,l){var u=[],g=[],h=l?n:f,T=l?f:n;return u[0]=h.c2p(a.s0,!0),g[0]=T.c2p(a.p0,!0),u[1]=h.c2p(a.s1,!0),g[1]=T.c2p(a.p1,!0),u[2]=h.c2p(a.nextS0,!0),g[2]=T.c2p(a.nextP0,!0),u[3]=h.c2p(a.nextS1,!0),g[3]=T.c2p(a.nextP1,!0),l?[u,g]:[g,u]}},44544:function(G,V,e){var m=e(33428),P=e(43616),i=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,a,n){var f=n||m.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(l){return l[0].trace.opacity}),f.each(function(l){var u=m.select(this),g=l[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g.marker;m.select(this).call(i.fill,h.mc||T.color).call(i.stroke,h.mlc||T.line.color).call(P.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(u,g,t),u.selectAll(".regions").each(function(){m.select(this).selectAll("path").style("stroke-width",0).call(i.fill,g.connector.fillcolor)}),u.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},22332:function(G,V,e){var m=e(74996),P=e(45464),i=e(86968).u,L=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:m.labels,label0:m.label0,dlabel:m.dlabel,values:m.values,marker:{colors:m.marker.colors,line:{color:v({},m.marker.line.color,{dflt:null}),width:v({},m.marker.line.width,{dflt:1}),editType:"calc"},pattern:m.marker.pattern,editType:"calc"},text:m.text,hovertext:m.hovertext,scalegroup:v({},m.scalegroup,{}),textinfo:v({},m.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},m.textposition,{values:["inside","none"],dflt:"inside"}),textfont:m.textfont,insidetextfont:m.insidetextfont,title:{text:m.title.text,font:m.title.font,position:v({},m.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,V,e){var m=e(7316);V.name="funnelarea",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},54e3:function(G,V,e){var m=e(45768);function P(L,S){return m.calc(L,S)}function i(L){m.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:i}},92688:function(G,V,e){var m=e(3400),P=e(22332),i=e(86968).Q,L=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,a,n){function f(w,C){return m.coerce(r,t,P,w,C)}var l=f("labels"),u=f("values"),g=S(l,u),h=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var T=f("text"),c=f("texttemplate"),o;if(c||(o=f("textinfo",Array.isArray(T)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||o&&o!=="none"){var d=f("textposition");L(r,t,n,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&f("textposition","none");i(t,n,f);var x=f("title.text");x&&(f("title.position"),m.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(G,V,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,V,e){var m=e(85204).hiddenlabels;G.exports={hiddenlabels:m,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,V,e){var m=e(3400),P=e(61280);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(G,V,e){var m=e(33428),P=e(43616),i=e(3400),L=i.strScale,S=i.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),l=e(37820),u=l.attachFxHandlers,g=l.determineInsideTextFont,h=l.layoutAreas,T=l.prerenderTitles,c=l.positionTitleOutside,o=l.formatSliceLabel;G.exports=function(y,M){var A=y._context.staticPlot,s=y._fullLayout;n("funnelarea",s),T(M,y),h(M,s._size),i.makeTraceGroups(s._funnelarealayer,M,"trace").each(function(E){var b=m.select(this),F=E[0],I=F.trace;w(E),b.each(function(){var N=m.select(this).selectAll("g.slice").data(E);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(O,B){if(O.hidden){m.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=I.index;var z=F.cx,U=F.cy,Z=m.select(this),J=Z.selectAll("path.surface").data([O]);J.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),Z.call(u,y,E);var re="M"+(z+O.TR[0])+","+(U+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";J.attr("d",re),o(y,O,F);var ne=f.castOption(I.textposition,O.pts),ue=Z.selectAll("g.slicetext").data(O.text&&ne!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var te=i.ensureSingle(m.select(this),"text","",function(se){se.attr("data-notex",1)}),Q=i.ensureUniformFontSize(y,g(I,O,s.font));te.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,Q).call(v.convertToTspans,y);var ie=P.bBox(te.node()),Y,$,oe,j=Math.min(O.BL[1],O.BR[1])+U,X=Math.max(O.TL[1],O.TR[1])+U;$=Math.max(O.TL[0],O.BL[0])+z,oe=Math.min(O.TR[0],O.BR[0])+z,Y=r($,oe,j,X,ie,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=Q.size,a(I.type,Y,s),E[B].transform=Y,i.setTransormAndDisplay(te,Y)})});var _=m.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each(function(){var O=i.ensureSingle(m.select(this),"text","",function(U){U.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=i.templateString(B,I._meta)),O.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,y);var z=c(F,s._size);O.attr("transform",S(z.x,z.y)+L(Math.min(1,z.scale))+S(z.tx,z.ty))})})})};function d(C,y){var M=y[0]-C[0],A=y[1]-C[1];return"l"+M+","+A}function x(C,y){return[.5*(C[0]+y[0]),.5*(C[1]+y[1])]}function w(C){if(!C.length)return;var y=C[0],M=y.trace,A=M.aspectratio,s=M.baseratio;s>.999&&(s=.999);var E=Math.pow(s,2),b=y.vTotal,F=b*E/(1-E),I=b,N=F/b;function _(){var q=Math.sqrt(N);return{x:q,y:-q}}function O(){var q=_();return[q.x,q.y]}var B,z=[];z.push(O());var U,Z;for(U=C.length-1;U>-1;U--)if(Z=C[U],!Z.hidden){var J=Z.v/I;N+=J,z.push(O())}var re=1/0,ne=-1/0;for(U=0;U<z.length;U++)B=z[U],re=Math.min(re,B[1]),ne=Math.max(ne,B[1]);for(U=0;U<z.length;U++)z[U][1]-=(ne+re)/2;var ue=z[z.length-1][0],te=y.r,Q=(ne-re)/2,ie=te/ue,Y=te/Q*A;for(y.r=Y*Q,U=0;U<z.length;U++)z[U][0]*=ie,z[U][1]*=Y;B=z[0];var $=[-B[0],B[1]],oe=[B[0],B[1]],j=0;for(U=C.length-1;U>-1;U--)if(Z=C[U],!Z.hidden){j+=1;var X=z[j][0],se=z[j][1];Z.TL=[-X,se],Z.TR=[X,se],Z.BL=$,Z.BR=oe,Z.pxmid=x(Z.TR,Z.BR),$=Z.TL,oe=Z.TR}}},62096:function(G,V,e){var m=e(33428),P=e(10528),i=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");i(S,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,a=m.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},83328:function(G,V,e){var m=e(52904),P=e(45464),i=e(25376),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},m.x,{impliedEdits:{xtype:"array"}}),x0:r({},m.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},m.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},m.y,{impliedEdits:{ytype:"array"}}),y0:r({},m.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},m.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},m.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},m.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},m.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},m.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},m.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},m.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:m.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,V,e){var m=e(24040),P=e(3400),i=e(54460),L=e(1220),S=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),a=e(11240),n=e(35744),f=e(39032).BADNUM;G.exports=function(h,T){var c=i.getFromId(h,T.xaxis||"x"),o=i.getFromId(h,T.yaxis||"y"),d=m.traceIs(T,"contour"),x=m.traceIs(T,"histogram"),w=m.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,y,M,A,s,E,b,F,I,N,_,O;if(c._minDtick=0,o._minDtick=0,x)O=S(h,T),s=O.orig_x,y=O.x,M=O.x0,A=O.dx,I=O.orig_y,E=O.y,b=O.y0,F=O.dy,N=O.z;else{var B=T.z;P.isArray1D(B)?(p(T,c,o,"x","y",["z"]),y=T._x,E=T._y,B=T._z):(s=T.x?c.makeCalcdata(T,"x"):[],I=T.y?o.makeCalcdata(T,"y"):[],y=L(T,c,"x",s).vals,E=L(T,o,"y",I).vals,T._x=y,T._y=E),M=T.x0,A=T.dx,b=T.y0,F=T.dy,N=r(B,T,c,o)}(c.rangebreaks||o.rangebreaks)&&(N=u(y,E,N),x||(y=l(y),E=l(E),T._x=y,T._y=E)),!x&&(d||T.connectgaps)&&(T._emptypoints=a(N),t(N,T._emptypoints));function z(ie){C=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ie)}function U(ie){if(ie.length>1){var Y=(ie[ie.length-1]-ie[0])/(ie.length-1),$=Math.abs(Y/100);for(_=0;_<ie.length-1;_++)if(Math.abs(ie[_+1]-ie[_]-Y)>$)return!1}return!0}T._islinear=!1,c.type==="log"||o.type==="log"?C==="fast"&&z("log axis found"):U(y)?U(E)?T._islinear=!0:C==="fast"&&z("y scale is not linear"):C==="fast"&&z("x scale is not linear");var Z=P.maxRowLength(N),J=T.xtype==="scaled"?"":y,re=n(T,J,M,A,Z,c),ne=T.ytype==="scaled"?"":E,ue=n(T,ne,b,F,N.length,o);w||(T._extremes[c._id]=i.findExtremes(c,re),T._extremes[o._id]=i.findExtremes(o,ue));var te={x:re,y:ue,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(te.orig_x=s),T.yperiodalignment&&I&&(te.orig_y=I),J&&J.length===re.length-1&&(te.xCenter=J),ne&&ne.length===ue.length-1&&(te.yCenter=ne),x&&(te.xRanges=O.xRanges,te.yRanges=O.yRanges,te.pts=O.pts),d||v(h,T,{vals:N,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var Q={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};te.xfill=n(Q,J,M,A,Z,c),te.yfill=n(Q,ne,b,F,N.length,o)}return[te]};function l(g){for(var h=[],T=g.length,c=0;c<T;c++){var o=g[c];o!==f&&h.push(o)}return h}function u(g,h,T){for(var c=[],o=-1,d=0;d<T.length;d++)if(h[d]!==f){o++,c[o]=[];for(var x=0;x<T[d].length;x++)g[x]!==f&&c[o].push(T[d][x])}return c}},26136:function(G,V,e){var m=e(38248),P=e(3400),i=e(39032).BADNUM;G.exports=function(S,v,p,r){var t,a,n,f,l,u;function g(x){if(m(x))return+x}if(v&&v.transpose){for(t=0,l=0;l<S.length;l++)t=Math.max(t,S[l].length);if(t===0)return!1;n=function(x){return x.length},f=function(x,w,C){return(x[C]||[])[w]}}else t=S.length,n=function(x,w){return x[w].length},f=function(x,w,C){return(x[w]||[])[C]};var h=function(x,w,C){return w===i||C===i?i:f(x,w,C)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var w=x._id.charAt(0),C={},y=v["_"+w+"CategoryMap"]||v[w];for(l=0;l<y.length;l++)C[y[l]]=l;return function(M){var A=C[x._categories[M]];return A+1?A:i}}else return P.identity}var c=T(p),o=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(l=0;l<t;l++)for(p&&p.type==="category"?a=p._categories.length:a=n(S,l),d[l]=new Array(a),u=0;u<a;u++)d[l][u]=g(h(S,o(l),c(u)));return d}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,V,e){var m=e(3400),P=e(39032).BADNUM,i=e(1220);G.exports=function(S,v,p,r,t,a){var n=S._length,f=v.makeCalcdata(S,r),l=p.makeCalcdata(S,t);f=i(S,v,r,f).vals,l=i(S,p,t,l).vals;var u=S.text,g=u!==void 0&&m.isArray1D(u),h=S.hovertext,T=h!==void 0&&m.isArray1D(h),c,o,d=m.distinctVals(f),x=d.vals,w=m.distinctVals(l),C=w.vals,y=[],M,A,s=C.length,E=x.length;for(c=0;c<a.length;c++)y[c]=m.init2dArray(s,E);g&&(M=m.init2dArray(s,E)),T&&(A=m.init2dArray(s,E));var b=m.init2dArray(s,E);for(c=0;c<n;c++)if(f[c]!==P&&l[c]!==P){var F=m.findBin(f[c]+d.minDiff/2,x),I=m.findBin(l[c]+w.minDiff/2,C);for(o=0;o<a.length;o++){var N=a[o],_=S[N],O=y[o];O[I][F]=_[c],b[I][F]=c}g&&(M[I][F]=u[c]),T&&(A[I][F]=h[c])}for(S["_"+r]=x,S["_"+t]=C,o=0;o<a.length;o++)S["_"+a[o]]=y[o];g&&(S._text=M),T&&(S._hovertext=A),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=x.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(S["_"+t+"CategoryMap"]=C.map(function(B){return p._categories[B]})),S._after2before=b}},24480:function(G,V,e){var m=e(3400),P=e(51264),i=e(39096),L=e(31147),S=e(82748),v=e(27260),p=e(83328);G.exports=function(t,a,n,f){function l(g,h){return m.coerce(t,a,p,g,h)}var u=P(t,a,l,f);if(!u){a.visible=!1;return}L(t,a,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),i(l,f),S(t,a,l,f),l("hoverongaps"),l("connectgaps",m.isArray1D(a.z)&&a.zsmooth!==!1),v(t,a,f,l,{prefix:"",cLetter:"z"}),l("zorder")}},11240:function(G,V,e){var m=e(3400).maxRowLength;G.exports=function(i){var L=[],S={},v=[],p=i[0],r=[],t=[0,0,0],a=m(i),n,f,l,u,g,h,T,c;for(f=0;f<i.length;f++)for(n=r,r=p,p=i[f+1]||[],l=0;l<a;l++)r[l]===void 0&&(h=(r[l-1]!==void 0?1:0)+(r[l+1]!==void 0?1:0)+(n[l]!==void 0?1:0)+(p[l]!==void 0?1:0),h?(f===0&&h++,l===0&&h++,f===i.length-1&&h++,l===r.length-1&&h++,h<4&&(S[[f,l]]=[f,l,h]),L.push([f,l,h])):v.push([f,l]));for(;v.length;){for(T={},c=!1,g=v.length-1;g>=0;g--)u=v[g],f=u[0],l=u[1],h=((S[[f-1,l]]||t)[2]+(S[[f+1,l]]||t)[2]+(S[[f,l-1]]||t)[2]+(S[[f,l+1]]||t)[2])/20,h&&(T[u]=[f,l,h],v.splice(g,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(u in T)S[u]=T[u],L.push(T[u])}return L.sort(function(o,d){return d[2]-o[2]})}},55512:function(G,V,e){var m=e(93024),P=e(3400),i=P.isArrayOrTypedArray,L=e(54460),S=e(8932).extractOpts;G.exports=function(p,r,t,a,n){n||(n={});var f=n.isContour,l=p.cd[0],u=l.trace,g=p.xa,h=p.ya,T=l.x,c=l.y,o=l.z,d=l.xCenter,x=l.yCenter,w=l.zmask,C=u.zhoverformat,y=T,M=c,A,s,E,b;if(p.index!==!1){try{E=Math.round(p.index[1]),b=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(E<0||E>=o[0].length||b<0||b>o.length)return}else{if(m.inbox(r-T[0],r-T[T.length-1],0)>0||m.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var F;for(y=[2*T[0]-T[1]],F=1;F<T.length;F++)y.push((T[F]+T[F-1])/2);for(y.push([2*T[T.length-1]-T[T.length-2]]),M=[2*c[0]-c[1]],F=1;F<c.length;F++)M.push((c[F]+c[F-1])/2);M.push([2*c[c.length-1]-c[c.length-2]])}E=Math.max(0,Math.min(y.length-2,P.findBin(r,y))),b=Math.max(0,Math.min(M.length-2,P.findBin(t,M)))}var I=g.c2p(T[E]),N=g.c2p(T[E+1]),_=h.c2p(c[b]),O=h.c2p(c[b+1]),B,z;f?(B=l.orig_x||T,z=l.orig_y||c,N=I,A=B[E],O=_,s=z[b]):(B=l.orig_x||d||T,z=l.orig_y||x||c,A=d?B[E]:(B[E]+B[E+1])/2,s=x?z[b]:(z[b]+z[b+1])/2,g&&g.type==="category"&&(A=T[E]),h&&h.type==="category"&&(s=c[b]),u.zsmooth&&(I=N=g.c2p(A),_=O=h.c2p(s)));var U=o[b][E];if(w&&!w[b][E]&&(U=void 0),!(U===void 0&&!u.hoverongaps)){var Z;i(l.hovertext)&&i(l.hovertext[b])?Z=l.hovertext[b][E]:i(l.text)&&i(l.text[b])&&(Z=l.text[b][E]);var J=S(u),re={type:"linear",range:[J.min,J.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},ne=L.tickText(re,U,"hover").text;return[P.extendFlat(p,{index:u._after2before?u._after2before[b][E]:[b,E],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:N,y0:_,y1:O,xLabelVal:A,yLabelVal:s,zLabelVal:U,zLabel:ne,text:Z})]}}},81932:function(G,V,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,V,e){var m=e(3400),P=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,a;for(S(p,r),a=0;a<r.length&&!(r[a][2]<4);a++);for(r=r.slice(a),a=0;a<100&&t>P;a++)t=S(p,r,L(t));return t>P&&m.log("interp2d didn't converge quickly",t),p};function S(v,p,r){var t=0,a,n,f,l,u,g,h,T,c,o,d,x,w;for(l=0;l<p.length;l++){for(a=p[l],n=a[0],f=a[1],d=v[n][f],o=0,c=0,u=0;u<4;u++)g=i[u],h=v[n+g[0]],h&&(T=h[f+g[1]],T!==void 0&&(o===0?x=w=T:(x=Math.min(x,T),w=Math.max(w,T)),c++,o+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=o/c,d===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*d,w>x&&(t=Math.max(t,Math.abs(v[n][f]-d)/(w-x))))}return t}},39096:function(G,V,e){var m=e(3400);G.exports=function(i,L){i("texttemplate");var S=m.extendFlat({},L.font,{color:"auto",size:"auto"});m.coerceFont(i,"textfont",S)}},35744:function(G,V,e){var m=e(24040),P=e(3400).isArrayOrTypedArray;G.exports=function(L,S,v,p,r,t){var a=[],n=m.traceIs(L,"contour"),f=m.traceIs(L,"histogram"),l=m.traceIs(L,"gl2d"),u,g,h,T=P(S)&&S.length>1;if(T&&!f&&t.type!=="category"){var c=S.length;if(c<=r){if(n||l)a=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?a=[.5*S[0],2*S[0]]:a=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(a=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],h=1;h<c;h++)a.push(Math.sqrt(S[h-1]*S[h]));a.push(Math.pow(S[c-1],1.5)/Math.pow(S[c-2],.5))}else{for(a=[1.5*S[0]-.5*S[1]],h=1;h<c;h++)a.push((S[h-1]+S[h])*.5);a.push(1.5*S[c-1]-.5*S[c-2])}if(c<r){var o=a[a.length-1],d;if(t.type==="log")for(d=o/a[a.length-2],h=c;h<r;h++)o*=d,a.push(o);else for(d=o-a[a.length-2],h=c;h<r;h++)o+=d,a.push(o)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var x=L[t._id.charAt(0)+"calendar"];if(f)u=t.r2c(v,0,x);else if(P(S)&&S.length===1)u=S[0];else if(v===void 0)u=0;else{var w=t.type==="log"?t.d2c:t.r2c;u=w(v,0,x)}for(g=p||1,h=n||l?0:-.5;h<r;h++)a.push(u+g*h)}return a}},41420:function(G,V,e){var m=e(33428),P=e(49760),i=e(24040),L=e(43616),S=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),a=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),l=e(84284),u=l.LINE_SPACING,g=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(C){return C.selectAll("g."+T)}function o(C){c(C).remove()}G.exports=function(C,y,M,A){var s=y.xaxis,E=y.yaxis;v.makeTraceGroups(A,M,"hm").each(function(b){var F=m.select(this),I=b[0],N=I.trace,_=N.xgap||0,O=N.ygap||0,B=I.z,z=I.x,U=I.y,Z=I.xCenter,J=I.yCenter,re=i.traceIs(N,"contour"),ne=re?"best":N.zsmooth,ue=B.length,te=v.maxRowLength(B),Q=!1,ie=!1,Y,$,oe,j,X,se,q,ce;for(se=0;Y===void 0&&se<z.length-1;)Y=s.c2p(z[se]),se++;for(se=z.length-1;$===void 0&&se>0;)$=s.c2p(z[se]),se--;for($<Y&&(oe=$,$=Y,Y=oe,Q=!0),se=0;j===void 0&&se<U.length-1;)j=E.c2p(U[se]),se++;for(se=U.length-1;X===void 0&&se>0;)X=E.c2p(U[se]),se--;X<j&&(oe=j,j=X,X=oe,ie=!0),re&&(Z=z,J=U,z=I.xfill,U=I.yfill);var ye="default";if(ne?ye=ne==="best"?"smooth":"fast":N._islinear&&_===0&&O===0&&g()&&(ye="fast"),ye!=="fast"){var we=ne==="best"?0:.5;Y=Math.max(-we*s._length,Y),$=Math.min((1+we)*s._length,$),j=Math.max(-we*E._length,j),X=Math.min((1+we)*E._length,X)}var be=Math.round($-Y),De=Math.round(X-j),ke=Y>=s._length||$<=0||j>=E._length||X<=0;if(ke){var Be=F.selectAll("image").data([]);Be.exit().remove(),o(F);return}var Ae,Ie;ye==="fast"?(Ae=te,Ie=ue):(Ae=be,Ie=De);var Me=document.createElement("canvas");Me.width=Ae,Me.height=Ie;var Fe=Me.getContext("2d",{willReadFrequently:!0}),Ee=n(N,{noNumericCheck:!0,returnArray:!0}),He,rt;ye==="fast"?(He=Q?function(_r){return te-1-_r}:v.identity,rt=ie?function(_r){return ue-1-_r}:v.identity):(He=function(_r){return v.constrain(Math.round(s.c2p(z[_r])-Y),0,be)},rt=function(_r){return v.constrain(Math.round(E.c2p(U[_r])-j),0,De)});var ot=rt(0),$e=[ot,ot],qe=Q?0:1,ht=ie?0:1,vt=0,pt=0,wt=0,Mt=0,nt,_e,Ge,je,We;function Pe(_r,on){if(_r!==void 0){var un=Ee(_r);return un[0]=Math.round(un[0]),un[1]=Math.round(un[1]),un[2]=Math.round(un[2]),vt+=on,pt+=un[0]*on,wt+=un[1]*on,Mt+=un[2]*on,un}return[0,0,0,0]}function Re(_r,on,un,Sn){var Ln=_r[un.bin0];if(Ln===void 0)return Pe(void 0,1);var Un=_r[un.bin1],na=on[un.bin0],ga=on[un.bin1],xa=Un-Ln||0,ca=na-Ln||0,Vn;return Un===void 0?ga===void 0?Vn=0:na===void 0?Vn=2*(ga-Ln):Vn=(2*ga-na-Ln)*2/3:ga===void 0?na===void 0?Vn=0:Vn=(2*Ln-Un-na)*2/3:na===void 0?Vn=(2*ga-Un-Ln)*2/3:Vn=ga+Ln-Un-na,Pe(Ln+un.frac*xa+Sn.frac*(ca+un.frac*Vn))}if(ye!=="default"){var Xe=0,Le;try{Le=new Uint8Array(Ae*Ie*4)}catch{Le=new Array(Ae*Ie*4)}if(ye==="smooth"){var ve=Z||z,xe=J||U,Ne=new Array(ve.length),et=new Array(xe.length),st=new Array(be),lt=Z?x:d,Gt=J?x:d,jt,Tt,Dt;for(se=0;se<ve.length;se++)Ne[se]=Math.round(s.c2p(ve[se])-Y);for(se=0;se<xe.length;se++)et[se]=Math.round(E.c2p(xe[se])-j);for(se=0;se<be;se++)st[se]=lt(se,Ne);for(q=0;q<De;q++)for(jt=Gt(q,et),Tt=B[jt.bin0],Dt=B[jt.bin1],se=0;se<be;se++,Xe+=4)We=Re(Tt,Dt,st[se],jt),w(Le,Xe,We)}else for(q=0;q<ue;q++)for(je=B[q],$e=rt(q),se=0;se<te;se++)We=Pe(je[se],1),Xe=($e*te+He(se))*4,w(Le,Xe,We);var Xt=Fe.createImageData(Ae,Ie);try{Xt.data.set(Le)}catch{var gr=Xt.data,gt=gr.length;for(q=0;q<gt;q++)gr[q]=Le[q]}Fe.putImageData(Xt,0,0)}else{var Zt=Math.floor(_/2),Qt=Math.floor(O/2);for(q=0;q<ue;q++)if(je=B[q],$e.reverse(),$e[ht]=rt(q+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(_e=He(0),nt=[_e,_e],se=0;se<te;se++)nt.reverse(),nt[qe]=He(se+1),!(nt[0]===nt[1]||nt[0]===void 0||nt[1]===void 0)&&(Ge=je[se],We=Pe(Ge,(nt[1]-nt[0])*($e[1]-$e[0])),Fe.fillStyle="rgba("+We.join(",")+")",Fe.fillRect(nt[0]+Zt,$e[0]+Qt,nt[1]-nt[0]-_,$e[1]-$e[0]-O))}pt=Math.round(pt/vt),wt=Math.round(wt/vt),Mt=Math.round(Mt/vt);var yr=P("rgb("+pt+","+wt+","+Mt+")");C._hmpixcount=(C._hmpixcount||0)+vt,C._hmlumcount=(C._hmlumcount||0)+vt*yr.getLuminance();var or=F.selectAll("image").data(b);or.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),or.attr({height:De,width:be,x:Y,y:j,"xlink:href":Me.toDataURL("image/png")}),ye==="fast"&&!ne&&or.attr("style",h),o(F);var mt=N.texttemplate;if(mt){var ut=a(N),bt={type:"linear",range:[ut.min,ut.max],_separators:s._separators,_numFormat:s._numFormat},Et=N.type==="histogram2dcontour",Rt=N.type==="contour",Ht=Rt?1:0,Bt=Rt?ue-1:ue,Nt=Rt?1:0,Jt=Rt?te-1:te,hr=[];for(se=Ht;se<Bt;se++){var fr;if(Rt)fr=I.y[se];else if(Et){if(se===0||se===ue-1)continue;fr=I.y[se]}else if(I.yCenter)fr=I.yCenter[se];else{if(se+1===ue&&I.y[se+1]===void 0)continue;fr=(I.y[se]+I.y[se+1])/2}var dr=Math.round(E.c2p(fr));if(!(0>dr||dr>E._length))for(q=Nt;q<Jt;q++){var Ye;if(Rt)Ye=I.x[q];else if(Et){if(q===0||q===te-1)continue;Ye=I.x[q]}else if(I.xCenter)Ye=I.xCenter[q];else{if(q+1===te&&I.x[q+1]===void 0)continue;Ye=(I.x[q]+I.x[q+1])/2}var Ve=Math.round(s.c2p(Ye));if(!(0>Ve||Ve>s._length)){var _t=r({x:Ye,y:fr},N,C._fullLayout);_t.x=Ye,_t.y=fr;var kt=I.z[se][q];kt===void 0?(_t.z="",_t.zLabel=""):(_t.z=kt,_t.zLabel=S.tickText(bt,kt,"hover").text);var Kt=I.text&&I.text[se]&&I.text[se][q];(Kt===void 0||Kt===!1)&&(Kt=""),_t.text=Kt;var sr=v.texttemplateString(mt,_t,C._fullLayout._d3locale,_t,N._meta||{});if(sr){var cr=sr.split("<br>"),er=cr.length,Ot=0;for(ce=0;ce<er;ce++)Ot=Math.max(Ot,cr[ce].length);hr.push({l:er,c:Ot,t:sr,x:Ve,y:dr,z:kt})}}}}var nr=N.textfont,vr=nr.size,wr=C._fullLayout.font.size;if(!vr||vr==="auto"){var ur=1/0,Vr=1/0,Pr=0,Dr=0;for(ce=0;ce<hr.length;ce++){var ln=hr[ce];if(Pr=Math.max(Pr,ln.l),Dr=Math.max(Dr,ln.c),ce<hr.length-1){var Wr=hr[ce+1],Tn=Math.abs(Wr.x-ln.x),An=Math.abs(Wr.y-ln.y);Tn&&(ur=Math.min(ur,Tn)),An&&(Vr=Math.min(Vr,An))}}!isFinite(ur)||!isFinite(Vr)?vr=wr:(ur-=_,Vr-=O,ur/=Dr,Vr/=Pr,ur/=u/2,Vr/=u,vr=Math.min(Math.floor(ur),Math.floor(Vr),wr))}if(vr<=0||!isFinite(vr))return;var Tr=function(_r){return _r.x},Fr=function(_r){return _r.y-vr*(_r.l*u/2-1)},Yr=c(F).data(hr);Yr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(_r){var on=m.select(this),un=nr.color;(!un||un==="auto")&&(un=t.contrast(_r.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Ee(_r.z).join()+")")),on.attr("data-notex",1).call(p.positionText,Tr(_r),Fr(_r)).call(L.font,{family:nr.family,size:vr,color:un,weight:nr.weight,style:nr.style,variant:nr.variant,textcase:nr.textcase,lineposition:nr.lineposition,shadow:nr.shadow}).text(_r.t).call(p.convertToTspans,C)})}})};function d(C,y){var M=y.length-2,A=v.constrain(v.findBin(C,y),0,M),s=y[A],E=y[A+1],b=v.constrain(A+(C-s)/(E-s)-.5,0,M),F=Math.round(b),I=Math.abs(b-F);return!b||b===M||!I?{bin0:F,bin1:F,frac:0}:{bin0:F,frac:I,bin1:Math.round(F+I/(b-F))}}function x(C,y){var M=y.length-1,A=v.constrain(v.findBin(C,y),0,M),s=y[A],E=y[A+1],b=(C-s)/(E-s)||0;return b<=0?{bin0:A,bin1:A,frac:0}:b<.5?{bin0:A,bin1:A+1,frac:b}:{bin0:A+1,bin1:A,frac:1-b}}function w(C,y,M){C[y]=M[0],C[y+1]=M[1],C[y+2]=M[2],C[y+3]=Math.round(M[3]*255)}},41648:function(G,V,e){var m=e(33428);G.exports=function(i){m.select(i).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(G){G.exports=function(e,m,P){var i=P("zsmooth");i===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(G,V,e){var m=e(38248),P=e(3400),i=e(24040);G.exports=function(p,r,t,a,n,f){var l=t("z");n=n||"x",f=f||"y";var u,g;if(l===void 0||!l.length)return 0;if(P.isArray1D(l)){u=t(n),g=t(f);var h=P.minRowLength(u),T=P.minRowLength(g);if(h===0||T===0)return 0;r._length=Math.min(h,T,l.length)}else{if(u=L(n,t),g=L(f,t),!S(l))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=i.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,f],a),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function S(v){for(var p=!0,r=!1,t=!1,a,n=0;n<v.length;n++){if(a=v[n],!P.isArrayOrTypedArray(a)){p=!1;break}a.length>0&&(r=!0);for(var f=0;f<a.length;f++)if(m(a[f])){t=!0;break}}return p&&r&&t}},74512:function(G,V,e){for(var m=e(83328),P=e(49084),i=e(92880).extendFlat,L=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<S.length;p++){var r=S[p];v[r]=m[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},84656:function(G,V,e){var m=e(67792).gl_heatmap2d,P=e(54460),i=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=m(r.glplot,this.options),this.heatmap._trace=this}var S=L.prototype;S.handlePick=function(r){var t=this.options,a=t.shape,n=r.pointId,f=n%a[0],l=Math.floor(n/a[0]),u=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[l],t.z[u]],textLabel:this.textLabels[n],name:this.name,pointIndex:[l,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var a=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=a.z;this.options.z=[].concat.apply([],n);var f=n[0].length,l=n.length;this.options.shape=[f,l],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=r.zsmooth;var u=v(r);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:a.x[1]-a.x[0]},c={ppad:a.y[1]-a.y[0]}),r._extremes[g._id]=P.findExtremes(g,a.x,T),r._extremes[h._id]=P.findExtremes(h,a.y,c)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,a=r.zmin,n=r.zmax,f=t.length,l=new Array(f),u=new Array(4*f),g=0;g<f;g++){var h=t[g],T=i(h[1]);l[g]=a+h[0]*(n-a);for(var c=0;c<4;c++)u[4*g+c]=T[c]}return{colorLevels:l,colorValues:u}}function p(r,t,a){var n=new L(r,t.uid);return n.update(t,a),n}G.exports=p},86464:function(G,V,e){var m=e(3400),P=e(51264),i=e(27260),L=e(74512);G.exports=function(v,p,r,t){function a(f,l){return m.coerce(v,p,L,f,l)}var n=P(v,p,a,t);if(!n){p.visible=!1;return}a("text"),a("zsmooth"),i(v,p,t,a,{prefix:"",cLetter:"z"})}},45536:function(G,V,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,V,e){var m=e(20832),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(21776).Gw,S=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},m.text,{}),hovertext:r({},m.hovertext,{}),orientation:m.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},m.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:m.insidetextanchor,textangle:m.textangle,cliponaxis:m.cliponaxis,constraintext:m.constraintext,marker:m.marker,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,_deprecated:{bardir:m._deprecated.bardir},zorder:m.zorder}},2e3:function(G){G.exports=function(e,m){for(var P=e.length,i=0,L=0;L<P;L++)m[L]?(e[L]/=m[L],i+=e[L]):e[L]=null;return i}},11120:function(G){G.exports=function(e,m){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,V,e){var m=e(38248);G.exports={count:function(P,i,L){return L[P]++,1},sum:function(P,i,L,S){var v=S[i];return m(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,i,L,S,v){var p=S[i];return m(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,i,L,S){var v=S[i];if(m(v))if(v=Number(v),m(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,i,L,S){var v=S[i];if(m(v))if(v=Number(v),m(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},67712:function(G,V,e){var m=e(39032),P=m.ONEAVGYEAR,i=m.ONEAVGMONTH,L=m.ONEDAY,S=m.ONEHOUR,v=m.ONEMIN,p=m.ONESEC,r=e(54460).tickIncrement;G.exports=function(u,g,h,T,c){var o=-1.1*g,d=-.1*g,x=u-d,w=h[0],C=h[1],y=Math.min(t(w+d,w+x,T,c),t(C+d,C+x,T,c)),M=Math.min(t(w+o,w+d,T,c),t(C+o,C+d,T,c)),A,s;if(y>M&&M<Math.abs(C-w)/4e3?(A=y,s=!1):(A=Math.min(y,M),s=!0),T.type==="date"&&A>L){var E=A===P?1:6,b=A===P?"M12":"M1";return function(F,I){var N=T.c2d(F,P,c),_=N.indexOf("-",E);_>0&&(N=N.substr(0,_));var O=T.d2c(N,0,c);if(O<F){var B=r(O,b,!1,c);(O+B)/2<F+u&&(O=B)}return I&&s?r(O,b,!0,c):O}}return function(F,I){var N=A*Math.round(F/A);return N+A/10<F&&N+A*.9<F+u&&(N+=A),I&&s&&(N-=A),N}};function t(l,u,g,h){if(l*u<=0)return 1/0;for(var T=Math.abs(u-l),c=g.type==="date",o=a(T,c),d=0;d<10;d++){var x=a(o*80,c);if(o===x)break;if(n(x,l,u,c,g,h))o=x;else break}return o}function a(l,u){return u&&l>p?l>L?l>P*1.1?P:l>i*1.1?i:L:l>S?S:l>v?v:p:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function n(l,u,g,h,T,c){if(h&&l>L){var o=f(u,T,c),d=f(g,T,c),x=l===P?0:1;return o[x]!==d[x]}return Math.floor(g/l)-Math.floor(u/l)>.1}function f(l,u,g){var h=u.c2d(l,P,g).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(G,V,e){var m=e(38248),P=e(3400),i=e(24040),L=e(54460),S=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function a(g,h){var T=[],c=[],o=h.orientation==="h",d=L.getFromId(g,o?h.yaxis:h.xaxis),x=o?"y":"x",w={x:"y",y:"x"}[x],C=h[x+"calendar"],y=h.cumulative,M,A=n(g,h,d,x),s=A[0],E=A[1],b=typeof s.size=="string",F=[],I=b?F:s,N=[],_=[],O=[],B=0,z=h.histnorm,U=h.histfunc,Z=z.indexOf("density")!==-1,J,re,ne;y.enabled&&Z&&(z=z.replace(/ ?density$/,""),Z=!1);var ue=U==="max"||U==="min",te=ue?null:0,Q=v.count,ie=p[z],Y=!1,$=function(Fe){return d.r2c(Fe,0,C)},oe;for(P.isArrayOrTypedArray(h[w])&&U!=="count"&&(oe=h[w],Y=U==="avg",Q=v[U]),M=$(s.start),re=$(s.end)+(M-L.tickIncrement(M,s.size,!1,C))/1e6;M<re&&T.length<1e6&&(J=L.tickIncrement(M,s.size,!1,C),T.push((M+J)/2),c.push(te),O.push([]),F.push(M),Z&&N.push(1/(J-M)),Y&&_.push(0),!(J<=M));)M=J;F.push(M),!b&&d.type==="date"&&(I={start:$(I.start),end:$(I.end),size:I.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var j=h["_"+x+"bingroup"],X={leftGap:1/0,rightGap:1/0};j&&(g._fullLayout._roundFnOpts[j]||(g._fullLayout._roundFnOpts[j]=X),X=g._fullLayout._roundFnOpts[j]);var se=c.length,q=!0,ce=X.leftGap,ye=X.rightGap,we={};for(M=0;M<E.length;M++){var be=E[M];ne=P.findBin(be,I),ne>=0&&ne<se&&(B+=Q(ne,M,c,oe,_),q&&O[ne].length&&be!==E[O[ne][0]]&&(q=!1),O[ne].push(M),we[M]=ne,ce=Math.min(ce,be-F[ne]),ye=Math.min(ye,F[ne+1]-be))}X.leftGap=ce,X.rightGap=ye;var De;q||(De=function(Fe,Ee){return function(){var He=g._fullLayout._roundFnOpts[j];return t(He.leftGap,He.rightGap,F,d,C)(Fe,Ee)}}),Y&&(B=r(c,_)),ie&&ie(c,B,N),y.enabled&&u(c,y.direction,y.currentbin);var ke=Math.min(T.length,c.length),Be=[],Ae=0,Ie=ke-1;for(M=0;M<ke;M++)if(c[M]){Ae=M;break}for(M=ke-1;M>=Ae;M--)if(c[M]){Ie=M;break}for(M=Ae;M<=Ie;M++)if(m(T[M])&&m(c[M])){var Me={p:T[M],s:c[M],b:0};y.enabled||(Me.pts=O[M],q?Me.ph0=Me.ph1=O[M].length?E[O[M][0]]:T[M]:(h._computePh=!0,Me.ph0=De(F[M]),Me.ph1=De(F[M+1],!0))),Be.push(Me)}return Be.length===1&&(Be[0].width1=L.tickIncrement(Be[0].p,s.size,!1,C)-Be[0].p),S(Be,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Be,h,we),Be}function n(g,h,T,c,o){var d=c+"bins",x=g._fullLayout,w=h["_"+c+"bingroup"],C=x._histogramBinOpts[w],y=x.barmode==="overlay",M,A,s,E,b,F,I,N=function(be){return T.r2c(be,0,E)},_=function(be){return T.c2r(be,0,E)},O=T.type==="date"?function(be){return be||be===0?P.cleanDate(be,null,E):null}:function(be){return m(be)?Number(be):null};function B(be,De,ke){De[be+"Found"]?(De[be]=O(De[be]),De[be]===null&&(De[be]=ke[be])):(F[be]=De[be]=ke[be],P.nestedProperty(A[0],d+"."+be).set(ke[be]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{A=C.traces;var z=[],U=!0,Z=!1,J=!1;for(M=0;M<A.length;M++)if(s=A[M],s.visible){var re=C.dirs[M];b=s["_"+re+"pos0"]=T.makeCalcdata(s,re),z=P.concat(z,b),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(U?U=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),i.traceIs(s,"2dMap")&&(Z=!0),s.type==="histogram2dcontour"&&(J=!0))}E=A[0][c+"calendar"];var ne=L.autoBin(z,T,C.nbins,Z,E,C.sizeFound&&C.size),ue=A[0]._autoBin={};if(F=ue[C.dirs[0]]={},J&&(C.size||(ne.start=_(L.tickIncrement(N(ne.start),ne.size,!0,E))),C.end===void 0&&(ne.end=_(L.tickIncrement(N(ne.end),ne.size,!1,E)))),y&&!i.traceIs(h,"2dMap")&&ne._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[ne,b,!0];ne=f(g,h,T,c,d)}I=s.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ne.start=_(L.tickIncrement(N(ne.start),ne.size,!0,E)):ne.end=_(L.tickIncrement(N(ne.end),ne.size,!1,E))),C.size=ne.size,C.sizeFound||(F.size=ne.size,P.nestedProperty(A[0],d+".size").set(ne.size)),B("start",C,ne),B("end",C,ne)}b=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var te=h._input[d]||{},Q=P.extendFlat({},C),ie=C.start,Y=T.r2l(te.start),$=Y!==void 0;if((C.startFound||$)&&Y!==T.r2l(ie)){var oe=$?Y:P.aggNums(Math.min,null,b),j={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:ie,calendar:E,range:[oe,L.tickIncrement(oe,C.size,!1,E)].map(T.l2r)},X=L.tickFirst(j);X>T.r2l(oe)&&(X=L.tickIncrement(X,C.size,!0,E)),Q.start=T.l2r(X),$||P.nestedProperty(h,d+".start").set(Q.start)}var se=C.end,q=T.r2l(te.end),ce=q!==void 0;if((C.endFound||ce)&&q!==T.r2l(se)){var ye=ce?q:P.aggNums(Math.max,null,b);Q.end=T.l2r(ye),ce||P.nestedProperty(h,d+".start").set(Q.end)}var we="autobin"+c;return h._input[we]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[we],delete h[we]),[Q,b]}function f(g,h,T,c,o){var d=g._fullLayout,x=l(g,h),w=!1,C=1/0,y=[h],M,A,s;for(M=0;M<x.length;M++)if(A=x[M],A===h)w=!0;else if(!w)s=d._histogramBinOpts[A["_"+c+"bingroup"]],C=Math.min(C,s.size||A[o].size);else{var E=n(g,A,T,c,!0),b=E[0],F=E[2];A["_"+c+"autoBinFinished"]=1,A["_"+c+"pos0"]=E[1],F?y.push(A):C=Math.min(C,b.size)}var I=new Array(y.length);for(M=0;M<y.length;M++)for(var N=y[M]["_"+c+"pos0"],_=0;_<N.length;_++)if(N[_]!==void 0){I[M]=N[_];break}for(isFinite(C)||(C=P.distinctVals(I).minDiff),M=0;M<y.length;M++){A=y[M];var O=A[c+"calendar"],B={start:T.c2r(I[M]-C/2,0,O),end:T.c2r(I[M]+C/2,0,O),size:C};A._input[o]=A[o]=B,s=d._histogramBinOpts[A["_"+c+"bingroup"]],s&&P.extendFlat(s,B)}return h[o]}function l(g,h){for(var T=h.xaxis,c=h.yaxis,o=h.orientation,d=[],x=g._fullData,w=0;w<x.length;w++){var C=x[w];C.type==="histogram"&&C.visible===!0&&C.orientation===o&&C.xaxis===T&&C.yaxis===c&&d.push(C)}return d}function u(g,h,T){var c,o,d;function x(C){d=g[C],g[C]/=2}function w(C){o=g[C],g[C]=d+o/2,d+=o}if(T==="half")if(h==="increasing")for(x(0),c=1;c<g.length;c++)w(c);else for(x(g.length-1),c=g.length-2;c>=0;c--)w(c);else if(h==="increasing"){for(c=1;c<g.length;c++)g[c]+=g[c-1];T==="exclude"&&(g.unshift(0),g.pop())}else{for(c=g.length-2;c>=0;c--)g[c]+=g[c+1];T==="exclude"&&(g.push(0),g.shift())}}G.exports={calc:a,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,V,e){var m=e(3400),P=e(79811),i=e(24040).traceIs,L=e(20011),S=e(31508).validateCornerradius,v=m.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,f){var l=f._histogramBinOpts={},u=[],g={},h=[],T,c,o,d,x,w,C;function y(ne,ue){return m.coerce(T._input,T,T._module.attributes,ne,ue)}function M(ne){return ne.orientation==="v"?"x":"y"}function A(ne,ue){var te=P.getFromTrace({_fullLayout:f},ne,ue);return te.type}function s(ne,ue,te){var Q=ne.uid+"__"+te;ue||(ue=Q);var ie=A(ne,te),Y=ne[te+"calendar"]||"",$=l[ue],oe=!0;$&&(ie===$.axType&&Y===$.calendar?(oe=!1,$.traces.push(ne),$.dirs.push(te)):(ue=Q,ie!==$.axType&&m.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+ie,"axis","with bins on","type:"+$.axType,"axis."].join(" ")),Y!==$.calendar&&m.warn(["Attempted to group the bins of trace",ne.index,"set with a",Y,"calendar","with bins",$.calendar?"on a "+$.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(l[ue]={traces:[ne],dirs:[te],axType:ie,calendar:ne[te+"calendar"]||""}),ne["_"+te+"bingroup"]=ue}for(x=0;x<n.length;x++)if(T=n[x],i(T,"histogram")){if(u.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var E=y("marker.cornerradius",f.barcornerradius);T.marker&&(T.marker.cornerradius=S(E))}i(T,"2dMap")||L(T._input,T,f,y)}var b=f._alignmentOpts||{};for(x=0;x<u.length;x++){if(T=u[x],o="",!i(T,"2dMap")){if(d=M(T),f.barmode==="group"&&T.alignmentgroup){var F=T[d+"axis"],I=p(f,F)+T.orientation;(b[I]||{})[T.alignmentgroup]&&(o=I)}!o&&f.barmode!=="overlay"&&(o=p(f,T.xaxis)+p(f,T.yaxis)+M(T))}o?(g[o]||(g[o]=[]),g[o].push(T)):h.push(T)}for(o in g){if(c=g[o],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(T=c[0],N=y("bingroup")),o=N||o,x=0;x<c.length;x++){T=c[x];var _=T._input.bingroup;_&&_!==o&&m.warn(["Trace",T.index,"must match","within bingroup",o+".","Ignoring its bingroup:",_,"setting."].join(" ")),T.bingroup=o,s(T,o,M(T))}}for(x=0;x<h.length;x++){T=h[x];var O=y("bingroup");if(i(T,"2dMap"))for(C=0;C<2;C++){d=t[C];var B=y(d+"bingroup",O?O+"__"+d:null);s(T,B,d)}else s(T,O,M(T))}for(o in l){var z=l[o];for(c=z.traces,w=0;w<r.length;w++){var U=r[w],Z=U.name,J,re;if(!(Z==="nbins"&&z.sizeFound)){for(x=0;x<c.length;x++){if(T=c[x],d=z.dirs[x],J=U.aStr[d],v(T._input,J).get()!==void 0){z[Z]=y(J),z[Z+"Found"]=!0;break}re=(T._autoBin||{})[d]||{},re[Z]&&v(T,J).set(re[Z])}if(Z==="start"||Z==="end")for(;x<c.length;x++)T=c[x],T["_"+d+"bingroup"]&&(re=(T._autoBin||{})[d]||{},y(J,re[Z]));Z==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(T=c[0],z[Z]=y(J))}}}}},6616:function(G,V,e){var m=e(24040),P=e(3400),i=e(76308),L=e(31508).handleText,S=e(55592),v=e(40196);G.exports=function(r,t,a,n){function f(M,A){return P.coerce(r,t,v,M,A)}var l=f("x"),u=f("y"),g=f("cumulative.enabled");g&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");L(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var T=f("orientation",u&&!l?"h":"v"),c=T==="v"?"x":"y",o=T==="v"?"y":"x",d=l&&u?Math.min(P.minRowLength(l)&&P.minRowLength(u)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var x=m.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var w=t[o];w&&f("histfunc"),f("histnorm"),f("autobin"+c),S(r,t,f,a,n),P.coerceSelectionMarkerOpacity(t,f);var C=(t.marker.line||{}).color,y=m.getComponentMethod("errorbars","supplyDefaults");y(r,t,C||i.defaultLine,{axis:"y"}),y(r,t,C||i.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(G){G.exports=function(e,m,P,i,L){if(e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"zLabelVal"in m&&(e.z=m.zLabelVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),!(P.cumulative||{}).enabled){var S=Array.isArray(L)?i[0].pts[L[0]][L[1]]:i[L].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<S.length;p++)v=v.concat(P._indexToPoints[S[p]])}else v=S;e.pointIndices=v}return e}},43339:function(G,V,e){var m=e(63400).hoverPoints,P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var a=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";L[f+"Label"]=P(L[f+"a"],[a.ph0,a.ph1],n[f+"hoverformat"])}return t}}},42600:function(G,V,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(V,e){for(var m=V.length,P=100/e,i=0;i<m;i++)V[i]*=P},probability:function(V,e){for(var m=V.length,P=0;P<m;P++)V[P]/=e},density:function(V,e,m,P){var i=V.length;P=P||1;for(var L=0;L<i;L++)V[L]*=m[L]*P},"probability density":function(V,e,m,P){var i=V.length;P&&(e/=P);for(var L=0;L<i;L++)V[L]*=m[L]/e}}},37008:function(G,V,e){var m=e(40196),P=e(11120),i=e(83328),L=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:m.x,y:m.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:P("x"),nbinsy:m.nbinsy,ybins:P("y"),autobinx:m.autobinx,autobiny:m.autobiny,bingroup:t({},m.bingroup,{}),xbingroup:t({},m.bingroup,{}),ybingroup:t({},m.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,V,e){var m=e(3400),P=e(54460),i=e(16964),L=e(10648),S=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;G.exports=function(f,l){var u=P.getFromId(f,l.xaxis),g=P.getFromId(f,l.yaxis),h=l.xcalendar,T=l.ycalendar,c=function(We){return u.r2c(We,0,h)},o=function(We){return g.r2c(We,0,T)},d=function(We){return u.c2r(We,0,h)},x=function(We){return g.c2r(We,0,T)},w,C,y,M,A=p(f,l,u,"x"),s=A[0],E=A[1],b=p(f,l,g,"y"),F=b[0],I=b[1],N=l._length;E.length>N&&E.splice(N,E.length-N),I.length>N&&I.splice(N,I.length-N);var _=[],O=[],B=[],z=typeof s.size=="string",U=typeof F.size=="string",Z=[],J=[],re=z?Z:s,ne=U?J:F,ue=0,te=[],Q=[],ie=l.histnorm,Y=l.histfunc,$=ie.indexOf("density")!==-1,oe=Y==="max"||Y==="min",j=oe?null:0,X=i.count,se=L[ie],q=!1,ce=[],ye=[],we="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";we&&Y!=="count"&&(q=Y==="avg",X=i[Y]);var be=s.size,De=c(s.start),ke=c(s.end)+(De-P.tickIncrement(De,be,!1,h))/1e6;for(w=De;w<ke;w=P.tickIncrement(w,be,!1,h))O.push(j),Z.push(w),q&&B.push(0);Z.push(w);var Be=O.length,Ae=(w-De)/Be,Ie=d(De+Ae/2),Me=F.size,Fe=o(F.start),Ee=o(F.end)+(Fe-P.tickIncrement(Fe,Me,!1,T))/1e6;for(w=Fe;w<Ee;w=P.tickIncrement(w,Me,!1,T)){_.push(O.slice()),J.push(w);var He=new Array(Be);for(C=0;C<Be;C++)He[C]=[];Q.push(He),q&&te.push(B.slice())}J.push(w);var rt=_.length,ot=(w-Fe)/rt,$e=x(Fe+ot/2);$&&(ce=r(O.length,re,Ae,z),ye=r(_.length,ne,ot,U)),!z&&u.type==="date"&&(re=t(c,re)),!U&&g.type==="date"&&(ne=t(o,ne));var qe=!0,ht=!0,vt=new Array(Be),pt=new Array(rt),wt=1/0,Mt=1/0,nt=1/0,_e=1/0;for(w=0;w<N;w++){var Ge=E[w],je=I[w];y=m.findBin(Ge,re),M=m.findBin(je,ne),y>=0&&y<Be&&M>=0&&M<rt&&(ue+=X(y,w,_[M],we,te[M]),Q[M][y].push(w),qe&&(vt[y]===void 0?vt[y]=Ge:vt[y]!==Ge&&(qe=!1)),ht&&(pt[M]===void 0?pt[M]=je:pt[M]!==je&&(ht=!1)),wt=Math.min(wt,Ge-Z[y]),Mt=Math.min(Mt,Z[y+1]-Ge),nt=Math.min(nt,je-J[M]),_e=Math.min(_e,J[M+1]-je))}if(q)for(M=0;M<rt;M++)ue+=S(_[M],te[M]);if(se)for(M=0;M<rt;M++)se(_[M],ue,ce,ye[M]);return{x:E,xRanges:a(Z,qe&&vt,wt,Mt,u,h),x0:Ie,dx:Ae,y:I,yRanges:a(J,ht&&pt,nt,_e,g,T),y0:$e,dy:ot,z:_,pts:Q}};function r(n,f,l,u){var g=new Array(n),h;if(u)for(h=0;h<n;h++)g[h]=1/(f[h+1]-f[h]);else{var T=1/l;for(h=0;h<n;h++)g[h]=T}return g}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function a(n,f,l,u,g,h){var T,c=n.length-1,o=new Array(c),d=v(l,u,n,g,h);for(T=0;T<c;T++){var x=(f||[])[T];o[T]=x===void 0?[d(n[T]),d(n[T+1],!0)]:[x,x]}return o}},99784:function(G,V,e){var m=e(3400),P=e(56408),i=e(82748),L=e(27260),S=e(39096),v=e(37008);G.exports=function(r,t,a,n){function f(l,u){return m.coerce(r,t,v,l,u)}P(r,t,f,n),t.visible!==!1&&(i(r,t,f,n),L(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(G,V,e){var m=e(55512),P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var a=L.index,n=a[0],f=a[1],l=L.cd[0],u=l.trace,g=l.xRanges[f],h=l.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],u.xhoverformat),L.yLabel=P(L.ya,[h[0],h[1]],u.yhoverformat),t}}},21536:function(G,V,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,V,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("y"),a=P.minRowLength(r),n=P.minRowLength(t);if(!a||!n){S.visible=!1;return}S._length=Math.min(a,n);var f=m.getComponentMethod("calendars","handleTraceDefaults");f(L,S,["x","y"],p);var l=v("z")||v("marker.color");l&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,V,e){var m=e(37008),P=e(67104),i=e(49084),L=e(29736).axisHoverFormat,S=e(92880).extendFlat;G.exports=S({x:m.x,y:m.y,z:m.z,marker:m.marker,histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:m.xbins,nbinsy:m.nbinsy,ybins:m.ybins,autobinx:m.autobinx,autobiny:m.autobiny,bingroup:m.bingroup,xbingroup:m.xbingroup,ybingroup:m.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:S({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,V,e){var m=e(3400),P=e(56408),i=e(84952),L=e(97680),S=e(39096),v=e(81220);G.exports=function(r,t,a,n){function f(u,g){return m.coerce(r,t,v,u,g)}function l(u){return m.coerce2(r,t,v,u)}P(r,t,f,n),t.visible!==!1&&(i(r,t,f,l),L(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(G,V,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,a=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:S.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,V,e){var m=e(7316);V.name="icicle",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},73876:function(G,V,e){var m=e(3776);V.r=function(P,i){return m.calc(P,i)},V.q=function(P){return m._runCrossTraceCalc("icicle",P)}},7045:function(G,V,e){var m=e(3400),P=e(97376),i=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,l,u,g){function h(y,M){return m.coerce(f,l,P,y,M)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){l.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),l.texttemplate||h("textinfo",m.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),w="auto";S(f,l,g,h,w,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(f,l,g,h);var C=l._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;C&&a(f,l,g,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),l._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},x&&(h("pathbar.thickness",l.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(l,g,h),l._length=null}},67880:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(72736),S=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(l,u,g,h,T){var c=T.width,o=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,M=T.hasTransition,A=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,b=T.prevEntry,F={},I=l._context.staticPlot,N=l._fullLayout,_=u[0],O=_.trace,B=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,U=O.textposition.indexOf("bottom")!==-1,Z=S(g,[c,o],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),J=Z.descendants(),re=1/0,ne=-1/0;J.forEach(function(Y){var $=Y.depth;$>=O._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(re=Math.min(re,$),ne=Math.max(ne,$))}),h=h.data(J,r.getPtId),O._maxVisibleLayers=isFinite(ne)?ne-re+1:0,h.enter().append("g").classed("slice",!0),A(h,n,F,[c,o],w),h.order();var ue=null;if(M&&b){var te=r.getPtId(b);h.each(function(Y){ue===null&&r.getPtId(Y)===te&&(ue={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var Q=function(){return ue||{x0:0,x1:c,y0:0,y1:o}},ie=h;return M&&(ie=ie.transition().each("end",function(){var Y=m.select(this);r.setSliceCursor(Y,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ie.each(function(Y){Y._x0=d(Y.x0),Y._x1=d(Y.x1),Y._y0=x(Y.y0),Y._y1=x(Y.y1),Y._hoverX=d(Y.x1-O.tiling.pad),Y._hoverY=x(U?Y.y1-O.tiling.pad/2:Y.y0+O.tiling.pad/2);var $=m.select(this),oe=P.ensureSingle($,"path","surface",function(q){q.style("pointer-events",I?"none":"all")});M?oe.transition().attrTween("d",function(q){var ce=s(q,n,Q(),[c,o],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ye){return w(ce(ye))}}):oe.attr("d",w),$.call(t,g,l,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),oe.call(v,Y,O,l,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=a(Y,g,O,u,N)||"";var j=P.ensureSingle($,"g","slicetext"),X=P.ensureSingle(j,"text","",function(q){q.attr("data-notex",1)}),se=P.ensureUniformFontSize(l,r.determineTextFont(O,Y,N.font));X.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":B?"start":"middle").call(i.font,se).call(L.convertToTspans,l),Y.textBB=i.bBox(X.node()),Y.transform=C(Y,{fontSize:se.size}),Y.transform.fontSize=se.size,M?X.transition().attrTween("transform",function(q){var ce=E(q,n,Q(),[c,o]);return function(ye){return y(ce(ye))}}):X.attr("transform",y(Y))}),ue}},29044:function(G,V,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,V,e){var m=e(3400),P=e(90676);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(G,V,e){var m=e(74148),P=e(83024);G.exports=function(L,S,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=S[0],f=S[1];a&&(n=(L.height+1)*S[0]/Math.min(L.height+1,a),f=(L.height+1)*S[1]/Math.min(L.height+1,a));var l=m.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(L);return(t||p||r)&&P(l,S,{swapXY:t,flipX:p,flipY:r}),l}},38364:function(G,V,e){var m=e(95808),P=e(67880);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"icicle",drawDescendants:P})}},47192:function(G,V,e){var m=e(33428),P=e(76308),i=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(a){var n=m.select(this),f=a[0],l=f.trace;n.style("opacity",l.opacity),n.selectAll("path.surface").each(function(u){m.select(this).call(p,u,l,r)})})}function p(r,t,a,n){var f=t.data.data,l=!t.children,u=f.i,g=i.castOption(a,u,"marker.line.color")||P.defaultLine,h=i.castOption(a,u,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(P.stroke,g).style("opacity",l?a.leaf.opacity:null)}G.exports={style:v,styleOne:p}},95188:function(G,V,e){for(var m=e(45464),P=e(52904).zorder,i=e(21776).Ks,L=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var a=S[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}G.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},m.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:i({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(G,V,e){var m=e(3400),P=e(47797),i=e(38248),L=e(54460),S=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,f){var l,u;if(f._hasZ)l=f.z.length,u=S(f.z);else if(f._hasSource){var g=v(f.source);l=g.height,u=g.width}var h=L.getFromId(n,f.xaxis||"x"),T=L.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,o=T.d2c(f.y0)-f.dy/2,d,x=[c,c+u*f.dx],w=[o,o+l*f.dy];if(h&&h.type==="log")for(d=0;d<u;d++)x.push(c+d*f.dx);if(T&&T.type==="log")for(d=0;d<l;d++)w.push(o+d*f.dy);f._extremes[h._id]=L.findExtremes(h,x),f._extremes[T._id]=L.findExtremes(T,w),f._scaler=t(f);var C={x0:c,y0:o,z:f.z,w:u,h:l};return[C]};function p(a,n,f,l){return function(u){return m.constrain((u-a)*n,f,l)}}function r(a,n){return function(f){return m.constrain(f,a,n)}}function t(a){var n=P.colormodel[a.colormodel],f=n.colormodel||a.colormodel,l=f.length;a._sArray=[];for(var u=0;u<l;u++)n.min[u]!==a.zmin[u]||n.max[u]!==a.zmax[u]?a._sArray.push(p(a.zmin[u],(n.max[u]-n.min[u])/(a.zmax[u]-a.zmin[u]),n.min[u],n.max[u])):a._sArray.push(r(n.min[u],n.max[u]));return function(g){for(var h=g.slice(0,l),T=0;T<l;T++){var c=h[T];if(!i(c))return!1;h[T]=a._sArray[T](c)}return h}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(G,V,e){var m=e(3400),P=e(95188),i=e(47797),L=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,f){return m.coerce(v,p,P,n,f)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var a;p._hasZ?(r("colormodel","rgb"),a=i.colormodel[p.colormodel],r("zmin",a.zminDflt||a.min),r("zmax",a.zmaxDflt||a.max)):p._hasSource&&(p.colormodel="rgba256",a=i.colormodel[p.colormodel],p.zmin=a.zminDflt,p.zmax=a.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(G){G.exports=function(e,m){return"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e.color=m.color,e.colormodel=m.trace.colormodel,e.z||(e.z=m.color),e}},18712:function(G,V,e){var m=e(19480),P=e(81792).IMAGE_URL_PREFIX,i=e(33576).Buffer;V.i=function(L){var S=L.replace(P,""),v=new i(S,"base64");return m(v)}},24892:function(G,V,e){var m=e(93024),P=e(3400),i=P.isArrayOrTypedArray,L=e(47797);G.exports=function(v,p,r){var t=v.cd[0],a=t.trace,n=v.xa,f=v.ya;if(!(m.inbox(p-t.x0,p-(t.x0+t.w*a.dx),0)>0||m.inbox(r-t.y0,r-(t.y0+t.h*a.dy),0)>0)){var l=Math.floor((p-t.x0)/a.dx),u=Math.floor(Math.abs(r-t.y0)/a.dy),g;if(a._hasZ?g=t.z[u][l]:a._hasSource&&(g=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),!!g){var h=t.hi||a.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var o=L.colormodel[a.colormodel],d=o.colormodel||a.colormodel,x=d.length,w=a._scaler(g),C=o.suffix,y=[];(a.hovertemplate||T)&&(y.push("["+[w[0]+C[0],w[1]+C[1],w[2]+C[2]].join(", ")),x===4&&y.push(", "+w[3]+C[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var M;i(a.hovertext)&&i(a.hovertext[u])?M=a.hovertext[u][l]:i(a.text)&&i(a.text[u])&&(M=a.text[u][l]);var A=f.c2p(t.y0+(u+.5)*a.dy),s=t.x0+(l+.5)*a.dx,E=t.y0+(u+.5)*a.dy,b="["+g.slice(0,a.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[u,l],x0:n.c2p(t.x0+l*a.dx),x1:n.c2p(t.x0+(l+1)*a.dx),y0:A,y1:A,color:w,xVal:s,xLabelVal:s,yVal:E,yLabelVal:E,zLabelVal:b,text:M,hovertemplateLabels:{zLabel:b,colorLabel:y,"color[0]Label":w[0]+C[0],"color[1]Label":w[1]+C[1],"color[2]Label":w[2]+C[2],"color[3]Label":w[3]+C[3]}})]}}}},48928:function(G,V,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,V,e){var m=e(33428),P=e(3400),i=P.strTranslate,L=e(9616),S=e(47797),v=e(9188),p=e(2264).STYLE;G.exports=function(t,a,n,f){var l=a.xaxis,u=a.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(f,n,"im").each(function(h){var T=m.select(this),c=h[0],o=c.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&g)&&!o._hasZ&&o._hasSource&&l.type==="linear"&&u.type==="linear";o._realImage=d;var x=c.z,w=c.x0,C=c.y0,y=c.w,M=c.h,A=o.dx,s=o.dy,E,b,F,I,N,_;for(_=0;E===void 0&&_<y;)E=l.c2p(w+_*A),_++;for(_=y;b===void 0&&_>0;)b=l.c2p(w+_*A),_--;for(_=0;I===void 0&&_<M;)I=u.c2p(C+_*s),_++;for(_=M;N===void 0&&_>0;)N=u.c2p(C+_*s),_--;if(b<E&&(F=b,b=E,E=F),N<I&&(F=I,I=N,N=F),!d){var O=.5;E=Math.max(-O*l._length,E),b=Math.min((1+O)*l._length,b),I=Math.max(-O*u._length,I),N=Math.min((1+O)*u._length,N)}var B=Math.round(b-E),z=Math.round(N-I),U=B<=0||z<=0;if(U){var Z=T.selectAll("image").data([]);Z.exit().remove();return}function J(j){var X=document.createElement("canvas");X.width=B,X.height=z;var se=X.getContext("2d",{willReadFrequently:!0}),q=function(Fe){return P.constrain(Math.round(l.c2p(w+Fe*A)-E),0,B)},ce=function(Fe){return P.constrain(Math.round(u.c2p(C+Fe*s)-I),0,z)},ye=S.colormodel[o.colormodel],we=ye.colormodel||o.colormodel,be=ye.fmt,De;for(_=0;_<c.w;_++){var ke=q(_),Be=q(_+1);if(!(Be===ke||isNaN(Be)||isNaN(ke)))for(var Ae=0;Ae<c.h;Ae++){var Ie=ce(Ae),Me=ce(Ae+1);Me===Ie||isNaN(Me)||isNaN(Ie)||!j(_,Ae)||(De=o._scaler(j(_,Ae)),De?se.fillStyle=we+"("+be(De).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(ke,Ie,Be-ke,Me-Ie))}}return X}var re=T.selectAll("image").data([h]);re.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),re.exit().remove();var ne=o.zsmooth===!1?p:"";if(d){var ue=P.simpleMap(l.range,l.r2l),te=P.simpleMap(u.range,u.r2l),Q=ue[1]<ue[0],ie=te[1]>te[0];if(Q||ie){var Y=E+B/2,$=I+z/2;ne+="transform:"+i(Y+"px",$+"px")+"scale("+(Q?-1:1)+","+(ie?-1:1)+")"+i(-Y+"px",-$+"px")+";"}}re.attr("style",ne);var oe=new Promise(function(j){if(o._hasZ)j();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===y&&o._canvas.el.height===M&&o._canvas.source===o.source)j();else{var X=document.createElement("canvas");X.width=y,X.height=M;var se=X.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var q=o._image;q.onload=function(){se.drawImage(q,0,0),o._canvas={el:X,source:o.source},j()},q.setAttribute("src",o.source)}}).then(function(){var j,X;if(o._hasZ)X=J(function(ce,ye){var we=x[ye][ce];return P.isTypedArray(we)&&(we=Array.from(we)),we}),j=X.toDataURL("image/png");else if(o._hasSource)if(d)j=o.source;else{var se=o._canvas.el.getContext("2d",{willReadFrequently:!0}),q=se.getImageData(0,0,y,M).data;X=J(function(ce,ye){var we=4*(ye*y+ce);return[q[we],q[we+1],q[we+2],q[we+3]]}),j=X.toDataURL("image/png")}re.attr({"xlink:href":j,height:z,width:B,x:E,y:I})});t._promises.push(oe)})}},28576:function(G,V,e){var m=e(33428);G.exports=function(i){m.select(i).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(G,V,e){var m=e(92880).extendFlat,P=e(92880).extendDeep,i=e(67824).overrideAll,L=e(25376),S=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),a=e(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=r("step",P({},f,{range:l}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:m({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:l,visible:m({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:m({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:m({},f.line.color,{}),width:m({},f.line.width,{dflt:1}),editType:"plot"},thickness:m({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,V,e){var m=e(7316);V.name="indicator",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},79136:function(G){function V(e,m){var P=[],i=m.value;typeof m._lastValue!="number"&&(m._lastValue=m.value);var L=m._lastValue,S=L;return m._hasDelta&&typeof m.delta.reference=="number"&&(S=m.delta.reference),P[0]={y:i,lastY:L,delta:i-S,relativeDelta:(i-S)/S},P}G.exports={calc:V}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,V,e){var m=e(3400),P=e(89864),i=e(86968).Q,L=e(31780),S=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),a=e(42568);function n(l,u,g,h){function T(B,z){return m.coerce(l,u,P,B,z)}i(u,h,T),T("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var c=T("value");u._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),d;if(u._hasNumber){T("number.valueformat");var x=m.extendFlat({},h.font);x.size=void 0,m.coerceFont(T,"number.font",x),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,o[0]=!0),T("number.prefix"),T("number.suffix"),d=u.number.font.size}var w;if(u._hasDelta){var C=m.extendFlat({},h.font);C.size=void 0,m.coerceFont(T,"delta.font",C),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),T("delta.reference",u.value),T("delta.relative"),T("delta.valueformat",u.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),w=u.delta.font.size}u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1;var y=m.extendFlat({},h.font);y.size=.25*(d||w||v.defaultNumberFontSize),m.coerceFont(T,"title.font",y),T("title.text");var M,A,s,E;function b(B,z){return m.coerce(M,A,P.gauge,B,z)}function F(B,z){return m.coerce(s,E,P.gauge.axis,B,z)}if(u._hasGauge){M=l.gauge,M||(M={}),A=L.newContainer(u,"gauge"),b("shape");var I=u._isBullet=u.gauge.shape==="bullet";I||T("title.align","center");var N=u._isAngular=u.gauge.shape==="angular";N||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var _=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);b("bar.thickness",_),S(M,A,{name:"steps",handleItemDefaults:f}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),s={},M&&(s=M.axis||{}),E=L.newContainer(A,"axis"),F("visible"),u._range=F("range",u._range);var O={font:h.font,noAutotickangles:!0,outerTicks:!0};p(s,E,F,"linear"),a(s,E,F,"linear",O),t(s,E,F,"linear",O),r(s,E,F,O)}else T("title.align","center"),T("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function f(l,u){function g(h,T){return m.coerce(l,u,P.gauge.steps,h,T)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}G.exports={supplyDefaults:n}},43480:function(G,V,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,V,e){var m=e(33428),P=e(67756).qy,i=e(67756).Gz,L=e(3400),S=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),a=e(12096),n=e(72736),f=e(54460),l=e(28336),u=e(37668),g=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(N,_,O,B){var z=N._fullLayout,U;d(O)&&B&&(U=B()),L.makeTraceGroups(z._indicatorlayer,_,"trace").each(function(Z){var J=Z[0],re=J.trace,ne=m.select(this),ue=re._hasGauge,te=re._isAngular,Q=re._isBullet,ie=re.domain,Y={w:z._size.w*(ie.x[1]-ie.x[0]),h:z._size.h*(ie.y[1]-ie.y[0]),l:z._size.l+z._size.w*ie.x[0],r:z._size.r+z._size.w*(1-ie.x[1]),t:z._size.t+z._size.h*(1-ie.y[1]),b:z._size.b+z._size.h*ie.y[0]},$=Y.l+Y.w/2,oe=Y.t+Y.h/2,j=Math.min(Y.w/2,Y.h),X=a.innerRadius*j,se,q,ce,ye=re.align||"center";if(q=oe,!ue)se=Y.l+c[ye]*Y.w,ce=function(Ee){return s(Ee,Y.w,Y.h)};else if(te&&(se=$,q=oe+j/2,ce=function(Ee){return E(Ee,.9*X)}),Q){var we=a.bulletPadding,be=1-a.bulletNumberDomainSize+we;se=Y.l+(be+(1-be)*c[ye])*Y.w,ce=function(Ee){return s(Ee,(a.bulletNumberDomainSize-we)*Y.w,Y.h)}}C(N,ne,Z,{numbersX:se,numbersY:q,numbersScaler:ce,transitionOpts:O,onComplete:U});var De,ke;ue&&(De={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},ke={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Be=ne.selectAll("g.angular").data(te?Z:[]);Be.exit().remove();var Ae=ne.selectAll("g.angularaxis").data(te?Z:[]);Ae.exit().remove(),te&&w(N,ne,Z,{radius:j,innerRadius:X,gauge:Be,layer:Ae,size:Y,gaugeBg:De,gaugeOutline:ke,transitionOpts:O,onComplete:U});var Ie=ne.selectAll("g.bullet").data(Q?Z:[]);Ie.exit().remove();var Me=ne.selectAll("g.bulletaxis").data(Q?Z:[]);Me.exit().remove(),Q&&x(N,ne,Z,{gauge:Ie,layer:Me,size:Y,gaugeBg:De,gaugeOutline:ke,transitionOpts:O,onComplete:U});var Fe=ne.selectAll("text.title").data(Z);Fe.exit().remove(),Fe.enter().append("text").classed("title",!0),Fe.attr("text-anchor",function(){return Q?T.right:T[re.title.align]}).text(re.title.text).call(t.font,re.title.font).call(n.convertToTspans,N),Fe.attr("transform",function(){var Ee=Y.l+Y.w*c[re.title.align],He,rt=a.titlePadding,ot=t.bBox(Fe.node());if(ue){if(te)if(re.gauge.axis.visible){var $e=t.bBox(Ae.node());He=$e.top-rt-ot.bottom}else He=Y.t+Y.h/2-j/2-ot.bottom-rt;Q&&(He=q-(ot.top+ot.bottom)/2,Ee=Y.l-a.bulletPadding*Y.w)}else He=re._numbersTop-rt-ot.bottom;return v(Ee,He)})})};function x(I,N,_,O){var B=_[0].trace,z=O.gauge,U=O.layer,Z=O.gaugeBg,J=O.gaugeOutline,re=O.size,ne=B.domain,ue=O.transitionOpts,te=O.onComplete,Q,ie,Y,$,oe;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(re.l,re.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var j=re.h,X=B.gauge.bar.thickness*j,se=ne.x[0],q=ne.x[0]+(ne.x[1]-ne.x[0])*(B._hasNumber||B._hasDelta?1-a.bulletNumberDomainSize:1);Q=A(I,B.gauge.axis),Q._id="xbulletaxis",Q.domain=[se,q],Q.setScale(),ie=f.calcTicks(Q),Y=f.makeTransTickFn(Q),$=f.getTickSigns(Q)[2],oe=re.t+re.h,Q.visible&&(f.drawTicks(I,Q,{vals:Q.ticks==="inside"?f.clipEnds(Q,ie):ie,layer:U,path:f.makeTickPath(Q,oe,$),transFn:Y}),f.drawLabels(I,Q,{vals:ie,layer:U,transFn:Y,labelFns:f.makeLabelFns(Q,oe)}));function ce(Ae){Ae.attr("width",function(Ie){return Math.max(0,Q.c2p(Ie.range[1])-Q.c2p(Ie.range[0]))}).attr("x",function(Ie){return Q.c2p(Ie.range[0])}).attr("y",function(Ie){return .5*(1-Ie.thickness)*j}).attr("height",function(Ie){return Ie.thickness*j})}var ye=[Z].concat(B.gauge.steps),we=z.selectAll("g.bg-bullet").data(ye);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(ce).call(y),we.exit().remove();var be=z.selectAll("g.value-bullet").data([B.gauge.bar]);be.enter().append("g").classed("value-bullet",!0).append("rect"),be.select("rect").attr("height",X).attr("y",(j-X)/2).call(y),d(ue)?be.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()}).attr("width",Math.max(0,Q.c2p(Math.min(B.gauge.axis.range[1],_[0].y)))):be.select("rect").attr("width",typeof _[0].y=="number"?Math.max(0,Q.c2p(Math.min(B.gauge.axis.range[1],_[0].y))):0),be.exit().remove();var De=_.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),ke=z.selectAll("g.threshold-bullet").data(De);ke.enter().append("g").classed("threshold-bullet",!0).append("line"),ke.select("line").attr("x1",Q.c2p(B.gauge.threshold.value)).attr("x2",Q.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*j).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*j).call(h.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),ke.exit().remove();var Be=z.selectAll("g.gauge-outline").data([J]);Be.enter().append("g").classed("gauge-outline",!0).append("rect"),Be.select("rect").call(ce).call(y),Be.exit().remove()}function w(I,N,_,O){var B=_[0].trace,z=O.size,U=O.radius,Z=O.innerRadius,J=O.gaugeBg,re=O.gaugeOutline,ne=[z.l+z.w/2,z.t+z.h/2+U/2],ue=O.gauge,te=O.layer,Q=O.transitionOpts,ie=O.onComplete,Y=Math.PI/2;function $(qe){var ht=B.gauge.axis.range[0],vt=B.gauge.axis.range[1],pt=(qe-ht)/(vt-ht)*Math.PI-Y;return pt<-Y?-Y:pt>Y?Y:pt}function oe(qe){return m.svg.arc().innerRadius((Z+U)/2-qe/2*(U-Z)).outerRadius((Z+U)/2+qe/2*(U-Z)).startAngle(-Y)}function j(qe){qe.attr("d",function(ht){return oe(ht.thickness).startAngle($(ht.range[0])).endAngle($(ht.range[1]))()})}var X,se,q,ce;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(ne[0],ne[1])),te.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),te.selectAll("g.xangularaxistick,path,text").remove(),X=A(I,B.gauge.axis),X.type="linear",X.range=B.gauge.axis.range,X._id="xangularaxis",X.ticklabeloverflow="allow",X.setScale();var ye=function(qe){return(X.range[0]-qe.x)/(X.range[1]-X.range[0])*Math.PI+Math.PI},we={},be=f.makeLabelFns(X,0),De=be.labelStandoff;we.xFn=function(qe){var ht=ye(qe);return Math.cos(ht)*De},we.yFn=function(qe){var ht=ye(qe),vt=Math.sin(ht)>0?.2:1;return-Math.sin(ht)*(De+qe.fontSize*vt)+Math.abs(Math.cos(ht))*(qe.fontSize*r)},we.anchorFn=function(qe){var ht=ye(qe),vt=Math.cos(ht);return Math.abs(vt)<.1?"middle":vt>0?"start":"end"},we.heightFn=function(qe,ht,vt){var pt=ye(qe);return-.5*(1+Math.sin(pt))*vt};var ke=function(qe){return v(ne[0]+U*Math.cos(qe),ne[1]-U*Math.sin(qe))};q=function(qe){return ke(ye(qe))};var Be=function(qe){var ht=ye(qe);return ke(ht)+"rotate("+-p(ht)+")"};if(se=f.calcTicks(X),ce=f.getTickSigns(X)[2],X.visible){ce=X.ticks==="inside"?-1:1;var Ae=(X.linewidth||1)/2;f.drawTicks(I,X,{vals:se,layer:te,path:"M"+ce*Ae+",0h"+ce*X.ticklen,transFn:Be}),f.drawLabels(I,X,{vals:se,layer:te,transFn:q,labelFns:we})}var Ie=[J].concat(B.gauge.steps),Me=ue.selectAll("g.bg-arc").data(Ie);Me.enter().append("g").classed("bg-arc",!0).append("path"),Me.select("path").call(j).call(y),Me.exit().remove();var Fe=oe(B.gauge.bar.thickness),Ee=ue.selectAll("g.value-arc").data([B.gauge.bar]);Ee.enter().append("g").classed("value-arc",!0).append("path");var He=Ee.select("path");d(Q)?(He.transition().duration(Q.duration).ease(Q.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()}).attrTween("d",M(Fe,$(_[0].lastY),$(_[0].y))),B._lastValue=_[0].y):He.attr("d",typeof _[0].y=="number"?Fe.endAngle($(_[0].y)):"M0,0Z"),He.call(y),Ee.exit().remove(),Ie=[];var rt=B.gauge.threshold.value;(rt||rt===0)&&Ie.push({range:[rt,rt],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var ot=ue.selectAll("g.threshold-arc").data(Ie);ot.enter().append("g").classed("threshold-arc",!0).append("path"),ot.select("path").call(j).call(y),ot.exit().remove();var $e=ue.selectAll("g.gauge-outline").data([re]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(j).call(y),$e.exit().remove()}function C(I,N,_,O){var B=_[0].trace,z=O.numbersX,U=O.numbersY,Z=B.align||"center",J=T[Z],re=O.transitionOpts,ne=O.onComplete,ue=L.ensureSingle(N,"g","numbers"),te,Q,ie,Y=[];B._hasNumber&&Y.push("number"),B._hasDelta&&(Y.push("delta"),B.delta.position==="left"&&Y.reverse());var $=ue.selectAll("text").data(Y);$.enter().append("text"),$.attr("text-anchor",function(){return J}).attr("class",function(ke){return ke}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),$.exit().remove();function oe(ke,Be,Ae,Ie){if(ke.match("s")&&Ae>=0!=Ie>=0&&!Be(Ae).slice(-1).match(o)&&!Be(Ie).slice(-1).match(o)){var Me=ke.slice().replace("s","f").replace(/\d+/,function(Ee){return parseInt(Ee)-1}),Fe=A(I,{tickformat:Me});return function(Ee){return Math.abs(Ee)<1?f.tickText(Fe,Ee).text:Be(Ee)}}else return Be}function j(){var ke=A(I,{tickformat:B.number.valueformat},B._range);ke.setScale(),f.prepTicks(ke);var Be=function(Ee){return f.tickText(ke,Ee).text},Ae=B.number.suffix,Ie=B.number.prefix,Me=ue.select("text.number");function Fe(){var Ee=typeof _[0].y=="number"?Ie+Be(_[0].y)+Ae:"-";Me.text(Ee).call(t.font,B.number.font).call(n.convertToTspans,I)}return d(re)?Me.transition().duration(re.duration).ease(re.easing).each("end",function(){Fe(),ne&&ne()}).each("interrupt",function(){Fe(),ne&&ne()}).attrTween("text",function(){var Ee=m.select(this),He=i(_[0].lastY,_[0].y);B._lastValue=_[0].y;var rt=oe(B.number.valueformat,Be,_[0].lastY,_[0].y);return function(ot){Ee.text(Ie+rt(He(ot))+Ae)}}):Fe(),te=b(Ie+Be(_[0].y)+Ae,B.number.font,J,I),Me}function X(){var ke=A(I,{tickformat:B.delta.valueformat},B._range);ke.setScale(),f.prepTicks(ke);var Be=function(ot){return f.tickText(ke,ot).text},Ae=B.delta.suffix,Ie=B.delta.prefix,Me=function(ot){var $e=B.delta.relative?ot.relativeDelta:ot.delta;return $e},Fe=function(ot,$e){return ot===0||typeof ot!="number"||isNaN(ot)?"-":(ot>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Ie+$e(ot)+Ae},Ee=function(ot){return ot.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=Me(_[0]));var He=ue.select("text.delta");He.call(t.font,B.delta.font).call(h.fill,Ee({delta:B._deltaLastValue}));function rt(){He.text(Fe(Me(_[0]),Be)).call(h.fill,Ee(_[0])).call(n.convertToTspans,I)}return d(re)?He.transition().duration(re.duration).ease(re.easing).tween("text",function(){var ot=m.select(this),$e=Me(_[0]),qe=B._deltaLastValue,ht=oe(B.delta.valueformat,Be,qe,$e),vt=i(qe,$e);return B._deltaLastValue=$e,function(pt){ot.text(Fe(vt(pt),ht)),ot.call(h.fill,Ee({delta:vt(pt)}))}}).each("end",function(){rt(),ne&&ne()}).each("interrupt",function(){rt(),ne&&ne()}):rt(),Q=b(Fe(Me(_[0]),Be),B.delta.font,J,I),He}var se=B.mode+B.align,q;if(B._hasDelta&&(q=X(),se+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,se+=B.delta.increasing.symbol+B.delta.decreasing.symbol,ie=Q),B._hasNumber&&(j(),se+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,ie=te),B._hasDelta&&B._hasNumber){var ce=[(te.left+te.right)/2,(te.top+te.bottom)/2],ye=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],we,be,De=.75*B.delta.font.size;B.delta.position==="left"&&(we=F(B,"deltaPos",0,-1*(te.width*c[B.align]+Q.width*(1-c[B.align])+De),se,Math.min),be=ce[1]-ye[1],ie={width:te.width+Q.width+De,height:Math.max(te.height,Q.height),left:Q.left+we,right:te.right,top:Math.min(te.top,Q.top+be),bottom:Math.max(te.bottom,Q.bottom+be)}),B.delta.position==="right"&&(we=F(B,"deltaPos",0,te.width*(1-c[B.align])+Q.width*c[B.align]+De,se,Math.max),be=ce[1]-ye[1],ie={width:te.width+Q.width+De,height:Math.max(te.height,Q.height),left:te.left,right:Q.right+we,top:Math.min(te.top,Q.top+be),bottom:Math.max(te.bottom,Q.bottom+be)}),B.delta.position==="bottom"&&(we=null,be=Q.height,ie={width:Math.max(te.width,Q.width),height:te.height+Q.height,left:Math.min(te.left,Q.left),right:Math.max(te.right,Q.right),top:te.bottom-te.height,bottom:te.bottom+Q.height}),B.delta.position==="top"&&(we=null,be=te.top,ie={width:Math.max(te.width,Q.width),height:te.height+Q.height,left:Math.min(te.left,Q.left),right:Math.max(te.right,Q.right),top:te.bottom-te.height-Q.height,bottom:te.bottom}),q.attr({dx:we,dy:be})}(B._hasNumber||B._hasDelta)&&ue.attr("transform",function(){var ke=O.numbersScaler(ie);se+=ke[2];var Be=F(B,"numbersScale",1,ke[0],se,Math.min),Ae;B._scaleNumbers||(Be=1),B._isAngular?Ae=U-Be*ie.bottom:Ae=U-Be*(ie.top+ie.bottom)/2,B._numbersTop=Be*ie.top+Ae;var Ie=ie[Z];Z==="center"&&(Ie=(ie.left+ie.right)/2);var Me=z-Be*Ie;return Me=F(B,"numbersTranslate",0,Me,se,Math.max),v(Me,Ae)+S(Be)})}function y(I){I.each(function(N){h.stroke(m.select(this),N.line.color)}).each(function(N){h.fill(m.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function M(I,N,_){return function(){var O=P(N,_);return function(B){return I.endAngle(O(B))()}}}function A(I,N,_){var O=I._fullLayout,B=L.extendFlat({type:"linear",ticks:"outside",range:_,showline:!0},N),z={type:"linear",_id:"x"+N._id},U={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function Z(J,re){return L.coerce(B,z,g,J,re)}return l(B,z,Z,U,O),u(B,z,Z,U),z}function s(I,N,_){var O=Math.min(N/I.width,_/I.height);return[O,I,N+"x"+_]}function E(I,N){var _=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),O=N/_;return[O,I,N]}function b(I,N,_,O){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),z=m.select(B);return z.text(I).attr("x",0).attr("y",0).attr("text-anchor",_).attr("data-unformatted",I).call(n.convertToTspans,O).call(t.font,N),t.bBox(z.node())}function F(I,N,_,O,B,z){var U="_cache"+N;I[U]&&I[U].key===B||(I[U]={key:B,value:_});var Z=L.aggNums(z,null,[I[U].value,O],2);return I[U].value=Z,Z}},50048:function(G,V,e){var m=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var a=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},S.showlegend,{dflt:!1})},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},62624:function(G,V,e){var m=e(47128),P=e(3832).processGrid,i=e(3832).filter;G.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=i(v.x,v._len),v._y=i(v.y,v._len),v._z=i(v.z,v._len),v._value=i(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,m(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,V,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=function(l,u){for(var g=u.length-1;g>0;g--){var h=Math.min(u[g],u[g-1]),T=Math.max(u[g],u[g-1]);if(T>h&&h<l&&l<=T)return{id:g,distRatio:(T-l)/(T-h)}}return{id:0,distRatio:0}};function r(l,u,g){this.scene=l,this.uid=g,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(l){if(l.object===this.mesh){var u=l.data.index,g=this.data._meshX[u],h=this.data._meshY[u],T=this.data._meshZ[u],c=this.data._Ys.length,o=this.data._Zs.length,d=p(g,this.data._Xs).id,x=p(h,this.data._Ys).id,w=p(T,this.data._Zs).id,C=l.index=w+o*x+o*c*d;l.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var y=this.data.hovertext||this.data.text;return i(y)&&y[C]!==void 0?l.textLabel=y[C]:y&&(l.textLabel=y),!0}},t.update=function(l){var u=this.scene,g=u.fullSceneLayout;this.data=n(l);function h(x,w,C,y){return w.map(function(M){return x.d2l(M,0,y)*C})}var T=v(h(g.xaxis,l._meshX,u.dataScale[0],l.xcalendar),h(g.yaxis,l._meshY,u.dataScale[1],l.ycalendar),h(g.zaxis,l._meshZ,u.dataScale[2],l.zcalendar)),c=v(l._meshI,l._meshJ,l._meshK),o={positions:T,cells:c,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:L(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},d=S(l);o.vertexIntensity=l._meshIntensity,o.vertexIntensityBounds=[d.min,d.max],o.colormap=P(l),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(l){l._meshI=[],l._meshJ=[],l._meshK=[];var u=l.surface.show,g=l.spaceframe.show,h=l.surface.fill,T=l.spaceframe.fill,c=!1,o=!1,d=0,x,w,C=l._Xs,y=l._Ys,M=l._Zs,A=C.length,s=y.length,E=M.length,b=a.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(je,We,Pe){switch(b){case 5:return Pe+E*We+E*s*je;case 4:return Pe+E*je+E*A*We;case 3:return We+s*Pe+s*E*je;case 2:return We+s*je+s*A*Pe;case 1:return je+A*Pe+A*E*We;default:return je+A*We+A*s*Pe}},I=l._minValues,N=l._maxValues,_=l._vMin,O=l._vMax,B,z,U,Z;function J(je,We,Pe){for(var Re=Z.length,Xe=w;Xe<Re;Xe++)if(je===B[Xe]&&We===z[Xe]&&Pe===U[Xe])return Xe;return-1}function re(){w=x}function ne(){B=[],z=[],U=[],Z=[],x=0,re()}function ue(je,We,Pe,Re){return B.push(je),z.push(We),U.push(Pe),Z.push(Re),x++,x-1}function te(je,We,Pe){return l._meshI.push(je),l._meshJ.push(We),l._meshK.push(Pe),d++,d-1}function Q(je,We,Pe){for(var Re=[],Xe=0;Xe<je.length;Xe++)Re[Xe]=(je[Xe]+We[Xe]+Pe[Xe])/3;return Re}function ie(je,We,Pe){for(var Re=[],Xe=0;Xe<je.length;Xe++)Re[Xe]=je[Xe]*(1-Pe)+Pe*We[Xe];return Re}var Y;function $(je){Y=je}function oe(je,We){var Pe=je[0],Re=je[1],Xe=je[2],Le=Q(Pe,Re,Xe),ve=Math.sqrt(1-Y),xe=ie(Le,Pe,ve),Ne=ie(Le,Re,ve),et=ie(Le,Xe,ve),st=We[0],lt=We[1],Gt=We[2];return{xyzv:[[Pe,Re,Ne],[Ne,xe,Pe],[Re,Xe,et],[et,Ne,Re],[Xe,Pe,xe],[xe,et,Xe]],abc:[[st,lt,-1],[-1,-1,st],[lt,Gt,-1],[-1,-1,lt],[Gt,st,-1],[-1,-1,Gt]]}}function j(je,We){return je==="all"||je===null?!0:je.indexOf(We)>-1}function X(je,We){return je===null?We:je}function se(je,We,Pe){re();var Re=[We],Xe=[Pe];if(Y>=1)Re=[We],Xe=[Pe];else if(Y>0){var Le=oe(We,Pe);Re=Le.xyzv,Xe=Le.abc}for(var ve=0;ve<Re.length;ve++){We=Re[ve],Pe=Xe[ve];for(var xe=[],Ne=0;Ne<3;Ne++){var et=We[Ne][0],st=We[Ne][1],lt=We[Ne][2],Gt=We[Ne][3],jt=Pe[Ne]>-1?Pe[Ne]:J(et,st,lt);jt>-1?xe[Ne]=jt:xe[Ne]=ue(et,st,lt,X(je,Gt))}te(xe[0],xe[1],xe[2])}}function q(je,We,Pe){var Re=function(Xe,Le,ve){se(je,[We[Xe],We[Le],We[ve]],[Pe[Xe],Pe[Le],Pe[ve]])};Re(0,1,2),Re(2,3,0)}function ce(je,We,Pe){var Re=function(Xe,Le,ve){se(je,[We[Xe],We[Le],We[ve]],[Pe[Xe],Pe[Le],Pe[ve]])};Re(0,1,2),Re(3,0,1),Re(2,3,0),Re(1,2,3)}function ye(je,We,Pe,Re){var Xe=je[3];Xe<Pe&&(Xe=Pe),Xe>Re&&(Xe=Re);for(var Le=(je[3]-Xe)/(je[3]-We[3]+1e-9),ve=[],xe=0;xe<4;xe++)ve[xe]=(1-Le)*je[xe]+Le*We[xe];return ve}function we(je,We,Pe){return je>=We&&je<=Pe}function be(je){var We=.001*(O-_);return je>=_-We&&je<=O+We}function De(je){for(var We=[],Pe=0;Pe<4;Pe++){var Re=je[Pe];We.push([l._x[Re],l._y[Re],l._z[Re],l._value[Re]])}return We}var ke=3;function Be(je,We,Pe,Re,Xe,Le){Le||(Le=1),Pe=[-1,-1,-1];var ve=!1,xe=[we(We[0][3],Re,Xe),we(We[1][3],Re,Xe),we(We[2][3],Re,Xe)];if(!xe[0]&&!xe[1]&&!xe[2])return!1;var Ne=function(st,lt,Gt){return be(lt[0][3])&&be(lt[1][3])&&be(lt[2][3])?(se(st,lt,Gt),!0):Le<ke?Be(st,lt,Gt,_,O,++Le):!1};if(xe[0]&&xe[1]&&xe[2])return Ne(je,We,Pe)||ve;var et=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(st){if(xe[st[0]]&&xe[st[1]]&&!xe[st[2]]){var lt=We[st[0]],Gt=We[st[1]],jt=We[st[2]],Tt=ye(jt,lt,Re,Xe),Dt=ye(jt,Gt,Re,Xe);ve=Ne(je,[Dt,Tt,lt],[-1,-1,Pe[st[0]]])||ve,ve=Ne(je,[lt,Gt,Dt],[Pe[st[0]],Pe[st[1]],-1])||ve,et=!0}}),et||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(st){if(xe[st[0]]&&!xe[st[1]]&&!xe[st[2]]){var lt=We[st[0]],Gt=We[st[1]],jt=We[st[2]],Tt=ye(Gt,lt,Re,Xe),Dt=ye(jt,lt,Re,Xe);ve=Ne(je,[Dt,Tt,lt],[-1,-1,Pe[st[0]]])||ve,et=!0}}),ve}function Ae(je,We,Pe,Re){var Xe=!1,Le=De(We),ve=[we(Le[0][3],Pe,Re),we(Le[1][3],Pe,Re),we(Le[2][3],Pe,Re),we(Le[3][3],Pe,Re)];if(!ve[0]&&!ve[1]&&!ve[2]&&!ve[3])return Xe;if(ve[0]&&ve[1]&&ve[2]&&ve[3])return o&&(Xe=ce(je,Le,We)||Xe),Xe;var xe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(ve[Ne[0]]&&ve[Ne[1]]&&ve[Ne[2]]&&!ve[Ne[3]]){var et=Le[Ne[0]],st=Le[Ne[1]],lt=Le[Ne[2]],Gt=Le[Ne[3]];if(o)Xe=se(je,[et,st,lt],[We[Ne[0]],We[Ne[1]],We[Ne[2]]])||Xe;else{var jt=ye(Gt,et,Pe,Re),Tt=ye(Gt,st,Pe,Re),Dt=ye(Gt,lt,Pe,Re);Xe=se(null,[jt,Tt,Dt],[-1,-1,-1])||Xe}xe=!0}}),xe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(ve[Ne[0]]&&ve[Ne[1]]&&!ve[Ne[2]]&&!ve[Ne[3]]){var et=Le[Ne[0]],st=Le[Ne[1]],lt=Le[Ne[2]],Gt=Le[Ne[3]],jt=ye(lt,et,Pe,Re),Tt=ye(lt,st,Pe,Re),Dt=ye(Gt,st,Pe,Re),Xt=ye(Gt,et,Pe,Re);o?(Xe=se(je,[et,Xt,jt],[We[Ne[0]],-1,-1])||Xe,Xe=se(je,[st,Tt,Dt],[We[Ne[1]],-1,-1])||Xe):Xe=q(null,[jt,Tt,Dt,Xt],[-1,-1,-1,-1])||Xe,xe=!0}}),xe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(ve[Ne[0]]&&!ve[Ne[1]]&&!ve[Ne[2]]&&!ve[Ne[3]]){var et=Le[Ne[0]],st=Le[Ne[1]],lt=Le[Ne[2]],Gt=Le[Ne[3]],jt=ye(st,et,Pe,Re),Tt=ye(lt,et,Pe,Re),Dt=ye(Gt,et,Pe,Re);o?(Xe=se(je,[et,jt,Tt],[We[Ne[0]],-1,-1])||Xe,Xe=se(je,[et,Tt,Dt],[We[Ne[0]],-1,-1])||Xe,Xe=se(je,[et,Dt,jt],[We[Ne[0]],-1,-1])||Xe):Xe=se(null,[jt,Tt,Dt],[-1,-1,-1])||Xe,xe=!0}}),Xe}function Ie(je,We,Pe,Re,Xe,Le,ve,xe,Ne,et,st){var lt=!1;return c&&(j(je,"A")&&(lt=Ae(null,[We,Pe,Re,Le],et,st)||lt),j(je,"B")&&(lt=Ae(null,[Pe,Re,Xe,Ne],et,st)||lt),j(je,"C")&&(lt=Ae(null,[Pe,Le,ve,Ne],et,st)||lt),j(je,"D")&&(lt=Ae(null,[Re,Le,xe,Ne],et,st)||lt),j(je,"E")&&(lt=Ae(null,[Pe,Re,Le,Ne],et,st)||lt)),o&&(lt=Ae(je,[Pe,Re,Le,Ne],et,st)||lt),lt}function Me(je,We,Pe,Re,Xe,Le,ve,xe){return[xe[0]===!0?!0:Be(je,De([We,Pe,Re]),[We,Pe,Re],Le,ve),xe[1]===!0?!0:Be(je,De([Re,Xe,We]),[Re,Xe,We],Le,ve)]}function Fe(je,We,Pe,Re,Xe,Le,ve,xe,Ne){return xe?Me(je,We,Pe,Xe,Re,Le,ve,Ne):Me(je,Pe,Xe,Re,We,Le,ve,Ne)}function Ee(je,We,Pe,Re,Xe,Le,ve){var xe=!1,Ne,et,st,lt,Gt=function(){xe=Be(je,[Ne,et,st],[-1,-1,-1],Xe,Le)||xe,xe=Be(je,[st,lt,Ne],[-1,-1,-1],Xe,Le)||xe},jt=ve[0],Tt=ve[1],Dt=ve[2];return jt&&(Ne=ie(De([F(We,Pe-0,Re-0)])[0],De([F(We-1,Pe-0,Re-0)])[0],jt),et=ie(De([F(We,Pe-0,Re-1)])[0],De([F(We-1,Pe-0,Re-1)])[0],jt),st=ie(De([F(We,Pe-1,Re-1)])[0],De([F(We-1,Pe-1,Re-1)])[0],jt),lt=ie(De([F(We,Pe-1,Re-0)])[0],De([F(We-1,Pe-1,Re-0)])[0],jt),Gt()),Tt&&(Ne=ie(De([F(We-0,Pe,Re-0)])[0],De([F(We-0,Pe-1,Re-0)])[0],Tt),et=ie(De([F(We-0,Pe,Re-1)])[0],De([F(We-0,Pe-1,Re-1)])[0],Tt),st=ie(De([F(We-1,Pe,Re-1)])[0],De([F(We-1,Pe-1,Re-1)])[0],Tt),lt=ie(De([F(We-1,Pe,Re-0)])[0],De([F(We-1,Pe-1,Re-0)])[0],Tt),Gt()),Dt&&(Ne=ie(De([F(We-0,Pe-0,Re)])[0],De([F(We-0,Pe-0,Re-1)])[0],Dt),et=ie(De([F(We-0,Pe-1,Re)])[0],De([F(We-0,Pe-1,Re-1)])[0],Dt),st=ie(De([F(We-1,Pe-1,Re)])[0],De([F(We-1,Pe-1,Re-1)])[0],Dt),lt=ie(De([F(We-1,Pe-0,Re)])[0],De([F(We-1,Pe-0,Re-1)])[0],Dt),Gt()),xe}function He(je,We,Pe,Re,Xe,Le,ve,xe,Ne,et,st,lt){var Gt=je;return lt?(c&&je==="even"&&(Gt=null),Ie(Gt,We,Pe,Re,Xe,Le,ve,xe,Ne,et,st)):(c&&je==="odd"&&(Gt=null),Ie(Gt,Ne,xe,ve,Le,Xe,Re,Pe,We,et,st))}function rt(je,We,Pe,Re,Xe){for(var Le=[],ve=0,xe=0;xe<We.length;xe++)for(var Ne=We[xe],et=1;et<E;et++)for(var st=1;st<s;st++)Le.push(Fe(je,F(Ne,st-1,et-1),F(Ne,st-1,et),F(Ne,st,et-1),F(Ne,st,et),Pe,Re,(Ne+st+et)%2,Xe&&Xe[ve]?Xe[ve]:[])),ve++;return Le}function ot(je,We,Pe,Re,Xe){for(var Le=[],ve=0,xe=0;xe<We.length;xe++)for(var Ne=We[xe],et=1;et<A;et++)for(var st=1;st<E;st++)Le.push(Fe(je,F(et-1,Ne,st-1),F(et,Ne,st-1),F(et-1,Ne,st),F(et,Ne,st),Pe,Re,(et+Ne+st)%2,Xe&&Xe[ve]?Xe[ve]:[])),ve++;return Le}function $e(je,We,Pe,Re,Xe){for(var Le=[],ve=0,xe=0;xe<We.length;xe++)for(var Ne=We[xe],et=1;et<s;et++)for(var st=1;st<A;st++)Le.push(Fe(je,F(st-1,et-1,Ne),F(st-1,et,Ne),F(st,et-1,Ne),F(st,et,Ne),Pe,Re,(st+et+Ne)%2,Xe&&Xe[ve]?Xe[ve]:[])),ve++;return Le}function qe(je,We,Pe){for(var Re=1;Re<E;Re++)for(var Xe=1;Xe<s;Xe++)for(var Le=1;Le<A;Le++)He(je,F(Le-1,Xe-1,Re-1),F(Le-1,Xe-1,Re),F(Le-1,Xe,Re-1),F(Le-1,Xe,Re),F(Le,Xe-1,Re-1),F(Le,Xe-1,Re),F(Le,Xe,Re-1),F(Le,Xe,Re),We,Pe,(Le+Xe+Re)%2)}function ht(je,We,Pe){o=!0,qe(je,We,Pe),o=!1}function vt(je,We,Pe){c=!0,qe(je,We,Pe),c=!1}function pt(je,We,Pe,Re,Xe,Le){for(var ve=[],xe=0,Ne=0;Ne<We.length;Ne++)for(var et=We[Ne],st=1;st<E;st++)for(var lt=1;lt<s;lt++)ve.push(Ee(je,et,lt,st,Pe,Re,Xe[Ne],Le&&Le[xe]?Le[xe]:[])),xe++;return ve}function wt(je,We,Pe,Re,Xe,Le){for(var ve=[],xe=0,Ne=0;Ne<We.length;Ne++)for(var et=We[Ne],st=1;st<A;st++)for(var lt=1;lt<E;lt++)ve.push(Ee(je,st,et,lt,Pe,Re,Xe[Ne],Le&&Le[xe]?Le[xe]:[])),xe++;return ve}function Mt(je,We,Pe,Re,Xe,Le){for(var ve=[],xe=0,Ne=0;Ne<We.length;Ne++)for(var et=We[Ne],st=1;st<s;st++)for(var lt=1;lt<A;lt++)ve.push(Ee(je,lt,st,et,Pe,Re,Xe[Ne],Le&&Le[xe]?Le[xe]:[])),xe++;return ve}function nt(je,We){for(var Pe=[],Re=je;Re<We;Re++)Pe.push(Re);return Pe}function _e(){for(var je=0;je<A;je++)for(var We=0;We<s;We++)for(var Pe=0;Pe<E;Pe++){var Re=F(je,We,Pe);ue(l._x[Re],l._y[Re],l._z[Re],l._value[Re])}}function Ge(){ne(),_e();var je=null;if(g&&T&&($(T),ht(je,_,O)),u&&h){$(h);for(var We=l.surface.pattern,Pe=l.surface.count,Re=0;Re<Pe;Re++){var Xe=Pe===1?.5:Re/(Pe-1),Le=(1-Xe)*_+Xe*O,ve=Math.abs(Le-I),xe=Math.abs(Le-N),Ne=ve>xe?[I,Le]:[Le,N];vt(We,Ne[0],Ne[1])}}var et=[[Math.min(_,N),Math.max(_,N)],[Math.min(I,O),Math.max(I,O)]];["x","y","z"].forEach(function(st){for(var lt=[],Gt=0;Gt<et.length;Gt++){var jt=0,Tt=et[Gt][0],Dt=et[Gt][1],Xt=l.slices[st];if(Xt.show&&Xt.fill){$(Xt.fill);var gr=[],gt=[],Zt=[];if(Xt.locations.length)for(var Qt=0;Qt<Xt.locations.length;Qt++){var yr=p(Xt.locations[Qt],st==="x"?C:st==="y"?y:M);yr.distRatio===0?gr.push(yr.id):yr.id>0&&(gt.push(yr.id),st==="x"?Zt.push([yr.distRatio,0,0]):st==="y"?Zt.push([0,yr.distRatio,0]):Zt.push([0,0,yr.distRatio]))}else st==="x"?gr=nt(1,A-1):st==="y"?gr=nt(1,s-1):gr=nt(1,E-1);gt.length>0&&(st==="x"?lt[jt]=pt(je,gt,Tt,Dt,Zt,lt[jt]):st==="y"?lt[jt]=wt(je,gt,Tt,Dt,Zt,lt[jt]):lt[jt]=Mt(je,gt,Tt,Dt,Zt,lt[jt]),jt++),gr.length>0&&(st==="x"?lt[jt]=rt(je,gr,Tt,Dt,lt[jt]):st==="y"?lt[jt]=ot(je,gr,Tt,Dt,lt[jt]):lt[jt]=$e(je,gr,Tt,Dt,lt[jt]),jt++)}var or=l.caps[st];or.show&&or.fill&&($(or.fill),st==="x"?lt[jt]=rt(je,[0,A-1],Tt,Dt,lt[jt]):st==="y"?lt[jt]=ot(je,[0,s-1],Tt,Dt,lt[jt]):lt[jt]=$e(je,[0,E-1],Tt,Dt,lt[jt]),jt++)}}),d===0&&ne(),l._meshX=B,l._meshY=z,l._meshZ=U,l._meshIntensity=Z,l._Xs=C,l._Ys=y,l._Zs=M}return Ge(),l}function f(l,u){var g=l.glplot.gl,h=m({gl:g}),T=new r(l,h,u.uid);return h._trace=T,T.update(u),l.glplot.add(h),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(G,V,e){var m=e(3400),P=e(24040),i=e(50048),L=e(27260);function S(p,r,t,a){function n(f,l){return m.coerce(p,r,i,f,l)}v(p,r,t,a,n)}function v(p,r,t,a,n){var f=n("isomin"),l=n("isomax");l!=null&&f!==void 0&&f!==null&&f>l&&(r.isomin=null,r.isomax=null);var u=n("x"),g=n("y"),h=n("z"),T=n("value");if(!u||!u.length||!g||!g.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var C="caps."+w,y=n(C+".show");y&&n(C+".fill");var M="slices."+w,A=n(M+".show");A&&(n(M+".fill"),n(M+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),L(p,r,a,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(G,V,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,V,e){var m=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(16716),S=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},m("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(G,V,e){var m=e(47128);G.exports=function(i,L){L.intensity&&m(i,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(G,V,e){var m=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,i=e(67792).alpha_shape,L=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function a(c,o,d){this.scene=c,this.uid=d,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var d=this.data.hovertext||this.data.text;return v(d)&&d[o]!==void 0?c.textLabel=d[o]:d&&(c.textLabel=d),!0}};function f(c){for(var o=[],d=c.length,x=0;x<d;x++)o[x]=p(c[x]);return o}function l(c,o,d,x){for(var w=[],C=o.length,y=0;y<C;y++)w[y]=c.d2l(o[y],0,x)*d;return w}function u(c){for(var o=[],d=c.length,x=0;x<d;x++)o[x]=Math.round(c[x]);return o}function g(c,o){for(var d=["x","y","z"].indexOf(c),x=[],w=o.length,C=0;C<w;C++)x[C]=[o[C][(d+1)%3],o[C][(d+2)%3]];return P(x)}function h(c,o){for(var d=c.length,x=0;x<d;x++)if(c[x]<=-.5||c[x]>=o-.5)return!1;return!0}n.update=function(c){var o=this.scene,d=o.fullSceneLayout;this.data=c;var x=c.x.length,w=t(l(d.xaxis,c.x,o.dataScale[0],c.xcalendar),l(d.yaxis,c.y,o.dataScale[1],c.ycalendar),l(d.zaxis,c.z,o.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;C=t(u(c.i),u(c.j),u(c.k))}else c.alphahull===0?C=L(w):c.alphahull>0?C=i(c.alphahull,w):C=g(c.delaunayaxis,w);var y={positions:w,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var M=r(c);this.color="#fff";var A=c.intensitymode;y[A+"Intensity"]=c.intensity,y[A+"IntensityBounds"]=[M.min,M.max],y.colormap=S(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=f(c.facecolor)):(this.color=c.color,y.meshColor=p(c.color));this.mesh.update(y)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,o){var d=c.glplot.gl,x=m({gl:d}),w=new a(c,x,o.uid);return x._trace=w,w.update(o),c.glplot.add(x),w}G.exports=T},74212:function(G,V,e){var m=e(24040),P=e(3400),i=e(27260),L=e(52948);G.exports=function(v,p,r,t){function a(g,h){return P.coerce(v,p,L,g,h)}function n(g){var h=g.map(function(T){var c=a(T);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var l=m.getComponentMethod("calendars","handleTraceDefaults");l(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){a(g)});var u=a("contour.show");u&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),i(v,p,t,a,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",r)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),p._length=null}},7404:function(G,V,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,V,e){var m=e(3400).extendFlat,P=e(52904),i=e(29736).axisHoverFormat,L=e(98192).u,S=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function a(n){return{line:{color:m({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:m({},t.width,{}),dash:m({},L,{}),editType:"style"},increasing:a(p),decreasing:a(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:m({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(G,V,e){var m=e(3400),P=m._,i=e(54460),L=e(1220),S=e(39032).BADNUM;function v(a,n){var f=i.getFromId(a,n.xaxis),l=i.getFromId(a,n.yaxis),u=t(a,f,n),g=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var c=r(a,n,h,T,l,p);return n._extremes[f._id]=i.findExtremes(f,T,{vpad:g/2}),c.length?(m.extendFlat(c[0].t,{wHover:g/2,tickLen:u}),c):[{t:{empty:!0}}]}function p(a,n,f,l){return{o:a,h:n,l:f,c:l}}function r(a,n,f,l,u,g){for(var h=u.makeCalcdata(n,"open"),T=u.makeCalcdata(n,"high"),c=u.makeCalcdata(n,"low"),o=u.makeCalcdata(n,"close"),d=m.isArrayOrTypedArray(n.text),x=m.isArrayOrTypedArray(n.hovertext),w=!0,C=null,y=!!n.xperiodalignment,M=[],A=0;A<l.length;A++){var s=l[A],E=h[A],b=T[A],F=c[A],I=o[A];if(s!==S&&E!==S&&b!==S&&F!==S&&I!==S){I===E?C!==null&&I!==C&&(w=I>C):w=I>E,C=I;var N=g(E,b,F,I);N.pos=s,N.yc=(E+I)/2,N.i=A,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[F,b],y&&(N.orig_p=f[A]),d&&(N.tx=n.text[A]),x&&(N.htx=n.hovertext[A]),M.push(N)}else M.push({pos:s,empty:!0})}return n._extremes[u._id]=i.findExtremes(u,m.concat(c,T),{padded:!0}),M.length&&(M[0].t={labels:{open:P(a,"open:")+" ",high:P(a,"high:")+" ",low:P(a,"low:")+" ",close:P(a,"close:")+" "}}),M}function t(a,n,f){var l=f._minDiff;if(!l){var u=a._fullData,g=[];l=1/0;var h;for(h=0;h<u.length;h++){var T=u[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){g.push(T);var c=n.makeCalcdata(T,"x");T._origX=c;var o=L(f,n,"x",c).vals;T._xcalc=o;var d=m.distinctVals(o).minDiff;d&&isFinite(d)&&(l=Math.min(l,d))}}for(l===1/0&&(l=1),h=0;h<g.length;h++)g[h]._minDiff=l}return l*f.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,V,e){var m=e(3400),P=e(52744),i=e(31147),L=e(20279);G.exports=function(p,r,t,a){function n(l,u){return m.coerce(p,r,L,l,u)}var f=P(p,r,n,a);if(!f){r.visible=!1;return}i(p,r,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(p,r,n,"increasing"),S(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(G,V,e){var m=e(54460),P=e(3400),i=e(93024),L=e(76308),S=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,l,u,g){var h=f.cd,T=h[0].trace;return T.hoverlabel.split?a(f,l,u,g):n(f,l,u,g)}function t(f,l,u,g){var h=f.cd,T=f.xa,c=h[0].trace,o=h[0].t,d=c.type,x=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",C,y,M=o.bPos||0,A=function(Z){return Z.pos+M-l},s=o.bdPos||o.tickLen,E=o.wHover,b=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=f.maxHoverDistance-b,y=f.maxSpikeDistance-b;function F(Z){var J=A(Z);return i.inbox(J-E,J+E,C)}function I(Z){var J=Z[x],re=Z[w];return J===re||i.inbox(J-u,re-u,C)}function N(Z){return(F(Z)+I(Z))/2}var _=i.getDistanceFunction(g,F,I,N);if(i.getClosest(h,_,f),f.index===!1)return null;var O=h[f.index];if(O.empty)return null;var B=O.dir,z=c[B],U=z.line.color;return L.opacity(U)&&z.line.width?f.color=U:f.color=z.fillcolor,f.x0=T.c2p(O.pos+M-s,!0),f.x1=T.c2p(O.pos+M+s,!0),f.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,f.spikeDistance=N(O)*y/C,f.xSpike=T.c2p(O.pos,!0),f}function a(f,l,u,g){var h=f.cd,T=f.ya,c=h[0].trace,o=h[0].t,d=[],x=t(f,l,u,g);if(!x)return[];var w=x.index,C=h[w],y=C.hi||c.hoverinfo,M=y.split("+"),A=y==="all",s=A||M.indexOf("y")!==-1;if(!s)return[];for(var E=["high","open","close","low"],b={},F=0;F<E.length;F++){var I=E[F],N=c[I][x.index],_=T.c2p(N,!0),O;N in b?(O=b[N],O.yLabel+="<br>"+o.labels[I]+m.hoverLabelText(T,N,c.yhoverformat)):(O=P.extendFlat({},x),O.y0=O.y1=_,O.yLabelVal=N,O.yLabel=o.labels[I]+m.hoverLabelText(T,N,c.yhoverformat),O.name="",d.push(O),b[N]=O)}return d}function n(f,l,u,g){var h=f.cd,T=f.ya,c=h[0].trace,o=h[0].t,d=t(f,l,u,g);if(!d)return[];var x=d.index,w=h[x],C=d.index=w.i,y=w.dir;function M(N){return o.labels[N]+m.hoverLabelText(T,c[N][C],c.yhoverformat)}var A=w.hi||c.hoverinfo,s=A.split("+"),E=A==="all",b=E||s.indexOf("y")!==-1,F=E||s.indexOf("text")!==-1,I=b?[M("open"),M("high"),M("low"),M("close")+"  "+p[y]]:[];return F&&S(w,c,I),d.extraText=I.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:a,hoverOnPoints:n}},65456:function(G,V,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,V,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("open"),a=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var l=m.getComponentMethod("calendars","handleTraceDefaults");if(l(L,S,["x"],p),!!(t&&a&&n&&f)){var u=Math.min(t.length,a.length,n.length,f.length);return r&&(u=Math.min(u,P.minRowLength(r))),S._length=u,u}}},36664:function(G,V,e){var m=e(33428),P=e(3400);G.exports=function(L,S,v,p){var r=S.yaxis,t=S.xaxis,a=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var f=m.select(this),l=n[0],u=l.t,g=l.trace;if(g.visible!==!0||u.empty){f.remove();return}var h=u.tickLen,T=f.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),x=a?(o+d)/2:t.c2p(c.pos,!0),w=r.c2p(c.o,!0),C=r.c2p(c.h,!0),y=r.c2p(c.l,!0),M=r.c2p(c.c,!0);return"M"+o+","+w+"H"+x+"M"+x+","+C+"V"+y+"M"+d+","+M+"H"+x})})}},97384:function(G){G.exports=function(e,m){var P=e.cd,i=e.xaxis,L=e.yaxis,S=[],v,p=P[0].t.bPos||0;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];m.contains([i.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:i.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(G,V,e){var m=e(33428),P=e(43616),i=e(76308);G.exports=function(S,v,p){var r=p||m.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var a=t[0].trace;m.select(this).selectAll("path").each(function(n){if(!n.empty){var f=a[n.dir].line;m.select(this).style("fill","none").call(i.stroke,f.color).call(P.dashLine,f.dash,f.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,V,e){var m=e(92880).extendFlat,P=e(45464),i=e(25376),L=e(49084),S=e(21776).Ks,v=e(86968).u,p=m({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:m({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,V,e){var m=e(84888)._M,P=e(60268),i="parcats";V.name=i,V.plot=function(L,S,v,p){var r=m(L.calcdata,i);if(r.length){var t=r[0];P(L,t,v,p)}},V.clean=function(L,S,v,p){var r=p._has&&p._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(G,V,e){var m=e(71688).wrap,P=e(94288).hasColorscale,i=e(47128),L=e(68944),S=e(43616),v=e(3400),p=e(38248);G.exports=function(o,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var w=x.map(function(te){var Q;if(te.categoryorder==="trace")Q=null;else if(te.categoryorder==="array")Q=te.categoryarray;else{Q=L(te.values);for(var ie=!0,Y=0;Y<Q.length;Y++)if(!p(Q[Y])){ie=!1;break}Q.sort(ie?v.sorterAsc:void 0),te.categoryorder==="category descending"&&(Q=Q.reverse())}return u(te.values,Q)}),C,y,M;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(x),x.forEach(function(te,Q){h(te,w[Q])});var A=d.line,s;A?(P(d,"line")&&i(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s=S.tryColorscale(A)):s=v.identity;function E(te){var Q,ie;return v.isArrayOrTypedArray(A.color)?(Q=A.color[te%A.color.length],ie=Q):Q=A.color,{color:s(Q),rawColor:ie}}var b=x[0].values.length,F={},I=w.map(function(te){return te.inds});M=0;var N,_;for(N=0;N<b;N++){var O=[];for(_=0;_<I.length;_++)O.push(I[_][N]);y=C[N%C.length],M+=y;var B=E(N),z=O+"-"+B.rawColor;F[z]===void 0&&(F[z]=f(O,B.color,B.rawColor)),l(F[z],N,y)}var U=x.map(function(te,Q){return t(Q,te._index,te._displayindex,te.label,M)});for(N=0;N<b;N++)for(y=C[N%C.length],_=0;_<U.length;_++){var Z=U[_].containerInd,J=w[_].inds[N],re=U[_].categories;if(re[J]===void 0){var ne=d.dimensions[Z]._categoryarray[J],ue=d.dimensions[Z]._ticktext[J];re[J]=a(_,J,ne,ue)}n(re[J],N,y)}return m(r(U,F,M))};function r(c,o,d){var x=c.map(function(w){return w.categories.length}).reduce(function(w,C){return Math.max(w,C)});return{dimensions:c,paths:o,trace:void 0,maxCats:x,count:d}}function t(c,o,d,x,w){return{dimensionInd:c,containerInd:o,displayInd:d,dimensionLabel:x,count:w,categories:[],dragX:null}}function a(c,o,d,x){return{dimensionInd:c,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(c,o,d){c.valueInds.push(o),c.count+=d}function f(c,o,d){return{categoryInds:c,color:o,rawColor:d,valueInds:[],count:0}}function l(c,o,d){c.valueInds.push(o),c.count+=d}function u(c,o){o==null?o=[]:o=o.map(function(s){return s});var d={},x={},w=[];o.forEach(function(s,E){d[s]=0,x[s]=E});for(var C=0;C<c.length;C++){var y=c[C],M;d[y]===void 0?(d[y]=1,M=o.push(y)-1,x[y]=M):(d[y]++,M=x[y]),w.push(M)}var A=o.map(function(s){return d[s]});return{uniqueValues:o,uniqueCounts:A,inds:w}}function g(c){var o=c.map(function(x){return x.displayindex}),d;if(T(o))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<o.uniqueValues.length;d++)c._ticktext.push(o.uniqueValues[d])}function T(c){for(var o=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||o[c[d]]!==void 0)return!1;o[c[d]]=!0}return!0}},76671:function(G,V,e){var m=e(3400),P=e(94288).hasColorscale,i=e(27260),L=e(86968).Q,S=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,l,u,g){g("line.shape"),g("line.hovertemplate");var h=g("line.color",u.colorway[0]);if(P(n,"line")&&m.isArrayOrTypedArray(h)){if(h.length)return g("line.colorscale"),i(n,f,u,g,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=l}return 1/0}function a(n,f){function l(d,x){return m.coerce(n,f,v.dimensions,d,x)}var u=l("values"),g=l("visible");if(u&&u.length||(g=f.visible=!1),g){l("label"),l("displayindex",f._index);var h=n.categoryarray,T=m.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var o=l("categoryorder",c);o==="array"?(l("categoryarray"),l("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&o==="array"&&(f.categoryorder="trace")}}G.exports=function(f,l,u,g){function h(d,x){return m.coerce(f,l,v,d,x)}var T=S(f,l,{name:"dimensions",handleItemDefaults:a}),c=t(f,l,u,g,h);L(l,g,h),(!Array.isArray(T)||!T.length)&&(l.visible=!1),p(l,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o=g.font;m.coerceFont(h,"labelfont",o,{overrideDflt:{size:Math.round(o.size)}}),m.coerceFont(h,"tickfont",o,{autoShadowDflt:!0,overrideDflt:{size:Math.round(o.size/1.2)}})}},22020:function(G,V,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,V,e){var m=e(33428),P=e(67756).Gz,i=e(36424),L=e(93024),S=e(3400),v=S.strTranslate,p=e(43616),r=e(49760),t=e(72736);function a(Y,$,oe,j){var X=$._context.staticPlot,se=Y.map(ne.bind(0,$,oe)),q=j.selectAll("g.parcatslayer").data([null]);q.enter().append("g").attr("class","parcatslayer").style("pointer-events",X?"none":"all");var ce=q.selectAll("g.trace.parcats").data(se,n),ye=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(Ee){return v(Ee.x,Ee.y)}),ye.append("g").attr("class","paths");var we=ce.select("g.paths"),be=we.selectAll("path.path").data(function(Ee){return Ee.paths},n);be.attr("fill",function(Ee){return Ee.model.color});var De=be.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ee){return Ee.model.color}).attr("fill-opacity",0);o(De),be.attr("d",function(Ee){return Ee.svgD}),De.empty()||be.sort(l),be.exit().remove(),be.on("mouseover",u).on("mouseout",g).on("click",c),ye.append("g").attr("class","dimensions");var ke=ce.select("g.dimensions"),Be=ke.selectAll("g.dimension").data(function(Ee){return Ee.dimensions},n);Be.enter().append("g").attr("class","dimension"),Be.attr("transform",function(Ee){return v(Ee.x,0)}),Be.exit().remove();var Ae=Be.selectAll("g.category").data(function(Ee){return Ee.categories},n),Ie=Ae.enter().append("g").attr("class","category");Ae.attr("transform",function(Ee){return v(0,Ee.y)}),Ie.append("rect").attr("class","catrect").attr("pointer-events","none"),Ae.select("rect.catrect").attr("fill","none").attr("width",function(Ee){return Ee.width}).attr("height",function(Ee){return Ee.height}),w(Ie);var Me=Ae.selectAll("rect.bandrect").data(function(Ee){return Ee.bands},n);Me.each(function(){S.raiseToTop(this)}),Me.attr("fill",function(Ee){return Ee.color});var Fe=Me.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ee){return Ee.color}).attr("fill-opacity",0);Me.attr("fill",function(Ee){return Ee.color}).attr("width",function(Ee){return Ee.width}).attr("height",function(Ee){return Ee.height}).attr("y",function(Ee){return Ee.y}).attr("cursor",function(Ee){return Ee.parcatsViewModel.arrangement==="fixed"?"default":Ee.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(Fe),Me.exit().remove(),Ie.append("text").attr("class","catlabel").attr("pointer-events","none"),Ae.select("text.catlabel").attr("text-anchor",function(Ee){return f(Ee)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Ee){return f(Ee)?Ee.width+5:-5}).attr("y",function(Ee){return Ee.height/2}).text(function(Ee){return Ee.model.categoryLabel}).each(function(Ee){p.font(m.select(this),Ee.parcatsViewModel.categorylabelfont),t.convertToTspans(m.select(this),$)}),Ie.append("text").attr("class","dimlabel"),Ae.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ee){return Ee.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ee){return Ee.width/2}).attr("y",-5).text(function(Ee,He){return He===0?Ee.parcatsViewModel.model.dimensions[Ee.model.dimensionInd].dimensionLabel:null}).each(function(Ee){p.font(m.select(this),Ee.parcatsViewModel.labelfont)}),Ae.selectAll("rect.bandrect").on("mouseover",_).on("mouseout",O),Ae.exit().remove(),Be.call(m.behavior.drag().origin(function(Ee){return{x:Ee.x,y:0}}).on("dragstart",B).on("drag",z).on("dragend",U)),ce.each(function(Ee){Ee.traceSelection=m.select(this),Ee.pathSelection=m.select(this).selectAll("g.paths").selectAll("path.path"),Ee.dimensionSelection=m.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}G.exports=function(Y,$,oe,j){a(oe,Y,j,$)};function n(Y){return Y.key}function f(Y){var $=Y.parcatsViewModel.dimensions.length,oe=Y.parcatsViewModel.dimensions[$-1].model.dimensionInd;return Y.model.dimensionInd===oe}function l(Y,$){return Y.model.rawColor>$.model.rawColor?1:Y.model.rawColor<$.model.rawColor?-1:0}function u(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),d(m.select(this));var $=h(Y),oe=T(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:$,event:m.event,constraints:oe}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var j=m.mouse(this)[0],X=Y.parcatsViewModel.graphDiv,se=Y.parcatsViewModel.trace,q=X._fullLayout,ce=q._paperdiv.node().getBoundingClientRect(),ye=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),we,be,De;for(De=0;De<Y.leftXs.length-1;De++)if(Y.leftXs[De]+Y.dimWidths[De]-2<=j&&j<=Y.leftXs[De+1]+2){var ke=Y.parcatsViewModel.dimensions[De],Be=Y.parcatsViewModel.dimensions[De+1];we=(ke.x+ke.width+Be.x)/2,be=(Y.topYs[De]+Y.topYs[De+1]+Y.height)/2;break}var Ae=Y.parcatsViewModel.x+we,Ie=Y.parcatsViewModel.y+be,Me=r.mostReadable(Y.model.color,["black","white"]),Fe=Y.model.count,Ee=Fe/Y.parcatsViewModel.model.count,He={countLabel:Fe,probabilityLabel:Ee.toFixed(3)},rt=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&rt.push(["Count:",He.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&rt.push(["P:",He.probabilityLabel].join(" "));var ot=rt.join("<br>"),$e=m.mouse(X)[0];L.loneHover({trace:se,x:Ae-ce.left+ye.left,y:Ie-ce.top+ye.top,text:ot,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Me,idealAlign:$e<Ae?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:se._input,fullData:se,count:Fe,probability:Ee}]},{container:q._hoverlayer.node(),outerContainer:q._paper.node(),gd:X})}}}function g(Y){if(!Y.parcatsViewModel.dragDimension&&(o(m.select(this)),L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(l),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var $=h(Y),oe=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:$,event:m.event,constraints:oe})}}function h(Y){for(var $=[],oe=Z(Y.parcatsViewModel),j=0;j<Y.model.valueInds.length;j++){var X=Y.model.valueInds[j];$.push({curveNumber:oe,pointNumber:X})}return $}function T(Y){for(var $={},oe=Y.parcatsViewModel.model.dimensions,j=0;j<oe.length;j++){var X=oe[j],se=X.categories[Y.model.categoryInds[j]];$[X.containerInd]=se.categoryValue}return Y.model.rawColor!==void 0&&($.color=Y.model.rawColor),$}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=h(Y),oe=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:$,event:m.event,constraints:oe})}}function o(Y){Y.attr("fill",function($){return $.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Y){Y.attr("fill-opacity",.8).attr("stroke",function($){return r.mostReadable($.model.color,["black","white"])}).attr("stroke-width",.3)}function x(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function y(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(Y){var $=Y.parcatsViewModel.pathSelection,oe=Y.categoryViewModel.model.dimensionInd,j=Y.categoryViewModel.model.categoryInd;return $.filter(function(X){return X.model.categoryInds[oe]===j&&X.model.color===Y.color})}function A(Y){var $=m.select(Y.parentNode).selectAll("rect.bandrect");$.each(function(oe){var j=M(oe);d(j),j.each(function(){S.raiseToTop(this)})}),x(m.select(Y.parentNode))}function s(Y){var $=m.select(Y).datum(),oe=M($);d(oe),oe.each(function(){S.raiseToTop(this)}),m.select(Y.parentNode).selectAll("rect.bandrect").filter(function(j){return j.color===$.color}).each(function(){S.raiseToTop(this),C(m.select(this))})}function E(Y,$,oe){var j=m.select(Y).datum(),X=j.categoryViewModel.model,se=j.parcatsViewModel.graphDiv,q=m.select(Y.parentNode).selectAll("rect.bandrect"),ce=[];q.each(function(we){var be=M(we);be.each(function(De){Array.prototype.push.apply(ce,h(De))})});var ye={};ye[X.dimensionInd]=X.categoryValue,se.emit($,{points:ce,event:oe,constraints:ye})}function b(Y,$,oe){var j=m.select(Y).datum(),X=j.categoryViewModel.model,se=j.parcatsViewModel.graphDiv,q=M(j),ce=[];q.each(function(we){Array.prototype.push.apply(ce,h(we))});var ye={};ye[X.dimensionInd]=X.categoryValue,j.rawColor!==void 0&&(ye.color=j.rawColor),se.emit($,{points:ce,event:oe,constraints:ye})}function F(Y,$,oe){Y._fullLayout._calcInverseTransform(Y);var j=Y._fullLayout._invScaleX,X=Y._fullLayout._invScaleY,se=m.select(oe.parentNode).select("rect.catrect"),q=se.node().getBoundingClientRect(),ce=se.datum(),ye=ce.parcatsViewModel,we=ye.model.dimensions[ce.model.dimensionInd],be=ye.trace,De=q.top+q.height/2,ke,Be;ye.dimensions.length>1&&we.displayInd===ye.dimensions.length-1?(ke=q.left,Be="left"):(ke=q.left+q.width,Be="right");var Ae=ce.model.count,Ie=ce.model.categoryLabel,Me=Ae/ce.parcatsViewModel.model.count,Fe={countLabel:Ae,categoryLabel:Ie,probabilityLabel:Me.toFixed(3)},Ee=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ee.push(["Count:",Fe.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ee.push(["P("+Fe.categoryLabel+"):",Fe.probabilityLabel].join(" "));var He=Ee.join("<br>");return{trace:be,x:j*(ke-$.left),y:X*(De-$.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Be,hovertemplate:be.hovertemplate,hovertemplateLabels:Fe,eventData:[{data:be._input,fullData:be,count:Ae,category:Ie,probability:Me}]}}function I(Y,$,oe){var j=[];return m.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var X=this;j.push(F(Y,$,X))}),j}function N(Y,$,oe){Y._fullLayout._calcInverseTransform(Y);var j=Y._fullLayout._invScaleX,X=Y._fullLayout._invScaleY,se=oe.getBoundingClientRect(),q=m.select(oe).datum(),ce=q.categoryViewModel,ye=ce.parcatsViewModel,we=ye.model.dimensions[ce.model.dimensionInd],be=ye.trace,De=se.y+se.height/2,ke,Be;ye.dimensions.length>1&&we.displayInd===ye.dimensions.length-1?(ke=se.left,Be="left"):(ke=se.left+se.width,Be="right");var Ae=ce.model.categoryLabel,Ie=q.parcatsViewModel.model.count,Me=0;q.categoryViewModel.bands.forEach(function(pt){pt.color===q.color&&(Me+=pt.count)});var Fe=ce.model.count,Ee=0;ye.pathSelection.each(function(pt){pt.model.color===q.color&&(Ee+=pt.model.count)});var He=Me/Ie,rt=Me/Ee,ot=Me/Fe,$e={countLabel:Me,categoryLabel:Ae,probabilityLabel:He.toFixed(3)},qe=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",$e.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color  "+Ae+"): "+$e.probabilityLabel),qe.push("P("+Ae+" | color): "+rt.toFixed(3)),qe.push("P(color | "+Ae+"): "+ot.toFixed(3)));var ht=qe.join("<br>"),vt=r.mostReadable(q.color,["black","white"]);return{trace:be,x:j*(ke-$.left),y:X*(De-$.top),text:ht,color:q.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:vt,fontSize:10,idealAlign:Be,hovertemplate:be.hovertemplate,hovertemplateLabels:$e,eventData:[{data:be._input,fullData:be,category:Ae,count:Ie,probability:He,categorycount:Fe,colorcount:Ee,bandcolorcount:Me}]}}function _(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=m.mouse(this)[1];if($<-1)return;var oe=Y.parcatsViewModel.graphDiv,j=oe._fullLayout,X=j._paperdiv.node().getBoundingClientRect(),se=Y.parcatsViewModel.hoveron,q=this;if(se==="color"?(s(q),b(q,"plotly_hover",m.event)):(A(q),E(q,"plotly_hover",m.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;se==="category"?ce=F(oe,X,q):se==="color"?ce=N(oe,X,q):se==="dimension"&&(ce=I(oe,X,q)),ce&&L.loneHover(ce,{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:oe})}}}function O(Y){var $=Y.parcatsViewModel;if(!$.dragDimension&&(o($.pathSelection),w($.dimensionSelection.selectAll("g.category")),y($.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover($.graphDiv._fullLayout._hoverlayer.node()),$.pathSelection.sort(l),$.hoverinfoItems.indexOf("skip")===-1)){var oe=Y.parcatsViewModel.hoveron,j=this;oe==="color"?b(j,"plotly_unhover",m.event):E(j,"plotly_unhover",m.event)}}function B(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function($){return $.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,m.select(this).selectAll("g.category").select("rect.catrect").each(function($){var oe=m.mouse(this)[0],j=m.mouse(this)[1];-2<=oe&&oe<=$.width+2&&-2<=j&&j<=$.height+2&&(Y.dragCategoryDisplayInd=$.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function(X){return X.displayInd}),$.model.dragY=$.y,S.raiseToTop(this.parentNode),m.select(this.parentNode).selectAll("rect.bandrect").each(function(X){X.y<j&&j<=X.y+X.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var $=Y.dragDimensionDisplayInd,oe=$-1,j=$+1,X=Y.parcatsViewModel.dimensions[$];if(Y.dragCategoryDisplayInd!==null){var se=X.categories[Y.dragCategoryDisplayInd];se.model.dragY+=m.event.dy;var q=se.model.dragY,ce=se.model.displayInd,ye=X.categories,we=ye[ce-1],be=ye[ce+1];we!==void 0&&q<we.y+we.height/2&&(se.model.displayInd=we.model.displayInd,we.model.displayInd=ce),be!==void 0&&q+se.height>be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=ce),Y.dragCategoryDisplayInd=se.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){X.model.dragX=m.event.x;var De=Y.parcatsViewModel.dimensions[oe],ke=Y.parcatsViewModel.dimensions[j];De!==void 0&&X.model.dragX<De.x+De.width&&(X.model.displayInd=De.model.displayInd,De.model.displayInd=$),ke!==void 0&&X.model.dragX+X.width>ke.x&&(X.model.displayInd=ke.model.displayInd,ke.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=X.model.displayInd}Q(Y.parcatsViewModel),te(Y.parcatsViewModel),re(Y.parcatsViewModel),J(Y.parcatsViewModel)}}function U(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){m.select(this).selectAll("text").attr("font-weight","normal");var $={},oe=Z(Y.parcatsViewModel),j=Y.parcatsViewModel.model.dimensions.map(function(ke){return ke.displayInd}),X=Y.initialDragDimensionDisplayInds.some(function(ke,Be){return ke!==j[Be]});X&&j.forEach(function(ke,Be){var Ae=Y.parcatsViewModel.model.dimensions[Be].containerInd;$["dimensions["+Ae+"].displayindex"]=ke});var se=!1;if(Y.dragCategoryDisplayInd!==null){var q=Y.model.categories.map(function(ke){return ke.displayInd});if(se=Y.initialDragCategoryDisplayInds.some(function(ke,Be){return ke!==q[Be]}),se){var ce=Y.model.categories.slice().sort(function(ke,Be){return ke.displayInd-Be.displayInd}),ye=ce.map(function(ke){return ke.categoryValue}),we=ce.map(function(ke){return ke.categoryLabel});$["dimensions["+Y.model.containerInd+"].categoryarray"]=[ye],$["dimensions["+Y.model.containerInd+"].ticktext"]=[we],$["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?b(Y.potentialClickBand,"plotly_click",m.event.sourceEvent):E(Y.potentialClickBand,"plotly_click",m.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var be=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];be.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,Q(Y.parcatsViewModel),te(Y.parcatsViewModel);var De=m.transition().duration(300).ease("cubic-in-out");De.each(function(){re(Y.parcatsViewModel,!0),J(Y.parcatsViewModel,!0)}).each("end",function(){(X||se)&&i.restyle(Y.parcatsViewModel.graphDiv,$,[oe])})}}function Z(Y){for(var $,oe=Y.graphDiv._fullData,j=0;j<oe.length;j++)if(Y.key===oe[j].uid){$=j;break}return $}function J(Y,$){$===void 0&&($=!1);function oe(j){return $?j.transition():j}Y.pathSelection.data(function(j){return j.paths},n),oe(Y.pathSelection).attr("d",function(j){return j.svgD})}function re(Y,$){$===void 0&&($=!1);function oe(ye){return $?ye.transition():ye}Y.dimensionSelection.data(function(ye){return ye.dimensions},n);var j=Y.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);oe(Y.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),oe(j).attr("transform",function(ye){return v(0,ye.y)});var X=j.select(".dimlabel");X.text(function(ye,we){return we===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var se=j.select(".catlabel");se.attr("text-anchor",function(ye){return f(ye)?"start":"end"}).attr("x",function(ye){return f(ye)?ye.width+5:-5}).each(function(ye){var we,be;f(ye)?(we=ye.width+5,be="start"):(we=-5,be="end"),m.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",be)});var q=j.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),ce=q.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);q.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),y(ce),q.each(function(){S.raiseToTop(this)}),q.exit().remove()}function ne(Y,$,oe){var j=oe[0],X=$.margin||{l:80,r:80,t:100,b:80},se=j.trace,q=se.domain,ce=$.width,ye=$.height,we=Math.floor(ce*(q.x[1]-q.x[0])),be=Math.floor(ye*(q.y[1]-q.y[0])),De=q.x[0]*ce+X.l,ke=$.height-q.y[1]*$.height+X.t,Be=se.line.shape,Ae;se.hoverinfo==="all"?Ae=["count","probability"]:Ae=(se.hoverinfo||"").split("+");var Ie={trace:se,key:se.uid,model:j,x:De,y:ke,width:we,height:be,hoveron:se.hoveron,hoverinfoItems:Ae,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Be,dragDimension:null,margin:X,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return j.dimensions&&(Q(Ie),te(Ie)),Ie}function ue(Y,$,oe,j,X){var se=[],q=[],ce,ye;for(ye=0;ye<oe.length-1;ye++)ce=P(oe[ye]+Y[ye],Y[ye+1]),se.push(ce(X)),q.push(ce(1-X));var we="M "+Y[0]+","+$[0];for(we+="l"+oe[0]+",0 ",ye=1;ye<oe.length;ye++)we+="C"+se[ye-1]+","+$[ye-1]+" "+q[ye-1]+","+$[ye]+" "+Y[ye]+","+$[ye],we+="l"+oe[ye]+",0 ";for(we+="l0,"+j+" ",we+="l -"+oe[oe.length-1]+",0 ",ye=oe.length-2;ye>=0;ye--)we+="C"+q[ye]+","+($[ye+1]+j)+" "+se[ye]+","+($[ye]+j)+" "+(Y[ye]+oe[ye])+","+($[ye]+j),we+="l-"+oe[ye]+",0 ";return we+="Z",we}function te(Y){var $=Y.dimensions,oe=Y.model,j=$.map(function(nt){return nt.categories.map(function(_e){return _e.y})}),X=Y.model.dimensions.map(function(nt){return nt.categories.map(function(_e){return _e.displayInd})}),se=Y.model.dimensions.map(function(nt){return nt.displayInd}),q=Y.dimensions.map(function(nt){return nt.model.dimensionInd}),ce=$.map(function(nt){return nt.x}),ye=$.map(function(nt){return nt.width}),we=[];for(var be in oe.paths)oe.paths.hasOwnProperty(be)&&we.push(oe.paths[be]);function De(nt){var _e=nt.categoryInds.map(function(je,We){return X[We][je]}),Ge=q.map(function(je){return _e[je]});return Ge}we.sort(function(nt,_e){var Ge=De(nt),je=De(_e);return Y.sortpaths==="backward"&&(Ge.reverse(),je.reverse()),Ge.push(nt.valueInds[0]),je.push(_e.valueInds[0]),Y.bundlecolors&&(Ge.unshift(nt.rawColor),je.unshift(_e.rawColor)),Ge<je?-1:Ge>je?1:0});for(var ke=new Array(we.length),Be=$[0].model.count,Ae=$[0].categories.map(function(nt){return nt.height}).reduce(function(nt,_e){return nt+_e}),Ie=0;Ie<we.length;Ie++){var Me=we[Ie],Fe;Be>0?Fe=Ae*(Me.count/Be):Fe=0;for(var Ee=new Array(j.length),He=0;He<Me.categoryInds.length;He++){var rt=Me.categoryInds[He],ot=X[He][rt],$e=se[He];Ee[$e]=j[$e][ot],j[$e][ot]+=Fe;var qe=Y.dimensions[$e].categories[ot],ht=qe.bands.length,vt=qe.bands[ht-1];if(vt===void 0||Me.rawColor!==vt.rawColor){var pt=vt===void 0?0:vt.y+vt.height;qe.bands.push({key:pt,color:Me.color,rawColor:Me.rawColor,height:Fe,width:qe.width,count:Me.count,y:pt,categoryViewModel:qe,parcatsViewModel:Y})}else{var wt=qe.bands[ht-1];wt.height+=Fe,wt.count+=Me.count}}var Mt;Y.pathShape==="hspline"?Mt=ue(ce,Ee,ye,Fe,.5):Mt=ue(ce,Ee,ye,Fe,0),ke[Ie]={key:Me.valueInds[0],model:Me,height:Fe,leftXs:ce,topYs:Ee,dimWidths:ye,svgD:Mt,parcatsViewModel:Y}}Y.paths=ke}function Q(Y){var $=Y.model.dimensions.map(function(q){return{displayInd:q.displayInd,dimensionInd:q.dimensionInd}});$.sort(function(q,ce){return q.displayInd-ce.displayInd});var oe=[];for(var j in $){var X=$[j].dimensionInd,se=Y.model.dimensions[X];oe.push(ie(Y,se))}Y.dimensions=oe}function ie(Y,$){var oe=40,j=16,X=Y.model.dimensions.length,se=$.displayInd,q,ce,ye;X>1?q=(Y.width-2*oe-j)/(X-1):q=0,ce=oe,ye=ce+q*se;var we=[],be=Y.model.maxCats,De=$.categories.length,ke=8,Be=$.count,Ae=Y.height-ke*(be-1),Ie,Me,Fe,Ee,He,rt=(be-De)*ke/2,ot=$.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(ot.sort(function($e,qe){return $e.displayInd-qe.displayInd}),He=0;He<De;He++)Ee=ot[He].categoryInd,Me=$.categories[Ee],Be>0?Ie=Me.count/Be*Ae:Ie=0,Fe={key:Me.valueInds[0],model:Me,width:j,height:Ie,y:Me.dragY!==null?Me.dragY:rt,bands:[],parcatsViewModel:Y},rt=rt+Ie+ke,we.push(Fe);return{key:$.dimensionInd,x:$.dragX!==null?$.dragX:ye,y:0,width:j,model:$,categories:we,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,V,e){var m=e(51036);G.exports=function(i,L,S,v){var p=i._fullLayout,r=p._paper,t=p._size;m(i,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(G,V,e){var m=e(49084),P=e(94724),i=e(25376),L=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({autoShadowDflt:!0,editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},P.tickvals,{editType:"plot"}),ticktext:S({},P.ticktext,{editType:"plot"}),tickformat:S({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},m("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,V,e){var m=e(30140),P=e(33428),i=e(71688).keyFun,L=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,p=m.bar.snapRatio;function r(U,Z){return U*(1-p)+Z*p}var t=m.bar.snapClose;function a(U,Z){return U*(1-t)+Z*t}function n(U,Z,J,re){if(f(J,re))return J;var ne=U?-1:1,ue=0,te=Z.length-1;if(ne<0){var Q=ue;ue=te,te=Q}for(var ie=Z[ue],Y=ie,$=ue;ne*$<ne*te;$+=ne){var oe=$+ne,j=Z[oe];if(ne*J<ne*a(ie,j))return r(ie,Y);if(ne*J<ne*j||oe===te)return r(j,ie);Y=ie,ie=j}}function f(U,Z){for(var J=0;J<Z.length;J++)if(U>=Z[J][0]&&U<=Z[J][1])return!0;return!1}function l(U){U.attr("x",-m.bar.captureWidth/2).attr("width",m.bar.captureWidth)}function u(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var Z=h(U.brush.filter.getConsolidated(),U.height),J=[0],re,ne,ue,te=Z.length?Z[0][0]:null,Q=0;Q<Z.length;Q++)re=Z[Q],ne=re[1]-re[0],J.push(te),J.push(ne),ue=Q+1,ue<Z.length&&(te=Z[ue][0]-re[1]);return J.push(U.height),J}function h(U,Z){return U.map(function(J){return J.map(function(re){return Math.max(0,re*Z)}).sort(S)})}function T(U,Z){var J=m.bar.handleHeight;if(!(Z>U[1]+J||Z<U[0]-J))return Z>=.9*U[1]+.1*U[0]?"n":Z<=.9*U[0]+.1*U[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function o(U){U.attr("stroke-dasharray",g)}function d(U,Z){var J=P.select(U).selectAll(".highlight, .highlight-shadow"),re=Z?J.transition().duration(m.bar.snapDuration).each("end",Z):J;o(re)}function x(U,Z){var J=U.brush,re=J.filterSpecified,ne=NaN,ue={},te;if(re){var Q=U.height,ie=J.filter.getConsolidated(),Y=h(ie,Q),$=NaN,oe=NaN,j=NaN;for(te=0;te<=Y.length;te++){var X=Y[te];if(X&&X[0]<=Z&&Z<=X[1]){$=te;break}else if(oe=te?te-1:NaN,X&&X[0]>Z){j=te;break}}if(ne=$,isNaN(ne)&&(isNaN(oe)||isNaN(j)?ne=isNaN(oe)?j:oe:ne=Z-Y[oe][1]<Y[j][0]-Z?oe:j),!isNaN(ne)){var se=Y[ne],q=T(se,Z);q&&(ue.interval=ie[ne],ue.intervalPix=se,ue.region=q)}}if(U.ordinal&&!ue.region){var ce=U.unitTickvals,ye=U.unitToPaddedPx.invert(Z);for(te=0;te<ce.length;te++){var we=[ce[Math.max(te-1,0)]*.25+ce[te]*.75,ce[Math.min(te+1,ce.length-1)]*.25+ce[te]*.75];if(ye>=we[0]&&ye<=we[1]){ue.clickableOrdinalRange=we;break}}}return ue}function w(U,Z){P.event.sourceEvent.stopPropagation();var J=Z.height-P.mouse(U)[1]-2*m.verticalPadding,re=Z.unitToPaddedPx.invert(J),ne=Z.brush,ue=x(Z,J),te=ue.interval,Q=ne.svgBrush;if(Q.wasDragged=!1,Q.grabbingBar=ue.region==="ns",Q.grabbingBar){var ie=te.map(Z.unitToPaddedPx);Q.grabPoint=J-ie[0]-m.verticalPadding,Q.barLength=ie[1]-ie[0]}Q.clickableOrdinalRange=ue.clickableOrdinalRange,Q.stayingIntervals=Z.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],te&&(Q.stayingIntervals=Q.stayingIntervals.filter(function(Y){return Y[0]!==te[0]&&Y[1]!==te[1]})),Q.startExtent=ue.region?te[ue.region==="s"?1:0]:re,Z.parent.inBrushDrag=!0,Q.brushStartCallback()}function C(U,Z){P.event.sourceEvent.stopPropagation();var J=Z.height-P.mouse(U)[1]-2*m.verticalPadding,re=Z.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[J-re.grabPoint,J+re.barLength-re.grabPoint].map(Z.unitToPaddedPx.invert):re.newExtent=[re.startExtent,Z.unitToPaddedPx.invert(J)].sort(S),Z.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(Z),d(U.parentNode)}function y(U,Z){var J=Z.brush,re=J.filter,ne=J.svgBrush;ne._dragging||(M(U,Z),C(U,Z),Z.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var ue=P.event;ue.sourceEvent.stopPropagation();var te=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,Z.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?J.filterSpecified&&Z.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],J.filterSpecified=!0):te?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&I(J)):I(J),ne.brushCallback(Z),d(U.parentNode),ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[]);return}var Q=function(){re.set(re.getConsolidated())};if(Z.ordinal){var ie=Z.unitTickvals;ie[ie.length-1]<ie[0]&&ie.reverse(),ne.newExtent=[n(0,ie,ne.newExtent[0],ne.stayingIntervals),n(1,ie,ne.newExtent[1],ne.stayingIntervals)];var Y=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(Y?[ne.newExtent]:[]),ne.extent.length||I(J),ne.brushCallback(Z),Y?d(U.parentNode,Q):(Q(),d(U.parentNode))}else Q();ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[])}function M(U,Z){var J=Z.height-P.mouse(U)[1]-2*m.verticalPadding,re=x(Z,J),ne="crosshair";re.clickableOrdinalRange?ne="pointer":re.region&&(ne=re.region+"-resize"),P.select(document.body).style("cursor",ne)}function A(U){U.on("mousemove",function(Z){P.event.preventDefault(),Z.parent.inBrushDrag||M(this,Z)}).on("mouseleave",function(Z){Z.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(Z){w(this,Z)}).on("drag",function(Z){C(this,Z)}).on("dragend",function(Z){y(this,Z)}))}function s(U,Z){return U[0]-Z[0]}function E(U,Z,J){var re=J._context.staticPlot,ne=U.selectAll(".background").data(L);ne.enter().append("rect").classed("background",!0).call(l).call(u).style("pointer-events",re?"none":"auto").attr("transform",v(0,m.verticalPadding)),ne.call(A).attr("height",function(Q){return Q.height-m.verticalPadding});var ue=U.selectAll(".highlight-shadow").data(L);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width+m.bar.strokeWidth).attr("stroke",Z).attr("opacity",m.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(Q){return Q.height}).call(o);var te=U.selectAll(".highlight").data(L);te.enter().append("line").classed("highlight",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width-m.bar.strokeWidth).attr("stroke",m.bar.fillColor).attr("opacity",m.bar.fillOpacity).attr("stroke-linecap","butt"),te.attr("y1",function(Q){return Q.height}).call(o)}function b(U,Z,J){var re=U.selectAll("."+m.cn.axisBrush).data(L,i);re.enter().append("g").classed(m.cn.axisBrush,!0),E(re,Z,J)}function F(U){return U.svgBrush.extent.map(function(Z){return Z.slice()})}function I(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function N(U){return function(J){var re=J.brush,ne=F(re),ue=ne.slice();re.filter.set(ue),U()}}function _(U){for(var Z=U.slice(),J=[],re,ne=Z.shift();ne;){for(re=ne.slice();(ne=Z.shift())&&ne[0]<=re[1];)re[1]=Math.max(re[1],ne[1]);J.push(re)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function O(){var U=[],Z,J;return{set:function(re){U=re.map(function(ne){return ne.slice().sort(S)}).sort(s),U.length===1&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),Z=_(U),J=U.reduce(function(ne,ue){return[Math.min(ne[0],ue[0]),Math.max(ne[1],ue[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return Z},getBounds:function(){return J}}}function B(U,Z,J,re,ne,ue){var te=O();return te.set(J),{filter:te,filterSpecified:Z,svgBrush:{extent:[],brushStartCallback:re,brushCallback:N(ne),brushEndCallback:ue}}}function z(U,Z){if(Array.isArray(U[0])?(U=U.map(function(re){return re.sort(S)}),Z.multiselect?U=_(U.sort(s)):U=[U[0]]):U=[U.sort(S)],Z.tickvals){var J=Z.tickvals.slice().sort(S);if(U=U.map(function(re){var ne=[n(0,J,re[0],[]),n(1,J,re[1],[])];if(ne[1]>ne[0])return ne}).filter(function(re){return re}),!U.length)return}return U.length>1?U:U[0]}G.exports={makeBrush:B,ensureAxisBrush:b,cleanRanges:z}},61664:function(G,V,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,V,e){var m=e(33428),P=e(84888)._M,i=e(24196),L=e(9616);V.name="parcoords",V.plot=function(S){var v=P(S.calcdata,"parcoords")[0];v.length&&i(S,v)},V.clean=function(S,v,p,r){var t=r._has&&r._has("parcoords"),a=v._has&&v._has("parcoords");t&&!a&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},V.toSVG=function(S){var v=S._fullLayout._glimages,p=m.select(S).selectAll(".svg-container"),r=p.filter(function(a,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var a=this,n=a.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}r.each(t),window.setTimeout(function(){m.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,V,e){var m=e(3400).isArrayOrTypedArray,P=e(8932),i=e(71688).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&m(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),i({lineColor:r,cscale:t})};function L(S){for(var v=new Array(S),p=0;p<S;p++)v[p]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,V,e){var m=e(3400),P=e(94288).hasColorscale,i=e(27260),L=e(86968).Q,S=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,a=e(26284);function n(l,u,g,h,T){var c=T("line.color",g);if(P(l,"line")&&m.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),i(l,u,h,T,{prefix:"line.",cLetter:"c"}),c.length;u.line.color=g}return 1/0}function f(l,u,g,h){function T(w,C){return m.coerce(l,u,p.dimensions,w,C)}var c=T("values"),o=T("visible");if(c&&c.length||(o=u.visible=!1),o){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(u._ax,h.layout),T("multiselect");var x=T("constraintrange");x&&(u.constraintrange=r.cleanRanges(x,u))}}G.exports=function(u,g,h,T){function c(C,y){return m.coerce(u,g,p,C,y)}var o=u.dimensions;Array.isArray(o)&&o.length>t&&(m.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var d=S(u,g,{name:"dimensions",layout:T,handleItemDefaults:f}),x=n(u,g,h,T,c);L(g,T,c),(!Array.isArray(d)||!d.length)&&(g.visible=!1),a(g,d,"values",x);var w=m.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});m.coerceFont(c,"labelfont",w),m.coerceFont(c,"tickfont",w,{autoShadowDflt:!0}),m.coerceFont(c,"rangefont",w),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(G,V,e){var m=e(3400).isTypedArray;V.convertTypedArray=function(P){return m(P)?Array.prototype.slice.call(P):P},V.isOrdinal=function(P){return!!P.tickvals},V.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(G,V,e){var m=e(61664);m.plot=e(24196),G.exports=m},51352:function(G,V,e){var m=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=e(30140).maxDimensionCount,L=e(3400),S=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(y){y.read({x:0,y:0,width:1,height:1,data:p})}function n(y,M,A,s,E){var b=y._gl;b.enable(b.SCISSOR_TEST),b.scissor(M,A,s,E),y.clear({color:[0,0,0,0],depth:1})}function f(y,M,A,s,E,b){var F=b.key;function I(N){var _=Math.min(s,E-N*s);N===0&&(window.cancelAnimationFrame(A.currentRafs[F]),delete A.currentRafs[F],n(y,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!A.clearOnly&&(b.count=2*_,b.offset=2*N*s,M(b),N*s+_<E&&(A.currentRafs[F]=window.requestAnimationFrame(function(){I(N+1)})),A.drawCompleted=!1)}A.drawCompleted||(a(y),A.drawCompleted=!0),I(0)}function l(y){return Math.max(S,Math.min(1-S,y))}function u(y,M){for(var A=new Array(256),s=0;s<256;s++)A[s]=y(s/255).concat(M);return A}function g(y,M){return(y>>>8*M)%256/255}function h(y,M,A){for(var s=new Array(y*(i+4)),E=0,b=0;b<y;b++){for(var F=0;F<i;F++)s[E++]=F<M.length?M[F].paddedUnitValues[b]:.5;s[E++]=g(b,2),s[E++]=g(b,1),s[E++]=g(b,0),s[E++]=l(A[b])}return s}function T(y,M,A){for(var s=new Array(M*8),E=0,b=0;b<M;b++)for(var F=0;F<2;F++)for(var I=0;I<4;I++){var N=y*4+I,_=A[b*64+N];N===63&&F===0&&(_*=-1),s[E++]=_}return s}function c(y){var M="0"+y;return M.substr(M.length-2)}function o(y){return y<i?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,M,A){for(var s=0;s<=i;s+=4)y[o(s)](T(s/4,M,A))}function x(y){for(var M={},A=0;A<=i;A+=4)M[o(A)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return M}function w(y,M,A,s,E,b,F,I,N,_,O,B,z,U){for(var Z=[[],[]],J=0;J<64;J++)Z[0][J]=J===E?1:0,Z[1][J]=J===b?1:0;F*=U,I*=U,N*=U,_*=U;var re=y.lines.canvasOverdrag*U,ne=y.domain,ue=y.canvasWidth*U,te=y.canvasHeight*U,Q=y.pad.l*U,ie=y.pad.b*U,Y=y.layoutHeight*U,$=y.layoutWidth*U,oe=y.deselectedLines.color,j=y.deselectedLines.opacity,X=L.extendFlat({key:O,resolution:[ue,te],viewBoxPos:[F+re,I],viewBoxSize:[N,_],i0:E,i1:b,dim0A:Z[0].slice(0,16),dim0B:Z[0].slice(16,32),dim0C:Z[0].slice(32,48),dim0D:Z[0].slice(48,64),dim1A:Z[1].slice(0,16),dim1B:Z[1].slice(16,32),dim1C:Z[1].slice(32,48),dim1D:Z[1].slice(48,64),drwLayer:B,contextColor:[oe[0]/255,oe[1]/255,oe[2]/255,j!=="auto"?oe[3]*j:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(s===M?0:F+re)+(Q-re)+$*ne.x[0],scissorWidth:(s===A?ue-F+re:N+.5)+(s===M?F+re:0),scissorY:I+ie+Y*ne.y[0],scissorHeight:_,viewportX:Q-re+$*ne.x[0],viewportY:ie+Y*ne.y[0],viewportWidth:ue,viewportHeight:te},z);return X}function C(y){var M=v-1,A=Math.max(0,Math.floor(y[0]*M),0),s=Math.min(M,Math.ceil(y[1]*M),M);return[Math.min(A,s),Math.max(A,s)]}G.exports=function(y,M){var A=M.context,s=M.pick,E=M.regl,b=E._gl,F=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),I=Math.max(F[0],Math.min(F[1],M.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},_,O,B,z,U=x(E),Z,J=E.texture(t),re=[];ue(M);var ne=E({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:m,frag:P,primitive:"lines",lineWidth:I,attributes:U,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:J,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function ue(oe){_=oe.model,O=oe.viewModel,B=O.dimensions.slice(),z=B[0]?B[0].values.length:0;var j=_.lines,X=s?j.color.map(function(q,ce){return ce/j.color.length}):j.color,se=h(z,B,X);d(U,z,se),!A&&!s&&(J=E.texture(L.extendFlat({data:u(_.unitToColor,255)},t)))}function te(oe){var j,X,se,q=[[],[]];for(se=0;se<64;se++){var ce=!oe&&se<B.length?B[se].brush.filter.getBounds():[-1/0,1/0];q[0][se]=ce[0],q[1][se]=ce[1]}var ye=v*8,we=new Array(ye);for(j=0;j<ye;j++)we[j]=255;if(!oe)for(j=0;j<B.length;j++){var be=j%8,De=(j-be)/8,ke=Math.pow(2,be),Be=B[j],Ae=Be.brush.filter.get();if(!(Ae.length<2)){var Ie=C(Ae[0])[1];for(X=1;X<Ae.length;X++){var Me=C(Ae[X]);for(se=Ie+1;se<Me[0];se++)we[se*8+De]&=~ke;Ie=Math.max(Ie,Me[1])}}}var Fe={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return Z?Z(Fe):Z=E.texture(Fe),{maskTexture:Z,maskHeight:v,loA:q[0].slice(0,16),loB:q[0].slice(16,32),loC:q[0].slice(32,48),loD:q[0].slice(48,64),hiA:q[1].slice(0,16),hiB:q[1].slice(16,32),hiC:q[1].slice(32,48),hiD:q[1].slice(48,64)}}function Q(oe,j,X){var se=oe.length,q,ce,ye,we=1/0,be=-1/0;for(q=0;q<se;q++)oe[q].dim0.canvasX<we&&(we=oe[q].dim0.canvasX,ce=q),oe[q].dim1.canvasX>be&&(be=oe[q].dim1.canvasX,ye=q);se===0&&n(E,0,0,_.canvasWidth,_.canvasHeight);var De=te(A);for(q=0;q<se;q++){var ke=oe[q],Be=ke.dim0.crossfilterDimensionIndex,Ae=ke.dim1.crossfilterDimensionIndex,Ie=ke.canvasX,Me=ke.canvasY,Fe=Ie+ke.panelSizeX,Ee=ke.plotGlPixelRatio;if(j||!re[Be]||re[Be][0]!==Ie||re[Be][1]!==Fe){re[Be]=[Ie,Fe];var He=w(_,ce,ye,q,Be,Ae,Ie,Me,ke.panelSizeX,ke.panelSizeY,ke.dim0.crossfilterDimensionIndex,A?0:s?2:1,De,Ee);N.clearOnly=X;var rt=j?_.lines.blockLineCount:z;f(E,ne,N,rt,z,He)}}}function ie(oe,j){return E.read({x:oe,y:j,width:1,height:1,data:r}),r}function Y(oe,j,X,se){var q=new Uint8Array(4*X*se);return E.read({x:oe,y:j,width:X,height:se,data:q}),q}function $(){y.style["pointer-events"]="none",J.destroy(),Z&&Z.destroy();for(var oe in U)U[oe].destroy()}return{render:Q,readPixel:ie,readPixels:Y,destroy:$,update:ue}}},26284:function(G){G.exports=function(V,e,m,P){P||(P=1/0);var i,L;for(i=0;i<e.length;i++)L=e[i],L.visible&&(P=Math.min(P,L[m].length));for(P===1/0&&(P=0),V._length=P,i=0;i<e.length;i++)L=e[i],L.visible&&(L._length=P);return P}},36336:function(G,V,e){var m=e(33428),P=e(3400),i=P.isArrayOrTypedArray,L=P.numberFormat,S=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),a=e(43616),n=e(8932),f=e(71688),l=f.keyFun,u=f.repeat,g=f.unwrap,h=e(95724),T=e(30140),c=e(71864),o=e(51352);function d(re,ne,ue){return P.aggNums(re,null,ne,ue)}function x(re,ne){return C(d(Math.min,re,ne),d(Math.max,re,ne))}function w(re){var ne=re.range;return ne?C(ne[0],ne[1]):x(re.values,re._length)}function C(re,ne){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),re===ne&&(re===0?(re-=1,ne+=1):(re*=.9,ne*=1.1)),[re,ne]}function y(re,ne){return ne?function(ue,te){var Q=ne[te];return Q??re(ue)}:re}function M(re,ne,ue,te,Q){var ie=w(ue);return te?m.scale.ordinal().domain(te.map(y(L(ue.tickformat),Q))).range(te.map(function(Y){var $=(Y-ie[0])/(ie[1]-ie[0]);return re-ne+$*(2*ne-re)})):m.scale.linear().domain(ie).range([re-ne,ne])}function A(re,ne){return m.scale.linear().range([ne,re-ne])}function s(re,ne){return m.scale.linear().domain(w(re)).range([ne,1-ne])}function E(re){if(re.tickvals){var ne=w(re);return m.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(ue){return(ue-ne[0])/(ne[1]-ne[0])}))}}function b(re){var ne=re.map(function(ie){return ie[0]}),ue=re.map(function(ie){var Y=S(ie[1]);return m.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),te=function(ie){return function(Y){return Y[ie]}},Q="rgb".split("").map(function(ie){return m.scale.linear().clamp(!0).domain(ne).range(ue.map(te(ie)))});return function(ie){return Q.map(function(Y){return Y(ie)})}}function F(re){return re.dimensions.some(function(ne){return ne.brush.filterSpecified})}function I(re,ne,ue){var te=g(ne),Q=te.trace,ie=h.convertTypedArray(te.lineColor),Y=Q.line,$={color:S(Q.unselected.line.color),opacity:Q.unselected.line.opacity},oe=n.extractOpts(Y),j=oe.reversescale?n.flipScale(te.cscale):te.cscale,X=Q.domain,se=Q.dimensions,q=re.width,ce=Q.labelangle,ye=Q.labelside,we=Q.labelfont,be=Q.tickfont,De=Q.rangefont,ke=P.extendDeepNoArrays({},Y,{color:ie.map(m.scale.linear().domain(w({values:ie,range:[oe.min,oe.max],_length:Q._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Be=Math.floor(q*(X.x[1]-X.x[0])),Ae=Math.floor(re.height*(X.y[1]-X.y[0])),Ie=re.margin||{l:80,r:80,t:100,b:80},Me=Be,Fe=Ae;return{key:ue,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:b(j),lines:ke,deselectedLines:$,labelAngle:ce,labelSide:ye,labelFont:we,tickFont:be,rangeFont:De,layoutWidth:q,layoutHeight:re.height,domain:X,translateX:X.x[0]*q,translateY:re.height-X.y[1]*re.height,pad:Ie,canvasWidth:Me*T.canvasPixelRatio+2*ke.canvasOverdrag,canvasHeight:Fe*T.canvasPixelRatio,width:Me,height:Fe,canvasPixelRatio:T.canvasPixelRatio}}function N(re,ne,ue){var te=ue.width,Q=ue.height,ie=ue.dimensions,Y=ue.canvasPixelRatio,$=function(q){return te*q/Math.max(1,ue.colCount-1)},oe=T.verticalPadding/Q,j=A(Q,T.verticalPadding),X={key:ue.key,xScale:$,model:ue,inBrushDrag:!1},se={};return X.dimensions=ie.filter(h.isVisible).map(function(q,ce){var ye=s(q,oe),we=se[q.label];se[q.label]=(we||0)+1;var be=q.label+(we?"__"+we:""),De=q.constraintrange,ke=De&&De.length;ke&&!i(De[0])&&(De=[De]);var Be=ke?De.map(function(qe){return qe.map(ye)}):[[-1/0,1/0]],Ae=function(){var qe=X;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var ht=F(qe);!re.contextShown()&&ht?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),re.contextShown(!0)):re.contextShown()&&!ht&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),re.contextShown(!1))},Ie=q.values;Ie.length>q._length&&(Ie=Ie.slice(0,q._length));var Me=q.tickvals,Fe;function Ee(qe,ht){return{val:qe,text:Fe[ht]}}function He(qe,ht){return qe.val-ht.val}if(i(Me)&&Me.length){P.isTypedArray(Me)&&(Me=Array.from(Me)),Fe=q.ticktext,!i(Fe)||!Fe.length?Fe=Me.map(L(q.tickformat)):Fe.length>Me.length?Fe=Fe.slice(0,Me.length):Me.length>Fe.length&&(Me=Me.slice(0,Fe.length));for(var rt=1;rt<Me.length;rt++)if(Me[rt]<Me[rt-1]){for(var ot=Me.map(Ee).sort(He),$e=0;$e<Me.length;$e++)Me[$e]=ot[$e].val,Fe[$e]=ot[$e].text;break}}else Me=void 0;return Ie=h.convertTypedArray(Ie),{key:be,label:q.label,tickFormat:q.tickformat,tickvals:Me,ticktext:Fe,ordinal:h.isOrdinal(q),multiselect:q.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:q._index,height:Q,values:Ie,paddedUnitValues:Ie.map(ye),unitTickvals:Me&&Me.map(ye),xScale:$,x:$(ce),canvasX:$(ce)*Y,unitToPaddedPx:j,domainScale:M(Q,T.verticalPadding,q,Me,Fe),ordinalScale:E(q),parent:X,model:ue,brush:c.makeBrush(re,ke,Be,function(){re.linePickActive(!1)},Ae,function(qe){if(X.focusLayer.render(X.panels,!0),X.pickLayer&&X.pickLayer.render(X.panels,!0),re.linePickActive(!0),ne&&ne.filterChanged){var ht=ye.invert,vt=qe.map(function(pt){return pt.map(ht).sort(P.sorterAsc)}).sort(function(pt,wt){return pt[0]-wt[0]});ne.filterChanged(X.key,q._index,vt)}})}}),X}function _(re){re.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(){var re=!0,ne=!1;return{linePickActive:function(ue){return arguments.length?re=!!ue:re},contextShown:function(ue){return arguments.length?ne=!!ue:ne}}}function B(re,ne){var ue=ne==="top"?1:-1,te=re*Math.PI/180,Q=Math.sin(te),ie=Math.cos(te);return{dir:ue,dx:Q,dy:ie,degrees:re}}function z(re,ne,ue){for(var te=ne.panels||(ne.panels=[]),Q=re.data(),ie=0;ie<Q.length-1;ie++){var Y=te[ie]||(te[ie]={}),$=Q[ie],oe=Q[ie+1];Y.dim0=$,Y.dim1=oe,Y.canvasX=$.canvasX,Y.panelSizeX=oe.canvasX-$.canvasX,Y.panelSizeY=ne.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=ue}}function U(re){for(var ne=0;ne<re.length;ne++)for(var ue=0;ue<re[ne].length;ue++)for(var te=re[ne][ue].trace,Q=te.dimensions,ie=0;ie<Q.length;ie++){var Y=Q[ie].values,$=Q[ie]._ax;$&&($.range?$.range=C($.range[0],$.range[1]):$.range=x(Y,te._length),$.dtick||($.dtick=.01*(Math.abs($.range[1]-$.range[0])||1)),$.tickformat=Q[ie].tickformat,v.calcTicks($),$.cleanRange())}}function Z(re,ne){return v.tickText(re._ax,ne,!1).text}function J(re,ne){if(re.ordinal)return"";var ue=re.domainScale.domain(),te=ue[ne?ue.length-1:0];return Z(re.model.dimensions[re.visibleIndex],te)}G.exports=function(ne,ue,te,Q){var ie=ne._context.staticPlot,Y=ne._fullLayout,$=Y._toppaper,oe=Y._glcontainer,j=ne._context.plotGlPixelRatio,X=ne._fullLayout.paper_bgcolor;U(ue);var se=O(),q=ue.filter(function($e){return g($e).trace.visible}).map(I.bind(0,te)).map(N.bind(0,se,Q));oe.each(function($e,qe){return P.extendFlat($e,q[qe])});var ce=oe.selectAll(".gl-canvas").each(function($e){$e.viewModel=q[0],$e.viewModel.plotGlPixelRatio=j,$e.viewModel.paperColor=X,$e.model=$e.viewModel?$e.viewModel.model:null}),ye=null,we=ce.filter(function($e){return $e.pick});we.style("pointer-events",ie?"none":"auto").on("mousemove",function($e){if(se.linePickActive()&&$e.lineLayer&&Q&&Q.hover){var qe=m.event,ht=this.width,vt=this.height,pt=m.mouse(this),wt=pt[0],Mt=pt[1];if(wt<0||Mt<0||wt>=ht||Mt>=vt)return;var nt=$e.lineLayer.readPixel(wt,vt-1-Mt),_e=nt[3]!==0,Ge=_e?nt[2]+256*(nt[1]+256*nt[0]):null,je={x:wt,y:Mt,clientX:qe.clientX,clientY:qe.clientY,dataIndex:$e.model.key,curveNumber:Ge};Ge!==ye&&(_e?Q.hover(je):Q.unhover&&Q.unhover(je),ye=Ge)}}),ce.style("opacity",function($e){return $e.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var be=$.selectAll("."+T.cn.parcoords).data(q,l);be.exit().remove(),be.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function($e){return r($e.model.translateX,$e.model.translateY)});var De=be.selectAll("."+T.cn.parcoordsControlView).data(u,l);De.enter().append("g").classed(T.cn.parcoordsControlView,!0),De.attr("transform",function($e){return r($e.model.pad.l,$e.model.pad.t)});var ke=De.selectAll("."+T.cn.yAxis).data(function($e){return $e.dimensions},l);ke.enter().append("g").classed(T.cn.yAxis,!0),De.each(function($e){z(ke,$e,j)}),ce.each(function($e){if($e.viewModel){!$e.lineLayer||Q?$e.lineLayer=o(this,$e):$e.lineLayer.update($e),($e.key||$e.key===0)&&($e.viewModel[$e.key]=$e.lineLayer);var qe=!$e.context||Q;$e.lineLayer.render($e.viewModel.panels,qe)}}),ke.attr("transform",function($e){return r($e.xScale($e.xIndex),0)}),ke.call(m.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var qe=$e.parent;se.linePickActive(!1),$e.x=Math.max(-T.overdrag,Math.min($e.model.width+T.overdrag,m.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,ke.sort(function(ht,vt){return ht.x-vt.x}).each(function(ht,vt){ht.xIndex=vt,ht.x=$e===ht?ht.x:ht.xScale(ht.xIndex),ht.canvasX=ht.x*ht.model.canvasPixelRatio}),z(ke,qe,j),ke.filter(function(ht){return Math.abs($e.xIndex-ht.xIndex)!==0}).attr("transform",function(ht){return r(ht.xScale(ht.xIndex),0)}),m.select(this).attr("transform",r($e.x,0)),ke.each(function(ht,vt,pt){pt===$e.parent.key&&(qe.dimensions[vt]=ht)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!F(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function($e){var qe=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,z(ke,qe,j),m.select(this).attr("transform",function(ht){return r(ht.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!F(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),se.linePickActive(!0),Q&&Q.axesMoved&&Q.axesMoved(qe.key,qe.dimensions.map(function(ht){return ht.crossfilterDimensionIndex}))})),ke.exit().remove();var Be=ke.selectAll("."+T.cn.axisOverlays).data(u,l);Be.enter().append("g").classed(T.cn.axisOverlays,!0),Be.selectAll("."+T.cn.axis).remove();var Ae=Be.selectAll("."+T.cn.axis).data(u,l);Ae.enter().append("g").classed(T.cn.axis,!0),Ae.each(function($e){var qe=$e.model.height/$e.model.tickDistance,ht=$e.domainScale,vt=ht.domain();m.select(this).call(m.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,$e.tickFormat).tickValues($e.ordinal?vt:null).tickFormat(function(pt){return h.isOrdinal($e)?pt:Z($e.model.dimensions[$e.visibleIndex],pt)}).scale(ht)),a.font(Ae.selectAll("text"),$e.model.tickFont)}),Ae.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ae.selectAll("text").style("cursor","default");var Ie=Be.selectAll("."+T.cn.axisHeading).data(u,l);Ie.enter().append("g").classed(T.cn.axisHeading,!0);var Me=Ie.selectAll("."+T.cn.axisTitle).data(u,l);Me.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),Me.text(function($e){return $e.label}).each(function($e){var qe=m.select(this);a.font(qe,$e.model.labelFont),t.convertToTspans(qe,ne)}).attr("transform",function($e){var qe=B($e.model.labelAngle,$e.model.labelSide),ht=T.axisTitleOffset;return(qe.dir>0?"":r(0,2*ht+$e.model.height))+p(qe.degrees)+r(-ht*qe.dx,-ht*qe.dy)}).attr("text-anchor",function($e){var qe=B($e.model.labelAngle,$e.model.labelSide),ht=Math.abs(qe.dx),vt=Math.abs(qe.dy);return 2*ht>vt?qe.dir*qe.dx<0?"start":"end":"middle"});var Fe=Be.selectAll("."+T.cn.axisExtent).data(u,l);Fe.enter().append("g").classed(T.cn.axisExtent,!0);var Ee=Fe.selectAll("."+T.cn.axisExtentTop).data(u,l);Ee.enter().append("g").classed(T.cn.axisExtentTop,!0),Ee.attr("transform",r(0,-T.axisExtentOffset));var He=Ee.selectAll("."+T.cn.axisExtentTopText).data(u,l);He.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(_),He.text(function($e){return J($e,!0)}).each(function($e){a.font(m.select(this),$e.model.rangeFont)});var rt=Fe.selectAll("."+T.cn.axisExtentBottom).data(u,l);rt.enter().append("g").classed(T.cn.axisExtentBottom,!0),rt.attr("transform",function($e){return r(0,$e.model.height+T.axisExtentOffset)});var ot=rt.selectAll("."+T.cn.axisExtentBottomText).data(u,l);ot.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(_),ot.text(function($e){return J($e,!1)}).each(function($e){a.font(m.select(this),$e.model.rangeFont)}),c.ensureAxisBrush(Be,X,ne)}},24196:function(G,V,e){var m=e(36336),P=e(5048),i=e(95724).isVisible,L={};function S(r,t,a){var n=t.indexOf(a),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var p=G.exports=function(t,a){var n=t._fullLayout,f=P(t,[],L);if(f){var l={},u={},g={},h={},T=n._size;a.forEach(function(w,C){var y=w[0].trace;g[C]=y.index;var M=h[C]=y._fullInput.index;l[C]=t.data[M].dimensions,u[C]=t.data[M].dimensions.slice()});var c=function(w,C,y){var M=u[w][C],A=y.map(function(N){return N.slice()}),s="dimensions["+C+"].constraintrange",E=n._tracePreGUI[t._fullData[g[w]]._fullInput.uid];if(E[s]===void 0){var b=M.constraintrange;E[s]=b||null}var F=t._fullData[g[w]].dimensions[C];A.length?(A.length===1&&(A=A[0]),M.constraintrange=A,F.constraintrange=A.slice(),A=[A]):(delete M.constraintrange,delete F.constraintrange,A=null);var I={};I[s]=A,t.emit("plotly_restyle",[I,[h[w]]])},o=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},x=function(w,C){var y=v(C,u[w].filter(i));l[w].sort(y),u[w].filter(function(M){return!i(M)}).sort(function(M){return u[w].indexOf(M)}).forEach(function(M){l[w].splice(l[w].indexOf(M),1),l[w].splice(u[w].indexOf(M),0,M)}),t.emit("plotly_restyle",[{dimensions:[l[w]]},[h[w]]])};m(t,a,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:o,unhover:d,axesMoved:x})}};p.reglPrecompiled=L},74996:function(G,V,e){var m=e(45464),P=e(86968).u,i=e(25376),L=e(22548),S=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},m.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,V,e){var m=e(7316);V.name="pie",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},45768:function(G,V,e){var m=e(38248),P=e(49760),i=e(76308),L={};function S(t,a){var n=[],f=t._fullLayout,l=f.hiddenlabels||[],u=a.labels,g=a.marker.colors||[],h=a.values,T=a._length,c=a._hasValues&&T,o,d;if(a.dlabel)for(u=new Array(T),o=0;o<T;o++)u[o]=String(a.label0+o*a.dlabel);var x={},w=v(f["_"+a.type+"colormap"]),C=0,y=!1;for(o=0;o<T;o++){var M,A,s;if(c){if(M=h[o],!m(M))continue;M=+M}else M=1;A=u[o],(A===void 0||A==="")&&(A=o),A=String(A);var E=x[A];E===void 0?(x[A]=n.length,s=l.indexOf(A)!==-1,s||(C+=M),n.push({v:M,label:A,color:w(g[o],A),i:o,pts:[o],hidden:s})):(y=!0,d=n[E],d.v+=M,d.pts.push(o),d.hidden||(C+=M),d.color===!1&&g[o]&&(d.color=w(g[o],A)))}n=n.filter(function(F){return F.v>=0});var b=a.type==="funnelarea"?y:a.sort;return b&&n.sort(function(F,I){return I.v-F.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,f){return!n||(n=P(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function p(t,a){var n=(a||{}).type;n||(n="pie");var f=t._fullLayout,l=t.calcdata,u=f[n+"colorway"],g=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(u=r(u,L));for(var h=0,T=0;T<l.length;T++){var c=l[T],o=c[0].trace.type;if(o===n)for(var d=0;d<c.length;d++){var x=c[d];x.color===!1&&(g[x.label]?x.color=g[x.label]:(g[x.label]=x.color=u[h%u.length],h++))}}}function r(t,a){var n,f=JSON.stringify(t),l=a[f];if(!l){for(l=t.slice(),n=0;n<t.length;n++)l.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)l.push(P(t[n]).darken(20).toHexString());a[f]=l}return l}G.exports={calc:S,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,V,e){var m=e(38248),P=e(3400),i=e(74996),L=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function p(a,n){var f=P.isArrayOrTypedArray(a),l=P.isArrayOrTypedArray(n),u=Math.min(f?a.length:1/0,l?n.length:1/0);if(isFinite(u)||(u=0),u&&l){for(var g,h=0;h<u;h++){var T=n[h];if(m(T)&&T>0){g=!0;break}}g||(u=0)}return{hasLabels:f,hasValues:l,len:u}}function r(a,n,f,l,u){var g=l("marker.line.width");g&&l("marker.line.color",u?void 0:f.paper_bgcolor);var h=l("marker.colors");v(l,"marker.pattern",h),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(a,n,f,l){function u(E,b){return P.coerce(a,n,i,E,b)}var g=u("labels"),h=u("values"),T=p(g,h),c=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),!c){n.visible=!1;return}n._length=c,r(a,n,l,u,!0),u("scalegroup");var o=u("text"),d=u("texttemplate"),x;if(d||(x=u("textinfo",P.isArrayOrTypedArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||x&&x!=="none"){var w=u("textposition");S(a,n,l,u,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(w)||w==="auto",y=C||w==="outside";y&&u("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&u("insidetextorientation")}else x==="none"&&u("textposition","none");L(n,l,u);var M=u("hole"),A=u("title.text");if(A){var s=u("title.position",M?"middle center":"top center");!M&&s==="middle center"&&(n.title.position="top center"),P.coerceFont(u,"title.font",l.font)}u("sort"),u("direction"),u("rotation"),u("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,V,e){var m=e(10624).appendArrayMultiPointValues;G.exports=function(i,L){var S={curveNumber:L.index,pointNumbers:i.pts,data:L._input,fullData:L,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(S.pointNumber=S.i=i.pts[0]),m(S,L,i.pts),L.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(G,V,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p){var r=v.marker.pattern;r&&r.shape?m.pointStyle(L,v,p,S):P.fill(L,S.color)}},69656:function(G,V,e){var m=e(3400);function P(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}V.formatPiePercent=function(L,S){var v=P((L*100).toPrecision(3));return m.numSeparate(v,S)+"%"},V.formatPieValue=function(L,S){var v=P(L.toPrecision(10));return m.numSeparate(v,S)},V.getFirstFilled=function(L,S){if(m.isArrayOrTypedArray(L))for(var v=0;v<S.length;v++){var p=L[S[v]];if(p||p===0||p==="")return p}},V.castOption=function(L,S){if(m.isArrayOrTypedArray(L))return V.getFirstFilled(L,S);if(L)return L},V.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(G,V,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,V,e){var m=e(3400),P=e(85204);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(G,V,e){var m=e(33428),P=e(7316),i=e(93024),L=e(76308),S=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),a=e(82744),n=a.recordMinTextSize,f=a.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),g=e(53644),h=e(3400).isValidTextValue;function T(Q,ie){var Y=Q._context.staticPlot,$=Q._fullLayout,oe=$._size;f("pie",$),w(ie,Q),Z(ie,oe);var j=v.makeTraceGroups($._pielayer,ie,"trace").each(function(X){var se=m.select(this),q=X[0],ce=q.trace;re(X),se.attr("stroke-linejoin","round"),se.each(function(){var ye=m.select(this).selectAll("g.slice").data(X);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var we=[[[],[]],[[],[]]],be=!1;ye.each(function(Ee,He){if(Ee.hidden){m.select(this).selectAll("path,g").remove();return}Ee.pointNumber=Ee.i,Ee.curveNumber=ce.index,we[Ee.pxmid[1]<0?0:1][Ee.pxmid[0]<0?0:1].push(Ee);var rt=q.cx,ot=q.cy,$e=m.select(this),qe=$e.selectAll("path.surface").data([Ee]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),$e.call(o,Q,X),ce.pull){var ht=+u.castOption(ce.pull,Ee.pts)||0;ht>0&&(rt+=ht*Ee.pxmid[0],ot+=ht*Ee.pxmid[1])}Ee.cxFinal=rt,Ee.cyFinal=ot;function vt(je,We,Pe,Re){var Xe=Re*(We[0]-je[0]),Le=Re*(We[1]-je[1]);return"a"+Re*q.r+","+Re*q.r+" 0 "+Ee.largeArc+(Pe?" 1 ":" 0 ")+Xe+","+Le}var pt=ce.hole;if(Ee.v===q.vTotal){var wt="M"+(rt+Ee.px0[0])+","+(ot+Ee.px0[1])+vt(Ee.px0,Ee.pxmid,!0,1)+vt(Ee.pxmid,Ee.px0,!0,1)+"Z";pt?qe.attr("d","M"+(rt+pt*Ee.px0[0])+","+(ot+pt*Ee.px0[1])+vt(Ee.px0,Ee.pxmid,!1,pt)+vt(Ee.pxmid,Ee.px0,!1,pt)+"Z"+wt):qe.attr("d",wt)}else{var Mt=vt(Ee.px0,Ee.px1,!0,1);if(pt){var nt=1-pt;qe.attr("d","M"+(rt+pt*Ee.px1[0])+","+(ot+pt*Ee.px1[1])+vt(Ee.px1,Ee.px0,!1,pt)+"l"+nt*Ee.px0[0]+","+nt*Ee.px0[1]+Mt+"Z")}else qe.attr("d","M"+rt+","+ot+"l"+Ee.px0[0]+","+Ee.px0[1]+Mt+"Z")}ue(Q,Ee,q);var _e=u.castOption(ce.textposition,Ee.pts),Ge=$e.selectAll("g.slicetext").data(Ee.text&&_e!=="none"?[0]:[]);Ge.enter().append("g").classed("slicetext",!0),Ge.exit().remove(),Ge.each(function(){var je=v.ensureSingle(m.select(this),"text","",function(Ne){Ne.attr("data-notex",1)}),We=v.ensureUniformFontSize(Q,_e==="outside"?d(ce,Ee,$.font):x(ce,Ee,$.font));je.text(Ee.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,We).call(t.convertToTspans,Q);var Pe=S.bBox(je.node()),Re;if(_e==="outside")Re=I(Pe,Ee);else if(Re=C(Pe,Ee,q),_e==="auto"&&Re.scale<1){var Xe=v.ensureUniformFontSize(Q,ce.outsidetextfont);je.call(S.font,Xe),Pe=S.bBox(je.node()),Re=I(Pe,Ee)}var Le=Re.textPosAngle,ve=Le===void 0?Ee.pxmid:ne(q.r,Le);if(Re.targetX=rt+ve[0]*Re.rCenter+(Re.x||0),Re.targetY=ot+ve[1]*Re.rCenter+(Re.y||0),te(Re,Pe),Re.outside){var xe=Re.targetY;Ee.yLabelMin=xe-Pe.height/2,Ee.yLabelMid=xe,Ee.yLabelMax=xe+Pe.height/2,Ee.labelExtraX=0,Ee.labelExtraY=0,be=!0}Re.fontSize=We.size,n(ce.type,Re,$),X[He].transform=Re,v.setTransormAndDisplay(je,Re)})});var De=m.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(De.enter().append("g").classed("titletext",!0),De.exit().remove(),De.each(function(){var Ee=v.ensureSingle(m.select(this),"text","",function(ot){ot.attr("data-notex",1)}),He=ce.title.text;ce._meta&&(He=v.templateString(He,ce._meta)),Ee.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,ce.title.font).call(t.convertToTspans,Q);var rt;ce.title.position==="middle center"?rt=N(q):rt=_(q,oe),Ee.attr("transform",r(rt.x,rt.y)+p(Math.min(1,rt.scale))+r(rt.tx,rt.ty))}),be&&U(we,ce),c(ye,ce),be&&ce.automargin){var ke=S.bBox(se.node()),Be=ce.domain,Ae=oe.w*(Be.x[1]-Be.x[0]),Ie=oe.h*(Be.y[1]-Be.y[0]),Me=(.5*Ae-q.r)/oe.w,Fe=(.5*Ie-q.r)/oe.h;P.autoMargin(Q,"pie."+ce.uid+".automargin",{xl:Be.x[0]-Me,xr:Be.x[1]+Me,yb:Be.y[0]-Fe,yt:Be.y[1]+Fe,l:Math.max(q.cx-q.r-ke.left,0),r:Math.max(ke.right-(q.cx+q.r),0),b:Math.max(ke.bottom-(q.cy+q.r),0),t:Math.max(q.cy-q.r-ke.top,0),pad:5})}})});setTimeout(function(){j.selectAll("tspan").each(function(){var X=m.select(this);X.attr("dy")&&X.attr("dy",X.attr("dy"))})},0)}function c(Q,ie){Q.each(function(Y){var $=m.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){$.select("path.textline").remove();return}var oe=$.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(oe,Y.transform);var j=Y.cxFinal+Y.pxmid[0],X=Y.cyFinal+Y.pxmid[1],se="M"+j+","+X,q=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var ce=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ye=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(ce)>Math.abs(ye)?se+="l"+ye*Y.pxmid[0]/Y.pxmid[1]+","+ye+"H"+(j+Y.labelExtraX+q):se+="l"+Y.labelExtraX+","+ce+"v"+(ye-ce)+"h"+q}else se+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+q;v.ensureSingle($,"path","textline").call(L.stroke,ie.outsidetextfont.color).attr({"stroke-width":Math.min(2,ie.outsidetextfont.size/8),d:se,fill:"none"})})}function o(Q,ie,Y){var $=Y[0],oe=$.cx,j=$.cy,X=$.trace,se=X.type==="funnelarea";"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),Q.on("mouseover",function(q){var ce=ie._fullLayout,ye=ie._fullData[X.index];if(!(ie._dragging||ce.hovermode===!1)){var we=ye.hoverinfo;if(Array.isArray(we)&&(we=i.castHoverinfo({hoverinfo:[u.castOption(we,q.pts)],_module:X._module},ce,0)),we==="all"&&(we="label+text+value+percent+name"),ye.hovertemplate||we!=="none"&&we!=="skip"&&we){var be=q.rInscribed||0,De=oe+q.pxmid[0]*(1-be),ke=j+q.pxmid[1]*(1-be),Be=ce.separators,Ae=[];if(we&&we.indexOf("label")!==-1&&Ae.push(q.label),q.text=u.castOption(ye.hovertext||ye.text,q.pts),we&&we.indexOf("text")!==-1){var Ie=q.text;v.isValidTextValue(Ie)&&Ae.push(Ie)}q.value=q.v,q.valueLabel=u.formatPieValue(q.v,Be),we&&we.indexOf("value")!==-1&&Ae.push(q.valueLabel),q.percent=q.v/$.vTotal,q.percentLabel=u.formatPiePercent(q.percent,Be),we&&we.indexOf("percent")!==-1&&Ae.push(q.percentLabel);var Me=ye.hoverlabel,Fe=Me.font,Ee=[];i.loneHover({trace:X,x0:De-be*$.r,x1:De+be*$.r,y:ke,_x0:se?oe+q.TL[0]:De-be*$.r,_x1:se?oe+q.TR[0]:De+be*$.r,_y0:se?j+q.TL[1]:ke-be*$.r,_y1:se?j+q.BL[1]:ke+be*$.r,text:Ae.join("<br>"),name:ye.hovertemplate||we.indexOf("name")!==-1?ye.name:void 0,idealAlign:q.pxmid[0]<0?"left":"right",color:u.castOption(Me.bgcolor,q.pts)||q.color,borderColor:u.castOption(Me.bordercolor,q.pts),fontFamily:u.castOption(Fe.family,q.pts),fontSize:u.castOption(Fe.size,q.pts),fontColor:u.castOption(Fe.color,q.pts),nameLength:u.castOption(Me.namelength,q.pts),textAlign:u.castOption(Me.align,q.pts),hovertemplate:u.castOption(ye.hovertemplate,q.pts),hovertemplateLabels:q,eventData:[g(q,ye)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:ie,inOut_bbox:Ee}),q.bbox=Ee[0],X._hasHoverLabel=!0}X._hasHoverEvent=!0,ie.emit("plotly_hover",{points:[g(q,ye)],event:m.event})}}),Q.on("mouseout",function(q){var ce=ie._fullLayout,ye=ie._fullData[X.index],we=m.select(this).datum();X._hasHoverEvent&&(q.originalEvent=m.event,ie.emit("plotly_unhover",{points:[g(we,ye)],event:m.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(i.loneUnhover(ce._hoverlayer.node()),X._hasHoverLabel=!1)}),Q.on("click",function(q){var ce=ie._fullLayout,ye=ie._fullData[X.index];ie._dragging||ce.hovermode===!1||(ie._hoverdata=[g(q,ye)],i.click(ie,m.event))})}function d(Q,ie,Y){var $=u.castOption(Q.outsidetextfont.color,ie.pts)||u.castOption(Q.textfont.color,ie.pts)||Y.color,oe=u.castOption(Q.outsidetextfont.family,ie.pts)||u.castOption(Q.textfont.family,ie.pts)||Y.family,j=u.castOption(Q.outsidetextfont.size,ie.pts)||u.castOption(Q.textfont.size,ie.pts)||Y.size,X=u.castOption(Q.outsidetextfont.weight,ie.pts)||u.castOption(Q.textfont.weight,ie.pts)||Y.weight,se=u.castOption(Q.outsidetextfont.style,ie.pts)||u.castOption(Q.textfont.style,ie.pts)||Y.style,q=u.castOption(Q.outsidetextfont.variant,ie.pts)||u.castOption(Q.textfont.variant,ie.pts)||Y.variant,ce=u.castOption(Q.outsidetextfont.textcase,ie.pts)||u.castOption(Q.textfont.textcase,ie.pts)||Y.textcase,ye=u.castOption(Q.outsidetextfont.lineposition,ie.pts)||u.castOption(Q.textfont.lineposition,ie.pts)||Y.lineposition,we=u.castOption(Q.outsidetextfont.shadow,ie.pts)||u.castOption(Q.textfont.shadow,ie.pts)||Y.shadow;return{color:$,family:oe,size:j,weight:X,style:se,variant:q,textcase:ce,lineposition:ye,shadow:we}}function x(Q,ie,Y){var $=u.castOption(Q.insidetextfont.color,ie.pts);!$&&Q._input.textfont&&($=u.castOption(Q._input.textfont.color,ie.pts));var oe=u.castOption(Q.insidetextfont.family,ie.pts)||u.castOption(Q.textfont.family,ie.pts)||Y.family,j=u.castOption(Q.insidetextfont.size,ie.pts)||u.castOption(Q.textfont.size,ie.pts)||Y.size,X=u.castOption(Q.insidetextfont.weight,ie.pts)||u.castOption(Q.textfont.weight,ie.pts)||Y.weight,se=u.castOption(Q.insidetextfont.style,ie.pts)||u.castOption(Q.textfont.style,ie.pts)||Y.style,q=u.castOption(Q.insidetextfont.variant,ie.pts)||u.castOption(Q.textfont.variant,ie.pts)||Y.variant,ce=u.castOption(Q.insidetextfont.textcase,ie.pts)||u.castOption(Q.textfont.textcase,ie.pts)||Y.textcase,ye=u.castOption(Q.insidetextfont.lineposition,ie.pts)||u.castOption(Q.textfont.lineposition,ie.pts)||Y.lineposition,we=u.castOption(Q.insidetextfont.shadow,ie.pts)||u.castOption(Q.textfont.shadow,ie.pts)||Y.shadow;return{color:$||L.contrast(ie.color),family:oe,size:j,weight:X,style:se,variant:q,textcase:ce,lineposition:ye,shadow:we}}function w(Q,ie){for(var Y,$,oe=0;oe<Q.length;oe++)if(Y=Q[oe][0],$=Y.trace,$.title.text){var j=$.title.text;$._meta&&(j=v.templateString(j,$._meta));var X=S.tester.append("text").attr("data-notex",1).text(j).call(S.font,$.title.font).call(t.convertToTspans,ie),se=S.bBox(X.node(),!0);Y.titleBox={width:se.width,height:se.height},X.remove()}}function C(Q,ie,Y){var $=Y.r||ie.rpx1,oe=ie.rInscribed,j=ie.startangle===ie.stopangle;if(j)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var X=ie.ring,se=X===1&&Math.abs(ie.startangle-ie.stopangle)===Math.PI*2,q=ie.halfangle,ce=ie.midangle,ye=Y.trace.insidetextorientation,we=ye==="horizontal",be=ye==="tangential",De=ye==="radial",ke=ye==="auto",Be=[],Ae;if(!ke){var Ie=function($e,qe){if(y(ie,$e)){var ht=Math.abs($e-ie.startangle),vt=Math.abs($e-ie.stopangle),pt=ht<vt?ht:vt;qe==="tan"?Ae=A(Q,$,X,pt,0):Ae=M(Q,$,X,pt,Math.PI/2),Ae.textPosAngle=$e,Be.push(Ae)}},Me;if(we||be){for(Me=4;Me>=-4;Me-=2)Ie(Math.PI*Me,"tan");for(Me=4;Me>=-4;Me-=2)Ie(Math.PI*(Me+1),"tan")}if(we||De){for(Me=4;Me>=-4;Me-=2)Ie(Math.PI*(Me+1.5),"rad");for(Me=4;Me>=-4;Me-=2)Ie(Math.PI*(Me+.5),"rad")}}if(se||ke||we){var Fe=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if(Ae={scale:oe*$*2/Fe,rCenter:1-oe,rotate:0},Ae.textPosAngle=(ie.startangle+ie.stopangle)/2,Ae.scale>=1)return Ae;Be.push(Ae)}(ke||De)&&(Ae=M(Q,$,X,q,ce),Ae.textPosAngle=(ie.startangle+ie.stopangle)/2,Be.push(Ae)),(ke||be)&&(Ae=A(Q,$,X,q,ce),Ae.textPosAngle=(ie.startangle+ie.stopangle)/2,Be.push(Ae));for(var Ee=0,He=0,rt=0;rt<Be.length;rt++){var ot=Be[rt].scale;if(He<ot&&(He=ot,Ee=rt),!ke&&He>=1)break}return Be[Ee]}function y(Q,ie){var Y=Q.startangle,$=Q.stopangle;return Y>ie&&ie>$||Y<ie&&ie<$}function M(Q,ie,Y,$,oe){ie=Math.max(0,ie-2*l);var j=Q.width/Q.height,X=b(j,$,ie,Y);return{scale:X*2/Q.height,rCenter:s(j,X/ie),rotate:E(oe)}}function A(Q,ie,Y,$,oe){ie=Math.max(0,ie-2*l);var j=Q.height/Q.width,X=b(j,$,ie,Y);return{scale:X*2/Q.width,rCenter:s(j,X/ie),rotate:E(oe+Math.PI/2)}}function s(Q,ie){return Math.cos(ie)-Q*ie}function E(Q){return(180/Math.PI*Q+720)%180-90}function b(Q,ie,Y,$){var oe=Q+1/(2*Math.tan(ie));return Y*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),$/(Math.sqrt(Q*Q+$/2)+Q))}function F(Q,ie){return Q.v===ie.vTotal&&!ie.trace.hole?1:Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2)}function I(Q,ie){var Y=ie.pxmid[0],$=ie.pxmid[1],oe=Q.width/2,j=Q.height/2;return Y<0&&(oe*=-1),$<0&&(j*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(j)*(oe>0?1:-1)/2,y:j/(1+Y*Y/($*$)),outside:!0}}function N(Q){var ie=Math.sqrt(Q.titleBox.width*Q.titleBox.width+Q.titleBox.height*Q.titleBox.height);return{x:Q.cx,y:Q.cy,scale:Q.trace.hole*Q.r*2/ie,tx:0,ty:-Q.titleBox.height/2+Q.trace.title.font.size}}function _(Q,ie){var Y=1,$=1,oe,j=Q.trace,X={x:Q.cx,y:Q.cy},se={tx:0,ty:0};se.ty+=j.title.font.size,oe=z(j),j.title.position.indexOf("top")!==-1?(X.y-=(1+oe)*Q.r,se.ty-=Q.titleBox.height):j.title.position.indexOf("bottom")!==-1&&(X.y+=(1+oe)*Q.r);var q=O(Q.r,Q.trace.aspectratio),ce=ie.w*(j.domain.x[1]-j.domain.x[0])/2;return j.title.position.indexOf("left")!==-1?(ce=ce+q,X.x-=(1+oe)*q,se.tx+=Q.titleBox.width/2):j.title.position.indexOf("center")!==-1?ce*=2:j.title.position.indexOf("right")!==-1&&(ce=ce+q,X.x+=(1+oe)*q,se.tx-=Q.titleBox.width/2),Y=ce/Q.titleBox.width,$=B(Q,ie)/Q.titleBox.height,{x:X.x,y:X.y,scale:Math.min(Y,$),tx:se.tx,ty:se.ty}}function O(Q,ie){return Q/(ie===void 0?1:ie)}function B(Q,ie){var Y=Q.trace,$=ie.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(Q.titleBox.height,$/2)}function z(Q){var ie=Q.pull;if(!ie)return 0;var Y;if(v.isArrayOrTypedArray(ie))for(ie=0,Y=0;Y<Q.pull.length;Y++)Q.pull[Y]>ie&&(ie=Q.pull[Y]);return ie}function U(Q,ie){var Y,$,oe,j,X,se,q,ce,ye,we,be,De,ke;function Be(Fe,Ee){return Fe.pxmid[1]-Ee.pxmid[1]}function Ae(Fe,Ee){return Ee.pxmid[1]-Fe.pxmid[1]}function Ie(Fe,Ee){Ee||(Ee={});var He=Ee.labelExtraY+($?Ee.yLabelMax:Ee.yLabelMin),rt=$?Fe.yLabelMin:Fe.yLabelMax,ot=$?Fe.yLabelMax:Fe.yLabelMin,$e=Fe.cyFinal+X(Fe.px0[1],Fe.px1[1]),qe=He-rt,ht,vt,pt,wt,Mt,nt;if(qe*q>0&&(Fe.labelExtraY=qe),!!v.isArrayOrTypedArray(ie.pull))for(vt=0;vt<we.length;vt++)pt=we[vt],!(pt===Fe||(u.castOption(ie.pull,Fe.pts)||0)>=(u.castOption(ie.pull,pt.pts)||0))&&((Fe.pxmid[1]-pt.pxmid[1])*q>0?(wt=pt.cyFinal+X(pt.px0[1],pt.px1[1]),qe=wt-rt-Fe.labelExtraY,qe*q>0&&(Fe.labelExtraY+=qe)):(ot+Fe.labelExtraY-$e)*q>0&&(ht=3*se*Math.abs(vt-we.indexOf(Fe)),Mt=pt.cxFinal+j(pt.px0[0],pt.px1[0]),nt=Mt+ht-(Fe.cxFinal+Fe.pxmid[0])-Fe.labelExtraX,nt*se>0&&(Fe.labelExtraX+=nt)))}for($=0;$<2;$++)for(oe=$?Be:Ae,X=$?Math.max:Math.min,q=$?1:-1,Y=0;Y<2;Y++){for(j=Y?Math.max:Math.min,se=Y?1:-1,ce=Q[$][Y],ce.sort(oe),ye=Q[1-$][Y],we=ye.concat(ce),De=[],be=0;be<ce.length;be++)ce[be].yLabelMid!==void 0&&De.push(ce[be]);for(ke=!1,be=0;$&&be<ye.length;be++)if(ye[be].yLabelMid!==void 0){ke=ye[be];break}for(be=0;be<De.length;be++){var Me=be&&De[be-1];ke&&!be&&(Me=ke),Ie(De[be],Me)}}}function Z(Q,ie){for(var Y=[],$=0;$<Q.length;$++){var oe=Q[$][0],j=oe.trace,X=j.domain,se=ie.w*(X.x[1]-X.x[0]),q=ie.h*(X.y[1]-X.y[0]);j.title.text&&j.title.position!=="middle center"&&(q-=B(oe,ie));var ce=se/2,ye=q/2;j.type==="funnelarea"&&!j.scalegroup&&(ye/=j.aspectratio),oe.r=Math.min(ce,ye)/(1+z(j)),oe.cx=ie.l+ie.w*(j.domain.x[1]+j.domain.x[0])/2,oe.cy=ie.t+ie.h*(1-j.domain.y[0])-q/2,j.title.text&&j.title.position.indexOf("bottom")!==-1&&(oe.cy-=B(oe,ie)),j.scalegroup&&Y.indexOf(j.scalegroup)===-1&&Y.push(j.scalegroup)}J(Q,Y)}function J(Q,ie){for(var Y,$,oe,j=0;j<ie.length;j++){var X=1/0,se=ie[j];for($=0;$<Q.length;$++)if(Y=Q[$][0],oe=Y.trace,oe.scalegroup===se){var q;if(oe.type==="pie")q=Y.r*Y.r;else if(oe.type==="funnelarea"){var ce,ye;oe.aspectratio>1?(ce=Y.r,ye=ce/oe.aspectratio):(ye=Y.r,ce=ye*oe.aspectratio),ce*=(1+oe.baseratio)/2,q=ce*ye}X=Math.min(X,q/Y.vTotal)}for($=0;$<Q.length;$++)if(Y=Q[$][0],oe=Y.trace,oe.scalegroup===se){var we=X*Y.vTotal;oe.type==="funnelarea"&&(we/=(1+oe.baseratio)/2,we/=oe.aspectratio),Y.r=Math.sqrt(we)}}}function re(Q){var ie=Q[0],Y=ie.r,$=ie.trace,oe=u.getRotationAngle($.rotation),j=2*Math.PI/ie.vTotal,X="px0",se="px1",q,ce,ye;if($.direction==="counterclockwise"){for(q=0;q<Q.length&&Q[q].hidden;q++);if(q===Q.length)return;oe+=j*Q[q].v,j*=-1,X="px1",se="px0"}for(ye=ne(Y,oe),q=0;q<Q.length;q++)ce=Q[q],!ce.hidden&&(ce[X]=ye,ce.startangle=oe,oe+=j*ce.v/2,ce.pxmid=ne(Y,oe),ce.midangle=oe,oe+=j*ce.v/2,ye=ne(Y,oe),ce.stopangle=oe,ce[se]=ye,ce.largeArc=ce.v>ie.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/ie.vTotal,.5),ce.ring=1-$.hole,ce.rInscribed=F(ce,ie))}function ne(Q,ie){return[Q*Math.sin(ie),-Q*Math.cos(ie)]}function ue(Q,ie,Y){var $=Q._fullLayout,oe=Y.trace,j=oe.texttemplate,X=oe.textinfo;if(!j&&X&&X!=="none"){var se=X.split("+"),q=function(Ee){return se.indexOf(Ee)!==-1},ce=q("label"),ye=q("text"),we=q("value"),be=q("percent"),De=$.separators,ke;if(ke=ce?[ie.label]:[],ye){var Be=u.getFirstFilled(oe.text,ie.pts);h(Be)&&ke.push(Be)}we&&ke.push(u.formatPieValue(ie.v,De)),be&&ke.push(u.formatPiePercent(ie.v/Y.vTotal,De)),ie.text=ke.join("<br>")}function Ae(Ee){return{label:Ee.label,value:Ee.v,valueLabel:u.formatPieValue(Ee.v,$.separators),percent:Ee.v/Y.vTotal,percentLabel:u.formatPiePercent(Ee.v/Y.vTotal,$.separators),color:Ee.color,text:Ee.text,customdata:v.castOption(oe,Ee.i,"customdata")}}if(j){var Ie=v.castOption(oe,ie.i,"texttemplate");if(!Ie)ie.text="";else{var Me=Ae(ie),Fe=u.getFirstFilled(oe.text,ie.pts);(h(Fe)||Fe==="")&&(Me.text=Fe),ie.text=v.texttemplateString(Ie,Me,Q._fullLayout._d3locale,Me,oe._meta||{})}}}function te(Q,ie){var Y=Q.rotate*Math.PI/180,$=Math.cos(Y),oe=Math.sin(Y),j=(ie.left+ie.right)/2,X=(ie.top+ie.bottom)/2;Q.textX=j*$-X*oe,Q.textY=j*oe+X*$,Q.noCenter=!0}G.exports={plot:T,formatSliceLabel:ue,transformInsideText:C,determineInsideTextFont:x,positionTitleOutside:_,prerenderTitles:w,layoutAreas:Z,attachFxHandlers:o,computeTransform:te}},22152:function(G,V,e){var m=e(33428),P=e(10528),i=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");i(S,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,a=m.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},10528:function(G,V,e){var m=e(76308),P=e(69656).castOption,i=e(21552);G.exports=function(S,v,p,r){var t=p.marker.line,a=P(t.color,v.pts)||m.defaultLine,n=P(t.width,v.pts)||0;S.call(i,v,p,r).style("stroke-width",n).call(m.stroke,a)}},35484:function(G,V,e){var m=e(52904);G.exports={x:m.x,y:m.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:m.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,V,e){var m=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,i=e(43080),L=e(19280).findExtremes,S=e(44928);function v(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=m(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[a*2],this.pickXYData[a*2+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:P(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},p.updateFast=function(t){var a=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,l=t.xbounds&&t.ybounds,u=t.indices,g,h,T,c=this.bounds,o,d,x;if(f){if(T=f,g=f.length>>>1,l)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<g;x++)o=T[x*2],d=T[x*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(u)h=u;else for(h=new Int32Array(g),x=0;x<g;x++)h[x]=x}else for(g=a.length,T=new Float32Array(2*g),h=new Int32Array(g),x=0;x<g;x++)o=a[x],d=n[x],h[x]=x,T[x*2]=o,T[x*2+1]=d,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var w=i(t.marker.color),C=i(t.marker.border.color),y=t.opacity*t.marker.opacity;w[3]*=y,this.pointcloudOptions.color=w;var M=t.marker.blend;if(M===null){var A=100;M=a.length<A||n.length<A}this.pointcloudOptions.blend=M,C[3]*=y,this.pointcloudOptions.borderColor=C;var s=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,F=this.scene.yaxis,I=E/2||.5;t._extremes[b._id]=L(b,[c[0],c[2]],{ppad:I}),t._extremes[F._id]=L(F,[c[1],c[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,a){var n=new v(t,a.uid);return n.update(a),n}G.exports=r},41904:function(G,V,e){var m=e(3400),P=e(35484);G.exports=function(L,S,v){function p(r,t){return m.coerce(L,S,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(S.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(S.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),S._length=null}},156:function(G,V,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,V,e){var m=e(25376),P=e(45464),i=e(22548),L=e(55756),S=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,n=e(67824).overrideAll,f=G.exports=n({hoverinfo:a({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:m({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(G,V,e){var m=e(67824).overrideAll,P=e(84888)._M,i=e(59596),L=e(65460),S=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),a="sankey";V.name=a,V.baseLayoutAttrOverrides=m({hoverlabel:L.hoverlabel},"plot","nested"),V.plot=function(f){var l=P(f.calcdata,a)[0];i(f,l),V.updateFx(f)},V.clean=function(f,l,u,g){var h=g._has&&g._has(a),T=l._has&&l._has(a);h&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(f){for(var l=0;l<f._fullData.length;l++)n(f,l)};function n(f,l){var u=f._fullData[l],g=f._fullLayout,h=g.dragmode,T=g.dragmode==="pan"?"move":"crosshair",c=u._bgRect;if(c&&!(h==="pan"||h==="zoom")){S(c,T);var o={_id:"x",c2p:r.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:r.identity,_offset:u._sankey.translateY,_length:u._sankey.height},x={gd:f,element:c.node(),plotinfo:{id:l,xaxis:o,yaxis:d,fillRangeItems:r.noop},subplot:l,xaxes:[o],yaxes:[d],doneFnCompleted:function(w){var C=f._fullData[l],y,M=C.node.groups.slice(),A=[];function s(I){for(var N=C._sankey.graph.nodes,_=0;_<N.length;_++)if(N[_].pointNumber===I)return N[_]}for(var E=0;E<w.length;E++){var b=s(w[E].pointNumber);if(b)if(b.group){for(var F=0;F<b.childrenNodes.length;F++)A.push(b.childrenNodes[F].pointNumber);M[b.pointNumber-C.node._count]=!1}else A.push(b.pointNumber)}y=M.filter(Boolean).concat([A]),t.call("_guiRestyle",f,{"node.groups":[y]},l)}};x.prepFn=function(w,C,y){p(w,C,y,x,h)},v.init(x)}}},48068:function(G,V,e){var m=e(78484),P=e(3400),i=e(71688).wrap,L=P.isArrayOrTypedArray,S=P.isIndex,v=e(8932);function p(t){var a=t.node,n=t.link,f=[],l=L(n.color),u=L(n.hovercolor),g=L(n.customdata),h={},T={},c=n.colorscales.length,o;for(o=0;o<c;o++){var d=n.colorscales[o],x=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(x);T[d.label]=w}var C=0;for(o=0;o<n.value.length;o++)n.source[o]>C&&(C=n.source[o]),n.target[o]>C&&(C=n.target[o]);var y=C+1;t.node._count=y;var M,A=t.node.groups,s={};for(o=0;o<A.length;o++){var E=A[o];for(M=0;M<E.length;M++){var b=E[M],F=y+o;s.hasOwnProperty(b)?P.warn("Node "+b+" is already part of a group."):s[b]=F}}var I={source:[],target:[]};for(o=0;o<n.value.length;o++){var N=n.value[o],_=n.source[o],O=n.target[o];if(N>0&&S(_,y)&&S(O,y)&&!(s.hasOwnProperty(_)&&s.hasOwnProperty(O)&&s[_]===s[O])){s.hasOwnProperty(O)&&(O=s[O]),s.hasOwnProperty(_)&&(_=s[_]),_=+_,O=+O,h[_]=h[O]=!0;var B="";n.label&&n.label[o]&&(B=n.label[o]);var z=null;B&&T.hasOwnProperty(B)&&(z=T[B]),f.push({pointNumber:o,label:B,color:l?n.color[o]:n.color,hovercolor:u?n.hovercolor[o]:n.hovercolor,customdata:g?n.customdata[o]:n.customdata,concentrationscale:z,source:_,target:O,value:+N}),I.source.push(_),I.target.push(O)}}var U=y+A.length,Z=L(a.color),J=L(a.customdata),re=[];for(o=0;o<U;o++)if(h[o]){var ne=a.label[o];re.push({group:o>y-1,childrenNodes:[],pointNumber:o,label:ne,color:Z?a.color[o]:a.color,customdata:J?a.customdata[o]:a.customdata})}var ue=!1;return r(U,I.source,I.target)&&(ue=!0),{circular:ue,links:f,nodes:re,groups:A,groupLookup:s}}function r(t,a,n){for(var f=P.init2dArray(t,0),l=0;l<Math.min(a.length,n.length);l++)if(P.isIndex(a[l],t)&&P.isIndex(n[l],t)){if(a[l]===n[l])return!0;f[a[l]].push(n[l])}var u=m(f);return u.components.some(function(g){return g.length>1})}G.exports=function(a,n){var f=p(n);return i({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,V,e){var m=e(3400),P=e(41440),i=e(76308),L=e(49760),S=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);G.exports=function(n,f,l,u){function g(F,I){return m.coerce(n,f,P,F,I)}var h=m.extendDeep(u.hoverlabel,n.hoverlabel),T=n.node,c=p.newContainer(f,"node");function o(F,I){return m.coerce(T,c,P.node,F,I)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(T,c,o,h),o("hovertemplate"),o("align");var d=u.colorway,x=function(F){return d[F%d.length]};o("color",c.label.map(function(F,I){return i.addOpacity(x(I),.8)})),o("customdata");var w=n.link||{},C=p.newContainer(f,"link");function y(F,I){return m.coerce(w,C,P.link,F,I)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),v(w,C,y,h),y("hovertemplate");var M=L(u.paper_bgcolor).getLuminance()<.333,A=M?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=y("color",A);function E(F){var I=L(F);if(!I.isValid())return F;var N=I.getAlpha();return N<=.8?I.setAlpha(N+.2):I=M?I.brighten():I.darken(),I.toRgbString()}y("hovercolor",Array.isArray(s)?s.map(E):E(s)),y("customdata"),r(w,C,{name:"colorscales",handleItemDefaults:t}),S(f,u,g),g("orientation"),g("valueformat"),g("valuesuffix");var b;c.x.length&&c.y.length&&(b="freeform"),g("arrangement",b),m.coerceFont(g,"textfont",u.font,{autoShadowDflt:!0}),f._length=null};function t(a,n){function f(l,u){return m.coerce(a,n,P.link.colorscales,l,u)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(G,V,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,V,e){var m=e(33428),P=e(3400),i=P.numberFormat,L=e(83248),S=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function a(d,x){return d.filter(function(w){return w.key===x.traceId})}function n(d,x){m.select(d).select("path").style("fill-opacity",x),m.select(d).select("rect").style("fill-opacity",x)}function f(d){m.select(d).select("text.name").style("fill","black")}function l(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function u(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function g(d,x,w){x&&w&&a(w,x).selectAll("."+p.sankeyLink).filter(l(x)).call(T.bind(0,x,w,!1))}function h(d,x,w){x&&w&&a(w,x).selectAll("."+p.sankeyLink).filter(l(x)).call(c.bind(0,x,w,!1))}function T(d,x,w,C){C.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),C.each(function(y){var M=y.link.label;M!==""&&a(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===M}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),w&&a(x,d).selectAll("."+p.sankeyNode).filter(u(d)).call(g)}function c(d,x,w,C){C.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),C.each(function(y){var M=y.link.label;M!==""&&a(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===M}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),w&&a(x,d).selectAll(p.sankeyNode).filter(u(d)).call(h)}function o(d,x){var w=d.hoverlabel||{},C=P.nestedProperty(w,x).get();return Array.isArray(C)?!1:C}G.exports=function(x,w){for(var C=x._fullLayout,y=C._paper,M=C._size,A=0;A<x._fullData.length;A++)if(x._fullData[A].visible&&x._fullData[A].type===p.sankey&&!x._fullData[A]._viewInitial){var s=x._fullData[A].node;x._fullData[A]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var E=function(ne,ue){var te=ue.link;te.originalEvent=m.event,x._hoverdata=[te],S.click(x,{target:!0})},b=function(ne,ue,te){x._fullLayout.hovermode!==!1&&(m.select(ne).call(T.bind(0,ue,te,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_hover",{event:m.event,points:[ue.link]})))},F=r(x,"source:")+" ",I=r(x,"target:")+" ",N=r(x,"concentration:")+" ",_=r(x,"incoming flow count:")+" ",O=r(x,"outgoing flow count:")+" ",B=function(ne,ue){if(x._fullLayout.hovermode===!1)return;var te=ue.link.trace.link;if(te.hoverinfo==="none"||te.hoverinfo==="skip")return;var Q=[];function ie(q){var ce,ye;q.circular?(ce=(q.circularPathData.leftInnerExtent+q.circularPathData.rightInnerExtent)/2,ye=q.circularPathData.verticalFullExtent):(ce=(q.source.x1+q.target.x0)/2,ye=(q.y0+q.y1)/2);var we=[ce,ye];return q.trace.orientation==="v"&&we.reverse(),we[0]+=ue.parent.translateX,we[1]+=ue.parent.translateY,we}for(var Y=0,$=0;$<ue.flow.links.length;$++){var oe=ue.flow.links[$];if(!(x._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==oe.pointNumber)){ue.link.pointNumber===oe.pointNumber&&(Y=$),oe.fullData=oe.trace,te=ue.link.trace.link;var j=ie(oe),X={valueLabel:i(ue.valueFormat)(oe.value)+ue.valueSuffix};Q.push({x:j[0],y:j[1],name:X.valueLabel,text:[oe.label||"",F+oe.source.label,I+oe.target.label,oe.concentrationscale?N+i("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:o(te,"bgcolor")||v.addOpacity(oe.color,1),borderColor:o(te,"bordercolor"),fontFamily:o(te,"font.family"),fontSize:o(te,"font.size"),fontColor:o(te,"font.color"),fontWeight:o(te,"font.weight"),fontStyle:o(te,"font.style"),fontVariant:o(te,"font.variant"),fontTextcase:o(te,"font.textcase"),fontLineposition:o(te,"font.lineposition"),fontShadow:o(te,"font.shadow"),nameLength:o(te,"namelength"),textAlign:o(te,"align"),idealAlign:m.event.x<j[0]?"right":"left",hovertemplate:te.hovertemplate,hovertemplateLabels:X,eventData:[oe]})}}var se=S.loneHover(Q,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x,anchorIndex:Y});se.each(function(){var q=this;ue.link.concentrationscale||n(q,.65),f(q)})},z=function(ne,ue,te){x._fullLayout.hovermode!==!1&&(m.select(ne).call(c.bind(0,ue,te,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,x.emit("plotly_unhover",{event:m.event,points:[ue.link]})),S.loneUnhover(C._hoverlayer.node()))},U=function(ne,ue,te){var Q=ue.node;Q.originalEvent=m.event,x._hoverdata=[Q],m.select(ne).call(h,ue,te),S.click(x,{target:!0})},Z=function(ne,ue,te){x._fullLayout.hovermode!==!1&&(m.select(ne).call(g,ue,te),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_hover",{event:m.event,points:[ue.node]})))},J=function(ne,ue){if(x._fullLayout.hovermode!==!1){var te=ue.node.trace.node;if(!(te.hoverinfo==="none"||te.hoverinfo==="skip")){var Q=m.select(ne).select("."+p.nodeRect),ie=x._fullLayout._paperdiv.node().getBoundingClientRect(),Y=Q.node().getBoundingClientRect(),$=Y.left-2-ie.left,oe=Y.right+2-ie.left,j=Y.top+Y.height/4-ie.top,X={valueLabel:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,x._fullLayout._calcInverseTransform(x);var se=x._fullLayout._invScaleX,q=x._fullLayout._invScaleY,ce=S.loneHover({x0:se*$,x1:se*oe,y:q*j,name:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,_+ue.node.targetLinks.length,O+ue.node.sourceLinks.length].filter(t).join("<br>"),color:o(te,"bgcolor")||ue.tinyColorHue,borderColor:o(te,"bordercolor"),fontFamily:o(te,"font.family"),fontSize:o(te,"font.size"),fontColor:o(te,"font.color"),fontWeight:o(te,"font.weight"),fontStyle:o(te,"font.style"),fontVariant:o(te,"font.variant"),fontTextcase:o(te,"font.textcase"),fontLineposition:o(te,"font.lineposition"),fontShadow:o(te,"font.shadow"),nameLength:o(te,"namelength"),textAlign:o(te,"align"),idealAlign:"left",hovertemplate:te.hovertemplate,hovertemplateLabels:X,eventData:[ue.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x});n(ce,.85),f(ce)}}},re=function(ne,ue,te){x._fullLayout.hovermode!==!1&&(m.select(ne).call(h,ue,te),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,x.emit("plotly_unhover",{event:m.event,points:[ue.node]})),S.loneUnhover(C._hoverlayer.node()))};L(x,y,w,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:b,follow:B,unhover:z,select:E},nodeEvents:{hover:Z,follow:J,unhover:re,select:U}})}},83248:function(G,V,e){var m=e(49812),P=e(67756).Gz,i=e(33428),L=e(26800),S=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),a=e(3400),n=a.strTranslate,f=a.strRotate,l=e(71688),u=l.keyFun,g=l.repeat,h=l.unwrap,T=e(72736),c=e(24040),o=e(84284),d=o.CAP_SHIFT,x=o.LINE_SPACING,w=3;function C(ie,Y,$){var oe=h(Y),j=oe.trace,X=j.domain,se=j.orientation==="h",q=j.node.pad,ce=j.node.thickness,ye={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[j.node.align],we=ie.width*(X.x[1]-X.x[0]),be=ie.height*(X.y[1]-X.y[0]),De=oe._nodes,ke=oe._links,Be=oe.circular,Ae;Be?Ae=S.sankeyCircular().circularLinkGap(0):Ae=L.sankey(),Ae.iterations(v.sankeyIterations).size(se?[we,be]:[be,we]).nodeWidth(ce).nodePadding(q).nodeId(function(nt){return nt.pointNumber}).nodeAlign(ye).nodes(De).links(ke);var Ie=Ae();Ae.nodePadding()<q&&a.warn("node.pad was reduced to ",Ae.nodePadding()," to fit within the figure.");var Me,Fe,Ee;for(var He in oe._groupLookup){var rt=parseInt(oe._groupLookup[He]),ot;for(Me=0;Me<Ie.nodes.length;Me++)if(Ie.nodes[Me].pointNumber===rt){ot=Ie.nodes[Me];break}if(ot){var $e={pointNumber:parseInt(He),x0:ot.x0,x1:ot.x1,y0:ot.y0,y1:ot.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ie.nodes.unshift($e),ot.childrenNodes.unshift($e)}}function qe(){for(Me=0;Me<Ie.nodes.length;Me++){var nt=Ie.nodes[Me],_e={},Ge,je;for(Fe=0;Fe<nt.targetLinks.length;Fe++)je=nt.targetLinks[Fe],Ge=je.source.pointNumber+":"+je.target.pointNumber,_e.hasOwnProperty(Ge)||(_e[Ge]=[]),_e[Ge].push(je);var We=Object.keys(_e);for(Fe=0;Fe<We.length;Fe++){Ge=We[Fe];var Pe=_e[Ge],Re=0,Xe={};for(Ee=0;Ee<Pe.length;Ee++)je=Pe[Ee],Xe[je.label]||(Xe[je.label]=0),Xe[je.label]+=je.value,Re+=je.value;for(Ee=0;Ee<Pe.length;Ee++)je=Pe[Ee],je.flow={value:Re,labelConcentration:Xe[je.label]/Re,concentration:je.value/Re,links:Pe},je.concentrationscale&&(je.color=p(je.concentrationscale(je.flow.labelConcentration)))}var Le=0;for(Fe=0;Fe<nt.sourceLinks.length;Fe++)Le+=nt.sourceLinks[Fe].value;for(Fe=0;Fe<nt.sourceLinks.length;Fe++)je=nt.sourceLinks[Fe],je.concentrationOut=je.value/Le;var ve=0;for(Fe=0;Fe<nt.targetLinks.length;Fe++)ve+=nt.targetLinks[Fe].value;for(Fe=0;Fe<nt.targetLinks.length;Fe++)je=nt.targetLinks[Fe],je.concenrationIn=je.value/ve}}qe();function ht(nt){nt.forEach(function(_e){var Ge,je,We=0,Pe=_e.length,Re;for(_e.sort(function(Xe,Le){return Xe.y0-Le.y0}),Re=0;Re<Pe;++Re)Ge=_e[Re],Ge.y0>=We||(je=We-Ge.y0,je>1e-6&&(Ge.y0+=je,Ge.y1+=je)),We=Ge.y1+q})}function vt(nt){var _e=nt.map(function(Le,ve){return{x0:Le.x0,index:ve}}).sort(function(Le,ve){return Le.x0-ve.x0}),Ge=[],je=-1,We,Pe=-1/0,Re;for(Me=0;Me<_e.length;Me++){var Xe=nt[_e[Me].index];Xe.x0>Pe+ce&&(je+=1,We=Xe.x0),Pe=Xe.x0,Ge[je]||(Ge[je]=[]),Ge[je].push(Xe),Re=We-Xe.x0,Xe.x0+=Re,Xe.x1+=Re}return Ge}if(j.node.x.length&&j.node.y.length){for(Me=0;Me<Math.min(j.node.x.length,j.node.y.length,Ie.nodes.length);Me++)if(j.node.x[Me]&&j.node.y[Me]){var pt=[j.node.x[Me]*we,j.node.y[Me]*be];Ie.nodes[Me].x0=pt[0]-ce/2,Ie.nodes[Me].x1=pt[0]+ce/2;var wt=Ie.nodes[Me].y1-Ie.nodes[Me].y0;Ie.nodes[Me].y0=pt[1]-wt/2,Ie.nodes[Me].y1=pt[1]+wt/2}if(j.arrangement==="snap"){De=Ie.nodes;var Mt=vt(De);ht(Mt)}Ae.update(Ie)}return{circular:Be,key:$,trace:j,guid:a.randstr(),horizontal:se,width:we,height:be,nodePad:j.node.pad,nodeLineColor:j.node.line.color,nodeLineWidth:j.node.line.width,linkLineColor:j.link.line.color,linkLineWidth:j.link.line.width,linkArrowLength:j.link.arrowlen,valueFormat:j.valueformat,valueSuffix:j.valuesuffix,textFont:j.textfont,translateX:X.x[0]*ie.width+ie.margin.l,translateY:ie.height-X.y[1]*ie.height+ie.margin.t,dragParallel:se?be:we,dragPerpendicular:se?we:be,arrangement:j.arrangement,sankey:Ae,graph:Ie,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(ie,Y,$){var oe=p(Y.color),j=p(Y.hovercolor),X=Y.source.label+"|"+Y.target.label,se=X+"__"+$;return Y.trace=ie.trace,Y.curveNumber=ie.trace.index,{circular:ie.circular,key:se,traceId:ie.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),tinyColorHoverHue:r.tinyRGB(j),tinyColorHoverAlpha:j.getAlpha(),linkPath:A,linkLineColor:ie.linkLineColor,linkLineWidth:ie.linkLineWidth,linkArrowLength:ie.linkArrowLength,valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,parent:ie,interactionState:ie.interactionState,flow:Y.flow}}function M(ie,Y){var $="",oe=ie.width/2,j=ie.circularPathData;return ie.circularLinkType==="top"?$="M "+(j.targetX-Y)+" "+(j.targetY+oe)+" L"+(j.rightInnerExtent-Y)+" "+(j.targetY+oe)+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightSmallArcRadius+oe)+" 0 0 1 "+(j.rightFullExtent-oe-Y)+" "+(j.targetY-j.rightSmallArcRadius)+"L"+(j.rightFullExtent-oe-Y)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightLargeArcRadius+oe)+" 0 0 1 "+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent-oe)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent-oe)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftLargeArcRadius+oe)+" 0 0 1 "+(j.leftFullExtent+oe)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+oe)+" "+(j.sourceY-j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftSmallArcRadius+oe)+" 0 0 1 "+j.leftInnerExtent+" "+(j.sourceY+oe)+"L"+j.sourceX+" "+(j.sourceY+oe)+"L"+j.sourceX+" "+(j.sourceY-oe)+"L"+j.leftInnerExtent+" "+(j.sourceY-oe)+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftSmallArcRadius-oe)+" 0 0 0 "+(j.leftFullExtent-oe)+" "+(j.sourceY-j.leftSmallArcRadius)+"L"+(j.leftFullExtent-oe)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftLargeArcRadius-oe)+" 0 0 0 "+j.leftInnerExtent+" "+(j.verticalFullExtent+oe)+"L"+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent+oe)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightLargeArcRadius-oe)+" 0 0 0 "+(j.rightFullExtent+oe-Y)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+oe-Y)+" "+(j.targetY-j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightSmallArcRadius-oe)+" 0 0 0 "+(j.rightInnerExtent-Y)+" "+(j.targetY-oe)+"L"+(j.targetX-Y)+" "+(j.targetY-oe)+(Y>0?"L"+j.targetX+" "+j.targetY:"")+"Z":$="M "+(j.targetX-Y)+" "+(j.targetY-oe)+" L"+(j.rightInnerExtent-Y)+" "+(j.targetY-oe)+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightSmallArcRadius+oe)+" 0 0 0 "+(j.rightFullExtent-oe-Y)+" "+(j.targetY+j.rightSmallArcRadius)+"L"+(j.rightFullExtent-oe-Y)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightLargeArcRadius+oe)+" 0 0 0 "+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent+oe)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent+oe)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftLargeArcRadius+oe)+" 0 0 0 "+(j.leftFullExtent+oe)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+oe)+" "+(j.sourceY+j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftSmallArcRadius+oe)+" 0 0 0 "+j.leftInnerExtent+" "+(j.sourceY-oe)+"L"+j.sourceX+" "+(j.sourceY-oe)+"L"+j.sourceX+" "+(j.sourceY+oe)+"L"+j.leftInnerExtent+" "+(j.sourceY+oe)+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftSmallArcRadius-oe)+" 0 0 1 "+(j.leftFullExtent-oe)+" "+(j.sourceY+j.leftSmallArcRadius)+"L"+(j.leftFullExtent-oe)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftLargeArcRadius-oe)+" 0 0 1 "+j.leftInnerExtent+" "+(j.verticalFullExtent-oe)+"L"+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent-oe)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightLargeArcRadius-oe)+" 0 0 1 "+(j.rightFullExtent+oe-Y)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+oe-Y)+" "+(j.targetY+j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightSmallArcRadius-oe)+" 0 0 1 "+(j.rightInnerExtent-Y)+" "+(j.targetY+oe)+"L"+(j.targetX-Y)+" "+(j.targetY+oe)+(Y>0?"L"+j.targetX+" "+j.targetY:"")+"Z",$}function A(){var ie=.5;function Y($){var oe=$.linkArrowLength;if($.link.circular)return M($.link,oe);var j=Math.abs(($.link.target.x0-$.link.source.x1)/2);oe>j&&(oe=j);var X=$.link.source.x1,se=$.link.target.x0-oe,q=P(X,se),ce=q(ie),ye=q(1-ie),we=$.link.y0-$.link.width/2,be=$.link.y0+$.link.width/2,De=$.link.y1-$.link.width/2,ke=$.link.y1+$.link.width/2,Be="M"+X+","+we,Ae="C"+ce+","+we+" "+ye+","+De+" "+se+","+De,Ie="C"+ye+","+ke+" "+ce+","+be+" "+X+","+be,Me=oe>0?"L"+(se+oe)+","+(De+$.link.width/2):"";return Me+="L"+se+","+ke,Be+Ae+Me+Ie+"Z"}return Y}function s(ie,Y){var $=p(Y.color),oe=v.nodePadAcross,j=ie.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var X=Y.dx,se=Math.max(.5,Y.dy),q="node_"+Y.pointNumber;return Y.group&&(q=a.randstr()),Y.trace=ie.trace,Y.curveNumber=ie.trace.index,{index:Y.pointNumber,key:q,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:ie.key,trace:ie.trace,node:Y,nodePad:ie.nodePad,nodeLineColor:ie.nodeLineColor,nodeLineWidth:ie.nodeLineWidth,textFont:ie.textFont,size:ie.horizontal?ie.height:ie.width,visibleWidth:Math.ceil(X),visibleHeight:se,zoneX:-oe,zoneY:-j,zoneWidth:X+2*oe,zoneHeight:se+2*j,labelY:ie.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:ie.width,forceLayouts:ie.forceLayouts,horizontal:ie.horizontal,darkBackground:$.getBrightness()<=128,tinyColorHue:r.tinyRGB($),tinyColorAlpha:$.getAlpha(),valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,graph:ie.graph,arrangement:ie.arrangement,uniqueNodeLabelPathId:[ie.guid,ie.key,q].join("_"),interactionState:ie.interactionState,figure:ie}}function E(ie){ie.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function b(ie){ie.call(E)}function F(ie,Y){ie.call(b),Y.attr("d",A())}function I(ie){ie.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function N(ie){return ie.link.width>1||ie.linkLineWidth>0}function _(ie){var Y=n(ie.translateX,ie.translateY);return Y+(ie.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(ie,Y,$){ie.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&($.hover(this,oe,Y),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&($.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&($.unhover(this,oe,Y),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&($.unhover(this,oe,Y),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&$.select(this,oe,Y)})}function B(ie,Y,$,oe){var j=i.behavior.drag().origin(function(X){return{x:X.node.x0+X.visibleWidth/2,y:X.node.y0+X.visibleHeight/2}}).on("dragstart",function(X){if(X.arrangement!=="fixed"&&(a.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(q){oe._fullLayout._dragCover=q}),a.raiseToTop(this),X.interactionState.dragInProgress=X.node,ne(X.node),X.interactionState.hovered&&($.nodeEvents.unhover.apply(0,X.interactionState.hovered),X.interactionState.hovered=!1),X.arrangement==="snap")){var se=X.traceId+"|"+X.key;X.forceLayouts[se]?X.forceLayouts[se].alpha(1):z(ie,se,X),U(ie,Y,X,se,oe)}}).on("drag",function(X){if(X.arrangement!=="fixed"){var se=i.event.x,q=i.event.y;X.arrangement==="snap"?(X.node.x0=se-X.visibleWidth/2,X.node.x1=se+X.visibleWidth/2,X.node.y0=q-X.visibleHeight/2,X.node.y1=q+X.visibleHeight/2):(X.arrangement==="freeform"&&(X.node.x0=se-X.visibleWidth/2,X.node.x1=se+X.visibleWidth/2),q=Math.max(0,Math.min(X.size-X.visibleHeight/2,q)),X.node.y0=q-X.visibleHeight/2,X.node.y1=q+X.visibleHeight/2),ne(X.node),X.arrangement!=="snap"&&(X.sankey.update(X.graph),F(ie.filter(ue(X)),Y))}}).on("dragend",function(X){if(X.arrangement!=="fixed"){X.interactionState.dragInProgress=!1;for(var se=0;se<X.node.childrenNodes.length;se++)X.node.childrenNodes[se].x=X.node.x,X.node.childrenNodes[se].y=X.node.y;X.arrangement!=="snap"&&J(X,oe)}});ie.on(".drag",null).call(j)}function z(ie,Y,$,oe){te($.graph.nodes);var j=$.graph.nodes.filter(function(X){return X.originalX===$.node.originalX}).filter(function(X){return!X.partOfGroup});$.forceLayouts[Y]=m.forceSimulation(j).alphaDecay(0).force("collide",m.forceCollide().radius(function(X){return X.dy/2+$.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",Z(ie,Y,j,$)).stop()}function U(ie,Y,$,oe,j){window.requestAnimationFrame(function X(){var se;for(se=0;se<v.forceTicksPerFrame;se++)$.forceLayouts[oe].tick();var q=$.graph.nodes;if(Q(q),$.sankey.update($.graph),F(ie.filter(ue($)),Y),$.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(X);else{var ce=$.node.originalX;$.node.x0=ce-$.visibleWidth/2,$.node.x1=ce+$.visibleWidth/2,J($,j)}})}function Z(ie,Y,$,oe){return function(){for(var X=0,se=0;se<$.length;se++){var q=$[se];q===oe.interactionState.dragInProgress?(q.x=q.lastDraggedX,q.y=q.lastDraggedY):(q.vx=(q.originalX-q.x)/v.forceTicksPerFrame,q.y=Math.min(oe.size-q.dy/2,Math.max(q.dy/2,q.y))),X=Math.max(X,Math.abs(q.vx),Math.abs(q.vy))}!oe.interactionState.dragInProgress&&X<.1&&oe.forceLayouts[Y].alpha()>0&&oe.forceLayouts[Y].alpha(0)}}function J(ie,Y){for(var $=[],oe=[],j=0;j<ie.graph.nodes.length;j++){var X=(ie.graph.nodes[j].x0+ie.graph.nodes[j].x1)/2,se=(ie.graph.nodes[j].y0+ie.graph.nodes[j].y1)/2;$.push(X/ie.figure.width),oe.push(se/ie.figure.height)}c.call("_guiRestyle",Y,{"node.x":[$],"node.y":[oe]},ie.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function re(ie){var Y=[],$;for($=0;$<ie.length;$++)ie[$].originalX=(ie[$].x0+ie[$].x1)/2,ie[$].originalY=(ie[$].y0+ie[$].y1)/2,Y.indexOf(ie[$].originalX)===-1&&Y.push(ie[$].originalX);for(Y.sort(function(oe,j){return oe-j}),$=0;$<ie.length;$++)ie[$].originalLayerIndex=Y.indexOf(ie[$].originalX),ie[$].originalLayer=ie[$].originalLayerIndex/(Y.length-1)}function ne(ie){ie.lastDraggedX=ie.x0+ie.dx/2,ie.lastDraggedY=ie.y0+ie.dy/2}function ue(ie){return function(Y){return Y.node.originalX===ie.node.originalX}}function te(ie){for(var Y=0;Y<ie.length;Y++)ie[Y].y=(ie[Y].y0+ie[Y].y1)/2,ie[Y].x=(ie[Y].x0+ie[Y].x1)/2}function Q(ie){for(var Y=0;Y<ie.length;Y++)ie[Y].y0=ie[Y].y-ie[Y].dy/2,ie[Y].y1=ie[Y].y0+ie[Y].dy,ie[Y].x0=ie[Y].x-ie[Y].dx/2,ie[Y].x1=ie[Y].x0+ie[Y].dx}G.exports=function(ie,Y,$,oe,j){var X=ie._context.staticPlot,se=!1;a.ensureSingle(ie._fullLayout._infolayer,"g","first-render",function(){se=!0});var q=ie._fullLayout._dragCover,ce=$.filter(function(Ie){return h(Ie).trace.visible}).map(C.bind(null,oe)),ye=Y.selectAll("."+v.cn.sankey).data(ce,u);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",X?"none":"auto").attr("transform",_),ye.each(function(Ie,Me){ie._fullData[Me]._sankey=Ie;var Fe="bgsankey-"+Ie.trace.uid+"-"+Me;a.ensureSingle(ie._fullLayout._draggers,"rect",Fe),ie._fullData[Me]._bgRect=i.select("."+Fe),ie._fullData[Me]._bgRect.style("pointer-events",X?"none":"all").attr("width",Ie.width).attr("height",Ie.height).attr("x",Ie.translateX).attr("y",Ie.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",_);var we=ye.selectAll("."+v.cn.sankeyLinks).data(g,u);we.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var be=we.selectAll("."+v.cn.sankeyLink).data(function(Ie){var Me=Ie.graph.links;return Me.filter(function(Fe){return Fe.value}).map(y.bind(null,Ie))},u);be.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ye,j.linkEvents),be.style("stroke",function(Ie){return N(Ie)?r.tinyRGB(p(Ie.linkLineColor)):Ie.tinyColorHue}).style("stroke-opacity",function(Ie){return N(Ie)?r.opacity(Ie.linkLineColor):Ie.tinyColorAlpha}).style("fill",function(Ie){return Ie.tinyColorHue}).style("fill-opacity",function(Ie){return Ie.tinyColorAlpha}).style("stroke-width",function(Ie){return N(Ie)?Ie.linkLineWidth:1}).attr("d",A()),be.style("opacity",function(){return ie._context.staticPlot||se||q?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),be.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var De=ye.selectAll("."+v.cn.sankeyNodeSet).data(g,u);De.enter().append("g").classed(v.cn.sankeyNodeSet,!0),De.style("cursor",function(Ie){switch(Ie.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ke=De.selectAll("."+v.cn.sankeyNode).data(function(Ie){var Me=Ie.graph.nodes;return re(Me),Me.map(s.bind(null,Ie))},u);ke.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Ie){return(ie._context.staticPlot||se)&&!Ie.partOfGroup?1:0}),ke.call(O,ye,j.nodeEvents).call(B,be,j,ie),ke.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Ie){return Ie.partOfGroup?0:1}),ke.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Be=ke.selectAll("."+v.cn.nodeRect).data(g);Be.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Be.style("stroke-width",function(Ie){return Ie.nodeLineWidth}).style("stroke",function(Ie){return r.tinyRGB(p(Ie.nodeLineColor))}).style("stroke-opacity",function(Ie){return r.opacity(Ie.nodeLineColor)}).style("fill",function(Ie){return Ie.tinyColorHue}).style("fill-opacity",function(Ie){return Ie.tinyColorAlpha}),Be.transition().ease(v.ease).duration(v.duration).call(I);var Ae=ke.selectAll("."+v.cn.nodeLabel).data(g);Ae.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Ae.attr("data-notex",1).text(function(Ie){return Ie.node.label}).each(function(Ie){var Me=i.select(this);t.font(Me,Ie.textFont),T.convertToTspans(Me,ie)}).attr("text-anchor",function(Ie){return Ie.horizontal&&Ie.left?"end":"start"}).attr("transform",function(Ie){var Me=i.select(this),Fe=T.lineCount(Me),Ee=Ie.textFont.size*((Fe-1)*x-d),He=Ie.nodeLineWidth/2+w,rt=((Ie.horizontal?Ie.visibleHeight:Ie.visibleWidth)-Ee)/2;Ie.horizontal&&(Ie.left?He=-He:He+=Ie.visibleWidth);var ot=Ie.horizontal?"":"scale(-1,1)"+f(90);return n(Ie.horizontal?He:rt,Ie.horizontal?rt:He)+ot}),Ae.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,m){for(var P=e.cd,i=[],L=P[0].trace,S=L._sankey.graph.nodes,v=0;v<S.length;v++){var p=S[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),m&&m.contains(r,!1,v,e)&&i.push({pointNumber:p.pointNumber})}}return i}},20148:function(G,V,e){var m=e(3400);G.exports=function(i,L){for(var S=0;S<i.length;S++)i[S].i=S;m.mergeArray(L.text,i,"tx"),m.mergeArray(L.texttemplate,i,"txt"),m.mergeArray(L.hovertext,i,"htx"),m.mergeArray(L.customdata,i,"data"),m.mergeArray(L.textposition,i,"tp"),L.textfont&&(m.mergeArrayCastPositive(L.textfont.size,i,"ts"),m.mergeArray(L.textfont.color,i,"tc"),m.mergeArray(L.textfont.family,i,"tf"),m.mergeArray(L.textfont.weight,i,"tw"),m.mergeArray(L.textfont.style,i,"ty"),m.mergeArray(L.textfont.variant,i,"tv"),m.mergeArray(L.textfont.textcase,i,"tC"),m.mergeArray(L.textfont.lineposition,i,"tE"),m.mergeArray(L.textfont.shadow,i,"tS"));var v=L.marker;if(v){m.mergeArrayCastPositive(v.size,i,"ms"),m.mergeArrayCastPositive(v.opacity,i,"mo"),m.mergeArray(v.symbol,i,"mx"),m.mergeArray(v.angle,i,"ma"),m.mergeArray(v.standoff,i,"mf"),m.mergeArray(v.color,i,"mc");var p=v.line;v.line&&(m.mergeArray(p.color,i,"mlc"),m.mergeArrayCastPositive(p.width,i,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(m.mergeArray(r.type,i,"mgt"),m.mergeArray(r.color,i,"mgc"))}}},52904:function(G,V,e){var m=e(29736).axisHoverFormat,P=e(21776).Gw,i=e(21776).Ks,L=e(49084),S=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),a=e(92880).extendFlat,n=e(98304);function f(g){return{valType:"any",dflt:0,editType:"calc"}}function l(g){return{valType:"any",editType:"calc"}}function u(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:l(),yperiod0:l(),xperiodalignment:u(),yperiodalignment:u(),xhoverformat:m("x"),yhoverformat:m("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:a({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(G,V,e){var m=e(38248),P=e(3400),i=e(54460),L=e(1220),S=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function a(h,T){var c=h._fullLayout,o=T._xA=i.getFromId(h,T.xaxis||"x","x"),d=T._yA=i.getFromId(h,T.yaxis||"y","y"),x=o.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),C=L(T,o,"x",x),y=L(T,d,"y",w),M=C.vals,A=y.vals,s=T._length,E=new Array(s),b=T.ids,F=g(T,c,o,d),I=!1,N,_,O,B,z,U;l(c,T);var Z="x",J="y",re;if(F)P.pushUnique(F.traceIndices,T._expandedIndex),N=F.orientation==="v",N?(J="s",re="x"):(Z="s",re="y"),z=F.stackgaps==="interpolate";else{var ne=f(T,s);n(h,T,o,d,M,A,ne)}var ue=!!T.xperiodalignment,te=!!T.yperiodalignment;for(_=0;_<s;_++){var Q=E[_]={},ie=m(M[_]),Y=m(A[_]);ie&&Y?(Q[Z]=M[_],Q[J]=A[_],ue&&(Q.orig_x=x[_],Q.xEnd=C.ends[_],Q.xStart=C.starts[_]),te&&(Q.orig_y=w[_],Q.yEnd=y.ends[_],Q.yStart=y.starts[_])):F&&(N?ie:Y)?(Q[re]=N?M[_]:A[_],Q.gap=!0,z?(Q.s=S,I=!0):Q.s=0):Q[Z]=Q[J]=S,b&&(Q.id=String(b[_]))}if(r(E,T),p(h,T),t(E,T),F){for(_=0;_<E.length;)E[_][re]===S?E.splice(_,1):_++;if(P.sort(E,function(X,se){return X[re]-se[re]||X.i-se.i}),I){for(_=0;_<E.length-1&&E[_].gap;)_++;for(U=E[_].s,U||(U=E[_].s=0),O=0;O<_;O++)E[O].s=U;for(B=E.length-1;B>_&&E[B].gap;)B--;for(U=E[B].s,O=E.length-1;O>B;O--)E[O].s=U;for(;_<B;)if(_++,E[_].gap){for(O=_+1;E[O].gap;)O++;for(var $=E[_-1][re],oe=E[_-1].s,j=(E[O].s-oe)/(E[O][re]-$);_<O;)E[_].s=oe+(E[_][re]-$)*j,_++}}}return E}function n(h,T,c,o,d,x,w){var C=T._length,y=h._fullLayout,M=c._id,A=o._id,s=y._firstScatter[u(T)]===T.uid,E=(g(T,y,c,o)||{}).orientation,b=T.fill;c._minDtick=0,o._minDtick=0;var F={padded:!0},I={padded:!0};w&&(F.ppad=I.ppad=w);var N=C<2||d[0]!==d[C-1]||x[0]!==x[C-1];N&&(b==="tozerox"||b==="tonextx"&&(s||E==="h"))?F.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(F.padded=!1,F.ppad=0),N&&(b==="tozeroy"||b==="tonexty"&&(s||E==="v"))?I.tozero=!0:(b==="tonextx"||b==="tozerox")&&(I.padded=!1),M&&(T._extremes[M]=i.findExtremes(c,d,F)),A&&(T._extremes[A]=i.findExtremes(o,x,I))}function f(h,T){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(M){return Math.max(Math.sqrt((M||0)/o),3)}:d=function(M){return Math.max((M||0)/o,3)},P.isArrayOrTypedArray(c.size)){var x={type:"linear"};i.setConvert(x);for(var w=x.makeCalcdata(h.marker,"size"),C=new Array(T),y=0;y<T;y++)C[y]=d(w[y]);return C}else return d(c.size)}}function l(h,T){var c=u(T),o=h._firstScatter;o[c]||(o[c]=T.uid)}function u(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function g(h,T,c,o){var d=h.stackgroup;if(d){var x=T._scatterStackOpts[c._id+o._id][d],w=x.orientation==="v"?o:c;if(w.type==="linear"||w.type==="log")return x}}G.exports={calc:a,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:l,getStackOpts:g}},4500:function(G,V,e){var m=e(3400);G.exports=function(i,L){m.isArrayOrTypedArray(L.selectedpoints)&&m.tagSelected(i,L)}},90136:function(G,V,e){var m=e(94288).hasColorscale,P=e(47128),i=e(43028);G.exports=function(S,v){i.hasLines(v)&&m(v,"line")&&P(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(v)&&(m(v,"marker")&&P(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),m(v,"marker.line")&&P(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,V,e){var m=e(16356),P=e(96376).setGroupPositions;function i(v,p){for(var r=p.xaxis,t=p.yaxis,a=v._fullLayout,n=v._fullData,f=v.calcdata,l=[],u=[],g=0;g<n.length;g++){var h=n[g];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?l.push(f[g]):h.orientation==="v"&&u.push(f[g]))}var T={mode:a.scattermode,gap:a.scattergap};P(v,r,t,u,T),P(v,t,r,l,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&i(p,r);var t=r.xaxis,a=r.yaxis,n=t._id+a._id,f=p._fullLayout._scatterStackOpts[n];if(f){var l=p.calcdata,u,g,h,T,c,o,d,x,w,C,y,M,A,s,E;for(var b in f){C=f[b];var F=C.traceIndices;if(F.length){for(y=C.stackgaps==="interpolate",M=C.groupnorm,C.orientation==="v"?(A="x",s="y"):(A="y",s="x"),E=new Array(F.length),u=0;u<E.length;u++)E[u]=!1;o=l[F[0]];var I=new Array(o.length);for(u=0;u<o.length;u++)I[u]=o[u][A];for(u=1;u<F.length;u++){for(c=l[F[u]],g=h=0;g<c.length;g++){for(d=c[g][A];d>I[h]&&h<I.length;h++)L(c,g,I[h],u,E,y,A),g++;if(d!==I[h]){for(T=0;T<u;T++)L(l[F[T]],h,d,T,E,y,A);I.splice(h,0,d)}h++}for(;h<I.length;h++)L(c,g,I[h],u,E,y,A),g++}var N=I.length;for(g=0;g<o.length;g++){for(x=o[g][s]=o[g].s,u=1;u<F.length;u++)c=l[F[u]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,x+=c[g].s,c[g][s]=x;if(M)for(w=(M==="fraction"?x:x/100)||1,u=0;u<F.length;u++){var _=l[F[u]][g];_[s]/=w,_.sNorm=_.s/w}}for(u=0;u<F.length;u++){c=l[F[u]];var O=c[0].trace,B=m.calcMarkerSize(O,O._rawLength),z=Array.isArray(B);if(B&&E[u]||z){var U=B;for(B=new Array(N),g=0;g<N;g++)B[g]=c[g].gap?0:z?U[c[g].i]:U}var Z=new Array(N),J=new Array(N);for(g=0;g<N;g++)Z[g]=c[g].x,J[g]=c[g].y;m.calcAxisExpansion(p,O,t,a,Z,J,B),c[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,a,n,f){a[t]=!0;var l={i:null,gap:!0,s:0};if(l[f]=r,v.splice(p,0,l),p&&r===v[p-1][f]){var u=v[p-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else n&&(l.s=S(v,p,r,f));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,p,r,t){var a=v[p-1],n=v[p+1];return n?a?a.s+(n.s-a.s)*(r-a[t])/(n[t]-a[t]):n.s:a.s}},35036:function(G,V,e){var m=e(3400),P=e(20011),i=e(52904);G.exports=function(S,v){var p,r,t;function a(g){return m.coerce(r._input,r,i,g)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(p=r._input,P(p,r,v,a));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var l=t-1;l>=0;l--){var u=S[l];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},18800:function(G,V,e){var m=e(3400),P=e(24040),i=e(52904),L=e(88200),S=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),a=e(66828),n=e(11731),f=e(124),l=e(70840),u=e(3400).coercePattern;G.exports=function(h,T,c,o){function d(E,b){return m.coerce(h,T,i,E,b)}var x=v(h,T,o,d);if(x||(T.visible=!1),!!T.visible){p(h,T,o,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=r(h,T,o,d);o.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!w&&x<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),S.hasMarkers(T)&&t(h,T,c,o,d,{gradient:!0}),S.hasLines(T)&&(a(h,T,c,o,d,{backoff:!0}),n(h,T,d),d("connectgaps"),d("line.simplify")),S.hasText(T)&&(d("texttemplate"),f(h,T,o,d));var y=[];(S.hasMarkers(T)||S.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(l(h,T,c,d,{moduleHasFillgradient:!0}),S.hasLines(T)||n(h,T,d),u(d,"fillpattern",T.fillcolor,!1));var M=(T.line||{}).color,A=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var s=P.getComponentMethod("errorbars","supplyDefaults");s(h,T,M||A||c,{axis:"y"}),s(h,T,M||A||c,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(T,d)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,V,e){var m=e(76308),P=e(3400).isArrayOrTypedArray;function i(L){for(var S=m.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var p=m.interpolate(L[v-1][1],L[v][1],.5);S=m.interpolate(S,p,L[v-1][0]/L[v][0])}return S}G.exports=function(S,v,p,r,t){t||(t={});var a=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!P(n)?a=n:f&&!P(f)&&(a=f)}var l;if(t.moduleHasFillgradient){var u=r("fillgradient.type");if(u!=="none"){r("fillgradient.start"),r("fillgradient.stop");var g=r("fillgradient.colorscale");g&&(l=i(g))}}r("fillcolor",m.addOpacity((v.line||{}).color||a||l||p,.5))}},76688:function(G,V,e){var m=e(54460);G.exports=function(i,L,S){var v={},p={_fullLayout:S},r=m.getFromTrace(p,L,"x"),t=m.getFromTrace(p,L,"y"),a=i.orig_x;a===void 0&&(a=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),v.xLabel=m.tickText(r,r.c2l(a),!0).text,v.yLabel=m.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,V,e){var m=e(76308),P=e(43028);G.exports=function(L,S){var v,p;if(L.mode==="lines")return v=L.line.color,v&&m.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=S.mcc||(L.marker||{}).color,t=S.mlcc||((L.marker||{}).line||{}).color;return p=r&&m.opacity(r)?r:t&&m.opacity(t)&&(S.mlw||((L.marker||{}).line||{}).width)?t:"",p?m.opacity(p)<.3?m.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&m.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},20011:function(G,V,e){var m=e(71888).getAxisGroup;G.exports=function(i,L,S,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=m(S,r)+p,a=S._alignmentOpts||{},n=v("alignmentgroup"),f=a[t];f||(f=a[t]={});var l=f[n];l?l.traces.push(L):l=f[n]={traces:[L],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var u=v("offsetgroup"),g=l.offsetGroups,h=g[u];u&&(h||(h=g[u]={offsetIndex:Object.keys(g).length}),L._offsetIndex=h.offsetIndex)}},98723:function(G,V,e){var m=e(3400),P=e(93024),i=e(24040),L=e(44928),S=e(76308),v=m.fillText;G.exports=function(r,t,a,n){var f=r.cd,l=f[0].trace,u=r.xa,g=r.ya,h=u.c2p(t),T=g.c2p(a),c=[h,T],o=l.hoveron||"",d=l.mode.indexOf("markers")!==-1?3:.5,x=!!l.xperiodalignment,w=!!l.yperiodalignment;if(o.indexOf("points")!==-1){var C=function(re){if(x){var ne=u.c2p(re.xStart),ue=u.c2p(re.xEnd);return h>=Math.min(ne,ue)&&h<=Math.max(ne,ue)?0:1/0}var te=Math.max(3,re.mrc||0),Q=1-1/te,ie=Math.abs(u.c2p(re.x)-h);return ie<te?Q*ie/te:ie-te+Q},y=function(re){if(w){var ne=g.c2p(re.yStart),ue=g.c2p(re.yEnd);return T>=Math.min(ne,ue)&&T<=Math.max(ne,ue)?0:1/0}var te=Math.max(3,re.mrc||0),Q=1-1/te,ie=Math.abs(g.c2p(re.y)-T);return ie<te?Q*ie/te:ie-te+Q},M=function(re){var ne=Math.max(d,re.mrc||0),ue=u.c2p(re.x)-h,te=g.c2p(re.y)-T;return Math.max(Math.sqrt(ue*ue+te*te)-ne,1-d/ne)},A=P.getDistanceFunction(n,C,y,M);if(P.getClosest(f,A,r),r.index!==!1){var s=f[r.index],E=u.c2p(s.x,!0),b=g.c2p(s.y,!0),F=s.mrc||1;r.index=s.i;var I=f[0].t.orientation,N=I&&(s.sNorm||s.s),_=I==="h"?N:s.orig_x!==void 0?s.orig_x:s.x,O=I==="v"?N:s.orig_y!==void 0?s.orig_y:s.y;return m.extendFlat(r,{color:L(l,s),x0:E-F,x1:E+F,xLabelVal:_,y0:b-F,y1:b+F,yLabelVal:O,spikeDistance:M(s),hovertemplate:l.hovertemplate}),v(s,l,r),i.getComponentMethod("errorbars","hoverInfo")(s,l,r),[r]}}function B(re){if(!re)return!1;var ne=re.node();try{var ue=new DOMPoint(c[0],c[1]);return ne.isPointInFill(ue)}catch{var te=ne.ownerSVGElement.createSVGPoint();return te.x=c[0],te.y=c[1],ne.isPointInFill(te)}}function z(re){var ne,ue=[],te=1/0,Q=-1/0,ie=1/0,Y=-1/0,$;for(ne=0;ne<re.length;ne++){var oe=re[ne];oe.contains(c)&&(ue.push(oe),ie=Math.min(ie,oe.ymin),Y=Math.max(Y,oe.ymax))}if(ue.length===0)return null;ie=Math.max(ie,0),Y=Math.min(Y,g._length),$=(ie+Y)/2;var j,X,se,q,ce,ye,we;for(ne=0;ne<ue.length;ne++)for(X=ue[ne].pts,j=1;j<X.length;j++)ye=X[j-1][1],we=X[j][1],ye>$!=we>=$&&(q=X[j-1][0],ce=X[j][0],we-ye&&(se=q+(ce-q)*($-ye)/(we-ye),te=Math.min(te,se),Q=Math.max(Q,se)));return te=Math.max(te,0),Q=Math.min(Q,u._length),{x0:te,x1:Q,y0:$,y1:$}}if(o.indexOf("fills")!==-1&&l._fillElement){var U=B(l._fillElement)&&!B(l._fillExclusionElement);if(U){var Z=z(l._polygons);Z===null&&(Z={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var J=S.defaultLine;return S.opacity(l.fillcolor)?J=l.fillcolor:S.opacity((l.line||{}).color)&&(J=l.line.color),m.extendFlat(r,{distance:r.maxHoverDistance,x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1,color:J,hovertemplate:!1}),delete r.index,l.text&&!m.isArrayOrTypedArray(l.text)?r.text=String(l.text):r.text=l.name,[r]}}}},65875:function(G,V,e){var m=e(43028);G.exports={hasLines:m.hasLines,hasMarkers:m.hasMarkers,hasText:m.hasText,isBubble:m.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,V,e){var m=e(3400),P=e(55308);G.exports=function(i,L){function S(p,r){return m.coerce(i,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&S("scattergap",v?L.bargap:.2)}},66828:function(G,V,e){var m=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,i=e(27260);G.exports=function(S,v,p,r,t,a){a||(a={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(S,"line"))i(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(m(n)?!1:n)||p;t("line.color",f)}t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(G,V,e){var m=e(43616),P=e(39032),i=P.BADNUM,L=P.LOG_CLIP,S=L+.5,v=L-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,a=e(88200);G.exports=function(f,l){var u=l.trace||{},g=l.xaxis,h=l.yaxis,T=g.type==="log",c=h.type==="log",o=g._length,d=h._length,x=l.backoff,w=u.marker,C=l.connectGaps,y=l.baseTolerance,M=l.shape,A=M==="linear",s=u.fill&&u.fill!=="none",E=[],b=a.minTolerance,F=f.length,I=new Array(F),N=0,_,O,B,z,U,Z,J,re,ne,ue,te,Q,ie,Y,$,oe;function j(st){var lt=f[st];if(!lt)return!1;var Gt=l.linearized?g.l2p(lt.x):g.c2p(lt.x),jt=l.linearized?h.l2p(lt.y):h.c2p(lt.y);if(Gt===i){if(T&&(Gt=g.c2p(lt.x,!0)),Gt===i)return!1;c&&jt===i&&(Gt*=Math.abs(g._m*d*(g._m>0?S:v)/(h._m*o*(h._m>0?S:v)))),Gt*=1e3}if(jt===i){if(c&&(jt=h.c2p(lt.y,!0)),jt===i)return!1;jt*=1e3}return[Gt,jt]}function X(st,lt,Gt,jt){var Tt=Gt-st,Dt=jt-lt,Xt=.5-st,gr=.5-lt,gt=Tt*Tt+Dt*Dt,Zt=Tt*Xt+Dt*gr;if(Zt>0&&Zt<gt){var Qt=Xt*Dt-gr*Tt;if(Qt*Qt<gt)return!0}}var se,q;function ce(st,lt){var Gt=st[0]/o,jt=st[1]/d,Tt=Math.max(0,-Gt,Gt-1,-jt,jt-1);return Tt&&se!==void 0&&X(Gt,jt,se,q)&&(Tt=0),Tt&&lt&&X(Gt,jt,lt[0]/o,lt[1]/d)&&(Tt=0),(1+a.toleranceGrowth*Tt)*y}function ye(st,lt){var Gt=st[0]-lt[0],jt=st[1]-lt[1];return Math.sqrt(Gt*Gt+jt*jt)}var we=a.maxScreensAway,be=-o*we,De=o*(1+we),ke=-d*we,Be=d*(1+we),Ae=[[be,ke,De,ke],[De,ke,De,Be],[De,Be,be,Be],[be,Be,be,ke]],Ie,Me,Fe,Ee,He,rt;function ot(st,lt){for(var Gt=[],jt=0,Tt=0;Tt<4;Tt++){var Dt=Ae[Tt],Xt=r(st[0],st[1],lt[0],lt[1],Dt[0],Dt[1],Dt[2],Dt[3]);Xt&&(!jt||Math.abs(Xt.x-Gt[0][0])>1||Math.abs(Xt.y-Gt[0][1])>1)&&(Xt=[Xt.x,Xt.y],jt&&ye(Xt,st)<ye(Gt[0],st)?Gt.unshift(Xt):Gt.push(Xt),jt++)}return Gt}function $e(st){if(st[0]<be||st[0]>De||st[1]<ke||st[1]>Be)return[t(st[0],be,De),t(st[1],ke,Be)]}function qe(st,lt){if(st[0]===lt[0]&&(st[0]===be||st[0]===De)||st[1]===lt[1]&&(st[1]===ke||st[1]===Be))return!0}function ht(st,lt){var Gt=[],jt=$e(st),Tt=$e(lt);return jt&&Tt&&qe(jt,Tt)||(jt&&Gt.push(jt),Tt&&Gt.push(Tt)),Gt}function vt(st,lt,Gt){return function(jt,Tt){var Dt=$e(jt),Xt=$e(Tt),gr=[];if(Dt&&Xt&&qe(Dt,Xt))return gr;Dt&&gr.push(Dt),Xt&&gr.push(Xt);var gt=2*p.constrain((jt[st]+Tt[st])/2,lt,Gt)-((Dt||jt)[st]+(Xt||Tt)[st]);if(gt){var Zt;Dt&&Xt?Zt=gt>0==Dt[st]>Xt[st]?Dt:Xt:Zt=Dt||Xt,Zt[st]+=gt}return gr}}var pt;M==="linear"||M==="spline"?pt=ot:M==="hv"||M==="vh"?pt=ht:M==="hvh"?pt=vt(0,be,De):M==="vhv"&&(pt=vt(1,ke,Be));function wt(st,lt){var Gt=lt[0]-st[0],jt=(lt[1]-st[1])/Gt,Tt=(st[1]*lt[0]-lt[1]*st[0])/Gt;return Tt>0?[jt>0?be:De,Be]:[jt>0?De:be,ke]}function Mt(st){var lt=st[0],Gt=st[1],jt=lt===I[N-1][0],Tt=Gt===I[N-1][1];if(!(jt&&Tt))if(N>1){var Dt=lt===I[N-2][0],Xt=Gt===I[N-2][1];jt&&(lt===be||lt===De)&&Dt?Xt?N--:I[N-1]=st:Tt&&(Gt===ke||Gt===Be)&&Xt?Dt?N--:I[N-1]=st:I[N++]=st}else I[N++]=st}function nt(st){I[N-1][0]!==st[0]&&I[N-1][1]!==st[1]&&Mt([Fe,Ee]),Mt(st),He=null,Fe=Ee=0}var _e=p.isArrayOrTypedArray(w);function Ge(st){if(st&&x&&(st.i=_,st.d=f,st.trace=u,st.marker=_e?w[st.i]:w,st.backoff=x),se=st[0]/o,q=st[1]/d,Ie=st[0]<be?be:st[0]>De?De:0,Me=st[1]<ke?ke:st[1]>Be?Be:0,Ie||Me){if(!N)I[N++]=[Ie||st[0],Me||st[1]];else if(He){var lt=pt(He,st);lt.length>1&&(nt(lt[0]),I[N++]=lt[1])}else rt=pt(I[N-1],st)[0],I[N++]=rt;var Gt=I[N-1];Ie&&Me&&(Gt[0]!==Ie||Gt[1]!==Me)?(He&&(Fe!==Ie&&Ee!==Me?Mt(Fe&&Ee?wt(He,st):[Fe||Ie,Ee||Me]):Fe&&Ee&&Mt([Fe,Ee])),Mt([Ie,Me])):Fe-Ie&&Ee-Me&&Mt([Ie||Fe,Me||Ee]),He=st,Fe=Ie,Ee=Me}else He&&nt(pt(He,st)[0]),I[N++]=st}for(_=0;_<F;_++)if(O=j(_),!!O){for(N=0,He=null,Ge(O),_++;_<F;_++){if(z=j(_),!z){if(C)continue;break}if(!A||!l.simplify){Ge(z);continue}var je=j(_+1);if(ue=ye(z,O),!(!(s&&(N===0||N===F-1))&&ue<ce(z,je)*b)){for(re=[(z[0]-O[0])/ue,(z[1]-O[1])/ue],U=O,te=ue,Q=Y=$=0,J=!1,B=z,_++;_<f.length;_++){if(Z=je,je=j(_+1),!Z){if(C)continue;break}if(ne=[Z[0]-O[0],Z[1]-O[1]],oe=ne[0]*re[1]-ne[1]*re[0],Y=Math.min(Y,oe),$=Math.max($,oe),$-Y>ce(Z,je))break;B=Z,ie=ne[0]*re[0]+ne[1]*re[1],ie>te?(te=ie,z=Z,J=!1):ie<Q&&(Q=ie,U=Z,J=!0)}if(J?(Ge(z),B!==U&&Ge(U)):(U!==O&&Ge(U),B!==z&&Ge(z)),Ge(B),_>=f.length||!Z)break;Ge(Z),O=Z}}He&&Mt([Fe||He[0],Ee||He[1]]),E.push(I.slice(0,N))}var We=M.slice(M.length-1);if(x&&We!=="h"&&We!=="v"){for(var Pe=!1,Re=-1,Xe=[],Le=0;Le<E.length;Le++)for(var ve=0;ve<E[Le].length-1;ve++){var xe=E[Le][ve],Ne=E[Le][ve+1],et=m.applyBackoff(Ne,xe);(et[0]!==Ne[0]||et[1]!==Ne[1])&&(Pe=!0),Xe[Re+1]||(Re++,Xe[Re]=[xe,[et[0],et[1]]])}return Pe?Xe:E}return E}},11731:function(G){G.exports=function(e,m,P){var i=P("line.shape");i==="spline"&&P("line.smoothing")}},14328:function(G){var V={tonextx:1,tonexty:1,tonext:1};G.exports=function(m,P,i){var L,S,v,p,r,t={},a=!1,n=-1,f=0,l=-1;for(S=0;S<i.length;S++)L=i[S][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):L.fill in V&&l>=0?r=l:(r=l=f,f++),r<n&&(a=!0),L._groupIndex=n=r;var u=i.slice();a&&u.sort(function(h,T){var c=h[0].trace,o=T[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var g={};for(S=0;S<u.length;S++)L=u[S][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in V&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return u}},7152:function(G,V,e){var m=e(38248);G.exports=function(i,L){L||(L=2);var S=i.marker,v=S.sizeref||1,p=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=r(t/L);return m(a)&&a>0?Math.max(a,p):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,V,e){var m=e(76308),P=e(94288).hasColorscale,i=e(27260),L=e(43028);G.exports=function(v,p,r,t,a,n){var f=L.isBubble(v),l=(v.line||{}).color,u;if(n=n||{},l&&(r=l),a("marker.symbol"),a("marker.opacity",f?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",r),P(v,"marker")&&i(v,p,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(l&&!Array.isArray(l)&&p.marker.color!==l?u=l:f?u=m.background:u=m.defaultLine,a("marker.line.color",u),P(v,"marker.line")&&i(v,p,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",f?1:0)),f&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient){var g=a("marker.gradient.type");g!=="none"&&a("marker.gradient.color")}}},31147:function(G,V,e){var m=e(3400).dateTick0,P=e(39032),i=P.ONEWEEK;function L(S,v){return S%i===0?m(v,1):m(v,0)}G.exports=function(v,p,r,t,a){if(a||(a={x:!0,y:!0}),a.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(a.y){var f=t("yperiod");f&&(t("yperiod0",L(f,p.ycalendar)),t("yperiodalignment"))}}},96504:function(G,V,e){var m=e(33428),P=e(24040),i=e(3400),L=i.ensureSingle,S=i.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),a=e(92065).tester;G.exports=function(g,h,T,c,o,d){var x,w,C=!o,y=!!o&&o.duration>0,M=t(g,h,T);if(x=c.selectAll("g.trace").data(M,function(s){return s[0].trace.uid}),x.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(g,x,h),y){d&&(w=d());var A=m.transition().duration(o.duration).ease(o.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});A.each(function(){c.selectAll("g.trace").each(function(s,E){f(g,E,h,s,M,this,o)})})}else x.each(function(s,E){f(g,E,h,s,M,this,o)});C&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function n(u,g,h){g.each(function(T){var c=L(m.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,u);var o=T[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var x=c.selectAll("g").data(d,S);x.enter().append("g"),x.exit().each(function(w){o[w]=null}).remove(),x.order().each(function(w){o[w]=L(m.select(this),"path","js-fill")})})}function f(u,g,h,T,c,o,d){var x=u._context.staticPlot,w;l(u,g,h,T,c);var C=!!d&&d.duration>0;function y(Mt){return C?Mt.transition():Mt}var M=h.xaxis,A=h.yaxis,s=T[0].trace,E=s.line,b=m.select(o),F=L(b,"g","errorbars"),I=L(b,"g","lines"),N=L(b,"g","points"),_=L(b,"g","text");if(P.getComponentMethod("errorbars","plot")(u,F,h,d),s.visible!==!0)return;y(b).style("opacity",s.opacity);var O,B,z=s.fill.charAt(s.fill.length-1);z!=="x"&&z!=="y"&&(z="");var U,Z;z==="y"?(U=1,Z=A.c2p(0,!0)):z==="x"&&(U=0,Z=M.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=b;var J="",re=[],ne=s._prevtrace,ue=null,te=null;ne&&(J=ne._prevRevpath||"",B=ne._nextFill,re=ne._ownPolygons,ue=ne._fillsegments,te=ne._fillElement);var Q,ie,Y="",$="",oe,j,X,se,q,ce,ye=[];s._polygons=[];var we=[],be=[],De=i.noop;if(O=s._ownFill,p.hasLines(s)||s.fill!=="none"){B&&B.datum(T),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(oe=v.steps(E.shape),j=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?oe=j=function(Mt){var nt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===nt[0]&&Mt[0][1]===nt[1]?v.smoothclosed(Mt.slice(1),E.smoothing):v.smoothopen(Mt,E.smoothing)}:oe=j=function(Mt){return"M"+Mt.join("L")},X=function(Mt){return j(Mt.reverse())},be=r(T,{xaxis:M,yaxis:A,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:s.fill}),we=new Array(be.length);var ke=0;for(w=0;w<be.length;w++){var Be,Ae=be[w];!Be||!z?(Be=Ae.slice(),we[ke]=Be,ke++):Be.push.apply(Be,Ae)}s._fillElement=null,s._fillExclusionElement=te,s._fillsegments=we.slice(0,ke),we=s._fillsegments,be.length&&(se=be[0][0].slice(),q=be[be.length-1],ce=q[q.length-1].slice()),De=function(Mt){return function(nt){if(Q=oe(nt),ie=X(nt),Y?z?(Y+="L"+Q.substr(1),$=ie+("L"+$.substr(1))):(Y+="Z"+Q,$=ie+"Z"+$):(Y=Q,$=ie),p.hasLines(s)){var _e=m.select(this);if(_e.datum(T),Mt)y(_e.style("opacity",0).attr("d",Q).call(v.lineGroupStyle)).style("opacity",1);else{var Ge=y(_e);Ge.attr("d",Q),v.singleLineStyle(T,Ge)}}}}}var Ie=I.selectAll(".js-line").data(be);y(Ie.exit()).style("opacity",0).remove(),Ie.each(De(!1)),Ie.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(De(!0)),v.setClipUrl(Ie,h.layerClipId,u);function Me(Mt){y(Mt).attr("d","M0,0Z")}var Fe=function(){var Mt=new Array(we.length);for(w=0;w<we.length;w++)Mt[w]=a(we[w]);return Mt},Ee=function(Mt){var nt,_e;if(!Mt||Mt.length===0)for(nt=new Array(we.length),_e=0;_e<we.length;_e++){var Ge=we[_e][0].slice(),je=we[_e][we[_e].length-1].slice();Ge[U]=je[U]=Z;var We=[je,Ge],Pe=We.concat(we[_e]);nt[_e]=a(Pe)}else{for(nt=new Array(Mt.length-1+we.length),_e=0;_e<Mt.length-1;_e++)nt[_e]=a(Mt[_e]);var Re=Mt[Mt.length-1].slice();for(Re.reverse(),_e=0;_e<we.length;_e++)nt[Mt.length-1+_e]=a(we[_e].concat(Re))}return nt};be.length?(O?(O.datum(T),se&&ce&&(z?(se[U]=ce[U]=Z,y(O).attr("d","M"+ce+"L"+se+"L"+Y.substr(1)).call(v.singleFillStyle,u),ye=Ee(null)):(y(O).attr("d",Y+"Z").call(v.singleFillStyle,u),ye=Fe())),s._polygons=ye,s._fillElement=O):B&&(s.fill.substr(0,6)==="tonext"&&Y&&J?(s.fill==="tonext"?(y(B).attr("d",Y+"Z"+J+"Z").call(v.singleFillStyle,u),ye=Fe(),s._polygons=ye.concat(re)):(y(B).attr("d",Y+"L"+J.substr(1)+"Z").call(v.singleFillStyle,u),ye=Ee(ue),s._polygons=ye),s._fillElement=B):Me(B)),s._prevRevpath=$):(O?Me(O):B&&Me(B),s._prevRevpath=null),s._ownPolygons=ye;function He(Mt){return Mt.filter(function(nt){return!nt.gap&&nt.vis})}function rt(Mt){return Mt.filter(function(nt){return nt.vis})}function ot(Mt){return Mt.filter(function(nt){return!nt.gap})}function $e(Mt){return Mt.id}function qe(Mt){if(Mt.ids)return $e}function ht(){return!1}function vt(Mt,nt,_e){var Ge,je,We,Pe=_e[0].trace,Re=p.hasMarkers(Pe),Xe=p.hasText(Pe),Le=qe(Pe),ve=ht,xe=ht;if(Re||Xe){var Ne=S,et=Pe.stackgroup,st=et&&u._fullLayout._scatterStackOpts[M._id+A._id][et].stackgaps==="infer zero";Pe.marker.maxdisplayed||Pe._needsCull?Ne=st?rt:He:et&&!st&&(Ne=ot),Re&&(ve=Ne),Xe&&(xe=Ne)}je=Mt.selectAll("path.point"),Ge=je.data(ve,Le);var lt=Ge.enter().append("path").classed("point",!0);C&&lt.call(v.pointStyle,Pe,u).call(v.translatePoints,M,A).style("opacity",0).transition().style("opacity",1),Ge.order();var Gt;Re&&(Gt=v.makePointStyleFns(Pe)),Ge.each(function(jt){var Tt=m.select(this),Dt=y(Tt);We=v.translatePoint(jt,Dt,M,A),We?(v.singlePointStyle(jt,Dt,Pe,Gt,u),h.layerClipId&&v.hideOutsideRangePoint(jt,Dt,M,A,Pe.xcalendar,Pe.ycalendar),Pe.customdata&&Tt.classed("plotly-customdata",jt.data!==null&&jt.data!==void 0)):Dt.remove()}),C?Ge.exit().transition().style("opacity",0).remove():Ge.exit().remove(),je=nt.selectAll("g"),Ge=je.data(xe,Le),Ge.enter().append("g").classed("textpoint",!0).append("text"),Ge.order(),Ge.each(function(jt){var Tt=m.select(this),Dt=y(Tt.select("text"));We=v.translatePoint(jt,Dt,M,A),We?h.layerClipId&&v.hideOutsideRangePoint(jt,Tt,M,A,Pe.xcalendar,Pe.ycalendar):Tt.remove()}),Ge.selectAll("text").call(v.textPointStyle,Pe,u).each(function(jt){var Tt=M.c2p(jt.x),Dt=A.c2p(jt.y);m.select(this).selectAll("tspan.line").each(function(){y(m.select(this)).attr({x:Tt,y:Dt})})}),Ge.exit().remove()}N.datum(T),_.datum(T),vt(N,_,T);var pt=s.cliponaxis===!1,wt=pt?null:h.layerClipId;v.setClipUrl(N,wt,u),v.setClipUrl(_,wt,u)}function l(u,g,h,T,c){var o=h.xaxis,d=h.yaxis,x=m.extent(i.simpleMap(o.range,o.r2c)),w=m.extent(i.simpleMap(d.range,d.r2c)),C=T[0].trace;if(p.hasMarkers(C)){var y=C.marker.maxdisplayed;if(y!==0){var M=T.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=w[0]&&b.y<=w[1]}),A=Math.ceil(M.length/y),s=0;c.forEach(function(b,F){var I=b[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&F<g&&s++});var E=Math.round(s*A/3+Math.floor(s/3)*A/7.1);T.forEach(function(b){delete b.vis}),M.forEach(function(b,F){Math.round((F+E)%A)===0&&(b.vis=!0)})}}}},91560:function(G,V,e){var m=e(43028);G.exports=function(i,L){var S=i.cd,v=i.xaxis,p=i.yaxis,r=[],t=S[0].trace,a,n,f,l,u=!m.hasMarkers(t)&&!m.hasText(t);if(u)return[];if(L===!1)for(a=0;a<S.length;a++)S[a].selected=0;else for(a=0;a<S.length;a++)n=S[a],f=v.c2p(n.x),l=p.c2p(n.y),n.i!==null&&L.contains([f,l],!1,a,i)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var V=["orientation","groupnorm","stackgaps"];G.exports=function(m,P,i,L){var S=i._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=S[p];r||(r=S[p]={});var t=r[v],a=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},a=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},f=0;f<V.length;f++){var l=V[f],u=l+"Found";if(!t[u]){var g=m[l]!==void 0,h=l==="orientation";if((g||a)&&(t[l]=L(l,n[l]),h&&(t.fillDflt=t[l]==="h"?"tonextx":"tonexty"),g&&(t[u]=!0,!a&&(delete t.traces[0][l],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(G,V,e){var m=e(33428),P=e(43616),i=e(24040);function L(r){var t=m.select(r).selectAll("g.trace.scatter");t.style("opacity",function(a){return a[0].trace.opacity}),t.selectAll("g.points").each(function(a){var n=m.select(this),f=a.trace||a[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(a){var n=m.select(this),f=a.trace||a[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(t)}function S(r,t,a){P.pointStyle(r.selectAll("path.point"),t,a)}function v(r,t,a){P.textPointStyle(r.selectAll("text"),t,a)}function p(r,t,a){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(a.selectAll("path.point"),n),P.selectedTextStyle(a.selectAll("text"),n)):(S(a,n,r),v(a,n,r))}G.exports={style:L,stylePoints:S,styleText:v,styleOnSelect:p}},43028:function(G,V,e){var m=e(3400),P=e(38116).isTypedArraySpec;G.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var L=i.marker;return m.isPlainObject(L)&&(m.isArrayOrTypedArray(L.size)||P(L.size))}}},124:function(G,V,e){var m=e(3400);G.exports=function(P,i,L,S,v){v=v||{},S("textposition"),m.coerceFont(S,"textfont",v.font||L.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(G,V,e){var m=e(3400),P=e(24040);G.exports=function(L,S,v,p){var r=p("x"),t=p("y"),a,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,S,["x","y"],v),r){var f=m.minRowLength(r);t?a=Math.min(f,m.minRowLength(t)):(a=f,p("y0"),p("dy"))}else{if(!t)return 0;a=m.minRowLength(t),p("x0"),p("dx")}return S._length=a,a}},91592:function(G,V,e){var m=e(52904),P=e(25376),i=e(49084),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),a=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),l=m.line,u=m.marker,g=u.line,h=a({width:l.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},i("line"));function T(o){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=G.exports=n({x:m.x,y:m.y,z:{valType:"data_array"},text:a({},m.text,{}),texttemplate:v({},{}),hovertext:a({},m.hovertext,{}),hovertemplate:S(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:a({},m.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:m.connectgaps,line:h,marker:a({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:a({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:a({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:a({width:a({},g.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:a({},m.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:a({},p.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(G,V,e){var m=e(20148),P=e(90136);G.exports=function(L,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return m(v,S),P(L,S),v}},45156:function(G,V,e){var m=e(24040);function P(S,v,p,r){if(!v||!v.visible)return null;for(var t=m.getComponentMethod("errorbars","makeComputeError")(v),a=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var l=r.c2l(S[n]),u=S[n]-f[0],g=S[n]+f[1];if(a[n]=[(r.c2l(u,!0)-l)*p,(r.c2l(g,!0)-l)*p],u>0){var h=r.c2l(u);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else a[n]=[-f[0]*p,f[1]*p]}return a}function i(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function L(S,v,p){var r=[P(S.x,S.error_x,v[0],p.xaxis),P(S.y,S.error_y,v[1],p.yaxis),P(S.z,S.error_z,v[2],p.zaxis)],t=i(r);if(t===0)return null;for(var a=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(r[l])for(var u=0;u<2;u++)f[u][l]=r[l][n][u];a[n]=f}return a}G.exports=L},41064:function(G,V,e){var m=e(67792).gl_line3d,P=e(67792).gl_scatter3d,i=e(67792).gl_error3d,L=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),a=e(99168),n=e(87792),f=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function g(b,F){this.scene=b,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;h.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var F=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[F]||this.textLabels[F]===0)&&(b.textLabel=this.textLabels[F]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}};function T(b,F,I){var N=(I+1)%3,_=(I+2)%3,O=[],B=[],z;for(z=0;z<b.length;++z){var U=b[z];isNaN(U[N])||!isFinite(U[N])||isNaN(U[_])||!isFinite(U[_])||(O.push([U[N],U[_]]),B.push(z))}var Z=S(O);for(z=0;z<Z.length;++z)for(var J=Z[z],re=0;re<J.length;++re)J[re]=B[J[re]];return{positions:b,cells:Z,meshColor:F}}function c(b){for(var F=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],_=0;_<3;_++){var O=b[_];O&&O.copy_zstyle!==!1&&b[2].visible!==!1&&(O=b[2]),!(!O||!O.visible)&&(F[_]=O.width/2,I[_]=p(O.color),N[_]=O.thickness)}return{capSize:F,color:I,lineWidth:N}}function o(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function d(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var F=0,I=0,N=[F,I];if(Array.isArray(b))for(var _=0;_<b.length;_++)N[_]=[F,I],b[_]&&(N[_][0]=o(b[_]),N[_][1]=d(b[_]));else N[0]=o(b),N[1]=d(b);return N}function w(b,F){return F(b*4)}function C(b){return n[b]}function y(b,F,I,N,_){var O=null;if(v.isArrayOrTypedArray(b)){O=[];for(var B=0;B<F;B++)b[B]===void 0?O[B]=N:O[B]=I(b[B],_)}else O=I(b,v.identity);return O}function M(b,F){var I=[],N=b.fullSceneLayout,_=b.dataScale,O=N.xaxis,B=N.yaxis,z=N.zaxis,U=F.marker,Z=F.line,J=F.x||[],re=F.y||[],ne=F.z||[],ue=J.length,te=F.xcalendar,Q=F.ycalendar,ie=F.zcalendar,Y,$,oe,j,X,se;for(X=0;X<ue;X++)Y=O.d2l(J[X],0,te)*_[0],$=B.d2l(re[X],0,Q)*_[1],oe=z.d2l(ne[X],0,ie)*_[2],I[X]=[Y,$,oe];if(Array.isArray(F.text))se=F.text;else if(v.isTypedArray(F.text))se=Array.from(F.text);else if(F.text!==void 0)for(se=new Array(ue),X=0;X<ue;X++)se[X]=F.text;function q(ot,$e){var qe=N[ot];return f.tickText(qe,qe.d2l($e),!0).text}var ce=F.texttemplate;if(ce){var ye=b.fullLayout,we=ye._d3locale,be=Array.isArray(ce),De=be?Math.min(ce.length,ue):ue,ke=be?function(ot){return ce[ot]}:function(){return ce};for(se=new Array(De),X=0;X<De;X++){var Be={x:J[X],y:re[X],z:ne[X]},Ae={xLabel:q("xaxis",J[X]),yLabel:q("yaxis",re[X]),zLabel:q("zaxis",ne[X])},Ie={};l(Ie,F,X);var Me=F._meta||{};se[X]=v.texttemplateString(ke(X),Ae,we,Ie,Be,Me)}}if(j={position:I,mode:F.mode,text:se},"line"in F&&(j.lineColor=r(Z,1,ue),j.lineWidth=Z.width,j.lineDashes=Z.dash),"marker"in F){var Fe=t(F);j.scatterColor=r(U,1,ue),j.scatterSize=y(U.size,ue,w,20,Fe),j.scatterMarker=y(U.symbol,ue,C,""),j.scatterLineWidth=U.line.width,j.scatterLineColor=r(U.line,1,ue),j.scatterAngle=0}"textposition"in F&&(j.textOffset=x(F.textposition),j.textColor=r(F.textfont,1,ue),j.textSize=y(F.textfont.size,ue,v.identity,12),j.textFontFamily=F.textfont.family,j.textFontWeight=F.textfont.weight,j.textFontStyle=F.textfont.style,j.textFontVariant=F.textfont.variant,j.textAngle=0);var Ee=["x","y","z"];for(j.project=[!1,!1,!1],j.projectScale=[1,1,1],j.projectOpacity=[1,1,1],X=0;X<3;++X){var He=F.projection[Ee[X]];(j.project[X]=He.show)&&(j.projectOpacity[X]=He.opacity,j.projectScale[X]=He.scale)}j.errorBounds=u(F,_,N);var rt=c([F.error_x,F.error_y,F.error_z]);return j.errorColor=rt.color,j.errorLineWidth=rt.lineWidth,j.errorCapSize=rt.capSize,j.delaunayAxis=F.surfaceaxis,j.delaunayColor=p(F.surfacecolor),j}function A(b){if(v.isArrayOrTypedArray(b)){var F=b[0];return v.isArrayOrTypedArray(F)&&(b=F),"rgb("+b.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function s(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?A(b):b.map(A):null}h.update=function(b){var F=this.scene.glplot.gl,I,N,_,O,B=a.solid;this.data=b;var z=M(this.scene,b);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in a&&(B=a[z.lineDashes]),this.color=s(z.scatterColor)||s(z.lineColor),this.dataPoints=z.position,I={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=m(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(U*=b.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:U,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),_={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:b.opacity},this.errorBars?z.errorBounds?this.errorBars.update(_):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=i(_),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var Z=T(z.position,z.delaunayColor,z.delaunayAxis);Z.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(Z):(Z.gl=F,this.delaunayMesh=L(Z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(b,F){var I=new g(b,F.uid);return I.update(F),I}G.exports=E},83484:function(G,V,e){var m=e(24040),P=e(3400),i=e(43028),L=e(74428),S=e(66828),v=e(124),p=e(91592);G.exports=function(a,n,f,l){function u(w,C){return P.coerce(a,n,p,w,C)}var g=r(a,n,u,l);if(!g){n.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),i.hasMarkers(n)&&L(a,n,f,l,u,{noSelect:!0,noAngle:!0}),i.hasLines(n)&&(u("connectgaps"),S(a,n,f,l,u)),i.hasText(n)&&(u("texttemplate"),v(a,n,l,u,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var h=(n.line||{}).color,T=(n.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",h||T);for(var c=["x","y","z"],o=0;o<3;++o){var d="projection."+c[o];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var x=m.getComponentMethod("errorbars","supplyDefaults");x(a,n,h||T||f,{axis:"z"}),x(a,n,h||T||f,{axis:"y",inherit:"z"}),x(a,n,h||T||f,{axis:"x",inherit:"z"})};function r(t,a,n,f){var l=0,u=n("x"),g=n("y"),h=n("z"),T=m.getComponentMethod("calendars","handleTraceDefaults");return T(t,a,["x","y","z"],f),u&&g&&h&&(l=Math.min(u.length,g.length,h.length),a._length=a._xlength=a._ylength=a._zlength=l),l}},3296:function(G,V,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,V,e){var m=e(98304),P=e(52904),i=e(45464),L=e(21776).Ks,S=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,a=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:m(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:a.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:L(),zorder:P.zorder}},48228:function(G,V,e){var m=e(38248),P=e(90136),i=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var a=t._carpetTrace=v(r,t);if(!(!a||!a.visible||a.visible==="legendonly")){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var f=t._length,l=new Array(f),u,g,h=!1;for(n=0;n<f;n++)if(u=t.a[n],g=t.b[n],m(u)&&m(g)){var T=a.ab2xy(+u,+g,!0),c=a.isVisible(+u,+g);c||(h=!0),l[n]={x:T[0],y:T[1],a:u,b:g,vis:c}}else l[n]={x:!1,y:!1};return t._needsCull=h,l[0].carpet=a,l[0].trace=t,S(t,f),P(r,t),i(l,t),L(l,t),l}}},6176:function(G,V,e){var m=e(3400),P=e(88200),i=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);G.exports=function(n,f,l,u){function g(w,C){return m.coerce(n,f,t,w,C)}g("carpet"),f.xaxis="x",f.yaxis="y";var h=g("a"),T=g("b"),c=Math.min(h.length,T.length);if(!c){f.visible=!1;return}f._length=c,g("text"),g("texttemplate"),g("hovertext");var o=c<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",o),i.hasMarkers(f)&&L(n,f,l,u,g,{gradient:!0}),i.hasLines(f)&&(S(n,f,l,u,g,{backoff:!0}),v(n,f,g),g("connectgaps")),i.hasText(f)&&p(n,f,u,g);var d=[];(i.hasMarkers(f)||i.hasText(f))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,l,g),i.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var x=g("hoveron",d.join("+")||"points");x!=="fills"&&g("hovertemplate"),g("zorder"),m.coerceSelectionMarkerOpacity(f,g)}},89307:function(G){G.exports=function(e,m,P,i,L){var S=i[L];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(G){G.exports=function(e,m){var P={},i=m._carpet,L=i.ab2ij([e.a,e.b]),S=Math.floor(L[0]),v=L[0]-S,p=Math.floor(L[1]),r=L[1]-p,t=i.evalxy([],S,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(G,V,e){var m=e(98723),P=e(3400).fillText;G.exports=function(L,S,v,p){var r=m(L,S,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var a=1-t.y0/L.ya._length,n=L.xa._length,f=n*a/2,l=n-f;return t.x0=Math.max(Math.min(t.x0,l),f),t.x1=Math.max(Math.min(t.x1,l),f),r}var u=t.cd[t.index];t.a=u.a,t.b=u.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,h=g._carpet,T=g._module.formatLabels(u,g);t.yLabel=T.yLabel,delete t.text;var c=[];function o(w,C){var y;w.labelprefix&&w.labelprefix.length>0?y=w.labelprefix.replace(/ = $/,""):y=w._hovertitle,c.push(y+": "+C.toFixed(3)+w.labelsuffix)}if(!g.hovertemplate){var d=u.hi||g.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&o(h.aaxis,u.a),x.indexOf("b")!==-1&&o(h.baxis,u.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&P(u,g,c),t.extraText=c.join("<br>")}return r}},4184:function(G,V,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,V,e){var m=e(96504),P=e(54460),i=e(43616);G.exports=function(S,v,p,r){var t,a,n,f=p[0][0].carpet,l=P.getFromId(S,f.xaxis||"x"),u=P.getFromId(S,f.yaxis||"y"),g={xaxis:l,yaxis:u,plot:v.plot};for(t=0;t<p.length;t++)a=p[t][0].trace,a._xA=l,a._yA=u;for(m(S,g,p,r),t=0;t<p.length;t++)a=p[t][0].trace,n=r.selectAll("g.trace"+a.uid+" .js-line"),i.setClipUrl(n,p[t][0].carpet._clipPathId,S)}},6096:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,a=L.marker,n=L.line,f=a.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:L.connectgaps,marker:r({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:r({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:r({width:f.width},v("marker.line")),gradient:a.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:m()},"calc","nested")},25212:function(G,V,e){var m=e(38248),P=e(39032).BADNUM,i=e(90136),L=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(a,n){var f=v(n.locations),l=f?n.locations.length:n._length,u=new Array(l),g;n.geojson?g=function(x){return r(x)||m(x)}:g=r;for(var h=0;h<l;h++){var T=u[h]={};if(f){var c=n.locations[h];T.loc=g(c)?c:null}else{var o=n.lon[h],d=n.lat[h];m(o)&&m(d)?T.lonlat=[+o,+d]:T.lonlat=[P,P]}}return L(u,n),i(a,n),S(u,n),l&&(u[0].t={labels:{lat:p(a,"lat:")+" ",lon:p(a,"lon:")+" "}}),u}},86188:function(G,V,e){var m=e(3400),P=e(43028),i=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(6096);G.exports=function(t,a,n,f){function l(x,w){return m.coerce(t,a,p,x,w)}var u=l("locations"),g;if(u&&u.length){var h=l("geojson"),T;(typeof h=="string"&&h!==""||m.isPlainObject(h))&&(T="geojson-id");var c=l("locationmode",T);c==="geojson-id"&&l("featureidkey"),g=u.length}else{var o=l("lon")||[],d=l("lat")||[];g=Math.min(o.length,d.length)}if(!g){a.visible=!1;return}a._length=g,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),P.hasMarkers(a)&&i(t,a,n,f,l,{gradient:!0}),P.hasLines(a)&&(L(t,a,n,f,l),l("connectgaps")),P.hasText(a)&&(l("texttemplate"),S(t,a,f,l)),l("fill"),a.fill!=="none"&&v(t,a,n,l),m.coerceSelectionMarkerOpacity(a,l)}},58544:function(G){G.exports=function(e,m,P,i,L){e.lon=m.lon,e.lat=m.lat,e.location=m.loc?m.loc:null;var S=i[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(G,V,e){var m=e(54460);G.exports=function(i,L,S){var v={},p=S[L.geo]._subplot,r=p.mockAxis,t=i.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,V,e){var m=e(93024),P=e(39032).BADNUM,i=e(44928),L=e(3400).fillText,S=e(6096);G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,l=r.xa,u=r.ya,g=r.subplot,h=g.projection.isLonLatOverEdges,T=g.project;function c(M){var A=M.lonlat;if(A[0]===P||h(A))return 1/0;var s=T(A),E=T([t,a]),b=Math.abs(s[0]-E[0]),F=Math.abs(s[1]-E[1]),I=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(b*b+F*F)-I,1-3/I)}if(m.getClosest(n,c,r),r.index!==!1){var o=n[r.index],d=o.lonlat,x=[l.c2p(d),u.c2p(d)],w=o.mrc||1;r.x0=x[0]-w,r.x1=x[0]+w,r.y0=x[1]-w,r.y1=x[1]+w,r.loc=o.loc,r.lon=d[0],r.lat=d[1];var C={};C[f.geo]={_subplot:g};var y=f._module.formatLabels(o,f,C);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=i(f,o),r.extraText=v(f,o,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(p,r,t,a){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),l=f.indexOf("location")!==-1&&Array.isArray(p.locations),u=f.indexOf("lon")!==-1,g=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,T=[];function c(o){return o+""}return l?T.push(r.loc):u&&g?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):u?T.push(a.lon+c(t.lonLabel)):g&&T.push(a.lat+c(t.latLabel)),h&&L(r,p,T),T.join("<br>")}},36952:function(G,V,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,V,e){var m=e(33428),P=e(3400),i=e(59972).getTopojsonFeatures,L=e(44808),S=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),a=e(25064);function n(l,u,g){var h=u.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(h,g,"trace scattergeo");function c(o,d){o.lonlat[0]===p&&m.select(d).remove()}T.selectAll("*").remove(),T.each(function(o){var d=m.select(this),x=o[0].trace;if(t.hasLines(x)||x.fill!=="none"){var w=L.calcTraceToLineCoords(o),C=x.fill!=="none"?L.makePolygon(w):L.makeLine(w);d.selectAll("path.js-line").data([{geojson:C,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(x)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(y){c(y,this)}),a(l,o)})}function f(l,u){var g=l[0].trace,h=u[g.geo],T=h._subplot,c=g._length,o,d;if(P.isArrayOrTypedArray(g.locations)){var x=g.locationmode,w=x==="geojson-id"?S.extractTraceFeature(l):i(g,T.topojson);for(o=0;o<c;o++){d=l[o];var C=x==="geojson-id"?d.fOut:S.locationToFeature(x,d.loc,w);d.lonlat=C?C.properties.ct:[p,p]}}var y={padded:!0},M,A;if(h.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var s=S.computeBbox(S.getTraceGeojson(g));M=[s[0],s[2]],A=[s[1],s[3]]}else{for(M=new Array(c),A=new Array(c),o=0;o<c;o++)d=l[o],M[o]=d.lonlat[0],A[o]=d.lonlat[1];y.ppad=r(g,c)}g._extremes.lon=v(h.lonaxis._ax,M,y),g._extremes.lat=v(h.lataxis._ax,A,y)}G.exports={calcGeoJSON:f,plot:n}},8796:function(G,V,e){var m=e(43028),P=e(39032).BADNUM;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],a=v[0].trace,n,f,l,u,g,h=!m.hasMarkers(a)&&!m.hasText(a);if(h)return[];if(S===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],f=n.lonlat,f[0]!==P&&(l=p.c2p(f),u=r.c2p(f),S.contains([l,u],null,g,L)?(t.push({pointNumber:g,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,V,e){var m=e(33428),P=e(43616),i=e(76308),L=e(49224),S=L.stylePoints,v=L.styleText;G.exports=function(t,a){a&&p(t,a)};function p(r,t){var a=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,a,r),v(n,a,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var l=m.select(this),u=f.trace,g=u.line||{};l.call(i.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),u.fill!=="none"&&l.call(i.fill,u.fillcolor)})}},2876:function(G,V,e){var m=e(45464),P=e(25376),i=e(98304),L=e(52904),S=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,a=e(67072).DASHES,n=L.line,f=L.marker,l=f.line,u=G.exports=t({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(a),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:l.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:i(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:m.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=L.hovertemplate,u.texttemplate=L.texttemplate},64628:function(G,V,e){var m=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:m.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,V,e){var m=e(3108),P=e(3400),i=e(79811),L=e(19280).findExtremes,S=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,a=e(90136),n=e(84236),f=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;G.exports=function(c,o){var d=c._fullLayout,x=o._xA=i.getFromId(c,o.xaxis,"x"),w=o._yA=i.getFromId(c,o.yaxis,"y"),C=d._plots[o.xaxis+o.yaxis],y=o._length,M=y>=u,A=y*2,s={},E,b=x.makeCalcdata(o,"x"),F=w.makeCalcdata(o,"y"),I=S(o,x,"x",b),N=S(o,w,"y",F),_=I.vals,O=N.vals;o._x=_,o._y=O,o.xperiodalignment&&(o._origX=b,o._xStarts=I.starts,o._xEnds=I.ends),o.yperiodalignment&&(o._origY=F,o._yStarts=N.starts,o._yEnds=N.ends);var B=new Array(A),z=new Array(y);for(E=0;E<y;E++)B[E*2]=_[E]===l?NaN:_[E],B[E*2+1]=O[E]===l?NaN:O[E],z[E]=E;if(x.type==="log")for(E=0;E<A;E+=2)B[E]=x.c2l(B[E]);if(w.type==="log")for(E=1;E<A;E+=2)B[E]=w.c2l(B[E]);M&&x.type!=="log"&&w.type!=="log"?s.tree=m(B):s.ids=z,a(c,o);var U=h(c,C,o,B,_,O),Z=f(c,C);t(d,o);var J;return M?U.marker&&(J=U.marker.sizeAvg||Math.max(U.marker.size,3)):J=p(o,y),r(c,o,x,w,_,O,J),U.errorX&&g(o,x,U.errorX),U.errorY&&g(o,w,U.errorY),U.fill&&!Z.fill2d&&(Z.fill2d=!0),U.marker&&!Z.scatter2d&&(Z.scatter2d=!0),U.line&&!Z.line2d&&(Z.line2d=!0),(U.errorX||U.errorY)&&!Z.error2d&&(Z.error2d=!0),U.text&&!Z.glText&&(Z.glText=!0),U.marker&&(U.marker.snap=y),Z.lineOptions.push(U.line),Z.errorXOptions.push(U.errorX),Z.errorYOptions.push(U.errorY),Z.fillOptions.push(U.fill),Z.markerOptions.push(U.marker),Z.markerSelectedOptions.push(U.markerSel),Z.markerUnselectedOptions.push(U.markerUnsel),Z.textOptions.push(U.text),Z.textSelectedOptions.push(U.textSel),Z.textUnselectedOptions.push(U.textUnsel),Z.selectBatch.push([]),Z.unselectBatch.push([]),s._scene=Z,s.index=Z.count,s.x=_,s.y=O,s.positions=B,Z.count++,[{x:!1,y:!1,t:s,trace:o}]};function g(T,c,o){var d=T._extremes[c._id],x=L(c,o._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function h(T,c,o,d,x,w){var C=n.style(T,o);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(T,o,d)),C.errorX||C.errorY){var y=n.errorBarPositions(T,o,d,x,w);C.errorX&&P.extendFlat(C.errorX,y.x),C.errorY&&P.extendFlat(C.errorY,y.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(T,o,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(T,o,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(T,o,C.text,C.markerUnsel))),C}},67072:function(G){var V=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,V,e){var m=e(38248),P=e(20472),i=e(72160),L=e(24040),S=e(3400),v=S.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,a=e(43028),n=e(7152),f=e(80088),l=e(67072),u=e(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(_,O){var B,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},U=_._context.plotGlPixelRatio;if(O.visible!==!0)return z;if(a.hasText(O)&&(z.text=c(_,O),z.textSel=w(_,O,O.selected),z.textUnsel=w(_,O,O.unselected)),a.hasMarkers(O)&&(z.marker=d(_,O),z.markerSel=x(_,O,O.selected),z.markerUnsel=x(_,O,O.unselected),!O.unselected&&v(O.marker.opacity))){var Z=O.marker.opacity;for(z.markerUnsel.opacity=new Array(Z.length),B=0;B<Z.length;B++)z.markerUnsel.opacity[B]=u*Z[B]}if(a.hasLines(O)){z.line={overlay:!0,thickness:O.line.width*U,color:O.line.color,opacity:O.opacity};var J=(l.DASHES[O.line.dash]||[1]).slice();for(B=0;B<J.length;++B)J[B]*=O.line.width*U;z.line.dashes=J}return O.error_x&&O.error_x.visible&&(z.errorX=C(O,O.error_x,U)),O.error_y&&O.error_y.visible&&(z.errorY=C(O,O.error_y,U)),O.fill&&O.fill!=="none"&&(z.fill={closed:!0,fill:O.fillcolor,thickness:0}),z}function c(_,O){var B=_._fullLayout,z=O._length,U=O.textfont,Z=O.textposition,J=v(Z)?Z:[Z],re=U.color,ne=U.size,ue=U.family,te=U.weight,Q=U.style,ie=U.variant,Y={},$,oe=_._context.plotGlPixelRatio,j=O.texttemplate;if(j){Y.text=[];var X=B._d3locale,se=Array.isArray(j),q=se?Math.min(j.length,z):z,ce=se?function(Ae){return j[Ae]}:function(){return j};for($=0;$<q;$++){var ye={i:$},we=O._module.formatLabels(ye,O,B),be={};h(be,O,$);var De=O._meta||{};Y.text.push(S.texttemplateString(ce($),we,X,be,ye,De))}}else v(O.text)&&O.text.length<z?Y.text=O.text.slice():Y.text=O.text;if(v(Y.text))for($=Y.text.length;$<z;$++)Y.text[$]="";for(Y.opacity=O.opacity,Y.font={},Y.align=[],Y.baseline=[],$=0;$<J.length;$++){var ke=J[$].split(/\s+/);switch(ke[1]){case"left":Y.align.push("right");break;case"right":Y.align.push("left");break;default:Y.align.push(ke[1])}switch(ke[0]){case"top":Y.baseline.push("bottom");break;case"bottom":Y.baseline.push("top");break;default:Y.baseline.push(ke[0])}}if(v(re))for(Y.color=new Array(z),$=0;$<z;$++)Y.color[$]=re[$];else Y.color=re;if(v(ne)||Array.isArray(ue)||v(te)||Array.isArray(Q)||Array.isArray(ie))for(Y.font=new Array(z),$=0;$<z;$++){var Be=Y.font[$]={};Be.size=(S.isTypedArray(ne)?ne[$]:v(ne)?m(ne[$])?ne[$]:0:ne)*oe,Be.family=Array.isArray(ue)?ue[$]:ue,Be.weight=o(v(te)?te[$]:te),Be.style=Array.isArray(Q)?Q[$]:Q,Be.variant=Array.isArray(ie)?ie[$]:ie}else Y.font={size:ne*oe,family:ue,weight:o(te),style:Q,variant:ie};return Y}function o(_){return _<=1e3?_>500?"bold":"normal":_}function d(_,O){var B=O._length,z=O.marker,U={},Z,J=v(z.symbol),re=v(z.angle),ne=v(z.color),ue=v(z.line.color),te=v(z.opacity),Q=v(z.size),ie=v(z.line.width),Y;if(J||(Y=f.isOpenSymbol(z.symbol)),J||ne||ue||te||re){U.symbols=new Array(B),U.angles=new Array(B),U.colors=new Array(B),U.borderColors=new Array(B);var $=z.symbol,oe=z.angle,j=t(z,z.opacity,B),X=t(z.line,z.opacity,B);if(!v(X[0])){var se=X;for(X=Array(B),Z=0;Z<B;Z++)X[Z]=se}if(!v(j[0])){var q=j;for(j=Array(B),Z=0;Z<B;Z++)j[Z]=q}if(!v($)){var ce=$;for($=Array(B),Z=0;Z<B;Z++)$[Z]=ce}if(!v(oe)){var ye=oe;for(oe=Array(B),Z=0;Z<B;Z++)oe[Z]=ye}for(U.symbols=$,U.angles=oe,U.colors=j,U.borderColors=X,Z=0;Z<B;Z++)J&&(Y=f.isOpenSymbol(z.symbol[Z])),Y&&(X[Z]=j[Z].slice(),j[Z]=j[Z].slice(),j[Z][3]=0);for(U.opacity=O.opacity,U.markers=new Array(B),Z=0;Z<B;Z++)U.markers[Z]=b({mx:U.symbols[Z],ma:U.angles[Z]},O)}else Y?(U.color=i(z.color,"uint8"),U.color[3]=0,U.borderColor=i(z.color,"uint8")):(U.color=i(z.color,"uint8"),U.borderColor=i(z.line.color,"uint8")),U.opacity=O.opacity*z.opacity,U.marker=b({mx:z.symbol,ma:z.angle},O);var we=1,be=n(O,we),De;if(Q||ie){var ke=U.sizes=new Array(B),Be=U.borderSizes=new Array(B),Ae=0,Ie;if(Q){for(Z=0;Z<B;Z++)ke[Z]=be(z.size[Z]),Ae+=ke[Z];Ie=Ae/B}else for(De=be(z.size),Z=0;Z<B;Z++)ke[Z]=De;if(ie)for(Z=0;Z<B;Z++)Be[Z]=z.line.width[Z];else for(De=z.line.width,Z=0;Z<B;Z++)Be[Z]=De;U.sizeAvg=Ie}else U.size=be(z&&z.size||10),U.borderSizes=be(z.line.width);return U}function x(_,O,B){var z=O.marker,U={};return B&&(B.marker&&B.marker.symbol?U=d(_,S.extendFlat({},z,B.marker)):B.marker&&(B.marker.size&&(U.size=B.marker.size),B.marker.color&&(U.colors=B.marker.color),B.marker.opacity!==void 0&&(U.opacity=B.marker.opacity))),U}function w(_,O,B){var z={};if(!B)return z;if(B.textfont){var U={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:S.extendFlat({},O.textfont)};B.textfont&&S.extendFlat(U.textfont,B.textfont),z=c(_,U)}return z}function C(_,O,B){var z={capSize:O.width*2*B,lineWidth:O.thickness*B,color:O.color};return O.copy_ystyle&&(z=_.error_y),z}var y=l.SYMBOL_SDF_SIZE,M=l.SYMBOL_SIZE,A=l.SYMBOL_STROKE,s={},E=p.symbolFuncs[0](M*.05);function b(_,O){var B=_.mx;if(B==="circle")return null;var z,U,Z=p.symbolNumber(B),J=p.symbolFuncs[Z%100],re=!!p.symbolNoDot[Z%100],ne=!!p.symbolNoFill[Z%100],ue=f.isDotSymbol(B);if(_.ma&&(B+="_"+_.ma),s[B])return s[B];var te=p.getMarkerAngle(_,O);return ue&&!re?z=J(M*1.1,te)+E:z=J(M,te),U=P(z,{w:y,h:y,viewBox:[-M,-M,M,M],stroke:ne?A:-A}),s[B]=U,U||null}function F(_,O,B){var z=B.length,U=z/2,Z,J;if(a.hasLines(O)&&U)if(O.line.shape==="hv"){for(Z=[],J=0;J<U-1;J++)isNaN(B[J*2])||isNaN(B[J*2+1])?Z.push(NaN,NaN,NaN,NaN):(Z.push(B[J*2],B[J*2+1]),!isNaN(B[J*2+2])&&!isNaN(B[J*2+3])?Z.push(B[J*2+2],B[J*2+1]):Z.push(NaN,NaN));Z.push(B[z-2],B[z-1])}else if(O.line.shape==="hvh"){for(Z=[],J=0;J<U-1;J++)if(isNaN(B[J*2])||isNaN(B[J*2+1])||isNaN(B[J*2+2])||isNaN(B[J*2+3]))!isNaN(B[J*2])&&!isNaN(B[J*2+1])?Z.push(B[J*2],B[J*2+1]):Z.push(NaN,NaN),Z.push(NaN,NaN);else{var re=(B[J*2]+B[J*2+2])/2;Z.push(B[J*2],B[J*2+1],re,B[J*2+1],re,B[J*2+3])}Z.push(B[z-2],B[z-1])}else if(O.line.shape==="vhv"){for(Z=[],J=0;J<U-1;J++)if(isNaN(B[J*2])||isNaN(B[J*2+1])||isNaN(B[J*2+2])||isNaN(B[J*2+3]))!isNaN(B[J*2])&&!isNaN(B[J*2+1])?Z.push(B[J*2],B[J*2+1]):Z.push(NaN,NaN),Z.push(NaN,NaN);else{var ne=(B[J*2+1]+B[J*2+3])/2;Z.push(B[J*2],B[J*2+1],B[J*2],ne,B[J*2+2],ne)}Z.push(B[z-2],B[z-1])}else if(O.line.shape==="vh"){for(Z=[],J=0;J<U-1;J++)isNaN(B[J*2])||isNaN(B[J*2+1])?Z.push(NaN,NaN,NaN,NaN):(Z.push(B[J*2],B[J*2+1]),!isNaN(B[J*2+2])&&!isNaN(B[J*2+3])?Z.push(B[J*2],B[J*2+3]):Z.push(NaN,NaN));Z.push(B[z-2],B[z-1])}else Z=B;var ue=!1;for(J=0;J<Z.length;J++)if(isNaN(Z[J])){ue=!0;break}var te=ue||Z.length>l.TOO_MANY_POINTS||a.hasMarkers(O)?"rect":"round";if(ue&&O.connectgaps){var Q=Z[0],ie=Z[1];for(J=0;J<Z.length;J+=2)isNaN(Z[J])||isNaN(Z[J+1])?(Z[J]=Q,Z[J+1]=ie):(Q=Z[J],ie=Z[J+1])}return{join:te,positions:Z}}function I(_,O,B,z,U){var Z=L.getComponentMethod("errorbars","makeComputeError"),J=r.getFromId(_,O.xaxis,"x"),re=r.getFromId(_,O.yaxis,"y"),ne=B.length/2,ue={};function te(Q,ie){var Y=ie._id.charAt(0),$=O["error_"+Y];if($&&$.visible&&(ie.type==="linear"||ie.type==="log")){for(var oe=Z($),j={x:0,y:1}[Y],X={x:[0,1,2,3],y:[2,3,0,1]}[Y],se=new Float64Array(4*ne),q=1/0,ce=-1/0,ye=0,we=0;ye<ne;ye++,we+=4){var be=Q[ye];if(m(be)){var De=B[ye*2+j],ke=oe(be,ye),Be=ke[0],Ae=ke[1];if(m(Be)&&m(Ae)){var Ie=be-Be,Me=be+Ae;se[we+X[0]]=De-ie.c2l(Ie),se[we+X[1]]=ie.c2l(Me)-De,se[we+X[2]]=0,se[we+X[3]]=0,q=Math.min(q,be-Be),ce=Math.max(ce,be+Ae)}}}ue[Y]={positions:B,errors:se,_bnds:[q,ce]}}}return te(z,J),te(U,re),ue}function N(_,O,B,z){var U=O._length,Z={},J;if(a.hasMarkers(O)){var re=B.font,ne=B.align,ue=B.baseline;for(Z.offset=new Array(U),J=0;J<U;J++){var te=z.sizes?z.sizes[J]:z.size,Q=v(re)?re[J].size:re.size,ie=v(ne)?ne.length>1?ne[J]:ne[0]:ne,Y=v(ue)?ue.length>1?ue[J]:ue[0]:ue,$=g[ie],oe=g[Y],j=te?te/.8+1:0,X=-oe*j-oe*.5;Z.offset[J]=[$*j/Q,X/Q]}}return Z}G.exports={style:T,markerStyle:d,markerSelection:x,linePositions:F,errorBarPositions:I,textPosition:N}},80220:function(G,V,e){var m=e(3400),P=e(24040),i=e(80088),L=e(2876),S=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),a=e(66828),n=e(70840),f=e(124);G.exports=function(u,g,h,T){function c(A,s){return m.coerce(u,g,L,A,s)}var o=u.marker?i.isOpenSymbol(u.marker.symbol):!1,d=v.isBubble(u),x=p(u,g,T,c);if(!x){g.visible=!1;return}r(u,g,T,c),c("xhoverformat"),c("yhoverformat");var w=x<S.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",w),v.hasMarkers(g)&&(t(u,g,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||d?1:0)),v.hasLines(g)&&(c("connectgaps"),a(u,g,h,T,c),c("line.shape")),v.hasText(g)&&(c("texttemplate"),f(u,g,T,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var C=(g.line||{}).color,y=(g.marker||{}).color;c("fill"),g.fill!=="none"&&n(u,g,h,c);var M=P.getComponentMethod("errorbars","supplyDefaults");M(u,g,C||y||h,{axis:"y"}),M(u,g,C||y||h,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(g,c)}},26768:function(G,V,e){var m=e(3400),P=e(76308),i=e(13448).DESELECTDIM;function L(S){var v=S[0],p=v.trace,r=v.t,t=r._scene,a=r.index,n=t.selectBatch[a],f=t.unselectBatch[a],l=t.textOptions[a],u=t.textSelectedOptions[a]||{},g=t.textUnselectedOptions[a]||{},h=m.extendFlat({},l),T,c;if(n.length||f.length){var o=u.color,d=g.color,x=l.color,w=m.isArrayOrTypedArray(x);for(h.color=new Array(p._length),T=0;T<n.length;T++)c=n[T],h.color[c]=o||(w?x[c]:x);for(T=0;T<f.length;T++){c=f[T];var C=w?x[c]:x;h.color[c]=d||(o?C:P.addOpacity(C,i))}}t.glText[a].update(h)}G.exports={styleTextSelection:L}},99396:function(G,V,e){var m=e(76688);G.exports=function(i,L,S){var v=i.i;return"x"in i||(i.x=L._x[v]),"y"in i||(i.y=L._y[v]),m(i,L,S)}},80088:function(G,V,e){var m=e(67072);V.isOpenSymbol=function(P){return typeof P=="string"?m.OPEN_RE.test(P):P%200>100},V.isDotSymbol=function(P){return typeof P=="string"?m.DOT_RE.test(P):P>200}},41272:function(G,V,e){var m=e(24040),P=e(3400),i=e(44928);function L(v,p,r,t){var a=v.cd,n=a[0].t,f=a[0].trace,l=v.xa,u=v.ya,g=n.x,h=n.y,T=l.c2p(p),c=u.c2p(r),o=v.distance,d;if(n.tree){var x=l.p2c(T-o),w=l.p2c(T+o),C=u.p2c(c-o),y=u.p2c(c+o);t==="x"?d=n.tree.range(Math.min(x,w),Math.min(u._rl[0],u._rl[1]),Math.max(x,w),Math.max(u._rl[0],u._rl[1])):d=n.tree.range(Math.min(x,w),Math.min(C,y),Math.max(x,w),Math.max(C,y))}else d=n.ids;var M,A,s,E,b,F,I,N,_,O=o;if(t==="x"){var B=!!f.xperiodalignment,z=!!f.yperiodalignment;for(b=0;b<d.length;b++){if(M=d[b],s=g[M],F=Math.abs(l.c2p(s)-T),B){var U=l.c2p(f._xStarts[M]),Z=l.c2p(f._xEnds[M]);F=T>=Math.min(U,Z)&&T<=Math.max(U,Z)?0:1/0}if(F<O){if(O=F,E=h[M],I=u.c2p(E)-c,z){var J=u.c2p(f._yStarts[M]),re=u.c2p(f._yEnds[M]);I=c>=Math.min(J,re)&&c<=Math.max(J,re)?0:1/0}_=Math.sqrt(F*F+I*I),A=d[b]}}}else for(b=d.length-1;b>-1;b--)M=d[b],s=g[M],E=h[M],F=l.c2p(s)-T,I=u.c2p(E)-c,N=Math.sqrt(F*F+I*I),N<O&&(O=_=N,A=M);return v.index=A,v.distance=O,v.dxy=_,A===void 0?[v]:[S(v,g,h,f)]}function S(v,p,r,t){var a=v.xa,n=v.ya,f=v.distance,l=v.dxy,u=v.index,g={pointNumber:u,x:p[u],y:r[u]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[u]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[u]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[u]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[u]:t.textposition;var h=t.textfont;h&&(g.ts=P.isArrayOrTypedArray(h.size)?h.size[u]:h.size,g.tc=P.isArrayOrTypedArray(h.color)?h.color[u]:h.color,g.tf=Array.isArray(h.family)?h.family[u]:h.family,g.tw=Array.isArray(h.weight)?h.weight[u]:h.weight,g.ty=Array.isArray(h.style)?h.style[u]:h.style,g.tv=Array.isArray(h.variant)?h.variant[u]:h.variant);var T=t.marker;T&&(g.ms=P.isArrayOrTypedArray(T.size)?T.size[u]:T.size,g.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[u]:T.opacity,g.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[u]:T.symbol,g.ma=P.isArrayOrTypedArray(T.angle)?T.angle[u]:T.angle,g.mc=P.isArrayOrTypedArray(T.color)?T.color[u]:T.color);var c=T&&T.line;c&&(g.mlc=Array.isArray(c.color)?c.color[u]:c.color,g.mlw=P.isArrayOrTypedArray(c.width)?c.width[u]:c.width);var o=T&&T.gradient;o&&o.type!=="none"&&(g.mgt=Array.isArray(o.type)?o.type[u]:o.type,g.mgc=Array.isArray(o.color)?o.color[u]:o.color);var d=a.c2p(g.x,!0),x=n.c2p(g.y,!0),w=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[u]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[u]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[u]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[u]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[u]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[u]:C.namelength);var y=t.hoverinfo;y&&(g.hi=Array.isArray(y)?y[u]:y);var M=t.hovertemplate;M&&(g.ht=Array.isArray(M)?M[u]:M);var A={};A[v.index]=g;var s=t._origX,E=t._origY,b=P.extendFlat({},v,{color:i(t,g),x0:d-w,x1:d+w,xLabelVal:s?s[u]:g.x,y0:x-w,y1:x+w,yLabelVal:E?E[u]:g.y,cd:A,distance:f,spikeDistance:l,hovertemplate:g.ht});return g.htx?b.text=g.htx:g.tx?b.text=g.tx:t.text&&(b.text=t.text),P.fillText(g,t,b),m.getComponentMethod("errorbars","hoverInfo")(g,t,b),b}G.exports={hoverPoints:L,calcHover:S}},38983:function(G,V,e){var m=e(64628);m.plot=e(89876),G.exports=m},89876:function(G,V,e){var m=e(38540),P=e(13472),i=e(24544),L=e(23352),S=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),a=e(26768).styleTextSelection,n={};function f(u,g,h,T){var c=u._size,o=u.width*T,d=u.height*T,x=c.l*T,w=c.b*T,C=c.r*T,y=c.t*T,M=c.w*T,A=c.h*T;return[x+g.domain[0]*M,w+h.domain[0]*A,o-C-(1-g.domain[1])*M,d-y-(1-h.domain[1])*A]}var l=G.exports=function(g,h,T){if(T.length){var c=g._fullLayout,o=h._scene,d=h.xaxis,x=h.yaxis,w,C;if(o){var y=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){o.init();return}var M=o.count,A=c._glcanvas.data()[0].regl;if(t(g,h,T),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&A.clear({}),o.error2d===!0&&(o.error2d=i(A)),o.line2d===!0&&(o.line2d=P(A)),o.scatter2d===!0&&(o.scatter2d=m(A)),o.fill2d===!0&&(o.fill2d=P(A)),o.glText===!0)for(o.glText=new Array(M),w=0;w<M;w++)o.glText[w]=new L(A);if(o.glText){if(M>o.glText.length){var s=M-o.glText.length;for(w=0;w<s;w++)o.glText.push(new L(A))}else if(M<o.glText.length){var E=o.glText.length-M,b=o.glText.splice(M,E);b.forEach(function(j){j.destroy()})}for(w=0;w<M;w++)o.glText[w].update(o.textOptions[w])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(j){if(j&&j.positions){for(var X=j.positions,se=0;se<X.length&&(isNaN(X[se])||isNaN(X[se+1]));)se+=2;for(var q=X.length-2;q>se&&(isNaN(X[q])||isNaN(X[q+1]));)q-=2;j.positions=X.slice(se,q+2)}return j}),o.line2d.update(o.lineOptions)),o.error2d){var F=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(F)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=S.repeat(null,M),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(j,X){var se=T[X];if(!(!j||!se||!se[0]||!se[0].trace)){var q=se[0],ce=q.trace,ye=q.t,we=o.lineOptions[X],be,De,ke=[];ce._ownfill&&ke.push(X),ce._nexttrace&&ke.push(X+1),ke.length&&(o.fillOrder[X]=ke);var Be=[],Ae=we&&we.positions||ye.positions,Ie,Me;if(ce.fill==="tozeroy"){for(Ie=0;Ie<Ae.length&&isNaN(Ae[Ie+1]);)Ie+=2;for(Me=Ae.length-2;Me>Ie&&isNaN(Ae[Me+1]);)Me-=2;Ae[Ie+1]!==0&&(Be=[Ae[Ie],0]),Be=Be.concat(Ae.slice(Ie,Me+2)),Ae[Me+1]!==0&&(Be=Be.concat([Ae[Me],0]))}else if(ce.fill==="tozerox"){for(Ie=0;Ie<Ae.length&&isNaN(Ae[Ie]);)Ie+=2;for(Me=Ae.length-2;Me>Ie&&isNaN(Ae[Me]);)Me-=2;Ae[Ie]!==0&&(Be=[0,Ae[Ie+1]]),Be=Be.concat(Ae.slice(Ie,Me+2)),Ae[Me]!==0&&(Be=Be.concat([0,Ae[Me+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Be=[],be=0,j.splitNull=!0,De=0;De<Ae.length;De+=2)(isNaN(Ae[De])||isNaN(Ae[De+1]))&&(Be=Be.concat(Ae.slice(be,De)),Be.push(Ae[be],Ae[be+1]),Be.push(null,null),be=De+2);Be=Be.concat(Ae.slice(be)),be&&Be.push(Ae[be],Ae[be+1])}else{var Fe=ce._nexttrace;if(Fe){var Ee=o.lineOptions[X+1];if(Ee){var He=Ee.positions;if(ce.fill==="tonexty"){for(Be=Ae.slice(),X=Math.floor(He.length/2);X--;){var rt=He[X*2],ot=He[X*2+1];isNaN(rt)||isNaN(ot)||Be.push(rt,ot)}j.fill=Fe.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var $e=o.lineOptions[X-1].positions,qe=Be.length/2;be=qe;var ht=[be];for(De=0;De<$e.length;De+=2)(isNaN($e[De])||isNaN($e[De+1]))&&(ht.push(De/2+qe+1),be=De+2);Be=Be.concat($e),j.hole=ht}return j.fillmode=ce.fill,j.opacity=ce.opacity,j.positions=Be,j}}),o.fill2d.update(o.fillOptions))}var I=c.dragmode,N=v(I),_=c.clickmode.indexOf("select")>-1;for(w=0;w<M;w++){var O=T[w][0],B=O.trace,z=O.t,U=z.index,Z=B._length,J=z.x,re=z.y;if(B.selectedpoints||N||_){if(N||(N=!0),B.selectedpoints){var ne=o.selectBatch[U]=S.selIndices2selPoints(B),ue={};for(C=0;C<ne.length;C++)ue[ne[C]]=1;var te=[];for(C=0;C<Z;C++)ue[C]||te.push(C);o.unselectBatch[U]=te}var Q=z.xpx=new Array(Z),ie=z.ypx=new Array(Z);for(C=0;C<Z;C++)Q[C]=d.c2p(J[C]),ie[C]=x.c2p(re[C])}else z.xpx=z.ypx=null}if(N){if(o.select2d||(o.select2d=m(c._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(M);for(w=0;w<M;w++)Y[w]=o.selectBatch[w].length||o.unselectBatch[w].length?o.markerUnselectedOptions[w]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&T.forEach(function(j){var X=((j||[])[0]||{}).trace||{};r.hasText(X)&&a(j)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var $={viewport:f(c,d,x,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},oe=S.repeat($,o.count);o.fill2d&&o.fill2d.update(oe),o.line2d&&o.line2d.update(oe),o.error2d&&o.error2d.update(oe.concat(oe)),o.scatter2d&&o.scatter2d.update(oe),o.select2d&&o.select2d.update(oe),o.glText&&o.glText.forEach(function(j){j.update($)})}}};l.reglPrecompiled=n},74588:function(G,V,e){var m=e(3400);G.exports=function(i,L){var S=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(S=L._scene={},S.init=function(){m.extendFlat(S,p,v)},S.init(),S.update=function(t){var a=m.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(a),S.scatter2d&&S.scatter2d.update(a),S.line2d&&S.line2d.update(a),S.error2d&&S.error2d.update(a.concat(a)),S.select2d&&S.select2d.update(a),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,a=S.fill2d,n=S.error2d,f=S.line2d,l=S.scatter2d,u=S.glText,g=S.select2d,h=S.selectBatch,T=S.unselectBatch,c=0;c<t;c++){if(a&&S.fillOrder[c]&&a.draw(S.fillOrder[c]),f&&S.lineOptions[c]&&f.draw(c),n&&(S.errorXOptions[c]&&n.draw(c),S.errorYOptions[c]&&n.draw(c+t)),l&&S.markerOptions[c])if(T[c].length){var o=m.repeat([],S.count);o[c]=T[c],l.draw(o)}else h[c].length||l.draw(c);u[c]&&S.textOptions[c]&&u[c].render()}g&&g.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,L._scene=null}),S.dirty||m.extendFlat(S,v),S}},73224:function(G,V,e){var m=e(43028),P=e(26768).styleTextSelection;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],a=v[0].trace,n=v[0].t,f=a._length,l=n.x,u=n.y,g=n._scene,h=n.index;if(!g)return t;var T=m.hasText(a),c=m.hasMarkers(a),o=!c&&!T;if(a.visible!==!0||o)return t;var d=[],x=[];if(S!==!1&&!S.degenerate)for(var w=0;w<f;w++)S.contains([n.xpx[w],n.ypx[w]],!1,w,L)?(d.push(w),t.push({pointNumber:w,x:p.c2d(l[w]),y:r.c2d(u[w])})):x.push(w);if(c){var C=g.scatter2d;if(!d.length&&!x.length){var y=new Array(g.count);y[h]=g.markerOptions[h],C.update.apply(C,y)}else if(!g.selectBatch[h].length&&!g.unselectBatch[h].length){var M=new Array(g.count);M[h]=g.markerUnselectedOptions[h],C.update.apply(C,M)}}return g.selectBatch[h]=d,g.unselectBatch[h]=x,T&&P(v),t}},31512:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(6096),S=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(5232),f=L.line,l=L.marker;G.exports=a({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},r("marker")),fill:L.fill,fillcolor:i(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:m()},"calc","nested")},79732:function(G){var V=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports={isSupportedFont:function(e){return V.indexOf(e)!==-1}}},59392:function(G,V,e){var m=e(38248),P=e(3400),i=e(39032).BADNUM,L=e(44808),S=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,a=e(89032),n=e(10624).appendArrayPointValue,f=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;G.exports=function(C,y){var M=y[0].trace,A=M.visible===!0&&M._length!==0,s=M.fill!=="none",E=r.hasLines(M),b=r.hasMarkers(M),F=r.hasText(M),I=b&&M.marker.symbol==="circle",N=b&&M.marker.symbol!=="circle",_=M.cluster&&M.cluster.enabled,O=u("fill"),B=u("line"),z=u("circle"),U=u("symbol"),Z={fill:O,line:B,circle:z,symbol:U};if(!A)return Z;var J;if((s||E)&&(J=L.calcTraceToLineCoords(y)),s&&(O.geojson=L.makePolygon(J),O.layout.visibility="visible",P.extendFlat(O.paint,{"fill-color":M.fillcolor})),E&&(B.geojson=L.makeLine(J),B.layout.visibility="visible",P.extendFlat(B.paint,{"line-width":M.line.width,"line-color":M.line.color,"line-opacity":M.opacity})),I){var re=g(y);z.geojson=re.geojson,z.layout.visibility="visible",_&&(z.filter=["!",["has","point_count"]],Z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(M.cluster.color,M.cluster.step),"circle-radius":d(M.cluster.size,M.cluster.step),"circle-opacity":d(M.cluster.opacity,M.cluster.step)}},Z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":x(M),"text-size":12}}),P.extendFlat(z.paint,{"circle-color":re.mcc,"circle-radius":re.mrc,"circle-opacity":re.mo})}if(I&&_&&(z.filter=["!",["has","point_count"]]),(N||F)&&(U.geojson=h(y,C),P.extendFlat(U.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),N&&(P.extendFlat(U.layout,{"icon-size":M.marker.size/10}),"angle"in M.marker&&M.marker.angle!=="auto"&&P.extendFlat(U.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),U.layout["icon-allow-overlap"]=M.marker.allowoverlap,P.extendFlat(U.paint,{"icon-opacity":M.opacity*M.marker.opacity,"icon-color":M.marker.color})),F)){var ne=(M.marker||{}).size,ue=a(M.textposition,ne);P.extendFlat(U.layout,{"text-size":M.textfont.size,"text-anchor":ue.anchor,"text-offset":ue.offset,"text-font":x(M)}),P.extendFlat(U.paint,{"text-color":M.textfont.color,"text-opacity":M.opacity})}return Z};function u(w){return{type:w,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function g(w){var C=w[0].trace,y=C.marker,M=C.selectedpoints,A=P.isArrayOrTypedArray(y.color),s=P.isArrayOrTypedArray(y.size),E=P.isArrayOrTypedArray(y.opacity),b;function F(ne){return C.opacity*ne}function I(ne){return ne/2}var N;A&&(S.hasColorscale(C,"marker")?N=S.makeColorScaleFuncFromTrace(y):N=P.identity);var _;s&&(_=p(C));var O;E&&(O=function(ne){var ue=m(ne)?+P.constrain(ne,0,1):0;return F(ue)});var B=[];for(b=0;b<w.length;b++){var z=w[b],U=z.lonlat;if(!o(U)){var Z={};N&&(Z.mcc=z.mcc=N(z.mc)),_&&(Z.mrc=z.mrc=_(z.ms)),O&&(Z.mo=O(z.mo)),M&&(Z.selected=z.selected||0),B.push({type:"Feature",id:b+1,geometry:{type:"Point",coordinates:U},properties:Z})}}var J;if(M)for(J=v.makeSelectedPointStyleFns(C),b=0;b<B.length;b++){var re=B[b].properties;J.selectedOpacityFn&&(re.mo=F(J.selectedOpacityFn(re))),J.selectedColorFn&&(re.mcc=J.selectedColorFn(re)),J.selectedSizeFn&&(re.mrc=J.selectedSizeFn(re))}return{geojson:{type:"FeatureCollection",features:B},mcc:A||J&&J.selectedColorFn?{type:"identity",property:"mcc"}:y.color,mrc:s||J&&J.selectedSizeFn?{type:"identity",property:"mrc"}:I(y.size),mo:E||J&&J.selectedOpacityFn?{type:"identity",property:"mo"}:F(y.opacity)}}function h(w,C){for(var y=C._fullLayout,M=w[0].trace,A=M.marker||{},s=A.symbol,E=A.angle,b=s!=="circle"?T(s):c,F=E!=="auto"?T(E,!0):c,I=r.hasText(M)?T(M.text):c,N=[],_=0;_<w.length;_++){var O=w[_];if(!o(O.lonlat)){var B=M.texttemplate,z;if(B){var U=Array.isArray(B)?B[_]||"":B,Z=M._module.formatLabels(O,M,y),J={};n(J,M,O.i);var re=M._meta||{};z=P.texttemplateString(U,Z,y._d3locale,J,O,re)}else z=I(_);z&&(z=z.replace(f,"").replace(l,`
`)),N.push({type:"Feature",geometry:{type:"Point",coordinates:O.lonlat},properties:{symbol:b(_),angle:F(_),text:z}})}}return{type:"FeatureCollection",features:N}}function T(w,C){return P.isArrayOrTypedArray(w)?C?function(y){return m(w[y])?+w[y]:0}:function(y){return w[y]}:w?function(){return w}:c}function c(){return""}function o(w){return w[0]===i}function d(w,C){var y;if(P.isArrayOrTypedArray(w)&&P.isArrayOrTypedArray(C)){y=["step",["get","point_count"],w[0]];for(var M=1;M<w.length;M++)y.push(C[M-1],w[M])}else y=w;return y}function x(w){var C=w.textfont,y=C.family,M=C.style,A=C.weight,s=y.split(" "),E=s[s.length-1]==="Italic";E&&s.pop(),E=E||M==="italic";var b=s.join(" ");A==="bold"&&s.indexOf("Bold")===-1?b+=" Bold":A<=1e3&&(s[0]==="Metropolis"?(b="Metropolis",A>850?b+=" Black":A>750?b+=" Extra Bold":A>650?b+=" Bold":A>550?b+=" Semi Bold":A>450?b+=" Medium":A>350?b+=" Regular":A>250?b+=" Light":A>150?b+=" Extra Light":b+=" Thin"):s.slice(0,2).join(" ")==="Open Sans"?(b="Open Sans",A>750?b+=" Extrabold":A>650?b+=" Bold":A>550?b+=" Semibold":A>350?b+=" Regular":b+=" Light"):s.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(b="Klokantech Noto Sans",s[3]==="CJK"&&(b+=" CJK"),b+=A>500?" Bold":" Regular")),E&&(b+=" Italic"),b==="Open Sans Regular Italic"?b="Open Sans Italic":b==="Open Sans Regular Bold"?b="Open Sans Bold":b==="Open Sans Regular Bold Italic"?b="Open Sans Bold Italic":b==="Klokantech Noto Sans Regular Italic"&&(b="Klokantech Noto Sans Italic"),t(b)||(b=y);var F=b.split(", ");return F}},15752:function(G,V,e){var m=e(3400),P=e(43028),i=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;G.exports=function(n,f,l,u){function g(s,E){return m.coerce(n,f,p,s,E)}function h(s,E){return m.coerce2(n,f,p,s,E)}var T=t(n,f,g);if(!T){f.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(f)){i(n,f,l,u,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var c=f.marker;c.symbol!=="circle"&&(m.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),m.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(f)&&(L(n,f,l,u,g,{noDash:!0}),g("connectgaps"));var o=h("cluster.maxzoom"),d=h("cluster.step"),x=h("cluster.color",f.marker&&f.marker.color||l),w=h("cluster.size"),C=h("cluster.opacity"),y=o!==!1||d!==!1||x!==!1||w!==!1||C!==!1,M=g("cluster.enabled",y);if(M||P.hasText(f)){var A=u.font.family;S(n,f,u,g,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(A)?A:"Open Sans Regular",weight:u.font.weight,style:u.font.style,size:u.font.size,color:u.font.color}})}g("fill"),f.fill!=="none"&&v(n,f,l,g),m.coerceSelectionMarkerOpacity(f,g)};function t(a,n,f){var l=f("lon")||[],u=f("lat")||[],g=Math.min(l.length,u.length);return n._length=g,g}},37920:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e}},11960:function(G,V,e){var m=e(54460);G.exports=function(i,L,S){var v={},p=S[L.subplot]._subplot,r=p.mockAxis,t=i.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,V,e){var m=e(93024),P=e(3400),i=e(44928),L=P.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,a,n){var f=t.cd,l=f[0].trace,u=t.xa,g=t.ya,h=t.subplot,T=[],c=v+l.uid+"-circle",o=l.cluster&&l.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[c]});T=d.map(function(_){return _.id})}var x=a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360),w=x*360,C=a-w;function y(_){var O=_.lonlat;if(O[0]===S||o&&T.indexOf(_.i+1)===-1)return 1/0;var B=P.modHalf(O[0],360),z=O[1],U=h.project([B,z]),Z=U.x-u.c2p([C,z]),J=U.y-g.c2p([B,n]),re=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(Z*Z+J*J)-re,1-3/re)}if(m.getClosest(f,y,t),t.index!==!1){var M=f[t.index],A=M.lonlat,s=[P.modHalf(A[0],360)+w,A[1]],E=u.c2p(s),b=g.c2p(s),F=M.mrc||1;t.x0=E-F,t.x1=E+F,t.y0=b-F,t.y1=b+F;var I={};I[l.subplot]={_subplot:h};var N=l._module.formatLabels(M,l,I);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=i(l,M),t.extraText=r(l,M,f[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}}function r(t,a,n){if(t.hovertemplate)return;var f=a.hi||t.hoverinfo,l=f.split("+"),u=l.indexOf("all")!==-1,g=l.indexOf("lon")!==-1,h=l.indexOf("lat")!==-1,T=a.lonlat,c=[];function o(d){return d+""}return u||g&&h?c.push("("+o(T[1])+", "+o(T[0])+")"):g?c.push(n.lon+o(T[0])):h&&c.push(n.lat+o(T[1])),(u||l.indexOf("text")!==-1)&&L(a,t,c),c.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},11572:function(G,V,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(m,P){if(P){var i=P[0].trace;i._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,V,e){var m=e(3400),P=e(59392),i=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(p,r,t,a){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=a,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(p,r,t){var a={type:"geojson",data:r.geojson};t&&t.enabled&&m.extendFlat(a,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],a)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var a={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(a.filter=r.filter);for(var n=this.layerIds[p],f,l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",a.paint)):this.subplot.addLayer(a,t)},v.update=function(r){var t=r[0].trace,a=this.subplot,n=a.map,f=P(a.gd,r),l=a.belowLookup["trace-"+this.uid],u=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,h=this;function T(A){A||h.addSource("circle",f.circle,t.cluster);for(var s=L.cluster,E=0;E<s.length;E++){var b=s[E],F=f[b];h.addLayer(b,F,l)}}function c(A){for(var s=L.cluster,E=s.length-1;E>=0;E--){var b=s[E];n.removeLayer(h.layerIds[b])}A||n.removeSource(h.sourceIds.circle)}function o(A){for(var s=L.nonCluster,E=0;E<s.length;E++){var b=s[E],F=f[b];A||h.addSource(b,F),h.addLayer(b,F,l)}}function d(A){for(var s=L.nonCluster,E=s.length-1;E>=0;E--){var b=s[E];n.removeLayer(h.layerIds[b]),A||n.removeSource(h.sourceIds[b])}}function x(A){g?c(A):d(A)}function w(A){u?T(A):o(A)}function C(){for(var A=u?L.cluster:L.nonCluster,s=0;s<A.length;s++){var E=A[s],b=f[E];b&&(a.setOptions(h.layerIds[E],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,b),a.setOptions(h.layerIds[E],"setPaintProperty",b.paint)))}}var y=this.isHidden,M=t.visible!==!0;M?y||x():y?M||w():g!==u?(x(),w()):(this.below!==l&&(x(!0),w(!0)),C()),this.clusterEnabled=u,this.isHidden=M,this.below=l,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var a=t[0].trace,n=a.cluster&&a.cluster.enabled,f=a.visible!==!0,l=new S(r,a.uid,n,f),u=P(r.gd,t),g=l.below=r.belowLookup["trace-"+a.uid],h,T,c;if(n)for(l.addSource("circle",u.circle,a.cluster),h=0;h<L.cluster.length;h++)T=L.cluster[h],c=u[T],l.addLayer(T,c,g);else for(h=0;h<L.nonCluster.length;h++)T=L.nonCluster[h],c=u[T],l.addSource(T,c,a.cluster),l.addLayer(T,c,g);return t[0].trace._glTrace=l,l}},404:function(G,V,e){var m=e(3400),P=e(43028),i=e(39032).BADNUM;G.exports=function(S,v){var p=S.cd,r=S.xaxis,t=S.yaxis,a=[],n=p[0].trace,f;if(!P.hasMarkers(n))return[];if(v===!1)for(f=0;f<p.length;f++)p[f].selected=0;else for(f=0;f<p.length;f++){var l=p[f],u=l.lonlat;if(u[0]!==i){var g=[m.modHalf(u[0],360),u[1]],h=[r.c2p(g),t.c2p(g)];v.contains(h,null,f,S)?(a.push({pointNumber:f,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0}}return a}},8319:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:i({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:i({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:i({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},58320:function(G,V,e){var m=e(38248),P=e(39032).BADNUM,i=e(54460),L=e(90136),S=e(20148),v=e(4500),p=e(16356).calcMarkerSize;G.exports=function(t,a){for(var n=t._fullLayout,f=a.subplot,l=n[f].radialaxis,u=n[f].angularaxis,g=l.makeCalcdata(a,"r"),h=u.makeCalcdata(a,"theta"),T=a._length,c=new Array(T),o=0;o<T;o++){var d=g[o],x=h[o],w=c[o]={};m(d)&&m(x)?(w.r=d,w.theta=x):w.r=P}var C=p(a,T);return a._extremes.x=i.findExtremes(l,g,{ppad:C}),L(t,a),S(c,a),v(c,a),c}},85968:function(G,V,e){var m=e(3400),P=e(43028),i=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function a(f,l,u,g){function h(o,d){return m.coerce(f,l,t,o,d)}var T=n(f,l,g,h);if(!T){l.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),l.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(l)&&i(f,l,u,g,h,{gradient:!0}),P.hasLines(l)&&(L(f,l,u,g,h,{backoff:!0}),S(f,l,h),h("connectgaps")),P.hasText(l)&&(h("texttemplate"),v(f,l,g,h));var c=[];(P.hasMarkers(l)||P.hasText(l))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),l.fill!=="none"&&(p(f,l,u,h),P.hasLines(l)||S(f,l,h)),(l.fill==="tonext"||l.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(l,h)}function n(f,l,u,g){var h=g("r"),T=g("theta");m.isTypedArray(h)&&(l.r=h=Array.from(h)),m.isTypedArray(T)&&(l.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,g("theta0"),g("dtheta"));else{if(!T)return 0;c=l.theta.length,g("r0"),g("dr")}return l._length=c,c}G.exports={handleRThetaDefaults:n,supplyDefaults:a}},22852:function(G,V,e){var m=e(3400),P=e(54460);G.exports=function(L,S,v){var p={},r=v[S.subplot]._subplot,t,a;r?(t=r.radialAxis,a=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,a=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var f=a.thetaunit==="degrees"?m.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(a,f,!0).text,p}},8504:function(G,V,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=L.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function i(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,a);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var f=L.hi||S.hoverinfo,l=[];function u(h,T){l.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&u(r,p.rLabel),g.indexOf("theta")!==-1&&u(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(l.push(p.text),delete p.text),p.extraText=l.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:i}},76924:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,V,e){var m=e(96504),P=e(39032).BADNUM;G.exports=function(L,S,v){for(var p=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,a={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,l=0;l<v.length;l++)for(var u=v[l],g=0;g<u.length;g++){g===0&&(u[0].trace._xA=r,u[0].trace._yA=t);var h=u[g],T=h.r;if(T===P)h.x=h.y=P;else{var c=n.c2g(T),o=f.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}m(L,a,v,p)}},24396:function(G,V,e){var m=e(8319),P=e(2876),i=e(21776).Gw;G.exports={mode:m.mode,r:m.r,theta:m.theta,r0:m.r0,dr:m.dr,theta0:m.theta0,dtheta:m.dtheta,thetaunit:m.thetaunit,text:m.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:m.hovertext,hovertemplate:m.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:m.hoverinfo,selected:m.selected,unselected:m.unselected}},27160:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,V,e){var m=e(90136),P=e(16356).calcMarkerSize,i=e(84236),L=e(54460),S=e(67072).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,a=r.subplot,n=t[a].radialaxis,f=t[a].angularaxis,l=r._r=n.makeCalcdata(r,"r"),u=r._theta=f.makeCalcdata(r,"theta"),g=r._length,h={};g<l.length&&(l=l.slice(0,g)),g<u.length&&(u=u.slice(0,g)),h.r=l,h.theta=u,m(p,r);var T=h.opts=i.style(p,r),c;return g<S?c=P(r,g):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(n,l,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(G,V,e){var m=e(3400),P=e(43028),i=e(85968).handleRThetaDefaults,L=e(74428),S=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,f,l,u){function g(T,c){return m.coerce(n,f,t,T,c)}var h=i(n,f,u,g);if(!h){f.visible=!1;return}g("thetaunit"),g("mode",h<r?"lines+markers":"lines"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(f)&&L(n,f,l,u,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(f)&&(S(n,f,l,u,g),g("connectgaps")),P.hasText(f)&&(g("texttemplate"),v(n,f,u,g,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),g("fill"),f.fill!=="none"&&p(n,f,l,g),m.coerceSelectionMarkerOpacity(f,g)}},94120:function(G,V,e){var m=e(22852);G.exports=function(i,L,S){var v=i.i;return"r"in i||(i.r=L._r[v]),"theta"in i||(i.theta=L._theta[v]),m(i,L,S)}},1600:function(G,V,e){var m=e(41272),P=e(8504).makeHoverPointText;function i(L,S,v,p){var r=L.cd,t=r[0].t,a=t.r,n=t.theta,f=m.hoverPoints(L,S,v,p);if(!(!f||f[0].index===!1)){var l=f[0];if(l.index===void 0)return f;var u=L.subplot,g=l.cd[l.index],h=l.trace;if(g.r=a[l.index],g.theta=n[l.index],!!u.isPtInside(g))return l.xLabelVal=void 0,l.yLabelVal=void 0,P(g,h,u,l),f}}G.exports={hoverPoints:i}},62944:function(G,V,e){var m=e(27160);m.plot=e(56512),G.exports=m},56512:function(G,V,e){var m=e(3108),P=e(38248),i=e(89876),L=e(74588),S=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};G.exports=function(a,n,f){if(f.length){var l=n.radialAxis,u=n.angularAxis,g=L(a,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,o=T.t,d=c._length,x=o.r,w=o.theta,C=o.opts,y,M=x.slice(),A=w.slice();for(y=0;y<x.length;y++)n.isPtInside({r:x[y],theta:w[y]})||(M[y]=NaN,A[y]=NaN);var s=new Array(d*2),E=Array(d),b=Array(d);for(y=0;y<d;y++){var F=M[y],I,N;if(P(F)){var _=l.c2g(F),O=u.c2g(A[y],c.thetaunit);I=_*Math.cos(O),N=_*Math.sin(O)}else I=N=NaN;E[y]=s[y*2]=I,b[y]=s[y*2+1]=N}o.tree=m(s),C.marker&&d>=p&&(C.marker.cluster=o.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=s),C.line&&s.length>1&&v.extendFlat(C.line,S.linePositions(a,c,s)),C.text&&(v.extendFlat(C.text,{positions:s},S.textPosition(a,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:s},S.textPosition(a,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:s},S.textPosition(a,c,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),o.x=E,o.y=b,o.rawx=E,o.rawy=b,o.r=x,o.theta=w,o.positions=s,o._scene=g,o.index=g.count,g.count++}}),i(a,n,f)}},G.exports.reglPrecompiled=r},69496:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:i({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:i({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:i({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},47507:function(G,V,e){var m=e(38248),P=e(39032).BADNUM,i=e(90136),L=e(20148),S=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var a=r._fullLayout,n=t.subplot,f=a[n].realaxis,l=a[n].imaginaryaxis,u=f.makeCalcdata(t,"real"),g=l.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var o=u[c],d=g[c],x=T[c]={};m(o)&&m(d)?(x.real=o,x.imag=d):x.real=P}return v(t,h),i(r,t),L(T,t),S(T,t),T}},76716:function(G,V,e){var m=e(3400),P=e(43028),i=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(f,l,u,g){function h(o,d){return m.coerce(f,l,t,o,d)}var T=a(f,l,g,h);if(!T){l.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),l.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(l)&&i(f,l,u,g,h,{gradient:!0}),P.hasLines(l)&&(L(f,l,u,g,h,{backoff:!0}),S(f,l,h),h("connectgaps")),P.hasText(l)&&(h("texttemplate"),v(f,l,g,h));var c=[];(P.hasMarkers(l)||P.hasText(l))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),l.fill!=="none"&&(p(f,l,u,h),P.hasLines(l)||S(f,l,h)),(l.fill==="tonext"||l.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(l,h)};function a(n,f,l,u){var g=u("real"),h=u("imag"),T;return g&&h&&(T=Math.min(g.length,h.length)),m.isTypedArray(g)&&(f.real=g=Array.from(g)),m.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=T,T}},49504:function(G,V,e){var m=e(54460);G.exports=function(i,L,S){var v={},p=S[L.subplot]._subplot;return v.realLabel=m.tickText(p.radialAxis,i.real,!0).text,v.imagLabel=m.tickText(p.angularAxis,i.imag,!0).text,v}},25292:function(G,V,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=L.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function i(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,a);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var f=L.hi||S.hoverinfo,l=[];function u(h,T){l.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&u(r,p.realLabel),g.indexOf("imag")!==-1&&u(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(l.push(p.text),delete p.text),p.extraText=l.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:i}},95443:function(G,V,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,V,e){var m=e(96504),P=e(39032).BADNUM,i=e(36416),L=i.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),a=p.xaxis,n=p.yaxis,f={xaxis:a,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},l=0;l<r.length;l++)for(var u=r[l],g=0;g<u.length;g++){g===0&&(u[0].trace._xA=a,u[0].trace._yA=n);var h=u[g],T=h.real;if(T===P)h.x=h.y=P;else{var c=L([T,h.imag]);h.x=c[0],h.y=c[1]}}m(v,f,r,t)}},5896:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=L.marker,a=L.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:a.color,width:a.width,dash:p,backoff:a.backoff,shape:r({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:m()}},34335:function(G,V,e){var m=e(38248),P=e(90136),i=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,a){var n=t._fullLayout[a.subplot],f=n.sum,l=a.sum||f,u={a:a.a,b:a.b,c:a.c},g,h,T,c,o,d;for(g=0;g<v.length;g++)if(T=v[g],!u[T]){for(o=u[p[T][0]],d=u[p[T][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=l-o[h]-d[h];u[T]=c}var x=a._length,w=new Array(x),C,y,M,A,s,E;for(g=0;g<x;g++)C=u.a[g],y=u.b[g],M=u.c[g],m(C)&&m(y)&&m(M)?(C=+C,y=+y,M=+M,A=f/(C+y+M),A!==1&&(C*=A,y*=A,M*=A),E=C,s=M-y,w[g]={x:s,y:E,a:C,b:y,c:M}):w[g]={x:!1,y:!1};return S(a,x),P(t,a),i(w,a),L(w,a),w}},84256:function(G,V,e){var m=e(3400),P=e(88200),i=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);G.exports=function(n,f,l,u){function g(w,C){return m.coerce(n,f,t,w,C)}var h=g("a"),T=g("b"),c=g("c"),o;if(h?(o=h.length,T?(o=Math.min(o,T.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):T&&c&&(o=Math.min(T.length,c.length)),!o){f.visible=!1;return}f._length=o,g("sum"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate");var d=o<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),i.hasMarkers(f)&&L(n,f,l,u,g,{gradient:!0}),i.hasLines(f)&&(S(n,f,l,u,g,{backoff:!0}),v(n,f,g),g("connectgaps")),i.hasText(f)&&(g("texttemplate"),p(n,f,u,g));var x=[];(i.hasMarkers(f)||i.hasText(f))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,l,g),i.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&x.push("fills"),g("hoveron",x.join("+")||"points"),m.coerceSelectionMarkerOpacity(f,g)}},97476:function(G){G.exports=function(e,m,P,i,L){if(m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),i[L]){var S=i[L];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=m.a,e.b=m.b,e.c=m.c;return e}},90404:function(G,V,e){var m=e(54460);G.exports=function(i,L,S){var v={},p=S[L.subplot]._subplot;return v.aLabel=m.tickText(p.aaxis,i.a,!0).text,v.bLabel=m.tickText(p.baxis,i.b,!0).text,v.cLabel=m.tickText(p.caxis,i.c,!0).text,v}},26596:function(G,V,e){var m=e(98723);G.exports=function(i,L,S,v){var p=m(i,L,S,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/i.ya._length,a=i.xa._length,n=a*t/2,f=a-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),p}var l=r.cd[r.index],u=r.trace,g=r.subplot;r.a=l.a,r.b=l.b,r.c=l.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[u.subplot]={_subplot:g};var T=u._module.formatLabels(l,u,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=l.hi||u.hoverinfo,o=[];function d(w,C){o.push(w._hovertitle+": "+C)}if(!u.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(g.baxis,r.bLabel),x.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=u.hovertemplate,p}},34864:function(G,V,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,V,e){var m=e(96504);G.exports=function(i,L,S){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},a=L.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=p,f[0].trace._yA=r)}m(i,t,S,a)}},44524:function(G,V,e){var m=e(52904),P=e(49084),i=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=m.marker,a=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},a.width,{editType:"calc"}),editType:"calc"}),f=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),marker:f,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(G,V,e){var m=e(24040),P=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},m.register(P)},99332:function(G,V,e){var m=e(13472),P=e(24040),i=e(5048),L=e(84888)._M,S=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function a(h){var T=h._fullLayout,c=P.getModule(r),o=L(h.calcdata,c)[0],d=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&l(h),c.plot(h,{},o))}function n(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&l(h);for(var o=0;o<T.length;o++){var d=T[o][0],x=d.trace,w=c._splomScenes[x.uid];x.type==="splom"&&w&&w.matrix&&f(h,x,w)}}function f(h,T,c){for(var o=c.matrixOptions.data.length,d=T._visibleDims,x=c.viewOpts.ranges=new Array(o),w=0;w<d.length;w++){var C=d[w],y=x[w]=new Array(4),M=v(h,T._diag[C][0]);M&&(y[0]=M.r2l(M.range[0]),y[2]=M.r2l(M.range[1]));var A=v(h,T._diag[C][1]);A&&(y[1]=A.r2l(A.range[0]),y[3]=A.r2l(A.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function l(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,o=T._splomGrid;o||(o=T._splomGrid=m(c)),o.update(u(h))}function u(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,d=[0,0,c.width*T,c.height*T],x={},w;function C(Z,J,re,ne,ue,te){re*=T,ne*=T,ue*=T,te*=T;var Q=J[Z+"color"],ie=J[Z+"width"],Y=String(Q+ie);Y in x?x[Y].data.push(NaN,NaN,re,ne,ue,te):x[Y]={data:[re,ne,ue,te],join:"rect",thickness:ie*T,color:Q,viewport:d,range:d,overlay:!1}}for(w in c._splomSubplots){var y=c._plots[w],M=y.xaxis,A=y.yaxis,s=M._gridVals,E=A._gridVals,b=M._offset,F=M._length,I=A._length,N=o.b+A.domain[0]*o.h,_=-A._m,O=-_*A.r2l(A.range[0],A.calendar),B,z;if(M.showgrid)for(w=0;w<s.length;w++)B=b+M.l2p(s[w].x),C("grid",M,B,N,B,N+I);if(A.showgrid)for(w=0;w<E.length;w++)z=N+O+_*E[w].x,C("grid",A,b,z,b+F,z);p(h,M,A)&&(B=b+M.l2p(0),C("zeroline",M,B,N,B,N+I)),p(h,A,M)&&(z=N+O+0,C("zeroline",A,b,z,b+F,z))}var U=[];for(w in x)U.push(x[w]);return U}function g(h,T,c,o){var d={},x;if(o._splomScenes){for(x=0;x<h.length;x++){var w=h[x];w.type==="splom"&&(d[w.uid]=1)}for(x=0;x<c.length;x++){var C=c[x];if(!d[C.uid]){var y=o._splomScenes[C.uid];y&&y.destroy&&y.destroy(),o._splomScenes[C.uid]=null,delete o._splomScenes[C.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!T._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),S.clean(h,T,c,o)}G.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:a,drag:n,updateGrid:l,clean:g,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(G,V,e){var m=e(3400),P=e(79811),i=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;G.exports=function(f,l){var u=l.dimensions,g=l._length,h={},T=h.cdata=[],c=h.data=[],o=l._visibleDims=[],d,x,w,C,y;function M(F,I){for(var N=F.makeCalcdata({v:I.values,vcalendar:l.calendar},"v"),_=0;_<N.length;_++)N[_]=N[_]===t?NaN:N[_];T.push(N),c.push(F.type==="log"?m.simpleMap(N,F.c2l):N)}for(d=0;d<u.length;d++)if(w=u[d],w.visible){if(C=P.getFromId(f,l._diag[d][0]),y=P.getFromId(f,l._diag[d][1]),C&&y&&C.type!==y.type){m.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(M(C,w),y&&y.type==="category"&&(y._categories=C._categories.slice())):M(y,w),o.push(d)}S(f,l),m.extendFlat(h,p(f,l));var A=T.length,s=A*g>a,E;for(s?E=h.sizeAvg||Math.max(h.size,3):E=i(l,g),x=0;x<o.length;x++)d=o[x],w=u[d],C=P.getFromId(f,l._diag[d][0])||{},y=P.getFromId(f,l._diag[d][1])||{},L(f,l,C,y,T[x],T[x],E);var b=r(f,l);return b.matrix||(b.matrix=!0),b.matrixOptions=h,b.selectedOptions=v(f,l,l.selected),b.unselectedOptions=v(f,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},69544:function(G,V,e){var m=e(3400),P=e(51272),i=e(44524),L=e(43028),S=e(74428),v=e(26284),p=e(80088).isOpenSymbol;G.exports=function(n,f,l,u){function g(C,y){return m.coerce(n,f,i,C,y)}var h=P(n,f,{name:"dimensions",handleItemDefaults:r}),T=g("diagonal.visible"),c=g("showupperhalf"),o=g("showlowerhalf"),d=v(f,h,"values");if(!d||!T&&!c&&!o){f.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),S(n,f,l,u,g,{noAngleRef:!0,noStandOff:!0});var x=p(f.marker.symbol),w=L.isBubble(f);g("marker.line.width",x||w?1:0),t(n,f,u,g),m.coerceSelectionMarkerOpacity(f,g)};function r(a,n){function f(u,g){return m.coerce(a,n,i.dimensions,u,g)}f("label");var l=f("values");l&&l.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(a,n,f,l){var u=n.dimensions,g=u.length,h=n.showupperhalf,T=n.showlowerhalf,c=n.diagonal.visible,o,d,x=new Array(g),w=new Array(g);for(o=0;o<g;o++){var C=o?o+1:"";x[o]="x"+C,w[o]="y"+C}var y=l("xaxes",x),M=l("yaxes",w),A=n._diag=new Array(g);n._xaxes={},n._yaxes={};var s=[],E=[];function b(Z,J,re,ne){if(Z){var ue=Z.charAt(0),te=f._splomAxes[ue];if(n["_"+ue+"axes"][Z]=1,ne.push(Z),!(Z in te)){var Q=te[Z]={};re&&(Q.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(Q.type=re.axis.type),re.axis.matches&&(Q.matches=J)))}}}var F=!c&&!T,I=!c&&!h;for(n._axesDim={},o=0;o<g;o++){var N=u[o],_=o===0,O=o===g-1,B=_&&F||O&&I?void 0:y[o],z=_&&I||O&&F?void 0:M[o];b(B,z,N,s),b(z,B,N,E),A[o]=[B,z],n._axesDim[B]=o,n._axesDim[z]=o}for(o=0;o<s.length;o++)for(d=0;d<E.length;d++){var U=s[o]+E[d];(o>d&&h||o<d&&T||o===d&&(c||!T||!h))&&(f._splomSubplots[U]=1)}(!T||!c&&h&&T)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(G,V,e){var m=e(3400),P=e(90136),i=e(84236).markerStyle;G.exports=function(S,v){var p=v.trace,r=S._fullLayout._splomScenes[p.uid];if(r){P(S,p),m.extendFlat(r.matrixOptions,i(S,p));var t=m.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,V){V.getDimIndex=function(m,P){for(var i=P._id,L=i.charAt(0),S={x:0,y:1}[L],v=m._visibleDims,p=0;p<v.length;p++){var r=v[p];if(m._diag[r][S]===i)return p}return!1}},72248:function(G,V,e){var m=e(50328),P=e(41272).calcHover,i=e(54460).getFromId,L=e(92880).extendFlat;function S(p,r,t,a,n){n||(n={});var f=(a||"").charAt(0)==="x",l=(a||"").charAt(0)==="y",u=v(p,r,t);if((f||l)&&n.hoversubplots==="axis"&&u[0])for(var g=(f?p.xa:p.ya)._subplotsWith,h=n.gd,T=L({},p),c=0;c<g.length;c++){var o=g[c];if(o!==p.xa._id+p.ya._id){l?T.xa=i(h,o,"x"):T.ya=i(h,o,"y");var d=f||l,x=v(T,r,t,d);u=u.concat(x)}}return u}function v(p,r,t,a){var n=p.cd,f=n[0].trace,l=p.scene,u=l.matrixOptions.cdata,g=p.xa,h=p.ya,T=g.c2p(r),c=h.c2p(t),o=p.distance,d=m.getDimIndex(f,g),x=m.getDimIndex(f,h);if(d===!1||x===!1)return[p];for(var w=u[d],C=u[x],y,M,A=o,s=0;s<w.length;s++)if(!(a&&s!==p.index)){var E=w[s],b=C[s],F=g.c2p(E)-T,I=h.c2p(b)-c,N=Math.sqrt(F*F+I*I);(a||N<A)&&(A=M=N,y=s)}return p.index=y,p.distance=A,p.dxy=M,y===void 0?[p]:[P(p,w,C,f)]}G.exports={hoverPoints:S}},97924:function(G,V,e){var m=e(28888);m.basePlotModule=e(99332),G.exports=m},54840:function(G,V,e){var m=e(55795),P=e(3400),i=e(79811),L=e(72760).selectMode;G.exports=function(p,r,t){if(t.length)for(var a=0;a<t.length;a++)S(p,t[a][0])};function S(v,p){var r=v._fullLayout,t=r._size,a=p.trace,n=p.t,f=r._splomScenes[a.uid],l=f.matrixOptions,u=l.cdata,g=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,o,d,x;if(u.length!==0){l.lower=a.showupperhalf,l.upper=a.showlowerhalf,l.diagonal=a.diagonal.visible;var w=a._visibleDims,C=u.length,y=f.viewOpts={};for(y.ranges=new Array(C),y.domains=new Array(C),x=0;x<w.length;x++){o=w[x];var M=y.ranges[x]=new Array(4),A=y.domains[x]=new Array(4);T=i.getFromId(v,a._diag[o][0]),T&&(M[0]=T._rl[0],M[2]=T._rl[1],A[0]=T.domain[0],A[2]=T.domain[1]),c=i.getFromId(v,a._diag[o][1]),c&&(M[1]=c._rl[0],M[3]=c._rl[1],A[1]=c.domain[0],A[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,E=t.l*s,b=t.b*s,F=t.w*s,I=t.h*s;y.viewport=[E,b,F+E,I+b],f.matrix===!0&&(f.matrix=m(g));var N=r.clickmode.indexOf("select")>-1,_=L(h)||!!a.selectedpoints||N,O=!0;if(_){var B=a._length;if(a.selectedpoints){f.selectBatch=a.selectedpoints;var z=a.selectedpoints,U={};for(o=0;o<z.length;o++)U[z[o]]=!0;var Z=[];for(o=0;o<B;o++)U[o]||Z.push(o);f.unselectBatch=Z}var J=n.xpx=new Array(C),re=n.ypx=new Array(C);for(x=0;x<w.length;x++){if(o=w[x],T=i.getFromId(v,a._diag[o][0]),T)for(J[x]=new Array(B),d=0;d<B;d++)J[x][d]=T.c2p(u[x][d]);if(c=i.getFromId(v,a._diag[o][1]),c)for(re[x]=new Array(B),d=0;d<B;d++)re[x][d]=c.c2p(u[x][d])}if(f.selectBatch.length||f.unselectBatch.length){var ne=P.extendFlat({},l,f.unselectedOptions,y),ue=P.extendFlat({},l,f.selectedOptions,y);f.matrix.update(ne,ue),O=!1}}else n.xpx=n.ypx=null;if(O){var te=P.extendFlat({},l,y);f.matrix.update(te,null)}}}},72308:function(G,V,e){var m=e(3400);G.exports=function(i,L){var S=i._fullLayout,v=L.uid,p=S._splomScenes;p||(p=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},a=p[L.uid];return a||(a=p[v]=m.extendFlat({},r,t),a.draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||m.extendFlat(a,r),a}},62500:function(G,V,e){var m=e(3400),P=m.pushUnique,i=e(43028),L=e(50328);G.exports=function(v,p){var r=v.cd,t=r[0].trace,a=r[0].t,n=v.scene,f=n.matrixOptions.cdata,l=v.xaxis,u=v.yaxis,g=[];if(!n)return g;var h=!i.hasMarkers(t)&&!i.hasText(t);if(t.visible!==!0||h)return g;var T=L.getDimIndex(t,l),c=L.getDimIndex(t,u);if(T===!1||c===!1)return g;var o=a.xpx[T],d=a.ypx[c],x=f[T],w=f[c],C=(v.scene.selectBatch||[]).slice(),y=[];if(p!==!1&&!p.degenerate)for(var M=0;M<x.length;M++)p.contains([o[M],d[M]],null,M,v)?(g.push({pointNumber:M,x:x[M],y:w[M]}),P(C,M)):C.indexOf(M)!==-1?P(C,M):y.push(M);var A=n.matrixOptions;return!C.length&&!y.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,m.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=y,g}},90167:function(G,V,e){var m=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},3832:function(G,V,e){var m=e(3400),P=e(47128);function i(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var a=0,n,f,l;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),l=v(r.starts.z||[]),a=Math.min(n.length,f.length,l.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=l||[];var u=0,g=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],o=r._w[h],d=Math.sqrt(T*T+c*c+o*o);u=Math.max(u,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,u],containerStr:"",cLetter:"c"}),h=0;h<a;h++){var x=n[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var w=f[h];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var C=l[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=a,r._normMax=u,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,a=p._z,n=p._len,f,l,u,g=-1/0,h=1/0,T=-1/0,c=1/0,o=-1/0,d=1/0,x="",w,C,y,M,A,s,E,b,F;for(n&&(M=r[0],s=t[0],b=a[0]),n>1&&(A=r[n-1],E=t[n-1],F=a[n-1]),f=0;f<n;f++)g=Math.max(g,r[f]),h=Math.min(h,r[f]),T=Math.max(T,t[f]),c=Math.min(c,t[f]),o=Math.max(o,a[f]),d=Math.min(d,a[f]),!w&&r[f]!==M&&(w=!0,x+="x"),!C&&t[f]!==s&&(C=!0,x+="y"),!y&&a[f]!==b&&(y=!0,x+="z");w||(x+="x"),C||(x+="y"),y||(x+="z");var I=S(p._x),N=S(p._y),_=S(p._z);x=x.replace("x",(M>A?"-":"+")+"x"),x=x.replace("y",(s>E?"-":"+")+"y"),x=x.replace("z",(b>F?"-":"+")+"z");var O=function(){n=0,I=[],N=[],_=[]};(!n||n<I.length*N.length*_.length)&&O();var B=function(ce){return ce==="x"?r:ce==="y"?t:a},z=function(ce){return ce==="x"?I:ce==="y"?N:_},U=function(ce){return ce[n-1]<ce[0]?-1:1},Z=B(x[1]),J=B(x[3]),re=B(x[5]),ne=z(x[1]).length,ue=z(x[3]).length,te=z(x[5]).length,Q=!1,ie=function(ce,ye,we){return ne*(ue*ce+ye)+we},Y=U(B(x[1])),$=U(B(x[3])),oe=U(B(x[5]));for(f=0;f<te-1;f++){for(l=0;l<ue-1;l++){for(u=0;u<ne-1;u++){var j=ie(f,l,u),X=ie(f,l,u+1),se=ie(f,l+1,u),q=ie(f+1,l,u);if((!(Z[j]*Y<Z[X]*Y)||!(J[j]*$<J[se]*$)||!(re[j]*oe<re[q]*oe))&&(Q=!0),Q)break}if(Q)break}if(Q)break}return Q&&(m.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:h,yMin:c,zMin:d,xMax:g,yMax:T,zMax:o,Xs:I,Ys:N,Zs:_,len:n,fill:x}}function S(p){return m.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),m.isTypedArray(p))return p.subarray(0,r);for(var t=[],a=0;a<r;a++)t[a]=+p[a];return t}G.exports={calc:i,filter:v,processGrid:L}},25668:function(G,V,e){var m=e(67792).gl_streamtube3d,P=m.createTubeMesh,i=e(3400),L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(u,g){this.scene=u,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(u){var g=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,x){var w=g[x],C=h[p[x]];return w.l2c(d)/C}if(u.object===this.mesh){var c=u.data.position,o=u.data.velocity;return u.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(o[0],"xaxis"),T(o[1],"yaxis"),T(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function a(u){var g=u.length,h;return g>2?h=u.slice(1,g-1):g===2?h=[(u[0]+u[1])/2]:h=u,h}function n(u){var g=u.length;return g===1?[.5,.5]:[u[1]-u[0],u[g-1]-u[g-2]]}function f(u,g){var h=u.fullSceneLayout,T=u.dataScale,c=g._len,o={};function d(ue,te){var Q=h[te],ie=T[p[te]];return i.simpleMap(ue,function(Y){return Q.d2l(Y)*ie})}if(o.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=d(g._Xs,"xaxis"),w=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");o.meshgrid=[x,w,C],o.gridFill=g._gridFill;var y=g._slen;if(y)o.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var M=w[0],A=a(x),s=a(C),E=new Array(A.length*s.length),b=0,F=0;F<A.length;F++)for(var I=0;I<s.length;I++)E[b++]=[A[F],M,s[I]];o.startingPositions=E}o.colormap=L(g),o.tubeSize=g.sizeref,o.maxLength=g.maxdisplayed;var N=d(g._xbnds,"xaxis"),_=d(g._ybnds,"yaxis"),O=d(g._zbnds,"zaxis"),B=n(x),z=n(w),U=n(C),Z=[[N[0]-B[0],_[0]-z[0],O[0]-U[0]],[N[1]+B[1],_[1]+z[1],O[1]+U[1]]],J=m(o,Z),re=S(g);J.vertexIntensityBounds=[re.min/g._normMax,re.max/g._normMax];var ne=g.lightposition;return J.lightPosition=[ne.x,ne.y,ne.z],J.ambient=g.lighting.ambient,J.diffuse=g.lighting.diffuse,J.specular=g.lighting.specular,J.roughness=g.lighting.roughness,J.fresnel=g.lighting.fresnel,J.opacity=g.opacity,g._pad=J.tubeScale*g.sizeref*2,J}t.update=function(u){this.data=u;var g=f(this.scene,u);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(u,g){var h=u.glplot.gl,T=f(u,g),c=P(h,T),o=new r(u,g.uid);return o.mesh=c,o.data=g,c._trace=o,u.glplot.add(c),o}G.exports=l},54304:function(G,V,e){var m=e(3400),P=e(27260),i=e(90167);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,i,h,T)}var a=t("u"),n=t("v"),f=t("w"),l=t("x"),u=t("y"),g=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!l||!l.length||!u||!u.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,V,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(m,P){return m.tubex=m.x,m.tubey=m.y,m.tubez=m.z,m.tubeu=P.traceCoordinate[3],m.tubev=P.traceCoordinate[4],m.tubew=P.traceCoordinate[5],m.norm=P.traceCoordinate[6],m.divergence=P.traceCoordinate[7],delete m.x,delete m.y,delete m.z,m},meta:{}}},424:function(G,V,e){var m=e(45464),P=e(21776).Ks,i=e(21776).Gw,L=e(49084),S=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},m.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,V,e){var m=e(7316);V.name="sunburst",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},3776:function(G,V,e){var m=e(74148),P=e(38248),i=e(3400),L=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},a={},n={};V.calc=function(l,u){var g=l._fullLayout,h=u.ids,T=i.isArrayOrTypedArray(h),c=u.labels,o=u.parents,d=u.values,x=i.isArrayOrTypedArray(d),w=[],C={},y={},M=function(Y,$){C[Y]?C[Y].push($):C[Y]=[$],y[$]=1},A=function(Y){return Y||typeof Y=="number"},s=function(Y){return!x||P(d[Y])&&d[Y]>=0},E,b,F;T?(E=Math.min(h.length,o.length),b=function(Y){return A(h[Y])&&s(Y)},F=function(Y){return String(h[Y])}):(E=Math.min(c.length,o.length),b=function(Y){return A(c[Y])&&s(Y)},F=function(Y){return String(c[Y])}),x&&(E=Math.min(E,d.length));for(var I=0;I<E;I++)if(b(I)){var N=F(I),_=A(o[I])?String(o[I]):"",O={i:I,id:N,pid:_,label:A(c[I])?String(c[I]):""};x&&(O.v=+d[I]),w.push(O),M(_,N)}if(C[""]){if(C[""].length>1){for(var U=i.randstr(),Z=0;Z<w.length;Z++)w[Z].pid===""&&(w[Z].pid=U);w.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var B=[],z;for(z in C)y[z]||B.push(z);if(B.length===1)z=B[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return i.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",B.join(", ")].join(" "))}var J;try{J=m.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(w)}catch(Y){return i.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",Y.message].join(" "))}var re=m.hierarchy(J),ne=!1;if(x)switch(u.branchvalues){case"remainder":re.sum(function(Y){return Y.data.v});break;case"total":re.each(function(Y){var $=Y.data.data,oe=$.v;if(Y.children){var j=Y.children.reduce(function(X,se){return X+se.data.data.v},0);if(($.hasImpliedRoot||$.hasMultipleRoots)&&(oe=j),oe<j*r)return ne=!0,i.warn(["Total value for node",Y.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,j].join(" "))}Y.value=oe});break}else f(re,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ne){u.sort&&re.sort(function(Y,$){return $.value-Y.value});var ue,te,Q=u.marker.colors||[],ie=!!Q.length;return u._hasColorscale?(ie||(Q=x?u.values:u._values),p(l,u,{vals:Q,containerStr:"marker",cLetter:"c"}),te=L(u.marker)):ue=S(g["_"+u.type+"colormap"]),re.each(function(Y){var $=Y.data.data;$.color=u._hasColorscale?te(Q[$.i]):ue(Q[$.i],$.id)}),w[0].hierarchy=re,w}},V._runCrossTraceCalc=function(l,u){var g=u._fullLayout,h=u.calcdata,T=g[l+"colorway"],c=g["_"+l+"colormap"];g["extend"+l+"colors"]&&(T=v(T,l==="icicle"?n:l==="treemap"?a:t));var o=0,d;function x(M){var A=M.data.data,s=A.id;A.color===!1&&(c[s]?A.color=c[s]:M.parent?M.parent.parent?A.color=M.parent.data.data.color:(c[s]=A.color=T[o%T.length],o++):A.color=d)}for(var w=0;w<h.length;w++){var C=h[w],y=C[0];y.trace.type===l&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(x))}},V.crossTraceCalc=function(l){return V._runCrossTraceCalc("sunburst",l)};function f(l,u,g){var h=0,T=l.children;if(T){for(var c=T.length,o=0;o<c;o++)h+=f(T[o],u,g);g.branches&&h++}else g.leaves&&h++;return l.value=l.data.data.value=h,u._values||(u._values=[]),u._values[l.data.data.i]=h,h}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,V,e){var m=e(3400),P=e(424),i=e(86968).Q,L=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(a,n,f,l){function u(x,w){return m.coerce(a,n,P,x,w)}var g=u("labels"),h=u("parents");if(!g||!g.length||!h||!h.length){n.visible=!1;return}var T=u("values");T&&T.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),S(a,n,l,u);var c=n._hasColorscale=p(a,"marker","colors")||(a.marker||{}).coloraxis;c&&r(a,n,l,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",c?1:.7);var o=u("text");u("texttemplate"),n.texttemplate||u("textinfo",m.isArrayOrTypedArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d="auto";L(a,n,l,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),i(n,l,u),n._length=null}},60404:function(G,V,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p,r){var t=S.data.data,a=t.i,n=r||t.color;if(a>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),m.pointStyle(L,v,p,S)}else P.fill(L,n)}},45716:function(G,V,e){var m=e(33428),P=e(24040),i=e(10624).appendArrayPointValue,L=e(93024),S=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(f,l,u,g,h){var T=g[0],c=T.trace,o=T.hierarchy,d=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var w=function(M){var A=u._fullLayout;if(!(u._dragging||A.hovermode===!1)){var s=u._fullData[c.index],E=M.data.data,b=E.i,F=p.isHierarchyRoot(M),I=p.getParent(o,M),N=p.getValue(M),_=function(X){return S.castOption(s,b,X)},O=_("hovertemplate"),B=L.castHoverinfo(s,A,b),z=A.separators,U;if(O||B&&B!=="none"&&B!=="skip"){var Z,J;d&&(Z=T.cx+M.pxmid[0]*(1-M.rInscribed),J=T.cy+M.pxmid[1]*(1-M.rInscribed)),x&&(Z=M._hoverX,J=M._hoverY);var re={},ne=[],ue=[],te=function(X){return ne.indexOf(X)!==-1};B&&(ne=B==="all"?s._module.attributes.hoverinfo.flags:B.split("+")),re.label=E.label,te("label")&&re.label&&ue.push(re.label),E.hasOwnProperty("v")&&(re.value=E.v,re.valueLabel=t(re.value,z),te("value")&&ue.push(re.valueLabel)),re.currentPath=M.currentPath=p.getPath(M.data),te("current path")&&!F&&ue.push(re.currentPath);var Q,ie=[],Y=function(){ie.indexOf(Q)===-1&&(ue.push(Q),ie.push(Q))};re.percentParent=M.percentParent=N/p.getValue(I),re.parent=M.parentString=p.getPtLabel(I),te("percent parent")&&(Q=p.formatPercent(re.percentParent,z)+" of "+re.parent,Y()),re.percentEntry=M.percentEntry=N/p.getValue(l),re.entry=M.entry=p.getPtLabel(l),te("percent entry")&&!F&&!M.onPathbar&&(Q=p.formatPercent(re.percentEntry,z)+" of "+re.entry,Y()),re.percentRoot=M.percentRoot=N/p.getValue(o),re.root=M.root=p.getPtLabel(o),te("percent root")&&!F&&(Q=p.formatPercent(re.percentRoot,z)+" of "+re.root,Y()),re.text=_("hovertext")||_("text"),te("text")&&(Q=re.text,S.isValidTextValue(Q)&&ue.push(Q)),U=[a(M,s,h.eventDataKeys)];var $={trace:s,y:J,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:ue.join("<br>"),name:O||te("name")?s.name:void 0,color:_("hoverlabel.bgcolor")||E.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),fontWeight:_("hoverlabel.font.weight"),fontStyle:_("hoverlabel.font.style"),fontVariant:_("hoverlabel.font.variant"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:re,eventData:U};d&&($.x0=Z-M.rInscribed*M.rpx1,$.x1=Z+M.rInscribed*M.rpx1,$.idealAlign=M.pxmid[0]<0?"left":"right"),x&&($.x=Z,$.idealAlign=Z<0?"left":"right");var oe=[];L.loneHover($,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:u,inOut_bbox:oe}),U[0].bbox=oe[0],c._hasHoverLabel=!0}if(x){var j=f.select("path.surface");h.styleOne(j,M,s,u,{hovered:!0})}c._hasHoverEvent=!0,u.emit("plotly_hover",{points:U||[a(M,s,h.eventDataKeys)],event:m.event})}},C=function(M){var A=u._fullLayout,s=u._fullData[c.index],E=m.select(this).datum();if(c._hasHoverEvent&&(M.originalEvent=m.event,u.emit("plotly_unhover",{points:[a(E,s,h.eventDataKeys)],event:m.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),c._hasHoverLabel=!1),x){var b=f.select("path.surface");h.styleOne(b,E,s,u,{hovered:!1})}},y=function(M){var A=u._fullLayout,s=u._fullData[c.index],E=d&&(p.isHierarchyRoot(M)||p.isLeaf(M)),b=p.getPtId(M),F=p.isEntry(M)?p.findEntryWithChild(o,b):p.findEntryWithLevel(o,b),I=p.getPtId(F),N={points:[a(M,s,h.eventDataKeys)],event:m.event};E||(N.nextLevel=I);var _=v.triggerHandler(u,"plotly_"+c.type+"click",N);if(_!==!1&&A.hovermode&&(u._hoverdata=[a(M,s,h.eventDataKeys)],L.click(u,m.event)),!E&&_!==!1&&!u._dragging&&!u._transitioning){P.call("_storeDirectGUIEdit",s,A._tracePreGUI[s.uid],{level:s.level});var O={data:[{level:I}],traces:[c.index]},B={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),P.call("animate",u,O,B)}};f.on("mouseover",w),f.on("mouseout",C),f.on("click",y)};function a(n,f,l){for(var u=n.data.data,g={curveNumber:f.index,pointNumber:u.i,data:f._input,fullData:f},h=0;h<l.length;h++){var T=l[h];T in n&&(g[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),i(g,f,u.i),g}},78176:function(G,V,e){var m=e(3400),P=e(76308),i=e(93972),L=e(69656);V.findEntryWithLevel=function(r,t){var a;return t&&r.eachAfter(function(n){if(V.getPtId(n)===t)return a=n.copy()}),a||r},V.findEntryWithChild=function(r,t){var a;return r.eachAfter(function(n){for(var f=n.children||[],l=0;l<f.length;l++){var u=f[l];if(V.getPtId(u)===t)return a=n.copy()}}),a||r},V.isEntry=function(r){return!r.parent},V.isLeaf=function(r){return!r.children},V.getPtId=function(r){return r.data.data.id},V.getPtLabel=function(r){return r.data.data.label},V.getValue=function(r){return r.value},V.isHierarchyRoot=function(r){return p(r)===""},V.setSliceCursor=function(r,t,a){var n=a.isTransitioning;if(!n){var f=r.datum();n=a.hideOnRoot&&V.isHierarchyRoot(f)||a.hideOnLeaves&&V.isLeaf(f)}i(r,n?null:"pointer")};function S(r,t,a){return{color:V.getOutsideTextFontKey("color",r,t,a),family:V.getOutsideTextFontKey("family",r,t,a),size:V.getOutsideTextFontKey("size",r,t,a),weight:V.getOutsideTextFontKey("weight",r,t,a),style:V.getOutsideTextFontKey("style",r,t,a),variant:V.getOutsideTextFontKey("variant",r,t,a),textcase:V.getOutsideTextFontKey("textcase",r,t,a),lineposition:V.getOutsideTextFontKey("lineposition",r,t,a),shadow:V.getOutsideTextFontKey("shadow",r,t,a)}}function v(r,t,a,n){var f=(n||{}).onPathbar,l=t.data.data,u=l.i,g=m.castOption(r,u,(f?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=m.castOption(r._input,u,"textfont.color")),{color:g||P.contrast(l.color),family:V.getInsideTextFontKey("family",r,t,a,n),size:V.getInsideTextFontKey("size",r,t,a,n),weight:V.getInsideTextFontKey("weight",r,t,a,n),style:V.getInsideTextFontKey("style",r,t,a,n),variant:V.getInsideTextFontKey("variant",r,t,a,n),textcase:V.getInsideTextFontKey("textcase",r,t,a,n),lineposition:V.getInsideTextFontKey("lineposition",r,t,a,n),shadow:V.getInsideTextFontKey("shadow",r,t,a,n)}}V.getInsideTextFontKey=function(r,t,a,n,f){var l=(f||{}).onPathbar,u=l?"pathbar.textfont":"insidetextfont",g=a.data.data.i;return m.castOption(t,g,u+"."+r)||m.castOption(t,g,"textfont."+r)||n.size},V.getOutsideTextFontKey=function(r,t,a,n){var f=a.data.data.i;return m.castOption(t,f,"outsidetextfont."+r)||m.castOption(t,f,"textfont."+r)||n.size},V.isOutsideText=function(r,t){return!r._hasColorscale&&V.isHierarchyRoot(t)},V.determineTextFont=function(r,t,a,n){return V.isOutsideText(r,t)?S(r,t,a):v(r,t,a,n)},V.hasTransition=function(r){return!!(r&&r.duration>0)},V.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},V.isHeader=function(r,t){return!(V.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}V.getParent=function(r,t){return V.findEntryWithLevel(r,p(t))},V.listPath=function(r,t){var a=r.parent;if(!a)return[];var n=t?[a.data[t]]:[a];return V.listPath(a,t).concat(n)},V.getPath=function(r){return V.listPath(r,"label").join("/")+"/"},V.formatValue=L.formatPieValue,V.formatPercent=function(r,t){var a=m.formatPercent(r,0);return a==="0%"&&(a=L.formatPiePercent(r,t)),a}},5621:function(G,V,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,V,e){var m=e(3400),P=e(84920);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(G,V,e){var m=e(33428),P=e(74148),i=e(67756).qy,L=e(43616),S=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,a=e(37820),n=e(69656).getRotationAngle,f=a.computeTransform,l=a.transformInsideText,u=e(85676).styleOne,g=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);V.plot=function(y,M,A,s){var E=y._fullLayout,b=E._sunburstlayer,F,I,N=!A,_=!E.uniformtext.mode&&c.hasTransition(A);if(t("sunburst",E),F=b.selectAll("g.trace.sunburst").data(M,function(B){return B[0].trace.uid}),F.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),_){s&&(I=s());var O=m.transition().duration(A.duration).ease(A.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});O.each(function(){b.selectAll("g.trace").each(function(B){o(y,B,this,A)})})}else F.each(function(B){o(y,B,this,A)}),E.uniformtext.mode&&g(y,E._sunburstlayer.selectAll(".trace"),"sunburst");N&&F.exit().remove()};function o(y,M,A,s){var E=y._context.staticPlot,b=y._fullLayout,F=!b.uniformtext.mode&&c.hasTransition(s),I=m.select(A),N=I.selectAll("g.slice"),_=M[0],O=_.trace,B=_.hierarchy,z=c.findEntryWithLevel(B,O.level),U=c.getMaxDepth(O),Z=b._size,J=O.domain,re=Z.w*(J.x[1]-J.x[0]),ne=Z.h*(J.y[1]-J.y[0]),ue=.5*Math.min(re,ne),te=_.cx=Z.l+Z.w*(J.x[1]+J.x[0])/2,Q=_.cy=Z.t+Z.h*(1-J.y[0])-ne/2;if(!z)return N.remove();var ie=null,Y={};F&&N.each(function(He){Y[c.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!ie&&c.isEntry(He)&&(ie=He)});var $=d(z).descendants(),oe=z.height+1,j=0,X=U;_.hasMultipleRoots&&c.isHierarchyRoot(z)&&($=$.slice(1),oe-=1,j=1,X+=1),$=$.filter(function(He){return He.y1<=X});var se=n(O.rotation);se&&$.forEach(function(He){He.x0+=se,He.x1+=se});var q=Math.min(oe,U),ce=function(He){return(He-j)/q*ue},ye=function(He,rt){return[He*Math.cos(rt),-He*Math.sin(rt)]},we=function(He){return S.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,te,Q)},be=function(He){return te+w(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},De=function(He){return Q+w(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};N=N.data($,c.getPtId),N.enter().append("g").classed("slice",!0),F?N.exit().transition().each(function(){var He=m.select(this),rt=He.select("path.surface");rt.transition().attrTween("d",function($e){var qe=Ie($e);return function(ht){return we(qe(ht))}});var ot=He.select("g.slicetext");ot.attr("opacity",0)}).remove():N.exit().remove(),N.order();var ke=null;if(F&&ie){var Be=c.getPtId(ie);N.each(function(He){ke===null&&c.getPtId(He)===Be&&(ke=He.x1)})}var Ae=N;F&&(Ae=Ae.transition().each("end",function(){var He=m.select(this);c.setSliceCursor(He,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ae.each(function(He){var rt=m.select(this),ot=S.ensureSingle(rt,"path","surface",function(wt){wt.style("pointer-events",E?"none":"all")});He.rpx0=ce(He.y0),He.rpx1=ce(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=ye(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(S.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=x(He),F?ot.transition().attrTween("d",function(wt){var Mt=Me(wt);return function(nt){return we(Mt(nt))}}):ot.attr("d",we),rt.call(h,z,y,M,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),ot.call(u,He,O,y);var $e=S.ensureSingle(rt,"g","slicetext"),qe=S.ensureSingle($e,"text","",function(wt){wt.attr("data-notex",1)}),ht=S.ensureUniformFontSize(y,c.determineTextFont(O,He,b.font));qe.text(V.formatSliceLabel(He,z,O,M,b)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ht).call(v.convertToTspans,y);var vt=L.bBox(qe.node());He.transform=l(vt,He,_),He.transform.targetX=be(He),He.transform.targetY=De(He);var pt=function(wt,Mt){var nt=wt.transform;return f(nt,Mt),nt.fontSize=ht.size,r(O.type,nt,b),S.getTextTransform(nt)};F?qe.transition().attrTween("transform",function(wt){var Mt=Fe(wt);return function(nt){return pt(Mt(nt),vt)}}):qe.attr("transform",pt(He,vt))});function Ie(He){var rt=c.getPtId(He),ot=Y[rt],$e=Y[c.getPtId(z)],qe;if($e){var ht=(He.x1>$e.x1?2*Math.PI:0)+se;qe=He.rpx1<$e.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ht,x1:ht,rpx0:He.rpx0,rpx1:He.rpx1}}else{var vt,pt=c.getPtId(He.parent);N.each(function(Ge){if(c.getPtId(Ge)===pt)return vt=Ge});var wt=vt.children,Mt;wt.forEach(function(Ge,je){if(c.getPtId(Ge)===rt)return Mt=je});var nt=wt.length,_e=i(vt.x0,vt.x1);qe={rpx0:ue,rpx1:ue,x0:_e(Mt/nt),x1:_e((Mt+1)/nt)}}return i(ot,qe)}function Me(He){var rt=Y[c.getPtId(He)],ot,$e={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(rt)ot=rt;else if(ie)if(He.parent)if(ke){var qe=(He.x1>ke?2*Math.PI:0)+se;ot={x0:qe,x1:qe}}else ot={rpx0:ue,rpx1:ue},S.extendFlat(ot,Ee(He));else ot={rpx0:0,rpx1:0};else ot={x0:se,x1:se};return i(ot,$e)}function Fe(He){var rt=Y[c.getPtId(He)],ot,$e=He.transform;if(rt)ot=rt;else if(ot={rpx1:He.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},ie)if(He.parent)if(ke){var qe=He.x1>ke?2*Math.PI:0;ot.x0=ot.x1=qe}else S.extendFlat(ot,Ee(He));else ot.x0=ot.x1=se;else ot.x0=ot.x1=se;var ht=i(ot.transform.textPosAngle,He.transform.textPosAngle),vt=i(ot.rpx1,He.rpx1),pt=i(ot.x0,He.x0),wt=i(ot.x1,He.x1),Mt=i(ot.transform.scale,$e.scale),nt=i(ot.transform.rotate,$e.rotate),_e=$e.rCenter===0?3:ot.transform.rCenter===0?1/3:1,Ge=i(ot.transform.rCenter,$e.rCenter),je=function(We){return Ge(Math.pow(We,_e))};return function(We){var Pe=vt(We),Re=pt(We),Xe=wt(We),Le=je(We),ve=ye(Pe,(Re+Xe)/2),xe=ht(We),Ne={pxmid:ve,rpx1:Pe,transform:{textPosAngle:xe,rCenter:Le,x:$e.x,y:$e.y}};return r(O.type,$e,b),{transform:{targetX:be(Ne),targetY:De(Ne),scale:Mt(We),rotate:nt(We),rCenter:Le}}}}function Ee(He){var rt=He.parent,ot=Y[c.getPtId(rt)],$e={};if(ot){var qe=rt.children,ht=qe.indexOf(He),vt=qe.length,pt=i(ot.x0,ot.x1);$e.x0=pt(ht/vt),$e.x1=pt(ht/vt)}else $e.x0=$e.x1=0;return $e}}function d(y){return P.partition().size([2*Math.PI,y.height+1])(y)}V.formatSliceLabel=function(y,M,A,s,E){var b=A.texttemplate,F=A.textinfo;if(!b&&(!F||F==="none"))return"";var I=E.separators,N=s[0],_=y.data.data,O=N.hierarchy,B=c.isHierarchyRoot(y),z=c.getParent(O,y),U=c.getValue(y);if(!b){var Z=F.split("+"),J=function(j){return Z.indexOf(j)!==-1},re=[],ne;if(J("label")&&_.label&&re.push(_.label),_.hasOwnProperty("v")&&J("value")&&re.push(c.formatValue(_.v,I)),!B){J("current path")&&re.push(c.getPath(y.data));var ue=0;J("percent parent")&&ue++,J("percent entry")&&ue++,J("percent root")&&ue++;var te=ue>1;if(ue){var Q,ie=function(j){ne=c.formatPercent(Q,I),te&&(ne+=" of "+j),re.push(ne)};J("percent parent")&&!B&&(Q=U/c.getValue(z),ie("parent")),J("percent entry")&&(Q=U/c.getValue(M),ie("entry")),J("percent root")&&(Q=U/c.getValue(O),ie("root"))}}return J("text")&&(ne=S.castOption(A,_.i,"text"),S.isValidTextValue(ne)&&re.push(ne)),re.join("<br>")}var Y=S.castOption(A,_.i,"texttemplate");if(!Y)return"";var $={};_.label&&($.label=_.label),_.hasOwnProperty("v")&&($.value=_.v,$.valueLabel=c.formatValue(_.v,I)),$.currentPath=c.getPath(y.data),B||($.percentParent=U/c.getValue(z),$.percentParentLabel=c.formatPercent($.percentParent,I),$.parent=c.getPtLabel(z)),$.percentEntry=U/c.getValue(M),$.percentEntryLabel=c.formatPercent($.percentEntry,I),$.entry=c.getPtLabel(M),$.percentRoot=U/c.getValue(O),$.percentRootLabel=c.formatPercent($.percentRoot,I),$.root=c.getPtLabel(O),_.hasOwnProperty("color")&&($.color=_.color);var oe=S.castOption(A,_.i,"text");return(S.isValidTextValue(oe)||oe==="")&&($.text=oe),$.customdata=S.castOption(A,_.i,"customdata"),S.texttemplateString(Y,$,E._d3locale,$,A._meta||{})};function x(y){return y.rpx0===0&&S.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function w(y){return C(y.rpx1,y.transform.textPosAngle)}function C(y,M){return[y*Math.sin(M),-y*Math.cos(M)]}},85676:function(G,V,e){var m=e(33428),P=e(76308),i=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(a){var n=m.select(this),f=a[0],l=f.trace;n.style("opacity",l.opacity),n.selectAll("path.surface").each(function(u){m.select(this).call(p,u,l,r)})})}function p(r,t,a,n){var f=t.data.data,l=!t.children,u=f.i,g=i.castOption(a,u,"marker.line.color")||P.defaultLine,h=i.castOption(a,u,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(P.stroke,g).style("opacity",l?a.leaf.opacity:null)}G.exports={style:v,styleOne:p}},16716:function(G,V,e){var m=e(76308),P=e(49084),i=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:m.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:m.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(G,V,e){var m=e(47128);G.exports=function(i,L){L.surfacecolor?m(i,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):m(i,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(G,V,e){var m=e(67792).gl_surface3d,P=e(67792).ndarray,i=e(67792).ndarray_linear_interpolate.d2,L=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function a(s,E,b){this.scene=s,this.uid=b,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=a.prototype;n.getXat=function(s,E,b,F){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[E][s]:this.data.x[s]:s;return b===void 0?I:F.d2l(I,0,b)},n.getYat=function(s,E,b,F){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[E][s]:this.data.y[E]:E;return b===void 0?I:F.d2l(I,0,b)},n.getZat=function(s,E,b,F){var I=this.data.z[E][s];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[E][s]),b===void 0?I:F.d2l(I,0,b)},n.handlePick=function(s){if(s.object===this.surface){var E=(s.data.index[0]-1)/this.dataScaleX-1,b=(s.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);s.index=[F,I],s.traceCoordinate=[this.getXat(F,I),this.getYat(F,I),this.getZat(F,I)],s.dataCoordinate=[this.getXat(F,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var _=s.dataCoordinate[N];_!=null&&(s.dataCoordinate[N]*=this.scene.dataScale[N])}var O=this.data.hovertext||this.data.text;return v(O)&&O[I]&&O[I][F]!==void 0?s.textLabel=O[I][F]:O?s.textLabel=O:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function f(s){var E=s[0].rgb,b=s[s.length-1].rgb;return E[0]===b[0]&&E[1]===b[1]&&E[2]===b[2]&&E[3]===b[3]}var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(s,E){if(s<E)return 0;for(var b=0;Math.floor(s%E)===0;)s/=E,b++;return b}function g(s){for(var E=[],b=0;b<l.length;b++){var F=l[b];E.push(u(s,F))}return E}function h(s){for(var E=g(s),b=s,F=0;F<l.length;F++)if(E[F]>0){b=l[F];break}return b}function T(s,E){if(!(s<1||E<1)){for(var b=g(s),F=g(E),I=1,N=0;N<l.length;N++)I*=Math.pow(l[N],Math.max(b[N],F[N]));return I}}function c(s){if(s.length!==0){for(var E=1,b=0;b<s.length;b++)E=T(E,s[b]);return E}}n.calcXnums=function(s){var E,b=[];for(E=1;E<s;E++){var F=this.getXat(E-1,0),I=this.getXat(E,0);I!==F&&F!==void 0&&F!==null&&I!==void 0&&I!==null?b[E-1]=Math.abs(I-F):b[E-1]=0}var N=0;for(E=1;E<s;E++)N+=b[E-1];for(E=1;E<s;E++)b[E-1]===0?b[E-1]=1:b[E-1]=Math.round(N/b[E-1]);return b},n.calcYnums=function(s){var E,b=[];for(E=1;E<s;E++){var F=this.getYat(0,E-1),I=this.getYat(0,E);I!==F&&F!==void 0&&F!==null&&I!==void 0&&I!==null?b[E-1]=Math.abs(I-F):b[E-1]=0}var N=0;for(E=1;E<s;E++)N+=b[E-1];for(E=1;E<s;E++)b[E-1]===0?b[E-1]=1:b[E-1]=Math.round(N/b[E-1]);return b};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],x=o[13];n.estimateScale=function(s,E){for(var b=E===0?this.calcXnums(s):this.calcYnums(s),F=1+c(b);F<d;)F*=2;for(;F>x;)F--,F/=h(F),F++,F<d&&(F=x);var I=Math.round(F/s);return I>1?I:1};function w(s,E,b){var F=b[8]+b[2]*E[0]+b[5]*E[1];return s[0]=(b[6]+b[0]*E[0]+b[3]*E[1])/F,s[1]=(b[7]+b[1]*E[0]+b[4]*E[1])/F,s}function C(s,E,b){return y(s,E,w,b),s}function y(s,E,b,F){for(var I=[0,0],N=s.shape[0],_=s.shape[1],O=0;O<N;O++)for(var B=0;B<_;B++)b(I,[O,B],F),s.set(O,B,i(E,I[0],I[1]));return s}n.refineCoords=function(s){for(var E=this.dataScaleX,b=this.dataScaleY,F=s[0].shape[0],I=s[0].shape[1],N=Math.floor(s[0].shape[0]*E+1)|0,_=Math.floor(s[0].shape[1]*b+1)|0,O=1+F+1,B=1+I+1,z=P(new Float32Array(O*B),[O,B]),U=[1/E,0,0,0,1/b,0,0,0,1],Z=0;Z<s.length;++Z){this.surface.padField(z,s[Z]);var J=P(new Float32Array(N*_),[N,_]);C(J,z,U),s[Z]=J}};function M(s,E){for(var b=!1,F=0;F<s.length;F++)if(E===s[F]){b=!0;break}b===!1&&s.push(E)}n.setContourLevels=function(){var s=[[],[],[]],E=[!1,!1,!1],b=!1,F,I,N;for(F=0;F<3;++F)if(this.showContour[F]&&(b=!0,this.contourSize[F]>0&&this.contourStart[F]!==null&&this.contourEnd[F]!==null&&this.contourEnd[F]>this.contourStart[F]))for(E[F]=!0,I=this.contourStart[F];I<this.contourEnd[F];I+=this.contourSize[F])N=I*this.scene.dataScale[F],M(s[F],N);if(b){var _=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(_[F]=E[F]?s[F]:this.scene.contourLevels[F]);this.surface.update({levels:_})}},n.update=function(s){var E=this.scene,b=E.fullSceneLayout,F=this.surface,I=p(s),N=E.dataScale,_=s.z[0].length,O=s._ylength,B=E.contourLevels;this.data=s;var z,U,Z,J,re=[];for(z=0;z<3;z++)for(re[z]=[],U=0;U<_;U++)re[z][U]=[];for(U=0;U<_;U++)for(Z=0;Z<O;Z++)re[0][U][Z]=this.getXat(U,Z,s.xcalendar,b.xaxis),re[1][U][Z]=this.getYat(U,Z,s.ycalendar,b.yaxis),re[2][U][Z]=this.getZat(U,Z,s.zcalendar,b.zaxis);if(s.connectgaps)for(s._emptypoints=S(re[2]),L(re[2],s._emptypoints),s._interpolatedZ=[],U=0;U<_;U++)for(s._interpolatedZ[U]=[],Z=0;Z<O;Z++)s._interpolatedZ[U][Z]=re[2][U][Z];for(z=0;z<3;z++)for(U=0;U<_;U++)for(Z=0;Z<O;Z++)J=re[z][U][Z],J==null?re[z][U][Z]=NaN:J=re[z][U][Z]*=N[z];for(z=0;z<3;z++)for(U=0;U<_;U++)for(Z=0;Z<O;Z++)J=re[z][U][Z],J!=null&&(this.minValues[z]>J&&(this.minValues[z]=J),this.maxValues[z]<J&&(this.maxValues[z]=J));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(U=0;U<_;U++)for(Z=0;Z<O;Z++)J=re[z][U][Z],J!=null&&(re[z][U][Z]-=this.objectOffset[z]);var ne=[P(new Float32Array(_*O),[_,O]),P(new Float32Array(_*O),[_,O]),P(new Float32Array(_*O),[_,O])];for(z=0;z<3;z++)for(U=0;U<_;U++)for(Z=0;Z<O;Z++)ne[z].set(U,Z,re[z][U][Z]);re=[];var ue={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},te=t(s);if(ue.intensityBounds=[te.min,te.max],s.surfacecolor){var Q=P(new Float32Array(_*O),[_,O]);for(U=0;U<_;U++)for(Z=0;Z<O;Z++)Q.set(U,Z,s.surfacecolor[Z][U]);ne.push(Q)}else ue.intensityBounds[0]*=N[2],ue.intensityBounds[1]*=N[2];(x<ne[0].shape[0]||x<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),s.surfacecolor&&(ue.intensity=ne.pop());var ie=[!0,!0,!0],Y=["x","y","z"];for(z=0;z<3;++z){var $=s.contours[Y[z]];ie[z]=$.highlight,ue.showContour[z]=$.show||$.highlight,ue.showContour[z]&&(ue.contourProject[z]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[z]=!0,ue.levels[z]=B[z],F.highlightColor[z]=ue.contourColor[z]=r($.color),$.usecolormap?F.highlightTint[z]=ue.contourTint[z]=0:F.highlightTint[z]=ue.contourTint[z]=1,ue.contourWidth[z]=$.width,this.contourStart[z]=$.start,this.contourEnd[z]=$.end,this.contourSize[z]=$.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),$.highlight&&(ue.dynamicColor[z]=r($.highlightcolor),ue.dynamicWidth[z]=$.highlightwidth))}f(I)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ne,F.update(ue),F.visible=s.visible,F.enableDynamic=ie,F.enableHighlight=ie,F.snapToData=!0,"lighting"in s&&(F.ambientLight=s.lighting.ambient,F.diffuseLight=s.lighting.diffuse,F.specularLight=s.lighting.specular,F.roughness=s.lighting.roughness,F.fresnel=s.lighting.fresnel),"lightposition"in s&&(F.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(s,E){var b=s.glplot.gl,F=m({gl:b}),I=new a(s,F,E.uid);return F._trace=I,I.update(E),s.glplot.add(F),I}G.exports=A},60192:function(G,V,e){var m=e(24040),P=e(3400),i=e(27260),L=e(16716),S=.1;function v(n,f){for(var l=[],u=32,g=0;g<u;g++){var h=g/(u-1),T=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));l.push([h,Math.max(0,Math.min(1,T))])}return l}function p(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var l=0;l<n.length;l++){var u=n[l];if(u.length!==2||+u[0]<f)return!1;f=+u[0]}return!0}function r(n,f,l,u){var g,h;function T(s,E){return P.coerce(n,f,L,s,E)}var c=T("x"),o=T("y"),d=T("z");if(!d||!d.length||c&&c.length<1||o&&o.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var x=m.getComponentMethod("calendars","handleTraceDefaults");x(n,f,["x","y","z"],u),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var w=T("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var y="contours."+C[g],M=T(y+".show"),A=T(y+".highlight");if(M||A)for(h=0;h<3;++h)T(y+".project."+C[h]);M&&(T(y+".color"),T(y+".width"),T(y+".usecolormap")),A&&(T(y+".highlightcolor"),T(y+".highlightwidth")),T(y+".start"),T(y+".end"),T(y+".size")}w||(a(n,"zmin","cmin"),a(n,"zmax","cmax"),a(n,"zauto","cauto")),i(n,f,u,T,{prefix:"",cLetter:"c"}),t(n,f,u,T),f._length=null}function t(n,f,l,u){var g=u("opacityscale");g==="max"?f.opacityscale=[[0,S],[1,1]]:g==="min"?f.opacityscale=[[0,1],[1,S]]:g==="extremes"?f.opacityscale=v(1,S):p(g)||(f.opacityscale=void 0)}function a(n,f,l){f in n&&!(l in n)&&(n[l]=n[f])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,V,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,V,e){var m=e(13916),P=e(92880).extendFlat,i=e(67824).overrideAll,L=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=G.exports=i({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(G,V,e){var m=e(84888)._M,P=e(24752),i="table";V.name=i,V.plot=function(L){var S=m(L.calcdata,i)[0];S.length&&P(L,S)},V.clean=function(L,S,v,p){var r=p._has&&p._has(i),t=S._has&&S._has(i);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(G,V,e){var m=e(71688).wrap;G.exports=function(){return m({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,V,e){var m=e(23536),P=e(92880).extendFlat,i=e(38248),L=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;G.exports=function(g,h){var T=r(h.cells.values),c=function(J){return J.slice(h.header.values.length,J.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var d=o.concat(c(T).map(function(){return t((o[0]||[""]).length)})),x=h.domain,w=Math.floor(g._fullLayout._size.w*(x.x[1]-x.x[0])),C=Math.floor(g._fullLayout._size.h*(x.y[1]-x.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[m.emptyHeaderHeight],M=T.length?T[0].map(function(){return h.cells.height}):[],A=y.reduce(p,0),s=C-A,E=s+m.uplift,b=f(M,E),F=f(y,A),I=n(F,[]),N=n(b,I),_={},O=h._fullInput.columnorder;S(O)&&(O=Array.from(O)),O=O.concat(c(T.map(function(J,re){return re})));var B=d.map(function(J,re){var ne=S(h.columnwidth)?h.columnwidth[Math.min(re,h.columnwidth.length-1)]:h.columnwidth;return i(ne)?Number(ne):1}),z=B.reduce(p,0);B=B.map(function(J){return J/z*w});var U=Math.max(v(h.header.line.width),v(h.cells.line.width)),Z={key:h.uid+g._context.staticPlot,translateX:x.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-x.y[1]),size:g._fullLayout._size,width:w,maxLineWidth:U,height:C,columnOrder:O,groupHeight:C,rowBlocks:N,headerRowBlocks:I,scrollY:0,cells:P({},h.cells,{values:T}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function(J){return J[0]}),gdColumnsOriginalOrder:d.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(J,re){var ne=_[J];_[J]=(ne||0)+1;var ue=J+"__"+_[J];return{key:ue,label:J,specIndex:re,xIndex:O[re],xScale:a,x:void 0,calcdata:void 0,columnWidth:B[re]}})};return Z.columns.forEach(function(J){J.calcdata=Z,J.x=a(J)}),Z};function v(u){if(S(u)){for(var g=0,h=0;h<u.length;h++)g=Math.max(g,v(u[h]));return g}return u}function p(u,g){return u+g}function r(u){var g=u.slice(),h=1/0,T=0,c;for(c=0;c<g.length;c++)L(g[c])?g[c]=Array.from(g[c]):S(g[c])||(g[c]=[g[c]]),h=Math.min(h,g[c].length),T=Math.max(T,g[c].length);if(h!==T)for(c=0;c<g.length;c++){var o=T-g[c].length;o&&(g[c]=g[c].concat(t(o)))}return g}function t(u){for(var g=new Array(u),h=0;h<u;h++)g[h]="";return g}function a(u){return u.calcdata.columns.reduce(function(g,h){return h.xIndex<u.xIndex?g+h.columnWidth:g},0)}function n(u,g){var h=Object.keys(u);return h.map(function(T){return P({},u[T],{auxiliaryBlocks:g})})}function f(u,g){for(var h={},T,c=0,o=0,d=l(),x=0,w=0,C=0;C<u.length;C++)T=u[C],d.rows.push({rowIndex:C,rowHeight:T}),o+=T,(o>=g||C===u.length-1)&&(h[c]=d,d.key=w++,d.firstRowIndex=x,d.lastRowIndex=C,d=l(),c+=o,x=C+1,o=0);return h}function l(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,V,e){var m=e(92880).extendFlat;V.splitToPanels=function(i){var L=[0,0],S=m({},i,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:m({},i.calcdata,{cells:i.calcdata.headerCells})}),v=m({},i,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),p=m({},i,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,p,S]},V.splitToCells=function(i){var L=P(i);return(i.values||[]).slice(L[0],L[1]).map(function(S,v){var p=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:S}})};function P(i){var L=i.rowBlocks[i.page],S=L?L.rows[0].rowIndex:0,v=L?S+L.rows.length:0;return[S,v]}},53212:function(G,V,e){var m=e(3400),P=e(60520),i=e(86968).Q;function L(S,v){for(var p=S.columnorder||[],r=S.header.values.length,t=p.slice(0,r),a=t.slice().sort(function(l,u){return l-u}),n=t.map(function(l){return a.indexOf(l)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}G.exports=function(v,p,r,t){function a(n,f){return m.coerce(v,p,P,n,f)}i(p,t,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),m.coerceFont(a,"header.font",t.font),L(p,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),m.coerceFont(a,"cells.font",t.font),p._length=null}},41724:function(G,V,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,V,e){var m=e(23536),P=e(33428),i=e(3400),L=i.numberFormat,S=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,a=e(3400).cancelTransition,n=e(55992),f=e(53056),l=e(76308);G.exports=function(se,q){var ce=!se._context.staticPlot,ye=se._fullLayout._paper.selectAll("."+m.cn.table).data(q.map(function($e){var qe=S.unwrap($e),ht=qe.trace;return n(se,ht)}),S.keyFun);ye.exit().remove(),ye.enter().append("g").classed(m.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return t($e.translateX,$e.translateY)});var we=ye.selectAll("."+m.cn.tableControlView).data(S.repeat,S.keyFun),be=we.enter().append("g").classed(m.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var De="onwheel"in document?"wheel":"mousewheel";be.on("mousemove",function($e){we.filter(function(qe){return $e===qe}).call(c,se)}).on(De,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var qe=$e.scrollY+P.event.deltaY,ht=J(se,we,null,qe)($e);ht||(P.event.stopPropagation(),P.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(c,se,!0)}we.attr("transform",function($e){return t($e.size.l,$e.size.t)});var ke=we.selectAll("."+m.cn.scrollBackground).data(S.repeat,S.keyFun);ke.enter().append("rect").classed(m.cn.scrollBackground,!0).attr("fill","none"),ke.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),we.each(function($e){v.setClipUrl(P.select(this),g(se,$e),se)});var Be=we.selectAll("."+m.cn.yColumn).data(function($e){return $e.columns},S.keyFun);Be.enter().append("g").classed(m.cn.yColumn,!0),Be.exit().remove(),Be.attr("transform",function($e){return t($e.x,0)}),ce&&Be.call(P.behavior.drag().origin(function($e){var qe=P.select(this);return _(qe,$e,-m.uplift),r(this),$e.calcdata.columnDragInProgress=!0,c(we.filter(function(ht){return $e.calcdata.key===ht.key}),se),$e}).on("drag",function($e){var qe=P.select(this),ht=function(wt){return($e===wt?P.event.x:wt.x)+wt.columnWidth/2};$e.x=Math.max(-m.overdrag,Math.min($e.calcdata.width+m.overdrag-$e.columnWidth,P.event.x));var vt=T(Be).filter(function(wt){return wt.calcdata.key===$e.calcdata.key}),pt=vt.sort(function(wt,Mt){return ht(wt)-ht(Mt)});pt.forEach(function(wt,Mt){wt.xIndex=Mt,wt.x=$e===wt?wt.x:wt.xScale(wt)}),Be.filter(function(wt){return $e!==wt}).transition().ease(m.transitionEase).duration(m.transitionDuration).attr("transform",function(wt){return t(wt.x,0)}),qe.call(a).attr("transform",t($e.x,-m.uplift))}).on("dragend",function($e){var qe=P.select(this),ht=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,_(qe,$e,0),I(se,ht,ht.columns.map(function(vt){return vt.xIndex}))})),Be.each(function($e){v.setClipUrl(P.select(this),h(se,$e),se)});var Ae=Be.selectAll("."+m.cn.columnBlock).data(f.splitToPanels,S.keyFun);Ae.enter().append("g").classed(m.cn.columnBlock,!0).attr("id",function($e){return $e.key}),Ae.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ie=Ae.filter(B),Me=Ae.filter(O);ce&&Me.call(P.behavior.drag().origin(function($e){return P.event.stopPropagation(),$e}).on("drag",J(se,we,-1)).on("dragend",function(){})),o(se,we,Ie,Ae),o(se,we,Me,Ae);var Fe=we.selectAll("."+m.cn.scrollAreaClip).data(S.repeat,S.keyFun);Fe.enter().append("clipPath").classed(m.cn.scrollAreaClip,!0).attr("id",function($e){return g(se,$e)});var Ee=Fe.selectAll("."+m.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Ee.enter().append("rect").classed(m.cn.scrollAreaClipRect,!0).attr("x",-m.overdrag).attr("y",-m.uplift).attr("fill","none"),Ee.attr("width",function($e){return $e.width+2*m.overdrag}).attr("height",function($e){return $e.height+m.uplift});var He=Be.selectAll("."+m.cn.columnBoundary).data(S.repeat,S.keyFun);He.enter().append("g").classed(m.cn.columnBoundary,!0);var rt=Be.selectAll("."+m.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);rt.enter().append("clipPath").classed(m.cn.columnBoundaryClippath,!0),rt.attr("id",function($e){return h(se,$e)});var ot=rt.selectAll("."+m.cn.columnBoundaryRect).data(S.repeat,S.keyFun);ot.enter().append("rect").classed(m.cn.columnBoundaryRect,!0).attr("fill","none"),ot.attr("width",function($e){return $e.columnWidth+2*u($e)}).attr("height",function($e){return $e.calcdata.height+2*u($e)+m.uplift}).attr("x",function($e){return-u($e)}).attr("y",function($e){return-u($e)}),Z(null,Me,we)};function u(X){return Math.ceil(X.calcdata.maxLineWidth/2)}function g(X,se){return"clip"+X._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h(X,se){return"clip"+X._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(X){return[].concat.apply([],X.map(function(se){return se})).map(function(se){return se.__data__})}function c(X,se,q){function ce(Be){var Ae=Be.rowBlocks;return ie(Ae,Ae.length-1)+(Ae.length?Y(Ae[Ae.length-1],1/0):1)}var ye=X.selectAll("."+m.cn.scrollbarKit).data(S.repeat,S.keyFun);ye.enter().append("g").classed(m.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Be){var Ae=Be.scrollbarState;Ae.totalHeight=ce(Be),Ae.scrollableAreaHeight=Be.groupHeight-z(Be),Ae.currentlyVisibleHeight=Math.min(Ae.totalHeight,Ae.scrollableAreaHeight),Ae.ratio=Ae.currentlyVisibleHeight/Ae.totalHeight,Ae.barLength=Math.max(Ae.ratio*Ae.currentlyVisibleHeight,m.goldenRatio*m.scrollbarWidth),Ae.barWiggleRoom=Ae.currentlyVisibleHeight-Ae.barLength,Ae.wiggleRoom=Math.max(0,Ae.totalHeight-Ae.scrollableAreaHeight),Ae.topY=Ae.barWiggleRoom===0?0:Be.scrollY/Ae.wiggleRoom*Ae.barWiggleRoom,Ae.bottomY=Ae.topY+Ae.barLength,Ae.dragMultiplier=Ae.wiggleRoom/Ae.barWiggleRoom}).attr("transform",function(Be){var Ae=Be.width+m.scrollbarWidth/2+m.scrollbarOffset;return t(Ae,z(Be))});var we=ye.selectAll("."+m.cn.scrollbar).data(S.repeat,S.keyFun);we.enter().append("g").classed(m.cn.scrollbar,!0);var be=we.selectAll("."+m.cn.scrollbarSlider).data(S.repeat,S.keyFun);be.enter().append("g").classed(m.cn.scrollbarSlider,!0),be.attr("transform",function(Be){return t(0,Be.scrollbarState.topY||0)});var De=be.selectAll("."+m.cn.scrollbarGlyph).data(S.repeat,S.keyFun);De.enter().append("line").classed(m.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",m.scrollbarWidth).attr("stroke-linecap","round").attr("y1",m.scrollbarWidth/2),De.attr("y2",function(Be){return Be.scrollbarState.barLength-m.scrollbarWidth/2}).attr("stroke-opacity",function(Be){return Be.columnDragInProgress||!Be.scrollbarState.barWiggleRoom||q?0:.4}),De.transition().delay(0).duration(0),De.transition().delay(m.scrollbarHideDelay).duration(m.scrollbarHideDuration).attr("stroke-opacity",0);var ke=we.selectAll("."+m.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);ke.enter().append("line").classed(m.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",m.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Be){var Ae=P.event.y,Ie=this.getBoundingClientRect(),Me=Be.scrollbarState,Fe=Ae-Ie.top,Ee=P.scale.linear().domain([0,Me.scrollableAreaHeight]).range([0,Me.totalHeight]).clamp(!0);Me.topY<=Fe&&Fe<=Me.bottomY||J(se,X,null,Ee(Fe-Me.barLength/2))(Be)}).call(P.behavior.drag().origin(function(Be){return P.event.stopPropagation(),Be.scrollbarState.scrollbarScrollInProgress=!0,Be}).on("drag",J(se,X)).on("dragend",function(){})),ke.attr("y2",function(Be){return Be.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(De.remove(),ke.remove())}function o(X,se,q,ce){var ye=d(q),we=x(ye);M(we);var be=w(we);s(be);var De=y(we),ke=C(De);A(ke),E(ke,se,ce,X),Q(we)}function d(X){var se=X.selectAll("."+m.cn.columnCells).data(S.repeat,S.keyFun);return se.enter().append("g").classed(m.cn.columnCells,!0),se.exit().remove(),se}function x(X){var se=X.selectAll("."+m.cn.columnCell).data(f.splitToCells,function(q){return q.keyWithinBlock});return se.enter().append("g").classed(m.cn.columnCell,!0),se.exit().remove(),se}function w(X){var se=X.selectAll("."+m.cn.cellRect).data(S.repeat,function(q){return q.keyWithinBlock});return se.enter().append("rect").classed(m.cn.cellRect,!0),se}function C(X){var se=X.selectAll("."+m.cn.cellText).data(S.repeat,function(q){return q.keyWithinBlock});return se.enter().append("text").classed(m.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function y(X){var se=X.selectAll("."+m.cn.cellTextHolder).data(S.repeat,function(q){return q.keyWithinBlock});return se.enter().append("g").classed(m.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function M(X){X.each(function(se,q){var ce=se.calcdata.cells.font,ye=se.column.specIndex,we={size:N(ce.size,ye,q),color:N(ce.color,ye,q),family:N(ce.family,ye,q),weight:N(ce.weight,ye,q),style:N(ce.style,ye,q),variant:N(ce.variant,ye,q),textcase:N(ce.textcase,ye,q),lineposition:N(ce.lineposition,ye,q),shadow:N(ce.shadow,ye,q)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,ye,q),se.cellBorderWidth=N(se.calcdata.cells.line.width,ye,q),se.font=we})}function A(X){X.each(function(se){v.font(P.select(this),se.font)})}function s(X){X.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var q=P.select(this);l.stroke(q,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),l.fill(q,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E(X,se,q,ce){X.text(function(ye){var we=ye.column.specIndex,be=ye.rowNumber,De=ye.value,ke=typeof De=="string",Be=ke&&De.match(/<br>/i),Ae=!ke||Be;ye.mayHaveMarkup=ke&&De.match(/[<&>]/);var Ie=b(De);ye.latex=Ie;var Me=Ie?"":N(ye.calcdata.cells.prefix,we,be)||"",Fe=Ie?"":N(ye.calcdata.cells.suffix,we,be)||"",Ee=Ie?null:N(ye.calcdata.cells.format,we,be)||null,He=Me+(Ee?L(Ee)(ye.value):ye.value)+Fe,rt;ye.wrappingNeeded=!ye.wrapped&&!Ae&&!Ie&&(rt=F(He)),ye.cellHeightMayIncrease=Be||Ie||ye.mayHaveMarkup||(rt===void 0?F(He):rt),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var ot;if(ye.wrappingNeeded){var $e=m.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,qe=$e.split(m.wrapSplitCharacter),ht=m.wrapSplitCharacter===" "?qe.map(function(vt){return vt.replace(/<a_href=/ig,"<a href=")}):qe;ye.fragments=ht.map(function(vt){return{text:vt,width:null}}),ye.fragments.push({fragment:m.wrapSpacer,width:null}),ot=ht.join(m.lineBreaker)+m.lineBreaker+m.wrapSpacer}else delete ye.fragments,ot=He;return ot}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var we=this,be=P.select(we),De=ye.wrappingNeeded?ne:ue;ye.needsConvertToTspans?p.convertToTspans(be,ce,De(q,we,se,ce,ye)):P.select(we.parentNode).attr("transform",function(ke){return t(te(ke),m.cellPad)}).attr("text-anchor",function(ke){return{left:"start",center:"middle",right:"end"}[ke.align]})})}function b(X){return typeof X=="string"&&X.match(m.latexCheck)}function F(X){return X.indexOf(m.wrapSplitCharacter)!==-1}function I(X,se,q){var ce=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ye,we){return q[ce.indexOf(ye)]-q[ce.indexOf(we)]}),se.columnorder=q,X.emit("plotly_restyle")}function N(X,se,q){if(i.isArrayOrTypedArray(X)){var ce=X[Math.min(se,X.length-1)];return i.isArrayOrTypedArray(ce)?ce[Math.min(q,ce.length-1)]:ce}else return X}function _(X,se,q){X.transition().ease(m.releaseTransitionEase).duration(m.releaseTransitionDuration).attr("transform",t(se.x,q))}function O(X){return X.type==="cells"}function B(X){return X.type==="header"}function z(X){var se=X.rowBlocks.length?X.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(q,ce){return q+Y(ce,1/0)},0)}function U(X,se,q){for(var ce=[],ye=0,we=0;we<X.length;we++){for(var be=X[we],De=be.rows,ke=0,Be=0;Be<De.length;Be++)ke+=De[Be].rowHeight;be.allRowsHeight=ke;var Ae=ye+ke,Ie=se,Me=Ie+q;Ie<Ae&&Me>ye&&ce.push(we),ye+=ke}return ce}function Z(X,se,q){var ce=T(se)[0];if(ce!==void 0){var ye=ce.rowBlocks,we=ce.calcdata,be=ie(ye,ye.length),De=ce.calcdata.groupHeight-z(ce),ke=we.scrollY=Math.max(0,Math.min(be-De,we.scrollY)),Be=U(ye,ke,De);Be.length===1&&(Be[0]===ye.length-1?Be.unshift(Be[0]-1):Be.push(Be[0]+1)),Be[0]%2&&Be.reverse(),se.each(function(Ae,Ie){Ae.page=Be[Ie],Ae.scrollY=ke}),se.attr("transform",function(Ae){var Ie=ie(Ae.rowBlocks,Ae.page)-Ae.scrollY;return t(0,Ie)}),X&&(re(X,q,se,Be,ce.prevPages,ce,0),re(X,q,se,Be,ce.prevPages,ce,1),c(q,X))}}function J(X,se,q,ce){return function(we){var be=we.calcdata?we.calcdata:we,De=se.filter(function(Ie){return be.key===Ie.key}),ke=q||be.scrollbarState.dragMultiplier,Be=be.scrollY;be.scrollY=ce===void 0?be.scrollY+ke*P.event.dy:ce;var Ae=De.selectAll("."+m.cn.yColumn).selectAll("."+m.cn.columnBlock).filter(O);return Z(X,Ae,De),be.scrollY===Be}}function re(X,se,q,ce,ye,we,be){var De=ce[be]!==ye[be];De&&(clearTimeout(we.currentRepaint[be]),we.currentRepaint[be]=setTimeout(function(){var ke=q.filter(function(Be,Ae){return Ae===be&&ce[Ae]!==ye[Ae]});o(X,se,ke,q),ye[be]=ce[be]}))}function ne(X,se,q,ce){return function(){var we=P.select(se.parentNode);we.each(function(be){var De=be.fragments;we.selectAll("tspan.line").each(function(He,rt){De[rt].width=this.getComputedTextLength()});var ke=De[De.length-1].width,Be=De.slice(0,-1),Ae=[],Ie,Me,Fe=0,Ee=be.column.columnWidth-2*m.cellPad;for(be.value="";Be.length;)Ie=Be.shift(),Me=Ie.width+ke,Fe+Me>Ee&&(be.value+=Ae.join(m.wrapSpacer)+m.lineBreaker,Ae=[],Fe=0),Ae.push(Ie.text),Fe+=Me;Fe&&(be.value+=Ae.join(m.wrapSpacer)),be.wrapped=!0}),we.selectAll("tspan.line").remove(),E(we.select("."+m.cn.cellText),q,X,ce),P.select(se.parentNode.parentNode).call(Q)}}function ue(X,se,q,ce,ye){return function(){if(!ye.settledY){var be=P.select(se.parentNode),De=oe(ye),ke=ye.key-De.firstRowIndex,Be=De.rows[ke].rowHeight,Ae=ye.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*m.cellPad:Be,Ie=Math.max(Ae,Be),Me=Ie-De.rows[ke].rowHeight;Me&&(De.rows[ke].rowHeight=Ie,X.selectAll("."+m.cn.columnCell).call(Q),Z(null,X.filter(O),0),c(q,ce,!0)),be.attr("transform",function(){var Fe=this,Ee=Fe.parentNode,He=Ee.getBoundingClientRect(),rt=P.select(Fe.parentNode).select("."+m.cn.cellRect).node().getBoundingClientRect(),ot=Fe.transform.baseVal.consolidate(),$e=rt.top-He.top+(ot?ot.matrix.f:m.cellPad);return t(te(ye,P.select(Fe.parentNode).select("."+m.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),ye.settledY=!0}}}function te(X,se){switch(X.align){case"left":return m.cellPad;case"right":return X.column.columnWidth-(se||0)-m.cellPad;case"center":return(X.column.columnWidth-(se||0))/2;default:return m.cellPad}}function Q(X){X.attr("transform",function(se){var q=se.rowBlocks[0].auxiliaryBlocks.reduce(function(be,De){return be+Y(De,1/0)},0),ce=oe(se),ye=Y(ce,se.key),we=ye+q;return t(0,we)}).selectAll("."+m.cn.cellRect).attr("height",function(se){return j(oe(se),se.key).rowHeight})}function ie(X,se){for(var q=0,ce=se-1;ce>=0;ce--)q+=$(X[ce]);return q}function Y(X,se){for(var q=0,ce=0;ce<X.rows.length&&X.rows[ce].rowIndex<se;ce++)q+=X.rows[ce].rowHeight;return q}function $(X){var se=X.allRowsHeight;if(se!==void 0)return se;for(var q=0,ce=0;ce<X.rows.length;ce++)q+=X.rows[ce].rowHeight;return X.allRowsHeight=q,q}function oe(X){return X.rowBlocks[X.page]}function j(X,se){return X.rows[se-X.firstRowIndex]}},40516:function(G,V,e){var m=e(21776).Ks,P=e(21776).Gw,i=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:p.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,V,e){var m=e(7316);V.name="treemap",V.plot=function(P,i,L,S){m.plotBasePlot(V.name,P,i,L,S)},V.clean=function(P,i,L,S){m.cleanBasePlot(V.name,P,i,L,S)}},97840:function(G,V,e){var m=e(3776);V.r=function(P,i){return m.calc(P,i)},V.q=function(P){return m._runCrossTraceCalc("treemap",P)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,V,e){var m=e(3400),P=e(40516),i=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,l,u,g){function h(s,E){return m.coerce(f,l,P,s,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){l.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),l.texttemplate||h("textinfo",m.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),C="auto";S(f,l,g,h,C,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=l.textposition.indexOf("bottom")!==-1;p(f,l,g,h);var M=l._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;M?a(f,l,g,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(l.marker.colors||[]).length);var A=l.textfont.size*2;h("marker.pad.t",y?A/4:A),h("marker.pad.l",A/4),h("marker.pad.r",A/4),h("marker.pad.b",y?A:A/4),h("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},w&&(h("pathbar.thickness",l.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(l,g,h),l._length=null}},95808:function(G,V,e){var m=e(33428),P=e(78176),i=e(82744),L=i.clearMinTextSize,S=e(60100).resizeText,v=e(52960);G.exports=function(r,t,a,n,f){var l=f.type,u=f.drawDescendants,g=r._fullLayout,h=g["_"+l+"layer"],T,c,o=!a;if(L(l,g),T=h.selectAll("g.trace."+l).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(l,!0),T.order(),!g.uniformtext.mode&&P.hasTransition(a)){n&&(c=n());var d=m.transition().duration(a.duration).ease(a.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,a,u)})})}else T.each(function(x){v(r,x,this,a,u)}),g.uniformtext.mode&&S(r,h.selectAll(".trace"),l);o&&T.exit().remove()}},27336:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=!0;G.exports=function(f,l,u,g,h){var T=h.barDifY,c=h.width,o=h.height,d=h.viewX,x=h.viewY,w=h.pathSlice,C=h.toMoveInsideSlice,y=h.strTransform,M=h.hasTransition,A=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,b={},F=f._context.staticPlot,I=f._fullLayout,N=l[0],_=N.trace,O=N.hierarchy,B=c/_._entryDepth,z=r.listPath(u.data,"id"),U=S(O.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();U=U.filter(function(J){var re=z.indexOf(J.data.id);return re===-1?!1:(J.x0=B*re,J.x1=B*(re+1),J.y0=T,J.y1=T+o,J.onPathbar=!0,!0)}),U.reverse(),g=g.data(U,r.getPtId),g.enter().append("g").classed("pathbar",!0),A(g,a,b,[c,o],w),g.order();var Z=g;M&&(Z=Z.transition().each("end",function(){var J=m.select(this);r.setSliceCursor(J,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(J){J._x0=d(J.x0),J._x1=d(J.x1),J._y0=x(J.y0),J._y1=x(J.y1),J._hoverX=d(J.x1-Math.min(c,o)/2),J._hoverY=x(J.y1-o/2);var re=m.select(this),ne=P.ensureSingle(re,"path","surface",function(ie){ie.style("pointer-events",F?"none":"all")});M?ne.transition().attrTween("d",function(ie){var Y=s(ie,a,b,[c,o]);return function($){return w(Y($))}}):ne.attr("d",w),re.call(t,u,f,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ne.call(v,J,_,f,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var ue=P.ensureSingle(re,"g","slicetext"),te=P.ensureSingle(ue,"text","",function(ie){ie.attr("data-notex",1)}),Q=P.ensureUniformFontSize(f,r.determineTextFont(_,J,I.font,{onPathbar:!0}));te.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,Q).call(L.convertToTspans,f),J.textBB=i.bBox(te.node()),J.transform=C(J,{fontSize:Q.size,onPathbar:!0}),J.transform.fontSize=Q.size,M?te.transition().attrTween("transform",function(ie){var Y=E(ie,a,b,[c,o]);return function($){return y(Y($))}}):te.attr("transform",y(J))})}},76477:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(l,u,g,h,T){var c=T.width,o=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,M=T.hasTransition,A=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,b=T.prevEntry,F={},I=l._context.staticPlot,N=l._fullLayout,_=u[0],O=_.trace,B=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,U=O.textposition.indexOf("bottom")!==-1,Z=!U&&!O.marker.pad.t||U&&!O.marker.pad.b,J=S(g,[c,o],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),re=J.descendants(),ne=1/0,ue=-1/0;re.forEach(function($){var oe=$.depth;oe>=O._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(ne=Math.min(ne,oe),ue=Math.max(ue,oe))}),h=h.data(re,r.getPtId),O._maxVisibleLayers=isFinite(ue)?ue-ne+1:0,h.enter().append("g").classed("slice",!0),A(h,n,F,[c,o],w),h.order();var te=null;if(M&&b){var Q=r.getPtId(b);h.each(function($){te===null&&r.getPtId($)===Q&&(te={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var ie=function(){return te||{x0:0,x1:c,y0:0,y1:o}},Y=h;return M&&(Y=Y.transition().each("end",function(){var $=m.select(this);r.setSliceCursor($,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function($){var oe=r.isHeader($,O);$._x0=d($.x0),$._x1=d($.x1),$._y0=x($.y0),$._y1=x($.y1),$._hoverX=d($.x1-O.marker.pad.r),$._hoverY=x(U?$.y1-O.marker.pad.b/2:$.y0+O.marker.pad.t/2);var j=m.select(this),X=P.ensureSingle(j,"path","surface",function(be){be.style("pointer-events",I?"none":"all")});M?X.transition().attrTween("d",function(be){var De=s(be,n,ie(),[c,o]);return function(ke){return w(De(ke))}}):X.attr("d",w),j.call(t,g,l,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),X.call(v,$,O,l,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":oe?$._text=Z?"":r.getPtLabel($)||"":$._text=a($,g,O,u,N)||"";var se=P.ensureSingle(j,"g","slicetext"),q=P.ensureSingle(se,"text","",function(be){be.attr("data-notex",1)}),ce=P.ensureUniformFontSize(l,r.determineTextFont(O,$,N.font)),ye=$._text||" ",we=oe&&ye.indexOf("<br>")===-1;q.text(ye).classed("slicetext",!0).attr("text-anchor",z?"end":B||we?"start":"middle").call(i.font,ce).call(L.convertToTspans,l),$.textBB=i.bBox(q.node()),$.transform=C($,{fontSize:ce.size,isHeader:oe}),$.transform.fontSize=ce.size,M?q.transition().attrTween("transform",function(be){var De=E(be,n,ie(),[c,o]);return function(ke){return y(De(ke))}}):q.attr("transform",y($))}),te}},83024:function(G){G.exports=function V(e,m,P){var i;P.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),P.flipX&&(i=e.x0,e.x0=m[0]-e.x1,e.x1=m[0]-i),P.flipY&&(i=e.y0,e.y0=m[1]-e.y1,e.y1=m[1]-i);var L=e.children;if(L)for(var S=0;S<L.length;S++)V(L[S],m,P)}},31991:function(G,V,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,V,e){var m=e(3400),P=e(45392);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(G,V,e){var m=e(74148),P=e(83024);G.exports=function(S,v,p){var r=p.flipX,t=p.flipY,a=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],f=p.pad[r?"right":"left"],l=p.pad[r?"left":"right"],u=p.pad[t?"top":"bottom"],g;a&&(g=f,f=n,n=g,g=l,l=u,u=g);var h=m.treemap().tile(i(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(f).paddingRight(l).paddingTop(n).paddingBottom(u).size(a?[v[1],v[0]]:v)(S);return(a||r||t)&&P(h,v,{swapXY:a,flipX:r,flipY:t}),h};function i(L,S){switch(L){case"squarify":return m.treemapSquarify.ratio(S);case"binary":return m.treemapBinary;case"dice":return m.treemapDice;case"slice":return m.treemapSlice;default:return m.treemapSliceDice}}},53264:function(G,V,e){var m=e(95808),P=e(76477);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"treemap",drawDescendants:P})}},52960:function(G,V,e){var m=e(33428),P=e(67756).qy,i=e(78176),L=e(3400),S=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,a=e(32984),n=e(27336);function f(l){return i.isHierarchyRoot(l)?"":i.getPtId(l)}G.exports=function(u,g,h,T,c){var o=u._fullLayout,d=g[0],x=d.trace,w=x.type,C=w==="icicle",y=d.hierarchy,M=i.findEntryWithLevel(y,x.level),A=m.select(h),s=A.selectAll("g.pathbar"),E=A.selectAll("g.slice");if(!M){s.remove(),E.remove();return}var b=i.isHierarchyRoot(M),F=!o.uniformtext.mode&&i.hasTransition(T),I=i.getMaxDepth(x),N=function(_e){return _e.data.depth-M.data.depth<I},_=o._size,O=x.domain,B=_.w*(O.x[1]-O.x[0]),z=_.h*(O.y[1]-O.y[0]),U=B,Z=x.pathbar.thickness,J=x.marker.line.width+a.gapWithPathbar,re=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?z+J:-(Z+J):0,ne={x0:U,x1:U,y0:re,y1:re+Z},ue=function(_e,Ge,je){var We=x.tiling.pad,Pe=function(ve){return ve-We<=Ge.x0},Re=function(ve){return ve+We>=Ge.x1},Xe=function(ve){return ve-We<=Ge.y0},Le=function(ve){return ve+We>=Ge.y1};return _e.x0===Ge.x0&&_e.x1===Ge.x1&&_e.y0===Ge.y0&&_e.y1===Ge.y1?{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1}:{x0:Pe(_e.x0-We)?0:Re(_e.x0-We)?je[0]:_e.x0,x1:Pe(_e.x1+We)?0:Re(_e.x1+We)?je[0]:_e.x1,y0:Xe(_e.y0-We)?0:Le(_e.y0-We)?je[1]:_e.y0,y1:Xe(_e.y1+We)?0:Le(_e.y1+We)?je[1]:_e.y1}},te=null,Q={},ie={},Y=null,$=function(_e,Ge){return Ge?Q[f(_e)]:ie[f(_e)]},oe=function(_e,Ge,je,We){if(Ge)return Q[f(y)]||ne;var Pe=ie[x.level]||je;return N(_e)?ue(_e,Pe,We):{}};d.hasMultipleRoots&&b&&I++,x._maxDepth=I,x._backgroundColor=o.paper_bgcolor,x._entryDepth=M.data.depth,x._atRootLevel=b;var j=-B/2+_.l+_.w*(O.x[1]+O.x[0])/2,X=-z/2+_.t+_.h*(1-(O.y[1]+O.y[0])/2),se=function(_e){return j+_e},q=function(_e){return X+_e},ce=q(0),ye=se(0),we=function(_e){return ye+_e},be=function(_e){return ce+_e};function De(_e,Ge){return _e+","+Ge}var ke=we(0),Be=function(_e){_e.x=Math.max(ke,_e.x)},Ae=x.pathbar.edgeshape,Ie=function(_e){var Ge=we(Math.max(Math.min(_e.x0,_e.x0),0)),je=we(Math.min(Math.max(_e.x1,_e.x1),U)),We=be(_e.y0),Pe=be(_e.y1),Re=Z/2,Xe={},Le={};Xe.x=Ge,Le.x=je,Xe.y=Le.y=(We+Pe)/2;var ve={x:Ge,y:We},xe={x:je,y:We},Ne={x:je,y:Pe},et={x:Ge,y:Pe};return Ae===">"?(ve.x-=Re,xe.x-=Re,Ne.x-=Re,et.x-=Re):Ae==="/"?(Ne.x-=Re,et.x-=Re,Xe.x-=Re/2,Le.x-=Re/2):Ae==="\\"?(ve.x-=Re,xe.x-=Re,Xe.x-=Re/2,Le.x-=Re/2):Ae==="<"&&(Xe.x-=Re,Le.x-=Re),Be(ve),Be(et),Be(Xe),Be(xe),Be(Ne),Be(Le),"M"+De(ve.x,ve.y)+"L"+De(xe.x,xe.y)+"L"+De(Le.x,Le.y)+"L"+De(Ne.x,Ne.y)+"L"+De(et.x,et.y)+"L"+De(Xe.x,Xe.y)+"Z"},Me=x[C?"tiling":"marker"].pad,Fe=function(_e){return x.textposition.indexOf(_e)!==-1},Ee=Fe("top"),He=Fe("left"),rt=Fe("right"),ot=Fe("bottom"),$e=function(_e){var Ge=se(_e.x0),je=se(_e.x1),We=q(_e.y0),Pe=q(_e.y1),Re=je-Ge,Xe=Pe-We;if(!Re||!Xe)return"";var Le=x.marker.cornerradius||0,ve=Math.min(Le,Re/2,Xe/2);ve&&_e.data&&_e.data.data&&_e.data.data.label&&(Ee&&(ve=Math.min(ve,Me.t)),He&&(ve=Math.min(ve,Me.l)),rt&&(ve=Math.min(ve,Me.r)),ot&&(ve=Math.min(ve,Me.b)));var xe=function(Ne,et){return ve?"a"+De(ve,ve)+" 0 0 1 "+De(Ne,et):""};return"M"+De(Ge,We+ve)+xe(ve,-ve)+"L"+De(je-ve,We)+xe(ve,ve)+"L"+De(je,Pe-ve)+xe(-ve,ve)+"L"+De(Ge+ve,Pe)+xe(-ve,-ve)+"Z"},qe=function(_e,Ge){var je=_e.x0,We=_e.x1,Pe=_e.y0,Re=_e.y1,Xe=_e.textBB,Le=Ee||Ge.isHeader&&!ot,ve=Le?"start":ot?"end":"middle",xe=Fe("right"),Ne=Fe("left")||Ge.onPathbar,et=Ne?-1:xe?1:0;if(Ge.isHeader){if(je+=(C?Me:Me.l)-S,We-=(C?Me:Me.r)-S,je>=We){var st=(je+We)/2;je=st,We=st}var lt;ot?(lt=Re-(C?Me:Me.b),Pe<lt&&lt<Re&&(Pe=lt)):(lt=Pe+(C?Me:Me.t),Pe<lt&&lt<Re&&(Re=lt))}var Gt=p(je,We,Pe,Re,Xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:ve,leftToRight:et});return Gt.fontSize=Ge.fontSize,Gt.targetX=se(Gt.targetX),Gt.targetY=q(Gt.targetY),isNaN(Gt.targetX)||isNaN(Gt.targetY)?{}:(je!==We&&Pe!==Re&&t(x.type,Gt,o),{scale:Gt.scale,rotate:Gt.rotate,textX:Gt.textX,textY:Gt.textY,anchorX:Gt.anchorX,anchorY:Gt.anchorY,targetX:Gt.targetX,targetY:Gt.targetY})},ht=function(_e,Ge){for(var je,We=0,Pe=_e;!je&&We<I;)We++,Pe=Pe.parent,Pe?je=$(Pe,Ge):We=I;return je||{}},vt=function(_e,Ge,je,We){var Pe=$(_e,Ge),Re;if(Ge)Re=ne;else{var Xe=$(M,Ge);Xe?Re=ue(_e,Xe,We):Re={}}return P(Pe,Re)},pt=function(_e,Ge,je,We,Pe){var Re=$(_e,Ge),Xe;if(Re)Xe=Re;else if(Ge)Xe=ne;else if(te)if(_e.parent){var Le=Y||je;Le&&!Ge?Xe=ue(_e,Le,We):(Xe={},L.extendFlat(Xe,ht(_e,Ge)))}else Xe=L.extendFlat({},_e),C&&(Pe.orientation==="h"?Pe.flipX?Xe.x0=_e.x1:Xe.x1=0:Pe.flipY?Xe.y0=_e.y1:Xe.y1=0);else Xe={};return P(Xe,{x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1})},wt=function(_e,Ge,je,We){var Pe=$(_e,Ge),Re={},Xe=oe(_e,Ge,je,We);L.extendFlat(Re,{transform:qe({x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1,textBB:_e.textBB,_text:_e._text},{isHeader:i.isHeader(_e,x)})}),Pe?Re=Pe:_e.parent&&L.extendFlat(Re,ht(_e,Ge));var Le=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(x.type,Le,o),P(Re,{transform:{scale:Le.scale,rotate:Le.rotate,textX:Le.textX,textY:Le.textY,anchorX:Le.anchorX,anchorY:Le.anchorY,targetX:Le.targetX,targetY:Le.targetY}})},Mt=function(_e,Ge,je,We,Pe){var Re=We[0],Xe=We[1];F?_e.exit().transition().each(function(){var Le=m.select(this),ve=Le.select("path.surface");ve.transition().attrTween("d",function(Ne){var et=vt(Ne,Ge,je,[Re,Xe]);return function(st){return Pe(et(st))}});var xe=Le.select("g.slicetext");xe.attr("opacity",0)}).remove():_e.exit().remove()},nt=function(_e){var Ge=_e.transform;return _e.x0!==_e.x1&&_e.y0!==_e.y1&&t(x.type,Ge,o),L.getTextTransform({textX:Ge.textX,textY:Ge.textY,anchorX:Ge.anchorX,anchorY:Ge.anchorY,targetX:Ge.targetX,targetY:Ge.targetY,scale:Ge.scale,rotate:Ge.rotate})};F&&(s.each(function(_e){Q[f(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(Q[f(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate})}),E.each(function(_e){ie[f(_e)]={x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1},_e.transform&&(ie[f(_e)].transform={textX:_e.transform.textX,textY:_e.transform.textY,anchorX:_e.transform.anchorX,anchorY:_e.transform.anchorY,targetX:_e.transform.targetX,targetY:_e.transform.targetY,scale:_e.transform.scale,rotate:_e.transform.rotate}),!te&&i.isEntry(_e)&&(te=_e)})),Y=c(u,g,M,E,{width:B,height:z,viewX:se,viewY:q,pathSlice:$e,toMoveInsideSlice:qe,prevEntry:te,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:wt,handleSlicesExit:Mt,hasTransition:F,strTransform:nt}),x.pathbar.visible?n(u,g,M,s,{barDifY:re,width:U,height:Z,viewX:we,viewY:be,pathSlice:Ie,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:wt,handleSlicesExit:Mt,hasTransition:F,strTransform:nt}):s.remove()}},66192:function(G,V,e){var m=e(33428),P=e(76308),i=e(3400),L=e(78176),S=e(82744).resizeText,v=e(60404);function p(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");S(t,a,"treemap"),a.each(function(n){var f=m.select(this),l=n[0],u=l.trace;f.style("opacity",u.opacity),f.selectAll("path.surface").each(function(g){m.select(this).call(r,g,u,t,{hovered:!1})})})}function r(t,a,n,f,l){var u=(l||{}).hovered,g=a.data.data,h=g.i,T,c,o=g.color,d=L.isHierarchyRoot(a),x=1;if(u)T=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&o===n.root.color)x=100,T="rgba(0,0,0,0)",c=0;else if(T=i.castOption(n,h,"marker.line.color")||P.defaultLine,c=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var w=n.marker.depthfade;if(w){var C=P.combine(P.addOpacity(n._backgroundColor,.75),o),y;if(w===!0){var M=L.getMaxDepth(n);isFinite(M)?L.isLeaf(a)?y=0:y=n._maxVisibleLayers-(a.data.depth-n._entryDepth):y=a.data.height+1}else y=a.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var A=0;A<y;A++){var s=.5*A/y;o=P.combine(P.addOpacity(C,s),o)}}}t.call(v,a,n,f,o).style("stroke-width",c).call(P.stroke,T).style("opacity",x)}G.exports={style:p,styleOne:r}},13988:function(G,V,e){var m=e(63188),P=e(92880).extendFlat,i=e(29736).axisHoverFormat;G.exports={y:m.y,x:m.x,x0:m.x0,y0:m.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:P({},m.name,{}),orientation:P({},m.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m.fillcolor,points:P({},m.boxpoints,{}),jitter:P({},m.jitter,{}),pointpos:P({},m.pointpos,{}),width:P({},m.width,{}),marker:m.marker,text:m.text,hovertext:m.hovertext,hovertemplate:m.hovertemplate,quartilemethod:m.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:m.zorder}},67064:function(G,V,e){var m=e(3400),P=e(54460),i=e(62555),L=e(63800),S=e(39032).BADNUM;G.exports=function(a,n){var f=i(a,n);if(f[0].t.empty)return f;for(var l=a._fullLayout,u=P.getFromId(a,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,h=-1/0,T=0,c=0,o=0;o<f.length;o++){var d=f[o],x=d.pts.map(L.extractVal),w=d.bandwidth=p(n,d,x),C=d.span=r(n,d,u,w);if(d.min===d.max&&w===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=w,T=Math.max(T,1);else{var y=C[1]-C[0],M=Math.ceil(y/(w/3)),A=y/M;if(!isFinite(A)||!isFinite(M))return m.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var s=L.makeKDE(d,n,x);d.density=new Array(M);for(var E=0,b=C[0];b<C[1]+A/2;E++,b+=A){var F=s(b);d.density[E]={v:F,t:b},T=Math.max(T,F)}}c=Math.max(c,x.length),g=Math.min(g,C[0]),h=Math.max(h,C[1])}var I=P.findExtremes(u,[g,h],{padded:!0});if(n._extremes[u._id]=I,n.width)f[0].t.maxKDE=T;else{var N=l._violinScaleGroupStats,_=n.scalegroup,O=N[_];O?(O.maxKDE=Math.max(O.maxKDE,T),O.maxCount=Math.max(O.maxCount,c)):N[_]={maxKDE:T,maxCount:c}}return f[0].t.labels.kde=m._(a,"kde:"),f};function v(t,a,n){var f=Math.min(a,n/1.349);return 1.059*f*Math.pow(t,-.2)}function p(t,a,n){var f=a.max-a.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var l=n.length,u=m.stdev(n,l-1,a.mean);return Math.max(v(l,u,a.q3-a.q1),f/100)}function r(t,a,n,f){var l=t.spanmode,u=t.span||[],g=[a.min,a.max],h=[a.min-2*f,a.max+2*f],T;function c(d){var x=u[d],w=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[a.valLetter+"calendar"]);return w===S?h[d]:w}l==="soft"?T=h:l==="hard"?T=g:T=[c(0),c(1)];var o={type:"linear",range:T};return P.setConvert(o),o.cleanRange(),T}},14348:function(G,V,e){var m=e(96404).setPositionOffset,P=["v","h"];G.exports=function(L,S){for(var v=L.calcdata,p=S.xaxis,r=S.yaxis,t=0;t<P.length;t++){for(var a=P[t],n=a==="h"?r:p,f=[],l=0;l<v.length;l++){var u=v[l],g=u[0].t,h=u[0].trace;h.visible===!0&&h.type==="violin"&&!g.empty&&h.orientation===a&&h.xaxis===p._id&&h.yaxis===r._id&&f.push(l)}m("violin",L,f,n)}}},36240:function(G,V,e){var m=e(3400),P=e(76308),i=e(90624),L=e(13988);G.exports=function(v,p,r,t){function a(A,s){return m.coerce(v,p,L,A,s)}function n(A,s){return m.coerce2(v,p,L,A,s)}if(i.handleSampleDefaults(v,p,a,t),p.visible!==!1){a("bandwidth"),a("side");var f=a("width");f||(a("scalegroup",p.name),a("scalemode"));var l=a("span"),u;Array.isArray(l)&&(u="manual"),a("spanmode",u);var g=a("line.color",(v.marker||{}).color||r),h=a("line.width"),T=a("fillcolor",P.addOpacity(p.line.color,.5));i.handlePointsDefaults(v,p,a,{prefix:""});var c=n("box.width"),o=n("box.fillcolor",T),d=n("box.line.color",g),x=n("box.line.width",h),w=a("box.visible",!!(c||o||d||x));w||(p.box={visible:!1});var C=n("meanline.color",g),y=n("meanline.width",h),M=a("meanline.visible",!!(C||y));M||(p.meanline={visible:!1}),a("quartilemethod"),a("zorder")}}},63800:function(G,V,e){var m=e(3400),P={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};V.makeKDE=function(i,L,S){var v=S.length,p=P.gaussian,r=i.bandwidth,t=1/(v*r);return function(a){for(var n=0,f=0;f<v;f++)n+=p((a-S[f])/r);return t*n}},V.getPositionOnKdePath=function(i,L,S){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=m.findPointOnPath(i.path,S,p,{pathLength:i.pathLength}),t=i.posCenterPx,a=r[v],n=L.side==="both"?2*t-a:t;return[a,n]},V.getKdeValue=function(i,L,S){var v=i.pts.map(V.extractVal),p=V.makeKDE(i,L,v);return p(S)/i.posDensityScale},V.extractVal=function(i){return i.v}},78e3:function(G,V,e){var m=e(76308),P=e(3400),i=e(54460),L=e(27576),S=e(63800);G.exports=function(p,r,t,a,n){n||(n={});var f=n.hoverLayer,l=p.cd,u=l[0].trace,g=u.hoveron,h=g.indexOf("violins")!==-1,T=g.indexOf("kde")!==-1,c=[],o,d;if(h||T){var x=L.hoverOnBoxes(p,r,t,a);if(T&&x.length>0){var w=p.xa,C=p.ya,y,M,A,s,E;u.orientation==="h"?(E=r,y="y",A=C,M="x",s=w):(E=t,y="x",A=w,M="y",s=C);var b=l[p.index];if(E>=b.span[0]&&E<=b.span[1]){var F=P.extendFlat({},p),I=s.c2p(E,!0),N=S.getKdeValue(b,u,E),_=S.getPositionOnKdePath(b,u,I),O=A._offset,B=A._length;F[y+"0"]=_[0],F[y+"1"]=_[1],F[M+"0"]=F[M+"1"]=I,F[M+"Label"]=M+": "+i.hoverLabelText(s,E,u[M+"hoverformat"])+", "+l[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,U=0;U<x.length;U++)if(x[U].attr==="med"){z=U;break}F.spikeDistance=x[z].spikeDistance;var Z=y+"Spike";F[Z]=x[z][Z],x[z].spikeDistance=void 0,x[z][Z]=void 0,F.hovertemplate=!1,c.push(F),d={},d[y+"1"]=P.constrain(O+_[0],O,O+B),d[y+"2"]=P.constrain(O+_[1],O,O+B),d[M+"1"]=d[M+"2"]=s._offset+I}}h&&(c=c.concat(x))}g.indexOf("points")!==-1&&(o=L.hoverOnPoints(p,r,t));var J=f.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return J.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(d).call(m.stroke,p.color),a==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(G,V,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,V,e){var m=e(16560),P=e(3400).extendFlat;G.exports={violinmode:P({},m.boxmode,{}),violingap:P({},m.boxgap,{}),violingroupgap:P({},m.boxgroupgap,{})}},8939:function(G,V,e){var m=e(3400),P=e(98228),i=e(68832);G.exports=function(S,v,p){function r(t,a){return m.coerce(S,v,P,t,a)}i._supply(S,v,p,r,"violin")}},5140:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(18728),S=e(52340),v=e(63800);G.exports=function(r,t,a,n){var f=r._context.staticPlot,l=r._fullLayout,u=t.xaxis,g=t.yaxis;function h(T,c){var o=S(T,{xaxis:u,yaxis:g,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}P.makeTraceGroups(n,a,"trace violins").each(function(T){var c=m.select(this),o=T[0],d=o.t,x=o.trace;if(x.visible!==!0||d.empty){c.remove();return}var w=d.bPos,C=d.bdPos,y=t[d.valLetter+"axis"],M=t[d.posLetter+"axis"],A=x.side==="both",s=A||x.side==="positive",E=A||x.side==="negative",b=c.selectAll("path.violin").data(P.identity);b.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(U){var Z=m.select(this),J=U.density,re=J.length,ne=M.c2l(U.pos+w,!0),ue=M.l2p(ne),te;if(x.width)te=d.maxKDE/C;else{var Q=l._violinScaleGroupStats[x.scalegroup];te=x.scalemode==="count"?Q.maxKDE/C*(Q.maxCount/U.pts.length):Q.maxKDE/C}var ie,Y,$,oe,j,X,se;if(s){for(X=new Array(re),oe=0;oe<re;oe++)se=X[oe]={},se[d.posLetter]=ne+J[oe].v/te,se[d.valLetter]=y.c2l(J[oe].t,!0);ie=h(X,x)}if(E){for(X=new Array(re),j=0,oe=re-1;j<re;j++,oe--)se=X[j]={},se[d.posLetter]=ne-J[oe].v/te,se[d.valLetter]=y.c2l(J[oe].t,!0);Y=h(X,x)}if(A)$=ie+"L"+Y.substr(1)+"Z";else{var q=[ue,y.c2p(J[0].t)],ce=[ue,y.c2p(J[re-1].t)];x.orientation==="h"&&(q.reverse(),ce.reverse()),s?$="M"+q+"L"+ie.substr(1)+"L"+ce:$="M"+ce+"L"+Y.substr(1)+"L"+q}Z.attr("d",$),U.posCenterPx=ue,U.posDensityScale=te*C,U.path=Z.node(),U.pathLength=U.path.getTotalLength()/(A?2:1)});var F=x.box,I=F.width,N=(F.line||{}).width,_,O;A?(_=C*I,O=0):s?(_=[0,C*I/2],O=N*{x:1,y:-1}[d.posLetter]):(_=[C*I/2,0],O=N*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(c,{pos:M,val:y},x,{bPos:w,bdPos:_,bPosPxOffset:O}),L.plotBoxMean(c,{pos:M,val:y},x,{bPos:w,bdPos:_,bPosPxOffset:O});var B;!x.box.visible&&x.meanline.visible&&(B=P.identity);var z=c.selectAll("path.meanline").data(B||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(U){var Z=y.c2p(U.mean,!0),J=v.getPositionOnKdePath(U,x,Z);m.select(this).attr("d",x.orientation==="h"?"M"+Z+","+J[0]+"V"+J[1]:"M"+J[0]+","+Z+"H"+J[1])}),L.plotPoints(c,{x:u,y:g},x,d)})}},95908:function(G,V,e){var m=e(33428),P=e(76308),i=e(49224).stylePoints;G.exports=function(S){var v=m.select(S).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=m.select(this),a=r.box||{},n=a.line||{},f=r.meanline||{},l=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,a.fillcolor);var u={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};t.selectAll("path.mean").style(u).call(P.stroke,f.color),t.selectAll("path.meanline").style(u).call(P.stroke,f.color),i(t,r,S)})}},58168:function(G,V,e){var m=e(49084),P=e(50048),i=e(16716),L=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,p=G.exports=v(S({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:i.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:S({},L.hoverinfo),showlegend:S({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(G,V,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,l,u){this.scene=f,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(f){if(f.object===this.mesh){var l=f.data.index,u=this.data._meshX[l],g=this.data._meshY[l],h=this.data._meshZ[l],T=this.data._Ys.length,c=this.data._Zs.length,o=p(u,this.data._Xs).id,d=p(g,this.data._Ys).id,x=p(h,this.data._Zs).id,w=f.index=x+c*d+c*T*o;f.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var C=this.data.hovertext||this.data.text;return i(C)&&C[w]!==void 0?f.textLabel=C[w]:C&&(f.textLabel=C),!0}},a.update=function(f){var l=this.scene,u=l.fullSceneLayout;this.data=r(f);function g(d,x,w,C){return x.map(function(y){return d.d2l(y,0,C)*w})}var h=v(g(u.xaxis,f._meshX,l.dataScale[0],f.xcalendar),g(u.yaxis,f._meshY,l.dataScale[1],f.ycalendar),g(u.zaxis,f._meshZ,l.dataScale[2],f.zcalendar)),T=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:T,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:L(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},o=S(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=P(f),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,l){var u=f.glplot.gl,g=m({gl:u}),h=new t(f,g,l.uid);return g._trace=h,h.update(l),f.glplot.add(g),h}G.exports=n},12448:function(G,V,e){var m=e(3400),P=e(58168),i=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;G.exports=function(v,p,r,t){function a(n,f){return m.coerce(v,p,P,n,f)}i(v,p,r,t,a),L(v,p,t,a)}},67776:function(G,V,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,V,e){var m=e(20832),P=e(52904).line,i=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function a(n){return{marker:{color:r({},m.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},m.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},m.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:m.text,textposition:m.textposition,insidetextanchor:m.insidetextanchor,textangle:m.textangle,textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:m.orientation,offset:m.offset,width:m.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder}},73540:function(G,V,e){var m=e(54460),P=e(1220),i=e(3400).mergeArray,L=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,a){var n=m.getFromId(t,a.xaxis||"x"),f=m.getFromId(t,a.yaxis||"y"),l,u,g,h,T,c;a.orientation==="h"?(l=n.makeCalcdata(a,"x"),g=f.makeCalcdata(a,"y"),h=P(a,f,"y",g),T=!!a.yperiodalignment,c="y"):(l=f.makeCalcdata(a,"y"),g=n.makeCalcdata(a,"x"),h=P(a,n,"x",g),T=!!a.xperiodalignment,c="x"),u=h.vals;for(var o=Math.min(u.length,l.length),d=new Array(o),x=0,w,C=!1,y=0;y<o;y++){var M=l[y]||0,A=!1;(l[y]!==S||p(a.measure[y])||v(a.measure[y]))&&y+1<o&&(l[y+1]!==S||p(a.measure[y+1])||v(a.measure[y+1]))&&(A=!0);var s=d[y]={i:y,p:u[y],s:M,rawS:M,cNext:A};v(a.measure[y])?(x=s.s,s.isSum=!0,s.dir="totals",s.s=x):p(a.measure[y])?(s.isSum=!0,s.dir="totals",s.s=x):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",w=s.s,s.s=x+w,x+=w),s.dir==="totals"&&(C=!0),T&&(d[y].orig_p=g[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),a.ids&&(s.id=String(a.ids[y])),s.v=(a.base||0)+x}return d.length&&(d[0].hasTotals=C),i(a.text,d,"tx"),i(a.hovertext,d,"htx"),L(d,a),d}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,V,e){var m=e(96376).setGroupPositions;G.exports=function(i,L){var S=i._fullLayout,v=i._fullData,p=i.calcdata,r=L.xaxis,t=L.yaxis,a=[],n=[],f=[],l,u;for(u=0;u<v.length;u++){var g=v[u];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(l=p[u],g.orientation==="h"?f.push(l):n.push(l),a.push(l))}var h={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(m(i,r,t,n,h),m(i,t,r,f,h),u=0;u<a.length;u++){l=a[u];for(var T=0;T<l.length;T++){var c=l[T];c.isSum===!1&&(c.s0+=T===0?0:l[T-1].s),T+1<l.length&&(l[T].nextP0=l[T+1].p0,l[T].nextS0=l[T+1].s0)}}}},24224:function(G,V,e){var m=e(3400),P=e(20011),i=e(31508).handleText,L=e(43980),S=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,a=r.DECREASING.COLOR,n="#4499FF";function f(g,h,T){g(h+".marker.color",T),g(h+".marker.line.color",p.defaultLine),g(h+".marker.line.width")}function l(g,h,T,c){function o(y,M){return m.coerce(g,h,v,y,M)}var d=L(g,h,c,o);if(!d){h.visible=!1;return}S(g,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");i(g,h,c,o,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),f(o,"increasing",t),f(o,"decreasing",a),f(o,"totals",n);var w=o("connector.visible");if(w){o("connector.mode");var C=o("connector.line.width");C&&(o("connector.line.color"),o("connector.line.dash"))}o("zorder")}function u(g,h){var T,c;function o(x){return m.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var d=0;d<g.length;d++)c=g[d],T=c._input,P(T,c,h,o)}G.exports={supplyDefaults:l,crossTraceDefaults:u}},53256:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"initial"in m&&(e.initial=m.initial),"delta"in m&&(e.delta=m.delta),"final"in m&&(e.final=m.final),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},94196:function(G,V,e){var m=e(54460).hoverLabelText,P=e(76308).opacity,i=e(63400).hoverOnBars,L=e(48164),S={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(r,t,a,n,f){var l=i(r,t,a,n,f);if(!l)return;var u=l.cd,g=u[0].trace,h=g.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function o(b){return m(c,b,g[T+"hoverformat"])}var d=l.index,x=u[d],w=x.isSum?x.b+x.s:x.rawS;l.initial=x.b+x.s-w,l.delta=w,l.final=l.initial+l.delta;var C=o(Math.abs(l.delta));l.deltaLabel=w<0?"("+C+")":C,l.finalLabel=o(l.final),l.initialLabel=o(l.initial);var y=x.hi||g.hoverinfo,M=[];if(y&&y!=="none"&&y!=="skip"){var A=y==="all",s=y.split("+"),E=function(b){return A||s.indexOf(b)!==-1};x.isSum||(E("final")&&(h?!E("x"):!E("y"))&&M.push(l.finalLabel),E("delta")&&(w<0?M.push(l.deltaLabel+" "+S.decreasing):M.push(l.deltaLabel+" "+S.increasing)),E("initial")&&M.push("Initial: "+l.initialLabel))}return M.length&&(l.extraText=M.join("<br>")),l.color=v(g,x),[l]};function v(p,r){var t=p[r.dir].marker,a=t.color,n=t.line.color,f=t.line.width;if(P(a))return a;if(P(n)&&f)return n}},95952:function(G,V,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,V,e){var m=e(3400),P=e(91352);G.exports=function(i,L,S){var v=!1;function p(a,n){return m.coerce(i,L,P,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(G,V,e){var m=e(33428),P=e(3400),i=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(a,n,f,l){var u=a._fullLayout;v("waterfall",u),S.plot(a,n,f,l,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),p(a,n,f,l)};function p(t,a,n,f){var l=a.xaxis,u=a.yaxis;P.makeTraceGroups(f,n,"trace bars").each(function(g){var h=m.select(this),T=g[0].trace,c=P.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var o=T.orientation==="h",d=T.connector.mode,x=c.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=r(C,l,u,o),A=M[0],s=M[1],E="";A[0]!==L&&s[0]!==L&&A[1]!==L&&s[1]!==L&&(d==="spanning"&&!C.isSum&&y>0&&(o?E+="M"+A[0]+","+s[1]+"V"+s[0]:E+="M"+A[1]+","+s[0]+"H"+A[0]),d!=="between"&&(C.isSum||y<w-1)&&(o?E+="M"+A[1]+","+s[0]+"V"+s[1]:E+="M"+A[0]+","+s[1]+"H"+A[1]),A[2]!==L&&s[2]!==L&&(o?E+="M"+A[1]+","+s[1]+"V"+s[2]:E+="M"+A[1]+","+s[1]+"H"+A[2])),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(i.setClipUrl,a.layerClipId,t)}})})}function r(t,a,n,f){var l=[],u=[],g=f?a:n,h=f?n:a;return l[0]=g.c2p(t.s0,!0),u[0]=h.c2p(t.p0,!0),l[1]=g.c2p(t.s1,!0),u[1]=h.c2p(t.p1,!0),l[2]=g.c2p(t.nextS0,!0),u[2]=h.c2p(t.nextP0,!0),f?[l,u]:[u,l]}},12252:function(G,V,e){var m=e(33428),P=e(43616),i=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,a,n){var f=n||m.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(l){return l[0].trace.opacity}),f.each(function(l){var u=m.select(this),g=l[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g[h.dir].marker;m.select(this).call(i.fill,T.color).call(i.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(u,g,t),u.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},84224:function(G,V,e){var m=e(54460),P=e(3400),i=e(73060),L=e(60468).W,S=e(39032).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(l,u){var g={},h;function T(b,F){return P.coerce(l,g,v,b,F)}var c=T("enabled");if(!c)return g;var o=i.findArrayAttributes(u),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var x=T("groups");if(!Array.isArray(x)){if(!d[x])return g.enabled=!1,g;d[x]=0}var w=l.aggregations||[],C=g.aggregations=new Array(w.length),y;function M(b,F){return P.coerce(w[h],y,p,b,F)}for(h=0;h<w.length;h++){y={_index:h};var A=M("target"),s=M("func"),E=M("enabled");E&&A&&(d[A]||s==="count"&&d[A]===void 0)?(s==="stddev"&&M("funcmode"),d[A]=0,C[h]=y):C[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&C.push({target:o[h],func:p.func.dflt,enabled:!0,_index:-1});return g},V.calcTransform=function(l,u,g){if(g.enabled){var h=g.groups,T=P.getTargetArray(u,{target:h});if(T){var c,o,d,x,w={},C={},y=[],M=L(u.transforms,g),A=T.length;for(u._length&&(A=Math.min(A,u._length)),c=0;c<A;c++)o=T[c],d=w[o],d===void 0?(w[o]=y.length,x=[c],y.push(x),C[w[o]]=M(c)):(y[d].push(c),C[w[o]]=(C[w[o]]||[]).concat(M(c)));g._indexToPoints=C;var s=g.aggregations;for(c=0;c<s.length;c++)r(l,u,y,s[c]);typeof h=="string"&&r(l,u,y,{target:h,func:"first",enabled:!0}),u._length=y.length}}};function r(l,u,g,h){if(h.enabled){for(var T=h.target,c=P.nestedProperty(u,T),o=c.get(),d=m.getDataConversions(l,u,T,o),x=t(h,d),w=new Array(g.length),C=0;C<g.length;C++)w[C]=x(o,g[C]);c.set(w),h.func==="count"&&P.pushUnique(u._arrayAttrs,T)}}function t(l,u){var g=l.func,h=u.d2c,T=u.c2d;switch(g){case"count":return a;case"first":return n;case"last":return f;case"sum":return function(c,o){for(var d=0,x=0;x<o.length;x++){var w=h(c[o[x]]);w!==S&&(d+=w)}return T(d)};case"avg":return function(c,o){for(var d=0,x=0,w=0;w<o.length;w++){var C=h(c[o[w]]);C!==S&&(d+=C,x++)}return x?T(d/x):S};case"min":return function(c,o){for(var d=1/0,x=0;x<o.length;x++){var w=h(c[o[x]]);w!==S&&(d=Math.min(d,w))}return d===1/0?S:T(d)};case"max":return function(c,o){for(var d=-1/0,x=0;x<o.length;x++){var w=h(c[o[x]]);w!==S&&(d=Math.max(d,w))}return d===-1/0?S:T(d)};case"range":return function(c,o){for(var d=1/0,x=-1/0,w=0;w<o.length;w++){var C=h(c[o[w]]);C!==S&&(d=Math.min(d,C),x=Math.max(x,C))}return x===-1/0||d===1/0?S:T(x-d)};case"change":return function(c,o){var d=h(c[o[0]]),x=h(c[o[o.length-1]]);return d===S||x===S?S:T(x-d)};case"median":return function(c,o){for(var d=[],x=0;x<o.length;x++){var w=h(c[o[x]]);w!==S&&d.push(w)}if(!d.length)return S;d.sort(P.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,o){for(var d={},x=0,w=S,C=0;C<o.length;C++){var y=h(c[o[C]]);if(y!==S){var M=d[y]=(d[y]||0)+1;M>x&&(x=M,w=y)}}return x?T(w):S};case"rms":return function(c,o){for(var d=0,x=0,w=0;w<o.length;w++){var C=h(c[o[w]]);C!==S&&(d+=C*C,x++)}return x?T(Math.sqrt(d/x)):S};case"stddev":return function(c,o){var d=0,x=0,w=1,C=S,y;for(y=0;y<o.length&&C===S;y++)C=h(c[o[y]]);if(C===S)return S;for(;y<o.length;y++){var M=h(c[o[y]]);if(M!==S){var A=M-C;d+=A,x+=A*A,w++}}var s=l.funcmode==="sample"?w-1:w;return s?Math.sqrt((x-d*d/w)/s):0}}}function a(l,u){return u.length}function n(l,u){return l[u[0]]}function f(l,u){return l[u[u.length-1]]}},76744:function(G,V,e){var m=e(3400),P=e(24040),i=e(54460),L=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,p=S.INTERVAL_OPS,r=S.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(a){var n={};function f(h,T){return m.coerce(a,n,V.attributes,h,T)}var l=f("enabled");if(l){var u=f("target");if(m.isArrayOrTypedArray(u)&&u.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var g=P.getComponentMethod("calendars","handleDefaults");g(a,n,"valuecalendar",null),g(a,n,"targetcalendar",null)}return n},V.calcTransform=function(a,n,f){if(!f.enabled)return;var l=m.getTargetArray(n,f);if(!l)return;var u=f.target,g=l.length;n._length&&(g=Math.min(g,n._length));var h=f.targetcalendar,T=n._arrayAttrs,c=f.preservegaps;if(typeof u=="string"){var o=m.nestedProperty(n,u+"calendar").get();o&&(h=o)}var d=i.getDataToCoordFunc(a,n,u,l),x=t(f,d,h),w={},C={},y=0;function M(I,N){for(var _=0;_<T.length;_++){var O=m.nestedProperty(n,T[_]);I(O,N)}}var A,s;c?(A=function(I){w[I.astr]=m.extendDeep([],I.get()),I.set(new Array(g))},s=function(I,N){var _=w[I.astr][N];I.get()[N]=_}):(A=function(I){w[I.astr]=m.extendDeep([],I.get()),I.set([])},s=function(I,N){var _=w[I.astr][N];I.get().push(_)}),M(A);for(var E=L(n.transforms,f),b=0;b<g;b++){var F=x(l[b]);F?(M(s,b),C[y++]=E(b)):c&&y++}f._indexToPoints=C,n._length=y};function t(a,n,f){var l=a.operation,u=a.value,g=m.isArrayOrTypedArray(u);function h(d){return d.indexOf(l)!==-1}var T=function(d){return n(d,0,a.valuecalendar)},c=function(d){return n(d,0,f)},o;switch(h(v)?o=T(g?u[0]:u):h(p)?o=g?[T(u[0]),T(u[1])]:[T(u),T(u)]:h(r)&&(o=g?u.map(T):[T(u)]),l){case"=":return function(d){return c(d)===o};case"!=":return function(d){return c(d)!==o};case"<":return function(d){return c(d)<o};case"<=":return function(d){return c(d)<=o};case">":return function(d){return c(d)>o};case">=":return function(d){return c(d)>=o};case"[]":return function(d){var x=c(d);return x>=o[0]&&x<=o[1]};case"()":return function(d){var x=c(d);return x>o[0]&&x<o[1]};case"[)":return function(d){var x=c(d);return x>=o[0]&&x<o[1]};case"(]":return function(d){var x=c(d);return x>o[0]&&x<=o[1]};case"][":return function(d){var x=c(d);return x<=o[0]||x>=o[1]};case")(":return function(d){var x=c(d);return x<o[0]||x>o[1]};case"](":return function(d){var x=c(d);return x<=o[0]||x>o[1]};case")[":return function(d){var x=c(d);return x<o[0]||x>=o[1]};case"{}":return function(d){return o.indexOf(c(d))!==-1};case"}{":return function(d){return o.indexOf(c(d))===-1}}}},32028:function(G,V,e){var m=e(3400),P=e(73060),i=e(7316),L=e(60468).W;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,r){var t,a={};function n(T,c){return m.coerce(v,a,V.attributes,T,c)}var f=n("enabled");if(!f)return a;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var l=v.styles,u=a.styles=[];if(l)for(t=0;t<l.length;t++){var g=u[t]={};m.coerce(l[t],u[t],V.attributes.styles,"target");var h=m.coerce(l[t],u[t],V.attributes.styles,"value");m.isPlainObject(h)?g.value=m.extendDeep({},h):h&&delete g.value}return a},V.transform=function(v,p){var r,t,a,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],p),a=0;a<r.length;a++)n.push(r[a]);return n};function S(v,p){var r,t,a,n,f,l,u,g,h,T,c=p.transform,o=p.transformIndex,d=v.transforms[o].groups,x=L(v.transforms,c);if(!m.isArrayOrTypedArray(d)||d.length===0)return[v];var w=m.filterUnique(d),C=new Array(w.length),y=d.length,M=P.findArrayAttributes(v),A=c.styles||[],s={};for(r=0;r<A.length;r++)s[A[r].target]=A[r].value;c.styles&&(T=m.keyedContainer(c,"styles","target","value.name"));var E={},b={};for(r=0;r<w.length;r++){l=w[r],E[l]=r,b[l]=0,u=C[r]=m.extendDeepNoArrays({},v),u._group=l,u.transforms[o]._indexToPoints={};var F=null;for(T&&(F=T.get(l)),F||F===""?u.name=F:u.name=m.templateString(c.nameformat,{trace:v.name,group:l}),g=u.transforms,u.transforms=[],t=0;t<g.length;t++)u.transforms[t]=m.extendDeepNoArrays({},g[t]);for(t=0;t<M.length;t++)m.nestedProperty(u,M[t]).set([])}for(a=0;a<M.length;a++){for(n=M[a],t=0,h=[];t<w.length;t++)h[t]=m.nestedProperty(C[t],n).get();for(f=m.nestedProperty(v,n).get(),t=0;t<y;t++)h[E[d[t]]].push(f[t])}for(t=0;t<y;t++){u=C[E[d[t]]];var I=u.transforms[o]._indexToPoints;I[b[d[t]]]=x(t),b[d[t]]++}for(r=0;r<w.length;r++)l=w[r],u=C[r],i.clearExpandedTraceDefaultColors(u),u=m.extendDeepNoArrays(u,s[l]||{});return C}},60468:function(G,V){V.W=function(e,m){for(var P,i,L=0;L<e.length&&(P=e[L],P!==m);L++)!P._indexToPoints||P.enabled===!1||(i=P._indexToPoints);var S=i?function(v){return i[v]}:function(v){return[v]};return S}},76272:function(G,V,e){var m=e(3400),P=e(54460),i=e(60468).W,L=e(39032).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var r={};function t(n,f){return m.coerce(p,r,V.attributes,n,f)}var a=t("enabled");return a&&(t("target"),t("order")),r},V.calcTransform=function(p,r,t){if(t.enabled){var a=m.getTargetArray(r,t);if(a){var n=t.target,f=a.length;r._length&&(f=Math.min(f,r._length));var l=r._arrayAttrs,u=P.getDataToCoordFunc(p,r,n,a),g=S(t,a,u,f),h=i(r.transforms,t),T={},c,o;for(c=0;c<l.length;c++){var d=m.nestedProperty(r,l[c]),x=d.get(),w=new Array(f);for(o=0;o<f;o++)w[o]=x[g[o]];d.set(w)}for(o=0;o<f;o++)T[o]=h(g[o]);t._indexToPoints=T,r._length=f}}};function S(p,r,t,a){var n=new Array(a),f=new Array(a),l;for(l=0;l<a;l++)n[l]={v:r[l],i:l};for(n.sort(v(p,t)),l=0;l<a;l++)f[l]=n[l].i;return f}function v(p,r){switch(p.order){case"ascending":return function(t,a){var n=r(t.v),f=r(a.v);return n===L?1:f===L?-1:n-f};case"descending":return function(t,a){var n=r(t.v),f=r(a.v);return n===L?1:f===L?-1:f-n}}}},25788:function(G,V){V.version="2.33.0"},67792:function(G,V,e){var m=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Le,ve){if(!(Le instanceof ve))throw new TypeError("Cannot call a class as a function")}function a(Le,ve){for(var xe=0;xe<ve.length;xe++){var Ne=ve[xe];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Le,f(Ne.key),Ne)}}function n(Le,ve,xe){return ve&&a(Le.prototype,ve),xe&&a(Le,xe),Object.defineProperty(Le,"prototype",{writable:!1}),Le}function f(Le){var ve=l(Le,"string");return x(ve)=="symbol"?ve:ve+""}function l(Le,ve){if(x(Le)!="object"||!Le)return Le;var xe=Le[Symbol.toPrimitive];if(xe!==void 0){var Ne=xe.call(Le,ve||"default");if(x(Ne)!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ve==="string"?String:Number)(Le)}function u(Le,ve,xe){return ve=c(ve),g(Le,T()?Reflect.construct(ve,xe||[],c(Le).constructor):ve.apply(Le,xe))}function g(Le,ve){if(ve&&(x(ve)==="object"||typeof ve=="function"))return ve;if(ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Le)}function h(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le}function T(){try{var Le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Le})()}function c(Le){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},c(Le)}function o(Le,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");Le.prototype=Object.create(ve&&ve.prototype,{constructor:{value:Le,writable:!0,configurable:!0}}),Object.defineProperty(Le,"prototype",{writable:!1}),ve&&d(Le,ve)}function d(Le,ve){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,et){return Ne.__proto__=et,Ne},d(Le,ve)}function x(Le){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},x(Le)}var w=r(7507),C=r(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=E,p.IS=50;var M=2147483647;E.TYPED_ARRAY_SUPPORT=A(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var Le=new Uint8Array(1),ve={foo:function(){return 42}};return Object.setPrototypeOf(ve,Uint8Array.prototype),Object.setPrototypeOf(Le,ve),Le.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function s(Le){if(Le>M)throw new RangeError('The value "'+Le+'" is invalid for option "size"');var ve=new Uint8Array(Le);return Object.setPrototypeOf(ve,E.prototype),ve}function E(Le,ve,xe){if(typeof Le=="number"){if(typeof ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Le)}return b(Le,ve,xe)}E.poolSize=8192;function b(Le,ve,xe){if(typeof Le=="string")return _(Le,ve);if(ArrayBuffer.isView(Le))return B(Le);if(Le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Le));if(je(Le,ArrayBuffer)||Le&&je(Le.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(Le,SharedArrayBuffer)||Le&&je(Le.buffer,SharedArrayBuffer)))return z(Le,ve,xe);if(typeof Le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=Le.valueOf&&Le.valueOf();if(Ne!=null&&Ne!==Le)return E.from(Ne,ve,xe);var et=U(Le);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Le[Symbol.toPrimitive]=="function")return E.from(Le[Symbol.toPrimitive]("string"),ve,xe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Le))}E.from=function(Le,ve,xe){return b(Le,ve,xe)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function F(Le){if(typeof Le!="number")throw new TypeError('"size" argument must be of type number');if(Le<0)throw new RangeError('The value "'+Le+'" is invalid for option "size"')}function I(Le,ve,xe){return F(Le),Le<=0?s(Le):ve!==void 0?typeof xe=="string"?s(Le).fill(ve,xe):s(Le).fill(ve):s(Le)}E.alloc=function(Le,ve,xe){return I(Le,ve,xe)};function N(Le){return F(Le),s(Le<0?0:Z(Le)|0)}E.allocUnsafe=function(Le){return N(Le)},E.allocUnsafeSlow=function(Le){return N(Le)};function _(Le,ve){if((typeof ve!="string"||ve==="")&&(ve="utf8"),!E.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);var xe=J(Le,ve)|0,Ne=s(xe),et=Ne.write(Le,ve);return et!==xe&&(Ne=Ne.slice(0,et)),Ne}function O(Le){for(var ve=Le.length<0?0:Z(Le.length)|0,xe=s(ve),Ne=0;Ne<ve;Ne+=1)xe[Ne]=Le[Ne]&255;return xe}function B(Le){if(je(Le,Uint8Array)){var ve=new Uint8Array(Le);return z(ve.buffer,ve.byteOffset,ve.byteLength)}return O(Le)}function z(Le,ve,xe){if(ve<0||Le.byteLength<ve)throw new RangeError('"offset" is outside of buffer bounds');if(Le.byteLength<ve+(xe||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return ve===void 0&&xe===void 0?Ne=new Uint8Array(Le):xe===void 0?Ne=new Uint8Array(Le,ve):Ne=new Uint8Array(Le,ve,xe),Object.setPrototypeOf(Ne,E.prototype),Ne}function U(Le){if(E.isBuffer(Le)){var ve=Z(Le.length)|0,xe=s(ve);return xe.length===0||Le.copy(xe,0,0,ve),xe}if(Le.length!==void 0)return typeof Le.length!="number"||We(Le.length)?s(0):O(Le);if(Le.type==="Buffer"&&Array.isArray(Le.data))return O(Le.data)}function Z(Le){if(Le>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return Le|0}E.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==E.prototype},E.compare=function(ve,xe){if(je(ve,Uint8Array)&&(ve=E.from(ve,ve.offset,ve.byteLength)),je(xe,Uint8Array)&&(xe=E.from(xe,xe.offset,xe.byteLength)),!E.isBuffer(ve)||!E.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===xe)return 0;for(var Ne=ve.length,et=xe.length,st=0,lt=Math.min(Ne,et);st<lt;++st)if(ve[st]!==xe[st]){Ne=ve[st],et=xe[st];break}return Ne<et?-1:et<Ne?1:0},E.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(ve,xe){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return E.alloc(0);var Ne;if(xe===void 0)for(xe=0,Ne=0;Ne<ve.length;++Ne)xe+=ve[Ne].length;var et=E.allocUnsafe(xe),st=0;for(Ne=0;Ne<ve.length;++Ne){var lt=ve[Ne];if(je(lt,Uint8Array))st+lt.length>et.length?(E.isBuffer(lt)||(lt=E.from(lt)),lt.copy(et,st)):Uint8Array.prototype.set.call(et,lt,st);else if(E.isBuffer(lt))lt.copy(et,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=lt.length}return et};function J(Le,ve){if(E.isBuffer(Le))return Le.length;if(ArrayBuffer.isView(Le)||je(Le,ArrayBuffer))return Le.byteLength;if(typeof Le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Le));var xe=Le.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&xe===0)return 0;for(var et=!1;;)switch(ve){case"ascii":case"latin1":case"binary":return xe;case"utf8":case"utf-8":return wt(Le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe*2;case"hex":return xe>>>1;case"base64":return _e(Le).length;default:if(et)return Ne?-1:wt(Le).length;ve=(""+ve).toLowerCase(),et=!0}}E.byteLength=J;function re(Le,ve,xe){var Ne=!1;if((ve===void 0||ve<0)&&(ve=0),ve>this.length||((xe===void 0||xe>this.length)&&(xe=this.length),xe<=0)||(xe>>>=0,ve>>>=0,xe<=ve))return"";for(Le||(Le="utf8");;)switch(Le){case"hex":return we(this,ve,xe);case"utf8":case"utf-8":return X(this,ve,xe);case"ascii":return ce(this,ve,xe);case"latin1":case"binary":return ye(this,ve,xe);case"base64":return j(this,ve,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,ve,xe);default:if(Ne)throw new TypeError("Unknown encoding: "+Le);Le=(Le+"").toLowerCase(),Ne=!0}}E.prototype._isBuffer=!0;function ne(Le,ve,xe){var Ne=Le[ve];Le[ve]=Le[xe],Le[xe]=Ne}E.prototype.swap16=function(){var ve=this.length;if(ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<ve;xe+=2)ne(this,xe,xe+1);return this},E.prototype.swap32=function(){var ve=this.length;if(ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<ve;xe+=4)ne(this,xe,xe+3),ne(this,xe+1,xe+2);return this},E.prototype.swap64=function(){var ve=this.length;if(ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<ve;xe+=8)ne(this,xe,xe+7),ne(this,xe+1,xe+6),ne(this,xe+2,xe+5),ne(this,xe+3,xe+4);return this},E.prototype.toString=function(){var ve=this.length;return ve===0?"":arguments.length===0?X(this,0,ve):re.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(ve){if(!E.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve?!0:E.compare(this,ve)===0},E.prototype.inspect=function(){var ve="",xe=p.IS;return ve=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(ve+=" ... "),"<Buffer "+ve+">"},y&&(E.prototype[y]=E.prototype.inspect),E.prototype.compare=function(ve,xe,Ne,et,st){if(je(ve,Uint8Array)&&(ve=E.from(ve,ve.offset,ve.byteLength)),!E.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(ve));if(xe===void 0&&(xe=0),Ne===void 0&&(Ne=ve?ve.length:0),et===void 0&&(et=0),st===void 0&&(st=this.length),xe<0||Ne>ve.length||et<0||st>this.length)throw new RangeError("out of range index");if(et>=st&&xe>=Ne)return 0;if(et>=st)return-1;if(xe>=Ne)return 1;if(xe>>>=0,Ne>>>=0,et>>>=0,st>>>=0,this===ve)return 0;for(var lt=st-et,Gt=Ne-xe,jt=Math.min(lt,Gt),Tt=this.slice(et,st),Dt=ve.slice(xe,Ne),Xt=0;Xt<jt;++Xt)if(Tt[Xt]!==Dt[Xt]){lt=Tt[Xt],Gt=Dt[Xt];break}return lt<Gt?-1:Gt<lt?1:0};function ue(Le,ve,xe,Ne,et){if(Le.length===0)return-1;if(typeof xe=="string"?(Ne=xe,xe=0):xe>2147483647?xe=2147483647:xe<-2147483648&&(xe=-2147483648),xe=+xe,We(xe)&&(xe=et?0:Le.length-1),xe<0&&(xe=Le.length+xe),xe>=Le.length){if(et)return-1;xe=Le.length-1}else if(xe<0)if(et)xe=0;else return-1;if(typeof ve=="string"&&(ve=E.from(ve,Ne)),E.isBuffer(ve))return ve.length===0?-1:te(Le,ve,xe,Ne,et);if(typeof ve=="number")return ve=ve&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(Le,ve,xe):Uint8Array.prototype.lastIndexOf.call(Le,ve,xe):te(Le,[ve],xe,Ne,et);throw new TypeError("val must be string, number or Buffer")}function te(Le,ve,xe,Ne,et){var st=1,lt=Le.length,Gt=ve.length;if(Ne!==void 0&&(Ne=String(Ne).toLowerCase(),Ne==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(Le.length<2||ve.length<2)return-1;st=2,lt/=2,Gt/=2,xe/=2}function jt(gt,Zt){return st===1?gt[Zt]:gt.readUInt16BE(Zt*st)}var Tt;if(et){var Dt=-1;for(Tt=xe;Tt<lt;Tt++)if(jt(Le,Tt)===jt(ve,Dt===-1?0:Tt-Dt)){if(Dt===-1&&(Dt=Tt),Tt-Dt+1===Gt)return Dt*st}else Dt!==-1&&(Tt-=Tt-Dt),Dt=-1}else for(xe+Gt>lt&&(xe=lt-Gt),Tt=xe;Tt>=0;Tt--){for(var Xt=!0,gr=0;gr<Gt;gr++)if(jt(Le,Tt+gr)!==jt(ve,gr)){Xt=!1;break}if(Xt)return Tt}return-1}E.prototype.includes=function(ve,xe,Ne){return this.indexOf(ve,xe,Ne)!==-1},E.prototype.indexOf=function(ve,xe,Ne){return ue(this,ve,xe,Ne,!0)},E.prototype.lastIndexOf=function(ve,xe,Ne){return ue(this,ve,xe,Ne,!1)};function Q(Le,ve,xe,Ne){xe=Number(xe)||0;var et=Le.length-xe;Ne?(Ne=Number(Ne),Ne>et&&(Ne=et)):Ne=et;var st=ve.length;Ne>st/2&&(Ne=st/2);var lt;for(lt=0;lt<Ne;++lt){var Gt=parseInt(ve.substr(lt*2,2),16);if(We(Gt))return lt;Le[xe+lt]=Gt}return lt}function ie(Le,ve,xe,Ne){return Ge(wt(ve,Le.length-xe),Le,xe,Ne)}function Y(Le,ve,xe,Ne){return Ge(Mt(ve),Le,xe,Ne)}function $(Le,ve,xe,Ne){return Ge(_e(ve),Le,xe,Ne)}function oe(Le,ve,xe,Ne){return Ge(nt(ve,Le.length-xe),Le,xe,Ne)}E.prototype.write=function(ve,xe,Ne,et){if(xe===void 0)et="utf8",Ne=this.length,xe=0;else if(Ne===void 0&&typeof xe=="string")et=xe,Ne=this.length,xe=0;else if(isFinite(xe))xe=xe>>>0,isFinite(Ne)?(Ne=Ne>>>0,et===void 0&&(et="utf8")):(et=Ne,Ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var st=this.length-xe;if((Ne===void 0||Ne>st)&&(Ne=st),ve.length>0&&(Ne<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");for(var lt=!1;;)switch(et){case"hex":return Q(this,ve,xe,Ne);case"utf8":case"utf-8":return ie(this,ve,xe,Ne);case"ascii":case"latin1":case"binary":return Y(this,ve,xe,Ne);case"base64":return $(this,ve,xe,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ve,xe,Ne);default:if(lt)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),lt=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(Le,ve,xe){return ve===0&&xe===Le.length?w.fromByteArray(Le):w.fromByteArray(Le.slice(ve,xe))}function X(Le,ve,xe){xe=Math.min(Le.length,xe);for(var Ne=[],et=ve;et<xe;){var st=Le[et],lt=null,Gt=st>239?4:st>223?3:st>191?2:1;if(et+Gt<=xe){var jt=void 0,Tt=void 0,Dt=void 0,Xt=void 0;switch(Gt){case 1:st<128&&(lt=st);break;case 2:jt=Le[et+1],(jt&192)===128&&(Xt=(st&31)<<6|jt&63,Xt>127&&(lt=Xt));break;case 3:jt=Le[et+1],Tt=Le[et+2],(jt&192)===128&&(Tt&192)===128&&(Xt=(st&15)<<12|(jt&63)<<6|Tt&63,Xt>2047&&(Xt<55296||Xt>57343)&&(lt=Xt));break;case 4:jt=Le[et+1],Tt=Le[et+2],Dt=Le[et+3],(jt&192)===128&&(Tt&192)===128&&(Dt&192)===128&&(Xt=(st&15)<<18|(jt&63)<<12|(Tt&63)<<6|Dt&63,Xt>65535&&Xt<1114112&&(lt=Xt))}}lt===null?(lt=65533,Gt=1):lt>65535&&(lt-=65536,Ne.push(lt>>>10&1023|55296),lt=56320|lt&1023),Ne.push(lt),et+=Gt}return q(Ne)}var se=4096;function q(Le){var ve=Le.length;if(ve<=se)return String.fromCharCode.apply(String,Le);for(var xe="",Ne=0;Ne<ve;)xe+=String.fromCharCode.apply(String,Le.slice(Ne,Ne+=se));return xe}function ce(Le,ve,xe){var Ne="";xe=Math.min(Le.length,xe);for(var et=ve;et<xe;++et)Ne+=String.fromCharCode(Le[et]&127);return Ne}function ye(Le,ve,xe){var Ne="";xe=Math.min(Le.length,xe);for(var et=ve;et<xe;++et)Ne+=String.fromCharCode(Le[et]);return Ne}function we(Le,ve,xe){var Ne=Le.length;(!ve||ve<0)&&(ve=0),(!xe||xe<0||xe>Ne)&&(xe=Ne);for(var et="",st=ve;st<xe;++st)et+=Pe[Le[st]];return et}function be(Le,ve,xe){for(var Ne=Le.slice(ve,xe),et="",st=0;st<Ne.length-1;st+=2)et+=String.fromCharCode(Ne[st]+Ne[st+1]*256);return et}E.prototype.slice=function(ve,xe){var Ne=this.length;ve=~~ve,xe=xe===void 0?Ne:~~xe,ve<0?(ve+=Ne,ve<0&&(ve=0)):ve>Ne&&(ve=Ne),xe<0?(xe+=Ne,xe<0&&(xe=0)):xe>Ne&&(xe=Ne),xe<ve&&(xe=ve);var et=this.subarray(ve,xe);return Object.setPrototypeOf(et,E.prototype),et};function De(Le,ve,xe){if(Le%1!==0||Le<0)throw new RangeError("offset is not uint");if(Le+ve>xe)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(ve,xe,Ne){ve=ve>>>0,xe=xe>>>0,Ne||De(ve,xe,this.length);for(var et=this[ve],st=1,lt=0;++lt<xe&&(st*=256);)et+=this[ve+lt]*st;return et},E.prototype.readUintBE=E.prototype.readUIntBE=function(ve,xe,Ne){ve=ve>>>0,xe=xe>>>0,Ne||De(ve,xe,this.length);for(var et=this[ve+--xe],st=1;xe>0&&(st*=256);)et+=this[ve+--xe]*st;return et},E.prototype.readUint8=E.prototype.readUInt8=function(ve,xe){return ve=ve>>>0,xe||De(ve,1,this.length),this[ve]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(ve,xe){return ve=ve>>>0,xe||De(ve,2,this.length),this[ve]|this[ve+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(ve,xe){return ve=ve>>>0,xe||De(ve,2,this.length),this[ve]<<8|this[ve+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+this[ve+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),this[ve]*16777216+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},E.prototype.readBigUInt64LE=Re(function(ve){ve=ve>>>0,qe(ve,"offset");var xe=this[ve],Ne=this[ve+7];(xe===void 0||Ne===void 0)&&ht(ve,this.length-8);var et=xe+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),st=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+Ne*Math.pow(2,24);return BigInt(et)+(BigInt(st)<<BigInt(32))}),E.prototype.readBigUInt64BE=Re(function(ve){ve=ve>>>0,qe(ve,"offset");var xe=this[ve],Ne=this[ve+7];(xe===void 0||Ne===void 0)&&ht(ve,this.length-8);var et=xe*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],st=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ne;return(BigInt(et)<<BigInt(32))+BigInt(st)}),E.prototype.readIntLE=function(ve,xe,Ne){ve=ve>>>0,xe=xe>>>0,Ne||De(ve,xe,this.length);for(var et=this[ve],st=1,lt=0;++lt<xe&&(st*=256);)et+=this[ve+lt]*st;return st*=128,et>=st&&(et-=Math.pow(2,8*xe)),et},E.prototype.readIntBE=function(ve,xe,Ne){ve=ve>>>0,xe=xe>>>0,Ne||De(ve,xe,this.length);for(var et=xe,st=1,lt=this[ve+--et];et>0&&(st*=256);)lt+=this[ve+--et]*st;return st*=128,lt>=st&&(lt-=Math.pow(2,8*xe)),lt},E.prototype.readInt8=function(ve,xe){return ve=ve>>>0,xe||De(ve,1,this.length),this[ve]&128?(255-this[ve]+1)*-1:this[ve]},E.prototype.readInt16LE=function(ve,xe){ve=ve>>>0,xe||De(ve,2,this.length);var Ne=this[ve]|this[ve+1]<<8;return Ne&32768?Ne|4294901760:Ne},E.prototype.readInt16BE=function(ve,xe){ve=ve>>>0,xe||De(ve,2,this.length);var Ne=this[ve+1]|this[ve]<<8;return Ne&32768?Ne|4294901760:Ne},E.prototype.readInt32LE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},E.prototype.readInt32BE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},E.prototype.readBigInt64LE=Re(function(ve){ve=ve>>>0,qe(ve,"offset");var xe=this[ve],Ne=this[ve+7];(xe===void 0||Ne===void 0)&&ht(ve,this.length-8);var et=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(Ne<<24);return(BigInt(et)<<BigInt(32))+BigInt(xe+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),E.prototype.readBigInt64BE=Re(function(ve){ve=ve>>>0,qe(ve,"offset");var xe=this[ve],Ne=this[ve+7];(xe===void 0||Ne===void 0)&&ht(ve,this.length-8);var et=(xe<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(et)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ne)}),E.prototype.readFloatLE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),C.read(this,ve,!0,23,4)},E.prototype.readFloatBE=function(ve,xe){return ve=ve>>>0,xe||De(ve,4,this.length),C.read(this,ve,!1,23,4)},E.prototype.readDoubleLE=function(ve,xe){return ve=ve>>>0,xe||De(ve,8,this.length),C.read(this,ve,!0,52,8)},E.prototype.readDoubleBE=function(ve,xe){return ve=ve>>>0,xe||De(ve,8,this.length),C.read(this,ve,!1,52,8)};function ke(Le,ve,xe,Ne,et,st){if(!E.isBuffer(Le))throw new TypeError('"buffer" argument must be a Buffer instance');if(ve>et||ve<st)throw new RangeError('"value" argument is out of bounds');if(xe+Ne>Le.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(ve,xe,Ne,et){if(ve=+ve,xe=xe>>>0,Ne=Ne>>>0,!et){var st=Math.pow(2,8*Ne)-1;ke(this,ve,xe,Ne,st,0)}var lt=1,Gt=0;for(this[xe]=ve&255;++Gt<Ne&&(lt*=256);)this[xe+Gt]=ve/lt&255;return xe+Ne},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(ve,xe,Ne,et){if(ve=+ve,xe=xe>>>0,Ne=Ne>>>0,!et){var st=Math.pow(2,8*Ne)-1;ke(this,ve,xe,Ne,st,0)}var lt=Ne-1,Gt=1;for(this[xe+lt]=ve&255;--lt>=0&&(Gt*=256);)this[xe+lt]=ve/Gt&255;return xe+Ne},E.prototype.writeUint8=E.prototype.writeUInt8=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,1,255,0),this[xe]=ve&255,xe+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,2,65535,0),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,2,65535,0),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,4,4294967295,0),this[xe+3]=ve>>>24,this[xe+2]=ve>>>16,this[xe+1]=ve>>>8,this[xe]=ve&255,xe+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,4,4294967295,0),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4};function Be(Le,ve,xe,Ne,et){$e(ve,Ne,et,Le,xe,7);var st=Number(ve&BigInt(4294967295));Le[xe++]=st,st=st>>8,Le[xe++]=st,st=st>>8,Le[xe++]=st,st=st>>8,Le[xe++]=st;var lt=Number(ve>>BigInt(32)&BigInt(4294967295));return Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,lt=lt>>8,Le[xe++]=lt,xe}function Ae(Le,ve,xe,Ne,et){$e(ve,Ne,et,Le,xe,7);var st=Number(ve&BigInt(4294967295));Le[xe+7]=st,st=st>>8,Le[xe+6]=st,st=st>>8,Le[xe+5]=st,st=st>>8,Le[xe+4]=st;var lt=Number(ve>>BigInt(32)&BigInt(4294967295));return Le[xe+3]=lt,lt=lt>>8,Le[xe+2]=lt,lt=lt>>8,Le[xe+1]=lt,lt=lt>>8,Le[xe]=lt,xe+8}E.prototype.writeBigUInt64LE=Re(function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Re(function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,ve,xe,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(ve,xe,Ne,et){if(ve=+ve,xe=xe>>>0,!et){var st=Math.pow(2,8*Ne-1);ke(this,ve,xe,Ne,st-1,-st)}var lt=0,Gt=1,jt=0;for(this[xe]=ve&255;++lt<Ne&&(Gt*=256);)ve<0&&jt===0&&this[xe+lt-1]!==0&&(jt=1),this[xe+lt]=(ve/Gt>>0)-jt&255;return xe+Ne},E.prototype.writeIntBE=function(ve,xe,Ne,et){if(ve=+ve,xe=xe>>>0,!et){var st=Math.pow(2,8*Ne-1);ke(this,ve,xe,Ne,st-1,-st)}var lt=Ne-1,Gt=1,jt=0;for(this[xe+lt]=ve&255;--lt>=0&&(Gt*=256);)ve<0&&jt===0&&this[xe+lt+1]!==0&&(jt=1),this[xe+lt]=(ve/Gt>>0)-jt&255;return xe+Ne},E.prototype.writeInt8=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,1,127,-128),ve<0&&(ve=255+ve+1),this[xe]=ve&255,xe+1},E.prototype.writeInt16LE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,2,32767,-32768),this[xe]=ve&255,this[xe+1]=ve>>>8,xe+2},E.prototype.writeInt16BE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,2,32767,-32768),this[xe]=ve>>>8,this[xe+1]=ve&255,xe+2},E.prototype.writeInt32LE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,4,2147483647,-2147483648),this[xe]=ve&255,this[xe+1]=ve>>>8,this[xe+2]=ve>>>16,this[xe+3]=ve>>>24,xe+4},E.prototype.writeInt32BE=function(ve,xe,Ne){return ve=+ve,xe=xe>>>0,Ne||ke(this,ve,xe,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[xe]=ve>>>24,this[xe+1]=ve>>>16,this[xe+2]=ve>>>8,this[xe+3]=ve&255,xe+4},E.prototype.writeBigInt64LE=Re(function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Re(function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,ve,xe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(Le,ve,xe,Ne,et,st){if(xe+Ne>Le.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("Index out of range")}function Me(Le,ve,xe,Ne,et){return ve=+ve,xe=xe>>>0,et||Ie(Le,ve,xe,4),C.write(Le,ve,xe,Ne,23,4),xe+4}E.prototype.writeFloatLE=function(ve,xe,Ne){return Me(this,ve,xe,!0,Ne)},E.prototype.writeFloatBE=function(ve,xe,Ne){return Me(this,ve,xe,!1,Ne)};function Fe(Le,ve,xe,Ne,et){return ve=+ve,xe=xe>>>0,et||Ie(Le,ve,xe,8),C.write(Le,ve,xe,Ne,52,8),xe+8}E.prototype.writeDoubleLE=function(ve,xe,Ne){return Fe(this,ve,xe,!0,Ne)},E.prototype.writeDoubleBE=function(ve,xe,Ne){return Fe(this,ve,xe,!1,Ne)},E.prototype.copy=function(ve,xe,Ne,et){if(!E.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!et&&et!==0&&(et=this.length),xe>=ve.length&&(xe=ve.length),xe||(xe=0),et>0&&et<Ne&&(et=Ne),et===Ne||ve.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),ve.length-xe<et-Ne&&(et=ve.length-xe+Ne);var st=et-Ne;return this===ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,Ne,et):Uint8Array.prototype.set.call(ve,this.subarray(Ne,et),xe),st},E.prototype.fill=function(ve,xe,Ne,et){if(typeof ve=="string"){if(typeof xe=="string"?(et=xe,xe=0,Ne=this.length):typeof Ne=="string"&&(et=Ne,Ne=this.length),et!==void 0&&typeof et!="string")throw new TypeError("encoding must be a string");if(typeof et=="string"&&!E.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(ve.length===1){var st=ve.charCodeAt(0);(et==="utf8"&&st<128||et==="latin1")&&(ve=st)}}else typeof ve=="number"?ve=ve&255:typeof ve=="boolean"&&(ve=Number(ve));if(xe<0||this.length<xe||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=xe)return this;xe=xe>>>0,Ne=Ne===void 0?this.length:Ne>>>0,ve||(ve=0);var lt;if(typeof ve=="number")for(lt=xe;lt<Ne;++lt)this[lt]=ve;else{var Gt=E.isBuffer(ve)?ve:E.from(ve,et),jt=Gt.length;if(jt===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(lt=0;lt<Ne-xe;++lt)this[lt+xe]=Gt[lt%jt]}return this};var Ee={};function He(Le,ve,xe){Ee[Le]=function(Ne){function et(){var st;return t(this,et),st=u(this,et),Object.defineProperty(st,"message",{value:ve.apply(st,arguments),writable:!0,configurable:!0}),st.name="".concat(st.name," [").concat(Le,"]"),st.stack,delete st.name,st}return o(et,Ne),n(et,[{key:"code",get:function(){return Le},set:function(lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Le,"]: ").concat(this.message)}}])}(xe)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Le){return Le?"".concat(Le," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Le,ve){return'The "'.concat(Le,'" argument must be of type number. Received type ').concat(x(ve))},TypeError),He("ERR_OUT_OF_RANGE",function(Le,ve,xe){var Ne='The value of "'.concat(Le,'" is out of range.'),et=xe;return Number.isInteger(xe)&&Math.abs(xe)>Math.pow(2,32)?et=rt(String(xe)):typeof xe=="bigint"&&(et=String(xe),(xe>Math.pow(BigInt(2),BigInt(32))||xe<-Math.pow(BigInt(2),BigInt(32)))&&(et=rt(et)),et+="n"),Ne+=" It must be ".concat(ve,". Received ").concat(et),Ne},RangeError);function rt(Le){for(var ve="",xe=Le.length,Ne=Le[0]==="-"?1:0;xe>=Ne+4;xe-=3)ve="_".concat(Le.slice(xe-3,xe)).concat(ve);return"".concat(Le.slice(0,xe)).concat(ve)}function ot(Le,ve,xe){qe(ve,"offset"),(Le[ve]===void 0||Le[ve+xe]===void 0)&&ht(ve,Le.length-(xe+1))}function $e(Le,ve,xe,Ne,et,st){if(Le>xe||Le<ve){var lt=typeof ve=="bigint"?"n":"",Gt;throw st>3?ve===0||ve===BigInt(0)?Gt=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((st+1)*8).concat(lt):Gt=">= -(2".concat(lt," ** ").concat((st+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((st+1)*8-1).concat(lt):Gt=">= ".concat(ve).concat(lt," and <= ").concat(xe).concat(lt),new Ee.ERR_OUT_OF_RANGE("value",Gt,Le)}ot(Ne,et,st)}function qe(Le,ve){if(typeof Le!="number")throw new Ee.ERR_INVALID_ARG_TYPE(ve,"number",Le)}function ht(Le,ve,xe){throw Math.floor(Le)!==Le?(qe(Le,xe),new Ee.ERR_OUT_OF_RANGE(xe||"offset","an integer",Le)):ve<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE(xe||"offset",">= ".concat(xe?1:0," and <= ").concat(ve),Le)}var vt=/[^+/0-9A-Za-z-_]/g;function pt(Le){if(Le=Le.split("=")[0],Le=Le.trim().replace(vt,""),Le.length<2)return"";for(;Le.length%4!==0;)Le=Le+"=";return Le}function wt(Le,ve){ve=ve||1/0;for(var xe,Ne=Le.length,et=null,st=[],lt=0;lt<Ne;++lt){if(xe=Le.charCodeAt(lt),xe>55295&&xe<57344){if(!et){if(xe>56319){(ve-=3)>-1&&st.push(239,191,189);continue}else if(lt+1===Ne){(ve-=3)>-1&&st.push(239,191,189);continue}et=xe;continue}if(xe<56320){(ve-=3)>-1&&st.push(239,191,189),et=xe;continue}xe=(et-55296<<10|xe-56320)+65536}else et&&(ve-=3)>-1&&st.push(239,191,189);if(et=null,xe<128){if((ve-=1)<0)break;st.push(xe)}else if(xe<2048){if((ve-=2)<0)break;st.push(xe>>6|192,xe&63|128)}else if(xe<65536){if((ve-=3)<0)break;st.push(xe>>12|224,xe>>6&63|128,xe&63|128)}else if(xe<1114112){if((ve-=4)<0)break;st.push(xe>>18|240,xe>>12&63|128,xe>>6&63|128,xe&63|128)}else throw new Error("Invalid code point")}return st}function Mt(Le){for(var ve=[],xe=0;xe<Le.length;++xe)ve.push(Le.charCodeAt(xe)&255);return ve}function nt(Le,ve){for(var xe,Ne,et,st=[],lt=0;lt<Le.length&&!((ve-=2)<0);++lt)xe=Le.charCodeAt(lt),Ne=xe>>8,et=xe%256,st.push(et),st.push(Ne);return st}function _e(Le){return w.toByteArray(pt(Le))}function Ge(Le,ve,xe,Ne){var et;for(et=0;et<Ne&&!(et+xe>=ve.length||et>=Le.length);++et)ve[et+xe]=Le[et];return et}function je(Le,ve){return Le instanceof ve||Le!=null&&Le.constructor!=null&&Le.constructor.name!=null&&Le.constructor.name===ve.name}function We(Le){return Le!==Le}var Pe=function(){for(var Le="0123456789abcdef",ve=new Array(256),xe=0;xe<16;++xe)for(var Ne=xe*16,et=0;et<16;++et)ve[Ne+et]=Le[xe]+Le[et];return ve}();function Re(Le){return typeof BigInt>"u"?Xe:Le}function Xe(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=a,v.exports.isMobile=a,v.exports.default=a;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function a(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var l=p.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!l&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(v,p,r){v.exports=u;var t=r(7261),a=r(9977),n=r(4192);function f(g,h){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(T){return g[T]}),this._mode=h,this._active=g[h],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=f.prototype;l.flush=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(g)},l.idle=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(g)},l.lookAt=function(g,h,T,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(g,h,T,c)},l.rotate=function(g,h,T,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(g,h,T,c)},l.pan=function(g,h,T,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(g,h,T,c)},l.translate=function(g,h,T,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(g,h,T,c)},l.setMatrix=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(g,h)},l.setDistanceLimits=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(g,h)},l.setDistance=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(g,h)},l.recalcMatrix=function(g){this._active.recalcMatrix(g)},l.getDistance=function(g){return this._active.getDistance(g)},l.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},l.lastT=function(){return this._active.lastT()},l.setMode=function(g){if(g!==this._mode){var h=this._controllerNames.indexOf(g);if(!(h<0)){var T=this._active,c=this._controllerList[h],o=Math.max(T.lastT(),c.lastT());T.recalcMatrix(o),c.setMatrix(o,T.computedMatrix),this._active=c,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode};function u(g){g=g||{};var h=g.eye||[0,0,1],T=g.center||[0,0,0],c=g.up||[0,1,0],o=g.distanceLimits||[0,1/0],d=g.mode||"turntable",x=t(),w=a(),C=n();return x.setDistanceLimits(o[0],o[1]),x.lookAt(0,h,T,c),w.setDistanceLimits(o[0],o[1]),w.lookAt(0,h,T,c),C.setDistanceLimits(o[0],o[1]),C.lookAt(0,h,T,c),new f({turntable:x,orbit:w,matrix:C},d)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,a=r(2762),n=r(8116),f=new t;function l(u){var g=f.get(u),h=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!h||!u.isBuffer(h)){var T=a(u,new Float32Array([-1,-1,-1,4,4,-1]));g=n(u,[{buffer:T,type:u.FLOAT,size:2}]),g._triangleBuffer=T,f.set(u,g)}g.bind(),u.drawArrays(u.TRIANGLES,0,3),g.unbind()}v.exports=l},1085:function(v,p,r){var t=r(1371);v.exports=a;function a(n,f,l){f=typeof f=="number"?f:1,l=l||": ";var u=n.split(/\r?\n/),g=String(u.length+f-1).length;return u.map(function(h,T){var c=T+f,o=String(c).length,d=t(c,g-o);return d+l+h}).join(`
`)}},3952:function(v,p,r){v.exports=n;var t=r(3250);function a(f,l){for(var u=new Array(l+1),g=0;g<f.length;++g)u[g]=f[g];for(var g=0;g<=f.length;++g){for(var h=f.length;h<=l;++h){for(var T=new Array(l),c=0;c<l;++c)T[c]=Math.pow(h+1-g,c);u[h]=T}var o=t.apply(void 0,u);if(o)return!0}return!1}function n(f){var l=f.length;if(l===0)return[];if(l===1)return[0];for(var u=f[0].length,g=[f[0]],h=[0],T=1;T<l;++T){if(g.push(f[T]),!a(g,u)){g.pop();continue}if(h.push(T),h.length===u+1)return h}return h}},5995:function(v,p,r){v.exports=n;var t=r(7642),a=r(6037);function n(f,l){return t(l).filter(function(u){for(var g=new Array(u.length),h=0;h<u.length;++h)g[h]=l[u[h]];return a(g)*f<1})}},3502:function(v,p,r){v.exports=n;var t=r(5995),a=r(9127);function n(f,l){return a(t(f,l))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=n;var t=r(727);function a(f){for(var l=0,u=0;u<f.length;++u)l+=f[u];return l}function n(f,l){for(var u=l.length,g=new Array(u+1),h=0;h<u;++h){for(var T=new Array(u+1),c=0;c<=u;++c)T[c]=f[c][h];g[h]=T}g[u]=new Array(u+1);for(var h=0;h<=u;++h)g[u][h]=1;for(var o=new Array(u+1),h=0;h<u;++h)o[h]=l[h];o[u]=1;var d=t(g,o),x=a(d[u+1]);x===0&&(x=1);for(var w=new Array(u+1),h=0;h<=u;++h)w[h]=a(d[h])/x;return w}},7507:function(v,p){p.byteLength=g,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,l=n.length;f<l;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function u(x){var w=x.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=x.indexOf("=");C===-1&&(C=w);var y=C===w?0:4-C%4;return[C,y]}function g(x){var w=u(x),C=w[0],y=w[1];return(C+y)*3/4-y}function h(x,w,C){return(w+C)*3/4-C}function T(x){var w,C=u(x),y=C[0],M=C[1],A=new a(h(x,y,M)),s=0,E=M>0?y-4:y,b;for(b=0;b<E;b+=4)w=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],A[s++]=w>>16&255,A[s++]=w>>8&255,A[s++]=w&255;return M===2&&(w=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,A[s++]=w&255),M===1&&(w=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,A[s++]=w>>8&255,A[s++]=w&255),A}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function o(x,w,C){for(var y,M=[],A=w;A<C;A+=3)y=(x[A]<<16&16711680)+(x[A+1]<<8&65280)+(x[A+2]&255),M.push(c(y));return M.join("")}function d(x){for(var w,C=x.length,y=C%3,M=[],A=16383,s=0,E=C-y;s<E;s+=A)M.push(o(x,s,s+A>E?E:s+A));return y===1?(w=x[C-1],M.push(r[w>>2]+r[w<<4&63]+"==")):y===2&&(w=(x[C-2]<<8)+x[C-1],M.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),M.join("")}},3865:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,p,r){var t=r(6330),a=r(1533),n=r(2651),f=r(4387),l=r(869),u=r(8697);v.exports=g;function g(h,T){if(t(h))return T?u(h,g(T)):[h[0].clone(),h[1].clone()];var c=0,o,d;if(a(h))o=h.clone();else if(typeof h=="string")o=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=n(h)}}if(t(T))o.mul(T[1]),d=T[0].clone();else if(a(T))d=T.clone();else if(typeof T=="string")d=f(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;d=n(T)}return c>0?o=o.ushln(c):c<0&&(d=d.ushln(-c)),l(o,d)}},6330:function(v,p,r){var t=r(1533);v.exports=a;function a(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,p,r){var t=r(6859);v.exports=a;function a(n){return n.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=a;function a(n){var f=n.length,l=n.words,u=0;if(f===1)u=l[0];else if(f===2)u=l[0]+l[1]*67108864;else for(var g=0;g<f;g++){var h=l[g];u+=h*Math.pow(67108864,g)}return t(n)*u}},4025:function(v,p,r){var t=r(2361),a=r(8828).countTrailingZeros;v.exports=n;function n(f){var l=a(t.lo(f));if(l<32)return l;var u=a(t.hi(f));return u>20?52:u+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(a){return a&&typeof a=="object"&&!!a.words}},2651:function(v,p,r){var t=r(6859),a=r(2361);v.exports=n;function n(f){var l=a.exponent(f);return l<52?new t(f):new t(f*Math.pow(2,52-l)).ushln(l-52)}},869:function(v,p,r){var t=r(2651),a=r(5716);v.exports=n;function n(f,l){var u=a(f),g=a(l);if(u===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(f=f.neg(),l=l.neg());var h=f.gcd(l);return h.cmpn(1)?[f.div(h),l.div(h)]:[f,l]}},4387:function(v,p,r){var t=r(6859);v.exports=a;function a(n){return new t(n)}},6504:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=a;function a(n){return t(n[0])*t(n[1])}},5572:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,p,r){var t=r(1369),a=r(4025);v.exports=n;function n(f){var l=f[0],u=f[1];if(l.cmpn(0)===0)return 0;var g=l.abs().divmod(u.abs()),h=g.div,T=t(h),c=g.mod,o=l.negative!==u.negative?-1:1;if(c.cmpn(0)===0)return o*T;if(T){var d=a(T)+4,x=t(c.ushln(d).divRound(u));return o*(T+x*Math.pow(2,-d))}else{var w=u.bitLength()-c.bitLength()+53,x=t(c.ushln(w).divRound(u));return w<1023?o*x*Math.pow(2,-w):(x*=Math.pow(2,-1023),o*x*Math.pow(2,1023-w))}}},2478:function(v){function p(l,u,g,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,d=l[o],x=g!==void 0?g(d,u):d-u;x>=0?(c=o,T=o-1):h=o+1}return c}function r(l,u,g,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,d=l[o],x=g!==void 0?g(d,u):d-u;x>0?(c=o,T=o-1):h=o+1}return c}function t(l,u,g,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,d=l[o],x=g!==void 0?g(d,u):d-u;x<0?(c=o,h=o+1):T=o-1}return c}function a(l,u,g,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,d=l[o],x=g!==void 0?g(d,u):d-u;x<=0?(c=o,h=o+1):T=o-1}return c}function n(l,u,g,h,T){for(;h<=T;){var c=h+T>>>1,o=l[c],d=g!==void 0?g(o,u):o-u;if(d===0)return c;d<=0?h=c+1:T=c-1}return-1}function f(l,u,g,h,T,c){return typeof g=="function"?c(l,u,g,h===void 0?0:h|0,T===void 0?l.length-1:T|0):c(l,u,void 0,g===void 0?0:g|0,h===void 0?l.length-1:h|0)}v.exports={ge:function(l,u,g,h,T){return f(l,u,g,h,T,p)},gt:function(l,u,g,h,T){return f(l,u,g,h,T,r)},lt:function(l,u,g,h,T){return f(l,u,g,h,T,t)},le:function(l,u,g,h,T){return f(l,u,g,h,T,a)},eq:function(l,u,g,h,T){return f(l,u,g,h,T,n)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,l;return f=(n>65535)<<4,n>>>=f,l=(n>255)<<3,n>>>=l,f|=l,l=(n>15)<<2,n>>>=l,f|=l,l=(n>3)<<1,n>>>=l,f|=l,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var l=f,u=f,g=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=l&1,--g;n[f]=u<<g&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,l){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|l<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,a){function n(B,z){if(!B)throw new Error(z||"Assertion failed")}function f(B,z){B.super_=z;var U=function(){};U.prototype=z.prototype,B.prototype=new U,B.prototype.constructor=B}function l(B,z,U){if(l.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((z==="le"||z==="be")&&(U=z,z=10),this._init(B||0,z||10,U||"be"))}typeof t=="object"?t.exports=l:a.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=r(7790).Buffer}catch{}l.isBN=function(z){return z instanceof l?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,U){return z.cmp(U)>0?z:U},l.min=function(z,U){return z.cmp(U)<0?z:U},l.prototype._init=function(z,U,Z){if(typeof z=="number")return this._initNumber(z,U,Z);if(typeof z=="object")return this._initArray(z,U,Z);U==="hex"&&(U=16),n(U===(U|0)&&U>=2&&U<=36),z=z.toString().replace(/\s+/g,"");var J=0;z[0]==="-"&&(J++,this.negative=1),J<z.length&&(U===16?this._parseHex(z,J,Z):(this._parseBase(z,U,J),Z==="le"&&this._initArray(this.toArray(),U,Z)))},l.prototype._initNumber=function(z,U,Z){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),U,Z)},l.prototype._initArray=function(z,U,Z){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re,ne,ue=0;if(Z==="be")for(J=z.length-1,re=0;J>=0;J-=3)ne=z[J]|z[J-1]<<8|z[J-2]<<16,this.words[re]|=ne<<ue&67108863,this.words[re+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,re++);else if(Z==="le")for(J=0,re=0;J<z.length;J+=3)ne=z[J]|z[J+1]<<8|z[J+2]<<16,this.words[re]|=ne<<ue&67108863,this.words[re+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,re++);return this.strip()};function g(B,z){var U=B.charCodeAt(z);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function h(B,z,U){var Z=g(B,U);return U-1>=z&&(Z|=g(B,U-1)<<4),Z}l.prototype._parseHex=function(z,U,Z){this.length=Math.ceil((z.length-U)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re=0,ne=0,ue;if(Z==="be")for(J=z.length-1;J>=U;J-=2)ue=h(z,U,J)<<re,this.words[ne]|=ue&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=ue>>>26):re+=8;else{var te=z.length-U;for(J=te%2===0?U+1:U;J<z.length;J+=2)ue=h(z,U,J)<<re,this.words[ne]|=ue&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=ue>>>26):re+=8}this.strip()};function T(B,z,U,Z){for(var J=0,re=Math.min(B.length,U),ne=z;ne<re;ne++){var ue=B.charCodeAt(ne)-48;J*=Z,ue>=49?J+=ue-49+10:ue>=17?J+=ue-17+10:J+=ue}return J}l.prototype._parseBase=function(z,U,Z){this.words=[0],this.length=1;for(var J=0,re=1;re<=67108863;re*=U)J++;J--,re=re/U|0;for(var ne=z.length-Z,ue=ne%J,te=Math.min(ne,ne-ue)+Z,Q=0,ie=Z;ie<te;ie+=J)Q=T(z,ie,ie+J,U),this.imuln(re),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(ue!==0){var Y=1;for(Q=T(z,ie,z.length,U),ie=0;ie<ue;ie++)Y*=U;this.imuln(Y),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var U=0;U<this.length;U++)z.words[U]=this.words[U];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(z,U){z=z||10,U=U|0||1;var Z;if(z===16||z==="hex"){Z="";for(var J=0,re=0,ne=0;ne<this.length;ne++){var ue=this.words[ne],te=((ue<<J|re)&16777215).toString(16);re=ue>>>24-J&16777215,re!==0||ne!==this.length-1?Z=c[6-te.length]+te+Z:Z=te+Z,J+=2,J>=26&&(J-=26,ne--)}for(re!==0&&(Z=re.toString(16)+Z);Z.length%U!==0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(z===(z|0)&&z>=2&&z<=36){var Q=o[z],ie=d[z];Z="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var $=Y.modn(ie).toString(z);Y=Y.idivn(ie),Y.isZero()?Z=$+Z:Z=c[Q-$.length]+$+Z}for(this.isZero()&&(Z="0"+Z);Z.length%U!==0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,U){return n(typeof u<"u"),this.toArrayLike(u,z,U)},l.prototype.toArray=function(z,U){return this.toArrayLike(Array,z,U)},l.prototype.toArrayLike=function(z,U,Z){var J=this.byteLength(),re=Z||Math.max(1,J);n(J<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ne=U==="le",ue=new z(re),te,Q,ie=this.clone();if(ne){for(Q=0;!ie.isZero();Q++)te=ie.andln(255),ie.iushrn(8),ue[Q]=te;for(;Q<re;Q++)ue[Q]=0}else{for(Q=0;Q<re-J;Q++)ue[Q]=0;for(Q=0;!ie.isZero();Q++)te=ie.andln(255),ie.iushrn(8),ue[re-Q-1]=te}return ue},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var U=z,Z=0;return U>=4096&&(Z+=13,U>>>=13),U>=64&&(Z+=7,U>>>=7),U>=8&&(Z+=4,U>>>=4),U>=2&&(Z+=2,U>>>=2),Z+U},l.prototype._zeroBits=function(z){if(z===0)return 26;var U=z,Z=0;return U&8191||(Z+=13,U>>>=13),U&127||(Z+=7,U>>>=7),U&15||(Z+=4,U>>>=4),U&3||(Z+=2,U>>>=2),U&1||Z++,Z},l.prototype.bitLength=function(){var z=this.words[this.length-1],U=this._countBits(z);return(this.length-1)*26+U};function x(B){for(var z=new Array(B.bitLength()),U=0;U<z.length;U++){var Z=U/26|0,J=U%26;z[U]=(B.words[Z]&1<<J)>>>J}return z}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,U=0;U<this.length;U++){var Z=this._zeroBits(this.words[U]);if(z+=Z,Z!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var U=0;U<z.length;U++)this.words[U]=this.words[U]|z.words[U];return this.strip()},l.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var U;this.length>z.length?U=z:U=this;for(var Z=0;Z<U.length;Z++)this.words[Z]=this.words[Z]&z.words[Z];return this.length=U.length,this.strip()},l.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var U,Z;this.length>z.length?(U=this,Z=z):(U=z,Z=this);for(var J=0;J<Z.length;J++)this.words[J]=U.words[J]^Z.words[J];if(this!==U)for(;J<U.length;J++)this.words[J]=U.words[J];return this.length=U.length,this.strip()},l.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var U=Math.ceil(z/26)|0,Z=z%26;this._expand(U),Z>0&&U--;for(var J=0;J<U;J++)this.words[J]=~this.words[J]&67108863;return Z>0&&(this.words[J]=~this.words[J]&67108863>>26-Z),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,U){n(typeof z=="number"&&z>=0);var Z=z/26|0,J=z%26;return this._expand(Z+1),U?this.words[Z]=this.words[Z]|1<<J:this.words[Z]=this.words[Z]&~(1<<J),this.strip()},l.prototype.iadd=function(z){var U;if(this.negative!==0&&z.negative===0)return this.negative=0,U=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,U=this.isub(z),z.negative=1,U._normSign();var Z,J;this.length>z.length?(Z=this,J=z):(Z=z,J=this);for(var re=0,ne=0;ne<J.length;ne++)U=(Z.words[ne]|0)+(J.words[ne]|0)+re,this.words[ne]=U&67108863,re=U>>>26;for(;re!==0&&ne<Z.length;ne++)U=(Z.words[ne]|0)+re,this.words[ne]=U&67108863,re=U>>>26;if(this.length=Z.length,re!==0)this.words[this.length]=re,this.length++;else if(Z!==this)for(;ne<Z.length;ne++)this.words[ne]=Z.words[ne];return this},l.prototype.add=function(z){var U;return z.negative!==0&&this.negative===0?(z.negative=0,U=this.sub(z),z.negative^=1,U):z.negative===0&&this.negative!==0?(this.negative=0,U=z.sub(this),this.negative=1,U):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var U=this.iadd(z);return z.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Z=this.cmp(z);if(Z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,re;Z>0?(J=this,re=z):(J=z,re=this);for(var ne=0,ue=0;ue<re.length;ue++)U=(J.words[ue]|0)-(re.words[ue]|0)+ne,ne=U>>26,this.words[ue]=U&67108863;for(;ne!==0&&ue<J.length;ue++)U=(J.words[ue]|0)+ne,ne=U>>26,this.words[ue]=U&67108863;if(ne===0&&ue<J.length&&J!==this)for(;ue<J.length;ue++)this.words[ue]=J.words[ue];return this.length=Math.max(this.length,ue),J!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};function w(B,z,U){U.negative=z.negative^B.negative;var Z=B.length+z.length|0;U.length=Z,Z=Z-1|0;var J=B.words[0]|0,re=z.words[0]|0,ne=J*re,ue=ne&67108863,te=ne/67108864|0;U.words[0]=ue;for(var Q=1;Q<Z;Q++){for(var ie=te>>>26,Y=te&67108863,$=Math.min(Q,z.length-1),oe=Math.max(0,Q-B.length+1);oe<=$;oe++){var j=Q-oe|0;J=B.words[j]|0,re=z.words[oe]|0,ne=J*re+Y,ie+=ne/67108864|0,Y=ne&67108863}U.words[Q]=Y|0,te=ie|0}return te!==0?U.words[Q]=te|0:U.length--,U.strip()}var C=function(z,U,Z){var J=z.words,re=U.words,ne=Z.words,ue=0,te,Q,ie,Y=J[0]|0,$=Y&8191,oe=Y>>>13,j=J[1]|0,X=j&8191,se=j>>>13,q=J[2]|0,ce=q&8191,ye=q>>>13,we=J[3]|0,be=we&8191,De=we>>>13,ke=J[4]|0,Be=ke&8191,Ae=ke>>>13,Ie=J[5]|0,Me=Ie&8191,Fe=Ie>>>13,Ee=J[6]|0,He=Ee&8191,rt=Ee>>>13,ot=J[7]|0,$e=ot&8191,qe=ot>>>13,ht=J[8]|0,vt=ht&8191,pt=ht>>>13,wt=J[9]|0,Mt=wt&8191,nt=wt>>>13,_e=re[0]|0,Ge=_e&8191,je=_e>>>13,We=re[1]|0,Pe=We&8191,Re=We>>>13,Xe=re[2]|0,Le=Xe&8191,ve=Xe>>>13,xe=re[3]|0,Ne=xe&8191,et=xe>>>13,st=re[4]|0,lt=st&8191,Gt=st>>>13,jt=re[5]|0,Tt=jt&8191,Dt=jt>>>13,Xt=re[6]|0,gr=Xt&8191,gt=Xt>>>13,Zt=re[7]|0,Qt=Zt&8191,yr=Zt>>>13,or=re[8]|0,mt=or&8191,ut=or>>>13,bt=re[9]|0,Et=bt&8191,Rt=bt>>>13;Z.negative=z.negative^U.negative,Z.length=19,te=Math.imul($,Ge),Q=Math.imul($,je),Q=Q+Math.imul(oe,Ge)|0,ie=Math.imul(oe,je);var Ht=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,te=Math.imul(X,Ge),Q=Math.imul(X,je),Q=Q+Math.imul(se,Ge)|0,ie=Math.imul(se,je),te=te+Math.imul($,Pe)|0,Q=Q+Math.imul($,Re)|0,Q=Q+Math.imul(oe,Pe)|0,ie=ie+Math.imul(oe,Re)|0;var Bt=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,te=Math.imul(ce,Ge),Q=Math.imul(ce,je),Q=Q+Math.imul(ye,Ge)|0,ie=Math.imul(ye,je),te=te+Math.imul(X,Pe)|0,Q=Q+Math.imul(X,Re)|0,Q=Q+Math.imul(se,Pe)|0,ie=ie+Math.imul(se,Re)|0,te=te+Math.imul($,Le)|0,Q=Q+Math.imul($,ve)|0,Q=Q+Math.imul(oe,Le)|0,ie=ie+Math.imul(oe,ve)|0;var Nt=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,te=Math.imul(be,Ge),Q=Math.imul(be,je),Q=Q+Math.imul(De,Ge)|0,ie=Math.imul(De,je),te=te+Math.imul(ce,Pe)|0,Q=Q+Math.imul(ce,Re)|0,Q=Q+Math.imul(ye,Pe)|0,ie=ie+Math.imul(ye,Re)|0,te=te+Math.imul(X,Le)|0,Q=Q+Math.imul(X,ve)|0,Q=Q+Math.imul(se,Le)|0,ie=ie+Math.imul(se,ve)|0,te=te+Math.imul($,Ne)|0,Q=Q+Math.imul($,et)|0,Q=Q+Math.imul(oe,Ne)|0,ie=ie+Math.imul(oe,et)|0;var Jt=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,te=Math.imul(Be,Ge),Q=Math.imul(Be,je),Q=Q+Math.imul(Ae,Ge)|0,ie=Math.imul(Ae,je),te=te+Math.imul(be,Pe)|0,Q=Q+Math.imul(be,Re)|0,Q=Q+Math.imul(De,Pe)|0,ie=ie+Math.imul(De,Re)|0,te=te+Math.imul(ce,Le)|0,Q=Q+Math.imul(ce,ve)|0,Q=Q+Math.imul(ye,Le)|0,ie=ie+Math.imul(ye,ve)|0,te=te+Math.imul(X,Ne)|0,Q=Q+Math.imul(X,et)|0,Q=Q+Math.imul(se,Ne)|0,ie=ie+Math.imul(se,et)|0,te=te+Math.imul($,lt)|0,Q=Q+Math.imul($,Gt)|0,Q=Q+Math.imul(oe,lt)|0,ie=ie+Math.imul(oe,Gt)|0;var hr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(hr>>>26)|0,hr&=67108863,te=Math.imul(Me,Ge),Q=Math.imul(Me,je),Q=Q+Math.imul(Fe,Ge)|0,ie=Math.imul(Fe,je),te=te+Math.imul(Be,Pe)|0,Q=Q+Math.imul(Be,Re)|0,Q=Q+Math.imul(Ae,Pe)|0,ie=ie+Math.imul(Ae,Re)|0,te=te+Math.imul(be,Le)|0,Q=Q+Math.imul(be,ve)|0,Q=Q+Math.imul(De,Le)|0,ie=ie+Math.imul(De,ve)|0,te=te+Math.imul(ce,Ne)|0,Q=Q+Math.imul(ce,et)|0,Q=Q+Math.imul(ye,Ne)|0,ie=ie+Math.imul(ye,et)|0,te=te+Math.imul(X,lt)|0,Q=Q+Math.imul(X,Gt)|0,Q=Q+Math.imul(se,lt)|0,ie=ie+Math.imul(se,Gt)|0,te=te+Math.imul($,Tt)|0,Q=Q+Math.imul($,Dt)|0,Q=Q+Math.imul(oe,Tt)|0,ie=ie+Math.imul(oe,Dt)|0;var fr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(fr>>>26)|0,fr&=67108863,te=Math.imul(He,Ge),Q=Math.imul(He,je),Q=Q+Math.imul(rt,Ge)|0,ie=Math.imul(rt,je),te=te+Math.imul(Me,Pe)|0,Q=Q+Math.imul(Me,Re)|0,Q=Q+Math.imul(Fe,Pe)|0,ie=ie+Math.imul(Fe,Re)|0,te=te+Math.imul(Be,Le)|0,Q=Q+Math.imul(Be,ve)|0,Q=Q+Math.imul(Ae,Le)|0,ie=ie+Math.imul(Ae,ve)|0,te=te+Math.imul(be,Ne)|0,Q=Q+Math.imul(be,et)|0,Q=Q+Math.imul(De,Ne)|0,ie=ie+Math.imul(De,et)|0,te=te+Math.imul(ce,lt)|0,Q=Q+Math.imul(ce,Gt)|0,Q=Q+Math.imul(ye,lt)|0,ie=ie+Math.imul(ye,Gt)|0,te=te+Math.imul(X,Tt)|0,Q=Q+Math.imul(X,Dt)|0,Q=Q+Math.imul(se,Tt)|0,ie=ie+Math.imul(se,Dt)|0,te=te+Math.imul($,gr)|0,Q=Q+Math.imul($,gt)|0,Q=Q+Math.imul(oe,gr)|0,ie=ie+Math.imul(oe,gt)|0;var dr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(dr>>>26)|0,dr&=67108863,te=Math.imul($e,Ge),Q=Math.imul($e,je),Q=Q+Math.imul(qe,Ge)|0,ie=Math.imul(qe,je),te=te+Math.imul(He,Pe)|0,Q=Q+Math.imul(He,Re)|0,Q=Q+Math.imul(rt,Pe)|0,ie=ie+Math.imul(rt,Re)|0,te=te+Math.imul(Me,Le)|0,Q=Q+Math.imul(Me,ve)|0,Q=Q+Math.imul(Fe,Le)|0,ie=ie+Math.imul(Fe,ve)|0,te=te+Math.imul(Be,Ne)|0,Q=Q+Math.imul(Be,et)|0,Q=Q+Math.imul(Ae,Ne)|0,ie=ie+Math.imul(Ae,et)|0,te=te+Math.imul(be,lt)|0,Q=Q+Math.imul(be,Gt)|0,Q=Q+Math.imul(De,lt)|0,ie=ie+Math.imul(De,Gt)|0,te=te+Math.imul(ce,Tt)|0,Q=Q+Math.imul(ce,Dt)|0,Q=Q+Math.imul(ye,Tt)|0,ie=ie+Math.imul(ye,Dt)|0,te=te+Math.imul(X,gr)|0,Q=Q+Math.imul(X,gt)|0,Q=Q+Math.imul(se,gr)|0,ie=ie+Math.imul(se,gt)|0,te=te+Math.imul($,Qt)|0,Q=Q+Math.imul($,yr)|0,Q=Q+Math.imul(oe,Qt)|0,ie=ie+Math.imul(oe,yr)|0;var Ye=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,te=Math.imul(vt,Ge),Q=Math.imul(vt,je),Q=Q+Math.imul(pt,Ge)|0,ie=Math.imul(pt,je),te=te+Math.imul($e,Pe)|0,Q=Q+Math.imul($e,Re)|0,Q=Q+Math.imul(qe,Pe)|0,ie=ie+Math.imul(qe,Re)|0,te=te+Math.imul(He,Le)|0,Q=Q+Math.imul(He,ve)|0,Q=Q+Math.imul(rt,Le)|0,ie=ie+Math.imul(rt,ve)|0,te=te+Math.imul(Me,Ne)|0,Q=Q+Math.imul(Me,et)|0,Q=Q+Math.imul(Fe,Ne)|0,ie=ie+Math.imul(Fe,et)|0,te=te+Math.imul(Be,lt)|0,Q=Q+Math.imul(Be,Gt)|0,Q=Q+Math.imul(Ae,lt)|0,ie=ie+Math.imul(Ae,Gt)|0,te=te+Math.imul(be,Tt)|0,Q=Q+Math.imul(be,Dt)|0,Q=Q+Math.imul(De,Tt)|0,ie=ie+Math.imul(De,Dt)|0,te=te+Math.imul(ce,gr)|0,Q=Q+Math.imul(ce,gt)|0,Q=Q+Math.imul(ye,gr)|0,ie=ie+Math.imul(ye,gt)|0,te=te+Math.imul(X,Qt)|0,Q=Q+Math.imul(X,yr)|0,Q=Q+Math.imul(se,Qt)|0,ie=ie+Math.imul(se,yr)|0,te=te+Math.imul($,mt)|0,Q=Q+Math.imul($,ut)|0,Q=Q+Math.imul(oe,mt)|0,ie=ie+Math.imul(oe,ut)|0;var Ve=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,te=Math.imul(Mt,Ge),Q=Math.imul(Mt,je),Q=Q+Math.imul(nt,Ge)|0,ie=Math.imul(nt,je),te=te+Math.imul(vt,Pe)|0,Q=Q+Math.imul(vt,Re)|0,Q=Q+Math.imul(pt,Pe)|0,ie=ie+Math.imul(pt,Re)|0,te=te+Math.imul($e,Le)|0,Q=Q+Math.imul($e,ve)|0,Q=Q+Math.imul(qe,Le)|0,ie=ie+Math.imul(qe,ve)|0,te=te+Math.imul(He,Ne)|0,Q=Q+Math.imul(He,et)|0,Q=Q+Math.imul(rt,Ne)|0,ie=ie+Math.imul(rt,et)|0,te=te+Math.imul(Me,lt)|0,Q=Q+Math.imul(Me,Gt)|0,Q=Q+Math.imul(Fe,lt)|0,ie=ie+Math.imul(Fe,Gt)|0,te=te+Math.imul(Be,Tt)|0,Q=Q+Math.imul(Be,Dt)|0,Q=Q+Math.imul(Ae,Tt)|0,ie=ie+Math.imul(Ae,Dt)|0,te=te+Math.imul(be,gr)|0,Q=Q+Math.imul(be,gt)|0,Q=Q+Math.imul(De,gr)|0,ie=ie+Math.imul(De,gt)|0,te=te+Math.imul(ce,Qt)|0,Q=Q+Math.imul(ce,yr)|0,Q=Q+Math.imul(ye,Qt)|0,ie=ie+Math.imul(ye,yr)|0,te=te+Math.imul(X,mt)|0,Q=Q+Math.imul(X,ut)|0,Q=Q+Math.imul(se,mt)|0,ie=ie+Math.imul(se,ut)|0,te=te+Math.imul($,Et)|0,Q=Q+Math.imul($,Rt)|0,Q=Q+Math.imul(oe,Et)|0,ie=ie+Math.imul(oe,Rt)|0;var _t=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(_t>>>26)|0,_t&=67108863,te=Math.imul(Mt,Pe),Q=Math.imul(Mt,Re),Q=Q+Math.imul(nt,Pe)|0,ie=Math.imul(nt,Re),te=te+Math.imul(vt,Le)|0,Q=Q+Math.imul(vt,ve)|0,Q=Q+Math.imul(pt,Le)|0,ie=ie+Math.imul(pt,ve)|0,te=te+Math.imul($e,Ne)|0,Q=Q+Math.imul($e,et)|0,Q=Q+Math.imul(qe,Ne)|0,ie=ie+Math.imul(qe,et)|0,te=te+Math.imul(He,lt)|0,Q=Q+Math.imul(He,Gt)|0,Q=Q+Math.imul(rt,lt)|0,ie=ie+Math.imul(rt,Gt)|0,te=te+Math.imul(Me,Tt)|0,Q=Q+Math.imul(Me,Dt)|0,Q=Q+Math.imul(Fe,Tt)|0,ie=ie+Math.imul(Fe,Dt)|0,te=te+Math.imul(Be,gr)|0,Q=Q+Math.imul(Be,gt)|0,Q=Q+Math.imul(Ae,gr)|0,ie=ie+Math.imul(Ae,gt)|0,te=te+Math.imul(be,Qt)|0,Q=Q+Math.imul(be,yr)|0,Q=Q+Math.imul(De,Qt)|0,ie=ie+Math.imul(De,yr)|0,te=te+Math.imul(ce,mt)|0,Q=Q+Math.imul(ce,ut)|0,Q=Q+Math.imul(ye,mt)|0,ie=ie+Math.imul(ye,ut)|0,te=te+Math.imul(X,Et)|0,Q=Q+Math.imul(X,Rt)|0,Q=Q+Math.imul(se,Et)|0,ie=ie+Math.imul(se,Rt)|0;var kt=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(kt>>>26)|0,kt&=67108863,te=Math.imul(Mt,Le),Q=Math.imul(Mt,ve),Q=Q+Math.imul(nt,Le)|0,ie=Math.imul(nt,ve),te=te+Math.imul(vt,Ne)|0,Q=Q+Math.imul(vt,et)|0,Q=Q+Math.imul(pt,Ne)|0,ie=ie+Math.imul(pt,et)|0,te=te+Math.imul($e,lt)|0,Q=Q+Math.imul($e,Gt)|0,Q=Q+Math.imul(qe,lt)|0,ie=ie+Math.imul(qe,Gt)|0,te=te+Math.imul(He,Tt)|0,Q=Q+Math.imul(He,Dt)|0,Q=Q+Math.imul(rt,Tt)|0,ie=ie+Math.imul(rt,Dt)|0,te=te+Math.imul(Me,gr)|0,Q=Q+Math.imul(Me,gt)|0,Q=Q+Math.imul(Fe,gr)|0,ie=ie+Math.imul(Fe,gt)|0,te=te+Math.imul(Be,Qt)|0,Q=Q+Math.imul(Be,yr)|0,Q=Q+Math.imul(Ae,Qt)|0,ie=ie+Math.imul(Ae,yr)|0,te=te+Math.imul(be,mt)|0,Q=Q+Math.imul(be,ut)|0,Q=Q+Math.imul(De,mt)|0,ie=ie+Math.imul(De,ut)|0,te=te+Math.imul(ce,Et)|0,Q=Q+Math.imul(ce,Rt)|0,Q=Q+Math.imul(ye,Et)|0,ie=ie+Math.imul(ye,Rt)|0;var Kt=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,te=Math.imul(Mt,Ne),Q=Math.imul(Mt,et),Q=Q+Math.imul(nt,Ne)|0,ie=Math.imul(nt,et),te=te+Math.imul(vt,lt)|0,Q=Q+Math.imul(vt,Gt)|0,Q=Q+Math.imul(pt,lt)|0,ie=ie+Math.imul(pt,Gt)|0,te=te+Math.imul($e,Tt)|0,Q=Q+Math.imul($e,Dt)|0,Q=Q+Math.imul(qe,Tt)|0,ie=ie+Math.imul(qe,Dt)|0,te=te+Math.imul(He,gr)|0,Q=Q+Math.imul(He,gt)|0,Q=Q+Math.imul(rt,gr)|0,ie=ie+Math.imul(rt,gt)|0,te=te+Math.imul(Me,Qt)|0,Q=Q+Math.imul(Me,yr)|0,Q=Q+Math.imul(Fe,Qt)|0,ie=ie+Math.imul(Fe,yr)|0,te=te+Math.imul(Be,mt)|0,Q=Q+Math.imul(Be,ut)|0,Q=Q+Math.imul(Ae,mt)|0,ie=ie+Math.imul(Ae,ut)|0,te=te+Math.imul(be,Et)|0,Q=Q+Math.imul(be,Rt)|0,Q=Q+Math.imul(De,Et)|0,ie=ie+Math.imul(De,Rt)|0;var sr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(sr>>>26)|0,sr&=67108863,te=Math.imul(Mt,lt),Q=Math.imul(Mt,Gt),Q=Q+Math.imul(nt,lt)|0,ie=Math.imul(nt,Gt),te=te+Math.imul(vt,Tt)|0,Q=Q+Math.imul(vt,Dt)|0,Q=Q+Math.imul(pt,Tt)|0,ie=ie+Math.imul(pt,Dt)|0,te=te+Math.imul($e,gr)|0,Q=Q+Math.imul($e,gt)|0,Q=Q+Math.imul(qe,gr)|0,ie=ie+Math.imul(qe,gt)|0,te=te+Math.imul(He,Qt)|0,Q=Q+Math.imul(He,yr)|0,Q=Q+Math.imul(rt,Qt)|0,ie=ie+Math.imul(rt,yr)|0,te=te+Math.imul(Me,mt)|0,Q=Q+Math.imul(Me,ut)|0,Q=Q+Math.imul(Fe,mt)|0,ie=ie+Math.imul(Fe,ut)|0,te=te+Math.imul(Be,Et)|0,Q=Q+Math.imul(Be,Rt)|0,Q=Q+Math.imul(Ae,Et)|0,ie=ie+Math.imul(Ae,Rt)|0;var cr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(cr>>>26)|0,cr&=67108863,te=Math.imul(Mt,Tt),Q=Math.imul(Mt,Dt),Q=Q+Math.imul(nt,Tt)|0,ie=Math.imul(nt,Dt),te=te+Math.imul(vt,gr)|0,Q=Q+Math.imul(vt,gt)|0,Q=Q+Math.imul(pt,gr)|0,ie=ie+Math.imul(pt,gt)|0,te=te+Math.imul($e,Qt)|0,Q=Q+Math.imul($e,yr)|0,Q=Q+Math.imul(qe,Qt)|0,ie=ie+Math.imul(qe,yr)|0,te=te+Math.imul(He,mt)|0,Q=Q+Math.imul(He,ut)|0,Q=Q+Math.imul(rt,mt)|0,ie=ie+Math.imul(rt,ut)|0,te=te+Math.imul(Me,Et)|0,Q=Q+Math.imul(Me,Rt)|0,Q=Q+Math.imul(Fe,Et)|0,ie=ie+Math.imul(Fe,Rt)|0;var er=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(er>>>26)|0,er&=67108863,te=Math.imul(Mt,gr),Q=Math.imul(Mt,gt),Q=Q+Math.imul(nt,gr)|0,ie=Math.imul(nt,gt),te=te+Math.imul(vt,Qt)|0,Q=Q+Math.imul(vt,yr)|0,Q=Q+Math.imul(pt,Qt)|0,ie=ie+Math.imul(pt,yr)|0,te=te+Math.imul($e,mt)|0,Q=Q+Math.imul($e,ut)|0,Q=Q+Math.imul(qe,mt)|0,ie=ie+Math.imul(qe,ut)|0,te=te+Math.imul(He,Et)|0,Q=Q+Math.imul(He,Rt)|0,Q=Q+Math.imul(rt,Et)|0,ie=ie+Math.imul(rt,Rt)|0;var Ot=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,te=Math.imul(Mt,Qt),Q=Math.imul(Mt,yr),Q=Q+Math.imul(nt,Qt)|0,ie=Math.imul(nt,yr),te=te+Math.imul(vt,mt)|0,Q=Q+Math.imul(vt,ut)|0,Q=Q+Math.imul(pt,mt)|0,ie=ie+Math.imul(pt,ut)|0,te=te+Math.imul($e,Et)|0,Q=Q+Math.imul($e,Rt)|0,Q=Q+Math.imul(qe,Et)|0,ie=ie+Math.imul(qe,Rt)|0;var nr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(nr>>>26)|0,nr&=67108863,te=Math.imul(Mt,mt),Q=Math.imul(Mt,ut),Q=Q+Math.imul(nt,mt)|0,ie=Math.imul(nt,ut),te=te+Math.imul(vt,Et)|0,Q=Q+Math.imul(vt,Rt)|0,Q=Q+Math.imul(pt,Et)|0,ie=ie+Math.imul(pt,Rt)|0;var vr=(ue+te|0)+((Q&8191)<<13)|0;ue=(ie+(Q>>>13)|0)+(vr>>>26)|0,vr&=67108863,te=Math.imul(Mt,Et),Q=Math.imul(Mt,Rt),Q=Q+Math.imul(nt,Et)|0,ie=Math.imul(nt,Rt);var wr=(ue+te|0)+((Q&8191)<<13)|0;return ue=(ie+(Q>>>13)|0)+(wr>>>26)|0,wr&=67108863,ne[0]=Ht,ne[1]=Bt,ne[2]=Nt,ne[3]=Jt,ne[4]=hr,ne[5]=fr,ne[6]=dr,ne[7]=Ye,ne[8]=Ve,ne[9]=_t,ne[10]=kt,ne[11]=Kt,ne[12]=sr,ne[13]=cr,ne[14]=er,ne[15]=Ot,ne[16]=nr,ne[17]=vr,ne[18]=wr,ue!==0&&(ne[19]=ue,Z.length++),Z};Math.imul||(C=w);function y(B,z,U){U.negative=z.negative^B.negative,U.length=B.length+z.length;for(var Z=0,J=0,re=0;re<U.length-1;re++){var ne=J;J=0;for(var ue=Z&67108863,te=Math.min(re,z.length-1),Q=Math.max(0,re-B.length+1);Q<=te;Q++){var ie=re-Q,Y=B.words[ie]|0,$=z.words[Q]|0,oe=Y*$,j=oe&67108863;ne=ne+(oe/67108864|0)|0,j=j+ue|0,ue=j&67108863,ne=ne+(j>>>26)|0,J+=ne>>>26,ne&=67108863}U.words[re]=ue,Z=ne,ne=J}return Z!==0?U.words[re]=Z:U.length--,U.strip()}function M(B,z,U){var Z=new A;return Z.mulp(B,z,U)}l.prototype.mulTo=function(z,U){var Z,J=this.length+z.length;return this.length===10&&z.length===10?Z=C(this,z,U):J<63?Z=w(this,z,U):J<1024?Z=y(this,z,U):Z=M(this,z,U),Z};function A(B,z){this.x=B,this.y=z}A.prototype.makeRBT=function(z){for(var U=new Array(z),Z=l.prototype._countBits(z)-1,J=0;J<z;J++)U[J]=this.revBin(J,Z,z);return U},A.prototype.revBin=function(z,U,Z){if(z===0||z===Z-1)return z;for(var J=0,re=0;re<U;re++)J|=(z&1)<<U-re-1,z>>=1;return J},A.prototype.permute=function(z,U,Z,J,re,ne){for(var ue=0;ue<ne;ue++)J[ue]=U[z[ue]],re[ue]=Z[z[ue]]},A.prototype.transform=function(z,U,Z,J,re,ne){this.permute(ne,z,U,Z,J,re);for(var ue=1;ue<re;ue<<=1)for(var te=ue<<1,Q=Math.cos(2*Math.PI/te),ie=Math.sin(2*Math.PI/te),Y=0;Y<re;Y+=te)for(var $=Q,oe=ie,j=0;j<ue;j++){var X=Z[Y+j],se=J[Y+j],q=Z[Y+j+ue],ce=J[Y+j+ue],ye=$*q-oe*ce;ce=$*ce+oe*q,q=ye,Z[Y+j]=X+q,J[Y+j]=se+ce,Z[Y+j+ue]=X-q,J[Y+j+ue]=se-ce,j!==te&&(ye=Q*$-ie*oe,oe=Q*oe+ie*$,$=ye)}},A.prototype.guessLen13b=function(z,U){var Z=Math.max(U,z)|1,J=Z&1,re=0;for(Z=Z/2|0;Z;Z=Z>>>1)re++;return 1<<re+1+J},A.prototype.conjugate=function(z,U,Z){if(!(Z<=1))for(var J=0;J<Z/2;J++){var re=z[J];z[J]=z[Z-J-1],z[Z-J-1]=re,re=U[J],U[J]=-U[Z-J-1],U[Z-J-1]=-re}},A.prototype.normalize13b=function(z,U){for(var Z=0,J=0;J<U/2;J++){var re=Math.round(z[2*J+1]/U)*8192+Math.round(z[2*J]/U)+Z;z[J]=re&67108863,re<67108864?Z=0:Z=re/67108864|0}return z},A.prototype.convert13b=function(z,U,Z,J){for(var re=0,ne=0;ne<U;ne++)re=re+(z[ne]|0),Z[2*ne]=re&8191,re=re>>>13,Z[2*ne+1]=re&8191,re=re>>>13;for(ne=2*U;ne<J;++ne)Z[ne]=0;n(re===0),n((re&-8192)===0)},A.prototype.stub=function(z){for(var U=new Array(z),Z=0;Z<z;Z++)U[Z]=0;return U},A.prototype.mulp=function(z,U,Z){var J=2*this.guessLen13b(z.length,U.length),re=this.makeRBT(J),ne=this.stub(J),ue=new Array(J),te=new Array(J),Q=new Array(J),ie=new Array(J),Y=new Array(J),$=new Array(J),oe=Z.words;oe.length=J,this.convert13b(z.words,z.length,ue,J),this.convert13b(U.words,U.length,ie,J),this.transform(ue,ne,te,Q,J,re),this.transform(ie,ne,Y,$,J,re);for(var j=0;j<J;j++){var X=te[j]*Y[j]-Q[j]*$[j];Q[j]=te[j]*$[j]+Q[j]*Y[j],te[j]=X}return this.conjugate(te,Q,J),this.transform(te,Q,oe,ne,J,re),this.conjugate(oe,ne,J),this.normalize13b(oe,J),Z.negative=z.negative^U.negative,Z.length=z.length+U.length,Z.strip()},l.prototype.mul=function(z){var U=new l(null);return U.words=new Array(this.length+z.length),this.mulTo(z,U)},l.prototype.mulf=function(z){var U=new l(null);return U.words=new Array(this.length+z.length),M(this,z,U)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var U=0,Z=0;Z<this.length;Z++){var J=(this.words[Z]|0)*z,re=(J&67108863)+(U&67108863);U>>=26,U+=J/67108864|0,U+=re>>>26,this.words[Z]=re&67108863}return U!==0&&(this.words[Z]=U,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var U=x(z);if(U.length===0)return new l(1);for(var Z=this,J=0;J<U.length&&U[J]===0;J++,Z=Z.sqr());if(++J<U.length)for(var re=Z.sqr();J<U.length;J++,re=re.sqr())U[J]!==0&&(Z=Z.mul(re));return Z},l.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var U=z%26,Z=(z-U)/26,J=67108863>>>26-U<<26-U,re;if(U!==0){var ne=0;for(re=0;re<this.length;re++){var ue=this.words[re]&J,te=(this.words[re]|0)-ue<<U;this.words[re]=te|ne,ne=ue>>>26-U}ne&&(this.words[re]=ne,this.length++)}if(Z!==0){for(re=this.length-1;re>=0;re--)this.words[re+Z]=this.words[re];for(re=0;re<Z;re++)this.words[re]=0;this.length+=Z}return this.strip()},l.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,U,Z){n(typeof z=="number"&&z>=0);var J;U?J=(U-U%26)/26:J=0;var re=z%26,ne=Math.min((z-re)/26,this.length),ue=67108863^67108863>>>re<<re,te=Z;if(J-=ne,J=Math.max(0,J),te){for(var Q=0;Q<ne;Q++)te.words[Q]=this.words[Q];te.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+ne];else this.words[0]=0,this.length=1;var ie=0;for(Q=this.length-1;Q>=0&&(ie!==0||Q>=J);Q--){var Y=this.words[Q]|0;this.words[Q]=ie<<26-re|Y>>>re,ie=Y&ue}return te&&ie!==0&&(te.words[te.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,U,Z){return n(this.negative===0),this.iushrn(z,U,Z)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var U=z%26,Z=(z-U)/26,J=1<<U;if(this.length<=Z)return!1;var re=this.words[Z];return!!(re&J)},l.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var U=z%26,Z=(z-U)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(U!==0&&Z++,this.length=Math.min(Z,this.length),U!==0){var J=67108863^67108863>>>U<<U;this.words[this.length-1]&=J}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},l.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,U,Z){var J=z.length+Z,re;this._expand(J);var ne,ue=0;for(re=0;re<z.length;re++){ne=(this.words[re+Z]|0)+ue;var te=(z.words[re]|0)*U;ne-=te&67108863,ue=(ne>>26)-(te/67108864|0),this.words[re+Z]=ne&67108863}for(;re<this.length-Z;re++)ne=(this.words[re+Z]|0)+ue,ue=ne>>26,this.words[re+Z]=ne&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,re=0;re<this.length;re++)ne=-(this.words[re]|0)+ue,ue=ne>>26,this.words[re]=ne&67108863;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,U){var Z=this.length-z.length,J=this.clone(),re=z,ne=re.words[re.length-1]|0,ue=this._countBits(ne);Z=26-ue,Z!==0&&(re=re.ushln(Z),J.iushln(Z),ne=re.words[re.length-1]|0);var te=J.length-re.length,Q;if(U!=="mod"){Q=new l(null),Q.length=te+1,Q.words=new Array(Q.length);for(var ie=0;ie<Q.length;ie++)Q.words[ie]=0}var Y=J.clone()._ishlnsubmul(re,1,te);Y.negative===0&&(J=Y,Q&&(Q.words[te]=1));for(var $=te-1;$>=0;$--){var oe=(J.words[re.length+$]|0)*67108864+(J.words[re.length+$-1]|0);for(oe=Math.min(oe/ne|0,67108863),J._ishlnsubmul(re,oe,$);J.negative!==0;)oe--,J.negative=0,J._ishlnsubmul(re,1,$),J.isZero()||(J.negative^=1);Q&&(Q.words[$]=oe)}return Q&&Q.strip(),J.strip(),U!=="div"&&Z!==0&&J.iushrn(Z),{div:Q||null,mod:J}},l.prototype.divmod=function(z,U,Z){if(n(!z.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var J,re,ne;return this.negative!==0&&z.negative===0?(ne=this.neg().divmod(z,U),U!=="mod"&&(J=ne.div.neg()),U!=="div"&&(re=ne.mod.neg(),Z&&re.negative!==0&&re.iadd(z)),{div:J,mod:re}):this.negative===0&&z.negative!==0?(ne=this.divmod(z.neg(),U),U!=="mod"&&(J=ne.div.neg()),{div:J,mod:ne.mod}):this.negative&z.negative?(ne=this.neg().divmod(z.neg(),U),U!=="div"&&(re=ne.mod.neg(),Z&&re.negative!==0&&re.isub(z)),{div:ne.div,mod:re}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?U==="div"?{div:this.divn(z.words[0]),mod:null}:U==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,U)},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var U=this.divmod(z);if(U.mod.isZero())return U.div;var Z=U.div.negative!==0?U.mod.isub(z):U.mod,J=z.ushrn(1),re=z.andln(1),ne=Z.cmp(J);return ne<0||re===1&&ne===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},l.prototype.modn=function(z){n(z<=67108863);for(var U=(1<<26)%z,Z=0,J=this.length-1;J>=0;J--)Z=(U*Z+(this.words[J]|0))%z;return Z},l.prototype.idivn=function(z){n(z<=67108863);for(var U=0,Z=this.length-1;Z>=0;Z--){var J=(this.words[Z]|0)+U*67108864;this.words[Z]=J/z|0,U=J%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var U=this,Z=z.clone();U.negative!==0?U=U.umod(z):U=U.clone();for(var J=new l(1),re=new l(0),ne=new l(0),ue=new l(1),te=0;U.isEven()&&Z.isEven();)U.iushrn(1),Z.iushrn(1),++te;for(var Q=Z.clone(),ie=U.clone();!U.isZero();){for(var Y=0,$=1;!(U.words[0]&$)&&Y<26;++Y,$<<=1);if(Y>0)for(U.iushrn(Y);Y-- >0;)(J.isOdd()||re.isOdd())&&(J.iadd(Q),re.isub(ie)),J.iushrn(1),re.iushrn(1);for(var oe=0,j=1;!(Z.words[0]&j)&&oe<26;++oe,j<<=1);if(oe>0)for(Z.iushrn(oe);oe-- >0;)(ne.isOdd()||ue.isOdd())&&(ne.iadd(Q),ue.isub(ie)),ne.iushrn(1),ue.iushrn(1);U.cmp(Z)>=0?(U.isub(Z),J.isub(ne),re.isub(ue)):(Z.isub(U),ne.isub(J),ue.isub(re))}return{a:ne,b:ue,gcd:Z.iushln(te)}},l.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var U=this,Z=z.clone();U.negative!==0?U=U.umod(z):U=U.clone();for(var J=new l(1),re=new l(0),ne=Z.clone();U.cmpn(1)>0&&Z.cmpn(1)>0;){for(var ue=0,te=1;!(U.words[0]&te)&&ue<26;++ue,te<<=1);if(ue>0)for(U.iushrn(ue);ue-- >0;)J.isOdd()&&J.iadd(ne),J.iushrn(1);for(var Q=0,ie=1;!(Z.words[0]&ie)&&Q<26;++Q,ie<<=1);if(Q>0)for(Z.iushrn(Q);Q-- >0;)re.isOdd()&&re.iadd(ne),re.iushrn(1);U.cmp(Z)>=0?(U.isub(Z),J.isub(re)):(Z.isub(U),re.isub(J))}var Y;return U.cmpn(1)===0?Y=J:Y=re,Y.cmpn(0)<0&&Y.iadd(z),Y},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var U=this.clone(),Z=z.clone();U.negative=0,Z.negative=0;for(var J=0;U.isEven()&&Z.isEven();J++)U.iushrn(1),Z.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var re=U.cmp(Z);if(re<0){var ne=U;U=Z,Z=ne}else if(re===0||Z.cmpn(1)===0)break;U.isub(Z)}while(!0);return Z.iushln(J)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){n(typeof z=="number");var U=z%26,Z=(z-U)/26,J=1<<U;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=J,this;for(var re=J,ne=Z;re!==0&&ne<this.length;ne++){var ue=this.words[ne]|0;ue+=re,re=ue>>>26,ue&=67108863,this.words[ne]=ue}return re!==0&&(this.words[ne]=re,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var U=z<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var Z;if(this.length>1)Z=1;else{U&&(z=-z),n(z<=67108863,"Number is too big");var J=this.words[0]|0;Z=J===z?0:J<z?-1:1}return this.negative!==0?-Z|0:Z},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var U=this.ucmp(z);return this.negative!==0?-U|0:U},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var U=0,Z=this.length-1;Z>=0;Z--){var J=this.words[Z]|0,re=z.words[Z]|0;if(J!==re){J<re?U=-1:J>re&&(U=1);break}}return U},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new _(z)},l.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var s={k256:null,p224:null,p192:null,p25519:null};function E(B,z){this.name=B,this.p=new l(z,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},E.prototype.ireduce=function(z){var U=z,Z;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),Z=U.bitLength();while(Z>this.n);var J=Z<this.n?-1:U.ucmp(this.p);return J===0?(U.words[0]=0,U.length=1):J>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},E.prototype.split=function(z,U){z.iushrn(this.n,0,U)},E.prototype.imulK=function(z){return z.imul(this.k)};function b(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(b,E),b.prototype.split=function(z,U){for(var Z=4194303,J=Math.min(z.length,9),re=0;re<J;re++)U.words[re]=z.words[re];if(U.length=J,z.length<=9){z.words[0]=0,z.length=1;return}var ne=z.words[9];for(U.words[U.length++]=ne&Z,re=10;re<z.length;re++){var ue=z.words[re]|0;z.words[re-10]=(ue&Z)<<4|ne>>>22,ne=ue}ne>>>=22,z.words[re-10]=ne,ne===0&&z.length>10?z.length-=10:z.length-=9},b.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var U=0,Z=0;Z<z.length;Z++){var J=z.words[Z]|0;U+=J*977,z.words[Z]=U&67108863,U=J*64+(U/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function F(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(F,E);function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(I,E);function N(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,E),N.prototype.imulK=function(z){for(var U=0,Z=0;Z<z.length;Z++){var J=(z.words[Z]|0)*19+U,re=J&67108863;J>>>=26,z.words[Z]=re,U=J}return U!==0&&(z.words[z.length++]=U),z},l._prime=function(z){if(s[z])return s[z];var U;if(z==="k256")U=new b;else if(z==="p224")U=new F;else if(z==="p192")U=new I;else if(z==="p25519")U=new N;else throw new Error("Unknown prime "+z);return s[z]=U,U};function _(B){if(typeof B=="string"){var z=l._prime(B);this.m=z.p,this.prime=z}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}_.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},_.prototype._verify2=function(z,U){n((z.negative|U.negative)===0,"red works only with positives"),n(z.red&&z.red===U.red,"red works only with red numbers")},_.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},_.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},_.prototype.add=function(z,U){this._verify2(z,U);var Z=z.add(U);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},_.prototype.iadd=function(z,U){this._verify2(z,U);var Z=z.iadd(U);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},_.prototype.sub=function(z,U){this._verify2(z,U);var Z=z.sub(U);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},_.prototype.isub=function(z,U){this._verify2(z,U);var Z=z.isub(U);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},_.prototype.shl=function(z,U){return this._verify1(z),this.imod(z.ushln(U))},_.prototype.imul=function(z,U){return this._verify2(z,U),this.imod(z.imul(U))},_.prototype.mul=function(z,U){return this._verify2(z,U),this.imod(z.mul(U))},_.prototype.isqr=function(z){return this.imul(z,z.clone())},_.prototype.sqr=function(z){return this.mul(z,z)},_.prototype.sqrt=function(z){if(z.isZero())return z.clone();var U=this.m.andln(3);if(n(U%2===1),U===3){var Z=this.m.add(new l(1)).iushrn(2);return this.pow(z,Z)}for(var J=this.m.subn(1),re=0;!J.isZero()&&J.andln(1)===0;)re++,J.iushrn(1);n(!J.isZero());var ne=new l(1).toRed(this),ue=ne.redNeg(),te=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,te).cmp(ue)!==0;)Q.redIAdd(ue);for(var ie=this.pow(Q,J),Y=this.pow(z,J.addn(1).iushrn(1)),$=this.pow(z,J),oe=re;$.cmp(ne)!==0;){for(var j=$,X=0;j.cmp(ne)!==0;X++)j=j.redSqr();n(X<oe);var se=this.pow(ie,new l(1).iushln(oe-X-1));Y=Y.redMul(se),ie=se.redSqr(),$=$.redMul(ie),oe=X}return Y},_.prototype.invm=function(z){var U=z._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},_.prototype.pow=function(z,U){if(U.isZero())return new l(1).toRed(this);if(U.cmpn(1)===0)return z.clone();var Z=4,J=new Array(1<<Z);J[0]=new l(1).toRed(this),J[1]=z;for(var re=2;re<J.length;re++)J[re]=this.mul(J[re-1],z);var ne=J[0],ue=0,te=0,Q=U.bitLength()%26;for(Q===0&&(Q=26),re=U.length-1;re>=0;re--){for(var ie=U.words[re],Y=Q-1;Y>=0;Y--){var $=ie>>Y&1;if(ne!==J[0]&&(ne=this.sqr(ne)),$===0&&ue===0){te=0;continue}ue<<=1,ue|=$,te++,!(te!==Z&&(re!==0||Y!==0))&&(ne=this.mul(ne,J[ue]),te=0,ue=0)}Q=26}return ne},_.prototype.convertTo=function(z){var U=z.umod(this.m);return U===z?U.clone():U},_.prototype.convertFrom=function(z){var U=z.clone();return U.red=null,U},l.mont=function(z){return new O(z)};function O(B){_.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(O,_),O.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},O.prototype.convertFrom=function(z){var U=this.imod(z.mul(this.rinv));return U.red=null,U},O.prototype.imul=function(z,U){if(z.isZero()||U.isZero())return z.words[0]=0,z.length=1,z;var Z=z.imul(U),J=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Z.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.mul=function(z,U){if(z.isZero()||U.isZero())return new l(0)._forceRed(this);var Z=z.mul(U),J=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=Z.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.invm=function(z){var U=this.imod(z._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,a,n,f=r.length,l=0;for(t=0;t<f;++t)l+=r[t].length;var u=new Array(l),g=0;for(t=0;t<f;++t){var h=r[t],T=h.length;for(a=0;a<T;++a){var c=u[g++]=new Array(T-1),o=0;for(n=0;n<T;++n)n!==a&&(c[o++]=h[n]);if(a&1){var d=c[1];c[1]=c[0],c[0]=d}}}return u}},6867:function(v,p,r){v.exports=o;var t=r(1888),a=r(855),n=r(7150);function f(d,x){for(var w=0;w<d;++w)if(!(x[w]<=x[w+d]))return!0;return!1}function l(d,x,w,C){for(var y=0,M=0,A=0,s=d.length;A<s;++A){var E=d[A];if(!f(x,E)){for(var b=0;b<2*x;++b)w[y++]=E[b];C[M++]=A}}return M}function u(d,x,w,C){var y=d.length,M=x.length;if(!(y<=0||M<=0)){var A=d[0].length>>>1;if(!(A<=0)){var s,E=t.mallocDouble(2*A*y),b=t.mallocInt32(y);if(y=l(d,A,E,b),y>0){if(A===1&&C)a.init(y),s=a.sweepComplete(A,w,0,y,E,b,0,y,E,b);else{var F=t.mallocDouble(2*A*M),I=t.mallocInt32(M);M=l(x,A,F,I),M>0&&(a.init(y+M),A===1?s=a.sweepBipartite(A,w,0,y,E,b,0,M,F,I):s=n(A,w,C,y,E,b,M,F,I),t.free(F),t.free(I))}t.free(E),t.free(b)}return s}}}var g;function h(d,x){g.push([d,x])}function T(d){return g=[],u(d,d,h,!0),g}function c(d,x){return g=[],u(d,x,h,!1),g}function o(d,x,w){switch(arguments.length){case 1:return T(d);case 2:return typeof x=="function"?u(d,d,x,!0):c(d,x);case 3:return u(d,x,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function n(u,g,h,T,c,o,d,x,w,C,y){for(var M=2*u,A=T,s=M*T;A<c;++A,s+=M){var E=o[g+s],b=o[g+s+u],F=d[A];e:for(var I=x,N=M*x;I<w;++I,N+=M){var _=C[g+N],O=C[g+N+u],B=y[I];if(!(O<E||b<_)){for(var z=g+1;z<u;++z){var U=o[z+s],Z=o[z+u+s],J=C[z+N],re=C[z+u+N];if(Z<J||re<U)continue e}var ne=h(F,B);if(ne!==void 0)return ne}}}}function f(u,g,h,T,c,o,d,x,w,C,y){for(var M=2*u,A=x,s=M*x;A<w;++A,s+=M){var E=C[g+s],b=C[g+s+u],F=y[A];e:for(var I=T,N=M*T;I<c;++I,N+=M){var _=o[g+N],O=o[g+N+u],B=d[I];if(!(b<_||O<E)){for(var z=g+1;z<u;++z){var U=o[z+N],Z=o[z+u+N],J=C[z+s],re=C[z+u+s];if(Z<J||re<U)continue e}var ne=h(B,F);if(ne!==void 0)return ne}}}}function l(u,g,h,T,c,o,d,x,w,C,y){return c-T>w-x?n(u,g,h,T,c,o,d,x,w,C,y):f(u,g,h,T,c,o,d,x,w,C,y)}return l}function t(){function n(h,T,c,o,d,x,w,C,y,M,A){for(var s=2*h,E=o,b=s*o;E<d;++E,b+=s){var F=x[T+b],I=x[T+b+h],N=w[E];e:for(var _=C,O=s*C;_<y;++_,O+=s){var B=M[T+O],z=A[_];if(!(B<=F||I<B)){for(var U=T+1;U<h;++U){var Z=x[U+b],J=x[U+h+b],re=M[U+O],ne=M[U+h+O];if(J<re||ne<Z)continue e}var ue=c(z,N);if(ue!==void 0)return ue}}}}function f(h,T,c,o,d,x,w,C,y,M,A){for(var s=2*h,E=o,b=s*o;E<d;++E,b+=s){var F=x[T+b],I=x[T+b+h],N=w[E];e:for(var _=C,O=s*C;_<y;++_,O+=s){var B=M[T+O],z=A[_];if(!(B<F||I<B)){for(var U=T+1;U<h;++U){var Z=x[U+b],J=x[U+h+b],re=M[U+O],ne=M[U+h+O];if(J<re||ne<Z)continue e}var ue=c(N,z);if(ue!==void 0)return ue}}}}function l(h,T,c,o,d,x,w,C,y,M,A){for(var s=2*h,E=C,b=s*C;E<y;++E,b+=s){var F=M[T+b],I=A[E];e:for(var N=o,_=s*o;N<d;++N,_+=s){var O=x[T+_],B=x[T+_+h],z=w[N];if(!(F<=O||B<F)){for(var U=T+1;U<h;++U){var Z=x[U+_],J=x[U+h+_],re=M[U+b],ne=M[U+h+b];if(J<re||ne<Z)continue e}var ue=c(I,z);if(ue!==void 0)return ue}}}}function u(h,T,c,o,d,x,w,C,y,M,A){for(var s=2*h,E=C,b=s*C;E<y;++E,b+=s){var F=M[T+b],I=A[E];e:for(var N=o,_=s*o;N<d;++N,_+=s){var O=x[T+_],B=x[T+_+h],z=w[N];if(!(F<O||B<F)){for(var U=T+1;U<h;++U){var Z=x[U+_],J=x[U+h+_],re=M[U+b],ne=M[U+h+b];if(J<re||ne<Z)continue e}var ue=c(z,I);if(ue!==void 0)return ue}}}}function g(h,T,c,o,d,x,w,C,y,M,A,s){return x-d>M-y?o?n(h,T,c,d,x,w,C,y,M,A,s):f(h,T,c,d,x,w,C,y,M,A,s):o?l(h,T,c,d,x,w,C,y,M,A,s):u(h,T,c,d,x,w,C,y,M,A,s)}return g}function a(n){return n?r():t()}p.partial=a(!1),p.full=a(!0)},7150:function(v,p,r){v.exports=B;var t=r(1888),a=r(8828),n=r(2455),f=n.partial,l=n.full,u=r(855),g=r(3545),h=r(8105),T=128,c=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),w=h("lo<p0"),C=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),M=h("lo<p0&&p0<=hi"),A=6,s=2,E=1024,b=t.mallocInt32(E),F=t.mallocDouble(E);function I(z,U){var Z=8*a.log2(U+1)*(z+1)|0,J=a.nextPow2(A*Z);b.length<J&&(t.free(b),b=t.mallocInt32(J));var re=a.nextPow2(s*Z);F.length<re&&(t.free(F),F=t.mallocDouble(re))}function N(z,U,Z,J,re,ne,ue,te,Q){var ie=A*z;b[ie]=U,b[ie+1]=Z,b[ie+2]=J,b[ie+3]=re,b[ie+4]=ne,b[ie+5]=ue;var Y=s*z;F[Y]=te,F[Y+1]=Q}function _(z,U,Z,J,re,ne,ue,te,Q,ie,Y){var $=2*z,oe=Q*$,j=ie[oe+U];e:for(var X=re,se=re*$;X<ne;++X,se+=$){var q=ue[se+U],ce=ue[se+U+z];if(!(j<q||ce<j)&&!(J&&j===q)){for(var ye=te[X],we=U+1;we<z;++we){var q=ue[se+we],ce=ue[se+we+z],be=ie[oe+we],De=ie[oe+we+z];if(ce<be||De<q)continue e}var ke;if(J?ke=Z(Y,ye):ke=Z(ye,Y),ke!==void 0)return ke}}}function O(z,U,Z,J,re,ne,ue,te,Q,ie){var Y=2*z,$=te*Y,oe=Q[$+U];e:for(var j=J,X=J*Y;j<re;++j,X+=Y){var se=ue[j];if(se!==ie){var q=ne[X+U],ce=ne[X+U+z];if(!(oe<q||ce<oe)){for(var ye=U+1;ye<z;++ye){var q=ne[X+ye],ce=ne[X+ye+z],we=Q[$+ye],be=Q[$+ye+z];if(ce<we||be<q)continue e}var De=Z(se,ie);if(De!==void 0)return De}}}}function B(z,U,Z,J,re,ne,ue,te,Q){I(z,J+ue);var ie=0,Y=2*z,$;for(N(ie++,0,0,J,0,ue,Z?16:0,-1/0,1/0),Z||N(ie++,0,0,ue,0,J,1,-1/0,1/0);ie>0;){ie-=1;var oe=ie*A,j=b[oe],X=b[oe+1],se=b[oe+2],q=b[oe+3],ce=b[oe+4],ye=b[oe+5],we=ie*s,be=F[we],De=F[we+1],ke=ye&1,Be=!!(ye&16),Ae=re,Ie=ne,Me=te,Fe=Q;if(ke&&(Ae=te,Ie=Q,Me=re,Fe=ne),!(ye&2&&(se=w(z,j,X,se,Ae,Ie,De),X>=se))&&!(ye&4&&(X=C(z,j,X,se,Ae,Ie,be),X>=se))){var Ee=se-X,He=ce-q;if(Be){if(z*Ee*(Ee+He)<o){if($=u.scanComplete(z,j,U,X,se,Ae,Ie,q,ce,Me,Fe),$!==void 0)return $;continue}}else if(z*Math.min(Ee,He)<T){if($=f(z,j,U,ke,X,se,Ae,Ie,q,ce,Me,Fe),$!==void 0)return $;continue}else if(z*Ee*He<c){if($=u.scanBipartite(z,j,U,ke,X,se,Ae,Ie,q,ce,Me,Fe),$!==void 0)return $;continue}var rt=d(z,j,X,se,Ae,Ie,be,De);if(X<rt)if(z*(rt-X)<T){if($=l(z,j+1,U,X,rt,Ae,Ie,q,ce,Me,Fe),$!==void 0)return $}else if(j===z-2){if(ke?$=u.sweepBipartite(z,U,q,ce,Me,Fe,X,rt,Ae,Ie):$=u.sweepBipartite(z,U,X,rt,Ae,Ie,q,ce,Me,Fe),$!==void 0)return $}else N(ie++,j+1,X,rt,q,ce,ke,-1/0,1/0),N(ie++,j+1,q,ce,X,rt,ke^1,-1/0,1/0);if(rt<se){var ot=g(z,j,q,ce,Me,Fe),$e=Me[Y*ot+j],qe=x(z,j,ot,ce,Me,Fe,$e);if(qe<ce&&N(ie++,j,rt,se,qe,ce,(ke|4)+(Be?16:0),$e,De),q<ot&&N(ie++,j,rt,se,q,ot,(ke|2)+(Be?16:0),be,$e),ot+1===qe){if(Be?$=O(z,j,U,rt,se,Ae,Ie,ot,Me,Fe[ot]):$=_(z,j,U,ke,rt,se,Ae,Ie,ot,Me,Fe[ot]),$!==void 0)return $}else if(ot<qe){var ht;if(Be){if(ht=y(z,j,rt,se,Ae,Ie,$e),rt<ht){var vt=x(z,j,rt,ht,Ae,Ie,$e);if(j===z-2){if(rt<vt&&($=u.sweepComplete(z,U,rt,vt,Ae,Ie,ot,qe,Me,Fe),$!==void 0)||vt<ht&&($=u.sweepBipartite(z,U,vt,ht,Ae,Ie,ot,qe,Me,Fe),$!==void 0))return $}else rt<vt&&N(ie++,j+1,rt,vt,ot,qe,16,-1/0,1/0),vt<ht&&(N(ie++,j+1,vt,ht,ot,qe,0,-1/0,1/0),N(ie++,j+1,ot,qe,vt,ht,1,-1/0,1/0))}}else ke?ht=M(z,j,rt,se,Ae,Ie,$e):ht=y(z,j,rt,se,Ae,Ie,$e),rt<ht&&(j===z-2?ke?$=u.sweepBipartite(z,U,ot,qe,Me,Fe,rt,ht,Ae,Ie):$=u.sweepBipartite(z,U,rt,ht,Ae,Ie,ot,qe,Me,Fe):(N(ie++,j+1,rt,ht,ot,qe,ke,-1/0,1/0),N(ie++,j+1,ot,qe,rt,ht,ke^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=l;var t=r(8105),a=t("lo<p0"),n=8;function f(u,g,h,T,c,o){for(var d=2*u,x=d*(h+1)+g,w=h+1;w<T;++w,x+=d)for(var C=c[x],y=w,M=d*(w-1);y>h&&c[M+g]>C;--y,M-=d){for(var A=M,s=M+d,E=0;E<d;++E,++A,++s){var b=c[A];c[A]=c[s],c[s]=b}var F=o[y];o[y]=o[y-1],o[y-1]=F}}function l(u,g,h,T,c,o){if(T<=h+1)return h;for(var d=h,x=T,w=T+h>>>1,C=2*u,y=w,M=c[C*w+g];d<x;){if(x-d<n){f(u,g,d,x,c,o),M=c[C*w+g];break}var A=x-d,s=Math.random()*A+d|0,E=c[C*s+g],b=Math.random()*A+d|0,F=c[C*b+g],I=Math.random()*A+d|0,N=c[C*I+g];E<=F?N>=F?(y=b,M=F):E>=N?(y=s,M=E):(y=I,M=N):F>=N?(y=b,M=F):N>=E?(y=s,M=E):(y=I,M=N);for(var B=C*(x-1),z=C*y,_=0;_<C;++_,++B,++z){var O=c[B];c[B]=c[z],c[z]=O}var U=o[x-1];o[x-1]=o[y],o[y]=U,y=a(u,g,d,x-1,c,o,M);for(var B=C*(x-1),z=C*y,_=0;_<C;++_,++B,++z){var O=c[B];c[B]=c[z],c[z]=O}var U=o[x-1];if(o[x-1]=o[y],o[y]=U,w<y){for(x=y-1;d<x&&c[C*(x-1)+g]===M;)x-=1;x+=1}else if(y<w)for(d=y+1;d<x&&c[C*d+g]===M;)d+=1;else break}return a(u,g,h,w,c,o,c[C*w+g])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":a,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":l,"!(lo>=p0)&&!(p1>=hi)":g};function r(h){return p[h]}function t(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+s];if(F===w)if(A===b)A+=1,M+=C;else{for(var I=0;C>I;++I){var N=d[y+I];d[y+I]=d[M],d[M++]=N}var _=x[b];x[b]=x[A],x[A++]=_}}return A}function a(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+s];if(F<w)if(A===b)A+=1,M+=C;else{for(var I=0;C>I;++I){var N=d[y+I];d[y+I]=d[M],d[M++]=N}var _=x[b];x[b]=x[A],x[A++]=_}}return A}function n(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+E];if(F<=w)if(A===b)A+=1,M+=C;else{for(var I=0;C>I;++I){var N=d[y+I];d[y+I]=d[M],d[M++]=N}var _=x[b];x[b]=x[A],x[A++]=_}}return A}function f(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+E];if(F<=w)if(A===b)A+=1,M+=C;else{for(var I=0;C>I;++I){var N=d[y+I];d[y+I]=d[M],d[M++]=N}var _=x[b];x[b]=x[A],x[A++]=_}}return A}function l(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+s],I=d[y+E];if(F<=w&&w<=I)if(A===b)A+=1,M+=C;else{for(var N=0;C>N;++N){var _=d[y+N];d[y+N]=d[M],d[M++]=_}var O=x[b];x[b]=x[A],x[A++]=O}}return A}function u(h,T,c,o,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,s=T,E=h+T,b=c;o>b;++b,y+=C){var F=d[y+s],I=d[y+E];if(F<w&&w<=I)if(A===b)A+=1,M+=C;else{for(var N=0;C>N;++N){var _=d[y+N];d[y+N]=d[M],d[M++]=_}var O=x[b];x[b]=x[A],x[A++]=O}}return A}function g(h,T,c,o,d,x,w,C){for(var y=2*h,M=y*c,A=M,s=c,E=T,b=h+T,F=c;o>F;++F,M+=y){var I=d[M+E],N=d[M+b];if(!(I>=w)&&!(C>=N))if(s===F)s+=1,A+=y;else{for(var _=0;y>_;++_){var O=d[M+_];d[M+_]=d[A],d[A++]=O}var B=x[F];x[F]=x[s],x[s++]=B}}return s}},1811:function(v){v.exports=r;var p=32;function r(T,c){c<=4*p?t(0,c-1,T):h(0,c-1,T)}function t(T,c,o){for(var d=2*(T+1),x=T+1;x<=c;++x){for(var w=o[d++],C=o[d++],y=x,M=d-2;y-- >T;){var A=o[M-2],s=o[M-1];if(A<w)break;if(A===w&&s<C)break;o[M]=A,o[M+1]=s,M-=2}o[M]=w,o[M+1]=C}}function a(T,c,o){T*=2,c*=2;var d=o[T],x=o[T+1];o[T]=o[c],o[T+1]=o[c+1],o[c]=d,o[c+1]=x}function n(T,c,o){T*=2,c*=2,o[T]=o[c],o[T+1]=o[c+1]}function f(T,c,o,d){T*=2,c*=2,o*=2;var x=d[T],w=d[T+1];d[T]=d[c],d[T+1]=d[c+1],d[c]=d[o],d[c+1]=d[o+1],d[o]=x,d[o+1]=w}function l(T,c,o,d,x){T*=2,c*=2,x[T]=x[c],x[c]=o,x[T+1]=x[c+1],x[c+1]=d}function u(T,c,o){T*=2,c*=2;var d=o[T],x=o[c];return d<x?!1:d===x?o[T+1]>o[c+1]:!0}function g(T,c,o,d){T*=2;var x=d[T];return x<c?!0:x===c?d[T+1]<o:!1}function h(T,c,o){var d=(c-T+1)/6|0,x=T+d,w=c-d,C=T+c>>1,y=C-d,M=C+d,A=x,s=y,E=C,b=M,F=w,I=T+1,N=c-1,_=0;u(A,s,o)&&(_=A,A=s,s=_),u(b,F,o)&&(_=b,b=F,F=_),u(A,E,o)&&(_=A,A=E,E=_),u(s,E,o)&&(_=s,s=E,E=_),u(A,b,o)&&(_=A,A=b,b=_),u(E,b,o)&&(_=E,E=b,b=_),u(s,F,o)&&(_=s,s=F,F=_),u(s,E,o)&&(_=s,s=E,E=_),u(b,F,o)&&(_=b,b=F,F=_);for(var O=o[2*s],B=o[2*s+1],z=o[2*b],U=o[2*b+1],Z=2*A,J=2*E,re=2*F,ne=2*x,ue=2*C,te=2*w,Q=0;Q<2;++Q){var ie=o[Z+Q],Y=o[J+Q],$=o[re+Q];o[ne+Q]=ie,o[ue+Q]=Y,o[te+Q]=$}n(y,T,o),n(M,c,o);for(var oe=I;oe<=N;++oe)if(g(oe,O,B,o))oe!==I&&a(oe,I,o),++I;else if(!g(oe,z,U,o))for(;;)if(g(N,z,U,o)){g(N,O,B,o)?(f(oe,I,N,o),++I,--N):(a(oe,N,o),--N);break}else{if(--N<oe)break;continue}l(T,I-1,O,B,o),l(c,N+1,z,U,o),I-2-T<=p?t(T,I-2,o):h(T,I-2,o),c-(N+2)<=p?t(N+2,c,o):h(N+2,c,o),N-I<=p?t(I,N,o):h(I,N,o)}},855:function(v,p,r){v.exports={init:x,sweepBipartite:y,sweepComplete:M,scanBipartite:A,scanComplete:s};var t=r(1888),a=r(8828),n=r(1811),f=1<<28,l=1024,u=t.mallocInt32(l),g=t.mallocInt32(l),h=t.mallocInt32(l),T=t.mallocInt32(l),c=t.mallocInt32(l),o=t.mallocInt32(l),d=t.mallocDouble(l*8);function x(E){var b=a.nextPow2(E);u.length<b&&(t.free(u),u=t.mallocInt32(b)),g.length<b&&(t.free(g),g=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),T.length<b&&(t.free(T),T=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),o.length<b&&(t.free(o),o=t.mallocInt32(b));var F=8*b;d.length<F&&(t.free(d),d=t.mallocDouble(F))}function w(E,b,F,I){var N=b[I],_=E[F-1];E[N]=_,b[_]=N}function C(E,b,F,I){E[F]=I,b[I]=F}function y(E,b,F,I,N,_,O,B,z,U){for(var Z=0,J=2*E,re=E-1,ne=J-1,ue=F;ue<I;++ue){var te=_[ue],Q=J*ue;d[Z++]=N[Q+re],d[Z++]=-(te+1),d[Z++]=N[Q+ne],d[Z++]=te}for(var ue=O;ue<B;++ue){var te=U[ue]+f,ie=J*ue;d[Z++]=z[ie+re],d[Z++]=-te,d[Z++]=z[ie+ne],d[Z++]=te}var Y=Z>>>1;n(d,Y);for(var $=0,oe=0,ue=0;ue<Y;++ue){var j=d[2*ue+1]|0;if(j>=f)j=j-f|0,w(h,T,oe--,j);else if(j>=0)w(u,g,$--,j);else if(j<=-f){j=-j-f|0;for(var X=0;X<$;++X){var se=b(u[X],j);if(se!==void 0)return se}C(h,T,oe++,j)}else{j=-j-1|0;for(var X=0;X<oe;++X){var se=b(j,h[X]);if(se!==void 0)return se}C(u,g,$++,j)}}}function M(E,b,F,I,N,_,O,B,z,U){for(var Z=0,J=2*E,re=E-1,ne=J-1,ue=F;ue<I;++ue){var te=_[ue]+1<<1,Q=J*ue;d[Z++]=N[Q+re],d[Z++]=-te,d[Z++]=N[Q+ne],d[Z++]=te}for(var ue=O;ue<B;++ue){var te=U[ue]+1<<1,ie=J*ue;d[Z++]=z[ie+re],d[Z++]=-te|1,d[Z++]=z[ie+ne],d[Z++]=te|1}var Y=Z>>>1;n(d,Y);for(var $=0,oe=0,j=0,ue=0;ue<Y;++ue){var X=d[2*ue+1]|0,se=X&1;if(ue<Y-1&&X>>1===d[2*ue+3]>>1&&(se=2,ue+=1),X<0){for(var q=-(X>>1)-1,ce=0;ce<j;++ce){var ye=b(c[ce],q);if(ye!==void 0)return ye}if(se!==0)for(var ce=0;ce<$;++ce){var ye=b(u[ce],q);if(ye!==void 0)return ye}if(se!==1)for(var ce=0;ce<oe;++ce){var ye=b(h[ce],q);if(ye!==void 0)return ye}se===0?C(u,g,$++,q):se===1?C(h,T,oe++,q):se===2&&C(c,o,j++,q)}else{var q=(X>>1)-1;se===0?w(u,g,$--,q):se===1?w(h,T,oe--,q):se===2&&w(c,o,j--,q)}}}function A(E,b,F,I,N,_,O,B,z,U,Z,J){var re=0,ne=2*E,ue=b,te=b+E,Q=1,ie=1;I?ie=f:Q=f;for(var Y=N;Y<_;++Y){var $=Y+Q,oe=ne*Y;d[re++]=O[oe+ue],d[re++]=-$,d[re++]=O[oe+te],d[re++]=$}for(var Y=z;Y<U;++Y){var $=Y+ie,j=ne*Y;d[re++]=Z[j+ue],d[re++]=-$}var X=re>>>1;n(d,X);for(var se=0,Y=0;Y<X;++Y){var q=d[2*Y+1]|0;if(q<0){var $=-q,ce=!1;if($>=f?(ce=!I,$-=f):(ce=!!I,$-=1),ce)C(u,g,se++,$);else{var ye=J[$],we=ne*$,be=Z[we+b+1],De=Z[we+b+1+E];e:for(var ke=0;ke<se;++ke){var Be=u[ke],Ae=ne*Be;if(!(De<O[Ae+b+1]||O[Ae+b+1+E]<be)){for(var Ie=b+2;Ie<E;++Ie)if(Z[we+Ie+E]<O[Ae+Ie]||O[Ae+Ie+E]<Z[we+Ie])continue e;var Me=B[Be],Fe;if(I?Fe=F(ye,Me):Fe=F(Me,ye),Fe!==void 0)return Fe}}}}else w(u,g,se--,q-Q)}}function s(E,b,F,I,N,_,O,B,z,U,Z){for(var J=0,re=2*E,ne=b,ue=b+E,te=I;te<N;++te){var Q=te+f,ie=re*te;d[J++]=_[ie+ne],d[J++]=-Q,d[J++]=_[ie+ue],d[J++]=Q}for(var te=B;te<z;++te){var Q=te+1,Y=re*te;d[J++]=U[Y+ne],d[J++]=-Q}var $=J>>>1;n(d,$);for(var oe=0,te=0;te<$;++te){var j=d[2*te+1]|0;if(j<0){var Q=-j;if(Q>=f)u[oe++]=Q-f;else{Q-=1;var X=Z[Q],se=re*Q,q=U[se+b+1],ce=U[se+b+1+E];e:for(var ye=0;ye<oe;++ye){var we=u[ye],be=O[we];if(be===X)break;var De=re*we;if(!(ce<_[De+b+1]||_[De+b+1+E]<q)){for(var ke=b+2;ke<E;++ke)if(U[se+ke+E]<_[De+ke]||_[De+ke+E]<U[se+ke])continue e;var Be=F(be,X);if(Be!==void 0)return Be}}}}else{for(var Q=j-f,ye=oe-1;ye>=0;--ye)if(u[ye]===Q){for(var ke=ye+1;ke<oe;++ke)u[ke-1]=u[ke];break}--oe}}}},2538:function(v,p,r){var t=r(8902),a=r(5542),n=r(2272),f=r(5023);v.exports=T;function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,o){return c[0]-o[0]||c[1]-o[1]}function g(c){return c.map(l).sort(u)}function h(c,o,d){return o in c?c[o]:d}function T(c,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var x=!!h(d,"delaunay",!0),w=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!w&&!C||c.length===0)return[];var M=t(c,o);if(x||w!==C||y){for(var A=a(c.length,g(o)),s=0;s<M.length;++s){var E=M[s];A.addTriangle(E[0],E[1],E[2])}return x&&n(c,A),C?w?y?f(A,0,y):A.cells():f(A,1,y):f(A,-1)}else return M}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=n;function a(f,l,u,g,h,T){var c=l.opposite(g,h);if(!(c<0)){if(h<g){var o=g;g=h,h=o,o=T,T=c,c=o}l.isConstraint(g,h)||t(f[g],f[h],f[T],f[c])<0&&u.push(g,h)}}function n(f,l){for(var u=[],g=f.length,h=l.stars,T=0;T<g;++T)for(var c=h[T],o=1;o<c.length;o+=2){var d=c[o];if(!(d<T)&&!l.isConstraint(T,d)){for(var x=c[o-1],w=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){w=c[C];break}w<0||t(f[T],f[d],f[x],f[w])<0&&u.push(T,d)}}for(;u.length>0;){for(var d=u.pop(),T=u.pop(),x=-1,w=-1,c=h[T],y=1;y<c.length;y+=2){var M=c[y-1],A=c[y];M===d?w=A:A===d&&(x=M)}x<0||w<0||t(f[T],f[d],f[x],f[w])>=0||(l.flip(T,d),a(f,l,u,x,T,w),a(f,l,u,T,w,x),a(f,l,u,w,d,x),a(f,l,u,d,x,w))}}},5023:function(v,p,r){var t=r(2478);v.exports=g;function a(h,T,c,o,d,x,w){this.cells=h,this.neighbor=T,this.flags=o,this.constraint=c,this.active=d,this.next=x,this.boundary=w}var n=a.prototype;function f(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}n.locate=function(){var h=[0,0,0];return function(T,c,o){var d=T,x=c,w=o;return c<o?c<T&&(d=c,x=o,w=T):o<T&&(d=o,x=T,w=c),d<0?-1:(h[0]=d,h[1]=x,h[2]=w,t.eq(this.cells,h,f))}}();function l(h,T){for(var c=h.cells(),o=c.length,d=0;d<o;++d){var x=c[d],w=x[0],C=x[1],y=x[2];C<y?C<w&&(x[0]=C,x[1]=y,x[2]=w):y<w&&(x[0]=y,x[1]=w,x[2]=C)}c.sort(f);for(var M=new Array(o),d=0;d<M.length;++d)M[d]=0;var A=[],s=[],E=new Array(3*o),b=new Array(3*o),F=null;T&&(F=[]);for(var I=new a(c,E,b,M,A,s,F),d=0;d<o;++d)for(var x=c[d],N=0;N<3;++N){var w=x[N],C=x[(N+1)%3],_=E[3*d+N]=I.locate(C,w,h.opposite(C,w)),O=b[3*d+N]=h.isConstraint(w,C);_<0&&(O?s.push(d):(A.push(d),M[d]=1),T&&F.push([C,w,-1]))}return I}function u(h,T,c){for(var o=0,d=0;d<h.length;++d)T[d]===c&&(h[o++]=h[d]);return h.length=o,h}function g(h,T,c){var o=l(h,c);if(T===0)return c?o.cells.concat(o.boundary):o.cells;for(var d=1,x=o.active,w=o.next,C=o.flags,y=o.cells,M=o.constraint,A=o.neighbor;x.length>0||w.length>0;){for(;x.length>0;){var s=x.pop();if(C[s]!==-d){C[s]=d,y[s];for(var E=0;E<3;++E){var b=A[3*s+E];b>=0&&C[b]===0&&(M[3*s+E]?w.push(b):(x.push(b),C[b]=d))}}}var F=w;w=x,x=F,w.length=0,d=-d}var I=u(y,C,T);return c?I.concat(o.boundary):I}},8902:function(v,p,r){var t=r(2478),a=r(3250)[3],n=0,f=1,l=2;v.exports=w;function u(C,y,M,A,s){this.a=C,this.b=y,this.idx=M,this.lowerIds=A,this.upperIds=s}function g(C,y,M,A){this.a=C,this.b=y,this.type=M,this.idx=A}function h(C,y){var M=C.a[0]-y.a[0]||C.a[1]-y.a[1]||C.type-y.type;return M||C.type!==n&&(M=a(C.a,C.b,y.b),M)?M:C.idx-y.idx}function T(C,y){return a(C.a,C.b,y)}function c(C,y,M,A,s){for(var E=t.lt(y,A,T),b=t.gt(y,A,T),F=E;F<b;++F){for(var I=y[F],N=I.lowerIds,O=N.length;O>1&&a(M[N[O-2]],M[N[O-1]],A)>0;)C.push([N[O-1],N[O-2],s]),O-=1;N.length=O,N.push(s);for(var _=I.upperIds,O=_.length;O>1&&a(M[_[O-2]],M[_[O-1]],A)<0;)C.push([_[O-2],_[O-1],s]),O-=1;_.length=O,_.push(s)}}function o(C,y){var M;return C.a[0]<y.a[0]?M=a(C.a,C.b,y.a):M=a(y.b,y.a,C.a),M||(y.b[0]<C.b[0]?M=a(C.a,C.b,y.b):M=a(y.b,y.a,C.b),M||C.idx-y.idx)}function d(C,y,M){var A=t.le(C,M,o),s=C[A],E=s.upperIds,b=E[E.length-1];s.upperIds=[b],C.splice(A+1,0,new u(M.a,M.b,M.idx,[b],E))}function x(C,y,M){var A=M.a;M.a=M.b,M.b=A;var s=t.eq(C,M,o),E=C[s],b=C[s-1];b.upperIds=E.upperIds,C.splice(s,1)}function w(C,y){for(var M=C.length,A=y.length,s=[],E=0;E<M;++E)s.push(new g(C[E],null,n,E));for(var E=0;E<A;++E){var b=y[E],F=C[b[0]],I=C[b[1]];F[0]<I[0]?s.push(new g(F,I,l,E),new g(I,F,f,E)):F[0]>I[0]&&s.push(new g(I,F,l,E),new g(F,I,f,E))}s.sort(h);for(var N=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),_=[new u([N,1],[N,0],-1,[],[])],O=[],E=0,B=s.length;E<B;++E){var z=s[E],U=z.type;U===n?c(O,_,C,z.a,z.idx):U===l?d(_,C,z):x(_,C,z)}return O}},5542:function(v,p,r){var t=r(2478);v.exports=l;function a(u,g){this.stars=u,this.edges=g}var n=a.prototype;function f(u,g,h){for(var T=1,c=u.length;T<c;T+=2)if(u[T-1]===g&&u[T]===h){u[T-1]=u[c-2],u[T]=u[c-1],u.length=c-2;return}}n.isConstraint=function(){var u=[0,0];function g(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return u[0]=Math.min(h,T),u[1]=Math.max(h,T),t.eq(this.edges,u,g)>=0}}(),n.removeTriangle=function(u,g,h){var T=this.stars;f(T[u],g,h),f(T[g],h,u),f(T[h],u,g)},n.addTriangle=function(u,g,h){var T=this.stars;T[u].push(g,h),T[g].push(h,u),T[h].push(u,g)},n.opposite=function(u,g){for(var h=this.stars[g],T=1,c=h.length;T<c;T+=2)if(h[T]===u)return h[T-1];return-1},n.flip=function(u,g){var h=this.opposite(u,g),T=this.opposite(g,u);this.removeTriangle(u,g,h),this.removeTriangle(g,u,T),this.addTriangle(u,T,h),this.addTriangle(g,h,T)},n.edges=function(){for(var u=this.stars,g=[],h=0,T=u.length;h<T;++h)for(var c=u[h],o=0,d=c.length;o<d;o+=2)g.push([c[o],c[o+1]]);return g},n.cells=function(){for(var u=this.stars,g=[],h=0,T=u.length;h<T;++h)for(var c=u[h],o=0,d=c.length;o<d;o+=2){var x=c[o],w=c[o+1];h<Math.min(x,w)&&g.push([h,x,w])}return g};function l(u,g){for(var h=new Array(u),T=0;T<u;++T)h[T]=[];return new a(h,g)}},2419:function(v){v.exports=p;function p(r){for(var t=1,a=1;a<r.length;++a)for(var n=0;n<a;++n)if(r[a]<r[n])t=-t;else if(r[n]===r[a])return 0;return t}},3628:function(v,p,r){var t=r(1338),a=r(727);function n(u,g){for(var h=0,T=u.length,c=0;c<T;++c)h+=u[c]*g[c];return h}function f(u){var g=u.length;if(g===0)return[];u[0].length;var h=t([u.length+1,u.length+1],1),T=t([u.length+1],1);h[g][g]=0;for(var c=0;c<g;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*n(u[c],u[o]);T[c]=n(u[c],u[c])}for(var d=a(h,T),x=0,w=d[g+1],c=0;c<w.length;++c)x+=w[c];for(var C=new Array(g),c=0;c<g;++c){for(var w=d[c],y=0,o=0;o<w.length;++o)y+=w[o];C[c]=y/x}return C}function l(u){if(u.length===0)return[];for(var g=u[0].length,h=t([g]),T=f(u),c=0;c<u.length;++c)for(var o=0;o<g;++o)h[o]+=u[c][o]*T[c];return h}l.barycenetric=f,v.exports=l},6037:function(v,p,r){v.exports=a;var t=r(3628);function a(n){for(var f=t(n),l=0,u=0;u<n.length;++u)for(var g=n[u],h=0;h<f.length;++h)l+=Math.pow(g[h]-f[h],2);return Math.sqrt(l/n.length)}},332:function(v,p,r){v.exports=F;var t=r(1755),a=r(6867),n=r(1125),f=r(7842),l=r(1318),u=r(946),g=r(5838),h=r(1278),T=r(3637);function c(I){var N=u(I);return[h(N,-1/0),h(N,1/0)]}function o(I,N){for(var _=new Array(N.length),O=0;O<N.length;++O){var B=N[O],z=I[B[0]],U=I[B[1]];_[O]=[h(Math.min(z[0],U[0]),-1/0),h(Math.min(z[1],U[1]),-1/0),h(Math.max(z[0],U[0]),1/0),h(Math.max(z[1],U[1]),1/0)]}return _}function d(I){for(var N=new Array(I.length),_=0;_<I.length;++_){var O=I[_];N[_]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return N}function x(I,N,_){var O=[];return a(_,function(B,z){var U=N[B],Z=N[z];if(!(U[0]===Z[0]||U[0]===Z[1]||U[1]===Z[0]||U[1]===Z[1])){var J=I[U[0]],re=I[U[1]],ne=I[Z[0]],ue=I[Z[1]];n(J,re,ne,ue)&&O.push([B,z])}}),O}function w(I,N,_,O){var B=[];return a(_,O,function(z,U){var Z=N[z];if(!(Z[0]===U||Z[1]===U)){var J=I[U],re=I[Z[0]],ne=I[Z[1]];n(re,ne,J,J)&&B.push([z,U])}}),B}function C(I,N,_,O,B){var z,U,Z=I.map(function(we){return[f(we[0]),f(we[1])]});for(z=0;z<_.length;++z){var J=_[z];U=J[0];var re=J[1],ne=N[U],ue=N[re],te=T(g(I[ne[0]]),g(I[ne[1]]),g(I[ue[0]]),g(I[ue[1]]));if(te){var Q=I.length;I.push([u(te[0]),u(te[1])]),Z.push(te),O.push([U,Q],[re,Q])}}for(O.sort(function(we,be){if(we[0]!==be[0])return we[0]-be[0];var De=Z[we[1]],ke=Z[be[1]];return l(De[0],ke[0])||l(De[1],ke[1])}),z=O.length-1;z>=0;--z){var ie=O[z];U=ie[0];var Y=N[U],$=Y[0],oe=Y[1],j=I[$],X=I[oe];if((j[0]-X[0]||j[1]-X[1])<0){var se=$;$=oe,oe=se}Y[0]=$;var q=Y[1]=ie[1],ce;for(B&&(ce=Y[2]);z>0&&O[z-1][0]===U;){var ie=O[--z],ye=ie[1];B?N.push([q,ye,ce]):N.push([q,ye]),q=ye}B?N.push([q,oe,ce]):N.push([q,oe])}return Z}function y(I,N,_){for(var O=N.length,B=new t(O),z=[],U=0;U<N.length;++U){var Z=N[U],J=c(Z[0]),re=c(Z[1]);z.push([h(J[0],-1/0),h(re[0],-1/0),h(J[1],1/0),h(re[1],1/0)])}a(z,function(ie,Y){B.link(ie,Y)});for(var ne=!0,ue=new Array(O),U=0;U<O;++U){var te=B.find(U);te!==U&&(ne=!1,I[te]=[Math.min(I[U][0],I[te][0]),Math.min(I[U][1],I[te][1])])}if(ne)return null;for(var Q=0,U=0;U<O;++U){var te=B.find(U);te===U?(ue[U]=Q,I[Q++]=I[U]):ue[U]=-1}I.length=Q;for(var U=0;U<O;++U)ue[U]<0&&(ue[U]=ue[B.find(U)]);return ue}function M(I,N){return I[0]-N[0]||I[1]-N[1]}function A(I,N){var _=I[0]-N[0]||I[1]-N[1];return _||(I[2]<N[2]?-1:I[2]>N[2]?1:0)}function s(I,N,_){if(I.length!==0){if(N)for(var O=0;O<I.length;++O){var B=I[O],z=N[B[0]],U=N[B[1]];B[0]=Math.min(z,U),B[1]=Math.max(z,U)}else for(var O=0;O<I.length;++O){var B=I[O],z=B[0],U=B[1];B[0]=Math.min(z,U),B[1]=Math.max(z,U)}_?I.sort(A):I.sort(M);for(var Z=1,O=1;O<I.length;++O){var J=I[O-1],re=I[O];re[0]===J[0]&&re[1]===J[1]&&(!_||re[2]===J[2])||(I[Z++]=re)}I.length=Z}}function E(I,N,_){var O=y(I,[],d(I));return s(N,O,_),!!O}function b(I,N,_){var O=o(I,N),B=x(I,N,O),z=d(I),U=w(I,N,O,z),Z=C(I,N,B,U,_),J=y(I,Z);return s(N,J,_),J?!0:B.length>0||U.length>0}function F(I,N,_){var O;if(_){O=N;for(var B=new Array(N.length),z=0;z<N.length;++z){var U=N[z];B[z]=[U[0],U[1],_[z]]}N=B}for(var Z=E(I,N,!!_);b(I,N,!!_);)Z=!0;if(_&&Z){O.length=0,_.length=0;for(var z=0;z<N.length;++z){var U=N[z];O.push([U[0],U[1]]),_.push(U[2])}}return Z}},3637:function(v,p,r){v.exports=T;var t=r(6504),a=r(8697),n=r(5572),f=r(7721),l=r(544),u=r(2653),g=r(8987);function h(c,o){return n(t(c[0],o[1]),t(c[1],o[0]))}function T(c,o,d,x){var w=l(o,c),C=l(x,d),y=h(w,C);if(f(y)===0)return null;var M=l(c,d),A=h(C,M),s=a(A,y),E=g(w,s),b=u(c,E);return b}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),a=r(395);v.exports=n;function n(g){var h,T,c,o,d,x,w,C,s,y,M;if(g||(g={}),C=(g.nshades||72)-1,w=g.format||"hex",x=g.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>C+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?y=[1,1]:y=g.alpha.slice():typeof g.alpha=="number"?y=[g.alpha,g.alpha]:y=[1,1],h=d.map(function(F){return Math.round(F.index*C)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var A=d.map(function(F,I){var N=d[I].index,_=d[I].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=y[0]+(y[1]-y[0])*N),_}),s=[];for(M=0;M<h.length-1;++M){o=h[M+1]-h[M],T=A[M],c=A[M+1];for(var E=0;E<o;E++){var b=E/o;s.push([Math.round(a(T[0],c[0],b)),Math.round(a(T[1],c[1],b)),Math.round(a(T[2],c[2],b)),a(T[3],c[3],b)])}}return s.push(d[d.length-1].rgb.concat(y[1])),w==="hex"?s=s.map(l):w==="rgbaString"?s=s.map(u):w==="float"&&(s=s.map(f)),s}function f(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function l(g){for(var h,T="#",c=0;c<3;++c)h=g[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function u(g){return"rgba("+g.join(",")+")"}},3140:function(v,p,r){v.exports=g;var t=r(3250),a=r(8572),n=r(9362),f=r(5382),l=r(8210);function u(h,T,c){var o=n(h[0],-T[0]),d=n(h[1],-T[1]),x=n(c[0],-T[0]),w=n(c[1],-T[1]),C=l(f(o,x),f(d,w));return C[C.length-1]>=0}function g(h,T,c,o){var d=t(T,c,o);if(d===0){var x=a(t(h,T,c)),w=a(t(h,T,o));if(x===w){if(x===0){var C=u(h,T,c),y=u(h,T,o);return C===y?0:C?1:-1}return 0}else{if(w===0)return x>0||u(h,T,o)?-1:1;if(x===0)return w>0||u(h,T,c)?1:-1}return a(w-x)}var M=t(h,T,c);if(M>0)return d>0&&t(h,T,o)>0?1:-1;if(M<0)return d>0||t(h,T,o)>0?1:-1;var A=t(h,T,o);return A>0||u(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(a,n){return a-n}function t(a,n){var f=a.length,l=a.length-n.length;if(l)return l;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||p(a[0],a[1])-p(n[0],n[1]);case 3:var u=a[0]+a[1],g=n[0]+n[1];if(l=u+a[2]-(g+n[2]),l)return l;var h=p(a[0],a[1]),T=p(n[0],n[1]);return p(h,a[2])-p(T,n[2])||p(h+a[2],u)-p(T+n[2],g);case 4:var c=a[0],o=a[1],d=a[2],x=a[3],w=n[0],C=n[1],y=n[2],M=n[3];return c+o+d+x-(w+C+y+M)||p(c,o,d,x)-p(w,C,y,M,w)||p(c+o,c+d,c+x,o+d,o+x,d+x)-p(w+C,w+y,w+M,C+y,C+M,y+M)||p(c+o+d,c+o+x,c+d+x,o+d+x)-p(w+C+y,w+C+M,w+y+M,C+y+M);default:for(var A=a.slice().sort(r),s=n.slice().sort(r),E=0;E<f;++E)if(l=A[E]-s[E],l)return l;return 0}}},3788:function(v,p,r){var t=r(8507),a=r(2419);v.exports=n;function n(f,l){return t(f,l)||a(f)-a(l)}},7352:function(v,p,r){var t=r(5721),a=r(4750),n=r(2690);v.exports=f;function f(l){var u=l.length;if(u===0)return[];if(u===1)return[[0]];var g=l[0].length;return g===0?[]:g===1?t(l):g===2?a(l):n(l,g)}},5721:function(v){v.exports=p;function p(r){for(var t=0,a=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},4750:function(v,p,r){v.exports=a;var t=r(3090);function a(n){var f=t(n),l=f.length;if(l<=2)return[];for(var u=new Array(l),g=f[l-1],h=0;h<l;++h){var T=f[h];u[h]=[g,T],g=T}return u}},2690:function(v,p,r){v.exports=l;var t=r(8954),a=r(3952);function n(u,g){for(var h=u.length,T=new Array(h),c=0;c<g.length;++c)T[c]=u[g[c]];for(var o=g.length,c=0;c<h;++c)g.indexOf(c)<0&&(T[o++]=u[c]);return T}function f(u,g){for(var h=u.length,T=g.length,c=0;c<h;++c)for(var o=u[c],d=0;d<o.length;++d){var x=o[d];if(x<T)o[d]=g[x];else{x=x-T;for(var w=0;w<T;++w)x>=g[w]&&(x+=1);o[d]=x}}return u}function l(u,g){try{return t(u,!0)}catch{var h=a(u);if(h.length<=g)return[];var T=n(u,h),c=t(T,!0);return f(c,h)}}},4769:function(v){function p(t,a,n,f,l,u){var g=6*l*l-6*l,h=3*l*l-4*l+1,T=-6*l*l+6*l,c=3*l*l-2*l;if(t.length){u||(u=new Array(t.length));for(var o=t.length-1;o>=0;--o)u[o]=g*t[o]+h*a[o]+T*n[o]+c*f[o];return u}return g*t+h*a+T*n[o]+c*f}function r(t,a,n,f,l,u){var g=l-1,h=l*l,T=g*g,c=(1+2*l)*T,o=l*T,d=h*(3-2*l),x=h*g;if(t.length){u||(u=new Array(t.length));for(var w=t.length-1;w>=0;--w)u[w]=c*t[w]+o*a[w]+d*n[w]+x*f[w];return u}return c*t+o*a+d*n+x*f}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),a=r(1682);v.exports=u;function n(g,h){this.point=g,this.index=h}function f(g,h){for(var T=g.point,c=h.point,o=T.length,d=0;d<o;++d){var x=c[d]-T[d];if(x)return x}return 0}function l(g,h,T){if(g===1)return T?[[-1,0]]:[];var c=h.map(function(C,y){return[C[0],y]});c.sort(function(C,y){return C[0]-y[0]});for(var o=new Array(g-1),d=1;d<g;++d){var x=c[d-1],w=c[d];o[d-1]=[x[1],w[1]]}return T&&o.push([-1,o[0][1]],[o[g-1][1],-1]),o}function u(g,h){var T=g.length;if(T===0)return[];var c=g[0].length;if(c<1)return[];if(c===1)return l(T,g,h);for(var o=new Array(T),d=1,x=0;x<T;++x){for(var w=g[x],C=new Array(c+1),y=0,M=0;M<c;++M){var A=w[M];C[M]=A,y+=A*A}C[c]=y,o[x]=new n(C,x),d=Math.max(y,d)}a(o,f),T=o.length;for(var s=new Array(T+c+1),E=new Array(T+c+1),b=(c+1)*(c+1)*d,F=new Array(c+1),x=0;x<=c;++x)F[x]=0;F[c]=b,s[0]=F.slice(),E[0]=-1;for(var x=0;x<=c;++x){var C=F.slice();C[x]=1,s[x+1]=C,E[x+1]=-1}for(var x=0;x<T;++x){var I=o[x];s[x+c+1]=I.point,E[x+c+1]=I.index}var N=t(s,!1);if(h?N=N.filter(function(_){for(var O=0,B=0;B<=c;++B){var z=E[_[B]];if(z<0&&++O>=2)return!1;_[B]=z}return!0}):N=N.filter(function(_){for(var O=0;O<=c;++O){var B=E[_[O]];if(B<0)return!1;_[O]=B}return!0}),c&1)for(var x=0;x<N.length;++x){var I=N[x],C=I[0];I[0]=I[1],I[1]=C}return N}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let d=function(C,y){return t[0]=C,t[1]=y,r[0]},x=function(C){return r[0]=C,t[0]},w=function(C){return r[0]=C,t[1]};var n=d,f=x,l=w;v.exports=function(y){return r[0]=y,[t[0],t[1]]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}else if(t[0]===1072693248){let d=function(C,y){return t[1]=C,t[0]=y,r[0]},x=function(C){return r[0]=C,t[1]},w=function(C){return r[0]=C,t[0]};var u=d,g=x,h=w;v.exports=function(y){return r[0]=y,[t[1],t[0]]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}else p=!1}if(!p){let d=function(C,y){return a.writeUInt32LE(C,0,!0),a.writeUInt32LE(y,4,!0),a.readDoubleLE(0,!0)},x=function(C){return a.writeDoubleLE(C,0,!0),a.readUInt32LE(0,!0)},w=function(C){return a.writeDoubleLE(C,0,!0),a.readUInt32LE(4,!0)};var T=d,c=x,o=w,a=new Buffer(8);v.exports=function(y){return a.writeDoubleLE(y,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=x,v.exports.hi=w}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var x=v.exports.hi(d);return(x<<1>>>21)-1023},v.exports.fraction=function(d){var x=v.exports.lo(d),w=v.exports.hi(d),C=w&(1<<20)-1;return w&2146435072&&(C+=1048576),[x,C]},v.exports.denormalized=function(d){var x=v.exports.hi(d);return!(x&2146435072)}},1338:function(v){function p(a,n,f){var l=a[f]|0;if(l<=0)return[];var u=new Array(l),g;if(f===a.length-1)for(g=0;g<l;++g)u[g]=n;else for(g=0;g<l;++g)u[g]=p(a,n,f+1);return u}function r(a,n){var f,l;for(f=new Array(a),l=0;l<a;++l)f[l]=n;return f}function t(a,n){switch(typeof n>"u"&&(n=0),typeof a){case"number":if(a>0)return r(a|0,n);break;case"object":if(typeof a.length=="number")return p(a,n,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=a;var t=r(1682);function a(n,f){var l=n.length;if(typeof f!="number"){f=0;for(var u=0;u<l;++u){var g=n[u];f=Math.max(f,g[0],g[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),u=0;u<f;++u)h[u]=[];for(var u=0;u<l;++u){var g=n[u];h[g[0]].push(g[1]),h[g[1]].push(g[0])}for(var T=0;T<f;++T)t(h[T],function(c,o){return c-o});return h}},5033:function(v){v.exports=p;function p(r,t,a){var n=t||0,f=a||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=g;var t=r(4769),a=r(2478);function n(h,T,c){return Math.min(T,Math.max(h,c))}function f(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=f.prototype;l.flush=function(h){var T=a.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},l.curve=function(h){var T=this._time,c=T.length,o=a.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,C=this.dimension,y=this.bounds;if(o<0)for(var M=C-1,A=0;A<C;++A,--M)d[A]=x[M];else if(o>=c-1)for(var M=x.length-1,s=h-T[c-1],A=0;A<C;++A,--M)d[A]=x[M]+s*w[M];else{for(var M=C*(o+1)-1,E=T[o],b=T[o+1],F=b-E||1,I=this._scratch[1],N=this._scratch[2],_=this._scratch[3],O=this._scratch[4],B=!0,A=0;A<C;++A,--M)I[A]=x[M],_[A]=w[M]*F,N[A]=x[M+C],O[A]=w[M+C]*F,B=B&&I[A]===N[A]&&_[A]===O[A]&&_[A]===0;if(B)for(var A=0;A<C;++A)d[A]=I[A];else t(I,_,N,O,(h-E)/F,d)}for(var z=y[0],U=y[1],A=0;A<C;++A)d[A]=n(z[A],U[A],d[A]);return d},l.dcurve=function(h){var T=this._time,c=T.length,o=a.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,C=this.dimension;if(o>=c-1){var y=x.length-1;h-T[c-1];for(var M=0;M<C;++M,--y)d[M]=w[y]}else{for(var y=C*(o+1)-1,A=T[o],s=T[o+1],E=s-A||1,b=this._scratch[1],F=this._scratch[2],I=this._scratch[3],N=this._scratch[4],_=!0,M=0;M<C;++M,--y)b[M]=x[y],I[M]=w[y]*E,F[M]=x[y+C],N[M]=w[y+C]*E,_=_&&b[M]===F[M]&&I[M]===N[M]&&I[M]===0;if(_)for(var M=0;M<C;++M)d[M]=0;else{t.derivative(b,I,F,N,(h-A)/E,d);for(var M=0;M<C;++M)d[M]/=E}}return d},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},l.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,d=this._velocity,x=o.length-this.dimension,w=this.bounds,C=w[0],y=w[1];this._time.push(T,h);for(var M=0;M<2;++M)for(var A=0;A<c;++A)o.push(o[x++]),d.push(0);this._time.push(h);for(var A=c;A>0;--A)o.push(n(C[A-1],y[A-1],arguments[A])),d.push(0)}},l.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,d=this._velocity,x=o.length-this.dimension,w=h-T,C=this.bounds,y=C[0],M=C[1],A=w>1e-6?1/w:0;this._time.push(h);for(var s=c;s>0;--s){var E=n(y[s-1],M[s-1],arguments[s]);o.push(E),d.push((E-o[x++])*A)}}},l.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,o=this._velocity,d=this.bounds,x=d[0],w=d[1];this._time.push(h);for(var C=T;C>0;--C)c.push(n(x[C-1],w[C-1],arguments[C])),o.push(0)}},l.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var o=this._state,d=this._velocity,x=o.length-this.dimension,w=this.bounds,C=w[0],y=w[1],M=h-T,A=M>1e-6?1/M:0;this._time.push(h);for(var s=c;s>0;--s){var E=arguments[s];o.push(n(C[s-1],y[s-1],o[x++]+E)),d.push(E*A)}}},l.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,o=this._state,d=this._velocity,x=o.length-c,w=this.bounds,C=w[0],y=w[1],M=h-T;this._time.push(h);for(var A=c-1;A>=0;--A)o.push(n(C[A],y[A],o[x]+M*d[x])),d.push(0),x+=1}};function u(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function g(h,T,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var o=u(h);return new f(o,o,0)}else return new f(h,u(h.length),0);case 2:if(typeof T=="number"){var o=u(h.length);return new f(h,o,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new f(h,T,c)}}},3840:function(v){v.exports=C;var p=0,r=1;function t(y,M,A,s,E,b){this._color=y,this.key=M,this.value=A,this.left=s,this.right=E,this._count=b}function a(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function n(y,M){return new t(y,M.key,M.value,M.left,M.right,M._count)}function f(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function l(y,M){this._compare=y,this.root=M}var u=l.prototype;Object.defineProperty(u,"keys",{get:function(){var y=[];return this.forEach(function(M,A){y.push(M)}),y}}),Object.defineProperty(u,"values",{get:function(){var y=[];return this.forEach(function(M,A){y.push(A)}),y}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(y,M){for(var A=this._compare,s=this.root,E=[],b=[];s;){var F=A(y,s.key);E.push(s),b.push(F),F<=0?s=s.left:s=s.right}E.push(new t(p,y,M,null,null,1));for(var I=E.length-2;I>=0;--I){var s=E[I];b[I]<=0?E[I]=new t(s._color,s.key,s.value,E[I+1],s.right,s._count+1):E[I]=new t(s._color,s.key,s.value,s.left,E[I+1],s._count+1)}for(var I=E.length-1;I>1;--I){var N=E[I-1],s=E[I];if(N._color===r||s._color===r)break;var _=E[I-2];if(_.left===N)if(N.left===s){var O=_.right;if(O&&O._color===p)N._color=r,_.right=n(r,O),_._color=p,I-=1;else{if(_._color=p,_.left=N.right,N._color=r,N.right=_,E[I-2]=N,E[I-1]=s,f(_),f(N),I>=3){var B=E[I-3];B.left===_?B.left=N:B.right=N}break}}else{var O=_.right;if(O&&O._color===p)N._color=r,_.right=n(r,O),_._color=p,I-=1;else{if(N.right=s.left,_._color=p,_.left=s.right,s._color=r,s.left=N,s.right=_,E[I-2]=s,E[I-1]=N,f(_),f(N),f(s),I>=3){var B=E[I-3];B.left===_?B.left=s:B.right=s}break}}else if(N.right===s){var O=_.left;if(O&&O._color===p)N._color=r,_.left=n(r,O),_._color=p,I-=1;else{if(_._color=p,_.right=N.left,N._color=r,N.left=_,E[I-2]=N,E[I-1]=s,f(_),f(N),I>=3){var B=E[I-3];B.right===_?B.right=N:B.left=N}break}}else{var O=_.left;if(O&&O._color===p)N._color=r,_.left=n(r,O),_._color=p,I-=1;else{if(N.left=s.right,_._color=p,_.right=s.left,s._color=r,s.right=N,s.left=_,E[I-2]=s,E[I-1]=N,f(_),f(N),f(s),I>=3){var B=E[I-3];B.right===_?B.right=s:B.left=s}break}}}return E[0]._color=r,new l(A,E[0])};function g(y,M){if(M.left){var A=g(y,M.left);if(A)return A}var A=y(M.key,M.value);if(A)return A;if(M.right)return g(y,M.right)}function h(y,M,A,s){var E=M(y,s.key);if(E<=0){if(s.left){var b=h(y,M,A,s.left);if(b)return b}var b=A(s.key,s.value);if(b)return b}if(s.right)return h(y,M,A,s.right)}function T(y,M,A,s,E){var b=A(y,E.key),F=A(M,E.key),I;if(b<=0&&(E.left&&(I=T(y,M,A,s,E.left),I)||F>0&&(I=s(E.key,E.value),I)))return I;if(F>0&&E.right)return T(y,M,A,s,E.right)}u.forEach=function(M,A,s){if(this.root)switch(arguments.length){case 1:return g(M,this.root);case 2:return h(A,this._compare,M,this.root);case 3:return this._compare(A,s)>=0?void 0:T(A,s,this._compare,M,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var y=[],M=this.root;M;)y.push(M),M=M.left;return new c(this,y)}}),Object.defineProperty(u,"end",{get:function(){for(var y=[],M=this.root;M;)y.push(M),M=M.right;return new c(this,y)}}),u.at=function(y){if(y<0)return new c(this,[]);for(var M=this.root,A=[];;){if(A.push(M),M.left){if(y<M.left._count){M=M.left;continue}y-=M.left._count}if(!y)return new c(this,A);if(y-=1,M.right){if(y>=M.right._count)break;M=M.right}else break}return new c(this,[])},u.ge=function(y){for(var M=this._compare,A=this.root,s=[],E=0;A;){var b=M(y,A.key);s.push(A),b<=0&&(E=s.length),b<=0?A=A.left:A=A.right}return s.length=E,new c(this,s)},u.gt=function(y){for(var M=this._compare,A=this.root,s=[],E=0;A;){var b=M(y,A.key);s.push(A),b<0&&(E=s.length),b<0?A=A.left:A=A.right}return s.length=E,new c(this,s)},u.lt=function(y){for(var M=this._compare,A=this.root,s=[],E=0;A;){var b=M(y,A.key);s.push(A),b>0&&(E=s.length),b<=0?A=A.left:A=A.right}return s.length=E,new c(this,s)},u.le=function(y){for(var M=this._compare,A=this.root,s=[],E=0;A;){var b=M(y,A.key);s.push(A),b>=0&&(E=s.length),b<0?A=A.left:A=A.right}return s.length=E,new c(this,s)},u.find=function(y){for(var M=this._compare,A=this.root,s=[];A;){var E=M(y,A.key);if(s.push(A),E===0)return new c(this,s);E<=0?A=A.left:A=A.right}return new c(this,[])},u.remove=function(y){var M=this.find(y);return M?M.remove():this},u.get=function(y){for(var M=this._compare,A=this.root;A;){var s=M(y,A.key);if(s===0)return A.value;s<=0?A=A.left:A=A.right}};function c(y,M){this.tree=y,this._stack=M}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,M){y.key=M.key,y.value=M.value,y.left=M.left,y.right=M.right,y._color=M._color,y._count=M._count}function x(y){for(var M,A,s,E,b=y.length-1;b>=0;--b){if(M=y[b],b===0){M._color=r;return}if(A=y[b-1],A.left===M){if(s=A.right,s.right&&s.right._color===p){if(s=A.right=a(s),E=s.right=a(s.right),A.right=s.left,s.left=A,s.right=E,s._color=A._color,M._color=r,A._color=r,E._color=r,f(A),f(s),b>1){var F=y[b-2];F.left===A?F.left=s:F.right=s}y[b-1]=s;return}else if(s.left&&s.left._color===p){if(s=A.right=a(s),E=s.left=a(s.left),A.right=E.left,s.left=E.right,E.left=A,E.right=s,E._color=A._color,A._color=r,s._color=r,M._color=r,f(A),f(s),f(E),b>1){var F=y[b-2];F.left===A?F.left=E:F.right=E}y[b-1]=E;return}if(s._color===r)if(A._color===p){A._color=r,A.right=n(p,s);return}else{A.right=n(p,s);continue}else{if(s=a(s),A.right=s.left,s.left=A,s._color=A._color,A._color=p,f(A),f(s),b>1){var F=y[b-2];F.left===A?F.left=s:F.right=s}y[b-1]=s,y[b]=A,b+1<y.length?y[b+1]=M:y.push(M),b=b+2}}else{if(s=A.left,s.left&&s.left._color===p){if(s=A.left=a(s),E=s.left=a(s.left),A.left=s.right,s.right=A,s.left=E,s._color=A._color,M._color=r,A._color=r,E._color=r,f(A),f(s),b>1){var F=y[b-2];F.right===A?F.right=s:F.left=s}y[b-1]=s;return}else if(s.right&&s.right._color===p){if(s=A.left=a(s),E=s.right=a(s.right),A.left=E.right,s.right=E.left,E.right=A,E.left=s,E._color=A._color,A._color=r,s._color=r,M._color=r,f(A),f(s),f(E),b>1){var F=y[b-2];F.right===A?F.right=E:F.left=E}y[b-1]=E;return}if(s._color===r)if(A._color===p){A._color=r,A.left=n(p,s);return}else{A.left=n(p,s);continue}else{if(s=a(s),A.left=s.right,s.right=A,s._color=A._color,A._color=p,f(A),f(s),b>1){var F=y[b-2];F.right===A?F.right=s:F.left=s}y[b-1]=s,y[b]=A,b+1<y.length?y[b+1]=M:y.push(M),b=b+2}}}}o.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var M=new Array(y.length),A=y[y.length-1];M[M.length-1]=new t(A._color,A.key,A.value,A.left,A.right,A._count);for(var s=y.length-2;s>=0;--s){var A=y[s];A.left===y[s+1]?M[s]=new t(A._color,A.key,A.value,M[s+1],A.right,A._count):M[s]=new t(A._color,A.key,A.value,A.left,M[s+1],A._count)}if(A=M[M.length-1],A.left&&A.right){var E=M.length;for(A=A.left;A.right;)M.push(A),A=A.right;var b=M[E-1];M.push(new t(A._color,b.key,b.value,A.left,A.right,A._count)),M[E-1].key=A.key,M[E-1].value=A.value;for(var s=M.length-2;s>=E;--s)A=M[s],M[s]=new t(A._color,A.key,A.value,A.left,M[s+1],A._count);M[E-1].left=M[E]}if(A=M[M.length-1],A._color===p){var F=M[M.length-2];F.left===A?F.left=null:F.right===A&&(F.right=null),M.pop();for(var s=0;s<M.length;++s)M[s]._count--;return new l(this.tree._compare,M[0])}else if(A.left||A.right){A.left?d(A,A.left):A.right&&d(A,A.right),A._color=r;for(var s=0;s<M.length-1;++s)M[s]._count--;return new l(this.tree._compare,M[0])}else{if(M.length===1)return new l(this.tree._compare,null);for(var s=0;s<M.length;++s)M[s]._count--;var I=M[M.length-2];x(M),I.left===A?I.left=null:I.right=null}return new l(this.tree._compare,M[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var y=0,M=this._stack;if(M.length===0){var A=this.tree.root;return A?A._count:0}else M[M.length-1].left&&(y=M[M.length-1].left._count);for(var s=M.length-2;s>=0;--s)M[s+1]===M[s].right&&(++y,M[s].left&&(y+=M[s].left._count));return y},enumerable:!0}),o.next=function(){var y=this._stack;if(y.length!==0){var M=y[y.length-1];if(M.right)for(M=M.right;M;)y.push(M),M=M.left;else for(y.pop();y.length>0&&y[y.length-1].right===M;)M=y[y.length-1],y.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var M=y.length-1;M>0;--M)if(y[M-1].left===y[M])return!0;return!1}}),o.update=function(y){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var A=new Array(M.length),s=M[M.length-1];A[A.length-1]=new t(s._color,s.key,y,s.left,s.right,s._count);for(var E=M.length-2;E>=0;--E)s=M[E],s.left===M[E+1]?A[E]=new t(s._color,s.key,s.value,A[E+1],s.right,s._count):A[E]=new t(s._color,s.key,s.value,s.left,A[E+1],s._count);return new l(this.tree._compare,A[0])},o.prev=function(){var y=this._stack;if(y.length!==0){var M=y[y.length-1];if(M.left)for(M=M.left;M;)y.push(M),M=M.right;else for(y.pop();y.length>0&&y[y.length-1].left===M;)M=y[y.length-1],y.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var M=y.length-1;M>0;--M)if(y[M-1].right===y[M])return!0;return!1}});function w(y,M){return y<M?-1:y>M?1:0}function C(y){return new l(y||w,null)}},3837:function(v,p,r){v.exports=I;var t=r(4935),a=r(501),n=r(5304),f=r(6429),l=r(6444),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g=ArrayBuffer,h=DataView;function T(N){return g.isView(N)&&!(N instanceof h)}function c(N){return Array.isArray(N)||T(N)}function o(N,_){return N[0]=_[0],N[1]=_[1],N[2]=_[2],N}function d(N){this.gl=N,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(N)}var x=d.prototype;x.update=function(N){N=N||{};function _($,oe,j){if(j in N){var X=N[j],se=this[j],q;($?c(X)&&c(X[0]):c(X))?this[j]=q=[oe(X[0]),oe(X[1]),oe(X[2])]:this[j]=q=[oe(X),oe(X),oe(X)];for(var ce=0;ce<3;++ce)if(q[ce]!==se[ce])return!0}return!1}var O=_.bind(this,!1,Number),B=_.bind(this,!1,Boolean),z=_.bind(this,!1,String),U=_.bind(this,!0,function($){if(c($)){if($.length===3)return[+$[0],+$[1],+$[2],1];if($.length===4)return[+$[0],+$[1],+$[2],+$[3]]}return[0,0,0,1]}),Z,J=!1,re=!1;if("bounds"in N)for(var ne=N.bounds,ue=0;ue<2;++ue)for(var te=0;te<3;++te)ne[ue][te]!==this.bounds[ue][te]&&(re=!0),this.bounds[ue][te]=ne[ue][te];if("ticks"in N){Z=N.ticks,J=!0,this.autoTicks=!1;for(var ue=0;ue<3;++ue)this.tickSpacing[ue]=0}else O("tickSpacing")&&(this.autoTicks=!0,re=!0);if(this._firstInit&&("ticks"in N||"tickSpacing"in N||(this.autoTicks=!0),re=!0,J=!0,this._firstInit=!1),re&&this.autoTicks&&(Z=l.create(this.bounds,this.tickSpacing),J=!0),J){for(var ue=0;ue<3;++ue)Z[ue].sort(function(oe,j){return oe.x-j.x});l.equal(Z,this.ticks)?J=!1:this.ticks=Z}B("tickEnable"),z("tickFont")&&(J=!0),z("tickFontStyle")&&(J=!0),z("tickFontWeight")&&(J=!0),z("tickFontVariant")&&(J=!0),O("tickSize"),O("tickAngle"),O("tickPad"),U("tickColor");var Q=z("labels");z("labelFont")&&(Q=!0),z("labelFontStyle")&&(Q=!0),z("labelFontWeight")&&(Q=!0),z("labelFontVariant")&&(Q=!0),B("labelEnable"),O("labelSize"),O("labelPad"),U("labelColor"),B("lineEnable"),B("lineMirror"),O("lineWidth"),U("lineColor"),B("lineTickEnable"),B("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),U("lineTickColor"),B("gridEnable"),O("gridWidth"),U("gridColor"),B("zeroEnable"),U("zeroLineColor"),O("zeroLineWidth"),B("backgroundEnable"),U("backgroundColor");var ie=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],Y=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(Q||J)&&this._text.update(this.bounds,this.labels,ie,this.ticks,Y):this._text=t(this.gl,this.bounds,this.labels,ie,this.ticks,Y),this._lines&&J&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var C=[new w,new w,new w];function y(N,_,O,B,z){for(var U=N.primalOffset,Z=N.primalMinor,J=N.mirrorOffset,re=N.mirrorMinor,ne=B[_],ue=0;ue<3;++ue)if(_!==ue){var te=U,Q=J,ie=Z,Y=re;ne&1<<ue&&(te=J,Q=U,ie=re,Y=Z),te[ue]=O[0][ue],Q[ue]=O[1][ue],z[ue]>0?(ie[ue]=-1,Y[ue]=0):(ie[ue]=0,Y[ue]=1)}}var M=[0,0,0],A={model:u,view:u,projection:u,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(N){};var s=0,E=[0,0,0],b=[0,0,0],F=[0,0,0];x.draw=function(N){N=N||A;for(var j=this.gl,_=N.model||u,O=N.view||u,B=N.projection||u,z=this.bounds,U=N._ortho||!1,Z=f(_,O,B,z,U),J=Z.cubeEdges,re=Z.axis,ne=O[12],ue=O[13],te=O[14],Q=O[15],ie=U?2:1,Y=ie*this.pixelRatio*(B[3]*ne+B[7]*ue+B[11]*te+B[15]*Q)/j.drawingBufferHeight,$=0;$<3;++$)this.lastCubeProps.cubeEdges[$]=J[$],this.lastCubeProps.axis[$]=re[$];for(var oe=C,$=0;$<3;++$)y(C[$],$,this.bounds,J,re);for(var j=this.gl,X=M,$=0;$<3;++$)this.backgroundEnable[$]?X[$]=re[$]:X[$]=0;this._background.draw(_,O,B,z,X,this.backgroundColor),this._lines.bind(_,O,B,this);for(var $=0;$<3;++$){var se=[0,0,0];re[$]>0?se[$]=z[1][$]:se[$]=z[0][$];for(var q=0;q<2;++q){var ce=($+1+q)%3,ye=($+1+(q^1))%3;this.gridEnable[ce]&&this._lines.drawGrid(ce,ye,this.bounds,se,this.gridColor[ce],this.gridWidth[ce]*this.pixelRatio)}for(var q=0;q<2;++q){var ce=($+1+q)%3,ye=($+1+(q^1))%3;this.zeroEnable[ye]&&Math.min(z[0][ye],z[1][ye])<=0&&Math.max(z[0][ye],z[1][ye])>=0&&this._lines.drawZero(ce,ye,this.bounds,se,this.zeroLineColor[ye],this.zeroLineWidth[ye]*this.pixelRatio)}}for(var $=0;$<3;++$){this.lineEnable[$]&&this._lines.drawAxisLine($,this.bounds,oe[$].primalOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio),this.lineMirror[$]&&this._lines.drawAxisLine($,this.bounds,oe[$].mirrorOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio);for(var we=o(E,oe[$].primalMinor),be=o(b,oe[$].mirrorMinor),De=this.lineTickLength,q=0;q<3;++q){var ke=Y/_[5*q];we[q]*=De[q]*ke,be[q]*=De[q]*ke}this.lineTickEnable[$]&&this._lines.drawAxisTicks($,oe[$].primalOffset,we,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio),this.lineTickMirror[$]&&this._lines.drawAxisTicks($,oe[$].mirrorOffset,be,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio)}this._lines.unbind(),this._text.bind(_,O,B,this.pixelRatio);var Be,Ae=.5,Ie,Me;function Fe(qe){Me=[0,0,0],Me[qe]=1}function Ee(qe,ht,vt){var pt=(qe+1)%3,wt=(qe+2)%3,Mt=ht[pt],nt=ht[wt],_e=vt[pt],Ge=vt[wt];if(Mt>0&&Ge>0){Fe(pt);return}else if(Mt>0&&Ge<0){Fe(pt);return}else if(Mt<0&&Ge>0){Fe(pt);return}else if(Mt<0&&Ge<0){Fe(pt);return}else if(nt>0&&_e>0){Fe(wt);return}else if(nt>0&&_e<0){Fe(wt);return}else if(nt<0&&_e>0){Fe(wt);return}else if(nt<0&&_e<0){Fe(wt);return}}for(var $=0;$<3;++$){for(var He=oe[$].primalMinor,rt=oe[$].mirrorMinor,ot=o(F,oe[$].primalOffset),q=0;q<3;++q)this.lineTickEnable[$]&&(ot[q]+=Y*He[q]*Math.max(this.lineTickLength[q],0)/_[5*q]);var $e=[0,0,0];if($e[$]=1,this.tickEnable[$]){this.tickAngle[$]===-3600?(this.tickAngle[$]=0,this.tickAlign[$]="auto"):this.tickAlign[$]=-1,Ie=1,Be=[this.tickAlign[$],Ae,Ie],Be[0]==="auto"?Be[0]=s:Be[0]=parseInt(""+Be[0]),Me=[0,0,0],Ee($,He,rt);for(var q=0;q<3;++q)ot[q]+=Y*He[q]*this.tickPad[q]/_[5*q];this._text.drawTicks($,this.tickSize[$],this.tickAngle[$],ot,this.tickColor[$],$e,Me,Be)}if(this.labelEnable[$]){Ie=0,Me=[0,0,0],this.labels[$].length>4&&(Fe($),Ie=1),Be=[this.labelAlign[$],Ae,Ie],Be[0]==="auto"?Be[0]=s:Be[0]=parseInt(""+Be[0]);for(var q=0;q<3;++q)ot[q]+=Y*He[q]*this.labelPad[q]/_[5*q];ot[$]+=.5*(z[0][$]+z[1][$]),this._text.drawLabel($,this.labelSize[$],this.labelAngle[$],ot,this.labelColor[$],[0,0,0],Me,Be)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function I(N,_){var O=new d(N);return O.update(_),O}},5304:function(v,p,r){v.exports=u;var t=r(2762),a=r(8116),n=r(1879).bg;function f(g,h,T,c){this.gl=g,this.buffer=h,this.vao=T,this.shader=c}var l=f.prototype;l.draw=function(g,h,T,c,o,d){for(var x=!1,w=0;w<3;++w)x=x||o[w];if(x){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:h,projection:T,bounds:c,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(g){for(var h=[],T=[],c=0,o=0;o<3;++o)for(var d=(o+1)%3,x=(o+2)%3,w=[0,0,0],C=[0,0,0],y=-1;y<=1;y+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),w[o]=y,C[o]=y;for(var M=-1;M<=1;M+=2){w[d]=M;for(var A=-1;A<=1;A+=2)w[x]=A,h.push(w[0],w[1],w[2],C[0],C[1],C[2]),c+=1}var s=d;d=x,x=s}var E=t(g,new Float32Array(h)),b=t(g,new Uint16Array(T),g.ELEMENT_ARRAY_BUFFER),F=a(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],b),I=n(g);return I.attributes.position.location=0,I.attributes.normal.location=1,new f(g,E,F,I)}},6429:function(v,p,r){v.exports=y;var t=r(8828),a=r(6760),n=r(5202),f=r(3250),l=new Array(16),u=new Array(8),g=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var M=0;M<8;++M)u[M]=[1,1,1,1],g[M]=[1,1,1]})();function c(M,A,s){for(var E=0;E<4;++E){M[E]=s[12+E];for(var b=0;b<3;++b)M[E]+=A[b]*s[4*b+E]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(M){for(var A=0;A<o.length;++A)if(M=n.positive(M,o[A]),M.length<3)return 0;for(var s=M[0],E=s[0]/s[3],b=s[1]/s[3],F=0,A=1;A+1<M.length;++A){var I=M[A],N=M[A+1],_=I[0]/I[3],O=I[1]/I[3],B=N[0]/N[3],z=N[1]/N[3],U=_-E,Z=O-b,J=B-E,re=z-b;F+=Math.abs(U*re-Z*J)}return F}var x=[1,1,1],w=[0,0,0],C={cubeEdges:x,axis:w};function y(M,A,s,E,b){a(l,A,M),a(l,s,l);for(var F=0,I=0;I<2;++I){h[2]=E[I][2];for(var N=0;N<2;++N){h[1]=E[N][1];for(var _=0;_<2;++_)h[0]=E[_][0],c(u[F],h,l),F+=1}}for(var O=-1,I=0;I<8;++I){for(var B=u[I][3],z=0;z<3;++z)g[I][z]=u[I][z]/B;b&&(g[I][2]*=-1),B<0&&(O<0||g[I][2]<g[O][2])&&(O=I)}if(O<0){O=0;for(var U=0;U<3;++U){for(var Z=(U+2)%3,J=(U+1)%3,re=-1,ne=-1,ue=0;ue<2;++ue){var te=ue<<U,Q=te+(ue<<Z)+(1-ue<<J),ie=te+(1-ue<<Z)+(ue<<J);f(g[te],g[Q],g[ie],T)<0||(ue?re=1:ne=1)}if(re<0||ne<0){ne>re&&(O|=1<<U);continue}for(var ue=0;ue<2;++ue){var te=ue<<U,Q=te+(ue<<Z)+(1-ue<<J),ie=te+(1-ue<<Z)+(ue<<J),Y=d([u[te],u[Q],u[ie],u[te+(1<<Z)+(1<<J)]]);ue?re=Y:ne=Y}if(ne>re){O|=1<<U;continue}}}for(var $=7^O,oe=-1,I=0;I<8;++I)I===O||I===$||(oe<0||g[oe][1]>g[I][1])&&(oe=I);for(var j=-1,I=0;I<3;++I){var X=oe^1<<I;if(!(X===O||X===$)){j<0&&(j=X);var J=g[X];J[0]<g[j][0]&&(j=X)}}for(var se=-1,I=0;I<3;++I){var X=oe^1<<I;if(!(X===O||X===$||X===j)){se<0&&(se=X);var J=g[X];J[0]>g[se][0]&&(se=X)}}var q=x;q[0]=q[1]=q[2]=0,q[t.log2(j^oe)]=oe&j,q[t.log2(oe^se)]=oe&se;var ce=se^7;ce===O||ce===$?(ce=j^7,q[t.log2(se^ce)]=ce&se):q[t.log2(j^ce)]=ce&j;for(var ye=w,we=O,U=0;U<3;++U)we&1<<U?ye[U]=-1:ye[U]=1;return C}},501:function(v,p,r){v.exports=x;var t=r(2762),a=r(8116),n=r(1879).n,f=[0,0,0],l=[0,0,0],u=[0,0,0],g=[0,0,0],h=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function c(w,C){return w[0]=C[0],w[1]=C[1],w[2]=C[2],w}function o(w,C,y,M,A,s,E,b){this.gl=w,this.vertBuffer=C,this.vao=y,this.shader=M,this.tickCount=A,this.tickOffset=s,this.gridCount=E,this.gridOffset=b}var d=o.prototype;d.bind=function(w,C,y){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=C,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,C,y,M,A){var s=T(l);this.shader.uniforms.majorAxis=l,s[w]=C[1][w]-C[0][w],this.shader.uniforms.minorAxis=s;var E=c(g,y);E[w]+=C[0][w],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=M;var b=T(u);b[(w+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(u);b[(w+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,C,y,M,A){if(this.tickCount[w]){var s=T(f);s[w]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=A;var E=T(u);E[w]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,C,y,M,A,s){if(this.gridCount[w]){var E=T(l);E[C]=y[1][C]-y[0][C],this.shader.uniforms.minorAxis=E;var b=c(g,M);b[C]+=y[0][C],this.shader.uniforms.offset=b;var F=T(f);F[w]=1,this.shader.uniforms.majorAxis=F;var I=T(u);I[w]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,C,y,M,A,s){var E=T(l);this.shader.uniforms.majorAxis=E,E[w]=y[1][w]-y[0][w],this.shader.uniforms.minorAxis=E;var b=c(g,M);b[w]+=y[0][w],this.shader.uniforms.offset=b;var F=T(u);F[C]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(w,C,y){var M=[],A=[0,0,0],s=[0,0,0],E=[0,0,0],b=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var _=M.length/3|0,I=0;I<y[F].length;++I){var N=+y[F][I].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var B=M.length/3|0;A[F]=_,s[F]=B-_;for(var _=M.length/3|0,O=0;O<y[F].length;++O){var N=+y[F][O].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var B=M.length/3|0;E[F]=_,b[F]=B-_}var z=t(w,new Float32Array(M)),U=a(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),Z=n(w);return Z.attributes.position.location=0,new o(w,z,U,Z,s,A,b,E)}},1879:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(T){return a(T,n,f,null,[{name:"position",type:"vec3"}])};var l=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(T){return a(T,l,u,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return a(T,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=d;var t=r(2762),a=r(8116),n=r(4359),f=r(1879).Q,l=window||m.global||{},u=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};var g=3;function h(x,w,C,y){this.gl=x,this.shader=w,this.buffer=C,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(x,w,C,y){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=x,M.view=w,M.projection=C,M.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(x,w,C,y,M){var A=[];function s(U,Z,J,re,ne,ue){var te=[J.style,J.weight,J.variant,J.family].join("_"),Q=u[te];Q||(Q=u[te]={});var ie=Q[Z];ie||(ie=Q[Z]=o(Z,{triangles:!0,font:J.family,fontStyle:J.style,fontWeight:J.weight,fontVariant:J.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:ue}));for(var Y=(re||12)/12,$=ie.positions,oe=ie.cells,j=0,X=oe.length;j<X;++j)for(var se=oe[j],q=2;q>=0;--q){var ce=$[se[q]];A.push(Y*ce[0],-Y*ce[1],U)}}for(var E=[0,0,0],b=[0,0,0],F=[0,0,0],I=[0,0,0],N=1.25,_={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){F[O]=A.length/g|0,s(.5*(x[0][O]+x[1][O]),w[O],C[O],12,N,_),I[O]=(A.length/g|0)-F[O],E[O]=A.length/g|0;for(var B=0;B<y[O].length;++B)if(y[O][B].text){var z={family:y[O][B].font||M[O].family,style:M[O].fontStyle||M[O].style,weight:M[O].fontWeight||M[O].weight,variant:M[O].fontVariant||M[O].variant};s(y[O][B].x,y[O][B].text,z,y[O][B].fontSize||12,N,_)}b[O]=(A.length/g|0)-E[O]}this.buffer.update(A),this.tickOffset=E,this.tickCount=b,this.labelOffset=F,this.labelCount=I},T.drawTicks=function(x,w,C,y,M,A,s,E){this.tickCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=M,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,w,C,y,M,A,s,E){this.labelCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=M,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(x,w){try{return n(x,w)}catch(C){return console.warn('error vectorizing text:"'+x+'" error:',C),{cells:[],positions:[]}}}function d(x,w,C,y,M,A){var s=t(x),E=a(x,[{buffer:s,size:3}]),b=f(x);b.attributes.position.location=0;var F=new h(x,b,s,E);return F.update(w,C,y,M,A),F}},6444:function(v,p){p.create=t,p.equal=a;function r(n,f){var l=n+"",u=l.indexOf("."),g=0;u>=0&&(g=l.length-u-1);var h=Math.pow(10,g),T=Math.round(n*f*h),c=T+"";if(c.indexOf("e")>=0)return c;var o=T/h,d=T%h;T<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var x=""+o;if(T<0&&(x="-"+x),g){for(var w=""+d;w.length<g;)w="0"+w;return x+"."+w}else return x}function t(n,f){for(var l=[],u=0;u<3;++u){var g=[];.5*(n[0][u]+n[1][u]);for(var h=0;h*f[u]<=n[1][u];++h)g.push({x:h*f[u],text:r(f[u],h)});for(var h=-1;h*f[u]>=n[0][u];--h)g.push({x:h*f[u],text:r(f[u],h)});l.push(g)}return l}function a(n,f){for(var l=0;l<3;++l){if(n[l].length!==f[l].length)return!1;for(var u=0;u<n[l].length;++u){var g=n[l][u],h=f[l][u];if(g.x!==h.x||g.text!==h.text||g.font!==h.font||g.fontColor!==h.fontColor||g.fontSize!==h.fontSize||g.dx!==h.dx||g.dy!==h.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=C;var t=r(5033),a=r(5202),n=r(6429),f=r(6760),l=r(5665),u=r(5352),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(y,M,A){this.lo=y,this.hi=M,this.pixelsPerDataUnit=A}var c=[0,0,0,1],o=[0,0,0,1];function d(y,M,A,s,E){for(var b=0;b<3;++b){for(var F=c,I=o,N=0;N<3;++N)I[N]=F[N]=A[N];I[3]=F[3]=1,I[b]+=1,u(I,I,M),I[3]<0&&(y[b]=1/0),F[b]-=1,u(F,F,M),F[3]<0&&(y[b]=1/0);var _=(F[0]/F[3]-I[0]/I[3])*s,O=(F[1]/F[3]-I[1]/I[3])*E;y[b]=.25*Math.sqrt(_*_+O*O)}return y}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function C(y,M,A,s,O){var b=M.model||g,F=M.view||g,I=M.projection||g,N=M._ortho||!1,_=y.bounds,O=O||n(b,F,I,_,N),B=O.axis;f(h,F,b),f(h,I,h);for(var z=x,U=0;U<3;++U)z[U].lo=1/0,z[U].hi=-1/0,z[U].pixelsPerDataUnit=1/0;var Z=t(l(h,h));l(h,h);for(var J=0;J<3;++J){var re=(J+1)%3,ne=(J+2)%3,ue=w;e:for(var U=0;U<2;++U){var te=[];if(B[J]<0!=!!U){ue[J]=_[U][J];for(var Q=0;Q<2;++Q){ue[re]=_[Q^U][re];for(var ie=0;ie<2;++ie)ue[ne]=_[ie^Q^U][ne],te.push(ue.slice())}for(var Y=N?5:4,Q=Y;Q===Y;++Q){if(te.length===0)continue e;te=a.positive(te,Z[Q])}for(var Q=0;Q<te.length;++Q)for(var ne=te[Q],$=d(w,h,ne,A,s),ie=0;ie<3;++ie)z[ie].lo=Math.min(z[ie].lo,ne[ie]),z[ie].hi=Math.max(z[ie].hi,ne[ie]),ie!==J&&(z[ie].pixelsPerDataUnit=Math.min(z[ie].pixelsPerDataUnit,Math.abs($[ie])))}}}return z}},2762:function(v,p,r){var t=r(1888),a=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(o,d,x,w,C){this.gl=o,this.type=d,this.handle=x,this.length=w,this.usage=C}var u=l.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(o,d,x,w,C,y){var M=C.length*C.BYTES_PER_ELEMENT;if(y<0)return o.bufferData(d,C,w),M;if(M+y>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,y,C),x}function h(o,d){for(var x=t.malloc(o.length,d),w=o.length,C=0;C<w;++C)x[C]=o[C];return x}function T(o,d){for(var x=1,w=d.length-1;w>=0;--w){if(d[w]!==x)return!1;x*=o[w]}return!0}u.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var x=o.dtype;if(f.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&x!=="uint16"?x="uint32":x="uint16"}if(x===o.dtype&&T(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,o.data,d):this.length=g(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var C=t.malloc(o.size,x),y=n(C,o.shape);a.assign(y,o),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,o.size),d),t.free(C)}}else if(Array.isArray(o)){var M;this.type===this.gl.ELEMENT_ARRAY_BUFFER?M=h(o,"uint16"):M=h(o,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,M,d):this.length=g(this.gl,this.type,this.length,this.usage,M.subarray(0,o.length),d),t.free(M)}else if(typeof o=="object"&&typeof o.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,d,x,w){if(x=x||o.ARRAY_BUFFER,w=w||o.DYNAMIC_DRAW,x!==o.ARRAY_BUFFER&&x!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==o.DYNAMIC_DRAW&&w!==o.STATIC_DRAW&&w!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=o.createBuffer(),y=new l(o,x,C,0,w);return y.update(d),y}v.exports=c},6405:function(v,p,r){var t=r(2931);v.exports=function(n,f){var l=n.positions,u=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),g;for(var h=0,T=1/0,c=-1/0,o=1/0,d=-1/0,x=1/0,w=-1/0,C=null,y=null,M=[],A=1/0,s=!1,E=n.coneSizemode==="raw",b=0;b<l.length;b++){var F=l[b];T=Math.min(F[0],T),c=Math.max(F[0],c),o=Math.min(F[1],o),d=Math.max(F[1],d),x=Math.min(F[2],x),w=Math.max(F[2],w);var I=u[b];if(t.length(I)>h&&(h=t.length(I)),b&&!E){var N=2*t.distance(C,F)/(t.length(y)+t.length(I));N?(A=Math.min(A,N),s=!1):s=!0}s||(C=F,y=I),M.push(I)}var _=[T,o,x],O=[c,d,w];f&&(f[0]=_,f[1]=O),h===0&&(h=1);var B=1/h;isFinite(A)||(A=1),g.vectorScale=A;var z=n.coneSize||(E?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*B),g.coneScale=z;for(var b=0,U=0;b<l.length;b++)for(var F=l[b],Z=F[0],J=F[1],re=F[2],ne=M[b],ue=t.length(ne)*B,te=0,Q=8;te<Q;te++){g.positions.push([Z,J,re,U++]),g.positions.push([Z,J,re,U++]),g.positions.push([Z,J,re,U++]),g.positions.push([Z,J,re,U++]),g.positions.push([Z,J,re,U++]),g.positions.push([Z,J,re,U++]),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vertexIntensity.push(ue,ue,ue),g.vertexIntensity.push(ue,ue,ue);var ie=g.positions.length;g.cells.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}return g};var a=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:a,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),a=r(2762),n=r(8116),f=r(7766),l=r(6760),u=r(7608),g=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(M,A,s,E,b,F,I,N,_,O,B){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=s,this.pickShader=E,this.trianglePositions=b,this.triangleVectors=F,this.triangleColors=N,this.triangleUVs=_,this.triangleIds=I,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(M){this.pickId=M};function d(M){for(var A=h({colormap:M,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),E=0;E<256;++E){for(var b=A[E],F=0;F<3;++F)s[4*E+F]=b[F];s[4*E+3]=b[3]*255}return g(s,[256,256,4],[4,0,1])}function x(M){for(var A=M.length,s=new Array(A),E=0;E<A;++E)s[E]=M[E][2];return s}o.update=function(M){M=M||{};var A=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),M.tubeScale!==void 0&&(this.tubeScale=M.tubeScale),M.vectorScale!==void 0&&(this.vectorScale=M.vectorScale),M.coneScale!==void 0&&(this.coneScale=M.coneScale),M.coneOffset!==void 0&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(d(M.colormap)),this.texture.generateMipmap());var s=M.cells,E=M.positions,b=M.vectors;if(!(!E||!s||!b)){var F=[],I=[],N=[],_=[],O=[];this.cells=s,this.positions=E,this.vectors=b;var B=M.meshColor||[1,1,1,1],z=M.vertexIntensity,U=1/0,Z=-1/0;if(z)if(M.vertexIntensityBounds)U=+M.vertexIntensityBounds[0],Z=+M.vertexIntensityBounds[1];else for(var J=0;J<z.length;++J){var re=z[J];U=Math.min(U,re),Z=Math.max(Z,re)}else for(var J=0;J<E.length;++J){var re=E[J][2];U=Math.min(U,re),Z=Math.max(Z,re)}z?this.intensity=z:this.intensity=x(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<E.length;++J)for(var ne=E[J],ue=0;ue<3;++ue)isNaN(ne[ue])||!isFinite(ne[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ne[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ne[ue]));var te=0;e:for(var J=0;J<s.length;++J){var Q=s[J];switch(Q.length){case 3:for(var ue=0;ue<3;++ue)for(var ie=Q[ue],ne=E[ie],Y=0;Y<3;++Y)if(isNaN(ne[Y])||!isFinite(ne[Y]))continue e;for(var ue=0;ue<3;++ue){var ie=Q[2-ue],ne=E[ie];F.push(ne[0],ne[1],ne[2],ne[3]);var $=b[ie];I.push($[0],$[1],$[2],$[3]||0);var oe=B;oe.length===3?N.push(oe[0],oe[1],oe[2],1):N.push(oe[0],oe[1],oe[2],oe[3]);var j;z?j=[(z[ie]-U)/(Z-U),0]:j=[(ne[2]-U)/(Z-U),0],_.push(j[0],j[1]),O.push(J)}te+=1;break}}this.triangleCount=te,this.trianglePositions.update(F),this.triangleVectors.update(I),this.triangleColors.update(N),this.triangleUVs.update(_),this.triangleIds.update(new Uint32Array(O))}},o.drawTransparent=o.draw=function(M){M=M||{};for(var A=this.gl,s=M.model||T,E=M.view||T,b=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)F[0][I]=Math.max(F[0][I],this.clipBounds[0][I]),F[1][I]=Math.min(F[1][I],this.clipBounds[1][I]);var N={model:s,view:E,projection:b,inverseModel:T.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=u(N.inverseModel,N.model),A.disable(A.CULL_FACE),this.texture.bind(0);var _=new Array(16);l(_,N.view,N.model),l(_,N.projection,_),u(_,_);for(var I=0;I<3;++I)N.eyePosition[I]=_[12+I]/_[15];for(var O=_[15],I=0;I<3;++I)O+=this.lightPosition[I]*_[4*I+3];for(var I=0;I<3;++I){for(var B=_[12+I],z=0;z<3;++z)B+=_[4*z+I]*this.lightPosition[z];N.lightPosition[I]=B/O}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=N,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(M){M=M||{};for(var A=this.gl,s=M.model||T,E=M.view||T,b=M.projection||T,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)F[0][I]=Math.max(F[0][I],this.clipBounds[0][I]),F[1][I]=Math.min(F[1][I],this.clipBounds[1][I]);this._model=[].slice.call(s),this._view=[].slice.call(E),this._projection=[].slice.call(b),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var N={model:s,view:E,projection:b,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},_=this.pickShader;_.bind(),_.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(M){if(!M||M.id!==this.pickId)return null;var A=M.value[0]+256*M.value[1]+65536*M.value[2],s=this.cells[A],E=this.positions[s[1]].slice(0,3),b={position:E,dataCoordinate:E,index:Math.floor(s[1]/48)};return this.traceType==="cone"?b.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[s[1]],b.velocity=this.vectors[s[1]].slice(0,3),b.divergence=this.vectors[s[1]][3],b.index=A),b},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(M,A){var s=t(M,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function C(M,A){var s=t(M,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function y(M,A,s){var E=s.shaders;arguments.length===1&&(A=M,M=A.gl);var b=w(M,E),F=C(M,E),I=f(M,g(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=M.LINEAR_MIPMAP_LINEAR,I.magFilter=M.LINEAR;var N=a(M),_=a(M),O=a(M),B=a(M),z=a(M),U=n(M,[{buffer:N,type:M.FLOAT,size:4},{buffer:z,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:M.FLOAT,size:4},{buffer:B,type:M.FLOAT,size:2},{buffer:_,type:M.FLOAT,size:4}]),Z=new c(M,I,b,F,N,_,z,O,B,U,s.traceType||"cone");return Z.update(A),Z}v.exports=y},614:function(v,p,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,p,r){v.exports=c;var t=r(2762),a=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(o,d,x,w){this.gl=o,this.shader=w,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var w=x.view=o.view||f,C=x.projection=o.projection||f;x.model=o.model||f,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var y=w[12],M=w[13],A=w[14],s=w[15],E=o._ortho||!1,b=E?2:1,F=b*this.pixelRatio*(C[3]*y+C[7]*M+C[11]*A+C[15]*s)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),x.capSize=this.capSize[I]*F,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function g(o,d){for(var x=0;x<3;++x)o[0][x]=Math.min(o[0][x],d[x]),o[1][x]=Math.max(o[1][x],d[x])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var x=[],w=1;w<=2;++w)for(var C=-1;C<=1;C+=2){var y=(w+d)%3,M=[0,0,0];M[y]=C,x.push(M)}o[d]=x}return o}();function T(o,d,x,w){for(var C=h[w],y=0;y<C.length;++y){var M=C[y];o.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],M[0],M[1],M[2])}return C.length}u.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],x=o.position,w=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&w){var C=[],y=x.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=M;e:for(var s=0;s<y;++s){for(var E=x[s],b=0;b<3;++b)if(isNaN(E[b])||!isFinite(E[b]))continue e;var F=w[s],I=d[A];if(Array.isArray(I[0])&&(I=d[s]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(F[0][A])||isNaN(F[1][A]))){if(F[0][A]<0){var N=E.slice();N[A]+=F[0][A],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,N),M+=2+T(C,N,I,A)}if(F[1][A]>0){var N=E.slice();N[A]+=F[1][A],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,N),M+=2+T(C,N,I,A)}}}this.lineCount[A]=M-this.lineOffset[A]}this.buffer.update(C)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var d=o.gl,x=t(d),w=a(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var y=new l(d,x,w,C);return y.update(o),y}},3436:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(l){return a(l,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=M;var a=null,n,f,l,u;function g(A){var s=A.getParameter(A.FRAMEBUFFER_BINDING),E=A.getParameter(A.RENDERBUFFER_BINDING),b=A.getParameter(A.TEXTURE_BINDING_2D);return[s,E,b]}function h(A,s){A.bindFramebuffer(A.FRAMEBUFFER,s[0]),A.bindRenderbuffer(A.RENDERBUFFER,s[1]),A.bindTexture(A.TEXTURE_2D,s[2])}function T(A,s){var E=A.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);a=new Array(E+1);for(var b=0;b<=E;++b){for(var F=new Array(E),I=0;I<b;++I)F[I]=A.COLOR_ATTACHMENT0+I;for(var I=b;I<E;++I)F[I]=A.NONE;a[b]=F}}function c(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(A,s,E,b,F,I){if(!b)return null;var N=t(A,s,E,F,b);return N.magFilter=A.NEAREST,N.minFilter=A.NEAREST,N.mipSamples=1,N.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,I,A.TEXTURE_2D,N.handle,0),N}function d(A,s,E,b,F){var I=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,I),A.renderbufferStorage(A.RENDERBUFFER,b,s,E),A.framebufferRenderbuffer(A.FRAMEBUFFER,F,A.RENDERBUFFER,I),I}function x(A){var s=g(A.gl),E=A.gl,b=A.handle=E.createFramebuffer(),F=A._shape[0],I=A._shape[1],N=A.color.length,_=A._ext,O=A._useStencil,B=A._useDepth,z=A._colorType;E.bindFramebuffer(E.FRAMEBUFFER,b);for(var U=0;U<N;++U)A.color[U]=o(E,F,I,z,E.RGBA,E.COLOR_ATTACHMENT0+U);N===0?(A._color_rb=d(E,F,I,E.RGBA4,E.COLOR_ATTACHMENT0),_&&_.drawBuffersWEBGL(a[0])):N>1&&_.drawBuffersWEBGL(a[N]);var Z=E.getExtension("WEBGL_depth_texture");Z?O?A.depth=o(E,F,I,Z.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B&&(A.depth=o(E,F,I,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):B&&O?A._depth_rb=d(E,F,I,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B?A._depth_rb=d(E,F,I,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):O&&(A._depth_rb=d(E,F,I,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var J=E.checkFramebufferStatus(E.FRAMEBUFFER);if(J!==E.FRAMEBUFFER_COMPLETE){A._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(E.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var U=0;U<A.color.length;++U)A.color[U].dispose(),A.color[U]=null;A._color_rb&&(E.deleteRenderbuffer(A._color_rb),A._color_rb=null),h(E,s),c(J)}h(E,s)}function w(A,s,E,b,F,I,N,_){this.gl=A,this._shape=[s|0,E|0],this._destroyed=!1,this._ext=_,this.color=new Array(F);for(var O=0;O<F;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=I,this._useStencil=N;var B=this,z=[s|0,E|0];Object.defineProperties(z,{0:{get:function(){return B._shape[0]},set:function(U){return B.width=U}},1:{get:function(){return B._shape[1]},set:function(U){return B.height=U}}}),this._shapeVector=z,x(this)}var C=w.prototype;function y(A,s,E){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===s&&A._shape[1]===E)){var b=A.gl,F=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>F||E<0||E>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=s,A._shape[1]=E;for(var I=g(b),N=0;N<A.color.length;++N)A.color[N].shape=A._shape;A._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,A._shape[0],A._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,A.handle);var _=b.checkFramebufferStatus(b.FRAMEBUFFER);_!==b.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(b,I),c(_)),h(b,I)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=A[0]|0,E=A[1]|0;return y(this,s,E),[s,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,y(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,y(this,this._shape[0],A),A},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function M(A,s,E,b){n||(n=A.FRAMEBUFFER_UNSUPPORTED,f=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=A.getExtension("WEBGL_draw_buffers");if(!a&&F&&T(A,F),Array.isArray(s)&&(b=E,E=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var I=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(s<0||s>I||E<0||E>I)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var N=1;if("color"in b){if(N=Math.max(b.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(F){if(N>A.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var _=A.UNSIGNED_BYTE,O=A.getExtension("OES_texture_float");if(b.float&&N>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");_=A.FLOAT}else b.preferFloat&&N>0&&O&&(_=A.FLOAT);var B=!0;"depth"in b&&(B=!!b.depth);var z=!1;return"stencil"in b&&(z=!!b.stencil),new w(A,s,E,_,N,B,z,F)}},2992:function(v,p,r){var t=r(3387).sprintf,a=r(5171),n=r(1848),f=r(1085);v.exports=l;function l(u,g,h){var T=n(g)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,T),d=t("%s%s",o,u),x=u.split(`
`),w={},C=0;C<x.length;C++){var y=x[C];if(!(y===""||y==="\0")){var M=parseInt(y.split(":")[2]);if(isNaN(M))throw new Error(t("Could not parse error: %s",y));w[M]=y}}for(var A=f(g).split(`
`),C=0;C<A.length;C++)if(!(!w[C+3]&&!w[C+2]&&!w[C+1])){var s=A[C];if(o+=s+`
`,w[C+1]){var E=w[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,E)}}return{long:o.trim(),short:d.trim()}}},2510:function(v,p,r){v.exports=c;var t=r(2478),a=r(7762),n=r(1888),f=r(9405),l=r(2762),u=r(6768);function g(o,d,x,w,C,y,M){this.plot=o,this.shader=d,this.pickShader=x,this.positionBuffer=w,this.weightBuffer=C,this.colorBuffer=y,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=g.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,w=this.bounds,C=this.numVertices;if(!(C<=0)){var y=d.gl,M=d.dataBox,A=w[2]-w[0],s=w[3]-w[1],E=M[2]-M[0],b=M[3]-M[1];o[0]=2*A/E,o[4]=2*s/b,o[6]=2*(w[0]-M[0])/E-1,o[7]=2*(w[1]-M[1])/b-1,x.bind();var F=x.uniforms;F.viewTransform=o,F.shape=this.shape;var I=x.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,C)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var w=this.plot,C=this.pickShader,y=this.bounds,M=this.numVertices;if(!(M<=0)){var A=w.gl,s=w.dataBox,E=y[2]-y[0],b=y[3]-y[1],F=s[2]-s[0],I=s[3]-s[1];o[0]=2*E/F,o[4]=2*b/I,o[6]=2*(y[0]-s[0])/F-1,o[7]=2*(y[1]-s[1])/I-1;for(var N=0;N<4;++N)d[N]=x>>N*8&255;this.pickOffset=x,C.bind();var _=C.uniforms;_.viewTransform=o,_.pickOffset=d,_.shape=this.shape;var O=C.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,M),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,x){var w=this.pickOffset,C=this.shape[0]*this.shape[1];if(x<w||x>=w+C)return null;var y=x-w,M=this.xData,A=this.yData;return{object:this,pointId:y,dataCoord:[M[y%this.shape[0]],A[y/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],x=o.x||a(d[0]),w=o.y||a(d[1]),C=o.z||new Float32Array(d[0]*d[1]),y=o.zsmooth!==!1;this.xData=x,this.yData=w;var M=o.colorLevels||[0],A=o.colorValues||[0,0,0,1],s=M.length,E=this.bounds,b,F,I,N;y?(b=E[0]=x[0],F=E[1]=w[0],I=E[2]=x[x.length-1],N=E[3]=w[w.length-1]):(b=E[0]=x[0]+(x[1]-x[0])/2,F=E[1]=w[0]+(w[1]-w[0])/2,I=E[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,N=E[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var _=1/(I-b),O=1/(N-F),B=d[0],z=d[1];this.shape=[B,z];var U=(y?(B-1)*(z-1):B*z)*(T.length>>>1);this.numVertices=U;for(var Z=n.mallocUint8(U*4),J=n.mallocFloat32(U*2),re=n.mallocUint8(U*2),ne=n.mallocUint32(U),ue=0,te=y?B-1:B,Q=y?z-1:z,ie=0;ie<Q;++ie){var Y,$;y?(Y=O*(w[ie]-F),$=O*(w[ie+1]-F)):(Y=ie<z-1?O*(w[ie]-(w[ie+1]-w[ie])/2-F):O*(w[ie]-(w[ie]-w[ie-1])/2-F),$=ie<z-1?O*(w[ie]+(w[ie+1]-w[ie])/2-F):O*(w[ie]+(w[ie]-w[ie-1])/2-F));for(var oe=0;oe<te;++oe){var j,X;y?(j=_*(x[oe]-b),X=_*(x[oe+1]-b)):(j=oe<B-1?_*(x[oe]-(x[oe+1]-x[oe])/2-b):_*(x[oe]-(x[oe]-x[oe-1])/2-b),X=oe<B-1?_*(x[oe]+(x[oe+1]-x[oe])/2-b):_*(x[oe]+(x[oe]-x[oe-1])/2-b));for(var se=0;se<T.length;se+=2){var q=T[se],ce=T[se+1],ye=y?(ie+ce)*B+(oe+q):ie*B+oe,we=C[ye],be=t.le(M,we),De,ke,Be,Ae;if(be<0)De=A[0],ke=A[1],Be=A[2],Ae=A[3];else if(be===s-1)De=A[4*s-4],ke=A[4*s-3],Be=A[4*s-2],Ae=A[4*s-1];else{var Ie=(we-M[be])/(M[be+1]-M[be]),Me=1-Ie,Fe=4*be,Ee=4*(be+1);De=Me*A[Fe]+Ie*A[Ee],ke=Me*A[Fe+1]+Ie*A[Ee+1],Be=Me*A[Fe+2]+Ie*A[Ee+2],Ae=Me*A[Fe+3]+Ie*A[Ee+3]}Z[4*ue]=255*De,Z[4*ue+1]=255*ke,Z[4*ue+2]=255*Be,Z[4*ue+3]=255*Ae,J[2*ue]=j*.5+X*.5,J[2*ue+1]=Y*.5+$*.5,re[2*ue]=q,re[2*ue+1]=ce,ne[ue]=ie*B+oe,ue+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(re),this.colorBuffer.update(Z),this.idBuffer.update(ne),n.free(J),n.free(Z),n.free(re),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,d){var x=o.gl,w=f(x,u.vertex,u.fragment),C=f(x,u.pickVertex,u.pickFragment),y=l(x),M=l(x),A=l(x),s=l(x),E=new g(o,w,C,y,M,A,s);return E.update(d),o.addObject(E),E}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return a(g,n,f,null,u)},p.createPickShader=function(g){return a(g,n,l,null,u)}},5714:function(v,p,r){v.exports=A;var t=r(2762),a=r(8116),n=r(7766),f=new Uint8Array(4),l=new Float32Array(f.buffer);function u(s,E,b,F){return f[0]=F,f[1]=b,f[2]=E,f[3]=s,l[0]}var g=r(2478),h=r(9618),T=r(7319),c=T.createShader,o=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(s,E){for(var b=0,F=0;F<3;++F){var I=s[F]-E[F];b+=I*I}return Math.sqrt(b)}function w(s){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)E[0][b]=Math.max(s[0][b],E[0][b]),E[1][b]=Math.min(s[1][b],E[1][b]);return E}function C(s,E,b,F){this.arcLength=s,this.position=E,this.index=b,this.dataCoordinate=F}function y(s,E,b,F,I,N){this.gl=s,this.shader=E,this.pickShader=b,this.buffer=F,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=y.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(s){this.pickId=s},M.drawTransparent=M.draw=function(s){if(this.vertexCount){var E=this.gl,b=this.shader,F=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(E.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.drawPick=function(s){if(this.vertexCount){var E=this.gl,b=this.pickShader,F=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(E.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},M.update=function(s){var E,b;this.dirty=!0;var F=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],N=[],_=[],O=0,B=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=s.position||s.positions;if(U){var Z=s.color||s.colors||[0,0,0,1],J=s.lineWidth||1,re=!1;e:for(E=1;E<U.length;++E){var ne=U[E-1],ue=U[E];for(N.push(O),_.push(ne.slice()),b=0;b<3;++b){if(isNaN(ne[b])||isNaN(ue[b])||!isFinite(ne[b])||!isFinite(ue[b])){if(!F&&I.length>0){for(var te=0;te<24;++te)I.push(I[I.length-12]);B+=2,re=!0}continue e}z[0][b]=Math.min(z[0][b],ne[b],ue[b]),z[1][b]=Math.max(z[1][b],ne[b],ue[b])}var Q,ie;Array.isArray(Z[0])?(Q=Z.length>E-1?Z[E-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1],ie=Z.length>E?Z[E]:Z.length>0?Z[Z.length-1]:[0,0,0,1]):Q=ie=Z,Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),!this.hasAlpha&&Q[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(J)?Y=J.length>E-1?J[E-1]:J.length>0?J[J.length-1]:[0,0,0,1]:Y=J;var $=O;if(O+=x(ne,ue),re){for(b=0;b<2;++b)I.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],$,Y,Q[0],Q[1],Q[2],Q[3]);B+=2,re=!1}I.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],$,Y,Q[0],Q[1],Q[2],Q[3],ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],$,-Y,Q[0],Q[1],Q[2],Q[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],O,-Y,ie[0],ie[1],ie[2],ie[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],O,Y,ie[0],ie[1],ie[2],ie[3]),B+=4}}if(this.buffer.update(I),N.push(O),_.push(U[U.length-1].slice()),this.bounds=z,this.vertexCount=B,this.points=_,this.arcLength=N,"dashes"in s){var oe=s.dashes,j=oe.slice();for(j.unshift(0),E=1;E<j.length;++E)j[E]=j[E-1]+j[E];var X=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(b=0;b<4;++b)X.set(E,0,b,0);g.le(j,j[j.length-1]*E/255)&1?X.set(E,0,0,0):X.set(E,0,0,255)}this.texture.setPixels(X)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(s){if(!s||s.id!==this.pickId)return null;var E=u(s.value[0],s.value[1],s.value[2],0),b=g.le(this.arcLength,E);if(b<0)return null;if(b===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var F=this.points[b],I=this.points[Math.min(b+1,this.points.length-1)],N=(E-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),_=1-N,O=[0,0,0],B=0;B<3;++B)O[B]=_*F[B]+N*I[B];var z=Math.min(N<.5?b:b+1,this.points.length-1);return new C(E,O,z,this.points[z])};function A(s){var E=s.gl||s.scene&&s.scene.gl,b=c(E);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var F=o(E);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var I=t(E),N=a(E,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),_=h(new Array(256*4),[256,1,4]),O=0;O<1024;++O)_.data[O]=255;var B=n(E,_);B.wrap=E.REPEAT;var z=new y(E,b,F,I,N,B);return z.update(s),z}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3],l=r[4],u=r[5],g=r[6],h=r[7],T=r[8],c=r[9],o=r[10],d=r[11],x=r[12],w=r[13],C=r[14],y=r[15],M=t*u-a*l,A=t*g-n*l,s=t*h-f*l,E=a*g-n*u,b=a*h-f*u,F=n*h-f*g,I=T*w-c*x,N=T*C-o*x,_=T*y-d*x,O=c*C-o*w,B=c*y-d*w,z=o*y-d*C;return M*z-A*B+s*O+E*_-b*N+F*I}},7399:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],l=t[3],u=a+a,g=n+n,h=f+f,T=a*u,c=n*u,o=n*g,d=f*u,x=f*g,w=f*h,C=l*u,y=l*g,M=l*h;return r[0]=1-o-w,r[1]=c+M,r[2]=d-y,r[3]=0,r[4]=c-M,r[5]=1-T-w,r[6]=x+C,r[7]=0,r[8]=d+y,r[9]=x-C,r[10]=1-T-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=t[3],g=n+n,h=f+f,T=l+l,c=n*g,o=n*h,d=n*T,x=f*h,w=f*T,C=l*T,y=u*g,M=u*h,A=u*T;return r[0]=1-(x+C),r[1]=o+A,r[2]=d-M,r[3]=0,r[4]=o-A,r[5]=1-(c+C),r[6]=w+y,r[7]=0,r[8]=d+M,r[9]=w-y,r[10]=1-(c+x),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],l=t[3],u=t[4],g=t[5],h=t[6],T=t[7],c=t[8],o=t[9],d=t[10],x=t[11],w=t[12],C=t[13],y=t[14],M=t[15],A=a*g-n*u,s=a*h-f*u,E=a*T-l*u,b=n*h-f*g,F=n*T-l*g,I=f*T-l*h,N=c*C-o*w,_=c*y-d*w,O=c*M-x*w,B=o*y-d*C,z=o*M-x*C,U=d*M-x*y,Z=A*U-s*z+E*B+b*O-F*_+I*N;return Z?(Z=1/Z,r[0]=(g*U-h*z+T*B)*Z,r[1]=(f*z-n*U-l*B)*Z,r[2]=(C*I-y*F+M*b)*Z,r[3]=(d*F-o*I-x*b)*Z,r[4]=(h*O-u*U-T*_)*Z,r[5]=(a*U-f*O+l*_)*Z,r[6]=(y*E-w*I-M*s)*Z,r[7]=(c*I-d*E+x*s)*Z,r[8]=(u*z-g*O+T*N)*Z,r[9]=(n*O-a*z-l*N)*Z,r[10]=(w*F-C*E+M*A)*Z,r[11]=(o*E-c*F-x*A)*Z,r[12]=(g*_-u*B-h*N)*Z,r[13]=(a*B-n*_+f*N)*Z,r[14]=(C*s-w*b-y*A)*Z,r[15]=(c*b-o*s+d*A)*Z,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=a;function a(n,f,l,u){var g,h,T,c,o,d,x,w,C,y,M=f[0],A=f[1],s=f[2],E=u[0],b=u[1],F=u[2],I=l[0],N=l[1],_=l[2];return Math.abs(M-I)<1e-6&&Math.abs(A-N)<1e-6&&Math.abs(s-_)<1e-6?t(n):(x=M-I,w=A-N,C=s-_,y=1/Math.sqrt(x*x+w*w+C*C),x*=y,w*=y,C*=y,g=b*C-F*w,h=F*x-E*C,T=E*w-b*x,y=Math.sqrt(g*g+h*h+T*T),y?(y=1/y,g*=y,h*=y,T*=y):(g=0,h=0,T=0),c=w*T-C*h,o=C*g-x*T,d=x*h-w*g,y=Math.sqrt(c*c+o*o+d*d),y?(y=1/y,c*=y,o*=y,d*=y):(c=0,o=0,d=0),n[0]=g,n[1]=c,n[2]=x,n[3]=0,n[4]=h,n[5]=o,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*M+h*A+T*s),n[13]=-(c*M+o*A+d*s),n[14]=-(x*M+w*A+C*s),n[15]=1,n)}},6760:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=t[3],g=t[4],h=t[5],T=t[6],c=t[7],o=t[8],d=t[9],x=t[10],w=t[11],C=t[12],y=t[13],M=t[14],A=t[15],s=a[0],E=a[1],b=a[2],F=a[3];return r[0]=s*n+E*g+b*o+F*C,r[1]=s*f+E*h+b*d+F*y,r[2]=s*l+E*T+b*x+F*M,r[3]=s*u+E*c+b*w+F*A,s=a[4],E=a[5],b=a[6],F=a[7],r[4]=s*n+E*g+b*o+F*C,r[5]=s*f+E*h+b*d+F*y,r[6]=s*l+E*T+b*x+F*M,r[7]=s*u+E*c+b*w+F*A,s=a[8],E=a[9],b=a[10],F=a[11],r[8]=s*n+E*g+b*o+F*C,r[9]=s*f+E*h+b*d+F*y,r[10]=s*l+E*T+b*x+F*M,r[11]=s*u+E*c+b*w+F*A,s=a[12],E=a[13],b=a[14],F=a[15],r[12]=s*n+E*g+b*o+F*C,r[13]=s*f+E*h+b*d+F*y,r[14]=s*l+E*T+b*x+F*M,r[15]=s*u+E*c+b*w+F*A,r}},4040:function(v){v.exports=p;function p(r,t,a,n,f,l,u){var g=1/(t-a),h=1/(n-f),T=1/(l-u);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+a)*g,r[13]=(f+n)*h,r[14]=(u+l)*T,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,a,n,f){var l=1/Math.tan(t/2),u=1/(n-f);return r[0]=l/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*u,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*u,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,a,n){var f=n[0],l=n[1],u=n[2],g=Math.sqrt(f*f+l*l+u*u),h,T,c,o,d,x,w,C,y,M,A,s,E,b,F,I,N,_,O,B,z,U,Z,J;return Math.abs(g)<1e-6?null:(g=1/g,f*=g,l*=g,u*=g,h=Math.sin(a),T=Math.cos(a),c=1-T,o=t[0],d=t[1],x=t[2],w=t[3],C=t[4],y=t[5],M=t[6],A=t[7],s=t[8],E=t[9],b=t[10],F=t[11],I=f*f*c+T,N=l*f*c+u*h,_=u*f*c-l*h,O=f*l*c-u*h,B=l*l*c+T,z=u*l*c+f*h,U=f*u*c+l*h,Z=l*u*c-f*h,J=u*u*c+T,r[0]=o*I+C*N+s*_,r[1]=d*I+y*N+E*_,r[2]=x*I+M*N+b*_,r[3]=w*I+A*N+F*_,r[4]=o*O+C*B+s*z,r[5]=d*O+y*B+E*z,r[6]=x*O+M*B+b*z,r[7]=w*O+A*B+F*z,r[8]=o*U+C*Z+s*J,r[9]=d*U+y*Z+E*J,r[10]=x*U+M*Z+b*J,r[11]=w*U+A*Z+F*J,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),l=t[4],u=t[5],g=t[6],h=t[7],T=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=l*f+T*n,r[5]=u*f+c*n,r[6]=g*f+o*n,r[7]=h*f+d*n,r[8]=T*f-l*n,r[9]=c*f-u*n,r[10]=o*f-g*n,r[11]=d*f-h*n,r}},2408:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),l=t[0],u=t[1],g=t[2],h=t[3],T=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=l*f-T*n,r[1]=u*f-c*n,r[2]=g*f-o*n,r[3]=h*f-d*n,r[8]=l*n+T*f,r[9]=u*n+c*f,r[10]=g*n+o*f,r[11]=h*n+d*f,r}},7089:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),l=t[0],u=t[1],g=t[2],h=t[3],T=t[4],c=t[5],o=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=l*f+T*n,r[1]=u*f+c*n,r[2]=g*f+o*n,r[3]=h*f+d*n,r[4]=T*f-l*n,r[5]=c*f-u*n,r[6]=o*f-g*n,r[7]=d*f-h*n,r}},2504:function(v){v.exports=p;function p(r,t,a){var n=a[0],f=a[1],l=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*l,r[9]=t[9]*l,r[10]=t[10]*l,r[11]=t[11]*l,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,a){var n=a[0],f=a[1],l=a[2],u,g,h,T,c,o,d,x,w,C,y,M;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*l+t[12],r[13]=t[1]*n+t[5]*f+t[9]*l+t[13],r[14]=t[2]*n+t[6]*f+t[10]*l+t[14],r[15]=t[3]*n+t[7]*f+t[11]*l+t[15]):(u=t[0],g=t[1],h=t[2],T=t[3],c=t[4],o=t[5],d=t[6],x=t[7],w=t[8],C=t[9],y=t[10],M=t[11],r[0]=u,r[1]=g,r[2]=h,r[3]=T,r[4]=c,r[5]=o,r[6]=d,r[7]=x,r[8]=w,r[9]=C,r[10]=y,r[11]=M,r[12]=u*n+c*f+w*l+t[12],r[13]=g*n+o*f+C*l+t[13],r[14]=h*n+d*f+y*l+t[14],r[15]=T*n+x*f+M*l+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var a=t[1],n=t[2],f=t[3],l=t[6],u=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=l,r[11]=t[14],r[12]=f,r[13]=u,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),a=r(9346);v.exports=g;function n(h,T){for(var c=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)c[d]+=h[4*o+d]*T[o];return c}function f(h,T,c,o,d){for(var x=n(o,n(c,n(T,[h[0],h[1],h[2],1]))),w=0;w<3;++w)x[w]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function l(h,T){if(h.length===2){for(var c=0,o=0,d=0;d<2;++d)c+=Math.pow(T[d]-h[0][d],2),o+=Math.pow(T[d]-h[1][d],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var x=[0,0];return a(h[0],h[1],h[2],T,x),t(h,x)}return[]}function u(h,T){for(var c=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],x=T[o],w=0;w<3;++w)c[w]+=x*d[w];return c}function g(h,T,c,o,d,x){if(h.length===1)return[0,h[0].slice()];for(var w=new Array(h.length),C=0;C<h.length;++C)w[C]=f(h[C],c,o,d,x);for(var y=0,M=1/0,C=0;C<w.length;++C){for(var A=0,s=0;s<2;++s)A+=Math.pow(w[C][s]-T[s],2);A<M&&(M=A,y=C)}for(var E=l(w,T),b=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;b+=E[C]}return Math.abs(b-1)>.001?null:[y,u(h,E),E]}},840:function(v,p,r){var t=r(3236),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:u,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,a=1e-6,n=r(9405),f=r(2762),l=r(8116),u=r(7766),g=r(8406),h=r(6760),T=r(7608),c=r(9618),o=r(6729),d=r(7765),x=r(1888),w=r(840),C=r(7626),y=w.meshShader,M=w.wireShader,A=w.pointShader,s=w.pickShader,E=w.pointPickShader,b=w.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(te,Q,ie,Y,$,oe,j,X,se,q,ce,ye,we,be,De,ke,Be,Ae,Ie,Me,Fe,Ee,He,rt,ot,$e,qe){this.gl=te,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Q,this.dirty=!0,this.triShader=ie,this.lineShader=Y,this.pointShader=$,this.pickShader=oe,this.pointPickShader=j,this.contourShader=X,this.trianglePositions=se,this.triangleColors=ce,this.triangleNormals=we,this.triangleUVs=ye,this.triangleIds=q,this.triangleVAO=be,this.triangleCount=0,this.lineWidth=1,this.edgePositions=De,this.edgeColors=Be,this.edgeUVs=Ae,this.edgeIds=ke,this.edgeVAO=Ie,this.edgeCount=0,this.pointPositions=Me,this.pointColors=Ee,this.pointUVs=He,this.pointSizes=rt,this.pointIds=Fe,this.pointVAO=ot,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var N=I.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(te){this.pickId=te};function _(te,Q){if(!Q||!Q.length)return 1;for(var ie=0;ie<Q.length;++ie){if(Q.length<2)return 1;if(Q[ie][0]===te)return Q[ie][1];if(Q[ie][0]>te&&ie>0){var Y=(Q[ie][0]-te)/(Q[ie][0]-Q[ie-1][0]);return Q[ie][1]*(1-Y)+Y*Q[ie-1][1]}}return 1}function O(te,Q){for(var ie=o({colormap:te,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),$=0;$<256;++$){for(var oe=ie[$],j=0;j<3;++j)Y[4*$+j]=oe[j];Q?Y[4*$+3]=255*_($/255,Q):Y[4*$+3]=255*oe[3]}return c(Y,[256,256,4],[4,0,1])}function B(te){for(var Q=te.length,ie=new Array(Q),Y=0;Y<Q;++Y)ie[Y]=te[Y][2];return ie}N.highlight=function(te){if(!te||!this.contourEnable){this.contourCount=0;return}for(var Q=d(this.cells,this.intensity,te.intensity),ie=Q.cells,Y=Q.vertexIds,$=Q.vertexWeights,oe=ie.length,j=x.mallocFloat32(2*3*oe),X=0,se=0;se<oe;++se)for(var q=ie[se],ce=0;ce<2;++ce){var ye=q[0];q.length===2&&(ye=q[ce]);for(var we=Y[ye][0],be=Y[ye][1],De=$[ye],ke=1-De,Be=this.positions[we],Ae=this.positions[be],Ie=0;Ie<3;++Ie)j[X++]=De*Be[Ie]+ke*Ae[Ie]}this.contourCount=X/3|0,this.contourPositions.update(j.subarray(0,X)),x.free(j)},N.update=function(te){te=te||{};var Q=this.gl;this.dirty=!0,"contourEnable"in te&&(this.contourEnable=te.contourEnable),"contourColor"in te&&(this.contourColor=te.contourColor),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"lightPosition"in te&&(this.lightPosition=te.lightPosition),this.hasAlpha=!1,"opacity"in te&&(this.opacity=te.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in te&&(this.opacityscale=te.opacityscale,this.hasAlpha=!0),"ambient"in te&&(this.ambientLight=te.ambient),"diffuse"in te&&(this.diffuseLight=te.diffuse),"specular"in te&&(this.specularLight=te.specular),"roughness"in te&&(this.roughness=te.roughness),"fresnel"in te&&(this.fresnel=te.fresnel),te.texture?(this.texture.dispose(),this.texture=u(Q,te.texture)):te.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Q.LINEAR,this.texture.setPixels(O(te.colormap,this.opacityscale)),this.texture.generateMipmap());var ie=te.cells,Y=te.positions;if(!(!Y||!ie)){var $=[],oe=[],j=[],X=[],se=[],q=[],ce=[],ye=[],we=[],be=[],De=[],ke=[],Be=[],Ae=[];this.cells=ie,this.positions=Y;var Ie=te.vertexNormals,Me=te.cellNormals,Fe=te.vertexNormalsEpsilon===void 0?t:te.vertexNormalsEpsilon,Ee=te.faceNormalsEpsilon===void 0?a:te.faceNormalsEpsilon;te.useFacetNormals&&!Me&&(Me=g.faceNormals(ie,Y,Ee)),!Me&&!Ie&&(Ie=g.vertexNormals(ie,Y,Fe));var He=te.vertexColors,rt=te.cellColors,ot=te.meshColor||[1,1,1,1],$e=te.vertexUVs,qe=te.vertexIntensity,ht=te.cellUVs,vt=te.cellIntensity,pt=1/0,wt=-1/0;if(!$e&&!ht)if(qe)if(te.vertexIntensityBounds)pt=+te.vertexIntensityBounds[0],wt=+te.vertexIntensityBounds[1];else for(var Mt=0;Mt<qe.length;++Mt){var nt=qe[Mt];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}else if(vt)if(te.cellIntensityBounds)pt=+te.cellIntensityBounds[0],wt=+te.cellIntensityBounds[1];else for(var Mt=0;Mt<vt.length;++Mt){var nt=vt[Mt];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}else for(var Mt=0;Mt<Y.length;++Mt){var nt=Y[Mt][2];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}qe?this.intensity=qe:vt?this.intensity=vt:this.intensity=B(Y),this.pickVertex=!(vt||rt);var _e=te.pointSizes,Ge=te.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<Y.length;++Mt)for(var je=Y[Mt],We=0;We<3;++We)isNaN(je[We])||!isFinite(je[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],je[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],je[We]));var Pe=0,Re=0,Xe=0;e:for(var Mt=0;Mt<ie.length;++Mt){var Le=ie[Mt];switch(Le.length){case 1:for(var ve=Le[0],je=Y[ve],We=0;We<3;++We)if(isNaN(je[We])||!isFinite(je[We]))continue e;be.push(je[0],je[1],je[2]);var xe;He?xe=He[ve]:rt?xe=rt[Mt]:xe=ot,this.opacityscale&&qe?oe.push(xe[0],xe[1],xe[2],this.opacity*_((qe[ve]-pt)/(wt-pt),this.opacityscale)):xe.length===3?De.push(xe[0],xe[1],xe[2],this.opacity):(De.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0));var Ne;$e?Ne=$e[ve]:qe?Ne=[(qe[ve]-pt)/(wt-pt),0]:ht?Ne=ht[Mt]:vt?Ne=[(vt[Mt]-pt)/(wt-pt),0]:Ne=[(je[2]-pt)/(wt-pt),0],ke.push(Ne[0],Ne[1]),_e?Be.push(_e[ve]):Be.push(Ge),Ae.push(Mt),Xe+=1;break;case 2:for(var We=0;We<2;++We)for(var ve=Le[We],je=Y[ve],et=0;et<3;++et)if(isNaN(je[et])||!isFinite(je[et]))continue e;for(var We=0;We<2;++We){var ve=Le[We],je=Y[ve];q.push(je[0],je[1],je[2]);var xe;He?xe=He[ve]:rt?xe=rt[Mt]:xe=ot,this.opacityscale&&qe?oe.push(xe[0],xe[1],xe[2],this.opacity*_((qe[ve]-pt)/(wt-pt),this.opacityscale)):xe.length===3?ce.push(xe[0],xe[1],xe[2],this.opacity):(ce.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0));var Ne;$e?Ne=$e[ve]:qe?Ne=[(qe[ve]-pt)/(wt-pt),0]:ht?Ne=ht[Mt]:vt?Ne=[(vt[Mt]-pt)/(wt-pt),0]:Ne=[(je[2]-pt)/(wt-pt),0],ye.push(Ne[0],Ne[1]),we.push(Mt)}Re+=1;break;case 3:for(var We=0;We<3;++We)for(var ve=Le[We],je=Y[ve],et=0;et<3;++et)if(isNaN(je[et])||!isFinite(je[et]))continue e;for(var We=0;We<3;++We){var ve=Le[2-We],je=Y[ve];$.push(je[0],je[1],je[2]);var xe;He?xe=He[ve]:rt?xe=rt[Mt]:xe=ot,xe?this.opacityscale&&qe?oe.push(xe[0],xe[1],xe[2],this.opacity*_((qe[ve]-pt)/(wt-pt),this.opacityscale)):xe.length===3?oe.push(xe[0],xe[1],xe[2],this.opacity):(oe.push(xe[0],xe[1],xe[2],xe[3]*this.opacity),xe[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var Ne;$e?Ne=$e[ve]:qe?Ne=[(qe[ve]-pt)/(wt-pt),0]:ht?Ne=ht[Mt]:vt?Ne=[(vt[Mt]-pt)/(wt-pt),0]:Ne=[(je[2]-pt)/(wt-pt),0],X.push(Ne[0],Ne[1]);var st;Ie?st=Ie[ve]:st=Me[Mt],j.push(st[0],st[1],st[2]),se.push(Mt)}Pe+=1;break}}this.pointCount=Xe,this.edgeCount=Re,this.triangleCount=Pe,this.pointPositions.update(be),this.pointColors.update(De),this.pointUVs.update(ke),this.pointSizes.update(Be),this.pointIds.update(new Uint32Array(Ae)),this.edgePositions.update(q),this.edgeColors.update(ce),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update($),this.triangleColors.update(oe),this.triangleUVs.update(X),this.triangleNormals.update(j),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function(te){te=te||{};for(var Q=this.gl,ie=te.model||F,Y=te.view||F,$=te.projection||F,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)oe[0][j]=Math.max(oe[0][j],this.clipBounds[0][j]),oe[1][j]=Math.min(oe[1][j],this.clipBounds[1][j]);var X={model:ie,view:Y,projection:$,inverseModel:F.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=T(X.inverseModel,X.model),Q.disable(Q.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,X.view,X.model),h(se,X.projection,se),T(se,se);for(var j=0;j<3;++j)X.eyePosition[j]=se[12+j]/se[15];for(var q=se[15],j=0;j<3;++j)q+=this.lightPosition[j]*se[4*j+3];for(var j=0;j<3;++j){for(var ce=se[12+j],ye=0;ye<3;++ye)ce+=se[4*ye+j]*this.lightPosition[ye];X.lightPosition[j]=ce/q}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=X,this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=X,this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=X,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=X,this.contourVAO.bind(),Q.drawArrays(Q.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(te){te=te||{};for(var Q=this.gl,ie=te.model||F,Y=te.view||F,$=te.projection||F,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)oe[0][j]=Math.max(oe[0][j],this.clipBounds[0][j]),oe[1][j]=Math.min(oe[1][j],this.clipBounds[1][j]);this._model=[].slice.call(ie),this._view=[].slice.call(Y),this._projection=[].slice.call($),this._resolution=[Q.drawingBufferWidth,Q.drawingBufferHeight];var X={model:ie,view:Y,projection:$,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=X,this.triangleCount>0&&(this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=X,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(te){if(!te||te.id!==this.pickId)return null;for(var Q=te.value[0]+256*te.value[1]+65536*te.value[2],ie=this.cells[Q],Y=this.positions,$=new Array(ie.length),oe=0;oe<ie.length;++oe)$[oe]=Y[ie[oe]];var j=te.coord[0],X=te.coord[1];if(!this.pickVertex){var se=this.positions[ie[0]],q=this.positions[ie[1]],ce=this.positions[ie[2]],ye=[(se[0]+q[0]+ce[0])/3,(se[1]+q[1]+ce[1])/3,(se[2]+q[2]+ce[2])/3];return{_cellCenter:!0,position:[j,X],index:Q,cell:ie,cellId:Q,intensity:this.intensity[Q],dataCoordinate:ye}}var we=C($,[j*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var be=we[2],De=0,oe=0;oe<ie.length;++oe)De+=be[oe]*this.intensity[ie[oe]];return{position:we[1],index:ie[we[0]],cell:ie,cellId:Q,intensity:De,dataCoordinate:this.positions[ie[we[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(te){var Q=n(te,y.vertex,y.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.normal.location=4,Q}function U(te){var Q=n(te,M.vertex,M.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q}function Z(te){var Q=n(te,A.vertex,A.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.pointSize.location=4,Q}function J(te){var Q=n(te,s.vertex,s.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q}function re(te){var Q=n(te,E.vertex,E.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q.attributes.pointSize.location=4,Q}function ne(te){var Q=n(te,b.vertex,b.fragment);return Q.attributes.position.location=0,Q}function ue(te,Q){arguments.length===1&&(Q=te,te=Q.gl);var ie=te.getExtension("OES_standard_derivatives")||te.getExtension("MOZ_OES_standard_derivatives")||te.getExtension("WEBKIT_OES_standard_derivatives");if(!ie)throw new Error("derivatives not supported");var Y=z(te),$=U(te),oe=Z(te),j=J(te),X=re(te),se=ne(te),q=u(te,c(new Uint8Array([255,255,255,255]),[1,1,4]));q.generateMipmap(),q.minFilter=te.LINEAR_MIPMAP_LINEAR,q.magFilter=te.LINEAR;var ce=f(te),ye=f(te),we=f(te),be=f(te),De=f(te),ke=l(te,[{buffer:ce,type:te.FLOAT,size:3},{buffer:De,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:te.FLOAT,size:4},{buffer:we,type:te.FLOAT,size:2},{buffer:be,type:te.FLOAT,size:3}]),Be=f(te),Ae=f(te),Ie=f(te),Me=f(te),Fe=l(te,[{buffer:Be,type:te.FLOAT,size:3},{buffer:Me,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ae,type:te.FLOAT,size:4},{buffer:Ie,type:te.FLOAT,size:2}]),Ee=f(te),He=f(te),rt=f(te),ot=f(te),$e=f(te),qe=l(te,[{buffer:Ee,type:te.FLOAT,size:3},{buffer:$e,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:te.FLOAT,size:4},{buffer:rt,type:te.FLOAT,size:2},{buffer:ot,type:te.FLOAT,size:1}]),ht=f(te),vt=l(te,[{buffer:ht,type:te.FLOAT,size:3}]),pt=new I(te,q,Y,$,oe,j,X,se,ce,De,ye,we,be,ke,Be,Me,Ae,Ie,Fe,Ee,$e,He,rt,ot,qe,ht,vt);return pt.update(Q),pt}v.exports=ue},8120:function(v,p,r){v.exports=u;var t=r(2762),a=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var l=f.prototype;l.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},l.drawBox=function(){var g=[0,0],h=[0,0];return function(T,c,o,d,x){var w=this.plot,C=this.shader,y=w.gl;g[0]=T,g[1]=c,h[0]=o,h[1]=d,C.uniforms.lo=g,C.uniforms.hi=h,C.uniforms.color=x,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(g){var h=g.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=a(h,n.boxVert,n.lineFrag);return new f(g,T,c)}},1913:function(v,p,r){v.exports=h;var t=r(2762),a=r(9405),n=r(2478),f=r(3603);function l(T,c,o,d){this.plot=T,this.vbo=c,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function u(T,c){return T-c}var g=l.prototype;g.draw=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){for(var d=this.plot,x=this.vbo,w=this.shader,C=this.ticks,y=d.gl,M=d._tickBounds,A=d.dataBox,s=d.viewBox,E=d.gridLineWidth,b=d.gridLineColor,F=d.gridLineEnable,I=d.pixelRatio,N=0;N<2;++N){var _=M[N],O=M[N+2],B=O-_,z=.5*(A[N+2]+A[N]),U=A[N+2]-A[N];c[N]=2*B/U,T[N]=2*(_-z)/U}w.bind(),x.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=c;for(var Z=0,N=0;N<2;++N){o[0]=o[1]=0,o[N]=1,w.uniforms.dataAxis=o,w.uniforms.lineWidth=E[N]/(s[N+2]-s[N])*I,w.uniforms.color=b[N];var J=C[N].length*6;F[N]&&J&&y.drawArrays(y.TRIANGLES,Z,J),Z+=J}}}(),g.drawTickMarks=function(){var T=[0,0],c=[0,0],o=[1,0],d=[0,1],x=[0,0],w=[0,0];return function(){for(var C=this.plot,y=this.vbo,M=this.tickShader,A=this.ticks,s=C.gl,E=C._tickBounds,b=C.dataBox,F=C.viewBox,I=C.pixelRatio,N=C.screenBox,_=N[2]-N[0],O=N[3]-N[1],B=F[2]-F[0],z=F[3]-F[1],U=0;U<2;++U){var Z=E[U],J=E[U+2],re=J-Z,ne=.5*(b[U+2]+b[U]),ue=b[U+2]-b[U];c[U]=2*re/ue,T[U]=2*(Z-ne)/ue}c[0]*=B/_,T[0]*=B/_,c[1]*=z/O,T[1]*=z/O,M.bind(),y.bind(),M.attributes.dataCoord.pointer();var te=M.uniforms;te.dataShift=T,te.dataScale=c;var Q=C.tickMarkLength,ie=C.tickMarkWidth,Y=C.tickMarkColor,$=0,oe=A[0].length*6,j=Math.min(n.ge(A[0],(b[0]-E[0])/(E[2]-E[0]),u),A[0].length),X=Math.min(n.gt(A[0],(b[2]-E[0])/(E[2]-E[0]),u),A[0].length),se=$+6*j,q=6*Math.max(0,X-j),ce=Math.min(n.ge(A[1],(b[1]-E[1])/(E[3]-E[1]),u),A[1].length),ye=Math.min(n.gt(A[1],(b[3]-E[1])/(E[3]-E[1]),u),A[1].length),we=oe+6*ce,be=6*Math.max(0,ye-ce);x[0]=2*(F[0]-Q[1])/_-1,x[1]=(F[3]+F[1])/O-1,w[0]=Q[1]*I/_,w[1]=ie[1]*I/O,be&&(te.color=Y[1],te.tickScale=w,te.dataAxis=d,te.screenOffset=x,s.drawArrays(s.TRIANGLES,we,be)),x[0]=(F[2]+F[0])/_-1,x[1]=2*(F[1]-Q[0])/O-1,w[0]=ie[0]*I/_,w[1]=Q[0]*I/O,q&&(te.color=Y[0],te.tickScale=w,te.dataAxis=o,te.screenOffset=x,s.drawArrays(s.TRIANGLES,se,q)),x[0]=2*(F[2]+Q[3])/_-1,x[1]=(F[3]+F[1])/O-1,w[0]=Q[3]*I/_,w[1]=ie[3]*I/O,be&&(te.color=Y[3],te.tickScale=w,te.dataAxis=d,te.screenOffset=x,s.drawArrays(s.TRIANGLES,we,be)),x[0]=(F[2]+F[0])/_-1,x[1]=2*(F[3]+Q[2])/O-1,w[0]=ie[2]*I/_,w[1]=Q[2]*I/O,q&&(te.color=Y[2],te.tickScale=w,te.dataAxis=o,te.screenOffset=x,s.drawArrays(s.TRIANGLES,se,q))}}(),g.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,x=o.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,y=[[],[]],M=0;M<2;++M)for(var A=y[M],s=d[M],E=x[M],b=x[M+2],F=0;F<s.length;++F){var I=(s[F].x-E)/(b-E);A.push(I);for(var N=0;N<6;++N)w[C++]=I,w[C++]=T[N],w[C++]=c[N]}this.ticks=y,this.vbo.update(w)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,o=t(c),d=a(c,f.gridVert,f.gridFrag),x=a(c,f.tickVert,f.gridFrag),w=new l(T,o,d,x);return w}},4747:function(v,p,r){v.exports=u;var t=r(2762),a=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var l=f.prototype;l.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},l.drawLine=function(){var g=[0,0],h=[0,0];return function(T,c,o,d,x,w){var C=this.plot,y=this.shader,M=C.gl;g[0]=T,g[1]=c,h[0]=o,h[1]=d,y.uniforms.start=g,y.uniforms.end=h,y.uniforms.width=x*C.pixelRatio,y.uniforms.color=w,M.drawArrays(M.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(g){var h=g.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=a(h,n.lineVert,n.lineFrag),o=new f(g,T,c);return o}},3603:function(v,p,r){var t=r(3236),a=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=h;var t=r(2762),a=r(9405),n=r(529),f=r(2478),l=r(3603);function u(T,c,o){this.plot=T,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=u.prototype;g.drawTicks=function(){var T=[0,0],c=[0,0],o=[0,0];return function(d){var x=this.plot,w=this.shader,C=this.tickX[d],y=this.tickOffset[d],M=x.gl,A=x.viewBox,s=x.dataBox,E=x.screenBox,b=x.pixelRatio,F=x.tickEnable,I=x.tickPad,N=x.tickColor,_=x.tickAngle,O=x.labelEnable,B=x.labelPad,z=x.labelColor,U=x.labelAngle,Z=this.labelOffset[d],J=this.labelCount[d],re=f.lt(C,s[d]),ne=f.le(C,s[d+2]);T[0]=T[1]=0,T[d]=1,c[d]=(A[2+d]+A[d])/(E[2+d]-E[d])-1;var ue=2/E[2+(d^1)]-E[d^1];c[d^1]=ue*A[d^1]-1,F[d]&&(c[d^1]-=ue*b*I[d],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d],w.uniforms.angle=_[d],M.drawArrays(M.TRIANGLES,y[re],y[ne]-y[re]))),O[d]&&J&&(c[d^1]-=ue*b*B[d],w.uniforms.dataAxis=o,w.uniforms.screenOffset=c,w.uniforms.color=z[d],w.uniforms.angle=U[d],M.drawArrays(M.TRIANGLES,Z,J)),c[d^1]=ue*A[2+(d^1)]-1,F[d+2]&&(c[d^1]+=ue*b*I[d+2],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d+2],w.uniforms.angle=_[d+2],M.drawArrays(M.TRIANGLES,y[re],y[ne]-y[re]))),O[d+2]&&J&&(c[d^1]+=ue*b*B[d+2],w.uniforms.dataAxis=o,w.uniforms.screenOffset=c,w.uniforms.color=z[d+2],w.uniforms.angle=U[d+2],M.drawArrays(M.TRIANGLES,Z,J))}}(),g.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var o=this.plot,d=this.shader,x=o.gl,w=o.screenBox,C=o.titleCenter,y=o.titleAngle,M=o.titleColor,A=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(C[s]*A-w[s])/(w[2+s]-w[s])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=M,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){var d=this.plot,x=this.shader,w=d._tickBounds,C=d.dataBox,y=d.screenBox,M=d.viewBox;x.bind();for(var A=0;A<2;++A){var s=w[A],E=w[A+2],b=E-s,F=.5*(C[A+2]+C[A]),I=C[A+2]-C[A],N=M[A],_=M[A+2],O=_-N,B=y[A],z=y[A+2],U=z-B;c[A]=2*b/I*O/U,T[A]=2*(s-F)/I*O/U}o[1]=2*d.pixelRatio/(y[3]-y[1]),o[0]=o[1]*(y[3]-y[1])/(y[2]-y[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=T,x.uniforms.textScale=o,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),g.update=function(T){var c=[],o=T.ticks,d=T.bounds,x,w,C,y,M;for(M=0;M<2;++M){var A=[Math.floor(c.length/3)],s=[-1/0],E=o[M];for(x=0;x<E.length;++x){var b=E[x],F=b.x,I=b.text,N=b.font||"sans-serif",_=b.fontStyle||"normal",O=b.fontWeight||"normal",B=b.fontVariant||"normal";y=b.fontSize||12;for(var z=1/(d[M+2]-d[M]),U=d[M],Z=I.split(`
`),J=0;J<Z.length;J++)for(C=n(N,Z[J],{fontStyle:_,fontWeight:O,fontVariant:B}).data,w=0;w<C.length;w+=2)c.push(C[w]*y,-C[w+1]*y-J*y*1.2,(F-U)*z);A.push(Math.floor(c.length/3)),s.push(F)}this.tickOffset[M]=A,this.tickX[M]=s}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(c.length/3),C=n(T.labelFont[M],T.labels[M],{fontStyle:T.labelFontStyle[M],fontWeight:T.labelFontWeight[M],fontVariant:T.labelFontVariant[M],textAlign:"center"}).data,y=T.labelSize[M],x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.labelCount[M]=Math.floor(c.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(c.length/3),C=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,y=T.titleSize,x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,o=t(c),d=a(c,l.textVert,l.textFrag),x=new u(T,o,d);return x}},1850:function(v,p,r){v.exports=c;var t=r(3589),a=r(1913),n=r(2142),f=r(4747),l=r(8120);function u(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=u.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var o=this.gl,d=this.screenBox,x=this.viewBox,w=this.dataBox,C=this.pixelRatio,y=this.grid,M=this.line,A=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;o.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),o.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;o.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),o.clear(o.COLOR_BUFFER_BIT),y.draw();var F=this.zeroLineEnable,I=this.zeroLineColor,N=this.zeroLineWidth;if(F[0]||F[1]){M.bind();for(var _=0;_<2;++_)if(!(!F[_]||!(w[_]<=0&&w[_+2]>=0))){var O=d[_]-w[_]*(d[_+2]-d[_])/(w[_+2]-w[_]);_===0?M.drawLine(O,d[1],O,d[3],N[_],I[_]):M.drawLine(d[0],O,d[2],O,N[_],I[_])}}for(var _=0;_<s.length;++_)s[_].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),M.bind();var B=this.borderLineEnable,z=this.borderLineWidth,U=this.borderLineColor;B[1]&&M.drawLine(x[0],x[1]-.5*z[1]*C,x[0],x[3]+.5*z[3]*C,z[1],U[1]),B[0]&&M.drawLine(x[0]-.5*z[0]*C,x[1],x[2]+.5*z[2]*C,x[1],z[0],U[0]),B[3]&&M.drawLine(x[2],x[1]-.5*z[1]*C,x[2],x[3]+.5*z[3]*C,z[3],U[3]),B[2]&&M.drawLine(x[0]-.5*z[0]*C,x[3],x[2]+.5*z[2]*C,x[3],z[2],U[2]),A.bind();for(var _=0;_<2;++_)A.drawTicks(_);this.titleEnable&&A.drawTitle();for(var Z=this.overlays,_=0;_<Z.length;++_)Z[_].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,x=this.objects,w=0;w<x.length;++w)d=x[w].drawPick(d);o.end()}}}(),g.pick=function(){return function(o,d){if(!this.static){var x=this.pixelRatio,w=this.pickPixelRatio,C=this.viewBox,y=Math.round((o-C[0]/x)*w)|0,M=Math.round((d-C[1]/x)*w)|0,A=this.pickBuffer.query(y,M,this.pickRadius);if(!A)return null;for(var s=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),E=this.objects,b=0;b<E.length;++b){var F=E[b].pick(y,M,s);if(F)return F}return null}}}();function h(o){for(var d=o.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function T(o,d){return o.x-d.x}g.setScreenBox=function(o){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(o[0]*x)|0,d[1]=Math.round(o[1]*x)|0,d[2]=Math.round(o[2]*x)|0,d[3]=Math.round(o[3]*x)|0,this.setDirty()},g.setDataBox=function(o){var d=this.dataBox,x=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];x&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},g.setViewBox=function(o){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(o[0]*d)|0,x[1]=Math.round(o[1]*d)|0,x[2]=Math.round(o[2]*d)|0,x[3]=Math.round(o[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*w)|0,Math.round((o[3]-o[1])*w)|0],this.setDirty()},g.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var w=this.viewBox,C=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(o.dataBox||[-10,-10/C,10,10/C]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(w[0]+w[2])/x,(w[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=o.ticks||[[],[]],M=this._tickBounds;M[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(var A=0;A<2;++A){var s=y[A].slice(0);s.length!==0&&(s.sort(T),M[A]=Math.min(M[A],s[0].x),M[A+2]=Math.max(M[A+2],s[s.length-1].x))}this.grid.update({bounds:M,ticks:y}),this.text.update({bounds:M,ticks:y,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],labelFontStyle:o.labelFontStyle||["normal","normal"],labelFontWeight:o.labelFontWeight||["normal","normal"],labelFontVariant:o.labelFontVariant||["normal","normal"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif",titleFontStyle:o.titleFontStyle||"normal",titleFontWeight:o.titleFontWeight||"normal",titleFontVariant:o.titleFontVariant||"normal"}),this.static=!!o.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},g.removeObject=function(o){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===o){d.splice(x,1),this.setDirty();break}},g.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},g.removeOverlay=function(o){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===o){d.splice(x,1),this.setOverlayDirty();break}};function c(o){var d=o.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new u(d,x);return w.grid=a(w),w.text=n(w),w.line=f(w),w.box=l(w),w.update(o),w}},4437:function(v,p,r){v.exports=g;var t=r(3025),a=r(6296),n=r(351),f=r(8512),l=r(24),u=r(7520);function g(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var o=a({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,w=h.clientWidth,C=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:o.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var M=t(),A=this.delay,s=M-2*A;o.idle(M-A),o.recalcMatrix(s),o.flush(M-(100+A*2));for(var E=!0,b=o.computedMatrix,F=0;F<16;++F)E=E&&d[F]===b[F],d[F]=b[F];var I=h.clientWidth===w&&h.clientHeight===C;return w=h.clientWidth,C=h.clientHeight,E?!I:(x=Math.exp(o.computedRadius[0]),!0)},lookAt:function(M,A,s){o.lookAt(o.lastT(),M,A,s)},rotate:function(M,A,s){o.rotate(o.lastT(),M,A,s)},pan:function(M,A,s){o.pan(o.lastT(),M,A,s)},translate:function(M,A,s){o.translate(o.lastT(),M,A,s)}};return Object.defineProperties(y,{matrix:{get:function(){return o.computedMatrix},set:function(M){return o.setMatrix(o.lastT(),M),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(M){var A=o.computedUp.slice(),s=o.computedEye.slice(),E=o.computedCenter.slice();if(o.setMode(M),M==="turntable"){var b=t();o._active.lookAt(b,s,E,A),o._active.lookAt(b+500,s,E,[0,0,1]),o._active.flush(b)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(M){return o.lookAt(o.lastT(),null,M),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(M){return o.lookAt(o.lastT(),M),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(M){return o.lookAt(o.lastT(),null,null,M),o.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(M){return o.setDistance(o.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(M){return o.setDistanceLimits(M),M},enumerable:!0}}),h.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=n(h,M),h.addEventListener("touchstart",function(A){var s=l(A.changedTouches[0],h);M(0,s[0],s[1],y._lastMods),M(1,s[0],s[1],y._lastMods)},u?{passive:!0}:!1),h.addEventListener("touchmove",function(A){var s=l(A.changedTouches[0],h);M(1,s[0],s[1],y._lastMods),A.preventDefault()},u?{passive:!1}:!1),h.addEventListener("touchend",function(A){M(0,y._lastX,y._lastY,y._lastMods)},u?{passive:!0}:!1);function M(A,s,E,b){var F=y.keyBindingMode;if(F!==!1){var I=F==="rotate",N=F==="pan",_=F==="zoom",O=!!b.control,B=!!b.alt,z=!!b.shift,U=!!(A&1),Z=!!(A&2),J=!!(A&4),re=1/h.clientHeight,ne=re*(s-y._lastX),ue=re*(E-y._lastY),te=y.flipX?1:-1,Q=y.flipY?1:-1,ie=Math.PI*y.rotateSpeed,Y=t();if(y._lastX!==-1&&y._lastY!==-1&&((I&&U&&!O&&!B&&!z||U&&!O&&!B&&z)&&o.rotate(Y,te*ie*ne,-Q*ie*ue,0),(N&&U&&!O&&!B&&!z||Z||U&&O&&!B&&!z)&&o.pan(Y,-y.translateSpeed*ne*x,y.translateSpeed*ue*x,0),_&&U&&!O&&!B&&!z||J||U&&!O&&B&&!z)){var $=-y.zoomSpeed*ue/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,x*(Math.exp($)-1))}return y._lastX=s,y._lastY=E,y._lastMods=b,!0}}y.wheelListener=f(h,function(A,s){if(y.keyBindingMode!==!1&&y.enableWheel){var E=y.flipX?1:-1,b=y.flipY?1:-1,F=t();if(Math.abs(A)>Math.abs(s))o.rotate(F,0,0,-A*E*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var I=-y.zoomSpeed*b*s/window.innerHeight*(F-o.lastT())/20;o.pan(F,0,0,x*(Math.exp(I)-1))}}},!0)},y.enableMouseListeners(),y}},799:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(l){return a(l,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),a=r(3837),n=r(5445),f=r(4449),l=r(3589),u=r(2260),g=r(7169),h=r(351),T=r(4772),c=r(4040),o=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:M,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(s,E){var b=null;try{b=s.getContext("webgl",E),b||(b=s.getContext("experimental-webgl",E))}catch{return null}return b}function C(s){var E=Math.round(Math.log(Math.abs(s))/Math.log(10));if(E<0){var b=Math.round(Math.pow(10,-E));return Math.ceil(s*b)/b}else if(E>0){var b=Math.round(Math.pow(10,E));return Math.ceil(s/b)*b}return Math.ceil(s)}function y(s){return typeof s=="boolean"?s:!0}function M(s){s=s||{},s.camera=s.camera||{};var E=s.canvas;if(!E)if(E=document.createElement("canvas"),s.container){var b=s.container;b.appendChild(E)}else document.body.appendChild(E);var F=s.gl;if(F||(s.glOptions&&(d=!!s.glOptions.preserveDrawingBuffer),F=w(E,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!F)throw new Error("webgl not supported");var I=s.bounds||[[-10,-10,-10],[10,10,10]],N=new x,_=u(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!d}),O=o(F),B=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,z={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:B},U=s.axes||{},Z=a(F,U);Z.enable=!U.disable;var J=s.spikes||{},re=f(F,J),ne=[],ue=[],te=[],Q=[],ie=!0,j=!0,Y=new Array(16),$=new Array(16),oe={view:null,projection:Y,model:$,_ortho:!1},j=!0,X=[F.drawingBufferWidth,F.drawingBufferHeight],se=s.cameraObject||t(E,z),q={gl:F,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:E,selection:N,camera:se,axes:Z,axesPixels:null,spikes:re,bounds:I,objects:ne,shape:X,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:y(s.autoResize),autoBounds:y(s.autoBounds),autoScale:!!s.autoScale,autoCenter:y(s.autoCenter),clipToBounds:y(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Me){this.aspect[0]=Me.x,this.aspect[1]=Me.y,this.aspect[2]=Me.z,j=!0},setBounds:function(Me,Fe){this.bounds[0][Me]=Fe.min,this.bounds[1][Me]=Fe.max},setClearColor:function(Me){this.clearColor=Me},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[F.drawingBufferWidth/q.pixelRatio|0,F.drawingBufferHeight/q.pixelRatio|0];function ye(){if(!q._stopped&&q.autoResize){var Me=E.parentNode,Fe=1,Ee=1;Me&&Me!==document.body?(Fe=Me.clientWidth,Ee=Me.clientHeight):(Fe=window.innerWidth,Ee=window.innerHeight);var He=Math.ceil(Fe*q.pixelRatio)|0,rt=Math.ceil(Ee*q.pixelRatio)|0;if(He!==E.width||rt!==E.height){E.width=He,E.height=rt;var ot=E.style;ot.position=ot.position||"absolute",ot.left="0px",ot.top="0px",ot.width=Fe+"px",ot.height=Ee+"px",ie=!0}}}q.autoResize&&ye(),window.addEventListener("resize",ye);function we(){for(var Me=ne.length,Fe=Q.length,Ee=0;Ee<Fe;++Ee)te[Ee]=0;e:for(var Ee=0;Ee<Me;++Ee){var He=ne[Ee],rt=He.pickSlots;if(!rt){ue[Ee]=-1;continue}for(var ot=0;ot<Fe;++ot)if(te[ot]+rt<255){ue[Ee]=ot,He.setPickBase(te[ot]+1),te[ot]+=rt;continue e}var $e=l(F,X);ue[Ee]=Fe,Q.push($e),te.push(rt),He.setPickBase(1),Fe+=1}for(;Fe>0&&te[Fe-1]===0;)te.pop(),Q.pop().dispose()}q.update=function(Me){q._stopped||(ie=!0,j=!0)},q.add=function(Me){q._stopped||(Me.axes=Z,ne.push(Me),ue.push(-1),ie=!0,j=!0,we())},q.remove=function(Me){if(!q._stopped){var Fe=ne.indexOf(Me);Fe<0||(ne.splice(Fe,1),ue.pop(),ie=!0,j=!0,we())}},q.dispose=function(){if(!q._stopped&&(q._stopped=!0,window.removeEventListener("resize",ye),E.removeEventListener("webglcontextlost",be),q.mouseListener.enabled=!1,!q.contextLost)){Z.dispose(),re.dispose();for(var Me=0;Me<ne.length;++Me)ne[Me].dispose();_.dispose();for(var Me=0;Me<Q.length;++Me)Q[Me].dispose();O.dispose(),F=null,Z=null,re=null,ne=[]}},q._mouseRotating=!1,q._prevButtons=0,q.enableMouseListeners=function(){q.mouseListener=h(E,function(Me,Fe,Ee){if(!q._stopped){var He=Q.length,rt=ne.length,ot=N.object;N.distance=1/0,N.mouse[0]=Fe,N.mouse[1]=Ee,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var $e=!1;if(Me&&q._prevButtons)q._mouseRotating=!0;else{q._mouseRotating&&(j=!0),q._mouseRotating=!1;for(var qe=0;qe<He;++qe){var ht=Q[qe].query(Fe,ce[1]-Ee-1,q.pickRadius);if(ht){if(ht.distance>N.distance)continue;for(var vt=0;vt<rt;++vt){var pt=ne[vt];if(ue[vt]===qe){var wt=pt.pick(ht);wt&&(N.buttons=Me,N.screen=ht.coord,N.distance=ht.distance,N.object=pt,N.index=wt.distance,N.dataPosition=wt.position,N.dataCoordinate=wt.dataCoordinate,N.data=wt,$e=!0)}}}}}ot&&ot!==N.object&&(ot.highlight&&ot.highlight(null),ie=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),ie=!0),$e=$e||N.object!==ot,$e&&q.onselect&&q.onselect(N),Me&1&&!(q._prevButtons&1)&&q.onclick&&q.onclick(N),q._prevButtons=Me}})};function be(){if(q.contextLost)return!0;F.isContextLost()&&(q.contextLost=!0,q.mouseListener.enabled=!1,q.selection.object=null,q.oncontextloss&&q.oncontextloss())}E.addEventListener("webglcontextlost",be);function De(){if(!be()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var Me=ne.length,Fe=Q.length,Ee=0;Ee<Fe;++Ee){var He=Q[Ee];He.shape=ce,He.begin();for(var rt=0;rt<Me;++rt)if(ue[rt]===Ee){var ot=ne[rt];ot.drawPick&&(ot.pixelRatio=1,ot.drawPick(oe))}He.end()}}}var ke=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Be=[ke[0].slice(),ke[1].slice()];function Ae(){if(!be()){ye();var Me=q.camera.tick();oe.view=q.camera.matrix,ie=ie||Me,j=j||Me,Z.pixelRatio=q.pixelRatio,re.pixelRatio=q.pixelRatio;var Fe=ne.length,Ee=ke[0],He=ke[1];Ee[0]=Ee[1]=Ee[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var rt=0;rt<Fe;++rt){var ot=ne[rt];ot.pixelRatio=q.pixelRatio,ot.axes=q.axes,ie=ie||!!ot.dirty,j=j||!!ot.dirty;var $e=ot.bounds;if($e)for(var qe=$e[0],ht=$e[1],vt=0;vt<3;++vt)Ee[vt]=Math.min(Ee[vt],qe[vt]),He[vt]=Math.max(He[vt],ht[vt])}var pt=q.bounds;if(q.autoBounds)for(var vt=0;vt<3;++vt){if(He[vt]<Ee[vt])Ee[vt]=-1,He[vt]=1;else{Ee[vt]===He[vt]&&(Ee[vt]-=1,He[vt]+=1);var wt=.05*(He[vt]-Ee[vt]);Ee[vt]=Ee[vt]-wt,He[vt]=He[vt]+wt}pt[0][vt]=Ee[vt],pt[1][vt]=He[vt]}for(var Mt=!1,vt=0;vt<3;++vt)Mt=Mt||Be[0][vt]!==pt[0][vt]||Be[1][vt]!==pt[1][vt],Be[0][vt]=pt[0][vt],Be[1][vt]=pt[1][vt];if(j=j||Mt,ie=ie||Mt,!!ie){if(Mt){for(var nt=[0,0,0],rt=0;rt<3;++rt)nt[rt]=C((pt[1][rt]-pt[0][rt])/10);Z.autoTicks?Z.update({bounds:pt,tickSpacing:nt}):Z.update({bounds:pt})}var _e=F.drawingBufferWidth,Ge=F.drawingBufferHeight;X[0]=_e,X[1]=Ge,ce[0]=Math.max(_e/q.pixelRatio,1)|0,ce[1]=Math.max(Ge/q.pixelRatio,1)|0,A(q,B);for(var rt=0;rt<Fe;++rt){var ot=ne[rt];ot.axesBounds=pt,q.clipToBounds&&(ot.clipBounds=pt)}N.object&&(q.snapToData?re.position=N.dataCoordinate:re.position=N.dataPosition,re.bounds=pt),j&&(j=!1,De()),q.axesPixels=n(q.axes,oe,_e,Ge),q.onrender&&q.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,_e,Ge),q.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var je=!1;Z.enable&&(je=je||Z.isTransparent(),Z.draw(oe)),re.axes=Z,N.object&&re.draw(oe),F.disable(F.CULL_FACE);for(var rt=0;rt<Fe;++rt){var ot=ne[rt];ot.axes=Z,ot.pixelRatio=q.pixelRatio,ot.isOpaque&&ot.isOpaque()&&ot.draw(oe),ot.isTransparent&&ot.isTransparent()&&(je=!0)}if(je){_.shape=X,_.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),Z.enable&&Z.isTransparent()&&Z.drawTransparent(oe);for(var rt=0;rt<Fe;++rt){var ot=ne[rt];ot.isOpaque&&ot.isOpaque()&&ot.draw(oe)}F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),Z.isTransparent()&&Z.drawTransparent(oe);for(var rt=0;rt<Fe;++rt){var ot=ne[rt];ot.isTransparent&&ot.isTransparent()&&ot.drawTransparent(oe)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),O.bind(),_.color[0].bind(0),O.uniforms.accumBuffer=0,g(F),F.disable(F.BLEND)}ie=!1;for(var rt=0;rt<Fe;++rt)ne[rt].dirty=!1}}}function Ie(){q._stopped||q.contextLost||(Ae(),requestAnimationFrame(Ie))}return q.enableMouseListeners(),Ie(),q.redraw=function(){q._stopped||(ie=!0,Ae())},q}function A(s,E){var b=s.bounds,F=s.cameraParams,I=F.projection,N=F.model,_=s.gl.drawingBufferWidth,O=s.gl.drawingBufferHeight,B=s.zNear,z=s.zFar,U=s.fovy,Z=_/O;E?(c(I,-Z,Z,-1,1,B,z),F._ortho=!0):(T(I,U,Z,B,z),F._ortho=!1);for(var J=0;J<16;++J)N[J]=0;N[15]=1;for(var re=0,J=0;J<3;++J)re=Math.max(re,b[1][J]-b[0][J]);for(var J=0;J<3;++J)s.autoScale?N[5*J]=s.aspect[J]/(b[1][J]-b[0][J]):N[5*J]=1/re,s.autoCenter&&(N[12+J]=-N[5*J]*.5*(b[0][J]+b[1][J]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),a=r(2762),n=r(1888),f=r(6640);v.exports=h;function l(T,c,o,d,x){this.plot=T,this.offsetBuffer=c,this.pickBuffer=o,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=l.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(T){var c;T=T||{};function o(A,s){return A in T?T[A]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=T.positions.length>>>1,x=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,y=x?C:n.mallocFloat32(C.length),M=w?T.idToIndex:n.mallocInt32(d);if(x||y.set(C),!w)for(y.set(C),c=0;c<d;c++)M[c]=c;this.points=C,this.offsetBuffer.update(y),this.pickBuffer.update(M),x||n.free(y),w||n.free(M),this.pointCount=d,this.pickOffset=0};function g(T,c){var o=0,d=T.length>>>1,x;for(x=0;x<d;x++){var w=T[x*2],C=T[x*2+1];w>=c[0]&&w<=c[2]&&C>=c[1]&&C<=c[3]&&o++}return o}u.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var d=o!==void 0,x=d?this.pickShader:this.shader,w=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return o;var y=C[2]-C[0],M=C[3]-C[1],A=g(this.points,C),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));T[0]=2/y,T[4]=2/M,T[6]=-2*C[0]/y-1,T[7]=-2*C[1]/M-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=s<5,x.uniforms.pointSize=s,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(w.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=o);var E=w.getParameter(w.BLEND),b=w.getParameter(w.DITHER);return E&&!this.blend&&w.disable(w.BLEND),b&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),E&&!this.blend&&w.enable(w.BLEND),b&&w.enable(w.DITHER),o+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(T,c,o){var d=this.pickOffset,x=this.pointCount;if(o<d||o>=d+x)return null;var w=o-d,C=this.points;return{object:this,pointId:w,dataCoord:[C[2*w],C[2*w+1]]}};function h(T,c){var o=T.gl,d=a(o),x=a(o),w=t(o,f.pointVertex,f.pointFragment),C=t(o,f.pickVertex,f.pickFragment),y=new l(T,d,x,w,C);return y.update(c),T.addObject(y),y}},783:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],l=t[1],u=t[2],g=t[3],h=a[0],T=a[1],c=a[2],o=a[3],d,x,w,C,y;return x=f*h+l*T+u*c+g*o,x<0&&(x=-x,h=-h,T=-T,c=-c,o=-o),1-x>1e-6?(d=Math.acos(x),w=Math.sin(d),C=Math.sin((1-n)*d)/w,y=Math.sin(n*d)/w):(C=1-n,y=n),r[0]=C*f+y*h,r[1]=C*l+y*T,r[2]=C*u+y*c,r[3]=C*g+y*o,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=n;var a={};function n(f,l,u){var g=[l.style,l.weight,l.variant,l.family].join("_"),h=a[g];if(h||(h=a[g]={}),f in h)return h[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l.family,fontStyle:l.style,fontWeight:l.weight,fontVariant:l.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(f,T);T.triangles=!1;var o=t(f,T),d,x;if(u&&u!==1){for(d=0;d<c.positions.length;++d)for(x=0;x<c.positions[d].length;++x)c.positions[d][x]/=u;for(d=0;d<o.positions.length;++d)for(x=0;x<o.positions[d].length;++x)o.positions[d][x]/=u}var w=[[1/0,1/0],[-1/0,-1/0]],C=o.positions.length;for(d=0;d<C;++d){var y=o.positions[d];for(x=0;x<2;++x)w[0][x]=Math.min(w[0][x],y[x]),w[1][x]=Math.max(w[1][x],y[x])}return h[f]=[c,o,w]}},1283:function(v,p,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:u,attributes:h},c={vertex:f,fragment:u,attributes:h},o={vertex:l,fragment:u,attributes:h},d={vertex:n,fragment:g,attributes:h},x={vertex:f,fragment:g,attributes:h},w={vertex:l,fragment:g,attributes:h};function C(y,M){var A=t(y,M),s=A.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,A}p.createPerspective=function(y){return C(y,T)},p.createOrtho=function(y){return C(y,c)},p.createProject=function(y){return C(y,o)},p.createPickPerspective=function(y){return C(y,d)},p.createPickOrtho=function(y){return C(y,x)},p.createPickProject=function(y){return C(y,w)}},8418:function(v,p,r){var t=r(5219),a=r(2762),n=r(8116),f=r(1888),l=r(6760),u=r(1283),g=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=ArrayBuffer,o=DataView;function d($){return c.isView($)&&!($ instanceof o)}function x($){return Array.isArray($)||d($)}v.exports=Y;function w($,oe){var j=$[0],X=$[1],se=$[2],q=$[3];return $[0]=oe[0]*j+oe[4]*X+oe[8]*se+oe[12]*q,$[1]=oe[1]*j+oe[5]*X+oe[9]*se+oe[13]*q,$[2]=oe[2]*j+oe[6]*X+oe[10]*se+oe[14]*q,$[3]=oe[3]*j+oe[7]*X+oe[11]*se+oe[15]*q,$}function C($,oe,j,X){return w(X,X),w(X,X),w(X,X)}function y($,oe){this.index=$,this.dataCoordinate=this.position=oe}function M($){return $===!0||$>1?1:$}function A($,oe,j,X,se,q,ce,ye,we,be,De,ke){this.gl=$,this.pixelRatio=1,this.shader=oe,this.orthoShader=j,this.projectShader=X,this.pointBuffer=se,this.colorBuffer=q,this.glyphBuffer=ce,this.idBuffer=ye,this.vao=we,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=be,this.pickOrthoShader=De,this.pickProjectShader=ke,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var s=A.prototype;s.pickSlots=1,s.setPickBase=function($){this.pickId=$},s.isTransparent=function(){if(this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&this.projectHasAlpha)return!0;return!1},s.isOpaque=function(){if(!this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&!this.projectHasAlpha)return!0;return!1};var E=[0,0],b=[0,0,0],F=[0,0,0],I=[0,0,0,1],N=[0,0,0,1],_=T.slice(),O=[0,0,0],B=[[0,0,0],[0,0,0]];function z($){return $[0]=$[1]=$[2]=0,$}function U($,oe){return $[0]=oe[0],$[1]=oe[1],$[2]=oe[2],$[3]=1,$}function Z($,oe,j,X){return $[0]=oe[0],$[1]=oe[1],$[2]=oe[2],$[j]=X,$}function J($){for(var oe=B,j=0;j<2;++j)for(var X=0;X<3;++X)oe[j][X]=Math.max(Math.min($[j][X],1e8),-1e8);return oe}function re($,oe,j,X){var se=oe.axesProject,q=oe.gl,ce=$.uniforms,ye=j.model||T,we=j.view||T,be=j.projection||T,De=oe.axesBounds,ke=J(oe.clipBounds),Be;oe.axes&&oe.axes.lastCubeProps?Be=oe.axes.lastCubeProps.axis:Be=[1,1,1],E[0]=2/q.drawingBufferWidth,E[1]=2/q.drawingBufferHeight,$.bind(),ce.view=we,ce.projection=be,ce.screenSize=E,ce.highlightId=oe.highlightId,ce.highlightScale=oe.highlightScale,ce.clipBounds=ke,ce.pickGroup=oe.pickId/255,ce.pixelRatio=X;for(var Ae=0;Ae<3;++Ae)if(se[Ae]){ce.scale=oe.projectScale[Ae],ce.opacity=oe.projectOpacity[Ae];for(var Ie=_,Me=0;Me<16;++Me)Ie[Me]=0;for(var Me=0;Me<4;++Me)Ie[5*Me]=1;Ie[5*Ae]=0,Be[Ae]<0?Ie[12+Ae]=De[0][Ae]:Ie[12+Ae]=De[1][Ae],l(Ie,ye,Ie),ce.model=Ie;var Fe=(Ae+1)%3,Ee=(Ae+2)%3,He=z(b),rt=z(F);He[Fe]=1,rt[Ee]=1;var ot=C(be,we,ye,U(I,He)),$e=C(be,we,ye,U(N,rt));if(Math.abs(ot[1])>Math.abs($e[1])){var qe=ot;ot=$e,$e=qe,qe=He,He=rt,rt=qe;var ht=Fe;Fe=Ee,Ee=ht}ot[0]<0&&(He[Fe]=-1),$e[1]>0&&(rt[Ee]=-1);for(var vt=0,pt=0,Me=0;Me<4;++Me)vt+=Math.pow(ye[4*Fe+Me],2),pt+=Math.pow(ye[4*Ee+Me],2);He[Fe]/=Math.sqrt(vt),rt[Ee]/=Math.sqrt(pt),ce.axes[0]=He,ce.axes[1]=rt,ce.fragClipBounds[0]=Z(O,ke[0],Ae,-1e8),ce.fragClipBounds[1]=Z(O,ke[1],Ae,1e8),oe.vao.bind(),oe.vao.draw(q.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(q.lineWidth(oe.lineWidth*X),oe.vao.draw(q.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var ne=[-1e8,-1e8,-1e8],ue=[1e8,1e8,1e8],te=[ne,ue];function Q($,oe,j,X,se,q,ce){var ye=j.gl;if((q===j.projectHasAlpha||ce)&&re(oe,j,X,se),q===j.hasAlpha||ce){$.bind();var we=$.uniforms;we.model=X.model||T,we.view=X.view||T,we.projection=X.projection||T,E[0]=2/ye.drawingBufferWidth,E[1]=2/ye.drawingBufferHeight,we.screenSize=E,we.highlightId=j.highlightId,we.highlightScale=j.highlightScale,we.fragClipBounds=te,we.clipBounds=j.axes.bounds,we.opacity=j.opacity,we.pickGroup=j.pickId/255,we.pixelRatio=se,j.vao.bind(),j.vao.draw(ye.TRIANGLES,j.vertexCount),j.lineWidth>0&&(ye.lineWidth(j.lineWidth*se),j.vao.draw(ye.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}s.draw=function($){var oe=this.useOrtho?this.orthoShader:this.shader;Q(oe,this.projectShader,this,$,this.pixelRatio,!1,!1)},s.drawTransparent=function($){var oe=this.useOrtho?this.orthoShader:this.shader;Q(oe,this.projectShader,this,$,this.pixelRatio,!0,!1)},s.drawPick=function($){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;Q(oe,this.pickProjectShader,this,$,1,!0,!0)},s.pick=function($){if(!$||$.id!==this.pickId)return null;var oe=$.value[2]+($.value[1]<<8)+($.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var j=this.points[oe],X=this._selectResult;X.index=oe;for(var se=0;se<3;++se)X.position[se]=X.dataCoordinate[se]=j[se];return X},s.highlight=function($){if(!$)this.highlightId=[1,1,1,1];else{var oe=$.index,j=oe&255,X=oe>>8&255,se=oe>>16&255;this.highlightId=[j/255,X/255,se/255,0]}};function ie($,oe,j,X){var se;x($)?oe<$.length?se=$[oe]:se=void 0:se=$,se=h(se);var q=!0;t(se)&&(se="",q=!1),j||(j={});var ce=j.family;x(ce)&&(ce=ce[oe]),ce||(ce="normal");var ye=j.weight;x(ye)&&(ye=ye[oe]),ye||(ye="normal");var we=j.style;x(we)&&(we=we[oe]),we||(we="normal");var be=j.variant;x(be)&&(be=be[oe]),be||(be="normal");var De=g(se,{family:ce,weight:ye,style:we,variant:be},X),De=g(se,j,X);return{mesh:De[0],lines:De[1],bounds:De[2],visible:q}}s.update=function($){if($=$||{},"perspective"in $&&(this.useOrtho=!$.perspective),"orthographic"in $&&(this.useOrtho=!!$.orthographic),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"project"in $)if(x($.project))this.axesProject=$.project;else{var oe=!!$.project;this.axesProject=[oe,oe,oe]}if("projectScale"in $)if(x($.projectScale))this.projectScale=$.projectScale.slice();else{var j=+$.projectScale;this.projectScale=[j,j,j]}if(this.projectHasAlpha=!1,"projectOpacity"in $){if(x($.projectOpacity))this.projectOpacity=$.projectOpacity.slice();else{var j=+$.projectOpacity;this.projectOpacity=[j,j,j]}for(var X=0;X<3;++X)this.projectOpacity[X]=M(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in $&&(this.opacity=M($.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se=$.position,q={family:$.font||"normal",style:$.fontStyle||"normal",weight:$.fontWeight||"normal",variant:$.fontVariant||"normal"},ce=$.alignment||[0,0],ye,we;if(ce.length===2)ye=ce[0],we=ce[1];else{ye=[],we=[];for(var X=0;X<ce.length;++X)ye[X]=ce[X][0],we[X]=ce[X][1]}var be=[1/0,1/0,1/0],De=[-1/0,-1/0,-1/0],ke=$.glyph,Be=$.color,Ae=$.size,Ie=$.angle,Me=$.lineColor,Fe=-1,Ee=0,He=0,rt=0;if(se.length){rt=se.length;e:for(var X=0;X<rt;++X){for(var ot=se[X],$e=0;$e<3;++$e)if(isNaN(ot[$e])||!isFinite(ot[$e]))continue e;var qe=ie(ke,X,q,this.pixelRatio),ht=qe.mesh,vt=qe.lines,pt=qe.bounds;Ee+=ht.cells.length*3,He+=vt.edges.length*2}}var wt=Ee+He,Mt=f.mallocFloat(3*wt),nt=f.mallocFloat(4*wt),_e=f.mallocFloat(2*wt),Ge=f.mallocUint32(wt);if(wt>0){var je=0,We=Ee,Pe=[0,0,0,1],Re=[0,0,0,1],Xe=x(Be)&&x(Be[0]),Le=x(Me)&&x(Me[0]);e:for(var X=0;X<rt;++X){Fe+=1;for(var ot=se[X],$e=0;$e<3;++$e){if(isNaN(ot[$e])||!isFinite(ot[$e]))continue e;De[$e]=Math.max(De[$e],ot[$e]),be[$e]=Math.min(be[$e],ot[$e])}var qe=ie(ke,X,q,this.pixelRatio),ht=qe.mesh,vt=qe.lines,pt=qe.bounds,ve=qe.visible;if(!ve)Pe=[1,1,1,0];else if(x(Be)){var xe;if(Xe?X<Be.length?xe=Be[X]:xe=[0,0,0,0]:xe=Be,xe.length===3){for(var $e=0;$e<3;++$e)Pe[$e]=xe[$e];Pe[3]=1}else if(xe.length===4){for(var $e=0;$e<4;++$e)Pe[$e]=xe[$e];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;if(!ve)Re=[1,1,1,0];else if(x(Me)){var xe;if(Le?X<Me.length?xe=Me[X]:xe=[0,0,0,0]:xe=Me,xe.length===3){for(var $e=0;$e<3;++$e)Re[$e]=xe[$e];Re[$e]=1}else if(xe.length===4){for(var $e=0;$e<4;++$e)Re[$e]=xe[$e];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;var Ne=.5;ve?x(Ae)?X<Ae.length?Ne=+Ae[X]:Ne=12:Ae?Ne=+Ae:this.useOrtho&&(Ne=12):Ne=0;var et=0;x(Ie)?X<Ie.length?et=+Ie[X]:et=0:Ie&&(et=+Ie);for(var st=Math.cos(et),lt=Math.sin(et),ot=se[X],$e=0;$e<3;++$e)De[$e]=Math.max(De[$e],ot[$e]),be[$e]=Math.min(be[$e],ot[$e]);var Gt=ye,jt=we,Gt=0;x(ye)?X<ye.length?Gt=ye[X]:Gt=0:ye&&(Gt=ye);var jt=0;x(we)?X<we.length?jt=we[X]:jt=0:we&&(jt=we),Gt*=Gt>0?1-pt[0][0]:Gt<0?1+pt[1][0]:1,jt*=jt>0?1-pt[0][1]:jt<0?1+pt[1][1]:1;for(var Tt=[Gt,jt],Zt=ht.cells||[],Qt=ht.positions||[],$e=0;$e<Zt.length;++$e)for(var Dt=Zt[$e],Xt=0;Xt<3;++Xt){for(var gr=0;gr<3;++gr)Mt[3*je+gr]=ot[gr];for(var gr=0;gr<4;++gr)nt[4*je+gr]=Pe[gr];Ge[je]=Fe;var gt=Qt[Dt[Xt]];_e[2*je]=Ne*(st*gt[0]-lt*gt[1]+Tt[0]),_e[2*je+1]=Ne*(lt*gt[0]+st*gt[1]+Tt[1]),je+=1}for(var Zt=vt.edges,Qt=vt.positions,$e=0;$e<Zt.length;++$e)for(var Dt=Zt[$e],Xt=0;Xt<2;++Xt){for(var gr=0;gr<3;++gr)Mt[3*We+gr]=ot[gr];for(var gr=0;gr<4;++gr)nt[4*We+gr]=Re[gr];Ge[We]=Fe;var gt=Qt[Dt[Xt]];_e[2*We]=Ne*(st*gt[0]-lt*gt[1]+Tt[0]),_e[2*We+1]=Ne*(lt*gt[0]+st*gt[1]+Tt[1]),We+=1}}}this.bounds=[be,De],this.points=se,this.pointCount=se.length,this.vertexCount=Ee,this.lineVertexCount=He,this.pointBuffer.update(Mt),this.colorBuffer.update(nt),this.glyphBuffer.update(_e),this.idBuffer.update(Ge),f.free(Mt),f.free(nt),f.free(_e),f.free(Ge)},s.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function Y($){var oe=$.gl,j=u.createPerspective(oe),X=u.createOrtho(oe),se=u.createProject(oe),q=u.createPickPerspective(oe),ce=u.createPickOrtho(oe),ye=u.createPickProject(oe),we=a(oe),be=a(oe),De=a(oe),ke=a(oe),Be=n(oe,[{buffer:we,size:3,type:oe.FLOAT},{buffer:be,size:4,type:oe.FLOAT},{buffer:De,size:2,type:oe.FLOAT},{buffer:ke,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),Ae=new A(oe,j,X,se,we,be,De,ke,Be,q,ce,ye);return Ae.update($),Ae}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),a=r(2762),n=r(4298);v.exports=u;function f(g,h,T){this.plot=g,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var l=f.prototype;l.draw=function(){if(this.enabled){var g=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,x=g.box,w=g.screenBox,C=g.dataBox,y=g.viewBox,M=g.pixelRatio,A=(h[0]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],s=(h[1]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1],E=(h[2]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],b=(h[3]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1];if(A=Math.max(A,y[0]),s=Math.max(s,y[1]),E=Math.min(E,y[2]),b=Math.min(b,y[3]),!(E<A||b<s)){x.bind();var F=w[2]-w[0],I=w[3]-w[1];if(this.outerFill&&(x.drawBox(0,0,F,s,o),x.drawBox(0,s,A,b,o),x.drawBox(0,b,F,I,o),x.drawBox(E,s,F,b,o)),this.innerFill&&x.drawBox(A,s,E,b,c),T>0){var N=T*M;x.drawBox(A-N,s-N,E+N,s+N,d),x.drawBox(A-N,b-N,E+N,b+N,d),x.drawBox(A-N,s-N,A+N,b+N,d),x.drawBox(E-N,s-N,E+N,b+N,d)}}}},l.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(g,h){var T=g.gl,c=a(T,[0,0,0,1,1,0,1,1]),o=t(T,n.boxVertex,n.boxFragment),d=new f(g,c,o);return d.update(h),g.addOverlay(d),d}},3589:function(v,p,r){v.exports=T;var t=r(2260),a=r(1888),n=r(9618),f=r(8828).nextPow2,l=function(c,o,d){for(var x=1e8,w=-1,C=-1,y=c.shape[0],M=c.shape[1],A=0;A<y;A++)for(var s=0;s<M;s++){var E=c.get(A,s,0),b=c.get(A,s,1),F=c.get(A,s,2),I=c.get(A,s,3);if(E<255||b<255||F<255||I<255){var N=o-A,_=d-s,O=N*N+_*_;O<x&&(x=O,w=A,C=s)}}return[w,C,x]};function u(c,o,d,x,w){this.coord=[c,o],this.id=d,this.value=x,this.distance=w}function g(c,o,d){this.gl=c,this.fbo=o,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=g.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){a.free(this.buffer);for(var x=this.buffer=a.mallocUint8(f(d*o*4)),w=0;w<d*o*4;++w)x[w]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,d){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,o=o|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(c-d,0),x[0])|0,C=Math.min(Math.max(c+d,0),x[0])|0,y=Math.min(Math.max(o-d,0),x[1])|0,M=Math.min(Math.max(o+d,0),x[1])|0;if(C<=w||M<=y)return null;var A=[C-w,M-y],s=n(this.buffer,[A[0],A[1],4],[4,x[0]*4,1],4*(w+x[0]*y)),E=l(s.hi(A[0],A[1],1),d,d),b=E[0],F=E[1];if(b<0||Math.pow(this.radius,2)<E[2])return null;var I=s.get(b,F,0),N=s.get(b,F,1),_=s.get(b,F,2),O=s.get(b,F,3);return new u(b+w|0,F+y|0,I,[N,_,O],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,o){var d=o[0],x=o[1],w={},C=t(c,d,x,w),y=a.mallocUint8(d*x*4);return new g(c,C,y)}},9405:function(v,p,r){var t=r(3327),a=r(8731),n=r(216),f=r(5091),l=r(2145),u=r(8866);function g(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(o=x;o<d;o++)this.gl.enableVertexAttribArray(o);else if(x>d)for(o=d;o<x;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(o,d){return o.name<d.name?-1:1}h.update=function(o,d,x,w){if(!d||arguments.length===1){var C=o;o=C.vertex,d=C.fragment,x=C.uniforms,w=C.attributes}var y=this,M=y.gl,A=y._vref;y._vref=f.shader(M,M.VERTEX_SHADER,o),A&&A.dispose(),y.vertShader=y._vref.shader;var s=this._fref;if(y._fref=f.shader(M,M.FRAGMENT_SHADER,d),s&&s.dispose(),y.fragShader=y._fref.shader,!x||!w){var E=M.createProgram();if(M.attachShader(E,y.fragShader),M.attachShader(E,y.vertShader),M.linkProgram(E),!M.getProgramParameter(E,M.LINK_STATUS)){var b=M.getProgramInfoLog(E);throw new u(b,"Error linking program:"+b)}x=x||l.uniforms(M,E),w=w||l.attributes(M,E),M.deleteProgram(E)}w=w.slice(),w.sort(T);var F=[],I=[],N=[],_;for(_=0;_<w.length;++_){var O=w[_];if(O.type.indexOf("mat")>=0){for(var B=O.type.charAt(O.type.length-1)|0,z=new Array(B),U=0;U<B;++U)z[U]=N.length,I.push(O.name+"["+U+"]"),typeof O.location=="number"?N.push(O.location+U):Array.isArray(O.location)&&O.location.length===B&&typeof O.location[U]=="number"?N.push(O.location[U]|0):N.push(-1);F.push({name:O.name,type:O.type,locations:z})}else F.push({name:O.name,type:O.type,locations:[N.length]}),I.push(O.name),typeof O.location=="number"?N.push(O.location|0):N.push(-1)}var Z=0;for(_=0;_<N.length;++_)if(N[_]<0){for(;N.indexOf(Z)>=0;)Z+=1;N[_]=Z}var J=new Array(x.length);function re(){y.program=f.program(M,y._vref,y._fref,I,N);for(var ne=0;ne<x.length;++ne)J[ne]=M.getUniformLocation(y.program,x[ne].name)}re(),y._relink=re,y.types={uniforms:n(x),attributes:n(w)},y.attributes=a(M,y,F,N),Object.defineProperty(y,"uniforms",t(M,y,x,J))};function c(o,d,x,w,C){var y=new g(o);return y.update(d,x,w,C),y}v.exports=c},8866:function(v){function p(r,t,a){this.shortMessage=t||"",this.longMessage=a||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(a?`
`+a:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=g;var t=r(8866);function a(h,T,c,o,d,x){this._gl=h,this._wrapper=T,this._index=c,this._locations=o,this._dimension=d,this._constFunc=x}var n=a.prototype;n.pointer=function(T,c,o,d){var x=this,w=x._gl,C=x._locations[x._index];w.vertexAttribPointer(C,x._dimension,T||w.FLOAT,!!c,o||0,d||0),w.enableVertexAttribArray(C)},n.set=function(h,T,c,o){return this._constFunc(this._locations[this._index],h,T,c,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,o){return c.length===void 0?h.vertexAttrib2f(T,c,o):h.vertexAttrib2fv(T,c)},function(h,T,c,o,d){return c.length===void 0?h.vertexAttrib3f(T,c,o,d):h.vertexAttrib3fv(T,c)},function(h,T,c,o,d,x){return c.length===void 0?h.vertexAttrib4f(T,c,o,d,x):h.vertexAttrib4fv(T,c)}];function l(h,T,c,o,d,x,w){var C=f[d],y=new a(h,T,c,o,d,C);Object.defineProperty(x,w,{set:function(M){return h.disableVertexAttribArray(o[c]),C(h,o[c],M),M},get:function(){return y},enumerable:!0})}function u(h,T,c,o,d,x,w){for(var C=new Array(d),y=new Array(d),M=0;M<d;++M)l(h,T,c[M],o,d,C,M),y[M]=C[M];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var b=0;b<d;++b)y[b].location=E[b];else for(var b=0;b<d;++b)y[b].location=E+b;return E},get:function(){for(var E=new Array(d),b=0;b<d;++b)E[b]=o[c[b]];return E},enumerable:!0}),C.pointer=function(E,b,F,I){E=E||h.FLOAT,b=!!b,F=F||d*d,I=I||0;for(var N=0;N<d;++N){var _=o[c[N]];h.vertexAttribPointer(_,d,E,b,F,I+N*d),h.enableVertexAttribArray(_)}};var A=new Array(d),s=h["vertexAttrib"+d+"fv"];Object.defineProperty(x,w,{set:function(E){for(var b=0;b<d;++b){var F=o[c[b]];if(h.disableVertexAttribArray(F),Array.isArray(E[0]))s.call(h,F,E[b]);else{for(var I=0;I<d;++I)A[I]=E[d*b+I];s.call(h,F,A)}}return E},get:function(){return C},enumerable:!0})}function g(h,T,c,o){for(var d={},x=0,w=c.length;x<w;++x){var C=c[x],y=C.name,M=C.type,A=C.locations;switch(M){case"bool":case"int":case"float":l(h,T,A[0],o,1,d,y);break;default:if(M.indexOf("vec")>=0){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+y+": "+M);l(h,T,A[0],o,s,d,y)}else if(M.indexOf("mat")>=0){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+y+": "+M);u(h,T,A,o,s,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+M);break}}return d}},3327:function(v,p,r){var t=r(216),a=r(8866);v.exports=l;function n(u){return function(){return u}}function f(u,g){for(var h=new Array(u),T=0;T<u;++T)h[T]=g;return h}function l(u,g,h,T){function c(M){return function(A,s,E){return A.getUniform(s.program,E[M])}}function o(M){return function(s){for(var E=d("",M),b=0;b<E.length;++b){var F=E[b],I=F[0],N=F[1];if(T[N]){var _=s;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var O=I;if(I.indexOf(".")===0&&(O=I.slice(1)),O.indexOf("]")===O.length-1){var B=O.indexOf("["),z=O.slice(0,B),U=O.slice(B+1,O.length-1);_=z?s[z][U]:s[U]}else _=s[O]}var Z=h[N].type,J;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(T[N],_);break;case"float":u.uniform1f(T[N],_);break;default:var re=Z.indexOf("vec");if(0<=re&&re<=1&&Z.length===4+re){if(J=Z.charCodeAt(Z.length-1)-48,J<2||J>4)throw new a("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":u["uniform"+J+"iv"](T[N],_);break;case"v":u["uniform"+J+"fv"](T[N],_);break;default:throw new a("","Unrecognized data type for vector "+name+": "+Z)}}else if(Z.indexOf("mat")===0&&Z.length===4){if(J=Z.charCodeAt(Z.length-1)-48,J<2||J>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+Z);u["uniformMatrix"+J+"fv"](T[N],!1,_);break}else throw new a("","Unknown uniform data type for "+name+": "+Z)}}}}}function d(M,A){if(typeof A!="object")return[[M,A]];var s=[];for(var E in A){var b=A[E],F=M;parseInt(E)+""===E?F+="["+E+"]":F+="."+E,typeof b=="object"?s.push.apply(s,d(F,b)):s.push([F,b])}return s}function x(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=M.indexOf("vec");if(0<=A&&A<=1&&M.length===4+A){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new a("","Invalid data type");return M.charAt(0)==="b"?f(s,!1):f(s,0)}else if(M.indexOf("mat")===0&&M.length===4){var s=M.charCodeAt(M.length-1)-48;if(s<2||s>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+M);return f(s*s,0)}else throw new a("","Unknown uniform data type for "+name+": "+M)}}function w(M,A,s){if(typeof s=="object"){var E=C(s);Object.defineProperty(M,A,{get:n(E),set:o(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(M,A,{get:c(s),set:o(s),enumerable:!0,configurable:!1}):M[A]=x(h[s].type)}function C(M){var A;if(Array.isArray(M)){A=new Array(M.length);for(var s=0;s<M.length;++s)w(A,s,M[s])}else{A={};for(var E in M)w(A,E,M[E])}return A}var y=t(h,!0);return{get:n(C(y)),set:o(y),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var a={},n=0;n<r.length;++n)for(var f=r[n].name,l=f.split("."),u=a,g=0;g<l.length;++g){var h=l[g].split("[");if(h.length>1){h[0]in u||(u[h[0]]=[]),u=u[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||g<l.length-1?(c in u||(T<h.length-1?u[c]=[]:u[c]={}),u=u[c]):t?u[c]=n:u[c]=r[n].type}}else g<l.length-1?(h[0]in u||(u[h[0]]={}),u=u[h[0]]):t?u[h[0]]=n:u[h[0]]=r[n].type}return a}},2145:function(v,p){p.uniforms=n,p.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function a(l,u){if(!t){var g=Object.keys(r);t={};for(var h=0;h<g.length;++h){var T=g[h];t[l[T]]=r[T]}}return t[u]}function n(l,u){for(var g=l.getProgramParameter(u,l.ACTIVE_UNIFORMS),h=[],T=0;T<g;++T){var c=l.getActiveUniform(u,T);if(c){var o=a(l,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function f(l,u){for(var g=l.getProgramParameter(u,l.ACTIVE_ATTRIBUTES),h=[],T=0;T<g;++T){var c=l.getActiveAttrib(u,T);c&&h.push({name:c.name,type:a(l,c.type)})}return h}},5091:function(v,p,r){p.shader=d,p.program=x;var t=r(8866),a=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,l=0;function u(w,C,y,M,A,s,E){this.id=w,this.src=C,this.type=y,this.shader=M,this.count=s,this.programs=[],this.cache=E}u.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,C=w.gl,y=this.programs,M=0,A=y.length;M<A;++M){var s=w.programs[y[M]];s&&(delete w.programs[M],C.deleteProgram(s))}C.deleteShader(this.shader),delete w.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var h=g.prototype;function T(w,C,y){var M=w.createShader(C);if(w.shaderSource(M,y),w.compileShader(M),!w.getShaderParameter(M,w.COMPILE_STATUS)){var A=w.getShaderInfoLog(M);try{var s=a(A,y,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(A,`Error compiling shader:
`+A)}throw new t(A,s.short,s.long)}return M}h.getShaderReference=function(w,C){var y=this.gl,M=this.shaders[w===y.FRAGMENT_SHADER|0],A=M[C];if(!A||!y.isShader(A.shader)){var s=T(y,w,C);A=M[C]=new u(l++,C,w,s,[],1,this)}else A.count+=1;return A};function c(w,C,y,M,A){var s=w.createProgram();w.attachShader(s,C),w.attachShader(s,y);for(var E=0;E<M.length;++E)w.bindAttribLocation(s,A[E],M[E]);if(w.linkProgram(s),!w.getProgramParameter(s,w.LINK_STATUS)){var b=w.getProgramInfoLog(s);throw new t(b,"Error linking program: "+b)}return s}h.getProgram=function(w,C,y,M){var A=[w.id,C.id,y.join(":"),M.join(":")].join("@"),s=this.programs[A];return(!s||!this.gl.isProgram(s))&&(this.programs[A]=s=c(this.gl,w.shader,C.shader,y,M),w.programs.push(A),C.programs.push(A)),s};function o(w){var C=f.get(w);return C||(C=new g(w),f.set(w,C)),C}function d(w,C,y){return o(w).getShaderReference(C,y)}function x(w,C,y,M,A){return o(w).getProgram(C,y,M,A)}},4098:function(v){v.exports=t;function p(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var a=this.enable,n=this.width,f=this.color,l=this.center,u=this.plot,g=u.line,h=u.dataBox,T=u.viewBox;if(g.bind(),h[0]<=l[0]&&l[0]<=h[2]&&h[1]<=l[1]&&l[1]<=h[3]){var c=T[0]+(l[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),o=T[1]+(l[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);a[0]&&g.drawLine(c,o,T[0],o,n[0],f[0]),a[1]&&g.drawLine(c,o,c,T[1],n[1],f[1]),a[2]&&g.drawLine(c,o,T[2],o,n[2],f[2]),a[3]&&g.drawLine(c,o,c,T[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(a,n){var f=new p(a);return f.update(n),a.addOverlay(f),f}},1493:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(l){return a(l,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),a=r(8116),n=r(1493);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(o,d,x,w){this.gl=o,this.buffer=d,this.vao=x,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,g=[0,0,0],h=[0,0,0],T=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var d=this.gl,x=this.vao,w=this.shader;x.bind(),w.bind();var C=o.model||f,y=o.view||f,M=o.projection||f,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var s=g,E=h,b=0;b<3;++b)A&&A[b]<0?(s[b]=this.bounds[0][b],E[b]=this.bounds[1][b]):(s[b]=this.bounds[1][b],E[b]=this.bounds[0][b]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=C,w.uniforms.view=y,w.uniforms.projection=M,w.uniforms.coordinates=[this.position,s,E],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var b=0;b<3;++b)w.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(d.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(d.TRIANGLES,12,18+12*b));x.unbind()},u.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,d){var x=[];function w(s,E,b,F,I,N){var _=[s,E,b,0,0,0,1];_[F+3]=1,_[F]=I,x.push.apply(x,_),_[6]=-1,x.push.apply(x,_),_[F]=N,x.push.apply(x,_),x.push.apply(x,_),_[6]=1,x.push.apply(x,_),_[F]=I,x.push.apply(x,_)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var C=t(o,x),y=a(o,[{type:o.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:C,size:1,offset:24,stride:28}]),M=n(o);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var A=new l(o,C,y,M);return A.update(d),A}},6740:function(v,p,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),a=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,w,C,y){for(var M=x.points,A=x.velocities,s=x.divergences,E=[],b=[],F=[],I=[],N=[],_=[],O=0,B=0,z=a.create(),U=a.create(),Z=8,J=0;J<M.length;J++){var re=M[J],ne=A[J],ue=s[J];w===0&&(ue=C*.05),B=t.length(ne)/y,z=a.create(),t.copy(z,ne),z[3]=ue;for(var te=0;te<Z;te++)N[te]=[re[0],re[1],re[2],te];if(I.length>0)for(var te=0;te<Z;te++){var Q=(te+1)%Z;E.push(I[te],N[te],N[Q],N[Q],I[Q],I[te]),F.push(U,z,z,z,U,U),_.push(O,B,B,B,O,O);var ie=E.length;b.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}var Y=I;I=N,N=Y;var $=U;U=z,z=$;var oe=O;O=B,B=oe}return{positions:E,cells:b,vectors:F,vertexIntensity:_}},l=function(x,w,C,y){for(var M=0,A=0;A<x.length;A++)for(var s=x[A].velocities,E=0;E<s.length;E++)M=Math.max(M,t.length(s[E]));for(var b=x.map(function(J){return f(J,C,y,M)}),F=[],I=[],N=[],_=[],A=0;A<b.length;A++){var O=b[A],B=F.length;F=F.concat(O.positions),N=N.concat(O.vectors),_=_.concat(O.vertexIntensity);for(var E=0;E<O.cells.length;E++){var z=O.cells[E],U=[];I.push(U);for(var Z=0;Z<z.length;Z++)U.push(z[Z]+B)}}return{positions:F,cells:I,vectors:N,vertexIntensity:_,colormap:w}},u=function(x,w){var C=x.length,y;for(y=0;y<C;y++){var M=x[y];if(M===w)return y;if(M>w)return y-1}return y},g=function(x,w,C){return x<w?w:x>C?C:x},h=function(x,w,C){var y=w.vectors,M=w.meshgrid,A=x[0],s=x[1],E=x[2],b=M[0].length,F=M[1].length,I=M[2].length,N=u(M[0],A),_=u(M[1],s),O=u(M[2],E),B=N+1,z=_+1,U=O+1;if(N=g(N,0,b-1),B=g(B,0,b-1),_=g(_,0,F-1),z=g(z,0,F-1),O=g(O,0,I-1),U=g(U,0,I-1),N<0||_<0||O<0||B>b-1||z>F-1||U>I-1)return t.create();var Z=M[0][N],J=M[0][B],re=M[1][_],ne=M[1][z],ue=M[2][O],te=M[2][U],Q=(A-Z)/(J-Z),ie=(s-re)/(ne-re),Y=(E-ue)/(te-ue);isFinite(Q)||(Q=.5),isFinite(ie)||(ie=.5),isFinite(Y)||(Y=.5);var $,oe,j,X,se,q;switch(C.reversedX&&(N=b-1-N,B=b-1-B),C.reversedY&&(_=F-1-_,z=F-1-z),C.reversedZ&&(O=I-1-O,U=I-1-U),C.filled){case 5:se=O,q=U,j=_*I,X=z*I,$=N*I*F,oe=B*I*F;break;case 4:se=O,q=U,$=N*I,oe=B*I,j=_*I*b,X=z*I*b;break;case 3:j=_,X=z,se=O*F,q=U*F,$=N*F*I,oe=B*F*I;break;case 2:j=_,X=z,$=N*F,oe=B*F,se=O*F*b,q=U*F*b;break;case 1:$=N,oe=B,se=O*b,q=U*b,j=_*b*I,X=z*b*I;break;default:$=N,oe=B,j=_*b,X=z*b,se=O*b*F,q=U*b*F;break}var ce=y[$+j+se],ye=y[$+j+q],we=y[$+X+se],be=y[$+X+q],De=y[oe+j+se],ke=y[oe+j+q],Be=y[oe+X+se],Ae=y[oe+X+q],Ie=t.create(),Me=t.create(),Fe=t.create(),Ee=t.create();t.lerp(Ie,ce,De,Q),t.lerp(Me,ye,ke,Q),t.lerp(Fe,we,Be,Q),t.lerp(Ee,be,Ae,Q);var He=t.create(),rt=t.create();t.lerp(He,Ie,Fe,ie),t.lerp(rt,Me,Ee,ie);var ot=t.create();return t.lerp(ot,He,rt,Y),ot},T=function(x){var w=1/0;x.sort(function(A,s){return A-s});for(var C=x.length,y=1;y<C;y++){var M=Math.abs(x[y]-x[y-1]);M<w&&(w=M)}return w},c=function(x){for(var w=[],C=[],y=[],M={},A={},s={},E=x.length,b=0;b<E;b++){var F=x[b],I=F[0],N=F[1],_=F[2];M[I]||(w.push(I),M[I]=!0),A[N]||(C.push(N),A[N]=!0),s[_]||(y.push(_),s[_]=!0)}var O=T(w),B=T(C),z=T(y),U=Math.min(O,B,z);return isFinite(U)?U:1};v.exports=function(x,w){var C=x.startingPositions,y=x.maxLength||1e3,M=x.tubeSize||1,A=x.absoluteTubeSize,s=x.gridFill||"+x+y+z",E={};s.indexOf("-x")!==-1&&(E.reversedX=!0),s.indexOf("-y")!==-1&&(E.reversedY=!0),s.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(ke){return h(ke,x,E)},F=x.getDivergence||function(ke,Be){var Ae=t.create(),Ie=1e-4;t.add(Ae,ke,[Ie,0,0]);var Me=b(Ae);t.subtract(Me,Me,Be),t.scale(Me,Me,1/Ie),t.add(Ae,ke,[0,Ie,0]);var Fe=b(Ae);t.subtract(Fe,Fe,Be),t.scale(Fe,Fe,1/Ie),t.add(Ae,ke,[0,0,Ie]);var Ee=b(Ae);return t.subtract(Ee,Ee,Be),t.scale(Ee,Ee,1/Ie),t.add(Ae,Me,Fe),t.add(Ae,Ae,Ee),Ae},I=[],N=w[0][0],_=w[0][1],O=w[0][2],B=w[1][0],z=w[1][1],U=w[1][2],Z=function(ke){var Be=ke[0],Ae=ke[1],Ie=ke[2];return!(Be<N||Be>B||Ae<_||Ae>z||Ie<O||Ie>U)},J=t.distance(w[0],w[1]),re=10*J/y,ne=re*re,ue=1,te=0,Q=C.length;Q>1&&(ue=c(C));for(var ie=0;ie<Q;ie++){var Y=t.create();t.copy(Y,C[ie]);var $=[Y],oe=[],j=b(Y),X=Y;oe.push(j);var se=[],q=F(Y,j),ce=t.length(q);isFinite(ce)&&ce>te&&(te=ce),se.push(ce),I.push({points:$,velocities:oe,divergences:se});for(var ye=0;ye<y*100&&$.length<y&&Z(Y);){ye++;var we=t.clone(j),be=t.squaredLength(we);if(be===0)break;if(be>ne&&t.scale(we,we,re/Math.sqrt(be)),t.add(we,we,Y),j=b(we),t.squaredDistance(X,we)-ne>-1e-4*ne){$.push(we),X=we,oe.push(j);var q=F(we,j),ce=t.length(q);isFinite(ce)&&ce>te&&(te=ce),se.push(ce)}Y=we}}var De=l(I,x.colormap,te,ue);return A?De.tubeScale=A:(te===0&&(te=1),De.tubeScale=M*.5*ue/te),De};var o=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(x,w){return d(x,w,{shaders:o,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var h=t(g,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(g){var h=t(g,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(g){var h=t(g,l,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(g){var h=t(g,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,p,r){v.exports=oe;var t=r(8828),a=r(2762),n=r(8116),f=r(7766),l=r(1888),u=r(6729),g=r(5298),h=r(9994),T=r(9618),c=r(3711),o=r(6760),d=r(7608),x=r(2478),w=r(6199),C=r(990),y=C.createShader,M=C.createContourShader,A=C.createPickShader,s=C.createPickContourShader,E=4*(4+3+3),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var j=0;j<3;++j){var X=I[j],se=(j+1)%3,q=(j+2)%3;X[se+0]=1,X[q+3]=1,X[j+6]=1}})();function N(j,X,se,q,ce){this.position=j,this.index=X,this.uv=se,this.level=q,this.dataCoordinate=ce}var _=256;function O(j,X,se,q,ce,ye,we,be,De,ke,Be,Ae,Ie,Me,Fe){this.gl=j,this.shape=X,this.bounds=se,this.objectOffset=Fe,this.intensityBounds=[],this._shader=q,this._pickShader=ce,this._coordinateBuffer=ye,this._vao=we,this._colorMap=be,this._contourShader=De,this._contourPickShader=ke,this._contourBuffer=Be,this._contourVAO=Ae,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ie,this._dynamicVAO=Me,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(l.mallocFloat(1024),[0,0]),T(l.mallocFloat(1024),[0,0]),T(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=O.prototype;B.genColormap=function(j,X){var se=!1,q=h([u({colormap:j,nshades:_,format:"rgba"}).map(function(ce,ye){var we=X?z(ye/255,X):ce[3];return we<1&&(se=!0),[ce[0],ce[1],ce[2],255*we]})]);return g.divseq(q,255),this.hasAlphaScale=se,q},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(j){this.pickId=j};function z(j,X){if(!X||!X.length)return 1;for(var se=0;se<X.length;++se){if(X.length<2)return 1;if(X[se][0]===j)return X[se][1];if(X[se][0]>j&&se>0){var q=(X[se][0]-j)/(X[se][0]-X[se-1][0]);return X[se][1]*(1-q)+q*X[se-1][1]}}return 1}var U=[0,0,0],Z={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(j,X){var se,q,ce,ye=X.axes&&X.axes.lastCubeProps.axis||U,we=X.showSurface,be=X.showContour;for(se=0;se<3;++se)for(we=we||X.surfaceProject[se],q=0;q<3;++q)be=be||X.contourProject[se][q];for(se=0;se<3;++se){var De=Z.projections[se];for(q=0;q<16;++q)De[q]=0;for(q=0;q<4;++q)De[5*q]=1;De[5*se]=0,De[12+se]=X.axesBounds[+(ye[se]>0)][se],o(De,j.model,De);var ke=Z.clipBounds[se];for(ce=0;ce<2;++ce)for(q=0;q<3;++q)ke[ce][q]=j.clipBounds[ce][q];ke[0][se]=-1e8,ke[1][se]=1e8}return Z.showSurface=we,Z.showContour=be,Z}var re={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=b.slice(),ue=[1,0,0,0,1,0,0,0,1];function te(j,X){j=j||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var q=re;q.model=j.model||b,q.view=j.view||b,q.projection=j.projection||b,q.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],q.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],q.objectOffset=this.objectOffset,q.contourColor=this.contourColor[0],q.inverseModel=d(q.inverseModel,q.model);for(var ce=0;ce<2;++ce)for(var ye=q.clipBounds[ce],we=0;we<3;++we)ye[we]=Math.min(Math.max(this.clipBounds[ce][we],-1e8),1e8);q.kambient=this.ambientLight,q.kdiffuse=this.diffuseLight,q.kspecular=this.specularLight,q.roughness=this.roughness,q.fresnel=this.fresnel,q.opacity=this.opacity,q.height=0,q.permutation=ue,q.vertexColor=this.vertexColor;var be=ne;for(o(be,q.view,q.model),o(be,q.projection,be),d(be,be),ce=0;ce<3;++ce)q.eyePosition[ce]=be[12+ce]/be[15];var De=be[15];for(ce=0;ce<3;++ce)De+=this.lightPosition[ce]*be[4*ce+3];for(ce=0;ce<3;++ce){var ke=be[12+ce];for(we=0;we<3;++we)ke+=be[4*we+ce]*this.lightPosition[we];q.lightPosition[ce]=ke/De}var Be=J(q,this);if(Be.showSurface){for(this._shader.bind(),this._shader.uniforms=q,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Be.projections[ce],this._shader.uniforms.clipBounds=Be.clipBounds[ce],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Be.showContour){var Ae=this._contourShader;q.kambient=1,q.kdiffuse=0,q.kspecular=0,q.opacity=1,Ae.bind(),Ae.uniforms=q;var Ie=this._contourVAO;for(Ie.bind(),ce=0;ce<3;++ce)for(Ae.uniforms.permutation=I[ce],se.lineWidth(this.contourWidth[ce]*this.pixelRatio),we=0;we<this.contourLevels[ce].length;++we)we===this.highlightLevel[ce]?(Ae.uniforms.contourColor=this.highlightColor[ce],Ae.uniforms.contourTint=this.highlightTint[ce]):(we===0||we-1===this.highlightLevel[ce])&&(Ae.uniforms.contourColor=this.contourColor[ce],Ae.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][we]&&(Ae.uniforms.height=this.contourLevels[ce][we],Ie.draw(se.LINES,this._contourCounts[ce][we],this._contourOffsets[ce][we]));for(ce=0;ce<3;++ce)for(Ae.uniforms.model=Be.projections[ce],Ae.uniforms.clipBounds=Be.clipBounds[ce],we=0;we<3;++we)if(this.contourProject[ce][we]){Ae.uniforms.permutation=I[we],se.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Me=0;Me<this.contourLevels[we].length;++Me)Me===this.highlightLevel[we]?(Ae.uniforms.contourColor=this.highlightColor[we],Ae.uniforms.contourTint=this.highlightTint[we]):(Me===0||Me-1===this.highlightLevel[we])&&(Ae.uniforms.contourColor=this.contourColor[we],Ae.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Me]&&(Ae.uniforms.height=this.contourLevels[we][Me],Ie.draw(se.LINES,this._contourCounts[we][Me],this._contourOffsets[we][Me]))}for(Ie.unbind(),Ie=this._dynamicVAO,Ie.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(Ae.uniforms.model=q.model,Ae.uniforms.clipBounds=q.clipBounds,Ae.uniforms.permutation=I[ce],se.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),Ae.uniforms.contourColor=this.dynamicColor[ce],Ae.uniforms.contourTint=this.dynamicTint[ce],Ae.uniforms.height=this.dynamicLevel[ce],Ie.draw(se.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),we=0;we<3;++we)this.contourProject[we][ce]&&(Ae.uniforms.model=Be.projections[we],Ae.uniforms.clipBounds=Be.clipBounds[we],Ie.draw(se.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));Ie.unbind()}}B.draw=function(j){return te.call(this,j,!1)},B.drawTransparent=function(j){return te.call(this,j,!0)};var Q={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(j){j=j||{};var X=this.gl;X.disable(X.CULL_FACE);var se=Q;se.model=j.model||b,se.view=j.view||b,se.projection=j.projection||b,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ue;for(var q=0;q<2;++q)for(var ce=se.clipBounds[q],ye=0;ye<3;++ye)ce[ye]=Math.min(Math.max(this.clipBounds[q][ye],-1e8),1e8);var we=J(se,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(X.TRIANGLES,this._vertexCount),q=0;q<3;++q)this.surfaceProject[q]&&(this._pickShader.uniforms.model=we.projections[q],this._pickShader.uniforms.clipBounds=we.clipBounds[q],this._vao.draw(X.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var be=this._contourPickShader;be.bind(),be.uniforms=se;var De=this._contourVAO;for(De.bind(),ye=0;ye<3;++ye)for(X.lineWidth(this.contourWidth[ye]*this.pixelRatio),be.uniforms.permutation=I[ye],q=0;q<this.contourLevels[ye].length;++q)this._contourCounts[ye][q]&&(be.uniforms.height=this.contourLevels[ye][q],De.draw(X.LINES,this._contourCounts[ye][q],this._contourOffsets[ye][q]));for(q=0;q<3;++q)for(be.uniforms.model=we.projections[q],be.uniforms.clipBounds=we.clipBounds[q],ye=0;ye<3;++ye)if(this.contourProject[q][ye]){be.uniforms.permutation=I[ye],X.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[ye].length;++ke)this._contourCounts[ye][ke]&&(be.uniforms.height=this.contourLevels[ye][ke],De.draw(X.LINES,this._contourCounts[ye][ke],this._contourOffsets[ye][ke]))}De.unbind()}},B.pick=function(j){if(!j||j.id!==this.pickId)return null;var X=this._field[2].shape,se=this._pickResult,q=X[0]*(j.value[0]+(j.value[2]>>4)/16)/255,ce=Math.floor(q),ye=q-ce,we=X[1]*(j.value[1]+(j.value[2]&15)/16)/255,be=Math.floor(we),De=we-be;ce+=1,be+=1;var ke=se.position;ke[0]=ke[1]=ke[2]=0;for(var Be=0;Be<2;++Be)for(var Ae=Be?ye:1-ye,Ie=0;Ie<2;++Ie)for(var Me=Ie?De:1-De,Fe=ce+Be,Ee=be+Ie,He=Ae*Me,rt=0;rt<3;++rt)ke[rt]+=this._field[rt].get(Fe,Ee)*He;for(var ot=this._pickResult.level,$e=0;$e<3;++$e)if(ot[$e]=x.le(this.contourLevels[$e],ke[$e]),ot[$e]<0)this.contourLevels[$e].length>0&&(ot[$e]=0);else if(ot[$e]<this.contourLevels[$e].length-1){var qe=this.contourLevels[$e][ot[$e]],ht=this.contourLevels[$e][ot[$e]+1];Math.abs(qe-ke[$e])>Math.abs(ht-ke[$e])&&(ot[$e]+=1)}for(se.index[0]=ye<.5?ce:ce+1,se.index[1]=De<.5?be:be+1,se.uv[0]=q/X[0],se.uv[1]=we/X[1],rt=0;rt<3;++rt)se.dataCoordinate[rt]=this._field[rt].get(se.index[0],se.index[1]);return se},B.padField=function(j,X){var se=X.shape.slice(),q=j.shape.slice();g.assign(j.lo(1,1).hi(se[0],se[1]),X),g.assign(j.lo(1).hi(se[0],1),X.hi(se[0],1)),g.assign(j.lo(1,q[1]-1).hi(se[0],1),X.lo(0,se[1]-1).hi(se[0],1)),g.assign(j.lo(0,1).hi(1,se[1]),X.hi(1)),g.assign(j.lo(q[0]-1,1).hi(1,se[1]),X.lo(se[0]-1)),j.set(0,0,X.get(0,0)),j.set(0,q[1]-1,X.get(0,se[1]-1)),j.set(q[0]-1,0,X.get(se[0]-1,0)),j.set(q[0]-1,q[1]-1,X.get(se[0]-1,se[1]-1))};function ie(j,X){return Array.isArray(j)?[X(j[0]),X(j[1]),X(j[2])]:[X(j),X(j),X(j)]}function Y(j){return Array.isArray(j)?j.length===3?[j[0],j[1],j[2],1]:[j[0],j[1],j[2],j[3]]:[0,0,0,1]}function $(j){if(Array.isArray(j)){if(Array.isArray(j))return[Y(j[0]),Y(j[1]),Y(j[2])];var X=Y(j);return[X.slice(),X.slice(),X.slice()]}}B.update=function(j){j=j||{},this.objectOffset=j.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in j&&(this.contourWidth=ie(j.contourWidth,Number)),"showContour"in j&&(this.showContour=ie(j.showContour,Boolean)),"showSurface"in j&&(this.showSurface=!!j.showSurface),"contourTint"in j&&(this.contourTint=ie(j.contourTint,Boolean)),"contourColor"in j&&(this.contourColor=$(j.contourColor)),"contourProject"in j&&(this.contourProject=ie(j.contourProject,function(kt){return ie(kt,Boolean)})),"surfaceProject"in j&&(this.surfaceProject=j.surfaceProject),"dynamicColor"in j&&(this.dynamicColor=$(j.dynamicColor)),"dynamicTint"in j&&(this.dynamicTint=ie(j.dynamicTint,Number)),"dynamicWidth"in j&&(this.dynamicWidth=ie(j.dynamicWidth,Number)),"opacity"in j&&(this.opacity=j.opacity),"opacityscale"in j&&(this.opacityscale=j.opacityscale),"colorBounds"in j&&(this.colorBounds=j.colorBounds),"vertexColor"in j&&(this.vertexColor=j.vertexColor?1:0),"colormap"in j&&this._colorMap.setPixels(this.genColormap(j.colormap,this.opacityscale));var X=j.field||j.coords&&j.coords[2]||null,se=!1;if(X||(this._field[2].shape[0]||this._field[2].shape[2]?X=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):X=this._field[2].hi(0,0)),"field"in j||"coords"in j){var q=(X.shape[0]+2)*(X.shape[1]+2);q>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(t.nextPow2(q))),this._field[2]=T(this._field[2].data,[X.shape[0]+2,X.shape[1]+2]),this.padField(this._field[2],X),this.shape=X.shape.slice();for(var ce=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(l.freeFloat(this._field[ye].data),this._field[ye].data=l.mallocFloat(this._field[2].size)),this._field[ye]=T(this._field[ye].data,[ce[0]+2,ce[1]+2]);if(j.coords){var we=j.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var be=we[ye];for(Ie=0;Ie<2;++Ie)if(be.shape[Ie]!==ce[Ie])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],be)}}else if(j.ticks){var De=j.ticks;if(!Array.isArray(De)||De.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var ke=De[ye];if((Array.isArray(ke)||ke.length)&&(ke=T(ke)),ke.shape[0]!==ce[ye])throw new Error("gl-surface: invalid tick length");var Be=T(ke.data,ce);Be.stride[ye]=ke.stride[0],Be.stride[ye^1]=0,this.padField(this._field[ye],Be)}}else{for(ye=0;ye<2;++ye){var Ae=[0,0];Ae[ye]=1,this._field[ye]=T(this._field[ye].data,[ce[0]+2,ce[1]+2],Ae,0)}this._field[0].set(0,0,0);for(var Ie=0;Ie<ce[0];++Ie)this._field[0].set(Ie+1,0,Ie);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),Ie=0;Ie<ce[1];++Ie)this._field[1].set(0,Ie+1,Ie);this._field[1].set(0,ce[1]+1,ce[1]-1)}var Me=this._field,Fe=T(l.mallocFloat(Me[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(ye=0;ye<3;++ye)w(Fe.pick(ye),Me[ye],"mirror");var Ee=T(l.mallocFloat(Me[2].size*3),[ce[0]+2,ce[1]+2,3]);for(ye=0;ye<ce[0]+2;++ye)for(Ie=0;Ie<ce[1]+2;++Ie){var He=Fe.get(0,ye,Ie,0),rt=Fe.get(0,ye,Ie,1),ot=Fe.get(1,ye,Ie,0),$e=Fe.get(1,ye,Ie,1),qe=Fe.get(2,ye,Ie,0),ht=Fe.get(2,ye,Ie,1),vt=ot*ht-$e*qe,pt=qe*rt-ht*He,wt=He*$e-rt*ot,Mt=Math.sqrt(vt*vt+pt*pt+wt*wt);Mt<1e-8?(Mt=Math.max(Math.abs(vt),Math.abs(pt),Math.abs(wt)),Mt<1e-8?(wt=1,pt=vt=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Ee.set(ye,Ie,0,vt*Mt),Ee.set(ye,Ie,1,pt*Mt),Ee.set(ye,Ie,2,wt*Mt)}l.free(Fe.data);var nt=[1/0,1/0,1/0],_e=[-1/0,-1/0,-1/0],Ge=1/0,je=-1/0,We=(ce[0]-1)*(ce[1]-1)*6,Pe=l.mallocFloat(t.nextPow2(10*We)),Re=0,Xe=0;for(ye=0;ye<ce[0]-1;++ye)e:for(Ie=0;Ie<ce[1]-1;++Ie){for(var Le=0;Le<2;++Le)for(var ve=0;ve<2;++ve)for(var xe=0;xe<3;++xe){var Ne=this._field[xe].get(1+ye+Le,1+Ie+ve);if(isNaN(Ne)||!isFinite(Ne))continue e}for(xe=0;xe<6;++xe){var et=ye+F[xe][0],st=Ie+F[xe][1],lt=this._field[0].get(et+1,st+1),Gt=this._field[1].get(et+1,st+1);Ne=this._field[2].get(et+1,st+1),vt=Ee.get(et+1,st+1,0),pt=Ee.get(et+1,st+1,1),wt=Ee.get(et+1,st+1,2),j.intensity&&(jt=j.intensity.get(et,st));var jt=j.intensity?j.intensity.get(et,st):Ne+this.objectOffset[2];Pe[Re++]=et,Pe[Re++]=st,Pe[Re++]=lt,Pe[Re++]=Gt,Pe[Re++]=Ne,Pe[Re++]=0,Pe[Re++]=jt,Pe[Re++]=vt,Pe[Re++]=pt,Pe[Re++]=wt,nt[0]=Math.min(nt[0],lt+this.objectOffset[0]),nt[1]=Math.min(nt[1],Gt+this.objectOffset[1]),nt[2]=Math.min(nt[2],Ne+this.objectOffset[2]),Ge=Math.min(Ge,jt),_e[0]=Math.max(_e[0],lt+this.objectOffset[0]),_e[1]=Math.max(_e[1],Gt+this.objectOffset[1]),_e[2]=Math.max(_e[2],Ne+this.objectOffset[2]),je=Math.max(je,jt),Xe+=1}}for(j.intensityBounds&&(Ge=+j.intensityBounds[0],je=+j.intensityBounds[1]),ye=6;ye<Re;ye+=10)Pe[ye]=(Pe[ye]-Ge)/(je-Ge);this._vertexCount=Xe,this._coordinateBuffer.update(Pe.subarray(0,Re)),l.freeFloat(Pe),l.free(Ee.data),this.bounds=[nt,_e],this.intensity=j.intensity||this._field[2],(this.intensityBounds[0]!==Ge||this.intensityBounds[1]!==je)&&(se=!0),this.intensityBounds=[Ge,je]}if("levels"in j){var Tt=j.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],ye=0;ye<3;++ye)Tt[ye]=Tt[ye].slice(),Tt[ye].sort(function(kt,Kt){return kt-Kt});for(ye=0;ye<3;++ye)for(Ie=0;Ie<Tt[ye].length;++Ie)Tt[ye][Ie]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(Tt[ye].length!==this.contourLevels[ye].length){se=!0;break}for(Ie=0;Ie<Tt[ye].length;++Ie)if(Tt[ye][Ie]!==this.contourLevels[ye][Ie]){se=!0;break e}}this.contourLevels=Tt}if(se){Me=this._field,ce=this.shape;for(var Dt=[],Xt=0;Xt<3;++Xt){var gr=this.contourLevels[Xt],gt=[],Zt=[],Qt=[0,0,0];for(ye=0;ye<gr.length;++ye){var yr=c(this._field[Xt],gr[ye]);gt.push(Dt.length/5|0),Xe=0;e:for(Ie=0;Ie<yr.cells.length;++Ie){var or=yr.cells[Ie];for(xe=0;xe<2;++xe){var mt=yr.positions[or[xe]],ut=mt[0],bt=Math.floor(ut)|0,Et=ut-bt,Rt=mt[1],Ht=Math.floor(Rt)|0,Bt=Rt-Ht,Nt=!1;t:for(var Jt=0;Jt<3;++Jt){Qt[Jt]=0;var hr=(Xt+Jt+1)%3;for(Le=0;Le<2;++Le){var fr=Le?Et:1-Et;for(et=Math.min(Math.max(bt+Le,0),ce[0])|0,ve=0;ve<2;++ve){var dr=ve?Bt:1-Bt;if(st=Math.min(Math.max(Ht+ve,0),ce[1])|0,Jt<2?Ne=this._field[hr].get(et,st):Ne=(this.intensity.get(et,st)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ne)||isNaN(Ne)){Nt=!0;break t}var Ye=fr*dr;Qt[Jt]+=Ye*Ne}}}if(!Nt)Dt.push(Qt[0],Qt[1],mt[0],mt[1],Qt[2]),Xe+=1;else{if(xe>0){for(var Ve=0;Ve<5;++Ve)Dt.pop();Xe-=1}continue e}}}Zt.push(Xe)}this._contourOffsets[Xt]=gt,this._contourCounts[Xt]=Zt}var _t=l.mallocFloat(Dt.length);for(ye=0;ye<Dt.length;++ye)_t[ye]=Dt[ye];this._contourBuffer.update(_t),l.freeFloat(_t)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var j=0;j<3;++j)l.freeFloat(this._field[j].data)},B.highlight=function(j){var X;if(!j){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(X=0;X<3;++X)this.enableHighlight[X]?this.highlightLevel[X]=j.level[X]:this.highlightLevel[X]=-1;var se;for(this.snapToData?se=j.dataCoordinate:se=j.position,X=0;X<3;++X)se[X]-=this.objectOffset[X];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var q=0,ce=this.shape,ye=l.mallocFloat(12*ce[0]*ce[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=se[we];var be=(we+1)%3,De=(we+2)%3,ke=this._field[we],Be=this._field[be],Ae=this._field[De],Ie=c(ke,se[we]),Me=Ie.cells,Fe=Ie.positions;for(this._dynamicOffsets[we]=q,X=0;X<Me.length;++X)for(var Ee=Me[X],He=0;He<2;++He){var rt=Fe[Ee[He]],ot=+rt[0],$e=ot|0,qe=Math.min($e+1,ce[0])|0,ht=ot-$e,vt=1-ht,pt=+rt[1],wt=pt|0,Mt=Math.min(wt+1,ce[1])|0,nt=pt-wt,_e=1-nt,Ge=vt*_e,je=vt*nt,We=ht*_e,Pe=ht*nt,Re=Ge*Be.get($e,wt)+je*Be.get($e,Mt)+We*Be.get(qe,wt)+Pe*Be.get(qe,Mt),Xe=Ge*Ae.get($e,wt)+je*Ae.get($e,Mt)+We*Ae.get(qe,wt)+Pe*Ae.get(qe,Mt);if(isNaN(Re)||isNaN(Xe)){He&&(q-=1);break}ye[2*q+0]=Re,ye[2*q+1]=Xe,q+=1}this._dynamicCounts[we]=q-this._dynamicOffsets[we]}this._dynamicBuffer.update(ye.subarray(0,2*q)),l.freeFloat(ye)}};function oe(j){var X=j.gl,se=y(X),q=A(X),ce=M(X),ye=s(X),we=a(X),be=n(X,[{buffer:we,size:4,stride:E,offset:0},{buffer:we,size:3,stride:E,offset:16},{buffer:we,size:3,stride:E,offset:28}]),De=a(X),ke=n(X,[{buffer:De,size:4,stride:20,offset:0},{buffer:De,size:1,stride:20,offset:16}]),Be=a(X),Ae=n(X,[{buffer:Be,size:2,type:X.FLOAT}]),Ie=f(X,1,_,X.RGBA,X.UNSIGNED_BYTE);Ie.minFilter=X.LINEAR,Ie.magFilter=X.LINEAR;var Me=new O(X,[0,0],[[0,0,0],[0,0,0]],se,q,we,be,Ie,ce,ye,De,ke,Be,Ae,[0,0,0]),Fe={levels:[[],[],[]]};for(var Ee in j)Fe[Ee]=j[Ee];return Fe.colormap=Fe.colormap||"jet",Me.update(Fe),Me}},7766:function(v,p,r){var t=r(9618),a=r(5298),n=r(1888);v.exports=s;var f=null,l=null,u=null;function g(E){f=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],l=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],u=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,b){a.muls(E,b,255)};function c(E,b,F){var I=E.gl,N=I.getParameter(I.MAX_TEXTURE_SIZE);if(b<0||b>N||F<0||F>N)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[b,F],E.bind(),I.texImage2D(I.TEXTURE_2D,0,E.format,b,F,0,E.format,E.type,null),E._mipLevels=[0],E}function o(E,b,F,I,N,_){this.gl=E,this.handle=b,this.format=N,this.type=_,this._shape=[F,I],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return O._wrapS},set:function(U){return O.wrapS=U}},{get:function(){return O._wrapT},set:function(U){return O.wrapT=U}}]),this._wrapVector=B;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(U){return O.width=U}},{get:function(){return O._shape[1]},set:function(U){return O.height=U}}]),this._shapeVector=z}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(E)>=0&&(b.getExtension("OES_texture_float_linear")||(E=b.NEAREST)),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(E)>=0&&(b.getExtension("OES_texture_float_linear")||(E=b.NEAREST)),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var b=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,b!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(u.indexOf(E[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,c(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,c(this,this._shape[0],E),E}}}),d.bind=function(E){var b=this.gl;return E!==void 0&&b.activeTexture(b.TEXTURE0+(E|0)),b.bindTexture(b.TEXTURE_2D,this.handle),E!==void 0?E|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),b=0;E>0;++b,E>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},d.setPixels=function(E,b,F,I){var N=this.gl;this.bind(),Array.isArray(b)?(I=F,F=b[1]|0,b=b[0]|0):(b=b||0,F=F||0),I=I||0;var _=h(E)?E:E.raw;if(_){var O=this._mipLevels.indexOf(I)<0;O?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,_),this._mipLevels.push(I)):N.texSubImage2D(N.TEXTURE_2D,I,b,F,this.format,this.type,_)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||b+E.shape[1]>this._shape[1]>>>I||F+E.shape[0]>this._shape[0]>>>I||b<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,b,F,I,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function x(E,b){return E.length===3?b[2]===1&&b[1]===E[0]*E[2]&&b[0]===E[2]:b[0]===1&&b[1]===E[0]}function w(E,b,F,I,N,_,O,B){var z=B.dtype,U=B.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Z=0,J=0,re=x(U,B.stride.slice());if(z==="float32"?Z=E.FLOAT:z==="float64"?(Z=E.FLOAT,re=!1,z="float32"):z==="uint8"?Z=E.UNSIGNED_BYTE:(Z=E.UNSIGNED_BYTE,re=!1,z="uint8"),U.length===2)J=E.LUMINANCE,U=[U[0],U[1],1],B=t(B.data,U,[B.stride[0],B.stride[1],1],B.offset);else if(U.length===3){if(U[2]===1)J=E.ALPHA;else if(U[2]===2)J=E.LUMINANCE_ALPHA;else if(U[2]===3)J=E.RGB;else if(U[2]===4)J=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");U[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===E.LUMINANCE||J===E.ALPHA)&&(N===E.LUMINANCE||N===E.ALPHA)&&(J=N),J!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=B.size,ue=O.indexOf(I)<0;if(ue&&O.push(I),Z===_&&re)B.offset===0&&B.data.length===ne?ue?E.texImage2D(E.TEXTURE_2D,I,N,U[0],U[1],0,N,_,B.data):E.texSubImage2D(E.TEXTURE_2D,I,b,F,U[0],U[1],N,_,B.data):ue?E.texImage2D(E.TEXTURE_2D,I,N,U[0],U[1],0,N,_,B.data.subarray(B.offset,B.offset+ne)):E.texSubImage2D(E.TEXTURE_2D,I,b,F,U[0],U[1],N,_,B.data.subarray(B.offset,B.offset+ne));else{var te;_===E.FLOAT?te=n.mallocFloat32(ne):te=n.mallocUint8(ne);var Q=t(te,U,[U[2],U[2]*U[0],1]);Z===E.FLOAT&&_===E.UNSIGNED_BYTE?T(Q,B):a.assign(Q,B),ue?E.texImage2D(E.TEXTURE_2D,I,N,U[0],U[1],0,N,_,te.subarray(0,ne)):E.texSubImage2D(E.TEXTURE_2D,I,b,F,U[0],U[1],N,_,te.subarray(0,ne)),_===E.FLOAT?n.freeFloat32(te):n.freeUint8(te)}}function C(E){var b=E.createTexture();return E.bindTexture(E.TEXTURE_2D,b),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),b}function y(E,b,F,I,N){var _=E.getParameter(E.MAX_TEXTURE_SIZE);if(b<0||b>_||F<0||F>_)throw new Error("gl-texture2d: Invalid texture shape");if(N===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,I,b,F,0,I,N,null),new o(E,O,b,F,I,N)}function M(E,b,F,I,N,_){var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,N,N,_,b),new o(E,O,F,I,N,_)}function A(E,b){var F=b.dtype,I=b.shape.slice(),N=E.getParameter(E.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>N||I[1]<0||I[1]>N)throw new Error("gl-texture2d: Invalid texture size");var _=x(I,b.stride.slice()),O=0;F==="float32"?O=E.FLOAT:F==="float64"?(O=E.FLOAT,_=!1,F="float32"):F==="uint8"?O=E.UNSIGNED_BYTE:(O=E.UNSIGNED_BYTE,_=!1,F="uint8");var B=0;if(I.length===2)B=E.LUMINANCE,I=[I[0],I[1],1],b=t(b.data,I,[b.stride[0],b.stride[1],1],b.offset);else if(I.length===3)if(I[2]===1)B=E.ALPHA;else if(I[2]===2)B=E.LUMINANCE_ALPHA;else if(I[2]===3)B=E.RGB;else if(I[2]===4)B=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===E.FLOAT&&!E.getExtension("OES_texture_float")&&(O=E.UNSIGNED_BYTE,_=!1);var z,U,Z=b.size;if(_)b.offset===0&&b.data.length===Z?z=b.data:z=b.data.subarray(b.offset,b.offset+Z);else{var J=[I[2],I[2]*I[0],1];U=n.malloc(Z,F);var re=t(U,I,J,0);(F==="float32"||F==="float64")&&O===E.UNSIGNED_BYTE?T(re,b):a.assign(re,b),z=U.subarray(0,Z)}var ne=C(E);return E.texImage2D(E.TEXTURE_2D,0,B,I[0],I[1],0,B,O,z),_||n.free(U),new o(E,ne,I[0],I[1],B,O)}function s(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||g(E),typeof arguments[1]=="number")return y(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],F=h(b)?b:b.raw;if(F)return M(E,F,b.width|0,b.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return A(E,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,a){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<a.length;++f){var l=a[f];if(l.buffer){var u=l.buffer,g=l.size||4,h=l.type||r.FLOAT,T=!!l.normalized,c=l.stride||0,o=l.offset||0;u.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,g,h,T,c,o)}else{if(typeof l=="number")r.vertexAttrib1f(f,l);else if(l.length===1)r.vertexAttrib1f(f,l[0]);else if(l.length===2)r.vertexAttrib2f(f,l[0],l[1]);else if(l.length===3)r.vertexAttrib3f(f,l[0],l[1],l[2]);else if(l.length===4)r.vertexAttrib4f(f,l[0],l[1],l[2],l[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=p},870:function(v,p,r){var t=r(1433);function a(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},a.prototype.update=function(f,l,u){this._elements=l,this._attributes=f,this._elementsType=u||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(f,l,u){u=u||0;var g=this.gl;this._elements?g.drawElements(f,l,this._elementsType,u):g.drawArrays(f,u,l)};function n(f){return new a(f)}v.exports=n},7518:function(v,p,r){var t=r(1433);function a(l,u,g,h,T,c){this.location=l,this.dimension=u,this.a=g,this.b=h,this.c=T,this.d=c}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(l,u,g){this.gl=l,this._ext=u,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(l,u,g){if(this.bind(),t(this.gl,u,l),this.unbind(),this._attribs.length=0,l)for(var h=0;h<l.length;++h){var T=l[h];typeof T=="number"?this._attribs.push(new a(h,1,T)):Array.isArray(T)&&this._attribs.push(new a(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!u,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(l,u,g){g=g||0;var h=this.gl;this._useElements?h.drawElements(l,u,this._elementsType,g):h.drawArrays(l,g,u)};function f(l,u){return new n(l,u,u.createVertexArrayOES())}v.exports=f},8116:function(v,p,r){var t=r(7518),a=r(870);function n(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}function f(l,u,g,h){var T=l.createVertexArray?new n(l):l.getExtension("OES_vertex_array_object"),c;return T?c=t(l,T):c=a(l),c.update(u,g,h),c}v.exports=f},5632:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r}},8192:function(v,p,r){v.exports=f;var t=r(2825),a=r(3536),n=r(244);function f(l,u){var g=t(l[0],l[1],l[2]),h=t(u[0],u[1],u[2]);a(g,g),a(h,h);var T=n(g,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=a[0],g=a[1],h=a[2];return r[0]=f*h-l*g,r[1]=l*u-n*h,r[2]=n*g-f*u,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(a*a+n*n+f*f)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=a;var t=r(2613);function a(n,f){var l=n[0],u=n[1],g=n[2],h=f[0],T=f[1],c=f[2];return Math.abs(l-h)<=t*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(u-T)<=t*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(g-c)<=t*Math.max(1,Math.abs(g),Math.abs(c))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=a;var t=r(1091)();function a(n,f,l,u,g,h){var T,c;for(f||(f=3),l||(l=0),u?c=Math.min(u*f+l,n.length):c=n.length,T=l;T<c;T+=f)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],g(t,t,h),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=p;function p(r,t,a){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=a,n}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return Math.sqrt(t*t+a*a+n*n)}},6658:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],l=t[1],u=t[2];return r[0]=f+n*(a[0]-f),r[1]=l+n*(a[1]-l),r[2]=u+n*(a[2]-u),r}},7417:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r}},8107:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],l=a*a+n*n+f*f;return l>0&&(l=1/Math.sqrt(l),r[0]=t[0]*l,r[1]=t[1]*l,r[2]=t[2]*l),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var a=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(a)*f,r[1]=Math.sin(a)*f,r[2]=n*t,r}},6894:function(v){v.exports=p;function p(r,t,a,n){var f=a[1],l=a[2],u=t[1]-f,g=t[2]-l,h=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=f+u*T-g*h,r[2]=l+u*h+g*T,r}},109:function(v){v.exports=p;function p(r,t,a,n){var f=a[0],l=a[2],u=t[0]-f,g=t[2]-l,h=Math.sin(n),T=Math.cos(n);return r[0]=f+g*h+u*T,r[1]=t[1],r[2]=l+g*T-u*h,r}},8692:function(v){v.exports=p;function p(r,t,a,n){var f=a[0],l=a[1],u=t[0]-f,g=t[1]-l,h=Math.sin(n),T=Math.cos(n);return r[0]=f+u*T-g*h,r[1]=l+u*h+g*T,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}},8489:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r}},1463:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t,r[1]=a,r[2]=n,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return a*a+n*n+f*f}},3066:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return t*t+a*a+n*n}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r}},492:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2];return r[0]=n*a[0]+f*a[3]+l*a[6],r[1]=n*a[1]+f*a[4]+l*a[7],r[2]=n*a[2]+f*a[5]+l*a[8],r}},5673:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=a[3]*n+a[7]*f+a[11]*l+a[15];return u=u||1,r[0]=(a[0]*n+a[4]*f+a[8]*l+a[12])/u,r[1]=(a[1]*n+a[5]*f+a[9]*l+a[13])/u,r[2]=(a[2]*n+a[6]*f+a[10]*l+a[14])/u,r}},264:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=a[0],g=a[1],h=a[2],T=a[3],c=T*n+g*l-h*f,o=T*f+h*n-u*l,d=T*l+u*f-g*n,x=-u*n-g*f-h*l;return r[0]=c*T+x*-u+o*-h-d*-g,r[1]=o*T+x*-g+d*-u-c*-h,r[2]=d*T+x*-h+c*-g-o*-u,r}},4361:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r[3]=t[3]+a[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],l=t[3]-r[3];return Math.sqrt(a*a+n*n+f*f+l*l)}},1373:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r[3]=t[3]/a[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,a,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=a,f[3]=n,f}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+a*a+n*n+f*f)}},2573:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],l=t[1],u=t[2],g=t[3];return r[0]=f+n*(a[0]-f),r[1]=l+n*(a[1]-l),r[2]=u+n*(a[2]-u),r[3]=g+n*(a[3]-g),r}},160:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r[3]=Math.max(t[3],a[3]),r}},2334:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r[3]=Math.min(t[3],a[3]),r}},3576:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r[3]=t[3]*a[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],l=t[3],u=a*a+n*n+f*f+l*l;return u>0&&(u=1/Math.sqrt(u),r[0]=a*u,r[1]=n*u,r[2]=f*u,r[3]=l*u),r}},9131:function(v,p,r){var t=r(5177),a=r(9288);v.exports=n;function n(f,l){return l=l||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),a(f,f,l),f}},9288:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r}},4844:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r[3]=t[3]+a[3]*n,r}},4578:function(v){v.exports=p;function p(r,t,a,n,f){return r[0]=t,r[1]=a,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],l=t[3]-r[3];return a*a+n*n+f*f+l*l}},483:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3];return t*t+a*a+n*n+f*f}},6860:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r[3]=t[3]-a[3],r}},5352:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=t[3];return r[0]=a[0]*n+a[4]*f+a[8]*l+a[12]*u,r[1]=a[1]*n+a[5]*f+a[9]*l+a[13]*u,r[2]=a[2]*n+a[6]*f+a[10]*l+a[14]*u,r[3]=a[3]*n+a[7]*f+a[11]*l+a[15]*u,r}},4041:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],l=t[2],u=a[0],g=a[1],h=a[2],T=a[3],c=T*n+g*l-h*f,o=T*f+h*n-u*l,d=T*l+u*f-g*n,x=-u*n-g*f-h*l;return r[0]=c*T+x*-u+o*-h-d*-g,r[1]=o*T+x*-g+d*-u-c*-h,r[2]=d*T+x*-h+c*-g-o*-u,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),a=r(6468);v.exports=n;function n(f){for(var l=Array.isArray(f)?f:t(f),u=0;u<l.length;u++){var g=l[u];if(g.type==="preprocessor"){var h=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?a(c):c).trim()}}}}},5874:function(v,p,r){v.exports=b;var t=r(620),a=r(7827),n=r(6852),f=r(7932),l=r(3508),u=999,g=9999,h=0,T=1,c=2,o=3,d=4,x=5,w=6,C=7,y=8,M=9,A=10,s=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(F){var I=0,N=0,_=u,O,B,z=[],U=[],Z=1,J=0,re=0,ne=!1,ue=!1,te="",Q;F=F||{};var ie=n,Y=t;F.version==="300 es"&&(ie=l,Y=f);for(var $={},oe={},I=0;I<ie.length;I++)$[ie[I]]=!0;for(var I=0;I<Y.length;I++)oe[Y[I]]=!0;return function(Fe){return U=[],Fe!==null?X(Fe):se()};function j(Fe){Fe.length&&U.push({type:E[_],data:Fe,position:re,line:Z,column:J})}function X(Fe){I=0,Fe.toString&&(Fe=Fe.toString()),te+=Fe.replace(/\r\n/g,`
`),Q=te.length;for(var Ee;O=te[I],I<Q;){switch(Ee=I,_){case h:I=be();break;case T:I=we();break;case c:I=ye();break;case o:I=De();break;case d:I=Ae();break;case s:I=Be();break;case x:I=Ie();break;case g:I=Me();break;case M:I=ce();break;case u:I=q();break}if(Ee!==I)switch(te[Ee]){case`
`:J=0,++Z;break;default:++J;break}}return N+=I,te=te.slice(I),U}function se(Fe){return z.length&&j(z.join("")),_=A,j("(eof)"),U}function q(){return z=z.length?[]:z,B==="/"&&O==="*"?(re=N+I-1,_=h,B=O,I+1):B==="/"&&O==="/"?(re=N+I-1,_=T,B=O,I+1):O==="#"?(_=c,re=N+I,I):/\s/.test(O)?(_=M,re=N+I,I):(ne=/\d/.test(O),ue=/[^\w_]/.test(O),re=N+I,_=ne?d:ue?o:g,I)}function ce(){return/[^\s]/g.test(O)?(j(z.join("")),_=u,I):(z.push(O),B=O,I+1)}function ye(){return(O==="\r"||O===`
`)&&B!=="\\"?(j(z.join("")),_=u,I):(z.push(O),B=O,I+1)}function we(){return ye()}function be(){return O==="/"&&B==="*"?(z.push(O),j(z.join("")),_=u,I+1):(z.push(O),B=O,I+1)}function De(){if(B==="."&&/\d/.test(O))return _=x,I;if(B==="/"&&O==="*")return _=h,I;if(B==="/"&&O==="/")return _=T,I;if(O==="."&&z.length){for(;ke(z););return _=x,I}if(O===";"||O===")"||O==="("){if(z.length)for(;ke(z););return j(O),_=u,I+1}var Fe=z.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||Fe){for(;ke(z););return _=u,I}return z.push(O),B=O,I+1}function ke(Fe){var Ee=0,He,rt;do{if(He=a.indexOf(Fe.slice(0,Fe.length+Ee).join("")),rt=a[He],He===-1){if(Ee--+Fe.length>0)continue;rt=Fe.slice(0,1).join("")}return j(rt),re+=rt.length,z=z.slice(rt.length),z.length}while(1)}function Be(){return/[^a-fA-F0-9]/.test(O)?(j(z.join("")),_=u,I):(z.push(O),B=O,I+1)}function Ae(){return O==="."||/[eE]/.test(O)?(z.push(O),_=x,B=O,I+1):O==="x"&&z.length===1&&z[0]==="0"?(_=s,z.push(O),B=O,I+1):/[^\d]/.test(O)?(j(z.join("")),_=u,I):(z.push(O),B=O,I+1)}function Ie(){return O==="f"&&(z.push(O),B=O,I+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(B)?(z.push(O),B=O,I+1):/[^\d]/.test(O)?(j(z.join("")),_=u,I):(z.push(O),B=O,I+1)}function Me(){if(/[^\d\w_]/.test(O)){var Fe=z.join("");return oe[Fe]?_=y:$[Fe]?_=C:_=w,j(z.join("")),_=u,I}return z.push(O),B=O,I+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=a;function a(n,f){var l=t(f),u=[];return u=u.concat(l(n)),u=u.concat(l(null)),u}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<p.length-1;a++)t.push(p[a],r[a]||"");return t.push(p[a]),t.join("")}},7520:function(v,p,r){var t=r(9507);function a(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&a()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,a,n,f){var l,u,g=f*8-n-1,h=(1<<g)-1,T=h>>1,c=-7,o=a?f-1:0,d=a?-1:1,x=r[t+o];for(o+=d,l=x&(1<<-c)-1,x>>=-c,c+=g;c>0;l=l*256+r[t+o],o+=d,c-=8);for(u=l&(1<<-c)-1,l>>=-c,c+=n;c>0;u=u*256+r[t+o],o+=d,c-=8);if(l===0)l=1-T;else{if(l===h)return u?NaN:(x?-1:1)*(1/0);u=u+Math.pow(2,n),l=l-T}return(x?-1:1)*u*Math.pow(2,l-n)},p.write=function(r,t,a,n,f,l){var u,g,h,T=l*8-f-1,c=(1<<T)-1,o=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:l-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+o>=1?t+=d/h:t+=d*Math.pow(2,1-o),t*h>=2&&(u++,h/=2),u+o>=c?(g=0,u=c):u+o>=1?(g=(t*h-1)*Math.pow(2,f),u=u+o):(g=t*Math.pow(2,o-1)*Math.pow(2,f),u=0));f>=8;r[a+x]=g&255,x+=w,g/=256,f-=8);for(u=u<<f|g,T+=f;T>0;r[a+x]=u&255,x+=w,u/=256,T-=8);r[a+x-w]|=C*128}},8954:function(v,p,r){v.exports=o;var t=r(3250),a=r(6803).Fw;function n(d,x,w){this.vertices=d,this.adjacent=x,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function f(d,x,w){this.vertices=d,this.cell=x,this.index=w}function l(d,x){return a(d.vertices,x.vertices)}function u(d){return function(){var x=this.tuple;return d.apply(this,x)}}function g(d){var x=t[d+1];return x||(x=t),u(x)}var h=[];function T(d,x,w){this.dimension=d,this.vertices=x,this.simplices=w,this.interior=w.filter(function(M){return!M.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var y=h[d];y||(y=h[d]=g(d)),this.orient=y}var c=T.prototype;c.handleBoundaryDegeneracy=function(d,x){var w=this.dimension,C=this.vertices.length-1,y=this.tuple,M=this.vertices,A=[d];for(d.lastVisited=-C;A.length>0;){d=A.pop();for(var s=d.adjacent,E=0;E<=w;++E){var b=s[E];if(!(!b.boundary||b.lastVisited<=-C)){for(var F=b.vertices,I=0;I<=w;++I){var N=F[I];N<0?y[I]=x:y[I]=M[N]}var _=this.orient();if(_>0)return b;b.lastVisited=-C,_===0&&A.push(b)}}}return null},c.walk=function(d,x){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,M=this.tuple,A=x?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[A];e:for(;!s.boundary;){for(var E=s.vertices,b=s.adjacent,F=0;F<=C;++F)M[F]=y[E[F]];s.lastVisited=w;for(var F=0;F<=C;++F){var I=b[F];if(!(I.lastVisited>=w)){var N=M[F];M[F]=d;var _=this.orient();if(M[F]=N,_<0){s=I;continue e}else I.boundary?I.lastVisited=-w:I.lastVisited=w}}return}return s},c.addPeaks=function(d,x){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,M=this.tuple,A=this.interior,s=this.simplices,E=[x];x.lastVisited=w,x.vertices[x.vertices.indexOf(-1)]=w,x.boundary=!1,A.push(x);for(var b=[];E.length>0;){var x=E.pop(),F=x.vertices,I=x.adjacent,N=F.indexOf(w);if(!(N<0)){for(var _=0;_<=C;++_)if(_!==N){var O=I[_];if(!(!O.boundary||O.lastVisited>=w)){var B=O.vertices;if(O.lastVisited!==-w){for(var z=0,U=0;U<=C;++U)B[U]<0?(z=U,M[U]=d):M[U]=y[B[U]];var Z=this.orient();if(Z>0){B[z]=w,O.boundary=!1,A.push(O),E.push(O),O.lastVisited=w;continue}else O.lastVisited=-w}var J=O.adjacent,re=F.slice(),ne=I.slice(),ue=new n(re,ne,!0);s.push(ue);var te=J.indexOf(x);if(!(te<0)){J[te]=ue,ne[N]=O,re[_]=-1,ne[_]=x,I[_]=ue,ue.flip();for(var U=0;U<=C;++U){var Q=re[U];if(!(Q<0||Q===w)){for(var ie=new Array(C-1),Y=0,$=0;$<=C;++$){var oe=re[$];oe<0||$===U||(ie[Y++]=oe)}b.push(new f(ie,ue,U))}}}}}}}b.sort(l);for(var _=0;_+1<b.length;_+=2){var j=b[_],X=b[_+1],se=j.index,q=X.index;se<0||q<0||(j.cell.adjacent[j.index]=X.cell,X.cell.adjacent[X.index]=j.cell)}},c.insert=function(d,x){var w=this.vertices;w.push(d);var C=this.walk(d,x);if(C){for(var y=this.dimension,M=this.tuple,A=0;A<=y;++A){var s=C.vertices[A];s<0?M[A]=d:M[A]=w[s]}var E=this.orient(M);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,x=[],w=this.simplices,C=w.length,y=0;y<C;++y){var M=w[y];if(M.boundary){for(var A=new Array(d),s=M.vertices,E=0,b=0,F=0;F<=d;++F)s[F]>=0?A[E++]=s[F]:b=F&1;if(b===(d&1)){var I=A[0];A[0]=A[1],A[1]=I}x.push(A)}}return x};function o(d,x){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(w<=C)throw new Error("Must input at least d+1 points");var y=d.slice(0,C+1),M=t.apply(void 0,y);if(M===0)throw new Error("Input not in general position");for(var A=new Array(C+1),s=0;s<=C;++s)A[s]=s;M<0&&(A[0]=1,A[1]=0);for(var E=new n(A,new Array(C+1),!1),b=E.adjacent,F=new Array(C+2),s=0;s<=C;++s){for(var I=A.slice(),N=0;N<=C;++N)N===s&&(I[N]=-1);var _=I[0];I[0]=I[1],I[1]=_;var O=new n(I,new Array(C+1),!0);b[s]=O,F[s]=O}F[C+1]=E;for(var s=0;s<=C;++s)for(var I=b[s].vertices,B=b[s].adjacent,N=0;N<=C;++N){var z=I[N];if(z<0){B[N]=E;continue}for(var U=0;U<=C;++U)b[U].vertices.indexOf(z)<0&&(B[N]=b[U])}for(var Z=new T(C,y,F),J=!!x,s=C+1;s<w;++s)Z.insert(d[s],J);return Z.boundary()}},3352:function(v,p,r){var t=r(2478),a=0,n=1,f=2;v.exports=E;function l(b,F,I,N,_){this.mid=b,this.left=F,this.right=I,this.leftPoints=N,this.rightPoints=_,this.count=(F?F.count:0)+(I?I.count:0)+N.length}var u=l.prototype;function g(b,F){b.mid=F.mid,b.left=F.left,b.right=F.right,b.leftPoints=F.leftPoints,b.rightPoints=F.rightPoints,b.count=F.count}function h(b,F){var I=M(F);b.mid=I.mid,b.left=I.left,b.right=I.right,b.leftPoints=I.leftPoints,b.rightPoints=I.rightPoints,b.count=I.count}function T(b,F){var I=b.intervals([]);I.push(F),h(b,I)}function c(b,F){var I=b.intervals([]),N=I.indexOf(F);return N<0?a:(I.splice(N,1),h(b,I),n)}u.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},u.insert=function(b){var F=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?T(this,b):this.left.insert(b):this.left=M([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?T(this,b):this.right.insert(b):this.right=M([b]);else{var I=t.ge(this.leftPoints,b,C),N=t.ge(this.rightPoints,b,y);this.leftPoints.splice(I,0,b),this.rightPoints.splice(N,0,b)}},u.remove=function(b){var F=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return a;var I=this.right?this.right.count:0;if(4*I>3*(F-1))return c(this,b);var N=this.left.remove(b);return N===f?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(b[0]>this.mid){if(!this.right)return a;var _=this.left?this.left.count:0;if(4*_>3*(F-1))return c(this,b);var N=this.right.remove(b);return N===f?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===b?f:a;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var O=this,B=this.left;B.right;)O=B,B=B.right;if(O===this)B.right=this.right;else{var z=this.left,N=this.right;O.count-=B.count,O.right=B.left,B.left=z,B.right=N}g(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var z=t.ge(this.leftPoints,b,C);z<this.leftPoints.length&&this.leftPoints[z][0]===b[0];++z)if(this.leftPoints[z]===b){this.count-=1,this.leftPoints.splice(z,1);for(var N=t.ge(this.rightPoints,b,y);N<this.rightPoints.length&&this.rightPoints[N][1]===b[1];++N)if(this.rightPoints[N]===b)return this.rightPoints.splice(N,1),n}return a}};function o(b,F,I){for(var N=0;N<b.length&&b[N][0]<=F;++N){var _=I(b[N]);if(_)return _}}function d(b,F,I){for(var N=b.length-1;N>=0&&b[N][1]>=F;--N){var _=I(b[N]);if(_)return _}}function x(b,F){for(var I=0;I<b.length;++I){var N=F(b[I]);if(N)return N}}u.queryPoint=function(b,F){if(b<this.mid){if(this.left){var I=this.left.queryPoint(b,F);if(I)return I}return o(this.leftPoints,b,F)}else if(b>this.mid){if(this.right){var I=this.right.queryPoint(b,F);if(I)return I}return d(this.rightPoints,b,F)}else return x(this.leftPoints,F)},u.queryInterval=function(b,F,I){if(b<this.mid&&this.left){var N=this.left.queryInterval(b,F,I);if(N)return N}if(F>this.mid&&this.right){var N=this.right.queryInterval(b,F,I);if(N)return N}return F<this.mid?o(this.leftPoints,F,I):b>this.mid?d(this.rightPoints,b,I):x(this.leftPoints,I)};function w(b,F){return b-F}function C(b,F){var I=b[0]-F[0];return I||b[1]-F[1]}function y(b,F){var I=b[1]-F[1];return I||b[0]-F[0]}function M(b){if(b.length===0)return null;for(var F=[],I=0;I<b.length;++I)F.push(b[I][0],b[I][1]);F.sort(w);for(var N=F[F.length>>1],_=[],O=[],B=[],I=0;I<b.length;++I){var z=b[I];z[1]<N?_.push(z):N<z[0]?O.push(z):B.push(z)}var U=B,Z=B.slice();return U.sort(C),Z.sort(y),new l(N,M(_),M(O),U,Z)}function A(b){this.root=b}var s=A.prototype;s.insert=function(b){this.root?this.root.insert(b):this.root=new l(b[0],null,null,[b],[b])},s.remove=function(b){if(this.root){var F=this.root.remove(b);return F===f&&(this.root=null),F!==a}return!1},s.queryPoint=function(b,F){if(this.root)return this.root.queryPoint(b,F)},s.queryInterval=function(b,F,I){if(b<=F&&this.root)return this.root.queryInterval(b,F,I)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(b){return!b||b.length===0?new A(null):new A(M(b))}},7762:function(v){function p(r){for(var t=new Array(r),a=0;a<r;++a)t[a]=a;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,a=0;a<r;a++)if(t=p.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,a){return r*(1-a)+t*a}v.exports=p},2652:function(v,p,r){var t=r(4335),a=r(6864),n=r(1903),f=r(9921),l=r(7608),u=r(5665),g={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=a(),T=a(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(M,A,s,E,b,F){if(A||(A=[0,0,0]),s||(s=[0,0,0]),E||(E=[0,0,0]),b||(b=[0,0,0,1]),F||(F=[0,0,0,1]),!t(h,M)||(n(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var I=h[3],N=h[7],_=h[11],O=h[12],B=h[13],z=h[14],U=h[15];if(I!==0||N!==0||_!==0){c[0]=I,c[1]=N,c[2]=_,c[3]=U;var Z=l(T,T);if(!Z)return!1;u(T,T),x(b,c,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(A[0]=O,A[1]=B,A[2]=z,w(o,h),s[0]=g.length(o[0]),g.normalize(o[0],o[0]),E[0]=g.dot(o[0],o[1]),C(o[1],o[1],o[0],1,-E[0]),s[1]=g.length(o[1]),g.normalize(o[1],o[1]),E[0]/=s[1],E[1]=g.dot(o[0],o[2]),C(o[2],o[2],o[0],1,-E[1]),E[2]=g.dot(o[1],o[2]),C(o[2],o[2],o[1],1,-E[2]),s[2]=g.length(o[2]),g.normalize(o[2],o[2]),E[1]/=s[2],E[2]/=s[2],g.cross(d,o[1],o[2]),g.dot(o[0],d)<0)for(var J=0;J<3;J++)s[J]*=-1,o[J][0]*=-1,o[J][1]*=-1,o[J][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(F[0]=-F[0]),o[0][2]>o[2][0]&&(F[1]=-F[1]),o[1][0]>o[0][1]&&(F[2]=-F[2]),!0};function x(y,M,A){var s=M[0],E=M[1],b=M[2],F=M[3];return y[0]=A[0]*s+A[4]*E+A[8]*b+A[12]*F,y[1]=A[1]*s+A[5]*E+A[9]*b+A[13]*F,y[2]=A[2]*s+A[6]*E+A[10]*b+A[14]*F,y[3]=A[3]*s+A[7]*E+A[11]*b+A[15]*F,y}function w(y,M){y[0][0]=M[0],y[0][1]=M[1],y[0][2]=M[2],y[1][0]=M[4],y[1][1]=M[5],y[1][2]=M[6],y[2][0]=M[8],y[2][1]=M[9],y[2][2]=M[10]}function C(y,M,A,s,E){y[0]=M[0]*s+A[0]*E,y[1]=M[1]*s+A[1]*E,y[2]=M[2]*s+A[2]*E}},4335:function(v){v.exports=function(r,t){var a=t[15];if(a===0)return!1;for(var n=1/a,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,p,r){var t=r(6658),a=r(7182),n=r(2652),f=r(9921),l=r(8648),u=c(),g=c(),h=c();v.exports=T;function T(x,w,C,y){if(f(w)===0||f(C)===0)return!1;var M=n(w,u.translate,u.scale,u.skew,u.perspective,u.quaternion),A=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!M||!A?!1:(t(h.translate,u.translate,g.translate,y),t(h.skew,u.skew,g.skew,y),t(h.scale,u.scale,g.scale,y),t(h.perspective,u.perspective,g.perspective,y),l(h.quaternion,u.quaternion,g.quaternion,y),a(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var a=t.create();v.exports=function(f,l,u,g,h,T){return t.identity(f),t.fromRotationTranslation(f,T,l),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(a),g[2]!==0&&(a[9]=g[2],t.multiply(f,f,a)),g[1]!==0&&(a[9]=0,a[8]=g[1],t.multiply(f,f,a)),g[0]!==0&&(a[8]=0,a[4]=g[0],t.multiply(f,f,a)),t.scale(f,f,u),f}},4192:function(v,p,r){var t=r(2478),a=r(7442),n=r(7608),f=r(5567),l=r(2408),u=r(7089),g=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=w;function o(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(C){var y=this._time,M=t.le(y,C),A=this.computedMatrix;if(!(M<0)){var s=this._components;if(M===y.length-1)for(var E=16*M,b=0;b<16;++b)A[b]=s[E++];else{for(var F=y[M+1]-y[M],E=16*M,I=this.prevMatrix,N=!0,b=0;b<16;++b)I[b]=s[E++];for(var _=this.nextMatrix,b=0;b<16;++b)_[b]=s[E++],N=N&&I[b]===_[b];if(F<1e-6||N)for(var b=0;b<16;++b)A[b]=I[b];else a(A,I,_,(C-y[M])/F)}var O=this.computedUp;O[0]=A[1],O[1]=A[5],O[2]=A[9],T(O,O);var B=this.computedInverse;n(B,A);var z=this.computedEye,U=B[15];z[0]=B[12]/U,z[1]=B[13]/U,z[2]=B[14]/U;for(var Z=this.computedCenter,J=Math.exp(this.computedRadius[0]),b=0;b<3;++b)Z[b]=z[b]-A[2+4*b]*J}},d.idle=function(C){if(!(C<this.lastT())){for(var y=this._components,M=y.length-16,A=0;A<16;++A)y.push(y[M++]);this._time.push(C)}},d.flush=function(C){var y=t.gt(this._time,C)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,y,M,A){this.recalcMatrix(C),y=y||this.computedEye,M=M||c,A=A||this.computedUp,this.setMatrix(C,g(this.computedMatrix,y,M,A));for(var s=0,E=0;E<3;++E)s+=Math.pow(M[E]-y[E],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},d.rotate=function(C,y,M,A){this.recalcMatrix(C);var s=this.computedInverse;y&&l(s,s,y),M&&f(s,s,M),A&&u(s,s,A),this.setMatrix(C,n(this.computedMatrix,s))};var x=[0,0,0];d.pan=function(C,y,M,A){x[0]=-(y||0),x[1]=-(M||0),x[2]=-(A||0),this.recalcMatrix(C);var s=this.computedInverse;h(s,s,x),this.setMatrix(C,n(s,s))},d.translate=function(C,y,M,A){x[0]=y||0,x[1]=M||0,x[2]=A||0,this.recalcMatrix(C);var s=this.computedMatrix;h(s,s,x),this.setMatrix(C,s)},d.setMatrix=function(C,y){if(!(C<this.lastT())){this._time.push(C);for(var M=0;M<16;++M)this._components.push(y[M])}},d.setDistance=function(C,y){this.computedRadius[0]=y},d.setDistanceLimits=function(C,y){var M=this._limits;M[0]=C,M[1]=y},d.getDistanceLimits=function(C){var y=this._limits;return C?(C[0]=y[0],C[1]=y[1],C):y};function w(C){C=C||{};var y=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(y)}},3090:function(v,p,r){v.exports=a;var t=r(3250)[3];function a(n){var f=n.length;if(f<3){for(var d=new Array(f),l=0;l<f;++l)d[l]=l;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var u=new Array(f),l=0;l<f;++l)u[l]=l;u.sort(function(y,M){var A=n[y][0]-n[M][0];return A||n[y][1]-n[M][1]});for(var g=[u[0],u[1]],h=[u[0],u[1]],l=2;l<f;++l){for(var T=u[l],c=n[T],o=g.length;o>1&&t(n[g[o-2]],n[g[o-1]],c)<=0;)o-=1,g.pop();for(g.push(T),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],c)>=0;)o-=1,h.pop();h.push(T)}for(var d=new Array(h.length+g.length-2),x=0,l=0,w=g.length;l<w;++l)d[x++]=g[l];for(var C=h.length-2;C>0;--C)d[x++]=h[C];return d}},351:function(v,p,r){v.exports=a;var t=r(4687);function a(n,f){f||(f=n,n=window);var l=0,u=0,g=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(b){var F=!1;return"altKey"in b&&(F=F||b.altKey!==h.alt,h.alt=!!b.altKey),"shiftKey"in b&&(F=F||b.shiftKey!==h.shift,h.shift=!!b.shiftKey),"ctrlKey"in b&&(F=F||b.ctrlKey!==h.control,h.control=!!b.ctrlKey),"metaKey"in b&&(F=F||b.metaKey!==h.meta,h.meta=!!b.metaKey),F}function o(b,F){var I=t.x(F),N=t.y(F);"buttons"in F&&(b=F.buttons|0),(b!==l||I!==u||N!==g||c(F))&&(l=b|0,u=I||0,g=N||0,f&&f(l,u,g,h))}function d(b){o(0,b)}function x(){(l||u||g||h.shift||h.alt||h.meta||h.control)&&(u=g=0,l=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function w(b){c(b)&&f&&f(l,u,g,h)}function C(b){t.buttons(b)===0?o(0,b):o(l,b)}function y(b){o(l|t.buttons(b),b)}function M(b){o(l&~t.buttons(b),b)}function A(){T||(T=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",y),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",x),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function s(){T&&(T=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",y),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",x),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}A();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(b){b?A():s()},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},24:function(v){var p={left:0,top:0};v.exports=r;function r(a,n,f){n=n||a.currentTarget||a.srcElement,Array.isArray(f)||(f=[0,0]);var l=a.clientX||0,u=a.clientY||0,g=t(n);return f[0]=l-g.left,f[1]=u-g.top,f}function t(a){return a===window||a===document||a===document.body?p:a.getBoundingClientRect()}},4687:function(v,p){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var l=f.which;if(l===2)return 4;if(l===3)return 2;if(l>0)return 1<<l-1}else if("button"in f){var l=f.button;if(l===1)return 4;if(l===2)return 2;if(l>=0)return 1<<l}}return 0}p.buttons=r;function t(f){return f.target||f.srcElement||window}p.element=t;function a(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var l=t(f),u=l.getBoundingClientRect();return f.clientX-u.left}return 0}p.x=a;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var l=t(f),u=l.getBoundingClientRect();return f.clientY-u.top}return 0}p.y=n},8512:function(v,p,r){var t=r(665);v.exports=a;function a(n,f,l){typeof n=="function"&&(l=!!f,f=n,n=window);var u=t("ex",n),g=function(h){l&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,x=1;switch(d){case 1:x=u;break;case 2:x=window.innerHeight;break}if(T*=x,c*=x,o*=x,T||c||o)return f(T,c,o,h)};return n.addEventListener("wheel",g),g}},2640:function(v,p,r){var t=r(1888);v.exports=f;var a={"false,0,1":function(u,g,h,T,c){return function(d,x,w,C){var y=d.shape[0]|0,M=d.shape[1]|0,A=d.data,s=d.offset|0,E=d.stride[0]|0,b=d.stride[1]|0,F=s,I,N=-E|0,_=0,O=-b|0,B=0,z=-E-b|0,U=0,Z=E|0,J=b-E*y|0,re=0,ne=0,ue=0,te=2*y|0,Q=T(te),ie=T(te),Y=0,$=0,oe=-1,j=-1,X=0,se=-y|0,q=y|0,ce=0,ye=-y-1|0,we=y-1|0,be=0,De=0,ke=0;for(re=0;re<y;++re)Q[Y++]=h(A[F],x,w,C),F+=Z;if(F+=J,M>0){if(ne=1,Q[Y++]=h(A[F],x,w,C),F+=Z,y>0)for(re=1,I=A[F],$=Q[Y]=h(I,x,w,C),X=Q[Y+oe],ce=Q[Y+se],be=Q[Y+ye],($!==X||$!==ce||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,X,ce,be,x,w,C),De=ie[Y]=ue++),Y+=1,F+=Z,re=2;re<y;++re)I=A[F],$=Q[Y]=h(I,x,w,C),X=Q[Y+oe],ce=Q[Y+se],be=Q[Y+ye],($!==X||$!==ce||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,X,ce,be,x,w,C),De=ie[Y]=ue++,be!==X&&g(ie[Y+oe],De,U,_,be,X,x,w,C)),Y+=1,F+=Z;for(F+=J,Y=0,ke=oe,oe=j,j=ke,ke=se,se=q,q=ke,ke=ye,ye=we,we=ke,ne=2;ne<M;++ne){if(Q[Y++]=h(A[F],x,w,C),F+=Z,y>0)for(re=1,I=A[F],$=Q[Y]=h(I,x,w,C),X=Q[Y+oe],ce=Q[Y+se],be=Q[Y+ye],($!==X||$!==ce||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,X,ce,be,x,w,C),De=ie[Y]=ue++,be!==ce&&g(ie[Y+se],De,B,U,ce,be,x,w,C)),Y+=1,F+=Z,re=2;re<y;++re)I=A[F],$=Q[Y]=h(I,x,w,C),X=Q[Y+oe],ce=Q[Y+se],be=Q[Y+ye],($!==X||$!==ce||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,X,ce,be,x,w,C),De=ie[Y]=ue++,be!==ce&&g(ie[Y+se],De,B,U,ce,be,x,w,C),be!==X&&g(ie[Y+oe],De,U,_,be,X,x,w,C)),Y+=1,F+=Z;ne&1&&(Y=0),ke=oe,oe=j,j=ke,ke=se,se=q,q=ke,ke=ye,ye=we,we=ke,F+=J}}c(ie),c(Q)}},"false,1,0":function(u,g,h,T,c){return function(d,x,w,C){var y=d.shape[0]|0,M=d.shape[1]|0,A=d.data,s=d.offset|0,E=d.stride[0]|0,b=d.stride[1]|0,F=s,I,N=-E|0,_=0,O=-b|0,B=0,z=-E-b|0,U=0,Z=b|0,J=E-b*M|0,re=0,ne=0,ue=0,te=2*M|0,Q=T(te),ie=T(te),Y=0,$=0,oe=-1,j=-1,X=0,se=-M|0,q=M|0,ce=0,ye=-M-1|0,we=M-1|0,be=0,De=0,ke=0;for(ne=0;ne<M;++ne)Q[Y++]=h(A[F],x,w,C),F+=Z;if(F+=J,y>0){if(re=1,Q[Y++]=h(A[F],x,w,C),F+=Z,M>0)for(ne=1,I=A[F],$=Q[Y]=h(I,x,w,C),ce=Q[Y+se],X=Q[Y+oe],be=Q[Y+ye],($!==ce||$!==X||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,ce,X,be,x,w,C),De=ie[Y]=ue++),Y+=1,F+=Z,ne=2;ne<M;++ne)I=A[F],$=Q[Y]=h(I,x,w,C),ce=Q[Y+se],X=Q[Y+oe],be=Q[Y+ye],($!==ce||$!==X||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,ce,X,be,x,w,C),De=ie[Y]=ue++,be!==X&&g(ie[Y+oe],De,B,U,X,be,x,w,C)),Y+=1,F+=Z;for(F+=J,Y=0,ke=se,se=q,q=ke,ke=oe,oe=j,j=ke,ke=ye,ye=we,we=ke,re=2;re<y;++re){if(Q[Y++]=h(A[F],x,w,C),F+=Z,M>0)for(ne=1,I=A[F],$=Q[Y]=h(I,x,w,C),ce=Q[Y+se],X=Q[Y+oe],be=Q[Y+ye],($!==ce||$!==X||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,ce,X,be,x,w,C),De=ie[Y]=ue++,be!==ce&&g(ie[Y+se],De,U,_,be,ce,x,w,C)),Y+=1,F+=Z,ne=2;ne<M;++ne)I=A[F],$=Q[Y]=h(I,x,w,C),ce=Q[Y+se],X=Q[Y+oe],be=Q[Y+ye],($!==ce||$!==X||$!==be)&&(_=A[F+N],B=A[F+O],U=A[F+z],u(re,ne,I,_,B,U,$,ce,X,be,x,w,C),De=ie[Y]=ue++,be!==X&&g(ie[Y+oe],De,B,U,X,be,x,w,C),be!==ce&&g(ie[Y+se],De,U,_,be,ce,x,w,C)),Y+=1,F+=Z;re&1&&(Y=0),ke=se,se=q,q=ke,ke=oe,oe=j,j=ke,ke=ye,ye=we,we=ke,F+=J}}c(ie),c(Q)}}};function n(l,u,g,h,T,c){var o=[c,T].join(","),d=a[o];return d(l,u,g,t.mallocUint32,t.freeUint32)}function f(l){function u(x){throw new Error("ndarray-extract-contour: "+x)}typeof l!="object"&&u("Must specify arguments");var g=l.order;Array.isArray(g)||u("Must specify order");var h=l.arrayArguments||1;h<1&&u("Must have at least one array argument");var T=l.scalarArguments||0;T<0&&u("Scalar arg count must be > 0"),typeof l.vertex!="function"&&u("Must specify vertex creation function"),typeof l.cell!="function"&&u("Must specify cell creation function"),typeof l.phase!="function"&&u("Must specify phase function");for(var c=l.getters||[],o=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(l.vertex,l.cell,l.phase,T,g,o)}},6199:function(v,p,r){var t=r(1338),a={zero:function(w,C,y,M){var A=w[0],s=y[0];M|=0;var E=0,b=s;for(E=0;E<A;++E)C[M]=0,M+=b},fdTemplate1:function(w,C,y,M,A,s,E){var b=w[0],F=y[0],I=s[0],N=-1*F,_=F;M|=0,E|=0;var O=0,B=F,z=I;for(O=0;O<b;++O)A[E]=.5*(C[M+N]-C[M+_]),M+=B,E+=z},fdTemplate2:function(w,C,y,M,A,s,E,b,F,I){var N=w[0],_=w[1],O=y[0],B=y[1],z=s[0],U=s[1],Z=F[0],J=F[1],re=-1*O,ne=O,ue=-1*B,te=B;M|=0,E|=0,I|=0;var Q=0,ie=0,Y=B,$=O-_*B,oe=U,j=z-_*U,X=J,se=Z-_*J;for(ie=0;ie<N;++ie){for(Q=0;Q<_;++Q)A[E]=.5*(C[M+re]-C[M+ne]),b[I]=.5*(C[M+ue]-C[M+te]),M+=Y,E+=oe,I+=X;M+=$,E+=j,I+=se}}},n={cdiff:function(w){var C={};return function(M,A,s){var E=M.dtype,b=M.order,F=A.dtype,I=A.order,N=s.dtype,_=s.order,O=[E,b.join(),F,I.join(),N,_.join()].join(),B=C[O];return B||(C[O]=B=w([E,b,F,I,N,_])),B(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0,s.data,s.stride,s.offset|0)}},zero:function(w){var C={};return function(M){var A=M.dtype,s=M.order,E=[A,s.join()].join(),b=C[E];return b||(C[E]=b=w([A,s])),b(M.shape.slice(0),M.data,M.stride,M.offset|0)}},fdTemplate1:function(w){var C={};return function(M,A){var s=M.dtype,E=M.order,b=A.dtype,F=A.order,I=[s,E.join(),b,F.join()].join(),N=C[I];return N||(C[I]=N=w([s,E,b,F])),N(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(w){var C={};return function(M,A,s){var E=M.dtype,b=M.order,F=A.dtype,I=A.order,N=s.dtype,_=s.order,O=[E,b.join(),F,I.join(),N,_.join()].join(),B=C[O];return B||(C[O]=B=w([E,b,F,I,N,_])),B(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0,s.data,s.stride,s.offset|0)}}};function f(w){var C=n[w.funcName];return C(l.bind(void 0,w))}function l(w){return a[w.funcName]}function u(w){return f({funcName:w.funcName})}var g={},h={},T=u({funcName:"cdiff"}),c=u({funcName:"zero"});function o(w){return w in g?g[w]:g[w]=u({funcName:"fdTemplate"+w})}function d(w,C,y,M){return function(A,s){var E=s.shape.slice();return E[0]>2&&E[1]>2&&M(s.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(y(s.pick(0,-1).lo(1).hi(E[1]-2),A.pick(0,-1,1).lo(1).hi(E[1]-2)),C(A.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(y(s.pick(E[0]-1,-1).lo(1).hi(E[1]-2),A.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(A.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(y(s.pick(-1,0).lo(1).hi(E[0]-2),A.pick(-1,0,0).lo(1).hi(E[0]-2)),C(A.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(y(s.pick(-1,E[1]-1).lo(1).hi(E[0]-2),A.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(A.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(E[0]-1,0,0,0),A.set(E[0]-1,0,1,0),A.set(0,E[1]-1,0,0),A.set(0,E[1]-1,1,0),A.set(E[0]-1,E[1]-1,0,0),A.set(E[0]-1,E[1]-1,1,0),A}}function x(w){var C=w.join(),E=h[C];if(E)return E;for(var y=w.length,M=[T,c],A=1;A<=y;++A)M.push(o(A));var s=d,E=s.apply(void 0,M);return h[C]=E,E}v.exports=function(C,y,M){if(Array.isArray(M)||(typeof M=="string"?M=t(y.dimension,M):M=t(y.dimension,"clamp")),y.size===0)return C;if(y.dimension===0)return C.set(0),C;var A=x(M);return A(C,y)}},4317:function(v){function p(f,l){var u=Math.floor(l),g=l-u,h=0<=u&&u<f.shape[0],T=0<=u+1&&u+1<f.shape[0],c=h?+f.get(u):0,o=T?+f.get(u+1):0;return(1-g)*c+g*o}function r(f,l,u){var g=Math.floor(l),h=l-g,T=0<=g&&g<f.shape[0],c=0<=g+1&&g+1<f.shape[0],o=Math.floor(u),d=u-o,x=0<=o&&o<f.shape[1],w=0<=o+1&&o+1<f.shape[1],C=T&&x?f.get(g,o):0,y=T&&w?f.get(g,o+1):0,M=c&&x?f.get(g+1,o):0,A=c&&w?f.get(g+1,o+1):0;return(1-d)*((1-h)*C+h*M)+d*((1-h)*y+h*A)}function t(f,l,u,g){var h=Math.floor(l),T=l-h,c=0<=h&&h<f.shape[0],o=0<=h+1&&h+1<f.shape[0],d=Math.floor(u),x=u-d,w=0<=d&&d<f.shape[1],C=0<=d+1&&d+1<f.shape[1],y=Math.floor(g),M=g-y,A=0<=y&&y<f.shape[2],s=0<=y+1&&y+1<f.shape[2],E=c&&w&&A?f.get(h,d,y):0,b=c&&C&&A?f.get(h,d+1,y):0,F=o&&w&&A?f.get(h+1,d,y):0,I=o&&C&&A?f.get(h+1,d+1,y):0,N=c&&w&&s?f.get(h,d,y+1):0,_=c&&C&&s?f.get(h,d+1,y+1):0,O=o&&w&&s?f.get(h+1,d,y+1):0,B=o&&C&&s?f.get(h+1,d+1,y+1):0;return(1-M)*((1-x)*((1-T)*E+T*F)+x*((1-T)*b+T*I))+M*((1-x)*((1-T)*N+T*O)+x*((1-T)*_+T*B))}function a(f){var l=f.shape.length|0,u=new Array(l),g=new Array(l),h=new Array(l),T=new Array(l),c,o;for(c=0;c<l;++c)o=+arguments[c+1],u[c]=Math.floor(o),g[c]=o-u[c],h[c]=0<=u[c]&&u[c]<f.shape[c],T[c]=0<=u[c]+1&&u[c]+1<f.shape[c];var d=0,x,w,C;e:for(c=0;c<1<<l;++c){for(w=1,C=f.offset,x=0;x<l;++x)if(c&1<<x){if(!T[x])continue e;w*=g[x],C+=f.stride[x]*(u[x]+1)}else{if(!h[x])continue e;w*=1-g[x],C+=f.stride[x]*u[x]}d+=w*f.data[C]}return d}function n(f,l,u,g){switch(f.shape.length){case 0:return 0;case 1:return p(f,l);case 2:return r(f,l,u);case 3:return t(f,l,u,g);default:return a.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(h,T,c,o,d){var x=h[0],w=h[1],C=h[2],y=c[0],M=c[1],A=c[2];o|=0;var s=0,E=0,b=0,F=A,I=M-C*A,N=y-w*M;for(b=0;b<x;++b){for(E=0;E<w;++E){for(s=0;s<C;++s)T[o]/=d,o+=F;o+=I}o+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,o,d,x,w,C){var y=h[0],M=h[1],A=h[2],s=c[0],E=c[1],b=c[2],F=x[0],I=x[1],N=x[2];o|=0,w|=0;for(var _=o,O=w,B=h[0]|0;B>0;){B<64?(y=B,B=0):(y=64,B-=64);for(var z=h[1]|0;z>0;){z<64?(M=z,z=0):(M=64,z-=64),o=_+B*s+z*E,w=O+B*F+z*I;var U=0,Z=0,J=0,re=b,ne=s-A*b,ue=E-y*s,te=N,Q=F-A*N,ie=I-y*F;for(J=0;J<M;++J){for(Z=0;Z<y;++Z){for(U=0;U<A;++U)T[o]=d[w]*C,o+=re,w+=te;o+=ne,w+=Q}o+=ue,w+=ie}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,o,d,x,w){var C=h[0],y=h[1],M=c[0],A=c[1],s=x[0],E=x[1];o|=0,w|=0;var b=0,F=0,I=A,N=M-y*A,_=E,O=s-y*E;for(F=0;F<C;++F){for(b=0;b<y;++b)T[o]=d[w],o+=I,w+=_;o+=N,w+=O}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,o,d,x,w){var C=h[0],y=h[1],M=c[0],A=c[1],s=x[0],E=x[1];o|=0,w|=0;for(var b=o,F=w,I=h[1]|0;I>0;){I<64?(y=I,I=0):(y=64,I-=64);for(var N=h[0]|0;N>0;){N<64?(C=N,N=0):(C=64,N-=64),o=b+I*A+N*M,w=F+I*E+N*s;var _=0,O=0,B=A,z=M-y*A,U=E,Z=s-y*E;for(O=0;O<C;++O){for(_=0;_<y;++_)T[o]=d[w],o+=B,w+=U;o+=z,w+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,o,d,x,w){var C=h[0],y=h[1],M=h[2],A=c[0],s=c[1],E=c[2],b=x[0],F=x[1],I=x[2];o|=0,w|=0;for(var N=o,_=w,O=h[2]|0;O>0;){O<64?(M=O,O=0):(M=64,O-=64);for(var B=h[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64);for(var z=h[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64),o=N+O*E+B*A+z*s,w=_+O*I+B*b+z*F;var U=0,Z=0,J=0,re=E,ne=A-M*E,ue=s-C*A,te=I,Q=b-M*I,ie=F-C*b;for(J=0;J<y;++J){for(Z=0;Z<C;++Z){for(U=0;U<M;++U)T[o]=d[w],o+=re,w+=te;o+=ne,w+=Q}o+=ue,w+=ie}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,o,d,x,w){var C=h[0],y=h[1],M=h[2],A=c[0],s=c[1],E=c[2],b=x[0],F=x[1],I=x[2];o|=0,w|=0;var N=0,_=0,O=0,B=E,z=A-M*E,U=s-C*A,Z=I,J=b-M*I,re=F-C*b;for(O=0;O<y;++O){for(_=0;_<C;++_){for(N=0;N<M;++N)T[o]=d[w],o+=B,w+=Z;o+=z,w+=J}o+=U,w+=re}}}};function t(g,h){var T=h.join(","),c=r[T];return c()}var a=t,n={mul:function(g){var h={};return function(c,o,d){var x=c.dtype,w=c.order,C=o.dtype,y=o.order,M=d.dtype,A=d.order,s=[x,w.join(),C,y.join(),M,A.join()].join(),E=h[s];return E||(h[s]=E=g([x,w,C,y,M,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var h={};return function(c,o,d){var x=c.dtype,w=c.order,C=o.dtype,y=o.order,M=[x,w.join(),C,y.join()].join(),A=h[M];return A||(h[M]=A=g([x,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(g){var h={};return function(c,o){var d=c.dtype,x=c.order,w=[d,x.join()].join(),C=h[w];return C||(h[w]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(g){var h={};return function(c,o,d){var x=c.dtype,w=c.order,C=o.dtype,y=o.order,M=d.dtype,A=d.order,s=[x,w.join(),C,y.join(),M,A.join()].join(),E=h[s];return E||(h[s]=E=g([x,w,C,y,M,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var h={};return function(c,o,d){var x=c.dtype,w=c.order,C=o.dtype,y=o.order,M=[x,w.join(),C,y.join()].join(),A=h[M];return A||(h[M]=A=g([x,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(g){var h={};return function(c,o){var d=c.dtype,x=c.order,w=[d,x.join()].join(),C=h[w];return C||(h[w]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(g){var h={};return function(c,o){var d=c.dtype,x=c.order,w=o.dtype,C=o.order,y=[d,x.join(),w,C.join()].join(),M=h[y];return M||(h[y]=M=g([d,x,w,C])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function f(g){var h=n[g.funcName];return h(a.bind(void 0,g))}function l(g){return f({funcName:g.funcName})}var u={mul:"*",div:"/"};(function(){for(var g in u)p[g]=l({funcName:g}),p[g+"s"]=l({funcName:g+"s"}),p[g+"seq"]=l({funcName:g+"seq"})})(),p.assign=l({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),a=r(8277);v.exports=function(f,l){for(var u=[],g=f,h=1;Array.isArray(g);)u.push(g.length),h*=g.length,g=g[0];return u.length===0?t():(l||(l=t(new Float64Array(h),u)),a(l,f),l)}},8277:function(v){function p(){return function(l,u,g,h,T){var c=l[0],o=l[1],d=l[2],x=g[0],w=g[1],C=g[2],y=[0,0,0];h|=0;var M=0,A=0,s=0,E=C,b=w-d*C,F=x-o*w;for(s=0;s<c;++s){for(A=0;A<o;++A){for(M=0;M<d;++M){{var I=T,N;for(N=0;N<y.length-1;++N)I=I[y[N]];u[h]=I[y[y.length-1]]}h+=E,++y[2]}h+=b,y[2]-=d,++y[1]}h+=F,y[1]-=o,++y[0]}}}function r(){return p()}var t=r;function a(l){var u={};return function(h,T){var c=h.dtype,o=h.order,d=[c,o.join()].join(),x=u[d];return x||(u[d]=x=l([c,o])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function n(l){return a(t.bind(void 0,l))}function f(l){return n({funcName:l.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function a(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,c){return function(d,x,w,C,y,M,A,s,E,b,F){var I,N,_,O=d*y+C,B,z=T(s),U,Z,J,re;for(I=d+1;I<=x;++I){for(N=I,O+=y,_=O,U=0,Z=O,B=0;B<s;++B)z[U++]=w[Z],Z+=E;e:for(;N-- >d;){U=0,Z=_-y;t:for(B=0;B<s;++B){if(J=w[Z],re=z[U],J<re)break e;if(J>re)break t;Z+=b,U+=F}for(U=_,Z=_-y,B=0;B<s;++B)w[U]=w[Z],U+=E,Z+=E;_-=y}for(U=_,Z=0,B=0;B<s;++B)w[U]=z[Z++],U+=E}c(z)}}};function f(T,c){var o=a(c),d=[c,T].join(","),x=n[d];return o?x(o[0],o[1]):x()}var l={"uint32,1,0":function(T,c,o){return function d(x,w,C,y,M,A,s,E,b,F,I){var N=(w-x+1)/6|0,_=x+N,O=w-N,B=x+w>>1,z=B-N,U=B+N,Z=_,J=z,re=B,ne=U,ue=O,te=x+1,Q=w-1,ie=!0,Y,$,oe,j,X,se,q,ce,ye,we=0,be=0,De=0,ke,Be,Ae,Ie,Me,Fe,Ee,He,rt,ot,$e,qe,ht,vt,pt,wt,Mt=E,nt=c(Mt),_e=c(Mt);Be=M*Z,Ae=M*J,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=Z,Z=J,J=$;break e}if(De<0)break e;wt+=F}Be=M*ne,Ae=M*ue,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=ne,ne=ue,ue=$;break e}if(De<0)break e;wt+=F}Be=M*Z,Ae=M*re,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=Z,Z=re,re=$;break e}if(De<0)break e;wt+=F}Be=M*J,Ae=M*re,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=J,J=re,re=$;break e}if(De<0)break e;wt+=F}Be=M*Z,Ae=M*ne,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=Z,Z=ne,ne=$;break e}if(De<0)break e;wt+=F}Be=M*re,Ae=M*ne,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=re,re=ne,ne=$;break e}if(De<0)break e;wt+=F}Be=M*J,Ae=M*ue,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=J,J=ue,ue=$;break e}if(De<0)break e;wt+=F}Be=M*J,Ae=M*re,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=J,J=re,re=$;break e}if(De<0)break e;wt+=F}Be=M*ne,Ae=M*ue,wt=y;e:for(ke=0;ke<E;++ke){if(q=Be+wt,ce=Ae+wt,De=C[q]-C[ce],De>0){$=ne,ne=ue,ue=$;break e}if(De<0)break e;wt+=F}for(Be=M*Z,Ae=M*J,Ie=M*re,Me=M*ne,Fe=M*ue,Ee=M*_,He=M*B,rt=M*O,pt=0,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,ye=Ie+wt,ot=Me+wt,$e=Fe+wt,qe=Ee+wt,ht=He+wt,vt=rt+wt,nt[pt]=C[ce],_e[pt]=C[ot],ie=ie&&nt[pt]===_e[pt],oe=C[q],j=C[ye],X=C[$e],C[qe]=oe,C[ht]=j,C[vt]=X,++pt,wt+=b;for(Be=M*z,Ae=M*x,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,C[q]=C[ce],wt+=b;for(Be=M*U,Ae=M*w,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,C[q]=C[ce],wt+=b;if(ie)for(se=te;se<=Q;++se){q=y+se*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-nt[pt],De!==0)break e;pt+=I,q+=F}if(De!==0)if(De<0){if(se!==te)for(Be=M*se,Ae=M*te,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;++te}else for(;;){q=y+Q*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-nt[pt],De!==0)break e;pt+=I,q+=F}if(De>0)Q--;else if(De<0){for(Be=M*se,Ae=M*te,Ie=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,ye=Ie+wt,Y=C[q],C[q]=C[ce],C[ce]=C[ye],C[ye]=Y,wt+=b;++te,--Q;break}else{for(Be=M*se,Ae=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;--Q;break}}}else for(se=te;se<=Q;++se){q=y+se*M,pt=0;e:for(ke=0;ke<E;++ke){if(we=C[q]-nt[pt],we!==0)break e;pt+=I,q+=F}if(we<0){if(se!==te)for(Be=M*se,Ae=M*te,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;++te}else{q=y+se*M,pt=0;e:for(ke=0;ke<E;++ke){if(be=C[q]-_e[pt],be!==0)break e;pt+=I,q+=F}if(be>0)for(;;){q=y+Q*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-_e[pt],De!==0)break e;pt+=I,q+=F}if(De>0){if(--Q<se)break;continue}else{q=y+Q*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-nt[pt],De!==0)break e;pt+=I,q+=F}if(De<0){for(Be=M*se,Ae=M*te,Ie=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,ye=Ie+wt,Y=C[q],C[q]=C[ce],C[ce]=C[ye],C[ye]=Y,wt+=b;++te,--Q}else{for(Be=M*se,Ae=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;--Q}break}}}}for(Be=M*x,Ae=M*(te-1),pt=0,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,C[q]=C[ce],C[ce]=nt[pt],++pt,wt+=b;for(Be=M*w,Ae=M*(Q+1),pt=0,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,C[q]=C[ce],C[ce]=_e[pt],++pt,wt+=b;if(te-2-x<=32?T(x,te-2,C,y,M,A,s,E,b,F,I):d(x,te-2,C,y,M,A,s,E,b,F,I),w-(Q+2)<=32?T(Q+2,w,C,y,M,A,s,E,b,F,I):d(Q+2,w,C,y,M,A,s,E,b,F,I),ie){o(nt),o(_e);return}if(te<_&&Q>O){e:for(;;){for(q=y+te*M,pt=0,wt=y,ke=0;ke<E;++ke){if(C[q]!==nt[pt])break e;++pt,q+=b}++te}e:for(;;){for(q=y+Q*M,pt=0,wt=y,ke=0;ke<E;++ke){if(C[q]!==_e[pt])break e;++pt,q+=b}--Q}for(se=te;se<=Q;++se){q=y+se*M,pt=0;e:for(ke=0;ke<E;++ke){if(we=C[q]-nt[pt],we!==0)break e;pt+=I,q+=F}if(we===0){if(se!==te)for(Be=M*se,Ae=M*te,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;++te}else{q=y+se*M,pt=0;e:for(ke=0;ke<E;++ke){if(be=C[q]-_e[pt],be!==0)break e;pt+=I,q+=F}if(be===0)for(;;){q=y+Q*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-_e[pt],De!==0)break e;pt+=I,q+=F}if(De===0){if(--Q<se)break;continue}else{q=y+Q*M,pt=0;e:for(ke=0;ke<E;++ke){if(De=C[q]-nt[pt],De!==0)break e;pt+=I,q+=F}if(De<0){for(Be=M*se,Ae=M*te,Ie=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,ye=Ie+wt,Y=C[q],C[q]=C[ce],C[ce]=C[ye],C[ye]=Y,wt+=b;++te,--Q}else{for(Be=M*se,Ae=M*Q,wt=y,ke=0;ke<E;++ke)q=Be+wt,ce=Ae+wt,Y=C[q],C[q]=C[ce],C[ce]=Y,wt+=b;--Q}break}}}}}o(nt),o(_e),Q-te<=32?T(te,Q,C,y,M,A,s,E,b,F,I):d(te,Q,C,y,M,A,s,E,b,F,I)}}};function u(T,c,o){var d=a(c),x=[c,T].join(","),w=l[x];return T.length>1&&d?w(o,d[0],d[1]):w(o)}var g={"uint32,1,0":function(T,c){return function(o){var d=o.data,x=o.offset|0,w=o.shape,C=o.stride,y=C[0]|0,M=w[0]|0,A=C[1]|0,s=w[1]|0,E=A,b=A,F=1;M<=32?T(0,M-1,d,x,y,A,M,s,E,b,F):c(0,M-1,d,x,y,A,M,s,E,b,F)}}};function h(T,c){var o=[c,T].join(","),d=g[o],x=f(T,c),w=u(T,c,x);return d(x,w)}v.exports=h},446:function(v,p,r){var t=r(7640),a={};function n(f){var l=f.order,u=f.dtype,g=[l,u],h=g.join(":"),T=a[h];return T||(a[h]=T=t(l,u)),T(f),f}v.exports=n},9618:function(v,p,r){var t=r(7163),a=typeof Float64Array<"u";function n(c,o){return c[0]-o[0]}function f(){var c=this.stride,o=new Array(c.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(c[d]),d];o.sort(n);var x=new Array(o.length);for(d=0;d<x.length;++d)x[d]=o[d][1];return x}var l={T:function(c){function o(x){this.data=x}var d=o.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new o(w)}},0:function(c,o){function d(w,C){this.data=w,this.offset=C}var x=d.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return o(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,y,M,A){return new d(C,A)}},1:function(c,o,d){function x(C,y,M,A){this.data=C,this.shape=[y],this.stride=[M],this.offset=A|0}var w=x.prototype;return w.dtype=c,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(y,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,M):this.data[this.offset+this.stride[0]*y]=M},w.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},w.index=function(y){return this.offset+this.stride[0]*y},w.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},w.lo=function(y){var M=this.offset,A=0,s=this.shape[0],E=this.stride[0];return typeof y=="number"&&y>=0&&(A=y|0,M+=E*A,s-=A),new x(this.data,s,E,M)},w.step=function(y){var M=this.shape[0],A=this.stride[0],s=this.offset,E=0,b=Math.ceil;return typeof y=="number"&&(E=y|0,E<0?(s+=A*(M-1),M=b(-M/E)):M=b(M/E),A*=E),new x(this.data,M,A,s)},w.transpose=function(y){y=y===void 0?0:y|0;var M=this.shape,A=this.stride;return new x(this.data,M[y],A[y],this.offset)},w.pick=function(y){var M=[],A=[],s=this.offset;typeof y=="number"&&y>=0?s=s+this.stride[0]*y|0:(M.push(this.shape[0]),A.push(this.stride[0]));var E=o[M.length+1];return E(this.data,M,A,s)},function(y,M,A,s){return new x(y,M[0],A[0],s)}},2:function(c,o,d){function x(C,y,M,A,s,E){this.data=C,this.shape=[y,M],this.stride=[A,s],this.offset=E|0}var w=x.prototype;return w.dtype=c,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(y,M,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M,A):this.data[this.offset+this.stride[0]*y+this.stride[1]*M]=A},w.get=function(y,M){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M):this.data[this.offset+this.stride[0]*y+this.stride[1]*M]},w.index=function(y,M){return this.offset+this.stride[0]*y+this.stride[1]*M},w.hi=function(y,M){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(y,M){var A=this.offset,s=0,E=this.shape[0],b=this.shape[1],F=this.stride[0],I=this.stride[1];return typeof y=="number"&&y>=0&&(s=y|0,A+=F*s,E-=s),typeof M=="number"&&M>=0&&(s=M|0,A+=I*s,b-=s),new x(this.data,E,b,F,I,A)},w.step=function(y,M){var A=this.shape[0],s=this.shape[1],E=this.stride[0],b=this.stride[1],F=this.offset,I=0,N=Math.ceil;return typeof y=="number"&&(I=y|0,I<0?(F+=E*(A-1),A=N(-A/I)):A=N(A/I),E*=I),typeof M=="number"&&(I=M|0,I<0?(F+=b*(s-1),s=N(-s/I)):s=N(s/I),b*=I),new x(this.data,A,s,E,b,F)},w.transpose=function(y,M){y=y===void 0?0:y|0,M=M===void 0?1:M|0;var A=this.shape,s=this.stride;return new x(this.data,A[y],A[M],s[y],s[M],this.offset)},w.pick=function(y,M){var A=[],s=[],E=this.offset;typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(A.push(this.shape[0]),s.push(this.stride[0])),typeof M=="number"&&M>=0?E=E+this.stride[1]*M|0:(A.push(this.shape[1]),s.push(this.stride[1]));var b=o[A.length+1];return b(this.data,A,s,E)},function(y,M,A,s){return new x(y,M[0],M[1],A[0],A[1],s)}},3:function(c,o,d){function x(C,y,M,A,s,E,b,F){this.data=C,this.shape=[y,M,A],this.stride=[s,E,b],this.offset=F|0}var w=x.prototype;return w.dtype=c,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var y=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return y>M?M>A?[2,1,0]:y>A?[1,2,0]:[1,0,2]:y>A?[2,0,1]:A>M?[0,1,2]:[0,2,1]}}),w.set=function(y,M,A,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A,s):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A]=s},w.get=function(y,M,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A]},w.index=function(y,M,A){return this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A},w.hi=function(y,M,A){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(y,M,A){var s=this.offset,E=0,b=this.shape[0],F=this.shape[1],I=this.shape[2],N=this.stride[0],_=this.stride[1],O=this.stride[2];return typeof y=="number"&&y>=0&&(E=y|0,s+=N*E,b-=E),typeof M=="number"&&M>=0&&(E=M|0,s+=_*E,F-=E),typeof A=="number"&&A>=0&&(E=A|0,s+=O*E,I-=E),new x(this.data,b,F,I,N,_,O,s)},w.step=function(y,M,A){var s=this.shape[0],E=this.shape[1],b=this.shape[2],F=this.stride[0],I=this.stride[1],N=this.stride[2],_=this.offset,O=0,B=Math.ceil;return typeof y=="number"&&(O=y|0,O<0?(_+=F*(s-1),s=B(-s/O)):s=B(s/O),F*=O),typeof M=="number"&&(O=M|0,O<0?(_+=I*(E-1),E=B(-E/O)):E=B(E/O),I*=O),typeof A=="number"&&(O=A|0,O<0?(_+=N*(b-1),b=B(-b/O)):b=B(b/O),N*=O),new x(this.data,s,E,b,F,I,N,_)},w.transpose=function(y,M,A){y=y===void 0?0:y|0,M=M===void 0?1:M|0,A=A===void 0?2:A|0;var s=this.shape,E=this.stride;return new x(this.data,s[y],s[M],s[A],E[y],E[M],E[A],this.offset)},w.pick=function(y,M,A){var s=[],E=[],b=this.offset;typeof y=="number"&&y>=0?b=b+this.stride[0]*y|0:(s.push(this.shape[0]),E.push(this.stride[0])),typeof M=="number"&&M>=0?b=b+this.stride[1]*M|0:(s.push(this.shape[1]),E.push(this.stride[1])),typeof A=="number"&&A>=0?b=b+this.stride[2]*A|0:(s.push(this.shape[2]),E.push(this.stride[2]));var F=o[s.length+1];return F(this.data,s,E,b)},function(y,M,A,s){return new x(y,M[0],M[1],M[2],A[0],A[1],A[2],s)}},4:function(c,o,d){function x(C,y,M,A,s,E,b,F,I,N){this.data=C,this.shape=[y,M,A,s],this.stride=[E,b,F,I],this.offset=N|0}var w=x.prototype;return w.dtype=c,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(y,M,A,s,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*s,E):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*s]=E},w.get=function(y,M,A,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*s):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*s]},w.index=function(y,M,A,s){return this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*s},w.hi=function(y,M,A,s){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(y,M,A,s){var E=this.offset,b=0,F=this.shape[0],I=this.shape[1],N=this.shape[2],_=this.shape[3],O=this.stride[0],B=this.stride[1],z=this.stride[2],U=this.stride[3];return typeof y=="number"&&y>=0&&(b=y|0,E+=O*b,F-=b),typeof M=="number"&&M>=0&&(b=M|0,E+=B*b,I-=b),typeof A=="number"&&A>=0&&(b=A|0,E+=z*b,N-=b),typeof s=="number"&&s>=0&&(b=s|0,E+=U*b,_-=b),new x(this.data,F,I,N,_,O,B,z,U,E)},w.step=function(y,M,A,s){var E=this.shape[0],b=this.shape[1],F=this.shape[2],I=this.shape[3],N=this.stride[0],_=this.stride[1],O=this.stride[2],B=this.stride[3],z=this.offset,U=0,Z=Math.ceil;return typeof y=="number"&&(U=y|0,U<0?(z+=N*(E-1),E=Z(-E/U)):E=Z(E/U),N*=U),typeof M=="number"&&(U=M|0,U<0?(z+=_*(b-1),b=Z(-b/U)):b=Z(b/U),_*=U),typeof A=="number"&&(U=A|0,U<0?(z+=O*(F-1),F=Z(-F/U)):F=Z(F/U),O*=U),typeof s=="number"&&(U=s|0,U<0?(z+=B*(I-1),I=Z(-I/U)):I=Z(I/U),B*=U),new x(this.data,E,b,F,I,N,_,O,B,z)},w.transpose=function(y,M,A,s){y=y===void 0?0:y|0,M=M===void 0?1:M|0,A=A===void 0?2:A|0,s=s===void 0?3:s|0;var E=this.shape,b=this.stride;return new x(this.data,E[y],E[M],E[A],E[s],b[y],b[M],b[A],b[s],this.offset)},w.pick=function(y,M,A,s){var E=[],b=[],F=this.offset;typeof y=="number"&&y>=0?F=F+this.stride[0]*y|0:(E.push(this.shape[0]),b.push(this.stride[0])),typeof M=="number"&&M>=0?F=F+this.stride[1]*M|0:(E.push(this.shape[1]),b.push(this.stride[1])),typeof A=="number"&&A>=0?F=F+this.stride[2]*A|0:(E.push(this.shape[2]),b.push(this.stride[2])),typeof s=="number"&&s>=0?F=F+this.stride[3]*s|0:(E.push(this.shape[3]),b.push(this.stride[3]));var I=o[E.length+1];return I(this.data,E,b,F)},function(y,M,A,s){return new x(y,M[0],M[1],M[2],M[3],A[0],A[1],A[2],A[3],s)}},5:function(o,d,x){function w(y,M,A,s,E,b,F,I,N,_,O,B){this.data=y,this.shape=[M,A,s,E,b],this.stride=[F,I,N,_,O],this.offset=B|0}var C=w.prototype;return C.dtype=o,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:x}),C.set=function(M,A,s,E,b,F){return o==="generic"?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*s+this.stride[3]*E+this.stride[4]*b,F):this.data[this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*s+this.stride[3]*E+this.stride[4]*b]=F},C.get=function(M,A,s,E,b){return o==="generic"?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*s+this.stride[3]*E+this.stride[4]*b):this.data[this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*s+this.stride[3]*E+this.stride[4]*b]},C.index=function(M,A,s,E,b){return this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*s+this.stride[3]*E+this.stride[4]*b},C.hi=function(M,A,s,E,b){return new w(this.data,typeof M!="number"||M<0?this.shape[0]:M|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(M,A,s,E,b){var F=this.offset,I=0,N=this.shape[0],_=this.shape[1],O=this.shape[2],B=this.shape[3],z=this.shape[4],U=this.stride[0],Z=this.stride[1],J=this.stride[2],re=this.stride[3],ne=this.stride[4];return typeof M=="number"&&M>=0&&(I=M|0,F+=U*I,N-=I),typeof A=="number"&&A>=0&&(I=A|0,F+=Z*I,_-=I),typeof s=="number"&&s>=0&&(I=s|0,F+=J*I,O-=I),typeof E=="number"&&E>=0&&(I=E|0,F+=re*I,B-=I),typeof b=="number"&&b>=0&&(I=b|0,F+=ne*I,z-=I),new w(this.data,N,_,O,B,z,U,Z,J,re,ne,F)},C.step=function(M,A,s,E,b){var F=this.shape[0],I=this.shape[1],N=this.shape[2],_=this.shape[3],O=this.shape[4],B=this.stride[0],z=this.stride[1],U=this.stride[2],Z=this.stride[3],J=this.stride[4],re=this.offset,ne=0,ue=Math.ceil;return typeof M=="number"&&(ne=M|0,ne<0?(re+=B*(F-1),F=ue(-F/ne)):F=ue(F/ne),B*=ne),typeof A=="number"&&(ne=A|0,ne<0?(re+=z*(I-1),I=ue(-I/ne)):I=ue(I/ne),z*=ne),typeof s=="number"&&(ne=s|0,ne<0?(re+=U*(N-1),N=ue(-N/ne)):N=ue(N/ne),U*=ne),typeof E=="number"&&(ne=E|0,ne<0?(re+=Z*(_-1),_=ue(-_/ne)):_=ue(_/ne),Z*=ne),typeof b=="number"&&(ne=b|0,ne<0?(re+=J*(O-1),O=ue(-O/ne)):O=ue(O/ne),J*=ne),new w(this.data,F,I,N,_,O,B,z,U,Z,J,re)},C.transpose=function(M,A,s,E,b){M=M===void 0?0:M|0,A=A===void 0?1:A|0,s=s===void 0?2:s|0,E=E===void 0?3:E|0,b=b===void 0?4:b|0;var F=this.shape,I=this.stride;return new w(this.data,F[M],F[A],F[s],F[E],F[b],I[M],I[A],I[s],I[E],I[b],this.offset)},C.pick=function(M,A,s,E,b){var F=[],I=[],N=this.offset;typeof M=="number"&&M>=0?N=N+this.stride[0]*M|0:(F.push(this.shape[0]),I.push(this.stride[0])),typeof A=="number"&&A>=0?N=N+this.stride[1]*A|0:(F.push(this.shape[1]),I.push(this.stride[1])),typeof s=="number"&&s>=0?N=N+this.stride[2]*s|0:(F.push(this.shape[2]),I.push(this.stride[2])),typeof E=="number"&&E>=0?N=N+this.stride[3]*E|0:(F.push(this.shape[3]),I.push(this.stride[3])),typeof b=="number"&&b>=0?N=N+this.stride[4]*b|0:(F.push(this.shape[4]),I.push(this.stride[4]));var _=d[F.length+1];return _(this.data,F,I,N)},function(M,A,s,E){return new w(M,A[0],A[1],A[2],A[3],A[4],s[0],s[1],s[2],s[3],s[4],E)}}};function u(c,o){var d=o===-1?"T":String(o),x=l[d];return o===-1?x(c):o===0?x(c,h[c][0]):x(c,h[c],f)}function g(c){if(t(c))return"buffer";if(a)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,o,d,x){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var w=o.length;if(d===void 0){d=new Array(w);for(var C=w-1,y=1;C>=0;--C)d[C]=y,y*=o[C]}if(x===void 0){x=0;for(var C=0;C<w;++C)d[C]<0&&(x-=(o[C]-1)*d[C])}for(var M=g(c),A=h[M];A.length<=w+1;)A.push(u(M,A.length-1));var s=A[w+1];return s(c,o,d,x)}v.exports=T},1278:function(v,p,r){var t=r(2361),a=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(l,u){if(isNaN(l)||isNaN(u))return NaN;if(l===u)return l;if(l===0)return u<0?-a:a;var g=t.hi(l),h=t.lo(l);return u>l==l>0?h===n?(g+=1,h=0):h+=1:h===0?(h=n,g-=1):h-=1,t.pack(h,g)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(a,n,f){for(var l=n.length,u=new Array(l),g=f===void 0?r:f,h=0;h<l;++h)u[h]=[0,0,0];for(var h=0;h<a.length;++h)for(var T=a[h],c=0,o=T[T.length-1],d=T[0],x=0;x<T.length;++x){c=o,o=d,d=T[(x+1)%T.length];for(var w=n[c],C=n[o],y=n[d],M=new Array(3),A=0,s=new Array(3),E=0,b=0;b<3;++b)M[b]=w[b]-C[b],A+=M[b]*M[b],s[b]=y[b]-C[b],E+=s[b]*s[b];if(A*E>g)for(var F=u[o],I=1/Math.sqrt(A*E),b=0;b<3;++b){var N=(b+1)%3,_=(b+2)%3;F[b]+=I*(s[N]*M[_]-s[_]*M[N])}}for(var h=0;h<l;++h){for(var F=u[h],O=0,b=0;b<3;++b)O+=F[b]*F[b];if(O>g)for(var I=1/Math.sqrt(O),b=0;b<3;++b)F[b]*=I;else for(var b=0;b<3;++b)F[b]=0}return u},p.faceNormals=function(a,n,f){for(var l=a.length,u=new Array(l),g=f===void 0?t:f,h=0;h<l;++h){for(var T=a[h],c=new Array(3),o=0;o<3;++o)c[o]=n[T[o]];for(var d=new Array(3),x=new Array(3),o=0;o<3;++o)d[o]=c[1][o]-c[0][o],x[o]=c[2][o]-c[0][o];for(var w=new Array(3),C=0,o=0;o<3;++o){var y=(o+1)%3,M=(o+2)%3;w[o]=d[y]*x[M]-d[M]*x[y],C+=w[o]*w[o]}C>g?C=1/Math.sqrt(C):C=0;for(var o=0;o<3;++o)w[o]*=C;u[h]=w}return u}},4081:function(v){v.exports=p;function p(r,t,a,n,f,l,u,g,h,T){var c=t+l+T;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(u-h)/o,r[1]=.5*(g-n)/o,r[2]=.5*(a-l)/o,r[3]=.5*o}else{var d=Math.max(t,l,T),o=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*o,r[1]=.5*(f+a)/o,r[2]=.5*(g+n)/o,r[3]=.5*(u-h)/o):l>=d?(r[0]=.5*(a+f)/o,r[1]=.5*o,r[2]=.5*(h+u)/o,r[3]=.5*(g-n)/o):(r[0]=.5*(n+g)/o,r[1]=.5*(u+h)/o,r[2]=.5*o,r[3]=.5*(a-f)/o)}return r}},9977:function(v,p,r){v.exports=o;var t=r(9215),a=r(6582),n=r(7399),f=r(7608),l=r(4081);function u(d,x,w){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2))}function g(d,x,w,C){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2)+Math.pow(C,2))}function h(d,x){var w=x[0],C=x[1],y=x[2],M=x[3],A=g(w,C,y,M);A>1e-6?(d[0]=w/A,d[1]=C/A,d[2]=y/A,d[3]=M/A):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,x,w){this.radius=t([w]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var w=this.computedMatrix;n(w,x);var C=this.computedCenter,y=this.computedEye,M=this.computedUp,A=Math.exp(this.computedRadius[0]);y[0]=C[0]+A*w[2],y[1]=C[1]+A*w[6],y[2]=C[2]+A*w[10],M[0]=w[1],M[1]=w[5],M[2]=w[9];for(var s=0;s<3;++s){for(var E=0,b=0;b<3;++b)E+=w[s+4*b]*y[b];w[12+s]=-E}},c.getMatrix=function(d,x){this.recalcMatrix(d);var w=this.computedMatrix;if(x){for(var C=0;C<16;++C)x[C]=w[C];return x}return w},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,x,w,C){x=x||0,w=w||0,C=C||0,this.recalcMatrix(d);var y=this.computedMatrix,M=y[1],A=y[5],s=y[9],E=u(M,A,s);M/=E,A/=E,s/=E;var b=y[0],F=y[4],I=y[8],N=b*M+F*A+I*s;b-=M*N,F-=A*N,I-=s*N;var _=u(b,F,I);b/=_,F/=_,I/=_,y[2],y[6],y[10];var O=b*x+M*w,B=F*x+A*w,z=I*x+s*w;this.center.move(d,O,B,z);var U=Math.exp(this.computedRadius[0]);U=Math.max(1e-4,U+C),this.radius.set(d,Math.log(U))},c.rotate=function(d,x,w,C){this.recalcMatrix(d),x=x||0,w=w||0;var y=this.computedMatrix,M=y[0],A=y[4],s=y[8],E=y[1],b=y[5],F=y[9],I=y[2],N=y[6],_=y[10],O=x*M+w*E,B=x*A+w*b,z=x*s+w*F,U=-(N*z-_*B),Z=-(_*O-I*z),J=-(I*B-N*O),re=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(Z,2)-Math.pow(J,2))),ne=g(U,Z,J,re);ne>1e-6?(U/=ne,Z/=ne,J/=ne,re/=ne):(U=Z=J=0,re=1);var ue=this.computedRotation,te=ue[0],Q=ue[1],ie=ue[2],Y=ue[3],$=te*re+Y*U+Q*J-ie*Z,oe=Q*re+Y*Z+ie*U-te*J,j=ie*re+Y*J+te*Z-Q*U,X=Y*re-te*U-Q*Z-ie*J;if(C){U=I,Z=N,J=_;var se=Math.sin(C)/u(U,Z,J);U*=se,Z*=se,J*=se,re=Math.cos(x),$=$*re+X*U+oe*J-j*Z,oe=oe*re+X*Z+j*U-$*J,j=j*re+X*J+$*Z-oe*U,X=X*re-$*U-oe*Z-j*J}var q=g($,oe,j,X);q>1e-6?($/=q,oe/=q,j/=q,X/=q):($=oe=j=0,X=1),this.rotation.set(d,$,oe,j,X)},c.lookAt=function(d,x,w,C){this.recalcMatrix(d),w=w||this.computedCenter,x=x||this.computedEye,C=C||this.computedUp;var y=this.computedMatrix;a(y,x,w,C);var M=this.computedRotation;l(M,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);for(var A=0,s=0;s<3;++s)A+=Math.pow(w[s]-x[s],2);this.radius.set(d,.5*Math.log(Math.max(A,1e-6))),this.center.set(d,w[0],w[1],w[2])},c.translate=function(d,x,w,C){this.center.move(d,x||0,w||0,C||0)},c.setMatrix=function(d,x){var w=this.computedRotation;l(w,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var C=this.computedMatrix;f(C,x);var y=C[15];if(Math.abs(y)>1e-6){var M=C[12]/y,A=C[13]/y,s=C[14]/y;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,M-C[2]*E,A-C[6]*E,s-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},c.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var x=this.lastT(),w=d.center;w&&this.center.set(x,w[0],w[1],w[2]);var C=d.rotation;C&&this.rotation.set(x,C[0],C[1],C[2],C[3]);var y=d.distance;y&&y>0&&this.radius.set(x,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var x=d.center||[0,0,0],w=d.rotation||[0,0,0,1],C=d.radius||1;x=[].slice.call(x,0,3),w=[].slice.call(w,0,4),h(w,w);var y=new T(w,x,Math.log(C));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,l){return l=typeof l<"u"?l+"":" ",t(l,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=a;var t=r(3140);function a(n,f){for(var l=f.length|0,u=n.length,g=[new Array(l),new Array(l)],h=0;h<l;++h)g[0][h]=[],g[1][h]=[];for(var h=0;h<u;++h){var T=n[h];g[0][T[0]].push(T),g[1][T[1]].push(T)}for(var c=[],h=0;h<l;++h)g[0][h].length+g[1][h].length===0&&c.push([h]);function o(A,s){var E=g[s][A[s]];E.splice(E.indexOf(A),1)}function d(A,s,E){for(var b,F,I,N=0;N<2;++N)if(g[N][s].length>0){b=g[N][s][0],I=N;break}F=b[I^1];for(var _=0;_<2;++_)for(var O=g[_][s],B=0;B<O.length;++B){var z=O[B],U=z[_^1],Z=t(f[A],f[s],f[F],f[U]);Z>0&&(b=z,F=U,I=_)}return E||b&&o(b,I),F}function x(A,s){var E=g[s][A][0],b=[A];o(E,s);for(var F=E[s^1];;){for(;F!==A;)b.push(F),F=d(b[b.length-2],F,!1);if(g[0][A].length+g[1][A].length===0)break;var I=b[b.length-1],N=A,_=b[1],O=d(I,N,!0);if(t(f[I],f[N],f[_],f[O])<0)break;b.push(A),F=d(I,N)}return b}function w(A,s){return s[1]===s[s.length-1]}for(var h=0;h<l;++h)for(var C=0;C<2;++C){for(var y=[];g[C][h].length>0;){g[0][h].length;var M=x(h,C);w(y,M)?y.push.apply(y,M):(y.length>0&&c.push(y),y=M)}y.length>0&&c.push(y)}return c}},5609:function(v,p,r){v.exports=a;var t=r(3134);function a(n,f){for(var l=t(n,f.length),u=new Array(f.length),g=new Array(f.length),h=[],T=0;T<f.length;++T){var c=l[T].length;g[T]=c,u[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var o=h.pop();u[o]=!1;for(var d=l[o],T=0;T<d.length;++T){var x=d[T];--g[x]===0&&h.push(x)}}for(var w=new Array(f.length),C=[],T=0;T<f.length;++T)if(u[T]){var o=C.length;w[T]=o,C.push(f[T])}else w[T]=-1;for(var y=[],T=0;T<n.length;++T){var M=n[T];u[M[0]]&&u[M[1]]&&y.push([w[M[0]],w[M[1]]])}return[y,C]}},2095:function(v,p,r){v.exports=c;var t=r(3134),a=r(3088),n=r(5085),f=r(5250),l=r(8210),u=r(1682),g=r(5609);function h(o,d){for(var x=new Array(o),w=0;w<o;++w)x[w]=d;return x}function T(o){for(var d=new Array(o),x=0;x<o;++x)d[x]=[];return d}function c(o,d){var X=g(o,d);o=X[0],d=X[1];var x=d.length;o.length;for(var w=t(o,d.length),C=0;C<x;++C)if(w[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=a(o,d);function M(De){for(var ke=De.length,Be=[0],Ae=0;Ae<ke;++Ae){var Ie=d[De[Ae]],Me=d[De[(Ae+1)%ke]],Fe=f(-Ie[0],Ie[1]),Ee=f(-Ie[0],Me[1]),He=f(Me[0],Ie[1]),rt=f(Me[0],Me[1]);Be=l(Be,l(l(Fe,Ee),l(He,rt)))}return Be[Be.length-1]>0}y=y.filter(M);for(var A=y.length,s=new Array(A),E=new Array(A),C=0;C<A;++C){s[C]=C;var b=new Array(A),F=y[C].map(function(ke){return d[ke]}),I=n([F]),N=0;e:for(var _=0;_<A;++_)if(b[_]=0,C!==_){for(var O=y[_],B=O.length,z=0;z<B;++z){var U=I(d[O[z]]);if(U!==0){U<0&&(b[_]=1,N+=1);continue e}}b[_]=1,N+=1}E[C]=[N,C,b]}E.sort(function(De,ke){return ke[0]-De[0]});for(var C=0;C<A;++C)for(var b=E[C],Z=b[1],J=b[2],_=0;_<A;++_)J[_]&&(s[_]=Z);for(var re=T(A),C=0;C<A;++C)re[C].push(s[C]),re[s[C]].push(C);for(var ne={},ue=h(x,!1),C=0;C<A;++C)for(var O=y[C],B=O.length,_=0;_<B;++_){var te=O[_],Q=O[(_+1)%B],ie=Math.min(te,Q)+":"+Math.max(te,Q);if(ie in ne){var Y=ne[ie];re[Y].push(C),re[C].push(Y),ue[te]=ue[Q]=!0}else ne[ie]=C}function $(De){for(var ke=De.length,Be=0;Be<ke;++Be)if(!ue[De[Be]])return!1;return!0}for(var oe=[],j=h(A,-1),C=0;C<A;++C)s[C]===C&&!$(y[C])?(oe.push(C),j[C]=0):j[C]=-1;for(var X=[];oe.length>0;){var se=oe.pop(),q=re[se];u(q,function(De,ke){return De-ke});var ce=q.length,ye=j[se],we;if(ye===0){var O=y[se];we=[O]}for(var C=0;C<ce;++C){var be=q[C];if(!(j[be]>=0)&&(j[be]=ye^1,oe.push(be),ye===0)){var O=y[be];$(O)||(O.reverse(),we.push(O))}}ye===0&&X.push(we)}return X}},5085:function(v,p,r){v.exports=d;var t=r(3250)[3],a=r(4209),n=r(3352),f=r(2478);function l(){return!0}function u(x){return function(w,C){var y=x[w];return y?!!y.queryPoint(C,l):!1}}function g(x){for(var w={},C=0;C<x.length;++C){var y=x[C],M=y[0][0],A=y[0][1],s=y[1][1],E=[Math.min(A,s),Math.max(A,s)];M in w?w[M].push(E):w[M]=[E]}for(var b={},F=Object.keys(w),C=0;C<F.length;++C){var I=w[F[C]];b[F[C]]=n(I)}return u(b)}function h(x,w){return function(C){var y=f.le(w,C[0]);if(y<0)return 1;var M=x[y];if(!M)if(y>0&&w[y]===C[0])M=x[y-1];else return 1;for(var A=1;M;){var s=M.key,E=t(C,s[0],s[1]);if(s[0][0]<s[1][0])if(E<0)M=M.left;else if(E>0)A=-1,M=M.right;else return 0;else if(E>0)M=M.left;else if(E<0)A=1,M=M.right;else return 0}return A}}function T(x){return 1}function c(x){return function(C){return x(C[0],C[1])?0:1}}function o(x,w){return function(y){return x(y[0],y[1])?0:w(y)}}function d(x){for(var w=x.length,C=[],y=[],M=0;M<w;++M)for(var A=x[M],s=A.length,E=s-1,b=0;b<s;E=b++){var F=A[E],I=A[b];F[0]===I[0]?y.push([F,I]):C.push([F,I])}if(C.length===0)return y.length===0?T:c(g(y));var N=a(C),_=h(N.slabs,N.coordinates);return y.length===0?_:o(g(y),_)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function a(n,f,l,u,g){p.length<u.length&&(p=new Float64Array(u.length),r=new Float64Array(u.length),t=new Float64Array(u.length));for(var h=0;h<u.length;++h)p[h]=n[h]-u[h],r[h]=f[h]-n[h],t[h]=l[h]-n[h];for(var T=0,c=0,o=0,d=0,x=0,w=0,h=0;h<u.length;++h){var C=r[h],y=t[h],M=p[h];T+=C*C,c+=C*y,o+=y*y,d+=M*C,x+=M*y,w+=M*M}var A=Math.abs(T*o-c*c),s=c*x-o*d,E=c*d-T*x,b;if(s+E<=A)if(s<0)E<0&&d<0?(E=0,-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w)):(s=0,x>=0?(E=0,b=w):-x>=o?(E=1,b=o+2*x+w):(E=-x/o,b=x*E+w));else if(E<0)E=0,d>=0?(s=0,b=w):-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w);else{var F=1/A;s*=F,E*=F,b=s*(T*s+c*E+2*d)+E*(c*s+o*E+2*x)+w}else{var I,N,_,O;s<0?(I=c+d,N=o+x,N>I?(_=N-I,O=T-2*c+o,_>=O?(s=1,E=0,b=T+2*d+w):(s=_/O,E=1-s,b=s*(T*s+c*E+2*d)+E*(c*s+o*E+2*x)+w)):(s=0,N<=0?(E=1,b=o+2*x+w):x>=0?(E=0,b=w):(E=-x/o,b=x*E+w))):E<0?(I=c+x,N=T+d,N>I?(_=N-I,O=T-2*c+o,_>=O?(E=1,s=0,b=o+2*x+w):(E=_/O,s=1-E,b=s*(T*s+c*E+2*d)+E*(c*s+o*E+2*x)+w)):(E=0,N<=0?(s=1,b=T+2*d+w):d>=0?(s=0,b=w):(s=-d/T,b=d*s+w))):(_=o+x-c-d,_<=0?(s=0,E=1,b=o+2*x+w):(O=T-2*c+o,_>=O?(s=1,E=0,b=T+2*d+w):(s=_/O,E=1-s,b=s*(T*s+c*E+2*d)+E*(c*s+o*E+2*x)+w)))}for(var B=1-s-E,h=0;h<u.length;++h)g[h]=B*n[h]+s*f[h]+E*l[h];return b<0?0:b}v.exports=a},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=a;function a(n,f){for(var l=n.length,u=new Array(l),g=0;g<l;++g)u[g]=t(n[g],f[g]);return u}},5838:function(v,p,r){v.exports=a;var t=r(7842);function a(n){for(var f=new Array(n.length),l=0;l<n.length;++l)f[l]=t(n[l]);return f}},8987:function(v,p,r){var t=r(7842),a=r(6504);v.exports=n;function n(f,l){for(var u=t(l),g=f.length,h=new Array(g),T=0;T<g;++T)h[T]=a(f[T],u);return h}},544:function(v,p,r){var t=r(5572);v.exports=a;function a(n,f){for(var l=n.length,u=new Array(l),g=0;g<l;++g)u[g]=t(n[g],f[g]);return u}},5771:function(v,p,r){var t=r(8507),a=r(3788),n=r(2419);v.exports=f;function f(l){l.sort(a);for(var u=l.length,g=0,h=0;h<u;++h){var T=l[h],c=n(T);if(c!==0){if(g>0){var o=l[g-1];if(t(T,o)===0&&n(o)!==c){g-=1;continue}}l[g++]=T}}return l.length=g,l}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var f=a.length*n;if(r!==a||typeof r>"u")r=a,p="";else if(p.length>=f)return p.substr(0,f);for(;f>p.length&&n>1;)n&1&&(p+=a),n>>=1,a+=a;return p+=a,p=p.substr(0,f),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,a=r[r.length-1],n=t,f=t-2;f>=0;--f){var l=a,u=r[f];a=l+u;var g=a-l,h=u-g;h&&(r[--n]=a,a=h)}for(var T=0,f=n;f<t;++f){var l=r[f],u=a;a=l+u;var g=a-l,h=u-g;h&&(r[T++]=h)}return r[T++]=a,r.length=T,r}},2962:function(v,p,r){var t=r(5250),a=r(8210),n=r(3012),f=r(7004),l=6;function u(w,C,y,M){return function(s){return M(w(y(s[0][0],s[1][1]),y(-s[0][1],s[1][0])))}}function g(w,C,y,M){return function(s){return M(w(C(w(y(s[1][1],s[2][2]),y(-s[1][2],s[2][1])),s[0][0]),w(C(w(y(s[1][0],s[2][2]),y(-s[1][2],s[2][0])),-s[0][1]),C(w(y(s[1][0],s[2][1]),y(-s[1][1],s[2][0])),s[0][2]))))}}function h(w,C,y,M){return function(s){return M(w(w(C(w(C(w(y(s[2][2],s[3][3]),y(-s[2][3],s[3][2])),s[1][1]),w(C(w(y(s[2][1],s[3][3]),y(-s[2][3],s[3][1])),-s[1][2]),C(w(y(s[2][1],s[3][2]),y(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),C(w(C(w(y(s[2][2],s[3][3]),y(-s[2][3],s[3][2])),s[1][0]),w(C(w(y(s[2][0],s[3][3]),y(-s[2][3],s[3][0])),-s[1][2]),C(w(y(s[2][0],s[3][2]),y(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),w(C(w(C(w(y(s[2][1],s[3][3]),y(-s[2][3],s[3][1])),s[1][0]),w(C(w(y(s[2][0],s[3][3]),y(-s[2][3],s[3][0])),-s[1][1]),C(w(y(s[2][0],s[3][1]),y(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),C(w(C(w(y(s[2][1],s[3][2]),y(-s[2][2],s[3][1])),s[1][0]),w(C(w(y(s[2][0],s[3][2]),y(-s[2][2],s[3][0])),-s[1][1]),C(w(y(s[2][0],s[3][1]),y(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(w,C,y,M){return function(s){return M(w(w(C(w(w(C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][2]),w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),-s[2][3]),C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][1]),w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][3]),C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),w(C(w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][1]),w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][2]),C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),C(w(C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][1]),w(C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),-s[2][2]),C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),C(w(w(C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][2]),w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),-s[2][3]),C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][3]),C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),w(C(w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][2]),C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),C(w(C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][0]),w(C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][2]),C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),w(C(w(w(C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][1]),w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][3]),C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),C(w(C(w(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][3]),C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),w(C(w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),C(w(C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),w(C(w(w(C(w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][1]),w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][2]),C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),C(w(C(w(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][2]),C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),w(C(w(C(w(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),C(w(C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),C(w(w(C(w(C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][1]),w(C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),-s[2][2]),C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),C(w(C(w(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][0]),w(C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][2]),C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),w(C(w(C(w(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),C(w(C(w(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][0]),w(C(w(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),-s[2][1]),C(w(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(w){var C=w===2?u:w===3?g:w===4?h:w===5?T:void 0;return C(a,n,t,f)}var o=[function(){return[0]},function(C){return[C[0][0]]}];function d(w,C,y,M,A,s,E,b){return function(I){switch(I.length){case 0:return w(I);case 1:return C(I);case 2:return y(I);case 3:return M(I);case 4:return A(I);case 5:return s(I)}var N=E[I.length];return N||(N=E[I.length]=b(I.length)),N(I)}}function x(){for(;o.length<l;)o.push(c(o.length));v.exports=d.apply(void 0,o.concat([o,c]));for(var w=0;w<o.length;++w)v.exports[w]=o[w]}x()},1944:function(v,p,r){var t=r(5250),a=r(8210);v.exports=n;function n(f,l){for(var u=t(f[0],l[0]),g=1;g<f.length;++g)u=a(u,t(f[g],l[g]));return u}},2646:function(v,p,r){var t=r(5250),a=r(8210),n=r(8545),f=r(3012),l=6;function u(A){var s=A===3?c:A===4?o:A===5?d:x;return s(a,n,t,f)}function g(){return 0}function h(){return 0}function T(){return 0}function c(A,s,E,b){function F(I,N,_){var O=E(I[0],I[0]),B=b(O,N[0]),z=b(O,_[0]),U=E(N[0],N[0]),Z=b(U,I[0]),J=b(U,_[0]),re=E(_[0],_[0]),ne=b(re,I[0]),ue=b(re,N[0]),te=A(s(ue,J),s(Z,B)),Q=s(ne,z),ie=s(te,Q);return ie[ie.length-1]}return F}function o(A,s,E,b){function F(I,N,_,O){var B=A(E(I[0],I[0]),E(I[1],I[1])),z=b(B,N[0]),U=b(B,_[0]),Z=b(B,O[0]),J=A(E(N[0],N[0]),E(N[1],N[1])),re=b(J,I[0]),ne=b(J,_[0]),ue=b(J,O[0]),te=A(E(_[0],_[0]),E(_[1],_[1])),Q=b(te,I[0]),ie=b(te,N[0]),Y=b(te,O[0]),$=A(E(O[0],O[0]),E(O[1],O[1])),oe=b($,I[0]),j=b($,N[0]),X=b($,_[0]),se=A(A(b(s(X,Y),N[1]),A(b(s(j,ue),-_[1]),b(s(ie,ne),O[1]))),A(b(s(j,ue),I[1]),A(b(s(oe,Z),-N[1]),b(s(re,z),O[1])))),q=A(A(b(s(X,Y),I[1]),A(b(s(oe,Z),-_[1]),b(s(Q,U),O[1]))),A(b(s(ie,ne),I[1]),A(b(s(Q,U),-N[1]),b(s(re,z),_[1])))),ce=s(se,q);return ce[ce.length-1]}return F}function d(A,s,E,b){function F(I,N,_,O,B){var z=A(E(I[0],I[0]),A(E(I[1],I[1]),E(I[2],I[2]))),U=b(z,N[0]),Z=b(z,_[0]),J=b(z,O[0]),re=b(z,B[0]),ne=A(E(N[0],N[0]),A(E(N[1],N[1]),E(N[2],N[2]))),ue=b(ne,I[0]),te=b(ne,_[0]),Q=b(ne,O[0]),ie=b(ne,B[0]),Y=A(E(_[0],_[0]),A(E(_[1],_[1]),E(_[2],_[2]))),$=b(Y,I[0]),oe=b(Y,N[0]),j=b(Y,O[0]),X=b(Y,B[0]),se=A(E(O[0],O[0]),A(E(O[1],O[1]),E(O[2],O[2]))),q=b(se,I[0]),ce=b(se,N[0]),ye=b(se,_[0]),we=b(se,B[0]),be=A(E(B[0],B[0]),A(E(B[1],B[1]),E(B[2],B[2]))),De=b(be,I[0]),ke=b(be,N[0]),Be=b(be,_[0]),Ae=b(be,O[0]),Ie=A(A(A(b(A(b(s(Ae,we),_[1]),A(b(s(Be,X),-O[1]),b(s(ye,j),B[1]))),N[2]),A(b(A(b(s(Ae,we),N[1]),A(b(s(ke,ie),-O[1]),b(s(ce,Q),B[1]))),-_[2]),b(A(b(s(Be,X),N[1]),A(b(s(ke,ie),-_[1]),b(s(oe,te),B[1]))),O[2]))),A(b(A(b(s(ye,j),N[1]),A(b(s(ce,Q),-_[1]),b(s(oe,te),O[1]))),-B[2]),A(b(A(b(s(Ae,we),N[1]),A(b(s(ke,ie),-O[1]),b(s(ce,Q),B[1]))),I[2]),b(A(b(s(Ae,we),I[1]),A(b(s(De,re),-O[1]),b(s(q,J),B[1]))),-N[2])))),A(A(b(A(b(s(ke,ie),I[1]),A(b(s(De,re),-N[1]),b(s(ue,U),B[1]))),O[2]),A(b(A(b(s(ce,Q),I[1]),A(b(s(q,J),-N[1]),b(s(ue,U),O[1]))),-B[2]),b(A(b(s(ye,j),N[1]),A(b(s(ce,Q),-_[1]),b(s(oe,te),O[1]))),I[2]))),A(b(A(b(s(ye,j),I[1]),A(b(s(q,J),-_[1]),b(s($,Z),O[1]))),-N[2]),A(b(A(b(s(ce,Q),I[1]),A(b(s(q,J),-N[1]),b(s(ue,U),O[1]))),_[2]),b(A(b(s(oe,te),I[1]),A(b(s($,Z),-N[1]),b(s(ue,U),_[1]))),-O[2]))))),Me=A(A(A(b(A(b(s(Ae,we),_[1]),A(b(s(Be,X),-O[1]),b(s(ye,j),B[1]))),I[2]),b(A(b(s(Ae,we),I[1]),A(b(s(De,re),-O[1]),b(s(q,J),B[1]))),-_[2])),A(b(A(b(s(Be,X),I[1]),A(b(s(De,re),-_[1]),b(s($,Z),B[1]))),O[2]),b(A(b(s(ye,j),I[1]),A(b(s(q,J),-_[1]),b(s($,Z),O[1]))),-B[2]))),A(A(b(A(b(s(Be,X),N[1]),A(b(s(ke,ie),-_[1]),b(s(oe,te),B[1]))),I[2]),b(A(b(s(Be,X),I[1]),A(b(s(De,re),-_[1]),b(s($,Z),B[1]))),-N[2])),A(b(A(b(s(ke,ie),I[1]),A(b(s(De,re),-N[1]),b(s(ue,U),B[1]))),_[2]),b(A(b(s(oe,te),I[1]),A(b(s($,Z),-N[1]),b(s(ue,U),_[1]))),-B[2])))),Fe=s(Ie,Me);return Fe[Fe.length-1]}return F}function x(A,s,E,b){function F(I,N,_,O,B,z){var U=A(A(E(I[0],I[0]),E(I[1],I[1])),A(E(I[2],I[2]),E(I[3],I[3]))),Z=b(U,N[0]),J=b(U,_[0]),re=b(U,O[0]),ne=b(U,B[0]),ue=b(U,z[0]),te=A(A(E(N[0],N[0]),E(N[1],N[1])),A(E(N[2],N[2]),E(N[3],N[3]))),Q=b(te,I[0]),ie=b(te,_[0]),Y=b(te,O[0]),$=b(te,B[0]),oe=b(te,z[0]),j=A(A(E(_[0],_[0]),E(_[1],_[1])),A(E(_[2],_[2]),E(_[3],_[3]))),X=b(j,I[0]),se=b(j,N[0]),q=b(j,O[0]),ce=b(j,B[0]),ye=b(j,z[0]),we=A(A(E(O[0],O[0]),E(O[1],O[1])),A(E(O[2],O[2]),E(O[3],O[3]))),be=b(we,I[0]),De=b(we,N[0]),ke=b(we,_[0]),Be=b(we,B[0]),Ae=b(we,z[0]),Ie=A(A(E(B[0],B[0]),E(B[1],B[1])),A(E(B[2],B[2]),E(B[3],B[3]))),Me=b(Ie,I[0]),Fe=b(Ie,N[0]),Ee=b(Ie,_[0]),He=b(Ie,O[0]),rt=b(Ie,z[0]),ot=A(A(E(z[0],z[0]),E(z[1],z[1])),A(E(z[2],z[2]),E(z[3],z[3]))),$e=b(ot,I[0]),qe=b(ot,N[0]),ht=b(ot,_[0]),vt=b(ot,O[0]),pt=b(ot,B[0]),wt=A(A(A(b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),_[2]),b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),B[2]),b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),-z[2]))),N[3]),A(b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),N[2]),b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),B[2]),b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),-z[2]))),-_[3]),b(A(A(b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),N[2]),b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),-_[2])),A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),B[2]),b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),-z[2]))),O[3]))),A(A(b(A(A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),N[2]),b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),-_[2])),A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),O[2]),b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),-z[2]))),-B[3]),b(A(A(b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),N[2]),b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),-_[2])),A(b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),O[2]),b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),-B[2]))),z[3])),A(b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),N[2]),b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),B[2]),b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),-z[2]))),I[3]),b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),B[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-z[2]))),-N[3])))),A(A(A(b(A(A(b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),B[2]),b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),-z[2]))),O[3]),b(A(A(b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),I[2]),b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),O[2]),b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),-z[2]))),-B[3])),A(b(A(A(b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),I[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-N[2])),A(b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),O[2]),b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),-B[2]))),z[3]),b(A(A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),N[2]),b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),-_[2])),A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),O[2]),b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),-z[2]))),I[3]))),A(A(b(A(A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),I[2]),b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),-_[2])),A(b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),O[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-z[2]))),-N[3]),b(A(A(b(A(b(s(vt,Ae),N[1]),A(b(s(qe,oe),-O[1]),b(s(De,Y),z[1]))),I[2]),b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),O[2]),b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),-z[2]))),_[3])),A(b(A(A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),I[2]),b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-z[2]))),-O[3]),b(A(A(b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),I[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-N[2])),A(b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-O[2]))),z[3]))))),Mt=A(A(A(b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),_[2]),b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),B[2]),b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),-z[2]))),I[3]),A(b(A(A(b(A(b(s(pt,rt),O[1]),A(b(s(vt,Ae),-B[1]),b(s(He,Be),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-O[2])),A(b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),B[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-z[2]))),-_[3]),b(A(A(b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-_[2])),A(b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),B[2]),b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),-z[2]))),O[3]))),A(A(b(A(A(b(A(b(s(vt,Ae),_[1]),A(b(s(ht,ye),-O[1]),b(s(ke,q),z[1]))),I[2]),b(A(b(s(vt,Ae),I[1]),A(b(s($e,ue),-O[1]),b(s(be,re),z[1]))),-_[2])),A(b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),O[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-z[2]))),-B[3]),b(A(A(b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),I[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-_[2])),A(b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),O[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-B[2]))),z[3])),A(b(A(A(b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),N[2]),b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),-_[2])),A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),B[2]),b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),-z[2]))),I[3]),b(A(A(b(A(b(s(pt,rt),_[1]),A(b(s(ht,ye),-B[1]),b(s(Ee,ce),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-_[2])),A(b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),B[2]),b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),-z[2]))),-N[3])))),A(A(A(b(A(A(b(A(b(s(pt,rt),N[1]),A(b(s(qe,oe),-B[1]),b(s(Fe,$),z[1]))),I[2]),b(A(b(s(pt,rt),I[1]),A(b(s($e,ue),-B[1]),b(s(Me,ne),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),B[2]),b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),-z[2]))),_[3]),b(A(A(b(A(b(s(ht,ye),N[1]),A(b(s(qe,oe),-_[1]),b(s(se,ie),z[1]))),I[2]),b(A(b(s(ht,ye),I[1]),A(b(s($e,ue),-_[1]),b(s(X,J),z[1]))),-N[2])),A(b(A(b(s(qe,oe),I[1]),A(b(s($e,ue),-N[1]),b(s(Q,Z),z[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-z[2]))),-B[3])),A(b(A(A(b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),I[2]),b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),-N[2])),A(b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-B[2]))),z[3]),b(A(A(b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),N[2]),b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),-_[2])),A(b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),O[2]),b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),-B[2]))),I[3]))),A(A(b(A(A(b(A(b(s(He,Be),_[1]),A(b(s(Ee,ce),-O[1]),b(s(ke,q),B[1]))),I[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-_[2])),A(b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),O[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-B[2]))),-N[3]),b(A(A(b(A(b(s(He,Be),N[1]),A(b(s(Fe,$),-O[1]),b(s(De,Y),B[1]))),I[2]),b(A(b(s(He,Be),I[1]),A(b(s(Me,ne),-O[1]),b(s(be,re),B[1]))),-N[2])),A(b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),O[2]),b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),-B[2]))),_[3])),A(b(A(A(b(A(b(s(Ee,ce),N[1]),A(b(s(Fe,$),-_[1]),b(s(se,ie),B[1]))),I[2]),b(A(b(s(Ee,ce),I[1]),A(b(s(Me,ne),-_[1]),b(s(X,J),B[1]))),-N[2])),A(b(A(b(s(Fe,$),I[1]),A(b(s(Me,ne),-N[1]),b(s(Q,Z),B[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-B[2]))),-O[3]),b(A(A(b(A(b(s(ke,q),N[1]),A(b(s(De,Y),-_[1]),b(s(se,ie),O[1]))),I[2]),b(A(b(s(ke,q),I[1]),A(b(s(be,re),-_[1]),b(s(X,J),O[1]))),-N[2])),A(b(A(b(s(De,Y),I[1]),A(b(s(be,re),-N[1]),b(s(Q,Z),O[1]))),_[2]),b(A(b(s(se,ie),I[1]),A(b(s(X,J),-N[1]),b(s(Q,Z),_[1]))),-O[2]))),B[3]))))),nt=s(wt,Mt);return nt[nt.length-1]}return F}var w=[g,h,T];function C(A){var s=w[A.length];return s||(s=w[A.length]=u(A.length)),s.apply(void 0,A)}function y(A,s,E,b,F,I,N,_){function O(B,z,U,Z,J,re){switch(arguments.length){case 0:case 1:return 0;case 2:return b(B,z);case 3:return F(B,z,U);case 4:return I(B,z,U,Z);case 5:return N(B,z,U,Z,J);case 6:return _(B,z,U,Z,J,re)}for(var ne=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ne[ue]=arguments[ue];return A(ne)}return O}function M(){for(;w.length<=l;)w.push(u(w.length));v.exports=y.apply(void 0,[C].concat(w));for(var A=0;A<=l;++A)v.exports[A]=w[A]}M()},727:function(v,p,r){var t=r(2962),a=6;function n(w){var C=w===2?u:w===3?g:w===4?h:w===5?T:c;return w<6?C(t[w]):C(t)}function f(){return[[0]]}function l(w,C){return[[C[0]],[w[0][0]]]}function u(w){return function(y,M){return[w([[+M[0],+y[0][1]],[+M[1],+y[1][1]]]),w([[+y[0][0],+M[0]],[+y[1][0],+M[1]]]),w(y)]}}function g(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2]],[+M[1],+y[1][1],+y[1][2]],[+M[2],+y[2][1],+y[2][2]]]),w([[+y[0][0],+M[0],+y[0][2]],[+y[1][0],+M[1],+y[1][2]],[+y[2][0],+M[2],+y[2][2]]]),w([[+y[0][0],+y[0][1],+M[0]],[+y[1][0],+y[1][1],+M[1]],[+y[2][0],+y[2][1],+M[2]]]),w(y)]}}function h(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3]],[+M[1],+y[1][1],+y[1][2],+y[1][3]],[+M[2],+y[2][1],+y[2][2],+y[2][3]],[+M[3],+y[3][1],+y[3][2],+y[3][3]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3]],[+y[1][0],+M[1],+y[1][2],+y[1][3]],[+y[2][0],+M[2],+y[2][2],+y[2][3]],[+y[3][0],+M[3],+y[3][2],+y[3][3]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3]],[+y[1][0],+y[1][1],+M[1],+y[1][3]],[+y[2][0],+y[2][1],+M[2],+y[2][3]],[+y[3][0],+y[3][1],+M[3],+y[3][3]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+M[3]]]),w(y)]}}function T(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+M[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+M[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+M[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+M[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+M[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+M[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+M[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+M[4],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+M[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+M[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+M[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+M[4],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+M[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+M[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+M[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+M[4],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+M[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+M[4]]]),w(y)]}}function c(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+M[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+M[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+M[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+M[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+M[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+M[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+M[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+M[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+M[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+M[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+M[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+M[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+M[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+M[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+M[5],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+M[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+M[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+M[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+M[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+M[5],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+M[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+M[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+M[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+M[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+M[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+M[5],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+M[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+M[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+M[5]]]),w(y)]}}var o=[f,l];function d(w,C,y,M,A,s,E,b){return function(I,N){switch(I.length){case 0:return w(I,N);case 1:return C(I,N);case 2:return y(I,N);case 3:return M(I,N);case 4:return A(I,N);case 5:return s(I,N)}var _=E[I.length];return _||(_=E[I.length]=b(I.length)),_(I,N)}}function x(){for(;o.length<a;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var w=0;w<a;++w)v.exports[w]=o[w]}x()},3250:function(v,p,r){var t=r(5250),a=r(8210),n=r(3012),f=r(8545),l=5,u=11102230246251565e-32,g=(3+16*u)*u,h=(7+56*u)*u;function T(s,E,b,F){return function(N,_,O){var B=s(s(E(_[1],O[0]),E(-O[1],_[0])),s(E(N[1],_[0]),E(-_[1],N[0]))),z=s(E(N[1],O[0]),E(-O[1],N[0])),U=F(B,z);return U[U.length-1]}}function c(s,E,b,F){return function(N,_,O,B){var z=s(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),_[2]),s(b(s(E(_[1],B[0]),E(-B[1],_[0])),-O[2]),b(s(E(_[1],O[0]),E(-O[1],_[0])),B[2]))),s(b(s(E(_[1],B[0]),E(-B[1],_[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),B[2])))),U=s(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-O[2]),b(s(E(N[1],O[0]),E(-O[1],N[0])),B[2]))),s(b(s(E(_[1],O[0]),E(-O[1],_[0])),N[2]),s(b(s(E(N[1],O[0]),E(-O[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),O[2])))),Z=F(z,U);return Z[Z.length-1]}}function o(s,E,b,F){return function(N,_,O,B,z){var U=s(s(s(b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),O[2]),s(b(s(E(O[1],z[0]),E(-z[1],O[0])),-B[2]),b(s(E(O[1],B[0]),E(-B[1],O[0])),z[2]))),_[3]),s(b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),_[2]),s(b(s(E(_[1],z[0]),E(-z[1],_[0])),-B[2]),b(s(E(_[1],B[0]),E(-B[1],_[0])),z[2]))),-O[3]),b(s(b(s(E(O[1],z[0]),E(-z[1],O[0])),_[2]),s(b(s(E(_[1],z[0]),E(-z[1],_[0])),-O[2]),b(s(E(_[1],O[0]),E(-O[1],_[0])),z[2]))),B[3]))),s(b(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),_[2]),s(b(s(E(_[1],B[0]),E(-B[1],_[0])),-O[2]),b(s(E(_[1],O[0]),E(-O[1],_[0])),B[2]))),-z[3]),s(b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),_[2]),s(b(s(E(_[1],z[0]),E(-z[1],_[0])),-B[2]),b(s(E(_[1],B[0]),E(-B[1],_[0])),z[2]))),N[3]),b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-B[2]),b(s(E(N[1],B[0]),E(-B[1],N[0])),z[2]))),-_[3])))),s(s(b(s(b(s(E(_[1],z[0]),E(-z[1],_[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),z[2]))),B[3]),s(b(s(b(s(E(_[1],B[0]),E(-B[1],_[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),B[2]))),-z[3]),b(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),_[2]),s(b(s(E(_[1],B[0]),E(-B[1],_[0])),-O[2]),b(s(E(_[1],O[0]),E(-O[1],_[0])),B[2]))),N[3]))),s(b(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-O[2]),b(s(E(N[1],O[0]),E(-O[1],N[0])),B[2]))),-_[3]),s(b(s(b(s(E(_[1],B[0]),E(-B[1],_[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),B[2]))),O[3]),b(s(b(s(E(_[1],O[0]),E(-O[1],_[0])),N[2]),s(b(s(E(N[1],O[0]),E(-O[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),O[2]))),-B[3]))))),Z=s(s(s(b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),O[2]),s(b(s(E(O[1],z[0]),E(-z[1],O[0])),-B[2]),b(s(E(O[1],B[0]),E(-B[1],O[0])),z[2]))),N[3]),b(s(b(s(E(B[1],z[0]),E(-z[1],B[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-B[2]),b(s(E(N[1],B[0]),E(-B[1],N[0])),z[2]))),-O[3])),s(b(s(b(s(E(O[1],z[0]),E(-z[1],O[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-O[2]),b(s(E(N[1],O[0]),E(-O[1],N[0])),z[2]))),B[3]),b(s(b(s(E(O[1],B[0]),E(-B[1],O[0])),N[2]),s(b(s(E(N[1],B[0]),E(-B[1],N[0])),-O[2]),b(s(E(N[1],O[0]),E(-O[1],N[0])),B[2]))),-z[3]))),s(s(b(s(b(s(E(O[1],z[0]),E(-z[1],O[0])),_[2]),s(b(s(E(_[1],z[0]),E(-z[1],_[0])),-O[2]),b(s(E(_[1],O[0]),E(-O[1],_[0])),z[2]))),N[3]),b(s(b(s(E(O[1],z[0]),E(-z[1],O[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-O[2]),b(s(E(N[1],O[0]),E(-O[1],N[0])),z[2]))),-_[3])),s(b(s(b(s(E(_[1],z[0]),E(-z[1],_[0])),N[2]),s(b(s(E(N[1],z[0]),E(-z[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),z[2]))),O[3]),b(s(b(s(E(_[1],O[0]),E(-O[1],_[0])),N[2]),s(b(s(E(N[1],O[0]),E(-O[1],N[0])),-_[2]),b(s(E(N[1],_[0]),E(-_[1],N[0])),O[2]))),-z[3])))),J=F(U,Z);return J[J.length-1]}}function d(s){var E=s===3?T:s===4?c:o;return E(a,t,n,f)}var x=d(3),w=d(4),C=[function(){return 0},function(){return 0},function(E,b){return b[0]-E[0]},function(E,b,F){var I=(E[1]-F[1])*(b[0]-F[0]),N=(E[0]-F[0])*(b[1]-F[1]),_=I-N,O;if(I>0){if(N<=0)return _;O=I+N}else if(I<0){if(N>=0)return _;O=-(I+N)}else return _;var B=g*O;return _>=B||_<=-B?_:x(E,b,F)},function(E,b,F,I){var N=E[0]-I[0],_=b[0]-I[0],O=F[0]-I[0],B=E[1]-I[1],z=b[1]-I[1],U=F[1]-I[1],Z=E[2]-I[2],J=b[2]-I[2],re=F[2]-I[2],ne=_*U,ue=O*z,te=O*B,Q=N*U,ie=N*z,Y=_*B,$=Z*(ne-ue)+J*(te-Q)+re*(ie-Y),oe=(Math.abs(ne)+Math.abs(ue))*Math.abs(Z)+(Math.abs(te)+Math.abs(Q))*Math.abs(J)+(Math.abs(ie)+Math.abs(Y))*Math.abs(re),j=h*oe;return $>j||-$>j?$:w(E,b,F,I)}];function y(s){var E=C[s.length];return E||(E=C[s.length]=d(s.length)),E.apply(void 0,s)}function M(s,E,b,F,I,N,_){return function(B,z,U,Z,J){switch(arguments.length){case 0:case 1:return 0;case 2:return F(B,z);case 3:return I(B,z,U);case 4:return N(B,z,U,Z);case 5:return _(B,z,U,Z,J)}for(var re=new Array(arguments.length),ne=0;ne<arguments.length;++ne)re[ne]=arguments[ne];return s(re)}}function A(){for(;C.length<=l;)C.push(d(C.length));v.exports=M.apply(void 0,[y].concat(C));for(var s=0;s<=l;++s)v.exports[s]=C[s]}A()},5382:function(v,p,r){var t=r(8210),a=r(3012);v.exports=n;function n(f,l){if(f.length===1)return a(l,f[0]);if(l.length===1)return a(f,l[0]);if(f.length===0||l.length===0)return[0];var u=[0];if(f.length<l.length)for(var g=0;g<f.length;++g)u=t(u,a(l,f[g]));else for(var g=0;g<l.length;++g)u=t(u,a(f,l[g]));return u}},3012:function(v,p,r){var t=r(5250),a=r(9362);v.exports=n;function n(f,l){var u=f.length;if(u===1){var g=t(f[0],l);return g[0]?g:[g[1]]}var h=new Array(2*u),T=[.1,.1],c=[.1,.1],o=0;t(f[0],l,T),T[0]&&(h[o++]=T[0]);for(var d=1;d<u;++d){t(f[d],l,c);var x=T[1];a(x,c[0],T),T[0]&&(h[o++]=T[0]);var w=c[1],C=T[1],y=w+C,M=y-w,A=C-M;T[1]=y,A&&(h[o++]=A)}return T[1]&&(h[o++]=T[1]),o===0&&(h[o++]=0),h.length=o,h}},1125:function(v,p,r){v.exports=n;var t=r(3250)[3];function a(f,l,u,g){for(var h=0;h<2;++h){var T=f[h],c=l[h],o=Math.min(T,c),d=Math.max(T,c),x=u[h],w=g[h],C=Math.min(x,w),y=Math.max(x,w);if(y<o||d<C)return!1}return!0}function n(f,l,u,g){var h=t(f,u,g),T=t(l,u,g);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(u,f,l),o=t(g,f,l);return c>0&&o>0||c<0&&o<0?!1:h===0&&T===0&&c===0&&o===0?a(f,l,u,g):!0}},8545:function(v){v.exports=r;function p(t,a){var n=t+a,f=n-t,l=n-f,u=a-f,g=t-l,h=g+u;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return p(t[0],-a[0]);var l=n+f,u=new Array(l),g=0,h=0,T=0,c=Math.abs,o=t[h],d=c(o),x=-a[T],w=c(x),C,y;d<w?(y=o,h+=1,h<n&&(o=t[h],d=c(o))):(y=x,T+=1,T<f&&(x=-a[T],w=c(x))),h<n&&d<w||T>=f?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=x,T+=1,T<f&&(x=-a[T],w=c(x)));for(var M=C+y,A=M-C,s=y-A,E=s,b=M,F,I,N,_,O;h<n&&T<f;)d<w?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=x,T+=1,T<f&&(x=-a[T],w=c(x))),y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F;for(;h<n;)C=o,y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F,h+=1,h<n&&(o=t[h]);for(;T<f;)C=x,y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F,T+=1,T<f&&(x=-a[T]);return E&&(u[g++]=E),b&&(u[g++]=b),g||(u[g++]=0),u.length=g,u}},8210:function(v){v.exports=r;function p(t,a){var n=t+a,f=n-t,l=n-f,u=a-f,g=t-l,h=g+u;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return p(t[0],a[0]);var l=n+f,u=new Array(l),g=0,h=0,T=0,c=Math.abs,o=t[h],d=c(o),x=a[T],w=c(x),C,y;d<w?(y=o,h+=1,h<n&&(o=t[h],d=c(o))):(y=x,T+=1,T<f&&(x=a[T],w=c(x))),h<n&&d<w||T>=f?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=x,T+=1,T<f&&(x=a[T],w=c(x)));for(var M=C+y,A=M-C,s=y-A,E=s,b=M,F,I,N,_,O;h<n&&T<f;)d<w?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=x,T+=1,T<f&&(x=a[T],w=c(x))),y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F;for(;h<n;)C=o,y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F,h+=1,h<n&&(o=t[h]);for(;T<f;)C=x,y=E,M=C+y,A=M-C,s=y-A,s&&(u[g++]=s),F=b+M,I=F-b,N=F-I,_=M-I,O=b-N,E=O+_,b=F,T+=1,T<f&&(x=a[T]);return E&&(u[g++]=E),b&&(u[g++]=b),g||(u[g++]=0),u.length=g,u}},9127:function(v,p,r){v.exports=n;var t=r(6204),a=r(5771);function n(f){return a(t(f))}},7765:function(v,p,r){v.exports=o;var t=r(9618),a=r(1888),n=r(446),f=r(1570);function l(d){for(var x=d.length,w=0,C=0;C<x;++C)w=Math.max(w,d[C].length)|0;return w-1}function u(d,x){for(var w=d.length,C=a.mallocUint8(w),y=0;y<w;++y)C[y]=d[y]<x|0;return C}function g(d,x){for(var w=d.length,C=x*(x+1)/2*w|0,y=a.mallocUint32(C*2),M=0,A=0;A<w;++A)for(var s=d[A],x=s.length,E=0;E<x;++E)for(var b=0;b<E;++b){var F=s[b],I=s[E];y[M++]=Math.min(F,I)|0,y[M++]=Math.max(F,I)|0}var N=M/2|0;n(t(y,[N,2]));for(var _=2,A=2;A<M;A+=2)y[A-2]===y[A]&&y[A-1]===y[A+1]||(y[_++]=y[A],y[_++]=y[A+1]);return t(y,[_/2|0,2])}function h(d,x,w,C){for(var y=d.data,M=d.shape[0],A=a.mallocDouble(M),s=0,E=0;E<M;++E){var b=y[2*E],F=y[2*E+1];if(w[b]!==w[F]){var I=x[b],N=x[F];y[2*s]=b,y[2*s+1]=F,A[s++]=(N-C)/(N-I)}}return d.shape[0]=s,t(A,[s])}function T(d,x){var w=a.mallocInt32(x*2),C=d.shape[0],y=d.data;w[0]=0;for(var M=0,A=0;A<C;++A){var s=y[2*A];if(s!==M){for(w[2*M+1]=A;++M<s;)w[2*M]=A,w[2*M+1]=A;w[2*M]=A}}for(w[2*M+1]=C;++M<x;)w[2*M]=w[2*M+1]=C;return w}function c(d){for(var x=d.shape[0]|0,w=d.data,C=new Array(x),y=0;y<x;++y)C[y]=[w[2*y],w[2*y+1]];return C}function o(d,x,w,C){w=w||0,typeof C>"u"&&(C=l(d));var y=d.length;if(y===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=u(x,+w),A=g(d,C),s=h(A,x,M,+w),E=T(A,x.length|0),b=f(C)(d,A.data,E,M),F=c(A),I=[].slice.call(s.data,0,s.shape[0]);return a.free(M),a.free(A.data),a.free(s.data),a.free(E),{cells:b,vertexIds:F,vertexWeights:I}}},1570:function(v){v.exports=r;var p=[function(){function a(n,f,l,u){for(var g=n.length,h=[],T=0;T<g;++T){var c=n[T];c.length}return h}return a},function(){function a(f,l,u,g){for(var h=Math.min(u,g)|0,T=Math.max(u,g)|0,c=f[2*h],o=f[2*h+1];c<o;){var d=c+o>>1,x=l[2*d+1];if(x===T)return d;T<x?o=d:c=d+1}return c}function n(f,l,u,g){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],d=o.length;if(d===2){var x=(g[o[0]]<<0)+(g[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[1])]);break;case 2:T.push([a(u,l,o[1],o[0])]);break}}}return T}return n},function(){function a(f,l,u,g){for(var h=Math.min(u,g)|0,T=Math.max(u,g)|0,c=f[2*h],o=f[2*h+1];c<o;){var d=c+o>>1,x=l[2*d+1];if(x===T)return d;T<x?o=d:c=d+1}return c}function n(f,l,u,g){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],d=o.length;if(d===3){var x=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[2]),a(u,l,o[0],o[1])]);break;case 2:T.push([a(u,l,o[1],o[0]),a(u,l,o[1],o[2])]);break;case 3:T.push([a(u,l,o[0],o[2]),a(u,l,o[1],o[2])]);break;case 4:T.push([a(u,l,o[2],o[1]),a(u,l,o[2],o[0])]);break;case 5:T.push([a(u,l,o[2],o[1]),a(u,l,o[0],o[1])]);break;case 6:T.push([a(u,l,o[1],o[0]),a(u,l,o[2],o[0])]);break}}else if(d===2){var x=(g[o[0]]<<0)+(g[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[1])]);break;case 2:T.push([a(u,l,o[1],o[0])]);break}}}return T}return n},function(){function a(f,l,u,g){for(var h=Math.min(u,g)|0,T=Math.max(u,g)|0,c=f[2*h],o=f[2*h+1];c<o;){var d=c+o>>1,x=l[2*d+1];if(x===T)return d;T<x?o=d:c=d+1}return c}function n(f,l,u,g){for(var h=f.length,T=[],c=0;c<h;++c){var o=f[c],d=o.length;if(d===4){var x=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2)+(g[o[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[1]),a(u,l,o[0],o[2]),a(u,l,o[0],o[3])]);break;case 2:T.push([a(u,l,o[1],o[2]),a(u,l,o[1],o[0]),a(u,l,o[1],o[3])]);break;case 3:T.push([a(u,l,o[1],o[2]),a(u,l,o[0],o[2]),a(u,l,o[0],o[3])],[a(u,l,o[1],o[3]),a(u,l,o[1],o[2]),a(u,l,o[0],o[3])]);break;case 4:T.push([a(u,l,o[2],o[0]),a(u,l,o[2],o[1]),a(u,l,o[2],o[3])]);break;case 5:T.push([a(u,l,o[0],o[1]),a(u,l,o[2],o[1]),a(u,l,o[0],o[3])],[a(u,l,o[2],o[1]),a(u,l,o[2],o[3]),a(u,l,o[0],o[3])]);break;case 6:T.push([a(u,l,o[2],o[0]),a(u,l,o[1],o[0]),a(u,l,o[1],o[3])],[a(u,l,o[2],o[3]),a(u,l,o[2],o[0]),a(u,l,o[1],o[3])]);break;case 7:T.push([a(u,l,o[0],o[3]),a(u,l,o[1],o[3]),a(u,l,o[2],o[3])]);break;case 8:T.push([a(u,l,o[3],o[1]),a(u,l,o[3],o[0]),a(u,l,o[3],o[2])]);break;case 9:T.push([a(u,l,o[3],o[1]),a(u,l,o[0],o[1]),a(u,l,o[0],o[2])],[a(u,l,o[3],o[2]),a(u,l,o[3],o[1]),a(u,l,o[0],o[2])]);break;case 10:T.push([a(u,l,o[1],o[0]),a(u,l,o[3],o[0]),a(u,l,o[1],o[2])],[a(u,l,o[3],o[0]),a(u,l,o[3],o[2]),a(u,l,o[1],o[2])]);break;case 11:T.push([a(u,l,o[1],o[2]),a(u,l,o[0],o[2]),a(u,l,o[3],o[2])]);break;case 12:T.push([a(u,l,o[3],o[0]),a(u,l,o[2],o[0]),a(u,l,o[2],o[1])],[a(u,l,o[3],o[1]),a(u,l,o[3],o[0]),a(u,l,o[2],o[1])]);break;case 13:T.push([a(u,l,o[0],o[1]),a(u,l,o[2],o[1]),a(u,l,o[3],o[1])]);break;case 14:T.push([a(u,l,o[2],o[0]),a(u,l,o[1],o[0]),a(u,l,o[3],o[0])]);break}}else if(d===3){var x=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[2]),a(u,l,o[0],o[1])]);break;case 2:T.push([a(u,l,o[1],o[0]),a(u,l,o[1],o[2])]);break;case 3:T.push([a(u,l,o[0],o[2]),a(u,l,o[1],o[2])]);break;case 4:T.push([a(u,l,o[2],o[1]),a(u,l,o[2],o[0])]);break;case 5:T.push([a(u,l,o[2],o[1]),a(u,l,o[0],o[1])]);break;case 6:T.push([a(u,l,o[1],o[0]),a(u,l,o[2],o[0])]);break}}else if(d===2){var x=(g[o[0]]<<0)+(g[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(u,l,o[0],o[1])]);break;case 2:T.push([a(u,l,o[1],o[0])]);break}}}return T}return n}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(a,n){var f=a.length,l=a.length-n.length,u=Math.min;if(l)return l;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:var o=a[0]+a[1]-n[0]-n[1];return o||u(a[0],a[1])-u(n[0],n[1]);case 3:var g=a[0]+a[1],h=n[0]+n[1];if(o=g+a[2]-(h+n[2]),o)return o;var T=u(a[0],a[1]),c=u(n[0],n[1]),o=u(T,a[2])-u(c,n[2]);return o||u(T+a[2],g)-u(c+n[2],h);default:var d=a.slice(0);d.sort();var x=n.slice(0);x.sort();for(var w=0;w<f;++w)if(l=d[w]-x[w],l)return l;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,l;return f=(n>65535)<<4,n>>>=f,l=(n>255)<<3,n>>>=l,f|=l,l=(n>15)<<2,n>>>=l,f|=l,l=(n>3)<<1,n>>>=l,f|=l,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var l=f,u=f,g=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=l&1,--g;n[f]=u<<g&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,l){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|l<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),a=r(4623);function n(s){for(var E=0,b=Math.max,F=0,I=s.length;F<I;++F)E=b(E,s[F].length);return E-1}p.dimension=n;function f(s){for(var E=-1,b=Math.max,F=0,I=s.length;F<I;++F)for(var N=s[F],_=0,O=N.length;_<O;++_)E=b(E,N[_]);return E+1}p.countVertices=f;function l(s){for(var E=new Array(s.length),b=0,F=s.length;b<F;++b)E[b]=s[b].slice(0);return E}p.cloneCells=l;function u(s,E){var b=s.length,F=s.length-E.length,I=Math.min;if(F)return F;switch(b){case 0:return 0;case 1:return s[0]-E[0];case 2:var z=s[0]+s[1]-E[0]-E[1];return z||I(s[0],s[1])-I(E[0],E[1]);case 3:var N=s[0]+s[1],_=E[0]+E[1];if(z=N+s[2]-(_+E[2]),z)return z;var O=I(s[0],s[1]),B=I(E[0],E[1]),z=I(O,s[2])-I(B,E[2]);return z||I(O+s[2],N)-I(B+E[2],_);default:var U=s.slice(0);U.sort();var Z=E.slice(0);Z.sort();for(var J=0;J<b;++J)if(F=U[J]-Z[J],F)return F;return 0}}p.compareCells=u;function g(s,E){return u(s[0],E[0])}function h(s,E){if(E){for(var b=s.length,F=new Array(b),I=0;I<b;++I)F[I]=[s[I],E[I]];F.sort(g);for(var I=0;I<b;++I)s[I]=F[I][0],E[I]=F[I][1];return s}else return s.sort(u),s}p.normalize=h;function T(s){if(s.length===0)return[];for(var E=1,b=s.length,F=1;F<b;++F){var I=s[F];if(u(I,s[F-1])){if(F===E){E++;continue}s[E++]=I}}return s.length=E,s}p.unique=T;function c(s,E){for(var b=0,F=s.length-1,I=-1;b<=F;){var N=b+F>>1,_=u(s[N],E);_<=0?(_===0&&(I=N),b=N+1):_>0&&(F=N-1)}return I}p.findCell=c;function o(s,E){for(var b=new Array(s.length),F=0,I=b.length;F<I;++F)b[F]=[];for(var N=[],F=0,_=E.length;F<_;++F)for(var O=E[F],B=O.length,z=1,U=1<<B;z<U;++z){N.length=t.popCount(z);for(var Z=0,J=0;J<B;++J)z&1<<J&&(N[Z++]=O[J]);var re=c(s,N);if(!(re<0))for(;b[re++].push(F),!(re>=s.length||u(s[re],N)!==0););}return b}p.incidence=o;function d(s,E){if(!E)return o(T(w(s,0)),s);for(var b=new Array(E),F=0;F<E;++F)b[F]=[];for(var F=0,I=s.length;F<I;++F)for(var N=s[F],_=0,O=N.length;_<O;++_)b[N[_]].push(F);return b}p.dual=d;function x(s){for(var E=[],b=0,F=s.length;b<F;++b)for(var I=s[b],N=I.length|0,_=1,O=1<<N;_<O;++_){for(var B=[],z=0;z<N;++z)_>>>z&1&&B.push(I[z]);E.push(B)}return h(E)}p.explode=x;function w(s,E){if(E<0)return[];for(var b=[],F=(1<<E+1)-1,I=0;I<s.length;++I)for(var N=s[I],_=F;_<1<<N.length;_=t.nextCombination(_)){for(var O=new Array(E+1),B=0,z=0;z<N.length;++z)_&1<<z&&(O[B++]=N[z]);b.push(O)}return h(b)}p.skeleton=w;function C(s){for(var E=[],b=0,F=s.length;b<F;++b)for(var I=s[b],N=0,_=I.length;N<_;++N){for(var O=new Array(I.length-1),B=0,z=0;B<_;++B)B!==N&&(O[z++]=I[B]);E.push(O)}return h(E)}p.boundary=C;function y(s,E){for(var b=new a(E),F=0;F<s.length;++F)for(var I=s[F],N=0;N<I.length;++N)for(var _=N+1;_<I.length;++_)b.link(I[N],I[_]);for(var O=[],B=b.ranks,F=0;F<B.length;++F)B[F]=-1;for(var F=0;F<s.length;++F){var z=b.find(s[F][0]);B[z]<0?(B[z]=O.length,O.push([s[F].slice(0)])):O[B[z]].push(s[F].slice(0))}return O}function M(s){for(var E=T(h(w(s,0))),b=new a(E.length),F=0;F<s.length;++F)for(var I=s[F],N=0;N<I.length;++N)for(var _=c(E,[I[N]]),O=N+1;O<I.length;++O)b.link(_,c(E,[I[O]]));for(var B=[],z=b.ranks,F=0;F<z.length;++F)z[F]=-1;for(var F=0;F<s.length;++F){var U=b.find(c(E,[s[F][0]]));z[U]<0?(z[U]=B.length,B.push([s[F].slice(0)])):B[z[U]].push(s[F].slice(0))}return B}function A(s,E){return E?y(s,E):M(s)}p.connectedComponents=A},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var a=t[r];t[r]=t[a],r=a}return r},p.prototype.link=function(r,t){var a=this.find(r),n=this.find(t);if(a!==n){var f=this.ranks,l=this.roots,u=f[a],g=f[n];u<g?l[a]=n:g<u?l[n]=a:(l[n]=a,++f[a])}}},5878:function(v,p,r){v.exports=f;var t=r(3250),a=r(2014);function n(l,u,g){var h=Math.abs(t(l,u,g)),T=Math.sqrt(Math.pow(u[0]-g[0],2)+Math.pow(u[1]-g[1],2));return h/T}function f(l,u,g){for(var h=u.length,T=l.length,c=new Array(h),o=new Array(h),d=new Array(h),x=new Array(h),w=0;w<h;++w)c[w]=o[w]=-1,d[w]=1/0,x[w]=!1;for(var w=0;w<T;++w){var C=l[w];if(C.length!==2)throw new Error("Input must be a graph");var y=C[1],M=C[0];o[M]!==-1?o[M]=-2:o[M]=y,c[y]!==-1?c[y]=-2:c[y]=M}function A(te){if(x[te])return 1/0;var Q=c[te],ie=o[te];return Q<0||ie<0?1/0:n(u[te],u[Q],u[ie])}function s(te,Q){var ie=B[te],Y=B[Q];B[te]=Y,B[Q]=ie,z[ie]=Q,z[Y]=te}function E(te){return d[B[te]]}function b(te){return te&1?te-1>>1:(te>>1)-1}function F(te){for(var Q=E(te);;){var ie=Q,Y=2*te+1,$=2*(te+1),oe=te;if(Y<Z){var j=E(Y);j<ie&&(oe=Y,ie=j)}if($<Z){var X=E($);X<ie&&(oe=$)}if(oe===te)return te;s(te,oe),te=oe}}function I(te){for(var Q=E(te);te>0;){var ie=b(te);if(ie>=0){var Y=E(ie);if(Q<Y){s(te,ie),te=ie;continue}}return te}}function N(){if(Z>0){var te=B[0];return s(0,Z-1),Z-=1,F(0),te}return-1}function _(te,Q){var ie=B[te];return d[ie]===Q?te:(d[ie]=-1/0,I(te),N(),d[ie]=Q,Z+=1,I(Z-1))}function O(te){if(!x[te]){x[te]=!0;var Q=c[te],ie=o[te];c[ie]>=0&&(c[ie]=Q),o[Q]>=0&&(o[Q]=ie),z[Q]>=0&&_(z[Q],A(Q)),z[ie]>=0&&_(z[ie],A(ie))}}for(var B=[],z=new Array(h),w=0;w<h;++w){var U=d[w]=A(w);U<1/0?(z[w]=B.length,B.push(w)):z[w]=-1}for(var Z=B.length,w=Z>>1;w>=0;--w)F(w);for(;;){var J=N();if(J<0||d[J]>g)break;O(J)}for(var re=[],w=0;w<h;++w)x[w]||(z[w]=re.length,re.push(u[w].slice()));re.length;function ne(te,Q){if(te[Q]<0)return Q;var ie=Q,Y=Q;do{var $=te[Y];if(!x[Y]||$<0||$===Y||(Y=$,$=te[Y],!x[Y]||$<0||$===Y))break;Y=$,ie=te[ie]}while(ie!==Y);for(var oe=Q;oe!==Y;oe=te[oe])te[oe]=Y;return Y}var ue=[];return l.forEach(function(te){var Q=ne(c,te[0]),ie=ne(o,te[1]);if(Q>=0&&ie>=0&&Q!==ie){var Y=z[Q],$=z[ie];Y!==$&&ue.push([Y,$])}}),a.unique(a.normalize(ue)),{positions:re,edges:ue}}},1303:function(v,p,r){v.exports=n;var t=r(3250);function a(f,l){var u,g;if(l[0][0]<l[1][0])u=l[0],g=l[1];else if(l[0][0]>l[1][0])u=l[1],g=l[0];else{var h=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),c=Math.min(l[0][1],l[1][1]),o=Math.max(l[0][1],l[1][1]);return T<c?T-c:h>o?h-o:T-o}var d,x;f[0][1]<f[1][1]?(d=f[0],x=f[1]):(d=f[1],x=f[0]);var w=t(g,u,d);return w||(w=t(g,u,x),w)?w:x-g}function n(f,l){var u,g;if(l[0][0]<l[1][0])u=l[0],g=l[1];else if(l[0][0]>l[1][0])u=l[1],g=l[0];else return a(l,f);var h,T;if(f[0][0]<f[1][0])h=f[0],T=f[1];else if(f[0][0]>f[1][0])h=f[1],T=f[0];else return-a(f,l);var c=t(u,g,T),o=t(u,g,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(T,h,g),o=t(T,h,u),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return g[0]-T[0]}},4209:function(v,p,r){v.exports=o;var t=r(2478),a=r(3840),n=r(3250),f=r(1303);function l(d,x,w){this.slabs=d,this.coordinates=x,this.horizontal=w}var u=l.prototype;function g(d,x){return d.y-x}function h(d,x){for(var w=null;d;){var C=d.key,y,M;C[0][0]<C[1][0]?(y=C[0],M=C[1]):(y=C[1],M=C[0]);var A=n(y,M,x);if(A<0)d=d.left;else if(A>0)if(x[0]!==C[1][0])w=d,d=d.right;else{var s=h(d.right,x);if(s)return s;d=d.left}else{if(x[0]!==C[1][0])return d;var s=h(d.right,x);if(s)return s;d=d.left}}return w}u.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var w=h(this.slabs[x],d),C=-1;if(w&&(C=w.value),this.coordinates[x]===d[0]){var y=null;if(w&&(y=w.key),x>0){var M=h(this.slabs[x-1],d);M&&(y?f(M.key,y)>0&&(y=M.key,C=M.value):(C=M.value,y=M.key))}var A=this.horizontal[x];if(A.length>0){var s=t.ge(A,d[1],g);if(s<A.length){var E=A[s];if(d[1]===E.y){if(E.closed)return E.index;for(;s<A.length-1&&A[s+1].y===d[1];)if(s=s+1,E=A[s],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(s=s+1,s>=A.length)return C;E=A[s]}}if(E.start)if(y){var b=n(y[0],y[1],[d[0],E.y]);y[0][0]>y[1][0]&&(b=-b),b>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function T(d,x,w,C){this.y=d,this.index=x,this.start=w,this.closed=C}function c(d,x,w,C){this.x=d,this.segment=x,this.create=w,this.index=C}function o(d){for(var x=d.length,w=2*x,C=new Array(w),y=0;y<x;++y){var M=d[y],A=M[0][0]<M[1][0];C[2*y]=new c(M[0][0],M,A,y),C[2*y+1]=new c(M[1][0],M,!A,y)}C.sort(function(O,B){var z=O.x-B.x;return z||(z=O.create-B.create,z)?z:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var s=a(f),E=[],b=[],F=[],y=0;y<w;){for(var I=C[y].x,N=[];y<w;){var _=C[y];if(_.x!==I)break;y+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(N.push(new T(_.segment[0][1],_.index,!0,!0)),N.push(new T(_.segment[1][1],_.index,!1,!1))):(N.push(new T(_.segment[1][1],_.index,!0,!1)),N.push(new T(_.segment[0][1],_.index,!1,!0)))):_.create?s=s.insert(_.segment,_.index):s=s.remove(_.segment)}E.push(s.root),b.push(I),F.push(N)}return new l(E,b,F)}},5202:function(v,p,r){var t=r(1944),a=r(8210);v.exports=l,v.exports.positive=u,v.exports.negative=g;function n(h,T){var c=a(t(h,T),[T[T.length-1]]);return c[c.length-1]}function f(h,T,c,o){var d=o-T,x=-T/d;x<0?x=0:x>1&&(x=1);for(var w=1-x,C=h.length,y=new Array(C),M=0;M<C;++M)y[M]=x*h[M]+w*c[M];return y}function l(h,T){for(var c=[],o=[],d=n(h[h.length-1],T),x=h[h.length-1],w=h[0],C=0;C<h.length;++C,x=w){w=h[C];var y=n(w,T);if(d<0&&y>0||d>0&&y<0){var M=f(x,y,w,d);c.push(M),o.push(M.slice())}y<0?o.push(w.slice()):y>0?c.push(w.slice()):(c.push(w.slice()),o.push(w.slice())),d=y}return{positive:c,negative:o}}function u(h,T){for(var c=[],o=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var C=n(x,T);(o<0&&C>0||o>0&&C<0)&&c.push(f(d,C,x,o)),C>=0&&c.push(x.slice()),o=C}return c}function g(h,T){for(var c=[],o=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var C=n(x,T);(o<0&&C>0||o>0&&C<0)&&c.push(f(d,C,x,o)),C<=0&&c.push(x.slice()),o=C}return c}},3387:function(v,p,r){var t;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return l(g(h),arguments)}function f(h,T){return n.apply(null,[h].concat(T||[]))}function l(h,T){var c=1,o=h.length,d,x="",w,C,y,M,A,s,E,b;for(w=0;w<o;w++)if(typeof h[w]=="string")x+=h[w];else if(typeof h[w]=="object"){if(y=h[w],y.keys)for(d=T[c],C=0;C<y.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[C],y.keys[C-1]));d=d[y.keys[C]]}else y.param_no?d=T[y.param_no]:d=T[c++];if(a.not_type.test(y.type)&&a.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),a.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(a.number.test(y.type)&&(E=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}a.json.test(y.type)?x+=d:(a.number.test(y.type)&&(!E||y.sign)?(b=E?"+":"-",d=d.toString().replace(a.sign,"")):b="",A=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",s=y.width-(b+d).length,M=y.width&&s>0?A.repeat(s):"",x+=y.align?b+d+M:A==="0"?b+M+d:M+b+d)}return x}var u=Object.create(null);function g(h){if(u[h])return u[h];for(var T=h,c,o=[],d=0;T;){if((c=a.text.exec(T))!==null)o.push(c[0]);else if((c=a.modulo.exec(T))!==null)o.push("%");else if((c=a.placeholder.exec(T))!==null){if(c[2]){d|=1;var x=[],w=c[2],C=[];if((C=a.key.exec(w))!==null)for(x.push(C[1]);(w=w.substring(C[0].length))!=="";)if((C=a.key_access.exec(w))!==null)x.push(C[1]);else if((C=a.index_access.exec(w))!==null)x.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return u[h]=o}p.sprintf=n,p.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=g;var t=r(2640),a=r(781),n={"2d":function(h,T,c){var o=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,w,C,y){return x>y|0},vertex:function(x,w,C,y,M,A,s,E,b,F,I,N,_){var O=(s<<0)+(E<<1)+(b<<2)+(F<<3)|0;if(!(O===0||O===15))switch(O){case 0:I.push([x-.5,w-.5]);break;case 1:I.push([x-.25-.25*(y+C-2*_)/(C-y),w-.25-.25*(M+C-2*_)/(C-M)]);break;case 2:I.push([x-.75-.25*(-y-C+2*_)/(y-C),w-.25-.25*(A+y-2*_)/(y-A)]);break;case 3:I.push([x-.5,w-.5-.5*(M+C+A+y-4*_)/(C-M+y-A)]);break;case 4:I.push([x-.25-.25*(A+M-2*_)/(M-A),w-.75-.25*(-M-C+2*_)/(M-C)]);break;case 5:I.push([x-.5-.5*(y+C+A+M-4*_)/(C-y+M-A),w-.5]);break;case 6:I.push([x-.5-.25*(-y-C+A+M)/(y-C+M-A),w-.5-.25*(-M-C+A+y)/(M-C+y-A)]);break;case 7:I.push([x-.75-.25*(A+M-2*_)/(M-A),w-.75-.25*(A+y-2*_)/(y-A)]);break;case 8:I.push([x-.75-.25*(-A-M+2*_)/(A-M),w-.75-.25*(-A-y+2*_)/(A-y)]);break;case 9:I.push([x-.5-.25*(y+C+-A-M)/(C-y+A-M),w-.5-.25*(M+C+-A-y)/(C-M+A-y)]);break;case 10:I.push([x-.5-.5*(-y-C+-A-M+4*_)/(y-C+A-M),w-.5]);break;case 11:I.push([x-.25-.25*(-A-M+2*_)/(A-M),w-.75-.25*(M+C-2*_)/(C-M)]);break;case 12:I.push([x-.5,w-.5-.5*(-M-C+-A-y+4*_)/(M-C+A-y)]);break;case 13:I.push([x-.75-.25*(y+C-2*_)/(C-y),w-.25-.25*(-A-y+2*_)/(A-y)]);break;case 14:I.push([x-.25-.25*(-y-C+2*_)/(y-C),w-.25-.25*(-M-C+2*_)/(M-C)]);break;case 15:I.push([x-.5,w-.5]);break}},cell:function(x,w,C,y,M,A,s,E,b){M?E.push([x,w]):E.push([w,x])}});return function(d,x){var w=[],C=[];return o(d,w,C,x),{positions:w,cells:C}}}};function f(h,T){var c=h.length+"d",o=n[c];if(o)return o(t,h,T)}function l(h,T){for(var c=a(h,T),o=c.length,d=new Array(o),x=new Array(o),w=0;w<o;++w)d[w]=[c[w]],x[w]=[w];return{positions:d,cells:x}}var u={};function g(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return l(h,d);var c=h.order.join()+"-"+h.dtype,o=u[c],d=+d||0;return o||(o=u[c]=f(h.order,h.dtype)),o(h,d)}},529:function(v,p,r){v.exports=l;var t=r(4359),a=window||m.global||{},n=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function f(u){for(var g=u.cells,h=u.positions,T=new Float32Array(g.length*6),c=0,o=0,d=0;d<g.length;++d)for(var x=g[d],w=0;w<3;++w){var C=h[x[w]];T[c++]=C[0],T[c++]=C[1]+1.4,o=Math.max(C[0],o)}return{data:T,shape:o}}function l(u,g,T){var T=T||{},c=T.fontStyle||"normal",o=T.fontWeight||"normal",d=T.fontVariant||"normal",x=[c,o,d,u].join("_"),w=n[x];w||(w=n[x]={" ":{data:new Float32Array(0),shape:.2}});var C=w[g];if(!C)if(g.length<=1||!/\d/.test(g))C=w[g]=f(t(g,{triangles:!0,font:u,fontStyle:c,fontWeight:o,fontVariant:d,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=g.split(/(\d|\s)/),M=new Array(y.length),A=0,s=0,E=0;E<y.length;++E)M[E]=l(u,y[E]),A+=M[E].data.length,s+=M[E].shape,E>0&&(s+=.02);for(var b=new Float32Array(A),F=0,I=-.5*s,E=0;E<M.length;++E){for(var N=M[E].data,_=0;_<N.length;_+=2)b[F++]=N[_]+I,b[F++]=N[_+1];I+=M[E].shape+.02}C=w[g]={data:b,shape:s}}return C}},665:function(v,p,r){var t=r(3202);v.exports=l;var a=96;function n(u,g){var h=t(getComputedStyle(u).getPropertyValue(g));return h[0]*l(h[1],u)}function f(u,g){var h=document.createElement("div");h.style["font-size"]="128"+u,g.appendChild(h);var T=n(h,"font-size")/128;return g.removeChild(h),T}function l(u,g){switch(g=g||document.body,u=(u||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),u){case"%":return g.clientHeight/100;case"ch":case"ex":return f(u,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},7261:function(v,p,r){v.exports=x;var t=r(9215),a=r(7608),n=r(6079),f=r(5911),l=r(3536),u=r(244);function g(w,C,y){return Math.sqrt(Math.pow(w,2)+Math.pow(C,2)+Math.pow(y,2))}function h(w){return Math.min(1,Math.max(-1,w))}function T(w){var C=Math.abs(w[0]),y=Math.abs(w[1]),M=Math.abs(w[2]),A=[0,0,0];C>Math.max(y,M)?A[2]=1:y>Math.max(C,M)?A[0]=1:A[1]=1;for(var s=0,E=0,b=0;b<3;++b)s+=w[b]*w[b],E+=A[b]*w[b];for(var b=0;b<3;++b)A[b]-=E/s*w[b];return l(A,A),A}function c(w,C,y,M,A,s,E,b){this.center=t(y),this.up=t(M),this.right=t(A),this.radius=t([s]),this.angle=t([E,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(w,C){w>0?w=Math.log(w):w=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=C},o.getDistanceLimits=function(w){var C=this.radius.bounds[0];return w?(w[0]=Math.exp(C[0][0]),w[1]=Math.exp(C[1][0]),w):[Math.exp(C[0][0]),Math.exp(C[1][0])]},o.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var C=this.computedUp,y=this.computedRight,M=0,A=0,s=0;s<3;++s)A+=C[s]*y[s],M+=C[s]*C[s];for(var E=Math.sqrt(M),b=0,s=0;s<3;++s)y[s]-=C[s]*A/M,b+=y[s]*y[s],C[s]/=E;for(var F=Math.sqrt(b),s=0;s<3;++s)y[s]/=F;var I=this.computedToward;f(I,C,y),l(I,I);for(var N=Math.exp(this.computedRadius[0]),_=this.computedAngle[0],O=this.computedAngle[1],B=Math.cos(_),z=Math.sin(_),U=Math.cos(O),Z=Math.sin(O),J=this.computedCenter,re=B*U,ne=z*U,ue=Z,te=-B*Z,Q=-z*Z,ie=U,Y=this.computedEye,$=this.computedMatrix,s=0;s<3;++s){var oe=re*y[s]+ne*I[s]+ue*C[s];$[4*s+1]=te*y[s]+Q*I[s]+ie*C[s],$[4*s+2]=oe,$[4*s+3]=0}var j=$[1],X=$[5],se=$[9],q=$[2],ce=$[6],ye=$[10],we=X*ye-se*ce,be=se*q-j*ye,De=j*ce-X*q,ke=g(we,be,De);we/=ke,be/=ke,De/=ke,$[0]=we,$[4]=be,$[8]=De;for(var s=0;s<3;++s)Y[s]=J[s]+$[2+4*s]*N;for(var s=0;s<3;++s){for(var b=0,Be=0;Be<3;++Be)b+=$[s+4*Be]*Y[Be];$[12+s]=-b}$[15]=1},o.getMatrix=function(w,C){this.recalcMatrix(w);var y=this.computedMatrix;if(C){for(var M=0;M<16;++M)C[M]=y[M];return C}return y};var d=[0,0,0];o.rotate=function(w,C,y,M){if(this.angle.move(w,C,y),M){this.recalcMatrix(w);var A=this.computedMatrix;d[0]=A[2],d[1]=A[6],d[2]=A[10];for(var s=this.computedUp,E=this.computedRight,b=this.computedToward,F=0;F<3;++F)A[4*F]=s[F],A[4*F+1]=E[F],A[4*F+2]=b[F];n(A,A,M,d);for(var F=0;F<3;++F)s[F]=A[4*F],E[F]=A[4*F+1];this.up.set(w,s[0],s[1],s[2]),this.right.set(w,E[0],E[1],E[2])}},o.pan=function(w,C,y,M){C=C||0,y=y||0,M=M||0,this.recalcMatrix(w);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=A[1],E=A[5],b=A[9],F=g(s,E,b);s/=F,E/=F,b/=F;var I=A[0],N=A[4],_=A[8],O=I*s+N*E+_*b;I-=s*O,N-=E*O,_-=b*O;var B=g(I,N,_);I/=B,N/=B,_/=B;var z=I*C+s*y,U=N*C+E*y,Z=_*C+b*y;this.center.move(w,z,U,Z);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+M),this.radius.set(w,Math.log(J))},o.translate=function(w,C,y,M){this.center.move(w,C||0,y||0,M||0)},o.setMatrix=function(w,C,y,M){var A=1;typeof y=="number"&&(A=y|0),(A<0||A>3)&&(A=1);var s=(A+2)%3;C||(this.recalcMatrix(w),C=this.computedMatrix);var E=C[A],b=C[A+4],F=C[A+8];if(M){var N=Math.abs(E),_=Math.abs(b),O=Math.abs(F),B=Math.max(N,_,O);N===B?(E=E<0?-1:1,b=F=0):O===B?(F=F<0?-1:1,E=b=0):(b=b<0?-1:1,E=F=0)}else{var I=g(E,b,F);E/=I,b/=I,F/=I}var z=C[s],U=C[s+4],Z=C[s+8],J=z*E+U*b+Z*F;z-=E*J,U-=b*J,Z-=F*J;var re=g(z,U,Z);z/=re,U/=re,Z/=re;var ne=b*Z-F*U,ue=F*z-E*Z,te=E*U-b*z,Q=g(ne,ue,te);ne/=Q,ue/=Q,te/=Q,this.center.jump(w,Fe,Ee,He),this.radius.idle(w),this.up.jump(w,E,b,F),this.right.jump(w,z,U,Z);var ie,Y;if(A===2){var $=C[1],oe=C[5],j=C[9],X=$*z+oe*U+j*Z,se=$*ne+oe*ue+j*te;we<0?ie=-Math.PI/2:ie=Math.PI/2,Y=Math.atan2(se,X)}else{var q=C[2],ce=C[6],ye=C[10],we=q*E+ce*b+ye*F,be=q*z+ce*U+ye*Z,De=q*ne+ce*ue+ye*te;ie=Math.asin(h(we)),Y=Math.atan2(De,be)}this.angle.jump(w,Y,ie),this.recalcMatrix(w);var ke=C[2],Be=C[6],Ae=C[10],Ie=this.computedMatrix;a(Ie,C);var Me=Ie[15],Fe=Ie[12]/Me,Ee=Ie[13]/Me,He=Ie[14]/Me,rt=Math.exp(this.computedRadius[0]);this.center.jump(w,Fe-ke*rt,Ee-Be*rt,He-Ae*rt)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},o.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},o.setDistance=function(w,C){C>0&&this.radius.set(w,Math.log(C))},o.lookAt=function(w,C,y,M){this.recalcMatrix(w),C=C||this.computedEye,y=y||this.computedCenter,M=M||this.computedUp;var A=M[0],s=M[1],E=M[2],b=g(A,s,E);if(!(b<1e-6)){A/=b,s/=b,E/=b;var F=C[0]-y[0],I=C[1]-y[1],N=C[2]-y[2],_=g(F,I,N);if(!(_<1e-6)){F/=_,I/=_,N/=_;var O=this.computedRight,B=O[0],z=O[1],U=O[2],Z=A*B+s*z+E*U;B-=Z*A,z-=Z*s,U-=Z*E;var J=g(B,z,U);if(!(J<.01&&(B=s*N-E*I,z=E*F-A*N,U=A*I-s*F,J=g(B,z,U),J<1e-6))){B/=J,z/=J,U/=J,this.up.set(w,A,s,E),this.right.set(w,B,z,U),this.center.set(w,y[0],y[1],y[2]),this.radius.set(w,Math.log(_));var re=s*U-E*z,ne=E*B-A*U,ue=A*z-s*B,te=g(re,ne,ue);re/=te,ne/=te,ue/=te;var Q=A*F+s*I+E*N,ie=B*F+z*I+U*N,Y=re*F+ne*I+ue*N,$=Math.asin(h(Q)),oe=Math.atan2(Y,ie),j=this.angle._state,X=j[j.length-1],se=j[j.length-2];X=X%(2*Math.PI);var q=Math.abs(X+2*Math.PI-oe),ce=Math.abs(X-oe),ye=Math.abs(X-2*Math.PI-oe);q<ce&&(X+=2*Math.PI),ye<ce&&(X-=2*Math.PI),this.angle.jump(this.angle.lastT(),X,se),this.angle.set(w,oe,$)}}}};function x(w){w=w||{};var C=w.center||[0,0,0],y=w.up||[0,1,0],M=w.right||T(y),A=w.radius||1,s=w.theta||0,E=w.phi||0;if(C=[].slice.call(C,0,3),y=[].slice.call(y,0,3),l(y,y),M=[].slice.call(M,0,3),l(M,M),"eye"in w){var b=w.eye,F=[b[0]-C[0],b[1]-C[1],b[2]-C[2]];f(M,F,y),g(M[0],M[1],M[2])<1e-6?M=T(y):l(M,M),A=g(F[0],F[1],F[2]);var I=u(y,F)/A,N=u(M,F)/A;E=Math.acos(I),s=Math.acos(N)}return A=Math.log(A),new c(w.zoomMin,w.zoomMax,C,y,M,A,s,E)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,a,n){var f=t*a,l=p*t,u=l-t,g=l-u,h=t-g,T=p*a,c=T-a,o=T-c,d=a-o,x=f-g*o,w=x-h*o,C=w-g*d,y=h*d-C;return n?(n[0]=y,n[1]=f,n):[y,f]}},9362:function(v){v.exports=p;function p(r,t,a){var n=r+t,f=n-r,l=n-f,u=t-f,g=r-l;return a?(a[0]=g+u,a[1]=n,a):[g+u,n]}},1888:function(v,p,r){var t=r(8828),a=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var f=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=a([32,0])),g.BIGUINT64||(g.BIGUINT64=a([32,0])),g.BIGINT64||(g.BIGINT64=a([32,0])),g.BUFFER||(g.BUFFER=a([32,0]));var h=g.DATA,T=g.BUFFER;p.free=function(B){if(n.isBuffer(B))T[t.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var z=B.length||B.byteLength,U=t.log2(z)|0;h[U].push(B)}};function c(O){if(O){var B=O.length||O.byteLength,z=t.log2(B);h[z].push(O)}}function o(O){c(O.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=c,p.freeBuffer=function(B){T[t.log2(B.length)].push(B)},p.malloc=function(B,z){if(z===void 0||z==="arraybuffer")return d(B);switch(z){case"uint8":return x(B);case"uint16":return w(B);case"uint32":return C(B);case"int8":return y(B);case"int16":return M(B);case"int32":return A(B);case"float":case"float32":return s(B);case"double":case"float64":return E(B);case"uint8_clamped":return b(B);case"bigint64":return I(B);case"biguint64":return F(B);case"buffer":return _(B);case"data":case"dataview":return N(B);default:return null}return null};function d(B){var B=t.nextPow2(B),z=t.log2(B),U=h[z];return U.length>0?U.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=d;function x(O){return new Uint8Array(d(O),0,O)}p.mallocUint8=x;function w(O){return new Uint16Array(d(2*O),0,O)}p.mallocUint16=w;function C(O){return new Uint32Array(d(4*O),0,O)}p.mallocUint32=C;function y(O){return new Int8Array(d(O),0,O)}p.mallocInt8=y;function M(O){return new Int16Array(d(2*O),0,O)}p.mallocInt16=M;function A(O){return new Int32Array(d(4*O),0,O)}p.mallocInt32=A;function s(O){return new Float32Array(d(4*O),0,O)}p.mallocFloat32=p.mallocFloat=s;function E(O){return new Float64Array(d(8*O),0,O)}p.mallocFloat64=p.mallocDouble=E;function b(O){return f?new Uint8ClampedArray(d(O),0,O):x(O)}p.mallocUint8Clamped=b;function F(O){return l?new BigUint64Array(d(8*O),0,O):null}p.mallocBigUint64=F;function I(O){return u?new BigInt64Array(d(8*O),0,O):null}p.mallocBigInt64=I;function N(O){return new DataView(d(O),0,O)}p.mallocDataView=N;function _(O){O=t.nextPow2(O);var B=t.log2(O),z=T[B];return z.length>0?z.pop():new n(O)}p.mallocBuffer=_,p.clearCache=function(){for(var B=0;B<32;++B)g.UINT8[B].length=0,g.UINT16[B].length=0,g.UINT32[B].length=0,g.INT8[B].length=0,g.INT16[B].length=0,g.INT32[B].length=0,g.FLOAT[B].length=0,g.DOUBLE[B].length=0,g.BIGUINT64[B].length=0,g.BIGINT64[B].length=0,g.UINT8C[B].length=0,h[B].length=0,T[B].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var a=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[a]!==t;){var f=n[a];n[a]=t,a=f}return t},r.link=function(t,a){var n=this.find(t),f=this.find(a);if(n!==f){var l=this.ranks,u=this.roots,g=l[n],h=l[f];g<h?u[n]=f:h<g?u[f]=n:(u[f]=n,++l[n])}}},1682:function(v){function p(a,n){for(var f=1,l=a.length,u=a[0],g=a[0],h=1;h<l;++h)if(g=u,u=a[h],n(u,g)){if(h===f){f++;continue}a[f++]=u}return a.length=f,a}function r(a){for(var n=1,f=a.length,l=a[0],u=a[0],g=1;g<f;++g,u=l)if(u=l,l=a[g],l!==u){if(g===n){n++;continue}a[n++]=l}return a.length=n,a}function t(a,n,f){return a.length===0?a:n?(f||a.sort(n),p(a,n)):(f||a.sort(),r(a))}v.exports=t},4359:function(v,p,r){v.exports=f;var t=r(7718),a=null,n=null;typeof document<"u"&&(a=document.createElement("canvas"),a.width=8192,a.height=1024,n=a.getContext("2d"));function f(l,u){return(typeof u!="object"||u===null)&&(u={}),t(l,u.canvas||a,u.context||n,u)}},7718:function(v,p,r){v.exports=I,v.exports.processPixels=F;var t=r(3711),a=r(9618),n=r(5878),f=r(332),l=r(2538),u=r(2095),g="b",h="b|",T="i",c="i|",o="sup",d="+",x="+1",w="sub",C="-",y="-1";function M(N,_,O,B){for(var z="<"+N+">",U="</"+N+">",Z=z.length,J=U.length,re=_[0]===d||_[0]===C,ne=0,ue=-J;ne>-1&&(ne=O.indexOf(z,ne),!(ne===-1||(ue=O.indexOf(U,ne+Z),ue===-1)||ue<=ne));){for(var te=ne;te<ue+J;++te)if(te<ne+Z||te>=ue)B[te]=null,O=O.substr(0,te)+" "+O.substr(te+1);else if(B[te]!==null){var Q=B[te].indexOf(_[0]);Q===-1?B[te]+=_:re&&(B[te]=B[te].substr(0,Q+1)+(1+parseInt(B[te][Q+1]))+B[te].substr(Q+2))}var ie=ne+Z,Y=O.substr(ie,ue-ie),$=Y.indexOf(z);$!==-1?ne=$:ne=ue+J}return B}function A(N,_,O){for(var B=_.textAlign||"start",z=_.textBaseline||"alphabetic",U=[1<<30,1<<30],Z=[0,0],J=N.length,re=0;re<J;++re)for(var ne=N[re],ue=0;ue<2;++ue)U[ue]=Math.min(U[ue],ne[ue])|0,Z[ue]=Math.max(Z[ue],ne[ue])|0;var te=0;switch(B){case"center":te=-.5*(U[0]+Z[0]);break;case"right":case"end":te=-Z[0];break;case"left":case"start":te=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var Q=0;switch(z){case"hanging":case"top":Q=-U[1];break;case"middle":Q=-.5*(U[1]+Z[1]);break;case"alphabetic":case"ideographic":Q=-3*O;break;case"bottom":Q=-Z[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var ie=1/O;return"lineHeight"in _?ie*=+_.lineHeight:"width"in _?ie=_.width/(Z[0]-U[0]):"height"in _&&(ie=_.height/(Z[1]-U[1])),N.map(function(Y){return[ie*(Y[0]+te),ie*(Y[1]+Q)]})}function s(N,_,O,B,z,U){O=O.replace(/\n/g,""),U.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var Z="",J=[];for(X=0;X<O.length;++X)J[X]=Z;U.bolds===!0&&(J=M(g,h,O,J)),U.italics===!0&&(J=M(T,c,O,J)),U.superscripts===!0&&(J=M(o,x,O,J)),U.subscripts===!0&&(J=M(w,y,O,J));var re=[],ne="";for(X=0;X<O.length;++X)J[X]!==null&&(ne+=O[X],re.push(J[X]));var ue=ne.split(`
`),te=ue.length,Q=Math.round(z*B),ie=B,Y=B*2,$=0,oe=te*Q+Y;N.height<oe&&(N.height=oe),_.fillStyle="#000",_.fillRect(0,0,N.width,N.height),_.fillStyle="#fff";var j,X,se,q,ce,ye=0,we="";function be(){if(we!==""){var He=_.measureText(we).width;_.fillText(we,ie+se,Y+q),se+=He}}function De(){return""+Math.round(ce)+"px "}function ke(He,rt){var ot=""+_.font;if(U.subscripts===!0){var $e=He.indexOf(C),qe=rt.indexOf(C),ht=$e>-1?parseInt(He[1+$e]):0,vt=qe>-1?parseInt(rt[1+qe]):0;ht!==vt&&(ot=ot.replace(De(),"?px "),ce*=Math.pow(.75,vt-ht),ot=ot.replace("?px ",De())),q+=.25*Q*(vt-ht)}if(U.superscripts===!0){var pt=He.indexOf(d),wt=rt.indexOf(d),Mt=pt>-1?parseInt(He[1+pt]):0,nt=wt>-1?parseInt(rt[1+wt]):0;Mt!==nt&&(ot=ot.replace(De(),"?px "),ce*=Math.pow(.75,nt-Mt),ot=ot.replace("?px ",De())),q-=.25*Q*(nt-Mt)}if(U.bolds===!0){var _e=He.indexOf(h)>-1,Ge=rt.indexOf(h)>-1;!_e&&Ge&&(je?ot=ot.replace("italic ","italic bold "):ot="bold "+ot),_e&&!Ge&&(ot=ot.replace("bold ",""))}if(U.italics===!0){var je=He.indexOf(c)>-1,We=rt.indexOf(c)>-1;!je&&We&&(ot="italic "+ot),je&&!We&&(ot=ot.replace("italic ",""))}_.font=ot}for(j=0;j<te;++j){var Be=ue[j]+`
`;for(se=0,q=j*Q,ce=B,we="",X=0;X<Be.length;++X){var Ae=X+ye<re.length?re[X+ye]:re[re.length-1];Z===Ae?we+=Be[X]:(be(),we=Be[X],Ae!==void 0&&(ke(Z,Ae),Z=Ae))}be(),ye+=Be.length;var Ie=Math.round(se+2*ie)|0;$<Ie&&($=Ie)}var Me=$,Fe=Y+Q*te,Ee=a(_.getImageData(0,0,Me,Fe).data,[Fe,Me,4]);return Ee.pick(-1,-1,0).transpose(1,0)}function E(N,_){var O=t(N,128);return _?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function b(N,_,O,B){var z=E(N,B),U=A(z.positions,_,O),Z=z.edges,J=_.orientation==="ccw";if(f(U,Z),_.polygons||_.polygon||_.polyline){for(var re=u(Z,U),ne=new Array(re.length),ue=0;ue<re.length;++ue){for(var te=re[ue],Q=new Array(te.length),ie=0;ie<te.length;++ie){for(var Y=te[ie],$=new Array(Y.length),oe=0;oe<Y.length;++oe)$[oe]=U[Y[oe]].slice();J&&$.reverse(),Q[ie]=$}ne[ue]=Q}return ne}else return _.triangles||_.triangulate||_.triangle?{cells:l(U,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:Z,positions:U}}function F(N,_,O){try{return b(N,_,O,!0)}catch{}try{return b(N,_,O,!1)}catch{}return _.polygons||_.polyline||_.polygon?[]:_.triangles||_.triangulate||_.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(N,_,O,B){var z=64,U=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(z=B.size),B.lineSpacing&&B.lineSpacing>0&&(U=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(Z.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(Z.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(Z.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(Z.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(Z.superscripts=!!B.styletags.superscripts)),O.font=[B.fontStyle,B.fontVariant,B.fontWeight,z+"px",B.font].filter(function(re){return re}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var J=s(_,O,N,z,U,Z);return F(J,B,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var a=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new a,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var l=Object.getOwnPropertyNames,u=Object.defineProperty,g=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),T=h+"rand:"+Array.prototype.map.call(o,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(b){return l(b).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(b){return x(b).filter(d)}})}function w(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var b=E[T];if(b&&b.key===E)return b;if(g(E)){b={key:E};try{return u(E,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var E=Object.freeze;u(Object,"freeze",{value:function(N){return w(N),E(N)}});var b=Object.seal;u(Object,"seal",{value:function(N){return w(N),b(N)}});var F=Object.preventExtensions;u(Object,"preventExtensions",{value:function(N){return w(N),F(N)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var y=!1;function M(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,s=function(){this instanceof s||M();var E=[],b=[],F=A++;function I(B,z){var U,Z=w(B);return Z?F in Z?Z[F]:z:(U=E.indexOf(B),U>=0?b[U]:z)}function N(B){var z=w(B);return z?F in z:E.indexOf(B)>=0}function _(B,z){var U,Z=w(B);return Z?Z[F]=z:(U=E.indexOf(B),U>=0?b[U]=z:(U=E.length,b[U]=z,E[U]=B)),this}function O(B){var z=w(B),U,Z;return z?F in z&&delete z[F]:(U=E.indexOf(B),U<0?!1:(Z=E.length-1,E[U]=void 0,b[U]=b[Z],E[U]=E[Z],E.length=Z,b.length=Z,!0))}return Object.create(s.prototype,{get___:{value:C(I)},has___:{value:C(N)},set___:{value:C(_)},delete___:{value:C(O)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(b,F){return this.get___(b,F)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,F){return this.set___(b,F)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof a=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof s||M();var b=new a,F=void 0,I=!1;function N(z,U){return F?b.has(z)?b.get(z):F.get___(z,U):b.get(z,U)}function _(z){return b.has(z)||(F?F.has___(z):!1)}var O;t?O=function(z,U){return b.set(z,U),b.has(z)||(F||(F=new s),F.set(z,U)),this}:O=function(z,U){if(I)try{b.set(z,U)}catch{F||(F=new s),F.set___(z,U)}else b.set(z,U);return this};function B(z){var U=!!b.delete(z);return F&&F.delete___(z)||U}return Object.create(s.prototype,{get___:{value:C(N)},has___:{value:C(_)},set___:{value:C(O)},delete___:{value:C(B)},permitHostObjects___:{value:C(function(z){if(z===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=s.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,p,r){var t=r(8284);v.exports=a;function a(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var l=f.valueOf(n);return l&&l.identity===n?l:t(f,n)}}},8284:function(v){v.exports=p;function p(r,t){var a={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):a},writable:!0}),a}},606:function(v,p,r){var t=r(236);v.exports=a;function a(){var n=t();return{get:function(f,l){var u=n(f);return u.hasOwnProperty("value")?u.value:l},set:function(f,l){return n(f).value=l,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function p(){return function(l,u,g,h,T,c){var o=l[0],d=g[0],x=[0],w=d;h|=0;var C=0,y=d;for(C=0;C<o;++C){{var M=u[h]-c,A=u[h+w]-c;M>=0!=A>=0&&T.push(x[0]+.5+.5*(M+A)/(M-A))}h+=y,++x[0]}}}function r(){return p()}var t=r;function a(l){var u={};return function(h,T,c){var o=h.dtype,d=h.order,x=[o,d.join()].join(),w=u[x];return w||(u[x]=w=l([o,d])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function n(l){return a(t.bind(void 0,l))}function f(l){return n({funcName:l.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=a;var t=r(3349);function a(n,f){var l=[];return f=+f||0,t(n.hi(n.shape[0]-1),l,f),l}},7790:function(){}},i={};function L(v){var p=i[v];if(p!==void 0)return p.exports;var r=i[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=L(1964);G.exports=S})()},33576:function(G,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function m(nt,_e){if(!(nt instanceof _e))throw new TypeError("Cannot call a class as a function")}function P(nt,_e){for(var Ge=0;Ge<_e.length;Ge++){var je=_e[Ge];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(nt,L(je.key),je)}}function i(nt,_e,Ge){return _e&&P(nt.prototype,_e),Ge&&P(nt,Ge),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function L(nt){var _e=S(nt,"string");return f(_e)==="symbol"?_e:String(_e)}function S(nt,_e){if(f(nt)!=="object"||nt===null)return nt;var Ge=nt[Symbol.toPrimitive];if(Ge!==void 0){var je=Ge.call(nt,_e||"default");if(f(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(nt)}function v(nt,_e,Ge){function je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return _e=r(_e),p(nt,je()?Reflect.construct(_e,Ge||[],r(nt).constructor):_e.apply(nt,Ge))}function p(nt,_e){if(_e&&(f(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(nt)}function r(nt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},r(nt)}function t(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function a(nt,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(_e&&_e.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),_e&&n(nt,_e)}function n(nt,_e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(je,We){return je.__proto__=We,je},n(nt,_e)}function f(nt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},f(nt)}var l=e(59968),u=e(35984),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=o,V.SlowBuffer=F,V.INSPECT_MAX_BYTES=50;var h=2147483647;V.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=T(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var nt=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(nt,_e),nt.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(nt){if(nt>h)throw new RangeError('The value "'+nt+'" is invalid for option "size"');var _e=new Uint8Array(nt);return Object.setPrototypeOf(_e,o.prototype),_e}function o(nt,_e,Ge){if(typeof nt=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(nt)}return d(nt,_e,Ge)}o.poolSize=8192;function d(nt,_e,Ge){if(typeof nt=="string")return y(nt,_e);if(ArrayBuffer.isView(nt))return A(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(nt));if(ht(nt,ArrayBuffer)||nt&&ht(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ht(nt,SharedArrayBuffer)||nt&&ht(nt.buffer,SharedArrayBuffer)))return s(nt,_e,Ge);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var je=nt.valueOf&&nt.valueOf();if(je!=null&&je!==nt)return o.from(je,_e,Ge);var We=E(nt);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return o.from(nt[Symbol.toPrimitive]("string"),_e,Ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(nt))}o.from=function(nt,_e,Ge){return d(nt,_e,Ge)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function x(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function w(nt,_e,Ge){return x(nt),nt<=0?c(nt):_e!==void 0?typeof Ge=="string"?c(nt).fill(_e,Ge):c(nt).fill(_e):c(nt)}o.alloc=function(nt,_e,Ge){return w(nt,_e,Ge)};function C(nt){return x(nt),c(nt<0?0:b(nt)|0)}o.allocUnsafe=function(nt){return C(nt)},o.allocUnsafeSlow=function(nt){return C(nt)};function y(nt,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!o.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);var Ge=I(nt,_e)|0,je=c(Ge),We=je.write(nt,_e);return We!==Ge&&(je=je.slice(0,We)),je}function M(nt){for(var _e=nt.length<0?0:b(nt.length)|0,Ge=c(_e),je=0;je<_e;je+=1)Ge[je]=nt[je]&255;return Ge}function A(nt){if(ht(nt,Uint8Array)){var _e=new Uint8Array(nt);return s(_e.buffer,_e.byteOffset,_e.byteLength)}return M(nt)}function s(nt,_e,Ge){if(_e<0||nt.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<_e+(Ge||0))throw new RangeError('"length" is outside of buffer bounds');var je;return _e===void 0&&Ge===void 0?je=new Uint8Array(nt):Ge===void 0?je=new Uint8Array(nt,_e):je=new Uint8Array(nt,_e,Ge),Object.setPrototypeOf(je,o.prototype),je}function E(nt){if(o.isBuffer(nt)){var _e=b(nt.length)|0,Ge=c(_e);return Ge.length===0||nt.copy(Ge,0,0,_e),Ge}if(nt.length!==void 0)return typeof nt.length!="number"||vt(nt.length)?c(0):M(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return M(nt.data)}function b(nt){if(nt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return nt|0}function F(nt){return+nt!=nt&&(nt=0),o.alloc(+nt)}o.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==o.prototype},o.compare=function(_e,Ge){if(ht(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),ht(Ge,Uint8Array)&&(Ge=o.from(Ge,Ge.offset,Ge.byteLength)),!o.isBuffer(_e)||!o.isBuffer(Ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===Ge)return 0;for(var je=_e.length,We=Ge.length,Pe=0,Re=Math.min(je,We);Pe<Re;++Pe)if(_e[Pe]!==Ge[Pe]){je=_e[Pe],We=Ge[Pe];break}return je<We?-1:We<je?1:0},o.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_e,Ge){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return o.alloc(0);var je;if(Ge===void 0)for(Ge=0,je=0;je<_e.length;++je)Ge+=_e[je].length;var We=o.allocUnsafe(Ge),Pe=0;for(je=0;je<_e.length;++je){var Re=_e[je];if(ht(Re,Uint8Array))Pe+Re.length>We.length?(o.isBuffer(Re)||(Re=o.from(Re)),Re.copy(We,Pe)):Uint8Array.prototype.set.call(We,Re,Pe);else if(o.isBuffer(Re))Re.copy(We,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=Re.length}return We};function I(nt,_e){if(o.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||ht(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(nt));var Ge=nt.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&Ge===0)return 0;for(var We=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":return He(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return $e(nt).length;default:if(We)return je?-1:He(nt).length;_e=(""+_e).toLowerCase(),We=!0}}o.byteLength=I;function N(nt,_e,Ge){var je=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,_e>>>=0,Ge<=_e))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return $(this,_e,Ge);case"utf8":case"utf-8":return ue(this,_e,Ge);case"ascii":return ie(this,_e,Ge);case"latin1":case"binary":return Y(this,_e,Ge);case"base64":return ne(this,_e,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,_e,Ge);default:if(je)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),je=!0}}o.prototype._isBuffer=!0;function _(nt,_e,Ge){var je=nt[_e];nt[_e]=nt[Ge],nt[Ge]=je}o.prototype.swap16=function(){var _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<_e;Ge+=2)_(this,Ge,Ge+1);return this},o.prototype.swap32=function(){var _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<_e;Ge+=4)_(this,Ge,Ge+3),_(this,Ge+1,Ge+2);return this},o.prototype.swap64=function(){var _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<_e;Ge+=8)_(this,Ge,Ge+7),_(this,Ge+1,Ge+6),_(this,Ge+2,Ge+5),_(this,Ge+3,Ge+4);return this},o.prototype.toString=function(){var _e=this.length;return _e===0?"":arguments.length===0?ue(this,0,_e):N.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_e){if(!o.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:o.compare(this,_e)===0},o.prototype.inspect=function(){var _e="",Ge=V.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,Ge).replace(/(.{2})/g,"$1 ").trim(),this.length>Ge&&(_e+=" ... "),"<Buffer "+_e+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(_e,Ge,je,We,Pe){if(ht(_e,Uint8Array)&&(_e=o.from(_e,_e.offset,_e.byteLength)),!o.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(_e));if(Ge===void 0&&(Ge=0),je===void 0&&(je=_e?_e.length:0),We===void 0&&(We=0),Pe===void 0&&(Pe=this.length),Ge<0||je>_e.length||We<0||Pe>this.length)throw new RangeError("out of range index");if(We>=Pe&&Ge>=je)return 0;if(We>=Pe)return-1;if(Ge>=je)return 1;if(Ge>>>=0,je>>>=0,We>>>=0,Pe>>>=0,this===_e)return 0;for(var Re=Pe-We,Xe=je-Ge,Le=Math.min(Re,Xe),ve=this.slice(We,Pe),xe=_e.slice(Ge,je),Ne=0;Ne<Le;++Ne)if(ve[Ne]!==xe[Ne]){Re=ve[Ne],Xe=xe[Ne];break}return Re<Xe?-1:Xe<Re?1:0};function O(nt,_e,Ge,je,We){if(nt.length===0)return-1;if(typeof Ge=="string"?(je=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,vt(Ge)&&(Ge=We?0:nt.length-1),Ge<0&&(Ge=nt.length+Ge),Ge>=nt.length){if(We)return-1;Ge=nt.length-1}else if(Ge<0)if(We)Ge=0;else return-1;if(typeof _e=="string"&&(_e=o.from(_e,je)),o.isBuffer(_e))return _e.length===0?-1:B(nt,_e,Ge,je,We);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(nt,_e,Ge):Uint8Array.prototype.lastIndexOf.call(nt,_e,Ge):B(nt,[_e],Ge,je,We);throw new TypeError("val must be string, number or Buffer")}function B(nt,_e,Ge,je,We){var Pe=1,Re=nt.length,Xe=_e.length;if(je!==void 0&&(je=String(je).toLowerCase(),je==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(nt.length<2||_e.length<2)return-1;Pe=2,Re/=2,Xe/=2,Ge/=2}function Le(st,lt){return Pe===1?st[lt]:st.readUInt16BE(lt*Pe)}var ve;if(We){var xe=-1;for(ve=Ge;ve<Re;ve++)if(Le(nt,ve)===Le(_e,xe===-1?0:ve-xe)){if(xe===-1&&(xe=ve),ve-xe+1===Xe)return xe*Pe}else xe!==-1&&(ve-=ve-xe),xe=-1}else for(Ge+Xe>Re&&(Ge=Re-Xe),ve=Ge;ve>=0;ve--){for(var Ne=!0,et=0;et<Xe;et++)if(Le(nt,ve+et)!==Le(_e,et)){Ne=!1;break}if(Ne)return ve}return-1}o.prototype.includes=function(_e,Ge,je){return this.indexOf(_e,Ge,je)!==-1},o.prototype.indexOf=function(_e,Ge,je){return O(this,_e,Ge,je,!0)},o.prototype.lastIndexOf=function(_e,Ge,je){return O(this,_e,Ge,je,!1)};function z(nt,_e,Ge,je){Ge=Number(Ge)||0;var We=nt.length-Ge;je?(je=Number(je),je>We&&(je=We)):je=We;var Pe=_e.length;je>Pe/2&&(je=Pe/2);var Re;for(Re=0;Re<je;++Re){var Xe=parseInt(_e.substr(Re*2,2),16);if(vt(Xe))return Re;nt[Ge+Re]=Xe}return Re}function U(nt,_e,Ge,je){return qe(He(_e,nt.length-Ge),nt,Ge,je)}function Z(nt,_e,Ge,je){return qe(rt(_e),nt,Ge,je)}function J(nt,_e,Ge,je){return qe($e(_e),nt,Ge,je)}function re(nt,_e,Ge,je){return qe(ot(_e,nt.length-Ge),nt,Ge,je)}o.prototype.write=function(_e,Ge,je,We){if(Ge===void 0)We="utf8",je=this.length,Ge=0;else if(je===void 0&&typeof Ge=="string")We=Ge,je=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(je)?(je=je>>>0,We===void 0&&(We="utf8")):(We=je,je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Pe=this.length-Ge;if((je===void 0||je>Pe)&&(je=Pe),_e.length>0&&(je<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Re=!1;;)switch(We){case"hex":return z(this,_e,Ge,je);case"utf8":case"utf-8":return U(this,_e,Ge,je);case"ascii":case"latin1":case"binary":return Z(this,_e,Ge,je);case"base64":return J(this,_e,Ge,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,_e,Ge,je);default:if(Re)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Re=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(nt,_e,Ge){return _e===0&&Ge===nt.length?l.fromByteArray(nt):l.fromByteArray(nt.slice(_e,Ge))}function ue(nt,_e,Ge){Ge=Math.min(nt.length,Ge);for(var je=[],We=_e;We<Ge;){var Pe=nt[We],Re=null,Xe=Pe>239?4:Pe>223?3:Pe>191?2:1;if(We+Xe<=Ge){var Le=void 0,ve=void 0,xe=void 0,Ne=void 0;switch(Xe){case 1:Pe<128&&(Re=Pe);break;case 2:Le=nt[We+1],(Le&192)===128&&(Ne=(Pe&31)<<6|Le&63,Ne>127&&(Re=Ne));break;case 3:Le=nt[We+1],ve=nt[We+2],(Le&192)===128&&(ve&192)===128&&(Ne=(Pe&15)<<12|(Le&63)<<6|ve&63,Ne>2047&&(Ne<55296||Ne>57343)&&(Re=Ne));break;case 4:Le=nt[We+1],ve=nt[We+2],xe=nt[We+3],(Le&192)===128&&(ve&192)===128&&(xe&192)===128&&(Ne=(Pe&15)<<18|(Le&63)<<12|(ve&63)<<6|xe&63,Ne>65535&&Ne<1114112&&(Re=Ne))}}Re===null?(Re=65533,Xe=1):Re>65535&&(Re-=65536,je.push(Re>>>10&1023|55296),Re=56320|Re&1023),je.push(Re),We+=Xe}return Q(je)}var te=4096;function Q(nt){var _e=nt.length;if(_e<=te)return String.fromCharCode.apply(String,nt);for(var Ge="",je=0;je<_e;)Ge+=String.fromCharCode.apply(String,nt.slice(je,je+=te));return Ge}function ie(nt,_e,Ge){var je="";Ge=Math.min(nt.length,Ge);for(var We=_e;We<Ge;++We)je+=String.fromCharCode(nt[We]&127);return je}function Y(nt,_e,Ge){var je="";Ge=Math.min(nt.length,Ge);for(var We=_e;We<Ge;++We)je+=String.fromCharCode(nt[We]);return je}function $(nt,_e,Ge){var je=nt.length;(!_e||_e<0)&&(_e=0),(!Ge||Ge<0||Ge>je)&&(Ge=je);for(var We="",Pe=_e;Pe<Ge;++Pe)We+=pt[nt[Pe]];return We}function oe(nt,_e,Ge){for(var je=nt.slice(_e,Ge),We="",Pe=0;Pe<je.length-1;Pe+=2)We+=String.fromCharCode(je[Pe]+je[Pe+1]*256);return We}o.prototype.slice=function(_e,Ge){var je=this.length;_e=~~_e,Ge=Ge===void 0?je:~~Ge,_e<0?(_e+=je,_e<0&&(_e=0)):_e>je&&(_e=je),Ge<0?(Ge+=je,Ge<0&&(Ge=0)):Ge>je&&(Ge=je),Ge<_e&&(Ge=_e);var We=this.subarray(_e,Ge);return Object.setPrototypeOf(We,o.prototype),We};function j(nt,_e,Ge){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+_e>Ge)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_e,Ge,je){_e=_e>>>0,Ge=Ge>>>0,je||j(_e,Ge,this.length);for(var We=this[_e],Pe=1,Re=0;++Re<Ge&&(Pe*=256);)We+=this[_e+Re]*Pe;return We},o.prototype.readUintBE=o.prototype.readUIntBE=function(_e,Ge,je){_e=_e>>>0,Ge=Ge>>>0,je||j(_e,Ge,this.length);for(var We=this[_e+--Ge],Pe=1;Ge>0&&(Pe*=256);)We+=this[_e+--Ge]*Pe;return We},o.prototype.readUint8=o.prototype.readUInt8=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,1,this.length),this[_e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,2,this.length),this[_e]|this[_e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,2,this.length),this[_e]<<8|this[_e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},o.prototype.readBigUInt64LE=wt(function(_e){_e=_e>>>0,Ie(_e,"offset");var Ge=this[_e],je=this[_e+7];(Ge===void 0||je===void 0)&&Me(_e,this.length-8);var We=Ge+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),Pe=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+je*Math.pow(2,24);return BigInt(We)+(BigInt(Pe)<<BigInt(32))}),o.prototype.readBigUInt64BE=wt(function(_e){_e=_e>>>0,Ie(_e,"offset");var Ge=this[_e],je=this[_e+7];(Ge===void 0||je===void 0)&&Me(_e,this.length-8);var We=Ge*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],Pe=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+je;return(BigInt(We)<<BigInt(32))+BigInt(Pe)}),o.prototype.readIntLE=function(_e,Ge,je){_e=_e>>>0,Ge=Ge>>>0,je||j(_e,Ge,this.length);for(var We=this[_e],Pe=1,Re=0;++Re<Ge&&(Pe*=256);)We+=this[_e+Re]*Pe;return Pe*=128,We>=Pe&&(We-=Math.pow(2,8*Ge)),We},o.prototype.readIntBE=function(_e,Ge,je){_e=_e>>>0,Ge=Ge>>>0,je||j(_e,Ge,this.length);for(var We=Ge,Pe=1,Re=this[_e+--We];We>0&&(Pe*=256);)Re+=this[_e+--We]*Pe;return Pe*=128,Re>=Pe&&(Re-=Math.pow(2,8*Ge)),Re},o.prototype.readInt8=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},o.prototype.readInt16LE=function(_e,Ge){_e=_e>>>0,Ge||j(_e,2,this.length);var je=this[_e]|this[_e+1]<<8;return je&32768?je|4294901760:je},o.prototype.readInt16BE=function(_e,Ge){_e=_e>>>0,Ge||j(_e,2,this.length);var je=this[_e+1]|this[_e]<<8;return je&32768?je|4294901760:je},o.prototype.readInt32LE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},o.prototype.readInt32BE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},o.prototype.readBigInt64LE=wt(function(_e){_e=_e>>>0,Ie(_e,"offset");var Ge=this[_e],je=this[_e+7];(Ge===void 0||je===void 0)&&Me(_e,this.length-8);var We=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(je<<24);return(BigInt(We)<<BigInt(32))+BigInt(Ge+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),o.prototype.readBigInt64BE=wt(function(_e){_e=_e>>>0,Ie(_e,"offset");var Ge=this[_e],je=this[_e+7];(Ge===void 0||je===void 0)&&Me(_e,this.length-8);var We=(Ge<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(We)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+je)}),o.prototype.readFloatLE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),u.read(this,_e,!0,23,4)},o.prototype.readFloatBE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,4,this.length),u.read(this,_e,!1,23,4)},o.prototype.readDoubleLE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,8,this.length),u.read(this,_e,!0,52,8)},o.prototype.readDoubleBE=function(_e,Ge){return _e=_e>>>0,Ge||j(_e,8,this.length),u.read(this,_e,!1,52,8)};function X(nt,_e,Ge,je,We,Pe){if(!o.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>We||_e<Pe)throw new RangeError('"value" argument is out of bounds');if(Ge+je>nt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_e,Ge,je,We){if(_e=+_e,Ge=Ge>>>0,je=je>>>0,!We){var Pe=Math.pow(2,8*je)-1;X(this,_e,Ge,je,Pe,0)}var Re=1,Xe=0;for(this[Ge]=_e&255;++Xe<je&&(Re*=256);)this[Ge+Xe]=_e/Re&255;return Ge+je},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_e,Ge,je,We){if(_e=+_e,Ge=Ge>>>0,je=je>>>0,!We){var Pe=Math.pow(2,8*je)-1;X(this,_e,Ge,je,Pe,0)}var Re=je-1,Xe=1;for(this[Ge+Re]=_e&255;--Re>=0&&(Xe*=256);)this[Ge+Re]=_e/Xe&255;return Ge+je},o.prototype.writeUint8=o.prototype.writeUInt8=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,1,255,0),this[Ge]=_e&255,Ge+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,2,65535,0),this[Ge]=_e&255,this[Ge+1]=_e>>>8,Ge+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,2,65535,0),this[Ge]=_e>>>8,this[Ge+1]=_e&255,Ge+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,4,4294967295,0),this[Ge+3]=_e>>>24,this[Ge+2]=_e>>>16,this[Ge+1]=_e>>>8,this[Ge]=_e&255,Ge+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,4,4294967295,0),this[Ge]=_e>>>24,this[Ge+1]=_e>>>16,this[Ge+2]=_e>>>8,this[Ge+3]=_e&255,Ge+4};function se(nt,_e,Ge,je,We){Ae(_e,je,We,nt,Ge,7);var Pe=Number(_e&BigInt(4294967295));nt[Ge++]=Pe,Pe=Pe>>8,nt[Ge++]=Pe,Pe=Pe>>8,nt[Ge++]=Pe,Pe=Pe>>8,nt[Ge++]=Pe;var Re=Number(_e>>BigInt(32)&BigInt(4294967295));return nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re,Re=Re>>8,nt[Ge++]=Re,Ge}function q(nt,_e,Ge,je,We){Ae(_e,je,We,nt,Ge,7);var Pe=Number(_e&BigInt(4294967295));nt[Ge+7]=Pe,Pe=Pe>>8,nt[Ge+6]=Pe,Pe=Pe>>8,nt[Ge+5]=Pe,Pe=Pe>>8,nt[Ge+4]=Pe;var Re=Number(_e>>BigInt(32)&BigInt(4294967295));return nt[Ge+3]=Re,Re=Re>>8,nt[Ge+2]=Re,Re=Re>>8,nt[Ge+1]=Re,Re=Re>>8,nt[Ge]=Re,Ge+8}o.prototype.writeBigUInt64LE=wt(function(_e){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,_e,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=wt(function(_e){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return q(this,_e,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(_e,Ge,je,We){if(_e=+_e,Ge=Ge>>>0,!We){var Pe=Math.pow(2,8*je-1);X(this,_e,Ge,je,Pe-1,-Pe)}var Re=0,Xe=1,Le=0;for(this[Ge]=_e&255;++Re<je&&(Xe*=256);)_e<0&&Le===0&&this[Ge+Re-1]!==0&&(Le=1),this[Ge+Re]=(_e/Xe>>0)-Le&255;return Ge+je},o.prototype.writeIntBE=function(_e,Ge,je,We){if(_e=+_e,Ge=Ge>>>0,!We){var Pe=Math.pow(2,8*je-1);X(this,_e,Ge,je,Pe-1,-Pe)}var Re=je-1,Xe=1,Le=0;for(this[Ge+Re]=_e&255;--Re>=0&&(Xe*=256);)_e<0&&Le===0&&this[Ge+Re+1]!==0&&(Le=1),this[Ge+Re]=(_e/Xe>>0)-Le&255;return Ge+je},o.prototype.writeInt8=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,1,127,-128),_e<0&&(_e=255+_e+1),this[Ge]=_e&255,Ge+1},o.prototype.writeInt16LE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,2,32767,-32768),this[Ge]=_e&255,this[Ge+1]=_e>>>8,Ge+2},o.prototype.writeInt16BE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,2,32767,-32768),this[Ge]=_e>>>8,this[Ge+1]=_e&255,Ge+2},o.prototype.writeInt32LE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,4,2147483647,-2147483648),this[Ge]=_e&255,this[Ge+1]=_e>>>8,this[Ge+2]=_e>>>16,this[Ge+3]=_e>>>24,Ge+4},o.prototype.writeInt32BE=function(_e,Ge,je){return _e=+_e,Ge=Ge>>>0,je||X(this,_e,Ge,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[Ge]=_e>>>24,this[Ge+1]=_e>>>16,this[Ge+2]=_e>>>8,this[Ge+3]=_e&255,Ge+4},o.prototype.writeBigInt64LE=wt(function(_e){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,_e,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=wt(function(_e){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return q(this,_e,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(nt,_e,Ge,je,We,Pe){if(Ge+je>nt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function ye(nt,_e,Ge,je,We){return _e=+_e,Ge=Ge>>>0,We||ce(nt,_e,Ge,4),u.write(nt,_e,Ge,je,23,4),Ge+4}o.prototype.writeFloatLE=function(_e,Ge,je){return ye(this,_e,Ge,!0,je)},o.prototype.writeFloatBE=function(_e,Ge,je){return ye(this,_e,Ge,!1,je)};function we(nt,_e,Ge,je,We){return _e=+_e,Ge=Ge>>>0,We||ce(nt,_e,Ge,8),u.write(nt,_e,Ge,je,52,8),Ge+8}o.prototype.writeDoubleLE=function(_e,Ge,je){return we(this,_e,Ge,!0,je)},o.prototype.writeDoubleBE=function(_e,Ge,je){return we(this,_e,Ge,!1,je)},o.prototype.copy=function(_e,Ge,je,We){if(!o.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(je||(je=0),!We&&We!==0&&(We=this.length),Ge>=_e.length&&(Ge=_e.length),Ge||(Ge=0),We>0&&We<je&&(We=je),We===je||_e.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(je<0||je>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),_e.length-Ge<We-je&&(We=_e.length-Ge+je);var Pe=We-je;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ge,je,We):Uint8Array.prototype.set.call(_e,this.subarray(je,We),Ge),Pe},o.prototype.fill=function(_e,Ge,je,We){if(typeof _e=="string"){if(typeof Ge=="string"?(We=Ge,Ge=0,je=this.length):typeof je=="string"&&(We=je,je=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!o.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(_e.length===1){var Pe=_e.charCodeAt(0);(We==="utf8"&&Pe<128||We==="latin1")&&(_e=Pe)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(Ge<0||this.length<Ge||this.length<je)throw new RangeError("Out of range index");if(je<=Ge)return this;Ge=Ge>>>0,je=je===void 0?this.length:je>>>0,_e||(_e=0);var Re;if(typeof _e=="number")for(Re=Ge;Re<je;++Re)this[Re]=_e;else{var Xe=o.isBuffer(_e)?_e:o.from(_e,We),Le=Xe.length;if(Le===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(Re=0;Re<je-Ge;++Re)this[Re+Ge]=Xe[Re%Le]}return this};var be={};function De(nt,_e,Ge){be[nt]=function(je){a(We,je);function We(){var Pe;return m(this,We),Pe=v(this,We),Object.defineProperty(t(Pe),"message",{value:_e.apply(t(Pe),arguments),writable:!0,configurable:!0}),Pe.name="".concat(Pe.name," [").concat(nt,"]"),Pe.stack,delete Pe.name,Pe}return i(We,[{key:"code",get:function(){return nt},set:function(Re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Re,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(nt,"]: ").concat(this.message)}}]),We}(Ge)}De("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?"".concat(nt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),De("ERR_INVALID_ARG_TYPE",function(nt,_e){return'The "'.concat(nt,'" argument must be of type number. Received type ').concat(f(_e))},TypeError),De("ERR_OUT_OF_RANGE",function(nt,_e,Ge){var je='The value of "'.concat(nt,'" is out of range.'),We=Ge;return Number.isInteger(Ge)&&Math.abs(Ge)>Math.pow(2,32)?We=ke(String(Ge)):typeof Ge=="bigint"&&(We=String(Ge),(Ge>Math.pow(BigInt(2),BigInt(32))||Ge<-Math.pow(BigInt(2),BigInt(32)))&&(We=ke(We)),We+="n"),je+=" It must be ".concat(_e,". Received ").concat(We),je},RangeError);function ke(nt){for(var _e="",Ge=nt.length,je=nt[0]==="-"?1:0;Ge>=je+4;Ge-=3)_e="_".concat(nt.slice(Ge-3,Ge)).concat(_e);return"".concat(nt.slice(0,Ge)).concat(_e)}function Be(nt,_e,Ge){Ie(_e,"offset"),(nt[_e]===void 0||nt[_e+Ge]===void 0)&&Me(_e,nt.length-(Ge+1))}function Ae(nt,_e,Ge,je,We,Pe){if(nt>Ge||nt<_e){var Re=typeof _e=="bigint"?"n":"",Xe;throw Pe>3?_e===0||_e===BigInt(0)?Xe=">= 0".concat(Re," and < 2").concat(Re," ** ").concat((Pe+1)*8).concat(Re):Xe=">= -(2".concat(Re," ** ").concat((Pe+1)*8-1).concat(Re,") and < 2 ** ")+"".concat((Pe+1)*8-1).concat(Re):Xe=">= ".concat(_e).concat(Re," and <= ").concat(Ge).concat(Re),new be.ERR_OUT_OF_RANGE("value",Xe,nt)}Be(je,We,Pe)}function Ie(nt,_e){if(typeof nt!="number")throw new be.ERR_INVALID_ARG_TYPE(_e,"number",nt)}function Me(nt,_e,Ge){throw Math.floor(nt)!==nt?(Ie(nt,Ge),new be.ERR_OUT_OF_RANGE(Ge||"offset","an integer",nt)):_e<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(Ge||"offset",">= ".concat(Ge?1:0," and <= ").concat(_e),nt)}var Fe=/[^+/0-9A-Za-z-_]/g;function Ee(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(Fe,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function He(nt,_e){_e=_e||1/0;for(var Ge,je=nt.length,We=null,Pe=[],Re=0;Re<je;++Re){if(Ge=nt.charCodeAt(Re),Ge>55295&&Ge<57344){if(!We){if(Ge>56319){(_e-=3)>-1&&Pe.push(239,191,189);continue}else if(Re+1===je){(_e-=3)>-1&&Pe.push(239,191,189);continue}We=Ge;continue}if(Ge<56320){(_e-=3)>-1&&Pe.push(239,191,189),We=Ge;continue}Ge=(We-55296<<10|Ge-56320)+65536}else We&&(_e-=3)>-1&&Pe.push(239,191,189);if(We=null,Ge<128){if((_e-=1)<0)break;Pe.push(Ge)}else if(Ge<2048){if((_e-=2)<0)break;Pe.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((_e-=3)<0)break;Pe.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((_e-=4)<0)break;Pe.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return Pe}function rt(nt){for(var _e=[],Ge=0;Ge<nt.length;++Ge)_e.push(nt.charCodeAt(Ge)&255);return _e}function ot(nt,_e){for(var Ge,je,We,Pe=[],Re=0;Re<nt.length&&!((_e-=2)<0);++Re)Ge=nt.charCodeAt(Re),je=Ge>>8,We=Ge%256,Pe.push(We),Pe.push(je);return Pe}function $e(nt){return l.toByteArray(Ee(nt))}function qe(nt,_e,Ge,je){var We;for(We=0;We<je&&!(We+Ge>=_e.length||We>=nt.length);++We)_e[We+Ge]=nt[We];return We}function ht(nt,_e){return nt instanceof _e||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===_e.name}function vt(nt){return nt!==nt}var pt=function(){for(var nt="0123456789abcdef",_e=new Array(256),Ge=0;Ge<16;++Ge)for(var je=Ge*16,We=0;We<16;++We)_e[je+We]=nt[Ge]+nt[We];return _e}();function wt(nt){return typeof BigInt>"u"?Mt:nt}function Mt(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,m=/android|ipad|playbook|silk/i;function P(i){i||(i={});var L=i.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var S=V.test(L)&&!e.test(L)||!!i.tablet&&m.test(L);return!S&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(G,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return a},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var m=e(84706),P=e(34712),i=e(10132),L=e(6688),S=e.n(L);function v(be){return be.target.depth}function p(be){return be.depth}function r(be,De){return De-1-be.height}function t(be,De){return be.sourceLinks.length?be.depth:De-1}function a(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,m.SY)(be.sourceLinks,v)-1:0}function n(be){return function(){return be}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function l(be,De){return g(be.source,De.source)||be.index-De.index}function u(be,De){return g(be.target,De.target)||be.index-De.index}function g(be,De){return be.partOfCycle===De.partOfCycle?be.y0-De.y0:be.circularLinkType==="top"||De.circularLinkType==="bottom"?-1:1}function h(be){return be.value}function T(be){return(be.y0+be.y1)/2}function c(be){return T(be.source)}function o(be){return T(be.target)}function d(be){return be.index}function x(be){return be.nodes}function w(be){return be.links}function C(be,De){var ke=be.get(De);if(!ke)throw new Error("missing: "+De);return ke}function y(be,De){return De(be)}var M=25,A=10,s=.3;function E(){var be=0,De=0,ke=1,Be=1,Ae=24,Ie,Me=d,Fe=t,Ee=x,He=w,rt=32,ot=2,$e,qe=null;function ht(){var je={nodes:Ee.apply(null,arguments),links:He.apply(null,arguments)};vt(je),b(je,Me,qe),pt(je),nt(je),F(je,Me),_e(je,rt,Me),Ge(je);for(var We=4,Pe=0;Pe<We;Pe++)X(je,Be,Me),se(je,Be,Me),$(je,De,Be,Me),X(je,Be,Me),se(je,Be,Me);return we(je,De,Be),z(je,ot,Be,Me),je}ht.nodeId=function(je){return arguments.length?(Me=typeof je=="function"?je:n(je),ht):Me},ht.nodeAlign=function(je){return arguments.length?(Fe=typeof je=="function"?je:n(je),ht):Fe},ht.nodeWidth=function(je){return arguments.length?(Ae=+je,ht):Ae},ht.nodePadding=function(je){return arguments.length?(Ie=+je,ht):Ie},ht.nodes=function(je){return arguments.length?(Ee=typeof je=="function"?je:n(je),ht):Ee},ht.links=function(je){return arguments.length?(He=typeof je=="function"?je:n(je),ht):He},ht.size=function(je){return arguments.length?(be=De=0,ke=+je[0],Be=+je[1],ht):[ke-be,Be-De]},ht.extent=function(je){return arguments.length?(be=+je[0][0],ke=+je[1][0],De=+je[0][1],Be=+je[1][1],ht):[[be,De],[ke,Be]]},ht.iterations=function(je){return arguments.length?(rt=+je,ht):rt},ht.circularLinkGap=function(je){return arguments.length?(ot=+je,ht):ot},ht.nodePaddingRatio=function(je){return arguments.length?($e=+je,ht):$e},ht.sortNodes=function(je){return arguments.length?(qe=je,ht):qe},ht.update=function(je){return F(je,Me),Ge(je),je.links.forEach(function(We){We.circular&&(We.circularLinkType=We.y0+We.y1<Be?"top":"bottom",We.source.circularLinkType=We.circularLinkType,We.target.circularLinkType=We.circularLinkType)}),X(je,Be,Me,!1),se(je,Be,Me),z(je,ot,Be,Me),je};function vt(je){je.nodes.forEach(function(Pe,Re){Pe.index=Re,Pe.sourceLinks=[],Pe.targetLinks=[]});var We=(0,P.kH)(je.nodes,Me);return je.links.forEach(function(Pe,Re){Pe.index=Re;var Xe=Pe.source,Le=Pe.target;(typeof Xe>"u"?"undefined":f(Xe))!=="object"&&(Xe=Pe.source=C(We,Xe)),(typeof Le>"u"?"undefined":f(Le))!=="object"&&(Le=Pe.target=C(We,Le)),Xe.sourceLinks.push(Pe),Le.targetLinks.push(Pe)}),je}function pt(je){je.nodes.forEach(function(We){We.partOfCycle=!1,We.value=Math.max((0,m.oh)(We.sourceLinks,h),(0,m.oh)(We.targetLinks,h)),We.sourceLinks.forEach(function(Pe){Pe.circular&&(We.partOfCycle=!0,We.circularLinkType=Pe.circularLinkType)}),We.targetLinks.forEach(function(Pe){Pe.circular&&(We.partOfCycle=!0,We.circularLinkType=Pe.circularLinkType)})})}function wt(je){var We=0,Pe=0,Re=0,Xe=0,Le=(0,m.kv)(je.nodes,function(ve){return ve.column});return je.links.forEach(function(ve){ve.circular&&(ve.circularLinkType=="top"?We=We+ve.width:Pe=Pe+ve.width,ve.target.column==0&&(Xe=Xe+ve.width),ve.source.column==Le&&(Re=Re+ve.width))}),We=We>0?We+M+A:We,Pe=Pe>0?Pe+M+A:Pe,Re=Re>0?Re+M+A:Re,Xe=Xe>0?Xe+M+A:Xe,{top:We,bottom:Pe,left:Xe,right:Re}}function Mt(je,We){var Pe=(0,m.kv)(je.nodes,function(et){return et.column}),Re=ke-be,Xe=Be-De,Le=Re+We.right+We.left,ve=Xe+We.top+We.bottom,xe=Re/Le,Ne=Xe/ve;return be=be*xe+We.left,ke=We.right==0?ke:ke*xe,De=De*Ne+We.top,Be=Be*Ne,je.nodes.forEach(function(et){et.x0=be+et.column*((ke-be-Ae)/Pe),et.x1=et.x0+Ae}),Ne}function nt(je){var We,Pe,Re;for(We=je.nodes,Pe=[],Re=0;We.length;++Re,We=Pe,Pe=[])We.forEach(function(Xe){Xe.depth=Re,Xe.sourceLinks.forEach(function(Le){Pe.indexOf(Le.target)<0&&!Le.circular&&Pe.push(Le.target)})});for(We=je.nodes,Pe=[],Re=0;We.length;++Re,We=Pe,Pe=[])We.forEach(function(Xe){Xe.height=Re,Xe.targetLinks.forEach(function(Le){Pe.indexOf(Le.source)<0&&!Le.circular&&Pe.push(Le.source)})});je.nodes.forEach(function(Xe){Xe.column=Math.floor(Fe.call(null,Xe,Re))})}function _e(je,We,Pe){var Re=(0,P.UJ)().key(function(et){return et.column}).sortKeys(m.XE).entries(je.nodes).map(function(et){return et.values});ve(Pe),Ne();for(var Xe=1,Le=We;Le>0;--Le)xe(Xe*=.99,Pe),Ne();function ve(et){if($e){var st=1/0;Re.forEach(function(Tt){var Dt=Be*$e/(Tt.length+1);st=Dt<st?Dt:st}),Ie=st}var lt=(0,m.SY)(Re,function(Tt){return(Be-De-(Tt.length-1)*Ie)/(0,m.oh)(Tt,h)});lt=lt*s,je.links.forEach(function(Tt){Tt.width=Tt.value*lt});var Gt=wt(je),jt=Mt(je,Gt);lt=lt*jt,je.links.forEach(function(Tt){Tt.width=Tt.value*lt}),Re.forEach(function(Tt){var Dt=Tt.length;Tt.forEach(function(Xt,gr){Xt.depth==Re.length-1&&Dt==1||Xt.depth==0&&Dt==1?(Xt.y0=Be/2-Xt.value*lt,Xt.y1=Xt.y0+Xt.value*lt):Xt.partOfCycle?_(Xt,et)==0?(Xt.y0=Be/2+gr,Xt.y1=Xt.y0+Xt.value*lt):Xt.circularLinkType=="top"?(Xt.y0=De+gr,Xt.y1=Xt.y0+Xt.value*lt):(Xt.y0=Be-Xt.value*lt-gr,Xt.y1=Xt.y0+Xt.value*lt):Gt.top==0||Gt.bottom==0?(Xt.y0=(Be-De)/Dt*gr,Xt.y1=Xt.y0+Xt.value*lt):(Xt.y0=(Be-De)/2-Dt/2+gr,Xt.y1=Xt.y0+Xt.value*lt)})})}function xe(et,st){var lt=Re.length;Re.forEach(function(Gt){var jt=Gt.length,Tt=Gt[0].depth;Gt.forEach(function(Dt){var Xt;if((Dt.sourceLinks.length||Dt.targetLinks.length)&&!(Dt.partOfCycle&&_(Dt,st)>0))if(Tt==0&&jt==1)Xt=Dt.y1-Dt.y0,Dt.y0=Be/2-Xt/2,Dt.y1=Be/2+Xt/2;else if(Tt==lt-1&&jt==1)Xt=Dt.y1-Dt.y0,Dt.y0=Be/2-Xt/2,Dt.y1=Be/2+Xt/2;else{var gr=0,gt=(0,m.mo)(Dt.sourceLinks,o),Zt=(0,m.mo)(Dt.targetLinks,c);gt&&Zt?gr=(gt+Zt)/2:gr=gt||Zt;var Qt=(gr-T(Dt))*et;Dt.y0+=Qt,Dt.y1+=Qt}})})}function Ne(){Re.forEach(function(et){var st,lt,Gt=De,jt=et.length,Tt;for(et.sort(g),Tt=0;Tt<jt;++Tt)st=et[Tt],lt=Gt-st.y0,lt>0&&(st.y0+=lt,st.y1+=lt),Gt=st.y1+Ie;if(lt=Gt-Ie-Be,lt>0)for(Gt=st.y0-=lt,st.y1-=lt,Tt=jt-2;Tt>=0;--Tt)st=et[Tt],lt=st.y1+Ie-Gt,lt>0&&(st.y0-=lt,st.y1-=lt),Gt=st.y0})}}function Ge(je){je.nodes.forEach(function(We){We.sourceLinks.sort(u),We.targetLinks.sort(l)}),je.nodes.forEach(function(We){var Pe=We.y0,Re=Pe,Xe=We.y1,Le=Xe;We.sourceLinks.forEach(function(ve){ve.circular?(ve.y0=Xe-ve.width/2,Xe=Xe-ve.width):(ve.y0=Pe+ve.width/2,Pe+=ve.width)}),We.targetLinks.forEach(function(ve){ve.circular?(ve.y1=Le-ve.width/2,Le=Le-ve.width):(ve.y1=Re+ve.width/2,Re+=ve.width)})})}return ht}function b(be,De,ke){var Be=0;if(ke===null){for(var Ae=[],Ie=0;Ie<be.links.length;Ie++){var Me=be.links[Ie],Fe=Me.source.index,Ee=Me.target.index;Ae[Fe]||(Ae[Fe]=[]),Ae[Ee]||(Ae[Ee]=[]),Ae[Fe].indexOf(Ee)===-1&&Ae[Fe].push(Ee)}var He=S()(Ae);He.sort(function(qe,ht){return qe.length-ht.length});var rt={};for(Ie=0;Ie<He.length;Ie++){var ot=He[Ie],$e=ot.slice(-2);rt[$e[0]]||(rt[$e[0]]={}),rt[$e[0]][$e[1]]=!0}be.links.forEach(function(qe){var ht=qe.target.index,vt=qe.source.index;ht===vt||rt[vt]&&rt[vt][ht]?(qe.circular=!0,qe.circularLinkID=Be,Be=Be+1):qe.circular=!1})}else be.links.forEach(function(qe){qe.source[ke]<qe.target[ke]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Be,Be=Be+1)})}function F(be,De){var ke=0,Be=0;be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType||Ae.target.circularLinkType?Ae.circularLinkType=Ae.source.circularLinkType?Ae.source.circularLinkType:Ae.target.circularLinkType:Ae.circularLinkType=ke<Be?"top":"bottom",Ae.circularLinkType=="top"?ke=ke+1:Be=Be+1,be.nodes.forEach(function(Ie){(y(Ie,De)==y(Ae.source,De)||y(Ie,De)==y(Ae.target,De))&&(Ie.circularLinkType=Ae.circularLinkType)}))}),be.links.forEach(function(Ae){Ae.circular&&(Ae.source.circularLinkType==Ae.target.circularLinkType&&(Ae.circularLinkType=Ae.source.circularLinkType),ye(Ae,De)&&(Ae.circularLinkType=Ae.source.circularLinkType))})}function I(be){var De=Math.abs(be.y1-be.y0),ke=Math.abs(be.target.x0-be.source.x1);return Math.atan(ke/De)}function N(be,De){return be.source.column<De.target.column?!1:!(be.target.column>De.source.column)}function _(be,De){var ke=0;be.sourceLinks.forEach(function(Ae){ke=Ae.circular&&!ye(Ae,De)?ke+1:ke});var Be=0;return be.targetLinks.forEach(function(Ae){Be=Ae.circular&&!ye(Ae,De)?Be+1:Be}),ke+Be}function O(be){var De=be.source.sourceLinks,ke=0;De.forEach(function(Ie){ke=Ie.circular?ke+1:ke});var Be=be.target.targetLinks,Ae=0;return Be.forEach(function(Ie){Ae=Ie.circular?Ae+1:Ae}),!(ke>1||Ae>1)}function B(be,De,ke){return be.sort(Z),be.forEach(function(Be,Ae){var Ie=0;if(ye(Be,ke)&&O(Be))Be.circularPathData.verticalBuffer=Ie+Be.width/2;else{var Me=0;for(Me;Me<Ae;Me++)if(N(be[Ae],be[Me])){var Fe=be[Me].circularPathData.verticalBuffer+be[Me].width/2+De;Ie=Fe>Ie?Fe:Ie}Be.circularPathData.verticalBuffer=Ie+Be.width/2}}),be}function z(be,De,ke,Be){var Ae=5,Ie=(0,m.SY)(be.links,function(Ee){return Ee.source.y0});be.links.forEach(function(Ee){Ee.circular&&(Ee.circularPathData={})});var Me=be.links.filter(function(Ee){return Ee.circularLinkType=="top"});B(Me,De,Be);var Fe=be.links.filter(function(Ee){return Ee.circularLinkType=="bottom"});B(Fe,De,Be),be.links.forEach(function(Ee){if(Ee.circular){if(Ee.circularPathData.arcRadius=Ee.width+A,Ee.circularPathData.leftNodeBuffer=Ae,Ee.circularPathData.rightNodeBuffer=Ae,Ee.circularPathData.sourceWidth=Ee.source.x1-Ee.source.x0,Ee.circularPathData.sourceX=Ee.source.x0+Ee.circularPathData.sourceWidth,Ee.circularPathData.targetX=Ee.target.x0,Ee.circularPathData.sourceY=Ee.y0,Ee.circularPathData.targetY=Ee.y1,ye(Ee,Be)&&O(Ee))Ee.circularPathData.leftSmallArcRadius=A+Ee.width/2,Ee.circularPathData.leftLargeArcRadius=A+Ee.width/2,Ee.circularPathData.rightSmallArcRadius=A+Ee.width/2,Ee.circularPathData.rightLargeArcRadius=A+Ee.width/2,Ee.circularLinkType=="bottom"?(Ee.circularPathData.verticalFullExtent=Ee.source.y1+M+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=Ee.source.y0-M-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius);else{var He=Ee.source.column,rt=Ee.circularLinkType,ot=be.links.filter(function(ht){return ht.source.column==He&&ht.circularLinkType==rt});Ee.circularLinkType=="bottom"?ot.sort(re):ot.sort(J);var $e=0;ot.forEach(function(ht,vt){ht.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.leftSmallArcRadius=A+Ee.width/2+$e,Ee.circularPathData.leftLargeArcRadius=A+Ee.width/2+vt*De+$e),$e=$e+ht.width}),He=Ee.target.column,ot=be.links.filter(function(ht){return ht.target.column==He&&ht.circularLinkType==rt}),Ee.circularLinkType=="bottom"?ot.sort(ue):ot.sort(ne),$e=0,ot.forEach(function(ht,vt){ht.circularLinkID==Ee.circularLinkID&&(Ee.circularPathData.rightSmallArcRadius=A+Ee.width/2+$e,Ee.circularPathData.rightLargeArcRadius=A+Ee.width/2+vt*De+$e),$e=$e+ht.width}),Ee.circularLinkType=="bottom"?(Ee.circularPathData.verticalFullExtent=Math.max(ke,Ee.source.y1,Ee.target.y1)+M+Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent-Ee.circularPathData.rightLargeArcRadius):(Ee.circularPathData.verticalFullExtent=Ie-M-Ee.circularPathData.verticalBuffer,Ee.circularPathData.verticalLeftInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.leftLargeArcRadius,Ee.circularPathData.verticalRightInnerExtent=Ee.circularPathData.verticalFullExtent+Ee.circularPathData.rightLargeArcRadius)}Ee.circularPathData.leftInnerExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightInnerExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightNodeBuffer,Ee.circularPathData.leftFullExtent=Ee.circularPathData.sourceX+Ee.circularPathData.leftLargeArcRadius+Ee.circularPathData.leftNodeBuffer,Ee.circularPathData.rightFullExtent=Ee.circularPathData.targetX-Ee.circularPathData.rightLargeArcRadius-Ee.circularPathData.rightNodeBuffer}if(Ee.circular)Ee.path=U(Ee);else{var qe=(0,i.ak)().source(function(ht){var vt=ht.source.x0+(ht.source.x1-ht.source.x0),pt=ht.y0;return[vt,pt]}).target(function(ht){var vt=ht.target.x0,pt=ht.y1;return[vt,pt]});Ee.path=qe(Ee)}})}function U(be){var De="";return be.circularLinkType=="top"?De="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 0 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY-be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 0 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 0 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY-be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 0 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY:De="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 1 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY+be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 1 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 1 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY+be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 1 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY,De}function Z(be,De){return te(be)==te(De)?be.circularLinkType=="bottom"?re(be,De):J(be,De):te(De)-te(be)}function J(be,De){return be.y0-De.y0}function re(be,De){return De.y0-be.y0}function ne(be,De){return be.y1-De.y1}function ue(be,De){return De.y1-be.y1}function te(be){return be.target.column-be.source.column}function Q(be){return be.target.x0-be.source.x1}function ie(be,De){var ke=I(be),Be=Q(De)/Math.tan(ke),Ae=ce(be)=="up"?be.y1+Be:be.y1-Be;return Ae}function Y(be,De){var ke=I(be),Be=Q(De)/Math.tan(ke),Ae=ce(be)=="up"?be.y1-Be:be.y1+Be;return Ae}function $(be,De,ke,Be){be.links.forEach(function(Ae){if(!Ae.circular&&Ae.target.column-Ae.source.column>1){var Ie=Ae.source.column+1,Me=Ae.target.column-1,Fe=1,Ee=Me-Ie+1;for(Fe=1;Ie<=Me;Ie++,Fe++)be.nodes.forEach(function(He){if(He.column==Ie){var rt=Fe/(Ee+1),ot=Math.pow(1-rt,3),$e=3*rt*Math.pow(1-rt,2),qe=3*Math.pow(rt,2)*(1-rt),ht=Math.pow(rt,3),vt=ot*Ae.y0+$e*Ae.y0+qe*Ae.y1+ht*Ae.y1,pt=vt-Ae.width/2,wt=vt+Ae.width/2,Mt;pt>He.y0&&pt<He.y1?(Mt=He.y1-pt+10,Mt=He.circularLinkType=="bottom"?Mt:-Mt,He=j(He,Mt,De,ke),be.nodes.forEach(function(nt){y(nt,Be)==y(He,Be)||nt.column!=He.column||oe(He,nt)&&j(nt,Mt,De,ke)})):wt>He.y0&&wt<He.y1?(Mt=wt-He.y0+10,He=j(He,Mt,De,ke),be.nodes.forEach(function(nt){y(nt,Be)==y(He,Be)||nt.column!=He.column||nt.y0<He.y1&&nt.y1>He.y1&&j(nt,Mt,De,ke)})):pt<He.y0&&wt>He.y1&&(Mt=wt-He.y0+10,He=j(He,Mt,De,ke),be.nodes.forEach(function(nt){y(nt,Be)==y(He,Be)||nt.column!=He.column||nt.y0<He.y1&&nt.y1>He.y1&&j(nt,Mt,De,ke)}))}})}})}function oe(be,De){return be.y0>De.y0&&be.y0<De.y1||be.y1>De.y0&&be.y1<De.y1?!0:be.y0<De.y0&&be.y1>De.y1}function j(be,De,ke,Be){return be.y0+De>=ke&&be.y1+De<=Be&&(be.y0=be.y0+De,be.y1=be.y1+De,be.targetLinks.forEach(function(Ae){Ae.y1=Ae.y1+De}),be.sourceLinks.forEach(function(Ae){Ae.y0=Ae.y0+De})),be}function X(be,De,ke,Be){be.nodes.forEach(function(Ae){Be&&Ae.y+(Ae.y1-Ae.y0)>De&&(Ae.y=Ae.y-(Ae.y+(Ae.y1-Ae.y0)-De));var Ie=be.links.filter(function(Ee){return y(Ee.source,ke)==y(Ae,ke)}),Me=Ie.length;Me>1&&Ie.sort(function(Ee,He){if(!Ee.circular&&!He.circular){if(Ee.target.column==He.target.column)return Ee.y1-He.y1;if(q(Ee,He)){if(Ee.target.column>He.target.column){var rt=Y(He,Ee);return Ee.y1-rt}if(He.target.column>Ee.target.column){var ot=Y(Ee,He);return ot-He.y1}}else return Ee.y1-He.y1}if(Ee.circular&&!He.circular)return Ee.circularLinkType=="top"?-1:1;if(He.circular&&!Ee.circular)return He.circularLinkType=="top"?1:-1;if(Ee.circular&&He.circular)return Ee.circularLinkType===He.circularLinkType&&Ee.circularLinkType=="top"?Ee.target.column===He.target.column?Ee.target.y1-He.target.y1:He.target.column-Ee.target.column:Ee.circularLinkType===He.circularLinkType&&Ee.circularLinkType=="bottom"?Ee.target.column===He.target.column?He.target.y1-Ee.target.y1:Ee.target.column-He.target.column:Ee.circularLinkType=="top"?-1:1});var Fe=Ae.y0;Ie.forEach(function(Ee){Ee.y0=Fe+Ee.width/2,Fe=Fe+Ee.width}),Ie.forEach(function(Ee,He){if(Ee.circularLinkType=="bottom"){var rt=He+1,ot=0;for(rt;rt<Me;rt++)ot=ot+Ie[rt].width;Ee.y0=Ae.y1-ot-Ee.width/2}})})}function se(be,De,ke){be.nodes.forEach(function(Be){var Ae=be.links.filter(function(Fe){return y(Fe.target,ke)==y(Be,ke)}),Ie=Ae.length;Ie>1&&Ae.sort(function(Fe,Ee){if(!Fe.circular&&!Ee.circular){if(Fe.source.column==Ee.source.column)return Fe.y0-Ee.y0;if(q(Fe,Ee)){if(Ee.source.column<Fe.source.column){var He=ie(Ee,Fe);return Fe.y0-He}if(Fe.source.column<Ee.source.column){var rt=ie(Fe,Ee);return rt-Ee.y0}}else return Fe.y0-Ee.y0}if(Fe.circular&&!Ee.circular)return Fe.circularLinkType=="top"?-1:1;if(Ee.circular&&!Fe.circular)return Ee.circularLinkType=="top"?1:-1;if(Fe.circular&&Ee.circular)return Fe.circularLinkType===Ee.circularLinkType&&Fe.circularLinkType=="top"?Fe.source.column===Ee.source.column?Fe.source.y1-Ee.source.y1:Fe.source.column-Ee.source.column:Fe.circularLinkType===Ee.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.source.column===Ee.source.column?Fe.source.y1-Ee.source.y1:Ee.source.column-Fe.source.column:Fe.circularLinkType=="top"?-1:1});var Me=Be.y0;Ae.forEach(function(Fe){Fe.y1=Me+Fe.width/2,Me=Me+Fe.width}),Ae.forEach(function(Fe,Ee){if(Fe.circularLinkType=="bottom"){var He=Ee+1,rt=0;for(He;He<Ie;He++)rt=rt+Ae[He].width;Fe.y1=Be.y1-rt-Fe.width/2}})})}function q(be,De){return ce(be)==ce(De)}function ce(be){return be.y0-be.y1>0?"up":"down"}function ye(be,De){return y(be.source,De)==y(be.target,De)}function we(be,De,ke){var Be=be.nodes,Ae=be.links,Ie=!1,Me=!1;if(Ae.forEach(function($e){$e.circularLinkType=="top"?Ie=!0:$e.circularLinkType=="bottom"&&(Me=!0)}),Ie==!1||Me==!1){var Fe=(0,m.SY)(Be,function($e){return $e.y0}),Ee=(0,m.kv)(Be,function($e){return $e.y1}),He=Ee-Fe,rt=ke-De,ot=rt/He;Be.forEach(function($e){var qe=($e.y1-$e.y0)*ot;$e.y0=($e.y0-Fe)*ot,$e.y1=$e.y0+qe}),Ae.forEach(function($e){$e.y0=($e.y0-Fe)*ot,$e.y1=($e.y1-Fe)*ot,$e.width=$e.width*ot})}}},26800:function(G,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return S}});var m=e(84706),P=e(34712);function i(M){return M.target.depth}function L(M){return M.depth}function S(M,A){return A-1-M.height}function v(M,A){return M.sourceLinks.length?M.depth:A-1}function p(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,m.SY)(M.sourceLinks,i)-1:0}function r(M){return function(){return M}}function t(M,A){return n(M.source,A.source)||M.index-A.index}function a(M,A){return n(M.target,A.target)||M.index-A.index}function n(M,A){return M.y0-A.y0}function f(M){return M.value}function l(M){return(M.y0+M.y1)/2}function u(M){return l(M.source)*M.value}function g(M){return l(M.target)*M.value}function h(M){return M.index}function T(M){return M.nodes}function c(M){return M.links}function o(M,A){var s=M.get(A);if(!s)throw new Error("missing: "+A);return s}function d(){var M=0,A=0,s=1,E=1,b=24,F=8,I=h,N=v,_=T,O=c,B=32,z=2/3;function U(){var te={nodes:_.apply(null,arguments),links:O.apply(null,arguments)};return Z(te),J(te),re(te),ne(te),ue(te),te}U.update=function(te){return ue(te),te},U.nodeId=function(te){return arguments.length?(I=typeof te=="function"?te:r(te),U):I},U.nodeAlign=function(te){return arguments.length?(N=typeof te=="function"?te:r(te),U):N},U.nodeWidth=function(te){return arguments.length?(b=+te,U):b},U.nodePadding=function(te){return arguments.length?(F=+te,U):F},U.nodes=function(te){return arguments.length?(_=typeof te=="function"?te:r(te),U):_},U.links=function(te){return arguments.length?(O=typeof te=="function"?te:r(te),U):O},U.size=function(te){return arguments.length?(M=A=0,s=+te[0],E=+te[1],U):[s-M,E-A]},U.extent=function(te){return arguments.length?(M=+te[0][0],s=+te[1][0],A=+te[0][1],E=+te[1][1],U):[[M,A],[s,E]]},U.iterations=function(te){return arguments.length?(B=+te,U):B};function Z(te){te.nodes.forEach(function(ie,Y){ie.index=Y,ie.sourceLinks=[],ie.targetLinks=[]});var Q=(0,P.kH)(te.nodes,I);te.links.forEach(function(ie,Y){ie.index=Y;var $=ie.source,oe=ie.target;typeof $!="object"&&($=ie.source=o(Q,$)),typeof oe!="object"&&(oe=ie.target=o(Q,oe)),$.sourceLinks.push(ie),oe.targetLinks.push(ie)})}function J(te){te.nodes.forEach(function(Q){Q.value=Math.max((0,m.oh)(Q.sourceLinks,f),(0,m.oh)(Q.targetLinks,f))})}function re(te){var Q,ie,Y;for(Q=te.nodes,ie=[],Y=0;Q.length;++Y,Q=ie,ie=[])Q.forEach(function(oe){oe.depth=Y,oe.sourceLinks.forEach(function(j){ie.indexOf(j.target)<0&&ie.push(j.target)})});for(Q=te.nodes,ie=[],Y=0;Q.length;++Y,Q=ie,ie=[])Q.forEach(function(oe){oe.height=Y,oe.targetLinks.forEach(function(j){ie.indexOf(j.source)<0&&ie.push(j.source)})});var $=(s-M-b)/(Y-1);te.nodes.forEach(function(oe){oe.x1=(oe.x0=M+Math.max(0,Math.min(Y-1,Math.floor(N.call(null,oe,Y))))*$)+b})}function ne(te){var Q=(0,P.UJ)().key(function(se){return se.x0}).sortKeys(m.XE).entries(te.nodes).map(function(se){return se.values});$(),X();for(var ie=1,Y=B;Y>0;--Y)j(ie*=.99),X(),oe(ie),X();function $(){var se=(0,m.kv)(Q,function(ye){return ye.length}),q=z*(E-A)/(se-1);F>q&&(F=q);var ce=(0,m.SY)(Q,function(ye){return(E-A-(ye.length-1)*F)/(0,m.oh)(ye,f)});Q.forEach(function(ye){ye.forEach(function(we,be){we.y1=(we.y0=be)+we.value*ce})}),te.links.forEach(function(ye){ye.width=ye.value*ce})}function oe(se){Q.forEach(function(q){q.forEach(function(ce){if(ce.targetLinks.length){var ye=((0,m.oh)(ce.targetLinks,u)/(0,m.oh)(ce.targetLinks,f)-l(ce))*se;ce.y0+=ye,ce.y1+=ye}})})}function j(se){Q.slice().reverse().forEach(function(q){q.forEach(function(ce){if(ce.sourceLinks.length){var ye=((0,m.oh)(ce.sourceLinks,g)/(0,m.oh)(ce.sourceLinks,f)-l(ce))*se;ce.y0+=ye,ce.y1+=ye}})})}function X(){Q.forEach(function(se){var q,ce,ye=A,we=se.length,be;for(se.sort(n),be=0;be<we;++be)q=se[be],ce=ye-q.y0,ce>0&&(q.y0+=ce,q.y1+=ce),ye=q.y1+F;if(ce=ye-F-E,ce>0)for(ye=q.y0-=ce,q.y1-=ce,be=we-2;be>=0;--be)q=se[be],ce=q.y1+F-ye,ce>0&&(q.y0-=ce,q.y1-=ce),ye=q.y0})}}function ue(te){te.nodes.forEach(function(Q){Q.sourceLinks.sort(a),Q.targetLinks.sort(t)}),te.nodes.forEach(function(Q){var ie=Q.y0,Y=ie;Q.sourceLinks.forEach(function($){$.y0=ie+$.width/2,ie+=$.width}),Q.targetLinks.forEach(function($){$.y1=Y+$.width/2,Y+=$.width})})}return U}var x=e(10132);function w(M){return[M.source.x1,M.y0]}function C(M){return[M.target.x0,M.y1]}function y(){return(0,x.ak)().source(w).target(C)}},33428:function(G,V,e){var m,P;(function(){var i={version:"3.8.2"},L=[].slice,S=function(fe){return L.call(fe)},v=self.document;function p(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Se){for(var Ue=Se.length,tt=new Array(Ue);Ue--;)tt[Ue]=Se[Ue];return tt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,a=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,l=f.setProperty;t.setAttribute=function(Se,Ue){a.call(this,Se,Ue+"")},t.setAttributeNS=function(Se,Ue,tt){n.call(this,Se,Ue,tt+"")},f.setProperty=function(Se,Ue,tt){l.call(this,Se,Ue+"",tt)}}i.ascending=u;function u(fe,Se){return fe<Se?-1:fe>Se?1:fe>=Se?0:NaN}i.descending=function(fe,Se){return Se<fe?-1:Se>fe?1:Se>=fe?0:NaN},i.min=function(fe,Se){var Ue=-1,tt=fe.length,at,ct;if(arguments.length===1){for(;++Ue<tt;)if((ct=fe[Ue])!=null&&ct>=ct){at=ct;break}for(;++Ue<tt;)(ct=fe[Ue])!=null&&at>ct&&(at=ct)}else{for(;++Ue<tt;)if((ct=Se.call(fe,fe[Ue],Ue))!=null&&ct>=ct){at=ct;break}for(;++Ue<tt;)(ct=Se.call(fe,fe[Ue],Ue))!=null&&at>ct&&(at=ct)}return at},i.max=function(fe,Se){var Ue=-1,tt=fe.length,at,ct;if(arguments.length===1){for(;++Ue<tt;)if((ct=fe[Ue])!=null&&ct>=ct){at=ct;break}for(;++Ue<tt;)(ct=fe[Ue])!=null&&ct>at&&(at=ct)}else{for(;++Ue<tt;)if((ct=Se.call(fe,fe[Ue],Ue))!=null&&ct>=ct){at=ct;break}for(;++Ue<tt;)(ct=Se.call(fe,fe[Ue],Ue))!=null&&ct>at&&(at=ct)}return at},i.extent=function(fe,Se){var Ue=-1,tt=fe.length,at,ct,Lt;if(arguments.length===1){for(;++Ue<tt;)if((ct=fe[Ue])!=null&&ct>=ct){at=Lt=ct;break}for(;++Ue<tt;)(ct=fe[Ue])!=null&&(at>ct&&(at=ct),Lt<ct&&(Lt=ct))}else{for(;++Ue<tt;)if((ct=Se.call(fe,fe[Ue],Ue))!=null&&ct>=ct){at=Lt=ct;break}for(;++Ue<tt;)(ct=Se.call(fe,fe[Ue],Ue))!=null&&(at>ct&&(at=ct),Lt<ct&&(Lt=ct))}return[at,Lt]};function g(fe){return fe===null?NaN:+fe}function h(fe){return!isNaN(fe)}i.sum=function(fe,Se){var Ue=0,tt=fe.length,at,ct=-1;if(arguments.length===1)for(;++ct<tt;)h(at=+fe[ct])&&(Ue+=at);else for(;++ct<tt;)h(at=+Se.call(fe,fe[ct],ct))&&(Ue+=at);return Ue},i.mean=function(fe,Se){var Ue=0,tt=fe.length,at,ct=-1,Lt=tt;if(arguments.length===1)for(;++ct<tt;)h(at=g(fe[ct]))?Ue+=at:--Lt;else for(;++ct<tt;)h(at=g(Se.call(fe,fe[ct],ct)))?Ue+=at:--Lt;if(Lt)return Ue/Lt},i.quantile=function(fe,Se){var Ue=(fe.length-1)*Se+1,tt=Math.floor(Ue),at=+fe[tt-1],ct=Ue-tt;return ct?at+ct*(fe[tt]-at):at},i.median=function(fe,Se){var Ue=[],tt=fe.length,at,ct=-1;if(arguments.length===1)for(;++ct<tt;)h(at=g(fe[ct]))&&Ue.push(at);else for(;++ct<tt;)h(at=g(Se.call(fe,fe[ct],ct)))&&Ue.push(at);if(Ue.length)return i.quantile(Ue.sort(u),.5)},i.variance=function(fe,Se){var Ue=fe.length,tt=0,at,ct,Lt=0,At=-1,Vt=0;if(arguments.length===1)for(;++At<Ue;)h(at=g(fe[At]))&&(ct=at-tt,tt+=ct/++Vt,Lt+=ct*(at-tt));else for(;++At<Ue;)h(at=g(Se.call(fe,fe[At],At)))&&(ct=at-tt,tt+=ct/++Vt,Lt+=ct*(at-tt));if(Vt>1)return Lt/(Vt-1)},i.deviation=function(){var fe=i.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function T(fe){return{left:function(Se,Ue,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=Se.length);tt<at;){var ct=tt+at>>>1;fe(Se[ct],Ue)<0?tt=ct+1:at=ct}return tt},right:function(Se,Ue,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=Se.length);tt<at;){var ct=tt+at>>>1;fe(Se[ct],Ue)>0?at=ct:tt=ct+1}return tt}}}var c=T(u);i.bisectLeft=c.left,i.bisect=i.bisectRight=c.right,i.bisector=function(fe){return T(fe.length===1?function(Se,Ue){return u(fe(Se),Ue)}:fe)},i.shuffle=function(fe,Se,Ue){(tt=arguments.length)<3&&(Ue=fe.length,tt<2&&(Se=0));for(var tt=Ue-Se,at,ct;tt;)ct=Math.random()*tt--|0,at=fe[tt+Se],fe[tt+Se]=fe[ct+Se],fe[ct+Se]=at;return fe},i.permute=function(fe,Se){for(var Ue=Se.length,tt=new Array(Ue);Ue--;)tt[Ue]=fe[Se[Ue]];return tt},i.pairs=function(fe){for(var Se=0,Ue=fe.length-1,tt=fe[0],at=new Array(Ue<0?0:Ue);Se<Ue;)at[Se]=[tt,tt=fe[++Se]];return at},i.transpose=function(fe){if(!(ct=fe.length))return[];for(var Se=-1,Ue=i.min(fe,o),tt=new Array(Ue);++Se<Ue;)for(var at=-1,ct,Lt=tt[Se]=new Array(ct);++at<ct;)Lt[at]=fe[at][Se];return tt};function o(fe){return fe.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(fe){var Se=[];for(var Ue in fe)Se.push(Ue);return Se},i.values=function(fe){var Se=[];for(var Ue in fe)Se.push(fe[Ue]);return Se},i.entries=function(fe){var Se=[];for(var Ue in fe)Se.push({key:Ue,value:fe[Ue]});return Se},i.merge=function(fe){for(var Se=fe.length,Ue,tt=-1,at=0,ct,Lt;++tt<Se;)at+=fe[tt].length;for(ct=new Array(at);--Se>=0;)for(Lt=fe[Se],Ue=Lt.length;--Ue>=0;)ct[--at]=Lt[Ue];return ct};var d=Math.abs;i.range=function(fe,Se,Ue){if(arguments.length<3&&(Ue=1,arguments.length<2&&(Se=fe,fe=0)),(Se-fe)/Ue===1/0)throw new Error("infinite range");var tt=[],at=x(d(Ue)),ct=-1,Lt;if(fe*=at,Se*=at,Ue*=at,Ue<0)for(;(Lt=fe+Ue*++ct)>Se;)tt.push(Lt/at);else for(;(Lt=fe+Ue*++ct)<Se;)tt.push(Lt/at);return tt};function x(fe){for(var Se=1;fe*Se%1;)Se*=10;return Se}function w(fe,Se){for(var Ue in Se)Object.defineProperty(fe.prototype,Ue,{value:Se[Ue],enumerable:!1})}i.map=function(fe,Se){var Ue=new C;if(fe instanceof C)fe.forEach(function(At,Vt){Ue.set(At,Vt)});else if(Array.isArray(fe)){var tt=-1,at=fe.length,ct;if(arguments.length===1)for(;++tt<at;)Ue.set(tt,fe[tt]);else for(;++tt<at;)Ue.set(Se.call(fe,ct=fe[tt],tt),ct)}else for(var Lt in fe)Ue.set(Lt,fe[Lt]);return Ue};function C(){this._=Object.create(null)}var y="__proto__",M="\0";w(C,{has:E,get:function(fe){return this._[A(fe)]},set:function(fe,Se){return this._[A(fe)]=Se},remove:b,keys:F,values:function(){var fe=[];for(var Se in this._)fe.push(this._[Se]);return fe},entries:function(){var fe=[];for(var Se in this._)fe.push({key:s(Se),value:this._[Se]});return fe},size:I,empty:N,forEach:function(fe){for(var Se in this._)fe.call(this,s(Se),this._[Se])}});function A(fe){return(fe+="")===y||fe[0]===M?M+fe:fe}function s(fe){return(fe+="")[0]===M?fe.slice(1):fe}function E(fe){return A(fe)in this._}function b(fe){return(fe=A(fe))in this._&&delete this._[fe]}function F(){var fe=[];for(var Se in this._)fe.push(s(Se));return fe}function I(){var fe=0;for(var Se in this._)++fe;return fe}function N(){for(var fe in this._)return!1;return!0}i.nest=function(){var fe={},Se=[],Ue=[],tt,at;function ct(At,Vt,Wt){if(Wt>=Se.length)return at?at.call(fe,Vt):tt?Vt.sort(tt):Vt;for(var tr=-1,Cr=Vt.length,Lr=Se[Wt++],qr,an,Rr,Ur=new C,Kr;++tr<Cr;)(Kr=Ur.get(qr=Lr(an=Vt[tr])))?Kr.push(an):Ur.set(qr,[an]);return At?(an=At(),Rr=function(cn,dn){an.set(cn,ct(At,dn,Wt))}):(an={},Rr=function(cn,dn){an[cn]=ct(At,dn,Wt)}),Ur.forEach(Rr),an}function Lt(At,Vt){if(Vt>=Se.length)return At;var Wt=[],tr=Ue[Vt++];return At.forEach(function(Cr,Lr){Wt.push({key:Cr,values:Lt(Lr,Vt)})}),tr?Wt.sort(function(Cr,Lr){return tr(Cr.key,Lr.key)}):Wt}return fe.map=function(At,Vt){return ct(Vt,At,0)},fe.entries=function(At){return Lt(ct(i.map,At,0),0)},fe.key=function(At){return Se.push(At),fe},fe.sortKeys=function(At){return Ue[Se.length-1]=At,fe},fe.sortValues=function(At){return tt=At,fe},fe.rollup=function(At){return at=At,fe},fe},i.set=function(fe){var Se=new _;if(fe)for(var Ue=0,tt=fe.length;Ue<tt;++Ue)Se.add(fe[Ue]);return Se};function _(){this._=Object.create(null)}w(_,{has:E,add:function(fe){return this._[A(fe+="")]=!0,fe},remove:b,values:F,size:I,empty:N,forEach:function(fe){for(var Se in this._)fe.call(this,s(Se))}}),i.behavior={};function O(fe){return fe}i.rebind=function(fe,Se){for(var Ue=1,tt=arguments.length,at;++Ue<tt;)fe[at=arguments[Ue]]=B(fe,Se,Se[at]);return fe};function B(fe,Se,Ue){return function(){var tt=Ue.apply(Se,arguments);return tt===Se?fe:tt}}function z(fe,Se){if(Se in fe)return Se;Se=Se.charAt(0).toUpperCase()+Se.slice(1);for(var Ue=0,tt=U.length;Ue<tt;++Ue){var at=U[Ue]+Se;if(at in fe)return at}}var U=["webkit","ms","moz","Moz","o","O"];function Z(){}i.dispatch=function(){for(var fe=new J,Se=-1,Ue=arguments.length;++Se<Ue;)fe[arguments[Se]]=re(fe);return fe};function J(){}J.prototype.on=function(fe,Se){var Ue=fe.indexOf("."),tt="";if(Ue>=0&&(tt=fe.slice(Ue+1),fe=fe.slice(0,Ue)),fe)return arguments.length<2?this[fe].on(tt):this[fe].on(tt,Se);if(arguments.length===2){if(Se==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(tt,null);return this}};function re(fe){var Se=[],Ue=new C;function tt(){for(var at=Se,ct=-1,Lt=at.length,At;++ct<Lt;)(At=at[ct].on)&&At.apply(this,arguments);return fe}return tt.on=function(at,ct){var Lt=Ue.get(at),At;return arguments.length<2?Lt&&Lt.on:(Lt&&(Lt.on=null,Se=Se.slice(0,At=Se.indexOf(Lt)).concat(Se.slice(At+1)),Ue.remove(at)),ct&&Se.push(Ue.set(at,{on:ct})),fe)},tt}i.event=null;function ne(){i.event.preventDefault()}function ue(){for(var fe=i.event,Se;Se=fe.sourceEvent;)fe=Se;return fe}function te(fe){for(var Se=new J,Ue=0,tt=arguments.length;++Ue<tt;)Se[arguments[Ue]]=re(Se);return Se.of=function(at,ct){return function(Lt){try{var At=Lt.sourceEvent=i.event;Lt.target=fe,i.event=Lt,Se[Lt.type].apply(at,ct)}finally{i.event=At}}},Se}i.requote=function(fe){return fe.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ie={}.__proto__?function(fe,Se){fe.__proto__=Se}:function(fe,Se){for(var Ue in Se)fe[Ue]=Se[Ue]};function Y(fe){return ie(fe,X),fe}var $=function(fe,Se){return Se.querySelector(fe)},oe=function(fe,Se){return Se.querySelectorAll(fe)},j=function(fe,Se){var Ue=fe.matches||fe[z(fe,"matchesSelector")];return j=function(tt,at){return Ue.call(tt,at)},j(fe,Se)};typeof Sizzle=="function"&&($=function(fe,Se){return Sizzle(fe,Se)[0]||null},oe=Sizzle,j=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var X=i.selection.prototype=[];X.select=function(fe){var Se=[],Ue,tt,at,ct;fe=se(fe);for(var Lt=-1,At=this.length;++Lt<At;){Se.push(Ue=[]),Ue.parentNode=(at=this[Lt]).parentNode;for(var Vt=-1,Wt=at.length;++Vt<Wt;)(ct=at[Vt])?(Ue.push(tt=fe.call(ct,ct.__data__,Vt,Lt)),tt&&"__data__"in ct&&(tt.__data__=ct.__data__)):Ue.push(null)}return Y(Se)};function se(fe){return typeof fe=="function"?fe:function(){return $(fe,this)}}X.selectAll=function(fe){var Se=[],Ue,tt;fe=q(fe);for(var at=-1,ct=this.length;++at<ct;)for(var Lt=this[at],At=-1,Vt=Lt.length;++At<Vt;)(tt=Lt[At])&&(Se.push(Ue=S(fe.call(tt,tt.__data__,At,at))),Ue.parentNode=tt);return Y(Se)};function q(fe){return typeof fe=="function"?fe:function(){return oe(fe,this)}}var ce="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:ye,qualify:function(fe){var Se=fe.indexOf(":"),Ue=fe;return Se>=0&&(Ue=fe.slice(0,Se))!=="xmlns"&&(fe=fe.slice(Se+1)),ye.hasOwnProperty(Ue)?{space:ye[Ue],local:fe}:fe}},X.attr=function(fe,Se){if(arguments.length<2){if(typeof fe=="string"){var Ue=this.node();return fe=i.ns.qualify(fe),fe.local?Ue.getAttributeNS(fe.space,fe.local):Ue.getAttribute(fe)}for(Se in fe)this.each(we(Se,fe[Se]));return this}return this.each(we(fe,Se))};function we(fe,Se){fe=i.ns.qualify(fe);function Ue(){this.removeAttribute(fe)}function tt(){this.removeAttributeNS(fe.space,fe.local)}function at(){this.setAttribute(fe,Se)}function ct(){this.setAttributeNS(fe.space,fe.local,Se)}function Lt(){var Vt=Se.apply(this,arguments);Vt==null?this.removeAttribute(fe):this.setAttribute(fe,Vt)}function At(){var Vt=Se.apply(this,arguments);Vt==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Vt)}return Se==null?fe.local?tt:Ue:typeof Se=="function"?fe.local?At:Lt:fe.local?ct:at}function be(fe){return fe.trim().replace(/\s+/g," ")}X.classed=function(fe,Se){if(arguments.length<2){if(typeof fe=="string"){var Ue=this.node(),tt=(fe=ke(fe)).length,at=-1;if(Se=Ue.classList){for(;++at<tt;)if(!Se.contains(fe[at]))return!1}else for(Se=Ue.getAttribute("class");++at<tt;)if(!De(fe[at]).test(Se))return!1;return!0}for(Se in fe)this.each(Be(Se,fe[Se]));return this}return this.each(Be(fe,Se))};function De(fe){return new RegExp("(?:^|\\s+)"+i.requote(fe)+"(?:\\s+|$)","g")}function ke(fe){return(fe+"").trim().split(/^|\s+/)}function Be(fe,Se){fe=ke(fe).map(Ae);var Ue=fe.length;function tt(){for(var ct=-1;++ct<Ue;)fe[ct](this,Se)}function at(){for(var ct=-1,Lt=Se.apply(this,arguments);++ct<Ue;)fe[ct](this,Lt)}return typeof Se=="function"?at:tt}function Ae(fe){var Se=De(fe);return function(Ue,tt){if(at=Ue.classList)return tt?at.add(fe):at.remove(fe);var at=Ue.getAttribute("class")||"";tt?(Se.lastIndex=0,Se.test(at)||Ue.setAttribute("class",be(at+" "+fe))):Ue.setAttribute("class",be(at.replace(Se," ")))}}X.style=function(fe,Se,Ue){var tt=arguments.length;if(tt<3){if(typeof fe!="string"){tt<2&&(Se="");for(Ue in fe)this.each(Ie(Ue,fe[Ue],Se));return this}if(tt<2){var at=this.node();return r(at).getComputedStyle(at,null).getPropertyValue(fe)}Ue=""}return this.each(Ie(fe,Se,Ue))};function Ie(fe,Se,Ue){function tt(){this.style.removeProperty(fe)}function at(){this.style.setProperty(fe,Se,Ue)}function ct(){var Lt=Se.apply(this,arguments);Lt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Lt,Ue)}return Se==null?tt:typeof Se=="function"?ct:at}X.property=function(fe,Se){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Se in fe)this.each(Me(Se,fe[Se]));return this}return this.each(Me(fe,Se))};function Me(fe,Se){function Ue(){delete this[fe]}function tt(){this[fe]=Se}function at(){var ct=Se.apply(this,arguments);ct==null?delete this[fe]:this[fe]=ct}return Se==null?Ue:typeof Se=="function"?at:tt}X.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Se=fe.apply(this,arguments);this.textContent=Se??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},X.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Se=fe.apply(this,arguments);this.innerHTML=Se??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},X.append=function(fe){return fe=Fe(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Fe(fe){function Se(){var tt=this.ownerDocument,at=this.namespaceURI;return at===ce&&tt.documentElement.namespaceURI===ce?tt.createElement(fe):tt.createElementNS(at,fe)}function Ue(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=i.ns.qualify(fe)).local?Ue:Se}X.insert=function(fe,Se){return fe=Fe(fe),Se=se(Se),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Se.apply(this,arguments)||null)})},X.remove=function(){return this.each(Ee)};function Ee(){var fe=this.parentNode;fe&&fe.removeChild(this)}X.data=function(fe,Se){var Ue=-1,tt=this.length,at,ct;if(!arguments.length){for(fe=new Array(tt=(at=this[0]).length);++Ue<tt;)(ct=at[Ue])&&(fe[Ue]=ct.__data__);return fe}function Lt(tr,Cr){var Lr,qr=tr.length,an=Cr.length,Rr=Math.min(qr,an),Ur=new Array(an),Kr=new Array(an),cn=new Array(qr),dn,tn;if(Se){var Hn=new C,ea=new Array(qr),la;for(Lr=-1;++Lr<qr;)(dn=tr[Lr])&&(Hn.has(la=Se.call(dn,dn.__data__,Lr))?cn[Lr]=dn:Hn.set(la,dn),ea[Lr]=la);for(Lr=-1;++Lr<an;)(dn=Hn.get(la=Se.call(Cr,tn=Cr[Lr],Lr)))?dn!==!0&&(Ur[Lr]=dn,dn.__data__=tn):Kr[Lr]=He(tn),Hn.set(la,!0);for(Lr=-1;++Lr<qr;)Lr in ea&&Hn.get(ea[Lr])!==!0&&(cn[Lr]=tr[Lr])}else{for(Lr=-1;++Lr<Rr;)dn=tr[Lr],tn=Cr[Lr],dn?(dn.__data__=tn,Ur[Lr]=dn):Kr[Lr]=He(tn);for(;Lr<an;++Lr)Kr[Lr]=He(Cr[Lr]);for(;Lr<qr;++Lr)cn[Lr]=tr[Lr]}Kr.update=Ur,Kr.parentNode=Ur.parentNode=cn.parentNode=tr.parentNode,At.push(Kr),Vt.push(Ur),Wt.push(cn)}var At=qe([]),Vt=Y([]),Wt=Y([]);if(typeof fe=="function")for(;++Ue<tt;)Lt(at=this[Ue],fe.call(at,at.parentNode.__data__,Ue));else for(;++Ue<tt;)Lt(at=this[Ue],fe);return Vt.enter=function(){return At},Vt.exit=function(){return Wt},Vt};function He(fe){return{__data__:fe}}X.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},X.filter=function(fe){var Se=[],Ue,tt,at;typeof fe!="function"&&(fe=rt(fe));for(var ct=0,Lt=this.length;ct<Lt;ct++){Se.push(Ue=[]),Ue.parentNode=(tt=this[ct]).parentNode;for(var At=0,Vt=tt.length;At<Vt;At++)(at=tt[At])&&fe.call(at,at.__data__,At,ct)&&Ue.push(at)}return Y(Se)};function rt(fe){return function(){return j(this,fe)}}X.order=function(){for(var fe=-1,Se=this.length;++fe<Se;)for(var Ue=this[fe],tt=Ue.length-1,at=Ue[tt],ct;--tt>=0;)(ct=Ue[tt])&&(at&&at!==ct.nextSibling&&at.parentNode.insertBefore(ct,at),at=ct);return this},X.sort=function(fe){fe=ot.apply(this,arguments);for(var Se=-1,Ue=this.length;++Se<Ue;)this[Se].sort(fe);return this.order()};function ot(fe){return arguments.length||(fe=u),function(Se,Ue){return Se&&Ue?fe(Se.__data__,Ue.__data__):!Se-!Ue}}X.each=function(fe){return $e(this,function(Se,Ue,tt){fe.call(Se,Se.__data__,Ue,tt)})};function $e(fe,Se){for(var Ue=0,tt=fe.length;Ue<tt;Ue++)for(var at=fe[Ue],ct=0,Lt=at.length,At;ct<Lt;ct++)(At=at[ct])&&Se(At,ct,Ue);return fe}X.call=function(fe){var Se=S(arguments);return fe.apply(Se[0]=this,Se),this},X.empty=function(){return!this.node()},X.node=function(){for(var fe=0,Se=this.length;fe<Se;fe++)for(var Ue=this[fe],tt=0,at=Ue.length;tt<at;tt++){var ct=Ue[tt];if(ct)return ct}return null},X.size=function(){var fe=0;return $e(this,function(){++fe}),fe};function qe(fe){return ie(fe,ht),fe}var ht=[];i.selection.enter=qe,i.selection.enter.prototype=ht,ht.append=X.append,ht.empty=X.empty,ht.node=X.node,ht.call=X.call,ht.size=X.size,ht.select=function(fe){for(var Se=[],Ue,tt,at,ct,Lt,At=-1,Vt=this.length;++At<Vt;){at=(ct=this[At]).update,Se.push(Ue=[]),Ue.parentNode=ct.parentNode;for(var Wt=-1,tr=ct.length;++Wt<tr;)(Lt=ct[Wt])?(Ue.push(at[Wt]=tt=fe.call(ct.parentNode,Lt.__data__,Wt,At)),tt.__data__=Lt.__data__):Ue.push(null)}return Y(Se)},ht.insert=function(fe,Se){return arguments.length<2&&(Se=vt(this)),X.insert.call(this,fe,Se)};function vt(fe){var Se,Ue;return function(tt,at,ct){var Lt=fe[ct].update,At=Lt.length,Vt;for(ct!=Ue&&(Ue=ct,Se=0),at>=Se&&(Se=at+1);!(Vt=Lt[Se])&&++Se<At;);return Vt}}i.select=function(fe){var Se;return typeof fe=="string"?(Se=[$(fe,v)],Se.parentNode=v.documentElement):(Se=[fe],Se.parentNode=p(fe)),Y([Se])},i.selectAll=function(fe){var Se;return typeof fe=="string"?(Se=S(oe(fe,v)),Se.parentNode=v.documentElement):(Se=S(fe),Se.parentNode=null),Y([Se])},X.on=function(fe,Se,Ue){var tt=arguments.length;if(tt<3){if(typeof fe!="string"){tt<2&&(Se=!1);for(Ue in fe)this.each(pt(Ue,fe[Ue],Se));return this}if(tt<2)return(tt=this.node()["__on"+fe])&&tt._;Ue=!1}return this.each(pt(fe,Se,Ue))};function pt(fe,Se,Ue){var tt="__on"+fe,at=fe.indexOf("."),ct=Mt;at>0&&(fe=fe.slice(0,at));var Lt=wt.get(fe);Lt&&(fe=Lt,ct=nt);function At(){var tr=this[tt];tr&&(this.removeEventListener(fe,tr,tr.$),delete this[tt])}function Vt(){var tr=ct(Se,S(arguments));At.call(this),this.addEventListener(fe,this[tt]=tr,tr.$=Ue),tr._=Se}function Wt(){var tr=new RegExp("^__on([^.]+)"+i.requote(fe)+"$"),Cr;for(var Lr in this)if(Cr=Lr.match(tr)){var qr=this[Lr];this.removeEventListener(Cr[1],qr,qr.$),delete this[Lr]}}return at?Se?Vt:At:Se?Z:Wt}var wt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&wt.forEach(function(fe){"on"+fe in v&&wt.remove(fe)});function Mt(fe,Se){return function(Ue){var tt=i.event;i.event=Ue,Se[0]=this.__data__;try{fe.apply(this,Se)}finally{i.event=tt}}}function nt(fe,Se){var Ue=Mt(fe,Se);return function(tt){var at=this,ct=tt.relatedTarget;(!ct||ct!==at&&!(ct.compareDocumentPosition(at)&8))&&Ue.call(at,tt)}}var _e,Ge=0;function je(fe){var Se=".dragsuppress-"+ ++Ge,Ue="click"+Se,tt=i.select(r(fe)).on("touchmove"+Se,ne).on("dragstart"+Se,ne).on("selectstart"+Se,ne);if(_e==null&&(_e="onselectstart"in fe?!1:z(fe.style,"userSelect")),_e){var at=p(fe).style,ct=at[_e];at[_e]="none"}return function(Lt){if(tt.on(Se,null),_e&&(at[_e]=ct),Lt){var At=function(){tt.on(Ue,null)};tt.on(Ue,function(){ne(),At()},!0),setTimeout(At,0)}}}i.mouse=function(fe){return Pe(fe,ue())};var We=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Pe(fe,Se){Se.changedTouches&&(Se=Se.changedTouches[0]);var Ue=fe.ownerSVGElement||fe;if(Ue.createSVGPoint){var tt=Ue.createSVGPoint();if(We<0){var at=r(fe);if(at.scrollX||at.scrollY){Ue=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ct=Ue[0][0].getScreenCTM();We=!(ct.f||ct.e),Ue.remove()}}return We?(tt.x=Se.pageX,tt.y=Se.pageY):(tt.x=Se.clientX,tt.y=Se.clientY),tt=tt.matrixTransform(fe.getScreenCTM().inverse()),[tt.x,tt.y]}var Lt=fe.getBoundingClientRect();return[Se.clientX-Lt.left-fe.clientLeft,Se.clientY-Lt.top-fe.clientTop]}i.touch=function(fe,Se,Ue){if(arguments.length<3&&(Ue=Se,Se=ue().changedTouches),Se){for(var tt=0,at=Se.length,ct;tt<at;++tt)if((ct=Se[tt]).identifier===Ue)return Pe(fe,ct)}},i.behavior.drag=function(){var fe=te(at,"drag","dragstart","dragend"),Se=null,Ue=ct(Z,i.mouse,r,"mousemove","mouseup"),tt=ct(Re,i.touch,O,"touchmove","touchend");function at(){this.on("mousedown.drag",Ue).on("touchstart.drag",tt)}function ct(Lt,At,Vt,Wt,tr){return function(){var Cr=this,Lr=i.event.target.correspondingElement||i.event.target,qr=Cr.parentNode,an=fe.of(Cr,arguments),Rr=0,Ur=Lt(),Kr=".drag"+(Ur==null?"":"-"+Ur),cn,dn=i.select(Vt(Lr)).on(Wt+Kr,ea).on(tr+Kr,la),tn=je(Lr),Hn=At(qr,Ur);Se?(cn=Se.apply(Cr,arguments),cn=[cn.x-Hn[0],cn.y-Hn[1]]):cn=[0,0],an({type:"dragstart"});function ea(){var $n=At(qr,Ur),aa,ua;$n&&(aa=$n[0]-Hn[0],ua=$n[1]-Hn[1],Rr|=aa|ua,Hn=$n,an({type:"drag",x:$n[0]+cn[0],y:$n[1]+cn[1],dx:aa,dy:ua}))}function la(){At(qr,Ur)&&(dn.on(Wt+Kr,null).on(tr+Kr,null),tn(Rr),an({type:"dragend"}))}}}return at.origin=function(Lt){return arguments.length?(Se=Lt,at):Se},i.rebind(at,fe,"on")};function Re(){return i.event.changedTouches[0].identifier}i.touches=function(fe,Se){return arguments.length<2&&(Se=ue().touches),Se?S(Se).map(function(Ue){var tt=Pe(fe,Ue);return tt.identifier=Ue.identifier,tt}):[]};var Xe=1e-6,Le=Xe*Xe,ve=Math.PI,xe=2*ve,Ne=xe-Xe,et=ve/2,st=ve/180,lt=180/ve;function Gt(fe,Se,Ue){return(Se[0]-fe[0])*(Ue[1]-fe[1])-(Se[1]-fe[1])*(Ue[0]-fe[0])}function jt(fe){return fe>1?et:fe<-1?-et:Math.asin(fe)}function Tt(fe){return((fe=Math.exp(fe))-1/fe)/2}function Dt(fe){return((fe=Math.exp(fe))+1/fe)/2}function Xt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var gr=Math.SQRT2,gt=2,Zt=4;i.interpolateZoom=function(fe,Se){var Ue=fe[0],tt=fe[1],at=fe[2],ct=Se[0],Lt=Se[1],At=Se[2],Vt=ct-Ue,Wt=Lt-tt,tr=Vt*Vt+Wt*Wt,Cr,Lr;if(tr<Le)Lr=Math.log(At/at)/gr,Cr=function(cn){return[Ue+cn*Vt,tt+cn*Wt,at*Math.exp(gr*cn*Lr)]};else{var qr=Math.sqrt(tr),an=(At*At-at*at+Zt*tr)/(2*at*gt*qr),Rr=(At*At-at*at-Zt*tr)/(2*At*gt*qr),Ur=Math.log(Math.sqrt(an*an+1)-an),Kr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Lr=(Kr-Ur)/gr,Cr=function(cn){var dn=cn*Lr,tn=Dt(Ur),Hn=at/(gt*qr)*(tn*Xt(gr*dn+Ur)-Tt(Ur));return[Ue+Hn*Vt,tt+Hn*Wt,at*tn/Dt(gr*dn+Ur)]}}return Cr.duration=Lr*1e3,Cr},i.behavior.zoom=function(){var fe={x:0,y:0,k:1},Se,Ue,tt,at=[960,500],ct=Qt,Lt=250,At=0,Vt="mousedown.zoom",Wt="mousemove.zoom",tr="mouseup.zoom",Cr,Lr="touchstart.zoom",qr,an=te(dn,"zoomstart","zoom","zoomend"),Rr,Ur,Kr,cn;or||(or="onwheel"in v?(yr=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return i.event.wheelDelta},"mousewheel"):(yr=function(){return-i.event.detail},"MozMousePixelScroll"));function dn(Qn){Qn.on(Vt,Fa).on(or+".zoom",Bi).on("dblclick.zoom",hi).on(Lr,oi)}dn.event=function(Qn){Qn.each(function(){var Va=an.of(this,arguments),Aa=fe;Ir?i.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},ua(Va)}).tween("zoom:zoom",function(){var Ka=at[0],Ti=at[1],si=Ue?Ue[0]:Ka/2,eo=Ue?Ue[1]:Ti/2,to=i.interpolateZoom([(si-fe.x)/fe.k,(eo-fe.y)/fe.k,Ka/fe.k],[(si-Aa.x)/Aa.k,(eo-Aa.y)/Aa.k,Ka/Aa.k]);return function(oo){var Ai=to(oo),mo=Ka/Ai[2];this.__chart__=fe={x:si-Ai[0]*mo,y:eo-Ai[1]*mo,k:mo},Ba(Va)}}).each("interrupt.zoom",function(){Ma(Va)}).each("end.zoom",function(){Ma(Va)}):(this.__chart__=fe,ua(Va),Ba(Va),Ma(Va))})},dn.translate=function(Qn){return arguments.length?(fe={x:+Qn[0],y:+Qn[1],k:fe.k},aa(),dn):[fe.x,fe.y]},dn.scale=function(Qn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},ea(+Qn),aa(),dn):fe.k},dn.scaleExtent=function(Qn){return arguments.length?(ct=Qn==null?Qt:[+Qn[0],+Qn[1]],dn):ct},dn.center=function(Qn){return arguments.length?(tt=Qn&&[+Qn[0],+Qn[1]],dn):tt},dn.size=function(Qn){return arguments.length?(at=Qn&&[+Qn[0],+Qn[1]],dn):at},dn.duration=function(Qn){return arguments.length?(Lt=+Qn,dn):Lt},dn.x=function(Qn){return arguments.length?(Ur=Qn,Rr=Qn.copy(),fe={x:0,y:0,k:1},dn):Ur},dn.y=function(Qn){return arguments.length?(cn=Qn,Kr=Qn.copy(),fe={x:0,y:0,k:1},dn):cn};function tn(Qn){return[(Qn[0]-fe.x)/fe.k,(Qn[1]-fe.y)/fe.k]}function Hn(Qn){return[Qn[0]*fe.k+fe.x,Qn[1]*fe.k+fe.y]}function ea(Qn){fe.k=Math.max(ct[0],Math.min(ct[1],Qn))}function la(Qn,Va){Va=Hn(Va),fe.x+=Qn[0]-Va[0],fe.y+=Qn[1]-Va[1]}function $n(Qn,Va,Aa,Ka){Qn.__chart__={x:fe.x,y:fe.y,k:fe.k},ea(Math.pow(2,Ka)),la(Ue=Va,Aa),Qn=i.select(Qn),Lt>0&&(Qn=Qn.transition().duration(Lt)),Qn.call(dn.event)}function aa(){Ur&&Ur.domain(Rr.range().map(function(Qn){return(Qn-fe.x)/fe.k}).map(Rr.invert)),cn&&cn.domain(Kr.range().map(function(Qn){return(Qn-fe.y)/fe.k}).map(Kr.invert))}function ua(Qn){At++||Qn({type:"zoomstart"})}function Ba(Qn){aa(),Qn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function Ma(Qn){--At||(Qn({type:"zoomend"}),Ue=null)}function Fa(){var Qn=this,Va=an.of(Qn,arguments),Aa=0,Ka=i.select(r(Qn)).on(Wt,eo).on(tr,to),Ti=tn(i.mouse(Qn)),si=je(Qn);zt.call(Qn),ua(Va);function eo(){Aa=1,la(i.mouse(Qn),Ti),Ba(Va)}function to(){Ka.on(Wt,null).on(tr,null),si(Aa),Ma(Va)}}function oi(){var Qn=this,Va=an.of(Qn,arguments),Aa={},Ka=0,Ti,si=".zoom-"+i.event.changedTouches[0].identifier,eo="touchmove"+si,to="touchend"+si,oo=[],Ai=i.select(Qn),mo=je(Qn);Ca(),ua(Va),Ai.on(Vt,null).on(Lr,Ca);function oa(){var so=i.touches(Qn);return Ti=fe.k,so.forEach(function(vi){vi.identifier in Aa&&(Aa[vi.identifier]=tn(vi))}),so}function Ca(){var so=i.event.target;i.select(so).on(eo,Fo).on(to,Vo),oo.push(so);for(var vi=i.event.changedTouches,Yi=0,Ni=vi.length;Yi<Ni;++Yi)Aa[vi[Yi].identifier]=null;var bs=oa(),Os=Date.now();if(bs.length===1){if(Os-qr<500){var Pi=bs[0];$n(Qn,Pi,Aa[Pi.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),ne()}qr=Os}else if(bs.length>1){var Pi=bs[0],$l=bs[1],Ja=Pi[0]-$l[0],Ri=Pi[1]-$l[1];Ka=Ja*Ja+Ri*Ri}}function Fo(){var so=i.touches(Qn),vi,Yi,Ni,bs;zt.call(Qn);for(var Os=0,Pi=so.length;Os<Pi;++Os,bs=null)if(Ni=so[Os],bs=Aa[Ni.identifier]){if(Yi)break;vi=Ni,Yi=bs}if(bs){var $l=($l=Ni[0]-vi[0])*$l+($l=Ni[1]-vi[1])*$l,Ja=Ka&&Math.sqrt($l/Ka);vi=[(vi[0]+Ni[0])/2,(vi[1]+Ni[1])/2],Yi=[(Yi[0]+bs[0])/2,(Yi[1]+bs[1])/2],ea(Ja*Ti)}qr=null,la(vi,Yi),Ba(Va)}function Vo(){if(i.event.touches.length){for(var so=i.event.changedTouches,vi=0,Yi=so.length;vi<Yi;++vi)delete Aa[so[vi].identifier];for(var Ni in Aa)return void oa()}i.selectAll(oo).on(si,null),Ai.on(Vt,Fa).on(Lr,oi),mo(),Ma(Va)}}function Bi(){var Qn=an.of(this,arguments);Cr?clearTimeout(Cr):(zt.call(this),Se=tn(Ue=tt||i.mouse(this)),ua(Qn)),Cr=setTimeout(function(){Cr=null,Ma(Qn)},50),ne(),ea(Math.pow(2,yr()*.002)*fe.k),la(Ue,Se),Ba(Qn)}function hi(){var Qn=i.mouse(this),Va=Math.log(fe.k)/Math.LN2;$n(this,Qn,tn(Qn),i.event.shiftKey?Math.ceil(Va)-1:Math.floor(Va)+1)}return i.rebind(dn,an,"on")};var Qt=[0,1/0],yr,or;i.color=mt;function mt(){}mt.prototype.toString=function(){return this.rgb()+""},i.hsl=ut;function ut(fe,Se,Ue){return this instanceof ut?(this.h=+fe,this.s=+Se,void(this.l=+Ue)):arguments.length<2?fe instanceof ut?new ut(fe.h,fe.s,fe.l):wr(""+fe,ur,ut):new ut(fe,Se,Ue)}var bt=ut.prototype=new mt;bt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ut(this.h,this.s,this.l/fe)},bt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ut(this.h,this.s,fe*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(fe,Se,Ue){var tt,at;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Se=isNaN(Se)||Se<0?0:Se>1?1:Se,Ue=Ue<0?0:Ue>1?1:Ue,at=Ue<=.5?Ue*(1+Se):Ue+Se-Ue*Se,tt=2*Ue-at;function ct(At){return At>360?At-=360:At<0&&(At+=360),At<60?tt+(at-tt)*At/60:At<180?at:At<240?tt+(at-tt)*(240-At)/60:tt}function Lt(At){return Math.round(ct(At)*255)}return new cr(Lt(fe+120),Lt(fe),Lt(fe-120))}i.hcl=Rt;function Rt(fe,Se,Ue){return this instanceof Rt?(this.h=+fe,this.c=+Se,void(this.l=+Ue)):arguments.length<2?fe instanceof Rt?new Rt(fe.h,fe.c,fe.l):fe instanceof Nt?_t(fe.l,fe.a,fe.b):_t((fe=Vr((fe=i.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Rt(fe,Se,Ue)}var Ht=Rt.prototype=new mt;Ht.brighter=function(fe){return new Rt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?fe:1)))},Ht.darker=function(fe){return new Rt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?fe:1)))},Ht.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(fe,Se,Ue){return isNaN(fe)&&(fe=0),isNaN(Se)&&(Se=0),new Nt(Ue,Math.cos(fe*=st)*Se,Math.sin(fe)*Se)}i.lab=Nt;function Nt(fe,Se,Ue){return this instanceof Nt?(this.l=+fe,this.a=+Se,void(this.b=+Ue)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Rt?Bt(fe.h,fe.c,fe.l):Vr((fe=cr(fe)).r,fe.g,fe.b):new Nt(fe,Se,Ue)}var Jt=18,hr=.95047,fr=1,dr=1.08883,Ye=Nt.prototype=new mt;Ye.brighter=function(fe){return new Nt(Math.min(100,this.l+Jt*(arguments.length?fe:1)),this.a,this.b)},Ye.darker=function(fe){return new Nt(Math.max(0,this.l-Jt*(arguments.length?fe:1)),this.a,this.b)},Ye.rgb=function(){return Ve(this.l,this.a,this.b)};function Ve(fe,Se,Ue){var tt=(fe+16)/116,at=tt+Se/500,ct=tt-Ue/200;return at=kt(at)*hr,tt=kt(tt)*fr,ct=kt(ct)*dr,new cr(sr(3.2404542*at-1.5371385*tt-.4985314*ct),sr(-.969266*at+1.8760108*tt+.041556*ct),sr(.0556434*at-.2040259*tt+1.0572252*ct))}function _t(fe,Se,Ue){return fe>0?new Rt(Math.atan2(Ue,Se)*lt,Math.sqrt(Se*Se+Ue*Ue),fe):new Rt(NaN,NaN,fe)}function kt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function Kt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function sr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}i.rgb=cr;function cr(fe,Se,Ue){return this instanceof cr?(this.r=~~fe,this.g=~~Se,void(this.b=~~Ue)):arguments.length<2?fe instanceof cr?new cr(fe.r,fe.g,fe.b):wr(""+fe,cr,Et):new cr(fe,Se,Ue)}function er(fe){return new cr(fe>>16,fe>>8&255,fe&255)}function Ot(fe){return er(fe)+""}var nr=cr.prototype=new mt;nr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Se=this.r,Ue=this.g,tt=this.b,at=30;return!Se&&!Ue&&!tt?new cr(at,at,at):(Se&&Se<at&&(Se=at),Ue&&Ue<at&&(Ue=at),tt&&tt<at&&(tt=at),new cr(Math.min(255,Se/fe),Math.min(255,Ue/fe),Math.min(255,tt/fe)))},nr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new cr(fe*this.r,fe*this.g,fe*this.b)},nr.hsl=function(){return ur(this.r,this.g,this.b)},nr.toString=function(){return"#"+vr(this.r)+vr(this.g)+vr(this.b)};function vr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function wr(fe,Se,Ue){var tt=0,at=0,ct=0,Lt,At,Vt;if(Lt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Lt)switch(At=Lt[2].split(","),Lt[1]){case"hsl":return Ue(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Se(Dr(At[0]),Dr(At[1]),Dr(At[2]))}return(Vt=ln.get(fe))?Se(Vt.r,Vt.g,Vt.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Vt=parseInt(fe.slice(1),16))&&(fe.length===4?(tt=(Vt&3840)>>4,tt=tt>>4|tt,at=Vt&240,at=at>>4|at,ct=Vt&15,ct=ct<<4|ct):fe.length===7&&(tt=(Vt&16711680)>>16,at=(Vt&65280)>>8,ct=Vt&255)),Se(tt,at,ct))}function ur(fe,Se,Ue){var tt=Math.min(fe/=255,Se/=255,Ue/=255),at=Math.max(fe,Se,Ue),ct=at-tt,Lt,At,Vt=(at+tt)/2;return ct?(At=Vt<.5?ct/(at+tt):ct/(2-at-tt),fe==at?Lt=(Se-Ue)/ct+(Se<Ue?6:0):Se==at?Lt=(Ue-fe)/ct+2:Lt=(fe-Se)/ct+4,Lt*=60):(Lt=NaN,At=Vt>0&&Vt<1?0:Lt),new ut(Lt,At,Vt)}function Vr(fe,Se,Ue){fe=Pr(fe),Se=Pr(Se),Ue=Pr(Ue);var tt=Kt((.4124564*fe+.3575761*Se+.1804375*Ue)/hr),at=Kt((.2126729*fe+.7151522*Se+.072175*Ue)/fr),ct=Kt((.0193339*fe+.119192*Se+.9503041*Ue)/dr);return Nt(116*at-16,500*(tt-at),200*(at-ct))}function Pr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Dr(fe){var Se=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Se*2.55):Se}var ln=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ln.forEach(function(fe,Se){ln.set(fe,er(Se))});function Wr(fe){return typeof fe=="function"?fe:function(){return fe}}i.functor=Wr,i.xhr=Tn(O);function Tn(fe){return function(Se,Ue,tt){return arguments.length===2&&typeof Ue=="function"&&(tt=Ue,Ue=null),An(Se,Ue,fe,tt)}}function An(fe,Se,Ue,tt){var at={},ct=i.dispatch("beforesend","progress","load","error"),Lt={},At=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(fe)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Wt:At.onreadystatechange=function(){At.readyState>3&&Wt()};function Wt(){var tr=At.status,Cr;if(!tr&&Fr(At)||tr>=200&&tr<300||tr===304){try{Cr=Ue.call(at,At)}catch(Lr){ct.error.call(at,Lr);return}ct.load.call(at,Cr)}else ct.error.call(at,At)}return At.onprogress=function(tr){var Cr=i.event;i.event=tr;try{ct.progress.call(at,At)}finally{i.event=Cr}},at.header=function(tr,Cr){return tr=(tr+"").toLowerCase(),arguments.length<2?Lt[tr]:(Cr==null?delete Lt[tr]:Lt[tr]=Cr+"",at)},at.mimeType=function(tr){return arguments.length?(Se=tr==null?null:tr+"",at):Se},at.responseType=function(tr){return arguments.length?(Vt=tr,at):Vt},at.response=function(tr){return Ue=tr,at},["get","post"].forEach(function(tr){at[tr]=function(){return at.send.apply(at,[tr].concat(S(arguments)))}}),at.send=function(tr,Cr,Lr){if(arguments.length===2&&typeof Cr=="function"&&(Lr=Cr,Cr=null),At.open(tr,fe,!0),Se!=null&&!("accept"in Lt)&&(Lt.accept=Se+",*/*"),At.setRequestHeader)for(var qr in Lt)At.setRequestHeader(qr,Lt[qr]);return Se!=null&&At.overrideMimeType&&At.overrideMimeType(Se),Vt!=null&&(At.responseType=Vt),Lr!=null&&at.on("error",Lr).on("load",function(an){Lr(null,an)}),ct.beforesend.call(at,At),At.send(Cr??null),at},at.abort=function(){return At.abort(),at},i.rebind(at,ct,"on"),tt==null?at:at.get(Tr(tt))}function Tr(fe){return fe.length===1?function(Se,Ue){fe(Se==null?Ue:null)}:fe}function Fr(fe){var Se=fe.responseType;return Se&&Se!=="text"?fe.response:fe.responseText}i.dsv=function(fe,Se){var Ue=new RegExp('["'+fe+`
]`),tt=fe.charCodeAt(0);function at(Wt,tr,Cr){arguments.length<3&&(Cr=tr,tr=null);var Lr=An(Wt,Se,tr==null?ct:Lt(tr),Cr);return Lr.row=function(qr){return arguments.length?Lr.response((tr=qr)==null?ct:Lt(qr)):tr},Lr}function ct(Wt){return at.parse(Wt.responseText)}function Lt(Wt){return function(tr){return at.parse(tr.responseText,Wt)}}at.parse=function(Wt,tr){var Cr;return at.parseRows(Wt,function(Lr,qr){if(Cr)return Cr(Lr,qr-1);var an=function(Rr){for(var Ur={},Kr=Lr.length,cn=0;cn<Kr;++cn)Ur[Lr[cn]]=Rr[cn];return Ur};Cr=tr?function(Rr,Ur){return tr(an(Rr),Ur)}:an})},at.parseRows=function(Wt,tr){var Cr={},Lr={},qr=[],an=Wt.length,Rr=0,Ur=0,Kr,cn;function dn(){if(Rr>=an)return Lr;if(cn)return cn=!1,Cr;var Hn=Rr;if(Wt.charCodeAt(Hn)===34){for(var ea=Hn;ea++<an;)if(Wt.charCodeAt(ea)===34){if(Wt.charCodeAt(ea+1)!==34)break;++ea}Rr=ea+2;var la=Wt.charCodeAt(ea+1);return la===13?(cn=!0,Wt.charCodeAt(ea+2)===10&&++Rr):la===10&&(cn=!0),Wt.slice(Hn+1,ea).replace(/""/g,'"')}for(;Rr<an;){var la=Wt.charCodeAt(Rr++),$n=1;if(la===10)cn=!0;else if(la===13)cn=!0,Wt.charCodeAt(Rr)===10&&(++Rr,++$n);else if(la!==tt)continue;return Wt.slice(Hn,Rr-$n)}return Wt.slice(Hn)}for(;(Kr=dn())!==Lr;){for(var tn=[];Kr!==Cr&&Kr!==Lr;)tn.push(Kr),Kr=dn();tr&&(tn=tr(tn,Ur++))==null||qr.push(tn)}return qr},at.format=function(Wt){if(Array.isArray(Wt[0]))return at.formatRows(Wt);var tr=new _,Cr=[];return Wt.forEach(function(Lr){for(var qr in Lr)tr.has(qr)||Cr.push(tr.add(qr))}),[Cr.map(Vt).join(fe)].concat(Wt.map(function(Lr){return Cr.map(function(qr){return Vt(Lr[qr])}).join(fe)})).join(`
`)},at.formatRows=function(Wt){return Wt.map(At).join(`
`)};function At(Wt){return Wt.map(Vt).join(fe)}function Vt(Wt){return Ue.test(Wt)?'"'+Wt.replace(/\"/g,'""')+'"':Wt}return at},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Yr,_r,on,un,Sn=this[z(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};i.timer=function(){Ln.apply(this,arguments)};function Ln(fe,Se,Ue){var tt=arguments.length;tt<2&&(Se=0),tt<3&&(Ue=Date.now());var at=Ue+Se,ct={c:fe,t:at,n:null};return _r?_r.n=ct:Yr=ct,_r=ct,on||(un=clearTimeout(un),on=1,Sn(Un)),ct}function Un(){var fe=na(),Se=ga()-fe;Se>24?(isFinite(Se)&&(clearTimeout(un),un=setTimeout(Un,Se)),on=0):(on=1,Sn(Un))}i.timer.flush=function(){na(),ga()};function na(){for(var fe=Date.now(),Se=Yr;Se;)fe>=Se.t&&Se.c(fe-Se.t)&&(Se.c=null),Se=Se.n;return fe}function ga(){for(var fe,Se=Yr,Ue=1/0;Se;)Se.c?(Se.t<Ue&&(Ue=Se.t),Se=(fe=Se).n):Se=fe?fe.n=Se.n:Yr=Se.n;return _r=fe,Ue}i.round=function(fe,Se){return Se?Math.round(fe*(Se=Math.pow(10,Se)))/Se:Math.round(fe)},i.geom={};function xa(fe){return fe[0]}function ca(fe){return fe[1]}i.geom.hull=function(fe){var Se=xa,Ue=ca;if(arguments.length)return tt(fe);function tt(at){if(at.length<3)return[];var ct=Wr(Se),Lt=Wr(Ue),At,Vt=at.length,Wt=[],tr=[];for(At=0;At<Vt;At++)Wt.push([+ct.call(this,at[At],At),+Lt.call(this,at[At],At),At]);for(Wt.sort(mr),At=0;At<Vt;At++)tr.push([Wt[At][0],-Wt[At][1]]);var Cr=Vn(Wt),Lr=Vn(tr),qr=Lr[0]===Cr[0],an=Lr[Lr.length-1]===Cr[Cr.length-1],Rr=[];for(At=Cr.length-1;At>=0;--At)Rr.push(at[Wt[Cr[At]][2]]);for(At=+qr;At<Lr.length-an;++At)Rr.push(at[Wt[Lr[At]][2]]);return Rr}return tt.x=function(at){return arguments.length?(Se=at,tt):Se},tt.y=function(at){return arguments.length?(Ue=at,tt):Ue},tt};function Vn(fe){for(var Se=fe.length,Ue=[0,1],tt=2,at=2;at<Se;at++){for(;tt>1&&Gt(fe[Ue[tt-2]],fe[Ue[tt-1]],fe[at])<=0;)--tt;Ue[tt++]=at}return Ue.slice(0,tt)}function mr(fe,Se){return fe[0]-Se[0]||fe[1]-Se[1]}i.geom.polygon=function(fe){return ie(fe,Jr),fe};var Jr=i.geom.polygon.prototype=[];Jr.area=function(){for(var fe=-1,Se=this.length,Ue,tt=this[Se-1],at=0;++fe<Se;)Ue=tt,tt=this[fe],at+=Ue[1]*tt[0]-Ue[0]*tt[1];return at*.5},Jr.centroid=function(fe){var Se=-1,Ue=this.length,tt=0,at=0,ct,Lt=this[Ue-1],At;for(arguments.length||(fe=-1/(6*this.area()));++Se<Ue;)ct=Lt,Lt=this[Se],At=ct[0]*Lt[1]-Lt[0]*ct[1],tt+=(ct[0]+Lt[0])*At,at+=(ct[1]+Lt[1])*At;return[tt*fe,at*fe]},Jr.clip=function(fe){for(var Se,Ue=_n(fe),tt=-1,at=this.length-_n(this),ct,Lt,At=this[at-1],Vt,Wt,tr;++tt<at;){for(Se=fe.slice(),fe.length=0,Vt=this[tt],Wt=Se[(Lt=Se.length-Ue)-1],ct=-1;++ct<Lt;)tr=Se[ct],Qr(tr,At,Vt)?(Qr(Wt,At,Vt)||fe.push(vn(Wt,tr,At,Vt)),fe.push(tr)):Qr(Wt,At,Vt)&&fe.push(vn(Wt,tr,At,Vt)),Wt=tr;Ue&&fe.push(fe[0]),At=Vt}return fe};function Qr(fe,Se,Ue){return(Ue[0]-Se[0])*(fe[1]-Se[1])<(Ue[1]-Se[1])*(fe[0]-Se[0])}function vn(fe,Se,Ue,tt){var at=fe[0],ct=Ue[0],Lt=Se[0]-at,At=tt[0]-ct,Vt=fe[1],Wt=Ue[1],tr=Se[1]-Vt,Cr=tt[1]-Wt,Lr=(At*(Vt-Wt)-Cr*(at-ct))/(Cr*Lt-At*tr);return[at+Lr*Lt,Vt+Lr*tr]}function _n(fe){var Se=fe[0],Ue=fe[fe.length-1];return!(Se[0]-Ue[0]||Se[1]-Ue[1])}var xn,bn,Bn,Jn=[],ha,Ia,Ar=[];function zr(){Bo(this),this.edge=this.site=this.circle=null}function Sr(fe){var Se=Jn.pop()||new zr;return Se.site=fe,Se}function Or(fe){Fn(fe),Bn.remove(fe),Jn.push(fe),Bo(fe)}function yn(fe){var Se=fe.circle,Ue=Se.x,tt=Se.cy,at={x:Ue,y:tt},ct=fe.P,Lt=fe.N,At=[fe];Or(fe);for(var Vt=ct;Vt.circle&&d(Ue-Vt.circle.x)<Xe&&d(tt-Vt.circle.cy)<Xe;)ct=Vt.P,At.unshift(Vt),Or(Vt),Vt=ct;At.unshift(Vt),Fn(Vt);for(var Wt=Lt;Wt.circle&&d(Ue-Wt.circle.x)<Xe&&d(tt-Wt.circle.cy)<Xe;)Lt=Wt.N,At.push(Wt),Or(Wt),Wt=Lt;At.push(Wt),Fn(Wt);var tr=At.length,Cr;for(Cr=1;Cr<tr;++Cr)Wt=At[Cr],Vt=At[Cr-1],La(Wt.edge,Vt.site,Wt.site,at);Vt=At[0],Wt=At[tr-1],Wt.edge=ia(Vt.site,Wt.site,null,at),wn(Vt),wn(Wt)}function Rn(fe){for(var Se=fe.x,Ue=fe.y,tt,at,ct,Lt,At=Bn._;At;)if(ct=pn(At,Ue)-Se,ct>Xe)At=At.L;else if(Lt=Se-sn(At,Ue),Lt>Xe){if(!At.R){tt=At;break}At=At.R}else{ct>-Xe?(tt=At.P,at=At):Lt>-Xe?(tt=At,at=At.N):tt=at=At;break}var Vt=Sr(fe);if(Bn.insert(tt,Vt),!(!tt&&!at)){if(tt===at){Fn(tt),at=Sr(tt.site),Bn.insert(Vt,at),Vt.edge=at.edge=ia(tt.site,Vt.site),wn(tt),wn(at);return}if(!at){Vt.edge=ia(tt.site,Vt.site);return}Fn(tt),Fn(at);var Wt=tt.site,tr=Wt.x,Cr=Wt.y,Lr=fe.x-tr,qr=fe.y-Cr,an=at.site,Rr=an.x-tr,Ur=an.y-Cr,Kr=2*(Lr*Ur-qr*Rr),cn=Lr*Lr+qr*qr,dn=Rr*Rr+Ur*Ur,tn={x:(Ur*cn-qr*dn)/Kr+tr,y:(Lr*dn-Rr*cn)/Kr+Cr};La(at.edge,Wt,an,tn),Vt.edge=ia(Wt,fe,null,tn),at.edge=ia(fe,an,null,tn),wn(tt),wn(at)}}function pn(fe,Se){var Ue=fe.site,tt=Ue.x,at=Ue.y,ct=at-Se;if(!ct)return tt;var Lt=fe.P;if(!Lt)return-1/0;Ue=Lt.site;var At=Ue.x,Vt=Ue.y,Wt=Vt-Se;if(!Wt)return At;var tr=At-tt,Cr=1/ct-1/Wt,Lr=tr/Wt;return Cr?(-Lr+Math.sqrt(Lr*Lr-2*Cr*(tr*tr/(-2*Wt)-Vt+Wt/2+at-ct/2)))/Cr+tt:(tt+At)/2}function sn(fe,Se){var Ue=fe.N;if(Ue)return pn(Ue,Se);var tt=fe.site;return tt.y===Se?tt.x:1/0}function Er(fe){this.site=fe,this.edges=[]}Er.prototype.prepare=function(){for(var fe=this.edges,Se=fe.length,Ue;Se--;)Ue=fe[Se].edge,(!Ue.b||!Ue.a)&&fe.splice(Se,1);return fe.sort(Hr),fe.length};function Zr(fe){for(var Se=fe[0][0],Ue=fe[1][0],tt=fe[0][1],at=fe[1][1],ct,Lt,At,Vt,Wt=bn,tr=Wt.length,Cr,Lr,qr,an,Rr,Ur;tr--;)if(Cr=Wt[tr],!(!Cr||!Cr.prepare()))for(qr=Cr.edges,an=qr.length,Lr=0;Lr<an;)Ur=qr[Lr].end(),At=Ur.x,Vt=Ur.y,Rr=qr[++Lr%an].start(),ct=Rr.x,Lt=Rr.y,(d(At-ct)>Xe||d(Vt-Lt)>Xe)&&(qr.splice(Lr,0,new yi(pa(Cr.site,Ur,d(At-Se)<Xe&&at-Vt>Xe?{x:Se,y:d(ct-Se)<Xe?Lt:at}:d(Vt-at)<Xe&&Ue-At>Xe?{x:d(Lt-at)<Xe?ct:Ue,y:at}:d(At-Ue)<Xe&&Vt-tt>Xe?{x:Ue,y:d(ct-Ue)<Xe?Lt:tt}:d(Vt-tt)<Xe&&At-Se>Xe?{x:d(Lt-tt)<Xe?ct:Se,y:tt}:null),Cr.site,null)),++an)}function Hr(fe,Se){return Se.angle-fe.angle}function en(){Bo(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(fe){var Se=fe.P,Ue=fe.N;if(!(!Se||!Ue)){var tt=Se.site,at=fe.site,ct=Ue.site;if(tt!==ct){var Lt=at.x,At=at.y,Vt=tt.x-Lt,Wt=tt.y-At,tr=ct.x-Lt,Ur=ct.y-At,Cr=2*(Vt*Ur-Wt*tr);if(!(Cr>=-Le)){var Lr=Vt*Vt+Wt*Wt,qr=tr*tr+Ur*Ur,an=(Ur*Lr-Wt*qr)/Cr,Rr=(Vt*qr-tr*Lr)/Cr,Ur=Rr+At,Kr=Ar.pop()||new en;Kr.arc=fe,Kr.site=at,Kr.x=an+Lt,Kr.y=Ur+Math.sqrt(an*an+Rr*Rr),Kr.cy=Ur,fe.circle=Kr;for(var cn=null,dn=Ia._;dn;)if(Kr.y<dn.y||Kr.y===dn.y&&Kr.x<=dn.x)if(dn.L)dn=dn.L;else{cn=dn.P;break}else if(dn.R)dn=dn.R;else{cn=dn;break}Ia.insert(cn,Kr),cn||(ha=Kr)}}}}function Fn(fe){var Se=fe.circle;Se&&(Se.P||(ha=Se.N),Ia.remove(Se),Ar.push(Se),Bo(Se),fe.circle=null)}function Mn(fe,Se,Ue,tt){return function(at){var ct=at.a,Lt=at.b,At=ct.x,Vt=ct.y,Wt=Lt.x,tr=Lt.y,Cr=0,Lr=1,qr=Wt-At,an=tr-Vt,Rr;if(Rr=fe-At,!(!qr&&Rr>0)){if(Rr/=qr,qr<0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}else if(qr>0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}if(Rr=Ue-At,!(!qr&&Rr<0)){if(Rr/=qr,qr<0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}else if(qr>0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}if(Rr=Se-Vt,!(!an&&Rr>0)){if(Rr/=an,an<0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}else if(an>0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}if(Rr=tt-Vt,!(!an&&Rr<0)){if(Rr/=an,an<0){if(Rr>Lr)return;Rr>Cr&&(Cr=Rr)}else if(an>0){if(Rr<Cr)return;Rr<Lr&&(Lr=Rr)}return Cr>0&&(at.a={x:At+Cr*qr,y:Vt+Cr*an}),Lr<1&&(at.b={x:At+Lr*qr,y:Vt+Lr*an}),at}}}}}}function Nn(fe){for(var Se=xn,Ue=Mn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),tt=Se.length,at;tt--;)at=Se[tt],(!zn(at,fe)||!Ue(at)||d(at.a.x-at.b.x)<Xe&&d(at.a.y-at.b.y)<Xe)&&(at.a=at.b=null,Se.splice(tt,1))}function zn(fe,Se){var Ue=fe.b;if(Ue)return!0;var tt=fe.a,at=Se[0][0],ct=Se[1][0],Lt=Se[0][1],At=Se[1][1],Vt=fe.l,Wt=fe.r,tr=Vt.x,Cr=Vt.y,Lr=Wt.x,qr=Wt.y,an=(tr+Lr)/2,Rr=(Cr+qr)/2,Ur,Kr;if(qr===Cr){if(an<at||an>=ct)return;if(tr>Lr){if(!tt)tt={x:an,y:Lt};else if(tt.y>=At)return;Ue={x:an,y:At}}else{if(!tt)tt={x:an,y:At};else if(tt.y<Lt)return;Ue={x:an,y:Lt}}}else if(Ur=(tr-Lr)/(qr-Cr),Kr=Rr-Ur*an,Ur<-1||Ur>1)if(tr>Lr){if(!tt)tt={x:(Lt-Kr)/Ur,y:Lt};else if(tt.y>=At)return;Ue={x:(At-Kr)/Ur,y:At}}else{if(!tt)tt={x:(At-Kr)/Ur,y:At};else if(tt.y<Lt)return;Ue={x:(Lt-Kr)/Ur,y:Lt}}else if(Cr<qr){if(!tt)tt={x:at,y:Ur*at+Kr};else if(tt.x>=ct)return;Ue={x:ct,y:Ur*ct+Kr}}else{if(!tt)tt={x:ct,y:Ur*ct+Kr};else if(tt.x<at)return;Ue={x:at,y:Ur*at+Kr}}return fe.a=tt,fe.b=Ue,!0}function fa(fe,Se){this.l=fe,this.r=Se,this.a=this.b=null}function ia(fe,Se,Ue,tt){var at=new fa(fe,Se);return xn.push(at),Ue&&La(at,fe,Se,Ue),tt&&La(at,Se,fe,tt),bn[fe.i].edges.push(new yi(at,fe,Se)),bn[Se.i].edges.push(new yi(at,Se,fe)),at}function pa(fe,Se,Ue){var tt=new fa(fe,null);return tt.a=Se,tt.b=Ue,xn.push(tt),tt}function La(fe,Se,Ue,tt){!fe.a&&!fe.b?(fe.a=tt,fe.l=Se,fe.r=Ue):fe.l===Ue?fe.b=tt:fe.a=tt}function yi(fe,Se,Ue){var tt=fe.a,at=fe.b;this.edge=fe,this.site=Se,this.angle=Ue?Math.atan2(Ue.y-Se.y,Ue.x-Se.x):fe.l===Se?Math.atan2(at.x-tt.x,tt.y-at.y):Math.atan2(tt.x-at.x,at.y-tt.y)}yi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ii(){this._=null}function Bo(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}ii.prototype={insert:function(fe,Se){var Ue,tt,at;if(fe){if(Se.P=fe,Se.N=fe.N,fe.N&&(fe.N.P=Se),fe.N=Se,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Se}else fe.R=Se;Ue=fe}else this._?(fe=kl(this._),Se.P=null,Se.N=fe,fe.P=fe.L=Se,Ue=fe):(Se.P=Se.N=null,this._=Se,Ue=null);for(Se.L=Se.R=null,Se.U=Ue,Se.C=!0,fe=Se;Ue&&Ue.C;)tt=Ue.U,Ue===tt.L?(at=tt.R,at&&at.C?(Ue.C=at.C=!1,tt.C=!0,fe=tt):(fe===Ue.R&&(Ro(this,Ue),fe=Ue,Ue=fe.U),Ue.C=!1,tt.C=!0,no(this,tt))):(at=tt.L,at&&at.C?(Ue.C=at.C=!1,tt.C=!0,fe=tt):(fe===Ue.L&&(no(this,Ue),fe=Ue,Ue=fe.U),Ue.C=!1,tt.C=!0,Ro(this,tt))),Ue=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Se=fe.U,Ue,tt=fe.L,at=fe.R,ct,Lt;if(tt?at?ct=kl(at):ct=tt:ct=at,Se?Se.L===fe?Se.L=ct:Se.R=ct:this._=ct,tt&&at?(Lt=ct.C,ct.C=fe.C,ct.L=tt,tt.U=ct,ct!==at?(Se=ct.U,ct.U=fe.U,fe=ct.R,Se.L=fe,ct.R=at,at.U=ct):(ct.U=Se,Se=ct,fe=ct.R)):(Lt=fe.C,fe=ct),fe&&(fe.U=Se),!Lt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Se.L){if(Ue=Se.R,Ue.C&&(Ue.C=!1,Se.C=!0,Ro(this,Se),Ue=Se.R),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.R||!Ue.R.C)&&(Ue.L.C=!1,Ue.C=!0,no(this,Ue),Ue=Se.R),Ue.C=Se.C,Se.C=Ue.R.C=!1,Ro(this,Se),fe=this._;break}}else if(Ue=Se.L,Ue.C&&(Ue.C=!1,Se.C=!0,no(this,Se),Ue=Se.L),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.L||!Ue.L.C)&&(Ue.R.C=!1,Ue.C=!0,Ro(this,Ue),Ue=Se.L),Ue.C=Se.C,Se.C=Ue.L.C=!1,no(this,Se),fe=this._;break}Ue.C=!0,fe=Se,Se=Se.U}while(!fe.C);fe&&(fe.C=!1)}}};function Ro(fe,Se){var Ue=Se,tt=Se.R,at=Ue.U;at?at.L===Ue?at.L=tt:at.R=tt:fe._=tt,tt.U=at,Ue.U=tt,Ue.R=tt.L,Ue.R&&(Ue.R.U=Ue),tt.L=Ue}function no(fe,Se){var Ue=Se,tt=Se.L,at=Ue.U;at?at.L===Ue?at.L=tt:at.R=tt:fe._=tt,tt.U=at,Ue.U=tt,Ue.L=tt.R,Ue.L&&(Ue.L.U=Ue),tt.R=Ue}function kl(fe){for(;fe.L;)fe=fe.L;return fe}function wf(fe,Se){var Ue=fe.sort(ac).pop(),tt,at,ct;for(xn=[],bn=new Array(fe.length),Bn=new ii,Ia=new ii;;)if(ct=ha,Ue&&(!ct||Ue.y<ct.y||Ue.y===ct.y&&Ue.x<ct.x))(Ue.x!==tt||Ue.y!==at)&&(bn[Ue.i]=new Er(Ue),Rn(Ue),tt=Ue.x,at=Ue.y),Ue=fe.pop();else if(ct)yn(ct.arc);else break;Se&&(Nn(Se),Zr(Se));var Lt={cells:bn,edges:xn};return Bn=Ia=xn=bn=null,Lt}function ac(fe,Se){return Se.y-fe.y||Se.x-fe.x}i.geom.voronoi=function(fe){var Se=xa,Ue=ca,tt=Se,at=Ue,ct=ti;if(fe)return Lt(fe);function Lt(Vt){var Wt=new Array(Vt.length),tr=ct[0][0],Cr=ct[0][1],Lr=ct[1][0],qr=ct[1][1];return wf(At(Vt),ct).cells.forEach(function(an,Rr){var Ur=an.edges,Kr=an.site,cn=Wt[Rr]=Ur.length?Ur.map(function(dn){var tn=dn.start();return[tn.x,tn.y]}):Kr.x>=tr&&Kr.x<=Lr&&Kr.y>=Cr&&Kr.y<=qr?[[tr,qr],[Lr,qr],[Lr,Cr],[tr,Cr]]:[];cn.point=Vt[Rr]}),Wt}function At(Vt){return Vt.map(function(Wt,tr){return{x:Math.round(tt(Wt,tr)/Xe)*Xe,y:Math.round(at(Wt,tr)/Xe)*Xe,i:tr}})}return Lt.links=function(Vt){return wf(At(Vt)).edges.filter(function(Wt){return Wt.l&&Wt.r}).map(function(Wt){return{source:Vt[Wt.l.i],target:Vt[Wt.r.i]}})},Lt.triangles=function(Vt){var Wt=[];return wf(At(Vt)).cells.forEach(function(tr,Cr){for(var Lr=tr.site,qr=tr.edges.sort(Hr),an=-1,Rr=qr.length,Ur,Kr=qr[Rr-1].edge,cn=Kr.l===Lr?Kr.r:Kr.l;++an<Rr;)Ur=cn,Kr=qr[an].edge,cn=Kr.l===Lr?Kr.r:Kr.l,Cr<Ur.i&&Cr<cn.i&&cu(Lr,Ur,cn)<0&&Wt.push([Vt[Cr],Vt[Ur.i],Vt[cn.i]])}),Wt},Lt.x=function(Vt){return arguments.length?(tt=Wr(Se=Vt),Lt):Se},Lt.y=function(Vt){return arguments.length?(at=Wr(Ue=Vt),Lt):Ue},Lt.clipExtent=function(Vt){return arguments.length?(ct=Vt??ti,Lt):ct===ti?null:ct},Lt.size=function(Vt){return arguments.length?Lt.clipExtent(Vt&&[[0,0],Vt]):ct===ti?null:ct&&ct[1]},Lt};var ti=[[-1e6,-1e6],[1e6,1e6]];function cu(fe,Se,Ue){return(fe.x-Ue.x)*(Se.y-fe.y)-(fe.x-Se.x)*(Ue.y-fe.y)}i.geom.delaunay=function(fe){return i.geom.voronoi().triangles(fe)},i.geom.quadtree=function(fe,Se,Ue,tt,at){var ct=xa,Lt=ca,At;if(At=arguments.length)return ct=Tf,Lt=Qi,At===3&&(at=Ue,tt=Se,Ue=Se=0),Vt(fe);function Vt(Wt){var tr,Cr=Wr(ct),Lr=Wr(Lt),qr,an,Rr,Ur,Kr,cn,dn,tn;if(Se!=null)Kr=Se,cn=Ue,dn=tt,tn=at;else if(dn=tn=-(Kr=cn=1/0),qr=[],an=[],Ur=Wt.length,At)for(Rr=0;Rr<Ur;++Rr)tr=Wt[Rr],tr.x<Kr&&(Kr=tr.x),tr.y<cn&&(cn=tr.y),tr.x>dn&&(dn=tr.x),tr.y>tn&&(tn=tr.y),qr.push(tr.x),an.push(tr.y);else for(Rr=0;Rr<Ur;++Rr){var Hn=+Cr(tr=Wt[Rr],Rr),ea=+Lr(tr,Rr);Hn<Kr&&(Kr=Hn),ea<cn&&(cn=ea),Hn>dn&&(dn=Hn),ea>tn&&(tn=ea),qr.push(Hn),an.push(ea)}var la=dn-Kr,$n=tn-cn;la>$n?tn=cn+la:dn=Kr+$n;function aa(Ma,Fa,oi,Bi,hi,Qn,Va,Aa){if(!(isNaN(oi)||isNaN(Bi)))if(Ma.leaf){var Ka=Ma.x,Ti=Ma.y;if(Ka!=null)if(d(Ka-oi)+d(Ti-Bi)<.01)ua(Ma,Fa,oi,Bi,hi,Qn,Va,Aa);else{var si=Ma.point;Ma.x=Ma.y=Ma.point=null,ua(Ma,si,Ka,Ti,hi,Qn,Va,Aa),ua(Ma,Fa,oi,Bi,hi,Qn,Va,Aa)}else Ma.x=oi,Ma.y=Bi,Ma.point=Fa}else ua(Ma,Fa,oi,Bi,hi,Qn,Va,Aa)}function ua(Ma,Fa,oi,Bi,hi,Qn,Va,Aa){var Ka=(hi+Va)*.5,Ti=(Qn+Aa)*.5,si=oi>=Ka,eo=Bi>=Ti,to=eo<<1|si;Ma.leaf=!1,Ma=Ma.nodes[to]||(Ma.nodes[to]=To()),si?hi=Ka:Va=Ka,eo?Qn=Ti:Aa=Ti,aa(Ma,Fa,oi,Bi,hi,Qn,Va,Aa)}var Ba=To();if(Ba.add=function(Ma){aa(Ba,Ma,+Cr(Ma,++Rr),+Lr(Ma,Rr),Kr,cn,dn,tn)},Ba.visit=function(Ma){Fl(Ma,Ba,Kr,cn,dn,tn)},Ba.find=function(Ma){return Zu(Ba,Ma[0],Ma[1],Kr,cn,dn,tn)},Rr=-1,Se==null){for(;++Rr<Ur;)aa(Ba,Wt[Rr],qr[Rr],an[Rr],Kr,cn,dn,tn);--Rr}else Wt.forEach(Ba.add);return qr=an=Wt=tr=null,Ba}return Vt.x=function(Wt){return arguments.length?(ct=Wt,Vt):ct},Vt.y=function(Wt){return arguments.length?(Lt=Wt,Vt):Lt},Vt.extent=function(Wt){return arguments.length?(Wt==null?Se=Ue=tt=at=null:(Se=+Wt[0][0],Ue=+Wt[0][1],tt=+Wt[1][0],at=+Wt[1][1]),Vt):Se==null?null:[[Se,Ue],[tt,at]]},Vt.size=function(Wt){return arguments.length?(Wt==null?Se=Ue=tt=at=null:(Se=Ue=0,tt=+Wt[0],at=+Wt[1]),Vt):Se==null?null:[tt-Se,at-Ue]},Vt};function Tf(fe){return fe.x}function Qi(fe){return fe.y}function To(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Fl(fe,Se,Ue,tt,at,ct){if(!fe(Se,Ue,tt,at,ct)){var Lt=(Ue+at)*.5,At=(tt+ct)*.5,Vt=Se.nodes;Vt[0]&&Fl(fe,Vt[0],Ue,tt,Lt,At),Vt[1]&&Fl(fe,Vt[1],Lt,tt,at,At),Vt[2]&&Fl(fe,Vt[2],Ue,At,Lt,ct),Vt[3]&&Fl(fe,Vt[3],Lt,At,at,ct)}}function Zu(fe,Se,Ue,tt,at,ct,Lt){var At=1/0,Vt;return function Wt(tr,Cr,Lr,qr,an){if(!(Cr>ct||Lr>Lt||qr<tt||an<at)){if(Rr=tr.point){var Rr,Ur=Se-tr.x,Kr=Ue-tr.y,cn=Ur*Ur+Kr*Kr;if(cn<At){var dn=Math.sqrt(At=cn);tt=Se-dn,at=Ue-dn,ct=Se+dn,Lt=Ue+dn,Vt=Rr}}for(var tn=tr.nodes,Hn=(Cr+qr)*.5,ea=(Lr+an)*.5,la=Se>=Hn,$n=Ue>=ea,aa=$n<<1|la,ua=aa+4;aa<ua;++aa)if(tr=tn[aa&3])switch(aa&3){case 0:Wt(tr,Cr,Lr,Hn,ea);break;case 1:Wt(tr,Hn,Lr,qr,ea);break;case 2:Wt(tr,Cr,ea,Hn,an);break;case 3:Wt(tr,Hn,ea,qr,an);break}}}(fe,tt,at,ct,Lt),Vt}i.interpolateRgb=Fi;function Fi(fe,Se){fe=i.rgb(fe),Se=i.rgb(Se);var Ue=fe.r,tt=fe.g,at=fe.b,ct=Se.r-Ue,Lt=Se.g-tt,At=Se.b-at;return function(Vt){return"#"+vr(Math.round(Ue+ct*Vt))+vr(Math.round(tt+Lt*Vt))+vr(Math.round(at+At*Vt))}}i.interpolateObject=_l;function _l(fe,Se){var Ue={},tt={},at;for(at in fe)at in Se?Ue[at]=io(fe[at],Se[at]):tt[at]=fe[at];for(at in Se)at in fe||(tt[at]=Se[at]);return function(ct){for(at in Ue)tt[at]=Ue[at](ct);return tt}}i.interpolateNumber=Oi;function Oi(fe,Se){return fe=+fe,Se=+Se,function(Ue){return fe*(1-Ue)+Se*Ue}}i.interpolateString=Gi;function Gi(fe,Se){var Ue=zl.lastIndex=ao.lastIndex=0,tt,at,ct,Lt=-1,At=[],Vt=[];for(fe=fe+"",Se=Se+"";(tt=zl.exec(fe))&&(at=ao.exec(Se));)(ct=at.index)>Ue&&(ct=Se.slice(Ue,ct),At[Lt]?At[Lt]+=ct:At[++Lt]=ct),(tt=tt[0])===(at=at[0])?At[Lt]?At[Lt]+=at:At[++Lt]=at:(At[++Lt]=null,Vt.push({i:Lt,x:Oi(tt,at)})),Ue=ao.lastIndex;return Ue<Se.length&&(ct=Se.slice(Ue),At[Lt]?At[Lt]+=ct:At[++Lt]=ct),At.length<2?Vt[0]?(Se=Vt[0].x,function(Wt){return Se(Wt)+""}):function(){return Se}:(Se=Vt.length,function(Wt){for(var tr=0,Cr;tr<Se;++tr)At[(Cr=Vt[tr]).i]=Cr.x(Wt);return At.join("")})}var zl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ao=new RegExp(zl.source,"g");i.interpolate=io;function io(fe,Se){for(var Ue=i.interpolators.length,tt;--Ue>=0&&!(tt=i.interpolators[Ue](fe,Se)););return tt}i.interpolators=[function(fe,Se){var Ue=typeof Se;return(Ue==="string"?ln.has(Se.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Se)?Fi:Gi:Se instanceof mt?Fi:Array.isArray(Se)?No:Ue==="object"&&isNaN(Se)?_l:Oi)(fe,Se)}],i.interpolateArray=No;function No(fe,Se){var Ue=[],tt=[],at=fe.length,ct=Se.length,Lt=Math.min(fe.length,Se.length),At;for(At=0;At<Lt;++At)Ue.push(io(fe[At],Se[At]));for(;At<at;++At)tt[At]=fe[At];for(;At<ct;++At)tt[At]=Se[At];return function(Vt){for(At=0;At<Lt;++At)tt[At]=Ue[At](Vt);return tt}}var ic=function(){return O},Do=i.map({linear:ic,poly:oc,quad:function(){return Xs},cubic:function(){return ys},sin:function(){return hh},exp:function(){return Ku},circle:function(){return vh},elastic:dh,back:ph,bounce:function(){return Mf}}),ch=i.map({in:O,out:$i,"in-out":Af,"out-in":function(fe){return Af($i(fe))}});i.ease=function(fe){var Se=fe.indexOf("-"),Ue=Se>=0?fe.slice(0,Se):fe,tt=Se>=0?fe.slice(Se+1):"in";return Ue=Do.get(Ue)||ic,tt=ch.get(tt)||O,gs(tt(Ue.apply(null,L.call(arguments,1))))};function gs(fe){return function(Se){return Se<=0?0:Se>=1?1:fe(Se)}}function $i(fe){return function(Se){return 1-fe(1-Se)}}function Af(fe){return function(Se){return .5*(Se<.5?fe(2*Se):2-fe(2-2*Se))}}function Xs(fe){return fe*fe}function ys(fe){return fe*fe*fe}function Sf(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Se=fe*fe,Ue=Se*fe;return 4*(fe<.5?Ue:3*(fe-Se)+Ue-.75)}function oc(fe){return function(Se){return Math.pow(Se,fe)}}function hh(fe){return 1-Math.cos(fe*et)}function Ku(fe){return Math.pow(2,10*(fe-1))}function vh(fe){return 1-Math.sqrt(1-fe*fe)}function dh(fe,Se){var Ue;return arguments.length<2&&(Se=.45),arguments.length?Ue=Se/xe*Math.asin(1/fe):(fe=1,Ue=Se/4),function(tt){return 1+fe*Math.pow(2,-10*tt)*Math.sin((tt-Ue)*xe/Se)}}function ph(fe){return fe||(fe=1.70158),function(Se){return Se*Se*((fe+1)*Se-fe)}}function Mf(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}i.interpolateHcl=gh;function gh(fe,Se){fe=i.hcl(fe),Se=i.hcl(Se);var Ue=fe.h,tt=fe.c,at=fe.l,ct=Se.h-Ue,Lt=Se.c-tt,At=Se.l-at;return isNaN(Lt)&&(Lt=0,tt=isNaN(tt)?Se.c:tt),isNaN(ct)?(ct=0,Ue=isNaN(Ue)?Se.h:Ue):ct>180?ct-=360:ct<-180&&(ct+=360),function(Vt){return Bt(Ue+ct*Vt,tt+Lt*Vt,at+At*Vt)+""}}i.interpolateHsl=yh;function yh(fe,Se){fe=i.hsl(fe),Se=i.hsl(Se);var Ue=fe.h,tt=fe.s,at=fe.l,ct=Se.h-Ue,Lt=Se.s-tt,At=Se.l-at;return isNaN(Lt)&&(Lt=0,tt=isNaN(tt)?Se.s:tt),isNaN(ct)?(ct=0,Ue=isNaN(Ue)?Se.h:Ue):ct>180?ct-=360:ct<-180&&(ct+=360),function(Vt){return Et(Ue+ct*Vt,tt+Lt*Vt,at+At*Vt)+""}}i.interpolateLab=sc;function sc(fe,Se){fe=i.lab(fe),Se=i.lab(Se);var Ue=fe.l,tt=fe.a,at=fe.b,ct=Se.l-Ue,Lt=Se.a-tt,At=Se.b-at;return function(Vt){return Ve(Ue+ct*Vt,tt+Lt*Vt,at+At*Vt)+""}}i.interpolateRound=lc;function lc(fe,Se){return Se-=fe,function(Ue){return Math.round(fe+Se*Ue)}}i.transform=function(fe){var Se=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Ue){if(Ue!=null){Se.setAttribute("transform",Ue);var tt=Se.transform.baseVal.consolidate()}return new hl(tt?tt.matrix:uc)})(fe)};function hl(fe){var Se=[fe.a,fe.b],Ue=[fe.c,fe.d],tt=hu(Se),at=Ol(Se,Ue),ct=hu(vu(Ue,Se,-at))||0;Se[0]*Ue[1]<Ue[0]*Se[1]&&(Se[0]*=-1,Se[1]*=-1,tt*=-1,at*=-1),this.rotate=(tt?Math.atan2(Se[1],Se[0]):Math.atan2(-Ue[0],Ue[1]))*lt,this.translate=[fe.e,fe.f],this.scale=[tt,ct],this.skew=ct?Math.atan2(at,ct)*lt:0}hl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ol(fe,Se){return fe[0]*Se[0]+fe[1]*Se[1]}function hu(fe){var Se=Math.sqrt(Ol(fe,fe));return Se&&(fe[0]/=Se,fe[1]/=Se),Se}function vu(fe,Se,Ue){return fe[0]+=Ue*Se[0],fe[1]+=Ue*Se[1],fe}var uc={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Qu;function Rs(fe){return fe.length?fe.pop()+",":""}function mh(fe,Se,Ue,tt){if(fe[0]!==Se[0]||fe[1]!==Se[1]){var at=Ue.push("translate(",null,",",null,")");tt.push({i:at-4,x:Oi(fe[0],Se[0])},{i:at-2,x:Oi(fe[1],Se[1])})}else(Se[0]||Se[1])&&Ue.push("translate("+Se+")")}function Ju(fe,Se,Ue,tt){fe!==Se?(fe-Se>180?Se+=360:Se-fe>180&&(fe+=360),tt.push({i:Ue.push(Rs(Ue)+"rotate(",null,")")-2,x:Oi(fe,Se)})):Se&&Ue.push(Rs(Ue)+"rotate("+Se+")")}function fc(fe,Se,Ue,tt){fe!==Se?tt.push({i:Ue.push(Rs(Ue)+"skewX(",null,")")-2,x:Oi(fe,Se)}):Se&&Ue.push(Rs(Ue)+"skewX("+Se+")")}function cc(fe,Se,Ue,tt){if(fe[0]!==Se[0]||fe[1]!==Se[1]){var at=Ue.push(Rs(Ue)+"scale(",null,",",null,")");tt.push({i:at-4,x:Oi(fe[0],Se[0])},{i:at-2,x:Oi(fe[1],Se[1])})}else(Se[0]!==1||Se[1]!==1)&&Ue.push(Rs(Ue)+"scale("+Se+")")}function Qu(fe,Se){var Ue=[],tt=[];return fe=i.transform(fe),Se=i.transform(Se),mh(fe.translate,Se.translate,Ue,tt),Ju(fe.rotate,Se.rotate,Ue,tt),fc(fe.skew,Se.skew,Ue,tt),cc(fe.scale,Se.scale,Ue,tt),fe=Se=null,function(at){for(var ct=-1,Lt=tt.length,At;++ct<Lt;)Ue[(At=tt[ct]).i]=At.x(at);return Ue.join("")}}function qo(fe,Se){return Se=(Se-=fe=+fe)||1/Se,function(Ue){return(Ue-fe)/Se}}function Bl(fe,Se){return Se=(Se-=fe=+fe)||1/Se,function(Ue){return Math.max(0,Math.min(1,(Ue-fe)/Se))}}i.layout={},i.layout.bundle=function(){return function(fe){for(var Se=[],Ue=-1,tt=fe.length;++Ue<tt;)Se.push(vl(fe[Ue]));return Se}};function vl(fe){for(var Se=fe.source,Ue=fe.target,tt=js(Se,Ue),at=[Se];Se!==tt;)Se=Se.parent,at.push(Se);for(var ct=at.length;Ue!==tt;)at.splice(ct,0,Ue),Ue=Ue.parent;return at}function du(fe){for(var Se=[],Ue=fe.parent;Ue!=null;)Se.push(fe),fe=Ue,Ue=Ue.parent;return Se.push(fe),Se}function js(fe,Se){if(fe===Se)return fe;for(var Ue=du(fe),tt=du(Se),at=Ue.pop(),ct=tt.pop(),Lt=null;at===ct;)Lt=at,at=Ue.pop(),ct=tt.pop();return Lt}i.layout.chord=function(){var fe={},Se,Ue,tt,at,ct=0,Lt,At,Vt;function Wt(){var Cr={},Lr=[],qr=i.range(at),an=[],Rr,Ur,Kr,cn,dn;for(Se=[],Ue=[],Rr=0,cn=-1;++cn<at;){for(Ur=0,dn=-1;++dn<at;)Ur+=tt[cn][dn];Lr.push(Ur),an.push(i.range(at)),Rr+=Ur}for(Lt&&qr.sort(function(Ba,Ma){return Lt(Lr[Ba],Lr[Ma])}),At&&an.forEach(function(Ba,Ma){Ba.sort(function(Fa,oi){return At(tt[Ma][Fa],tt[Ma][oi])})}),Rr=(xe-ct*at)/Rr,Ur=0,cn=-1;++cn<at;){for(Kr=Ur,dn=-1;++dn<at;){var tn=qr[cn],Hn=an[tn][dn],ea=tt[tn][Hn],la=Ur,$n=Ur+=ea*Rr;Cr[tn+"-"+Hn]={index:tn,subindex:Hn,startAngle:la,endAngle:$n,value:ea}}Ue[tn]={index:tn,startAngle:Kr,endAngle:Ur,value:Lr[tn]},Ur+=ct}for(cn=-1;++cn<at;)for(dn=cn-1;++dn<at;){var aa=Cr[cn+"-"+dn],ua=Cr[dn+"-"+cn];(aa.value||ua.value)&&Se.push(aa.value<ua.value?{source:ua,target:aa}:{source:aa,target:ua})}Vt&&tr()}function tr(){Se.sort(function(Cr,Lr){return Vt((Cr.source.value+Cr.target.value)/2,(Lr.source.value+Lr.target.value)/2)})}return fe.matrix=function(Cr){return arguments.length?(at=(tt=Cr)&&tt.length,Se=Ue=null,fe):tt},fe.padding=function(Cr){return arguments.length?(ct=Cr,Se=Ue=null,fe):ct},fe.sortGroups=function(Cr){return arguments.length?(Lt=Cr,Se=Ue=null,fe):Lt},fe.sortSubgroups=function(Cr){return arguments.length?(At=Cr,Se=null,fe):At},fe.sortChords=function(Cr){return arguments.length?(Vt=Cr,Se&&tr(),fe):Vt},fe.chords=function(){return Se||Wt(),Se},fe.groups=function(){return Ue||Wt(),Ue},fe},i.layout.force=function(){var fe={},Se=i.dispatch("start","tick","end"),Ue,tt=[1,1],at,ct,Lt=.9,At=Cf,Vt=xh,Wt=-30,tr=$u,Cr=.1,Lr=.64,qr=[],an=[],Rr,Ur,Kr;function cn(tn){return function(Hn,ea,la,$n){if(Hn.point!==tn){var aa=Hn.cx-tn.x,ua=Hn.cy-tn.y,Ba=$n-ea,Ma=aa*aa+ua*ua;if(Ba*Ba/Lr<Ma){if(Ma<tr){var Fa=Hn.charge/Ma;tn.px-=aa*Fa,tn.py-=ua*Fa}return!0}if(Hn.point&&Ma&&Ma<tr){var Fa=Hn.pointCharge/Ma;tn.px-=aa*Fa,tn.py-=ua*Fa}}return!Hn.charge}}fe.tick=function(){if((ct*=.99)<.005)return Ue=null,Se.end({type:"end",alpha:ct=0}),!0;var tn=qr.length,Hn=an.length,ea,la,$n,aa,ua,Ba,Ma,Fa,oi;for(la=0;la<Hn;++la)$n=an[la],aa=$n.source,ua=$n.target,Fa=ua.x-aa.x,oi=ua.y-aa.y,(Ba=Fa*Fa+oi*oi)&&(Ba=ct*Ur[la]*((Ba=Math.sqrt(Ba))-Rr[la])/Ba,Fa*=Ba,oi*=Ba,ua.x-=Fa*(Ma=aa.weight+ua.weight?aa.weight/(aa.weight+ua.weight):.5),ua.y-=oi*Ma,aa.x+=Fa*(Ma=1-Ma),aa.y+=oi*Ma);if((Ma=ct*Cr)&&(Fa=tt[0]/2,oi=tt[1]/2,la=-1,Ma))for(;++la<tn;)$n=qr[la],$n.x+=(Fa-$n.x)*Ma,$n.y+=(oi-$n.y)*Ma;if(Wt)for(Di(ea=i.geom.quadtree(qr),ct,Kr),la=-1;++la<tn;)($n=qr[la]).fixed||ea.visit(cn($n));for(la=-1;++la<tn;)$n=qr[la],$n.fixed?($n.x=$n.px,$n.y=$n.py):($n.x-=($n.px-($n.px=$n.x))*Lt,$n.y-=($n.py-($n.py=$n.y))*Lt);Se.tick({type:"tick",alpha:ct})},fe.nodes=function(tn){return arguments.length?(qr=tn,fe):qr},fe.links=function(tn){return arguments.length?(an=tn,fe):an},fe.size=function(tn){return arguments.length?(tt=tn,fe):tt},fe.linkDistance=function(tn){return arguments.length?(At=typeof tn=="function"?tn:+tn,fe):At},fe.distance=fe.linkDistance,fe.linkStrength=function(tn){return arguments.length?(Vt=typeof tn=="function"?tn:+tn,fe):Vt},fe.friction=function(tn){return arguments.length?(Lt=+tn,fe):Lt},fe.charge=function(tn){return arguments.length?(Wt=typeof tn=="function"?tn:+tn,fe):Wt},fe.chargeDistance=function(tn){return arguments.length?(tr=tn*tn,fe):Math.sqrt(tr)},fe.gravity=function(tn){return arguments.length?(Cr=+tn,fe):Cr},fe.theta=function(tn){return arguments.length?(Lr=tn*tn,fe):Math.sqrt(Lr)},fe.alpha=function(tn){return arguments.length?(tn=+tn,ct?tn>0?ct=tn:(Ue.c=null,Ue.t=NaN,Ue=null,Se.end({type:"end",alpha:ct=0})):tn>0&&(Se.start({type:"start",alpha:ct=tn}),Ue=Ln(fe.tick)),fe):ct},fe.start=function(){var tn,Hn=qr.length,ea=an.length,la=tt[0],$n=tt[1],aa,ua;for(tn=0;tn<Hn;++tn)(ua=qr[tn]).index=tn,ua.weight=0;for(tn=0;tn<ea;++tn)ua=an[tn],typeof ua.source=="number"&&(ua.source=qr[ua.source]),typeof ua.target=="number"&&(ua.target=qr[ua.target]),++ua.source.weight,++ua.target.weight;for(tn=0;tn<Hn;++tn)ua=qr[tn],isNaN(ua.x)&&(ua.x=Ba("x",la)),isNaN(ua.y)&&(ua.y=Ba("y",$n)),isNaN(ua.px)&&(ua.px=ua.x),isNaN(ua.py)&&(ua.py=ua.y);if(Rr=[],typeof At=="function")for(tn=0;tn<ea;++tn)Rr[tn]=+At.call(this,an[tn],tn);else for(tn=0;tn<ea;++tn)Rr[tn]=At;if(Ur=[],typeof Vt=="function")for(tn=0;tn<ea;++tn)Ur[tn]=+Vt.call(this,an[tn],tn);else for(tn=0;tn<ea;++tn)Ur[tn]=Vt;if(Kr=[],typeof Wt=="function")for(tn=0;tn<Hn;++tn)Kr[tn]=+Wt.call(this,qr[tn],tn);else for(tn=0;tn<Hn;++tn)Kr[tn]=Wt;function Ba(Ma,Fa){if(!aa){for(aa=new Array(Hn),hi=0;hi<Hn;++hi)aa[hi]=[];for(hi=0;hi<ea;++hi){var oi=an[hi];aa[oi.source.index].push(oi.target),aa[oi.target.index].push(oi.source)}}for(var Bi=aa[tn],hi=-1,Qn=Bi.length,Va;++hi<Qn;)if(!isNaN(Va=Bi[hi][Ma]))return Va;return Math.random()*Fa}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(at||(at=i.behavior.drag().origin(O).on("dragstart.force",ms).on("drag.force",dn).on("dragend.force",Ef)),!arguments.length)return at;this.on("mouseover.force",Nl).on("mouseout.force",es).call(at)};function dn(tn){tn.px=i.event.x,tn.py=i.event.y,fe.resume()}return i.rebind(fe,Se,"on")};function ms(fe){fe.fixed|=2}function Ef(fe){fe.fixed&=-7}function Nl(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function es(fe){fe.fixed&=-5}function Di(fe,Se,Ue){var tt=0,at=0;if(fe.charge=0,!fe.leaf)for(var ct=fe.nodes,Lt=ct.length,At=-1,Vt;++At<Lt;)Vt=ct[At],Vt!=null&&(Di(Vt,Se,Ue),fe.charge+=Vt.charge,tt+=Vt.charge*Vt.cx,at+=Vt.charge*Vt.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Wt=Se*Ue[fe.point.index];fe.charge+=fe.pointCharge=Wt,tt+=Wt*fe.point.x,at+=Wt*fe.point.y}fe.cx=tt/fe.charge,fe.cy=at/fe.charge}var Cf=20,xh=1,$u=1/0;i.layout.hierarchy=function(){var fe=ef,Se=qu,Ue=Hl;function tt(at){var ct=[at],Lt=[],At;for(at.depth=0;(At=ct.pop())!=null;)if(Lt.push(At),(Wt=Se.call(tt,At,At.depth))&&(Vt=Wt.length)){for(var Vt,Wt,tr;--Vt>=0;)ct.push(tr=Wt[Vt]),tr.parent=At,tr.depth=At.depth+1;Ue&&(At.value=0),At.children=Wt}else Ue&&(At.value=+Ue.call(tt,At,At.depth)||0),delete At.children;return Io(at,function(Cr){var Lr,qr;fe&&(Lr=Cr.children)&&Lr.sort(fe),Ue&&(qr=Cr.parent)&&(qr.value+=Cr.value)}),Lt}return tt.sort=function(at){return arguments.length?(fe=at,tt):fe},tt.children=function(at){return arguments.length?(Se=at,tt):Se},tt.value=function(at){return arguments.length?(Ue=at,tt):Ue},tt.revalue=function(at){return Ue&&(Vl(at,function(ct){ct.children&&(ct.value=0)}),Io(at,function(ct){var Lt;ct.children||(ct.value=+Ue.call(tt,ct,ct.depth)||0),(Lt=ct.parent)&&(Lt.value+=ct.value)})),at},tt};function Ul(fe,Se){return i.rebind(fe,Se,"sort","children","value"),fe.nodes=fe,fe.links=bh,fe}function Vl(fe,Se){for(var Ue=[fe];(fe=Ue.pop())!=null;)if(Se(fe),(at=fe.children)&&(tt=at.length))for(var tt,at;--tt>=0;)Ue.push(at[tt])}function Io(fe,Se){for(var Ue=[fe],tt=[];(fe=Ue.pop())!=null;)if(tt.push(fe),(Lt=fe.children)&&(ct=Lt.length))for(var at=-1,ct,Lt;++at<ct;)Ue.push(Lt[at]);for(;(fe=tt.pop())!=null;)Se(fe)}function qu(fe){return fe.children}function Hl(fe){return fe.value}function ef(fe,Se){return Se.value-fe.value}function bh(fe){return i.merge(fe.map(function(Se){return(Se.children||[]).map(function(Ue){return{source:Se,target:Ue}})}))}i.layout.partition=function(){var fe=i.layout.hierarchy(),Se=[1,1];function Ue(ct,Lt,At,Vt){var Wt=ct.children;if(ct.x=Lt,ct.y=ct.depth*Vt,ct.dx=At,ct.dy=Vt,Wt&&(Cr=Wt.length)){var tr=-1,Cr,Lr,qr;for(At=ct.value?At/ct.value:0;++tr<Cr;)Ue(Lr=Wt[tr],Lt,qr=Lr.value*At,Vt),Lt+=qr}}function tt(ct){var Lt=ct.children,At=0;if(Lt&&(Wt=Lt.length))for(var Vt=-1,Wt;++Vt<Wt;)At=Math.max(At,tt(Lt[Vt]));return 1+At}function at(ct,Lt){var At=fe.call(this,ct,Lt);return Ue(At[0],0,Se[0],Se[1]/tt(At[0])),At}return at.size=function(ct){return arguments.length?(Se=ct,at):Se},Ul(at,fe)},i.layout.pie=function(){var fe=Number,Se=hc,Ue=0,tt=xe,at=0;function ct(Lt){var At=Lt.length,Vt=Lt.map(function(cn,dn){return+fe.call(ct,cn,dn)}),Wt=+(typeof Ue=="function"?Ue.apply(this,arguments):Ue),tr=(typeof tt=="function"?tt.apply(this,arguments):tt)-Wt,Cr=Math.min(Math.abs(tr)/At,+(typeof at=="function"?at.apply(this,arguments):at)),Lr=Cr*(tr<0?-1:1),qr=i.sum(Vt),an=qr?(tr-At*Lr)/qr:0,Rr=i.range(At),Ur=[],Kr;return Se!=null&&Rr.sort(Se===hc?function(cn,dn){return Vt[dn]-Vt[cn]}:function(cn,dn){return Se(Lt[cn],Lt[dn])}),Rr.forEach(function(cn){Ur[cn]={data:Lt[cn],value:Kr=Vt[cn],startAngle:Wt,endAngle:Wt+=Kr*an+Lr,padAngle:Cr}}),Ur}return ct.value=function(Lt){return arguments.length?(fe=Lt,ct):fe},ct.sort=function(Lt){return arguments.length?(Se=Lt,ct):Se},ct.startAngle=function(Lt){return arguments.length?(Ue=Lt,ct):Ue},ct.endAngle=function(Lt){return arguments.length?(tt=Lt,ct):tt},ct.padAngle=function(Lt){return arguments.length?(at=Lt,ct):at},ct};var hc={};i.layout.stack=function(){var fe=O,Se=pu,Ue=rf,tt=Rf,at=Lf,ct=Pf;function Lt(At,Vt){if(!(an=At.length))return At;var Wt=At.map(function(cn,dn){return fe.call(Lt,cn,dn)}),tr=Wt.map(function(cn){return cn.map(function(dn,tn){return[at.call(Lt,dn,tn),ct.call(Lt,dn,tn)]})}),Cr=Se.call(Lt,tr,Vt);Wt=i.permute(Wt,Cr),tr=i.permute(tr,Cr);var Lr=Ue.call(Lt,tr,Vt),qr=Wt[0].length,an,Rr,Ur,Kr;for(Ur=0;Ur<qr;++Ur)for(tt.call(Lt,Wt[0][Ur],Kr=Lr[Ur],tr[0][Ur][1]),Rr=1;Rr<an;++Rr)tt.call(Lt,Wt[Rr][Ur],Kr+=tr[Rr-1][Ur][1],tr[Rr][Ur][1]);return At}return Lt.values=function(At){return arguments.length?(fe=At,Lt):fe},Lt.order=function(At){return arguments.length?(Se=typeof At=="function"?At:Gl.get(At)||pu,Lt):Se},Lt.offset=function(At){return arguments.length?(Ue=typeof At=="function"?At:tf.get(At)||rf,Lt):Ue},Lt.x=function(At){return arguments.length?(at=At,Lt):at},Lt.y=function(At){return arguments.length?(ct=At,Lt):ct},Lt.out=function(At){return arguments.length?(tt=At,Lt):tt},Lt};function Lf(fe){return fe.x}function Pf(fe){return fe.y}function Rf(fe,Se,Ue){fe.y0=Se,fe.y=Ue}var Gl=i.map({"inside-out":function(fe){var Se=fe.length,Ue,tt,at=fe.map(mi),ct=fe.map(vc),Lt=i.range(Se).sort(function(Cr,Lr){return at[Cr]-at[Lr]}),At=0,Vt=0,Wt=[],tr=[];for(Ue=0;Ue<Se;++Ue)tt=Lt[Ue],At<Vt?(At+=ct[tt],Wt.push(tt)):(Vt+=ct[tt],tr.push(tt));return tr.reverse().concat(Wt)},reverse:function(fe){return i.range(fe.length).reverse()},default:pu}),tf=i.map({silhouette:function(fe){var Se=fe.length,Ue=fe[0].length,tt=[],at=0,ct,Lt,At,Vt=[];for(Lt=0;Lt<Ue;++Lt){for(ct=0,At=0;ct<Se;ct++)At+=fe[ct][Lt][1];At>at&&(at=At),tt.push(At)}for(Lt=0;Lt<Ue;++Lt)Vt[Lt]=(at-tt[Lt])/2;return Vt},wiggle:function(fe){var Se=fe.length,Ue=fe[0],tt=Ue.length,at,ct,Lt,At,Vt,Wt,tr,Cr,Lr,qr=[];for(qr[0]=Cr=Lr=0,ct=1;ct<tt;++ct){for(at=0,At=0;at<Se;++at)At+=fe[at][ct][1];for(at=0,Vt=0,tr=Ue[ct][0]-Ue[ct-1][0];at<Se;++at){for(Lt=0,Wt=(fe[at][ct][1]-fe[at][ct-1][1])/(2*tr);Lt<at;++Lt)Wt+=(fe[Lt][ct][1]-fe[Lt][ct-1][1])/tr;Vt+=Wt*fe[at][ct][1]}qr[ct]=Cr-=At?Vt/At*tr:0,Cr<Lr&&(Lr=Cr)}for(ct=0;ct<tt;++ct)qr[ct]-=Lr;return qr},expand:function(fe){var Se=fe.length,Ue=fe[0].length,tt=1/Se,at,ct,Lt,At=[];for(ct=0;ct<Ue;++ct){for(at=0,Lt=0;at<Se;at++)Lt+=fe[at][ct][1];if(Lt)for(at=0;at<Se;at++)fe[at][ct][1]/=Lt;else for(at=0;at<Se;at++)fe[at][ct][1]=tt}for(ct=0;ct<Ue;++ct)At[ct]=0;return At},zero:rf});function pu(fe){return i.range(fe.length)}function rf(fe){for(var Se=-1,Ue=fe[0].length,tt=[];++Se<Ue;)tt[Se]=0;return tt}function mi(fe){for(var Se=1,Ue=0,tt=fe[0][1],at,ct=fe.length;Se<ct;++Se)(at=fe[Se][1])>tt&&(Ue=Se,tt=at);return Ue}function vc(fe){return fe.reduce(ts,0)}function ts(fe,Se){return fe+Se[1]}i.layout.histogram=function(){var fe=!0,Se=Number,Ue=dl,tt=dc;function at(ct,Lr){for(var At=[],Vt=ct.map(Se,this),Wt=Ue.call(this,Vt,Lr),tr=tt.call(this,Wt,Vt,Lr),Cr,Lr=-1,qr=Vt.length,an=tr.length-1,Rr=fe?1:1/qr,Ur;++Lr<an;)Cr=At[Lr]=[],Cr.dx=tr[Lr+1]-(Cr.x=tr[Lr]),Cr.y=0;if(an>0)for(Lr=-1;++Lr<qr;)Ur=Vt[Lr],Ur>=Wt[0]&&Ur<=Wt[1]&&(Cr=At[i.bisect(tr,Ur,1,an)-1],Cr.y+=Rr,Cr.push(ct[Lr]));return At}return at.value=function(ct){return arguments.length?(Se=ct,at):Se},at.range=function(ct){return arguments.length?(Ue=Wr(ct),at):Ue},at.bins=function(ct){return arguments.length?(tt=typeof ct=="number"?function(Lt){return Df(Lt,ct)}:Wr(ct),at):tt},at.frequency=function(ct){return arguments.length?(fe=!!ct,at):fe},at};function dc(fe,Se){return Df(fe,Math.ceil(Math.log(Se.length)/Math.LN2+1))}function Df(fe,Se){for(var Ue=-1,tt=+fe[0],at=(fe[1]-tt)/Se,ct=[];++Ue<=Se;)ct[Ue]=at*Ue+tt;return ct}function dl(fe){return[i.min(fe),i.max(fe)]}i.layout.pack=function(){var fe=i.layout.hierarchy().sort(Zs),Se=0,Ue=[1,1],tt;function at(ct,Lt){var At=fe.call(this,ct,Lt),Vt=At[0],Wt=Ue[0],tr=Ue[1],Cr=tt==null?Math.sqrt:typeof tt=="function"?tt:function(){return tt};if(Vt.x=Vt.y=0,Io(Vt,function(qr){qr.r=+Cr(qr.value)}),Io(Vt,rs),Se){var Lr=Se*(tt?1:Math.max(2*Vt.r/Wt,2*Vt.r/tr))/2;Io(Vt,function(qr){qr.r+=Lr}),Io(Vt,rs),Io(Vt,function(qr){qr.r-=Lr})}return Ks(Vt,Wt/2,tr/2,tt?1:1/Math.max(2*Vt.r/Wt,2*Vt.r/tr)),At}return at.size=function(ct){return arguments.length?(Ue=ct,at):Ue},at.radius=function(ct){return arguments.length?(tt=ct==null||typeof ct=="function"?ct:+ct,at):tt},at.padding=function(ct){return arguments.length?(Se=+ct,at):Se},Ul(at,fe)};function Zs(fe,Se){return fe.value-Se.value}function nf(fe,Se){var Ue=fe._pack_next;fe._pack_next=Se,Se._pack_prev=fe,Se._pack_next=Ue,Ue._pack_prev=Se}function _i(fe,Se){fe._pack_next=Se,Se._pack_prev=fe}function gu(fe,Se){var Ue=Se.x-fe.x,tt=Se.y-fe.y,at=fe.r+Se.r;return .999*at*at>Ue*Ue+tt*tt}function rs(fe){if(!(Se=fe.children)||!(Lr=Se.length))return;var Se,Ue=1/0,tt=-1/0,at=1/0,ct=-1/0,Lt,At,Vt,Wt,tr,Cr,Lr;function qr(tn){Ue=Math.min(tn.x-tn.r,Ue),tt=Math.max(tn.x+tn.r,tt),at=Math.min(tn.y-tn.r,at),ct=Math.max(tn.y+tn.r,ct)}if(Se.forEach(Ds),Lt=Se[0],Lt.x=-Lt.r,Lt.y=0,qr(Lt),Lr>1&&(At=Se[1],At.x=At.r,At.y=0,qr(At),Lr>2))for(Vt=Se[2],ns(Lt,At,Vt),qr(Vt),nf(Lt,Vt),Lt._pack_prev=Vt,nf(Vt,At),At=Lt._pack_next,Wt=3;Wt<Lr;Wt++){ns(Lt,At,Vt=Se[Wt]);var an=0,Rr=1,Ur=1;for(tr=At._pack_next;tr!==At;tr=tr._pack_next,Rr++)if(gu(tr,Vt)){an=1;break}if(an==1)for(Cr=Lt._pack_prev;Cr!==tr._pack_prev&&!gu(Cr,Vt);Cr=Cr._pack_prev,Ur++);an?(Rr<Ur||Rr==Ur&&At.r<Lt.r?_i(Lt,At=tr):_i(Lt=Cr,At),Wt--):(nf(Lt,Vt),At=Vt,qr(Vt))}var Kr=(Ue+tt)/2,cn=(at+ct)/2,dn=0;for(Wt=0;Wt<Lr;Wt++)Vt=Se[Wt],Vt.x-=Kr,Vt.y-=cn,dn=Math.max(dn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));fe.r=dn,Se.forEach(pl)}function Ds(fe){fe._pack_next=fe._pack_prev=fe}function pl(fe){delete fe._pack_next,delete fe._pack_prev}function Ks(fe,Se,Ue,tt){var at=fe.children;if(fe.x=Se+=tt*fe.x,fe.y=Ue+=tt*fe.y,fe.r*=tt,at)for(var ct=-1,Lt=at.length;++ct<Lt;)Ks(at[ct],Se,Ue,tt)}function ns(fe,Se,Ue){var tt=fe.r+Ue.r,at=Se.x-fe.x,ct=Se.y-fe.y;if(tt&&(at||ct)){var Lt=Se.r+Ue.r,At=at*at+ct*ct;Lt*=Lt,tt*=tt;var Vt=.5+(tt-Lt)/(2*At),Wt=Math.sqrt(Math.max(0,2*Lt*(tt+At)-(tt-=At)*tt-Lt*Lt))/(2*At);Ue.x=fe.x+Vt*at+Wt*ct,Ue.y=fe.y+Vt*ct-Wt*at}else Ue.x=fe.x+tt,Ue.y=fe.y}i.layout.tree=function(){var fe=i.layout.hierarchy().sort(null).value(null),Se=Is,Ue=[1,1],tt=null;function at(tr,Cr){var Lr=fe.call(this,tr,Cr),qr=Lr[0],an=ct(qr);if(Io(an,Lt),an.parent.m=-an.z,Vl(an,At),tt)Vl(qr,Wt);else{var Rr=qr,Ur=qr,Kr=qr;Vl(qr,function(Hn){Hn.x<Rr.x&&(Rr=Hn),Hn.x>Ur.x&&(Ur=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var cn=Se(Rr,Ur)/2-Rr.x,dn=Ue[0]/(Ur.x+Se(Ur,Rr)/2+cn),tn=Ue[1]/(Kr.depth||1);Vl(qr,function(Hn){Hn.x=(Hn.x+cn)*dn,Hn.y=Hn.depth*tn})}return Lr}function ct(tr){for(var Cr={A:null,children:[tr]},Lr=[Cr],qr;(qr=Lr.pop())!=null;)for(var an=qr.children,Rr,Ur=0,Kr=an.length;Ur<Kr;++Ur)Lr.push((an[Ur]=Rr={_:an[Ur],parent:qr,children:(Rr=an[Ur].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Rr);return Cr.children[0]}function Lt(tr){var Cr=tr.children,Lr=tr.parent.children,qr=tr.i?Lr[tr.i-1]:null;if(Cr.length){wh(tr);var an=(Cr[0].z+Cr[Cr.length-1].z)/2;qr?(tr.z=qr.z+Se(tr._,qr._),tr.m=tr.z-an):tr.z=an}else qr&&(tr.z=qr.z+Se(tr._,qr._));tr.parent.A=Vt(tr,qr,tr.parent.A||Lr[0])}function At(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Vt(tr,Cr,Lr){if(Cr){for(var qr=tr,an=tr,Rr=Cr,Ur=qr.parent.children[0],Kr=qr.m,cn=an.m,dn=Rr.m,tn=Ur.m,Hn;Rr=Xo(Rr),qr=as(qr),Rr&&qr;)Ur=as(Ur),an=Xo(an),an.a=tr,Hn=Rr.z+dn-qr.z-Kr+Se(Rr._,qr._),Hn>0&&(yu(Th(Rr,tr,Lr),tr,Hn),Kr+=Hn,cn+=Hn),dn+=Rr.m,Kr+=qr.m,tn+=Ur.m,cn+=an.m;Rr&&!Xo(an)&&(an.t=Rr,an.m+=dn-cn),qr&&!as(Ur)&&(Ur.t=qr,Ur.m+=Kr-tn,Lr=tr)}return Lr}function Wt(tr){tr.x*=Ue[0],tr.y=tr.depth*Ue[1]}return at.separation=function(tr){return arguments.length?(Se=tr,at):Se},at.size=function(tr){return arguments.length?(tt=(Ue=tr)==null?Wt:null,at):tt?null:Ue},at.nodeSize=function(tr){return arguments.length?(tt=(Ue=tr)==null?null:Wt,at):tt?Ue:null},Ul(at,fe)};function Is(fe,Se){return fe.parent==Se.parent?1:2}function as(fe){var Se=fe.children;return Se.length?Se[0]:fe.t}function Xo(fe){var Se=fe.children,Ue;return(Ue=Se.length)?Se[Ue-1]:fe.t}function yu(fe,Se,Ue){var tt=Ue/(Se.i-fe.i);Se.c-=tt,Se.s+=Ue,fe.c+=tt,Se.z+=Ue,Se.m+=Ue}function wh(fe){for(var Se=0,Ue=0,tt=fe.children,at=tt.length,ct;--at>=0;)ct=tt[at],ct.z+=Se,ct.m+=Se,Se+=ct.s+(Ue+=ct.c)}function Th(fe,Se,Ue){return fe.a.parent===Se.parent?fe.a:Ue}i.layout.cluster=function(){var fe=i.layout.hierarchy().sort(null).value(null),Se=Is,Ue=[1,1],tt=!1;function at(ct,Lt){var At=fe.call(this,ct,Lt),Vt=At[0],Wt,tr=0;Io(Vt,function(Rr){var Ur=Rr.children;Ur&&Ur.length?(Rr.x=Sh(Ur),Rr.y=Ah(Ur)):(Rr.x=Wt?tr+=Se(Rr,Wt):0,Rr.y=0,Wt=Rr)});var Cr=If(Vt),Lr=pc(Vt),qr=Cr.x-Se(Cr,Lr)/2,an=Lr.x+Se(Lr,Cr)/2;return Io(Vt,tt?function(Rr){Rr.x=(Rr.x-Vt.x)*Ue[0],Rr.y=(Vt.y-Rr.y)*Ue[1]}:function(Rr){Rr.x=(Rr.x-qr)/(an-qr)*Ue[0],Rr.y=(1-(Vt.y?Rr.y/Vt.y:1))*Ue[1]}),At}return at.separation=function(ct){return arguments.length?(Se=ct,at):Se},at.size=function(ct){return arguments.length?(tt=(Ue=ct)==null,at):tt?null:Ue},at.nodeSize=function(ct){return arguments.length?(tt=(Ue=ct)!=null,at):tt?Ue:null},Ul(at,fe)};function Ah(fe){return 1+i.max(fe,function(Se){return Se.y})}function Sh(fe){return fe.reduce(function(Se,Ue){return Se+Ue.x},0)/fe.length}function If(fe){var Se=fe.children;return Se&&Se.length?If(Se[0]):fe}function pc(fe){var Se=fe.children,Ue;return Se&&(Ue=Se.length)?pc(Se[Ue-1]):fe}i.layout.treemap=function(){var fe=i.layout.hierarchy(),Se=Math.round,Ue=[1,1],tt=null,at=Wl,ct=!1,Lt,At="squarify",Vt=.5*(1+Math.sqrt(5));function Wt(Rr,Ur){for(var Kr=-1,cn=Rr.length,dn,tn;++Kr<cn;)tn=(dn=Rr[Kr]).value*(Ur<0?0:Ur),dn.area=isNaN(tn)||tn<=0?0:tn}function tr(Rr){var Ur=Rr.children;if(Ur&&Ur.length){var Kr=at(Rr),cn=[],dn=Ur.slice(),tn,Hn=1/0,ea,la=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?Rr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),$n;for(Wt(dn,Kr.dx*Kr.dy/Rr.value),cn.area=0;($n=dn.length)>0;)cn.push(tn=dn[$n-1]),cn.area+=tn.area,At!=="squarify"||(ea=Lr(cn,la))<=Hn?(dn.pop(),Hn=ea):(cn.area-=cn.pop().area,qr(cn,la,Kr,!1),la=Math.min(Kr.dx,Kr.dy),cn.length=cn.area=0,Hn=1/0);cn.length&&(qr(cn,la,Kr,!0),cn.length=cn.area=0),Ur.forEach(tr)}}function Cr(Rr){var Ur=Rr.children;if(Ur&&Ur.length){var Kr=at(Rr),cn=Ur.slice(),dn,tn=[];for(Wt(cn,Kr.dx*Kr.dy/Rr.value),tn.area=0;dn=cn.pop();)tn.push(dn),tn.area+=dn.area,dn.z!=null&&(qr(tn,dn.z?Kr.dx:Kr.dy,Kr,!cn.length),tn.length=tn.area=0);Ur.forEach(Cr)}}function Lr(Rr,Ur){for(var Kr=Rr.area,cn,dn=0,tn=1/0,Hn=-1,ea=Rr.length;++Hn<ea;)(cn=Rr[Hn].area)&&(cn<tn&&(tn=cn),cn>dn&&(dn=cn));return Kr*=Kr,Ur*=Ur,Kr?Math.max(Ur*dn*Vt/Kr,Kr/(Ur*tn*Vt)):1/0}function qr(Rr,Ur,Kr,cn){var dn=-1,tn=Rr.length,Hn=Kr.x,ea=Kr.y,la=Ur?Se(Rr.area/Ur):0,$n;if(Ur==Kr.dx){for((cn||la>Kr.dy)&&(la=Kr.dy);++dn<tn;)$n=Rr[dn],$n.x=Hn,$n.y=ea,$n.dy=la,Hn+=$n.dx=Math.min(Kr.x+Kr.dx-Hn,la?Se($n.area/la):0);$n.z=!0,$n.dx+=Kr.x+Kr.dx-Hn,Kr.y+=la,Kr.dy-=la}else{for((cn||la>Kr.dx)&&(la=Kr.dx);++dn<tn;)$n=Rr[dn],$n.x=Hn,$n.y=ea,$n.dx=la,ea+=$n.dy=Math.min(Kr.y+Kr.dy-ea,la?Se($n.area/la):0);$n.z=!1,$n.dy+=Kr.y+Kr.dy-ea,Kr.x+=la,Kr.dx-=la}}function an(Rr){var Ur=Lt||fe(Rr),Kr=Ur[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Ue[0],Kr.dy=Ue[1]):Kr.dx=Kr.dy=0,Lt&&fe.revalue(Kr),Wt([Kr],Kr.dx*Kr.dy/Kr.value),(Lt?Cr:tr)(Kr),ct&&(Lt=Ur),Ur}return an.size=function(Rr){return arguments.length?(Ue=Rr,an):Ue},an.padding=function(Rr){if(!arguments.length)return tt;function Ur(dn){var tn=Rr.call(an,dn,dn.depth);return tn==null?Wl(dn):qi(dn,typeof tn=="number"?[tn,tn,tn,tn]:tn)}function Kr(dn){return qi(dn,Rr)}var cn;return at=(tt=Rr)==null?Wl:(cn=typeof Rr)=="function"?Ur:(cn==="number"&&(Rr=[Rr,Rr,Rr,Rr]),Kr),an},an.round=function(Rr){return arguments.length?(Se=Rr?Math.round:Number,an):Se!=Number},an.sticky=function(Rr){return arguments.length?(ct=Rr,Lt=null,an):ct},an.ratio=function(Rr){return arguments.length?(Vt=Rr,an):Vt},an.mode=function(Rr){return arguments.length?(At=Rr+"",an):At},Ul(an,fe)};function Wl(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function qi(fe,Se){var Ue=fe.x+Se[3],tt=fe.y+Se[0],at=fe.dx-Se[1]-Se[3],ct=fe.dy-Se[0]-Se[2];return at<0&&(Ue+=at/2,at=0),ct<0&&(tt+=ct/2,ct=0),{x:Ue,y:tt,dx:at,dy:ct}}i.random={normal:function(fe,Se){var Ue=arguments.length;return Ue<2&&(Se=1),Ue<1&&(fe=0),function(){var tt,at,ct;do tt=Math.random()*2-1,at=Math.random()*2-1,ct=tt*tt+at*at;while(!ct||ct>1);return fe+Se*tt*Math.sqrt(-2*Math.log(ct)/ct)}},logNormal:function(){var fe=i.random.normal.apply(i,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Se=i.random.irwinHall(fe);return function(){return Se()/fe}},irwinHall:function(fe){return function(){for(var Se=0,Ue=0;Ue<fe;Ue++)Se+=Math.random();return Se}}},i.scale={};function Uo(fe){var Se=fe[0],Ue=fe[fe.length-1];return Se<Ue?[Se,Ue]:[Ue,Se]}function Yl(fe){return fe.rangeExtent?fe.rangeExtent():Uo(fe.range())}function gc(fe,Se,Ue,tt){var at=Ue(fe[0],fe[1]),ct=tt(Se[0],Se[1]);return function(Lt){return ct(at(Lt))}}function mu(fe,Se){var Ue=0,tt=fe.length-1,at=fe[Ue],ct=fe[tt],Lt;return ct<at&&(Lt=Ue,Ue=tt,tt=Lt,Lt=at,at=ct,ct=Lt),fe[Ue]=Se.floor(at),fe[tt]=Se.ceil(ct),fe}function ks(fe){return fe?{floor:function(Se){return Math.floor(Se/fe)*fe},ceil:function(Se){return Math.ceil(Se/fe)*fe}}:Mh}var Mh={floor:O,ceil:O};function yc(fe,Se,Ue,tt){var at=[],ct=[],Lt=0,At=Math.min(fe.length,Se.length)-1;for(fe[At]<fe[0]&&(fe=fe.slice().reverse(),Se=Se.slice().reverse());++Lt<=At;)at.push(Ue(fe[Lt-1],fe[Lt])),ct.push(tt(Se[Lt-1],Se[Lt]));return function(Vt){var Wt=i.bisect(fe,Vt,1,At)-1;return ct[Wt](at[Wt](Vt))}}i.scale.linear=function(){return mc([0,1],[0,1],io,!1)};function mc(fe,Se,Ue,tt){var at,ct;function Lt(){var Vt=Math.min(fe.length,Se.length)>2?yc:gc,Wt=tt?Bl:qo;return at=Vt(fe,Se,Wt,Ue),ct=Vt(Se,fe,Wt,io),At}function At(Vt){return at(Vt)}return At.invert=function(Vt){return ct(Vt)},At.domain=function(Vt){return arguments.length?(fe=Vt.map(Number),Lt()):fe},At.range=function(Vt){return arguments.length?(Se=Vt,Lt()):Se},At.rangeRound=function(Vt){return At.range(Vt).interpolate(lc)},At.clamp=function(Vt){return arguments.length?(tt=Vt,Lt()):tt},At.interpolate=function(Vt){return arguments.length?(Ue=Vt,Lt()):Ue},At.ticks=function(Vt){return is(fe,Vt)},At.tickFormat=function(Vt,Wt){return d3_scale_linearTickFormat(fe,Vt,Wt)},At.nice=function(Vt){return xc(fe,Vt),Lt()},At.copy=function(){return mc(fe,Se,Ue,tt)},Lt()}function kf(fe,Se){return i.rebind(fe,Se,"range","rangeRound","interpolate","clamp")}function xc(fe,Se){return mu(fe,ks(Ao(fe,Se)[2])),mu(fe,ks(Ao(fe,Se)[2])),fe}function Ao(fe,Se){Se==null&&(Se=10);var Ue=Uo(fe),tt=Ue[1]-Ue[0],at=Math.pow(10,Math.floor(Math.log(tt/Se)/Math.LN10)),ct=Se/tt*at;return ct<=.15?at*=10:ct<=.35?at*=5:ct<=.75&&(at*=2),Ue[0]=Math.ceil(Ue[0]/at)*at,Ue[1]=Math.floor(Ue[1]/at)*at+at*.5,Ue[2]=at,Ue}function is(fe,Se){return i.range.apply(i,Ao(fe,Se))}i.scale.log=function(){return Js(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Js(fe,Se,Ue,tt){function at(At){return(Ue?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Se)}function ct(At){return Ue?Math.pow(Se,At):-Math.pow(Se,-At)}function Lt(At){return fe(at(At))}return Lt.invert=function(At){return ct(fe.invert(At))},Lt.domain=function(At){return arguments.length?(Ue=At[0]>=0,fe.domain((tt=At.map(Number)).map(at)),Lt):tt},Lt.base=function(At){return arguments.length?(Se=+At,fe.domain(tt.map(at)),Lt):Se},Lt.nice=function(){var At=mu(tt.map(at),Ue?Math:Xl);return fe.domain(At),tt=At.map(ct),Lt},Lt.ticks=function(){var At=Uo(tt),Vt=[],Wt=At[0],tr=At[1],Cr=Math.floor(at(Wt)),Lr=Math.ceil(at(tr)),qr=Se%1?2:Se;if(isFinite(Lr-Cr)){if(Ue){for(;Cr<Lr;Cr++)for(var an=1;an<qr;an++)Vt.push(ct(Cr)*an);Vt.push(ct(Cr))}else for(Vt.push(ct(Cr));Cr++<Lr;)for(var an=qr-1;an>0;an--)Vt.push(ct(Cr)*an);for(Cr=0;Vt[Cr]<Wt;Cr++);for(Lr=Vt.length;Vt[Lr-1]>tr;Lr--);Vt=Vt.slice(Cr,Lr)}return Vt},Lt.copy=function(){return Js(fe.copy(),Se,Ue,tt)},kf(Lt,fe)}var Xl={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};i.scale.pow=function(){return af(i.scale.linear(),1,[0,1])};function af(fe,Se,Ue){var tt=yl(Se),at=yl(1/Se);function ct(Lt){return fe(tt(Lt))}return ct.invert=function(Lt){return at(fe.invert(Lt))},ct.domain=function(Lt){return arguments.length?(fe.domain((Ue=Lt.map(Number)).map(tt)),ct):Ue},ct.ticks=function(Lt){return is(Ue,Lt)},ct.tickFormat=function(Lt,At){return d3_scale_linearTickFormat(Ue,Lt,At)},ct.nice=function(Lt){return ct.domain(xc(Ue,Lt))},ct.exponent=function(Lt){return arguments.length?(tt=yl(Se=Lt),at=yl(1/Se),fe.domain(Ue.map(tt)),ct):Se},ct.copy=function(){return af(fe.copy(),Se,Ue)},kf(ct,fe)}function yl(fe){return function(Se){return Se<0?-Math.pow(-Se,fe):Math.pow(Se,fe)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return ml([],{t:"range",a:[[]]})};function ml(fe,Se){var Ue,tt,at;function ct(At){return tt[((Ue.get(At)||(Se.t==="range"?Ue.set(At,fe.push(At)):NaN))-1)%tt.length]}function Lt(At,Vt){return i.range(fe.length).map(function(Wt){return At+Vt*Wt})}return ct.domain=function(At){if(!arguments.length)return fe;fe=[],Ue=new C;for(var Vt=-1,Wt=At.length,tr;++Vt<Wt;)Ue.has(tr=At[Vt])||Ue.set(tr,fe.push(tr));return ct[Se.t].apply(ct,Se.a)},ct.range=function(At){return arguments.length?(tt=At,at=0,Se={t:"range",a:arguments},ct):tt},ct.rangePoints=function(At,Vt){arguments.length<2&&(Vt=0);var Wt=At[0],tr=At[1],Cr=fe.length<2?(Wt=(Wt+tr)/2,0):(tr-Wt)/(fe.length-1+Vt);return tt=Lt(Wt+Cr*Vt/2,Cr),at=0,Se={t:"rangePoints",a:arguments},ct},ct.rangeRoundPoints=function(At,Vt){arguments.length<2&&(Vt=0);var Wt=At[0],tr=At[1],Cr=fe.length<2?(Wt=tr=Math.round((Wt+tr)/2),0):(tr-Wt)/(fe.length-1+Vt)|0;return tt=Lt(Wt+Math.round(Cr*Vt/2+(tr-Wt-(fe.length-1+Vt)*Cr)/2),Cr),at=0,Se={t:"rangeRoundPoints",a:arguments},ct},ct.rangeBands=function(At,Vt,Wt){arguments.length<2&&(Vt=0),arguments.length<3&&(Wt=Vt);var tr=At[1]<At[0],Cr=At[tr-0],Lr=At[1-tr],qr=(Lr-Cr)/(fe.length-Vt+2*Wt);return tt=Lt(Cr+qr*Wt,qr),tr&&tt.reverse(),at=qr*(1-Vt),Se={t:"rangeBands",a:arguments},ct},ct.rangeRoundBands=function(At,Vt,Wt){arguments.length<2&&(Vt=0),arguments.length<3&&(Wt=Vt);var tr=At[1]<At[0],Cr=At[tr-0],Lr=At[1-tr],qr=Math.floor((Lr-Cr)/(fe.length-Vt+2*Wt));return tt=Lt(Cr+Math.round((Lr-Cr-(fe.length-Vt)*qr)/2),qr),tr&&tt.reverse(),at=Math.round(qr*(1-Vt)),Se={t:"rangeRoundBands",a:arguments},ct},ct.rangeBand=function(){return at},ct.rangeExtent=function(){return Uo(Se.a[0])},ct.copy=function(){return ml(fe,Se)},ct.domain(fe)}i.scale.category10=function(){return i.scale.ordinal().range(bc)},i.scale.category20=function(){return i.scale.ordinal().range(Fs)},i.scale.category20b=function(){return i.scale.ordinal().range(jl)},i.scale.category20c=function(){return i.scale.ordinal().range(Qs)};var bc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ot),Fs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ot),jl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ot),Qs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ot);i.scale.quantile=function(){return _s([],[])};function _s(fe,Se){var Ue;function tt(){var ct=0,Lt=Se.length;for(Ue=[];++ct<Lt;)Ue[ct-1]=i.quantile(fe,ct/Lt);return at}function at(ct){if(!isNaN(ct=+ct))return Se[i.bisect(Ue,ct)]}return at.domain=function(ct){return arguments.length?(fe=ct.map(g).filter(h).sort(u),tt()):fe},at.range=function(ct){return arguments.length?(Se=ct,tt()):Se},at.quantiles=function(){return Ue},at.invertExtent=function(ct){return ct=Se.indexOf(ct),ct<0?[NaN,NaN]:[ct>0?Ue[ct-1]:fe[0],ct<Ue.length?Ue[ct]:fe[fe.length-1]]},at.copy=function(){return _s(fe,Se)},tt()}i.scale.quantize=function(){return xu(0,1,[0,1])};function xu(fe,Se,Ue){var tt,at;function ct(At){return Ue[Math.max(0,Math.min(at,Math.floor(tt*(At-fe))))]}function Lt(){return tt=Ue.length/(Se-fe),at=Ue.length-1,ct}return ct.domain=function(At){return arguments.length?(fe=+At[0],Se=+At[At.length-1],Lt()):[fe,Se]},ct.range=function(At){return arguments.length?(Ue=At,Lt()):Ue},ct.invertExtent=function(At){return At=Ue.indexOf(At),At=At<0?NaN:At/tt+fe,[At,At+1/tt]},ct.copy=function(){return xu(fe,Se,Ue)},Lt()}i.scale.threshold=function(){return Zl([.5],[0,1])};function Zl(fe,Se){function Ue(tt){if(tt<=tt)return Se[i.bisect(fe,tt)]}return Ue.domain=function(tt){return arguments.length?(fe=tt,Ue):fe},Ue.range=function(tt){return arguments.length?(Se=tt,Ue):Se},Ue.invertExtent=function(tt){return tt=Se.indexOf(tt),[fe[tt-1],fe[tt]]},Ue.copy=function(){return Zl(fe,Se)},Ue}i.scale.identity=function(){return di([0,1])};function di(fe){function Se(Ue){return+Ue}return Se.invert=Se,Se.domain=Se.range=function(Ue){return arguments.length?(fe=Ue.map(Se),Se):fe},Se.ticks=function(Ue){return is(fe,Ue)},Se.tickFormat=function(Ue,tt){return d3_scale_linearTickFormat(fe,Ue,tt)},Se.copy=function(){return di(fe)},Se}i.svg={};function Kl(){return 0}i.svg.arc=function(){var fe=wc,Se=Jl,Ue=Kl,tt=of,at=bu,ct=sf,Lt=Ff;function At(){var Wt=Math.max(0,+fe.apply(this,arguments)),tr=Math.max(0,+Se.apply(this,arguments)),Cr=at.apply(this,arguments)-et,Lr=ct.apply(this,arguments)-et,qr=Math.abs(Lr-Cr),an=Cr>Lr?0:1;if(tr<Wt&&(Rr=tr,tr=Wt,Wt=Rr),qr>=Ne)return Vt(tr,an)+(Wt?Vt(Wt,1-an):"")+"Z";var Rr,Ur,Kr,cn,dn=0,tn=0,Hn,ea,la,$n,aa,ua,Ba,Ma,Fa=[];if((cn=(+Lt.apply(this,arguments)||0)/2)&&(Kr=tt===of?Math.sqrt(Wt*Wt+tr*tr):+tt.apply(this,arguments),an||(tn*=-1),tr&&(tn=jt(Kr/tr*Math.sin(cn))),Wt&&(dn=jt(Kr/Wt*Math.sin(cn)))),tr){Hn=tr*Math.cos(Cr+tn),ea=tr*Math.sin(Cr+tn),la=tr*Math.cos(Lr-tn),$n=tr*Math.sin(Lr-tn);var oi=Math.abs(Lr-Cr-2*tn)<=ve?0:1;if(tn&&wu(Hn,ea,la,$n)===an^oi){var Bi=(Cr+Lr)/2;Hn=tr*Math.cos(Bi),ea=tr*Math.sin(Bi),la=$n=null}}else Hn=ea=0;if(Wt){aa=Wt*Math.cos(Lr-dn),ua=Wt*Math.sin(Lr-dn),Ba=Wt*Math.cos(Cr+dn),Ma=Wt*Math.sin(Cr+dn);var hi=Math.abs(Cr-Lr+2*dn)<=ve?0:1;if(dn&&wu(aa,ua,Ba,Ma)===1-an^hi){var Qn=(Cr+Lr)/2;aa=Wt*Math.cos(Qn),ua=Wt*Math.sin(Qn),Ba=Ma=null}}else aa=ua=0;if(qr>Xe&&(Rr=Math.min(Math.abs(tr-Wt)/2,+Ue.apply(this,arguments)))>.001){Ur=Wt<tr^an?0:1;var Va=Rr,Aa=Rr;if(qr<ve){var Ka=Ba==null?[aa,ua]:la==null?[Hn,ea]:vn([Hn,ea],[Ba,Ma],[la,$n],[aa,ua]),Ti=Hn-Ka[0],si=ea-Ka[1],eo=la-Ka[0],to=$n-Ka[1],oo=1/Math.sin(Math.acos((Ti*eo+si*to)/(Math.sqrt(Ti*Ti+si*si)*Math.sqrt(eo*eo+to*to)))/2),Ai=Math.sqrt(Ka[0]*Ka[0]+Ka[1]*Ka[1]);Aa=Math.min(Rr,(Wt-Ai)/(oo-1)),Va=Math.min(Rr,(tr-Ai)/(oo+1))}if(la!=null){var mo=Tu(Ba==null?[aa,ua]:[Ba,Ma],[Hn,ea],tr,Va,an),oa=Tu([la,$n],[aa,ua],tr,Va,an);Rr===Va?Fa.push("M",mo[0],"A",Va,",",Va," 0 0,",Ur," ",mo[1],"A",tr,",",tr," 0 ",1-an^wu(mo[1][0],mo[1][1],oa[1][0],oa[1][1]),",",an," ",oa[1],"A",Va,",",Va," 0 0,",Ur," ",oa[0]):Fa.push("M",mo[0],"A",Va,",",Va," 0 1,",Ur," ",oa[0])}else Fa.push("M",Hn,",",ea);if(Ba!=null){var Ca=Tu([Hn,ea],[Ba,Ma],Wt,-Aa,an),Fo=Tu([aa,ua],la==null?[Hn,ea]:[la,$n],Wt,-Aa,an);Rr===Aa?Fa.push("L",Fo[0],"A",Aa,",",Aa," 0 0,",Ur," ",Fo[1],"A",Wt,",",Wt," 0 ",an^wu(Fo[1][0],Fo[1][1],Ca[1][0],Ca[1][1]),",",1-an," ",Ca[1],"A",Aa,",",Aa," 0 0,",Ur," ",Ca[0]):Fa.push("L",Fo[0],"A",Aa,",",Aa," 0 0,",Ur," ",Ca[0])}else Fa.push("L",aa,",",ua)}else Fa.push("M",Hn,",",ea),la!=null&&Fa.push("A",tr,",",tr," 0 ",oi,",",an," ",la,",",$n),Fa.push("L",aa,",",ua),Ba!=null&&Fa.push("A",Wt,",",Wt," 0 ",hi,",",1-an," ",Ba,",",Ma);return Fa.push("Z"),Fa.join("")}function Vt(Wt,tr){return"M0,"+Wt+"A"+Wt+","+Wt+" 0 1,"+tr+" 0,"+-Wt+"A"+Wt+","+Wt+" 0 1,"+tr+" 0,"+Wt}return At.innerRadius=function(Wt){return arguments.length?(fe=Wr(Wt),At):fe},At.outerRadius=function(Wt){return arguments.length?(Se=Wr(Wt),At):Se},At.cornerRadius=function(Wt){return arguments.length?(Ue=Wr(Wt),At):Ue},At.padRadius=function(Wt){return arguments.length?(tt=Wt==of?of:Wr(Wt),At):tt},At.startAngle=function(Wt){return arguments.length?(at=Wr(Wt),At):at},At.endAngle=function(Wt){return arguments.length?(ct=Wr(Wt),At):ct},At.padAngle=function(Wt){return arguments.length?(Lt=Wr(Wt),At):Lt},At.centroid=function(){var Wt=(+fe.apply(this,arguments)+ +Se.apply(this,arguments))/2,tr=(+at.apply(this,arguments)+ +ct.apply(this,arguments))/2-et;return[Math.cos(tr)*Wt,Math.sin(tr)*Wt]},At};var of="auto";function wc(fe){return fe.innerRadius}function Jl(fe){return fe.outerRadius}function bu(fe){return fe.startAngle}function sf(fe){return fe.endAngle}function Ff(fe){return fe&&fe.padAngle}function wu(fe,Se,Ue,tt){return(fe-Ue)*Se-(Se-tt)*fe>0?0:1}function Tu(fe,Se,Ue,tt,at){var ct=fe[0]-Se[0],Lt=fe[1]-Se[1],At=(at?tt:-tt)/Math.sqrt(ct*ct+Lt*Lt),Vt=At*Lt,Wt=-At*ct,tr=fe[0]+Vt,Cr=fe[1]+Wt,Lr=Se[0]+Vt,qr=Se[1]+Wt,an=(tr+Lr)/2,Rr=(Cr+qr)/2,Ur=Lr-tr,Kr=qr-Cr,cn=Ur*Ur+Kr*Kr,dn=Ue-tt,tn=tr*qr-Lr*Cr,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*cn-tn*tn)),ea=(tn*Kr-Ur*Hn)/cn,la=(-tn*Ur-Kr*Hn)/cn,$n=(tn*Kr+Ur*Hn)/cn,aa=(-tn*Ur+Kr*Hn)/cn,ua=ea-an,Ba=la-Rr,Ma=$n-an,Fa=aa-Rr;return ua*ua+Ba*Ba>Ma*Ma+Fa*Fa&&(ea=$n,la=aa),[[ea-Vt,la-Wt],[ea*Ue/dn,la*Ue/dn]]}function $s(){return!0}function Au(fe){var Se=xa,Ue=ca,tt=$s,at=Wi,ct=at.key,Lt=.7;function At(Vt){var Wt=[],tr=[],Cr=-1,Lr=Vt.length,qr,an=Wr(Se),Rr=Wr(Ue);function Ur(){Wt.push("M",at(fe(tr),Lt))}for(;++Cr<Lr;)tt.call(this,qr=Vt[Cr],Cr)?tr.push([+an.call(this,qr,Cr),+Rr.call(this,qr,Cr)]):tr.length&&(Ur(),tr=[]);return tr.length&&Ur(),Wt.length?Wt.join(""):null}return At.x=function(Vt){return arguments.length?(Se=Vt,At):Se},At.y=function(Vt){return arguments.length?(Ue=Vt,At):Ue},At.defined=function(Vt){return arguments.length?(tt=Vt,At):tt},At.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?ct=at=Vt:ct=(at=qs.get(Vt)||Wi).key,At):ct},At.tension=function(Vt){return arguments.length?(Lt=Vt,At):Lt},At}i.svg.line=function(){return Au(O)};var qs=i.map({linear:Wi,"linear-closed":xs,step:_f,"step-before":xl,"step-after":lf,basis:Ql,"basis-open":Ac,"basis-closed":el,bundle:Ch,cardinal:Tc,"cardinal-open":Su,"cardinal-closed":Eh,monotone:ff});qs.forEach(function(fe,Se){Se.key=fe,Se.closed=/-closed$/.test(fe)});function Wi(fe){return fe.length>1?fe.join("L"):fe+"Z"}function xs(fe){return fe.join("L")+"Z"}function _f(fe){for(var Se=0,Ue=fe.length,tt=fe[0],at=[tt[0],",",tt[1]];++Se<Ue;)at.push("H",(tt[0]+(tt=fe[Se])[0])/2,"V",tt[1]);return Ue>1&&at.push("H",tt[0]),at.join("")}function xl(fe){for(var Se=0,Ue=fe.length,tt=fe[0],at=[tt[0],",",tt[1]];++Se<Ue;)at.push("V",(tt=fe[Se])[1],"H",tt[0]);return at.join("")}function lf(fe){for(var Se=0,Ue=fe.length,tt=fe[0],at=[tt[0],",",tt[1]];++Se<Ue;)at.push("H",(tt=fe[Se])[0],"V",tt[1]);return at.join("")}function Su(fe,Se){return fe.length<4?Wi(fe):fe[1]+yo(fe.slice(1,-1),Mu(fe,Se))}function Eh(fe,Se){return fe.length<3?xs(fe):fe[0]+yo((fe.push(fe[0]),fe),Mu([fe[fe.length-2]].concat(fe,[fe[1]]),Se))}function Tc(fe,Se){return fe.length<3?Wi(fe):fe[0]+yo(fe,Mu(fe,Se))}function yo(fe,Se){if(Se.length<1||fe.length!=Se.length&&fe.length!=Se.length+2)return Wi(fe);var Ue=fe.length!=Se.length,tt="",at=fe[0],ct=fe[1],Lt=Se[0],At=Lt,Vt=1;if(Ue&&(tt+="Q"+(ct[0]-Lt[0]*2/3)+","+(ct[1]-Lt[1]*2/3)+","+ct[0]+","+ct[1],at=fe[1],Vt=2),Se.length>1){At=Se[1],ct=fe[Vt],Vt++,tt+="C"+(at[0]+Lt[0])+","+(at[1]+Lt[1])+","+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1];for(var Wt=2;Wt<Se.length;Wt++,Vt++)ct=fe[Vt],At=Se[Wt],tt+="S"+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1]}if(Ue){var tr=fe[Vt];tt+="Q"+(ct[0]+At[0]*2/3)+","+(ct[1]+At[1]*2/3)+","+tr[0]+","+tr[1]}return tt}function Mu(fe,Se){for(var Ue=[],tt=(1-Se)/2,at,ct=fe[0],Lt=fe[1],At=1,Vt=fe.length;++At<Vt;)at=ct,ct=Lt,Lt=fe[At],Ue.push([tt*(Lt[0]-at[0]),tt*(Lt[1]-at[1])]);return Ue}function Ql(fe){if(fe.length<3)return Wi(fe);var Se=1,Ue=fe.length,tt=fe[0],at=tt[0],ct=tt[1],Lt=[at,at,at,(tt=fe[1])[0]],At=[ct,ct,ct,tt[1]],Vt=[at,",",ct,"L",ko(zs,Lt),",",ko(zs,At)];for(fe.push(fe[Ue-1]);++Se<=Ue;)tt=fe[Se],Lt.shift(),Lt.push(tt[0]),At.shift(),At.push(tt[1]),tl(Vt,Lt,At);return fe.pop(),Vt.push("L",tt),Vt.join("")}function Ac(fe){if(fe.length<4)return Wi(fe);for(var Se=[],Ue=-1,tt=fe.length,at,ct=[0],Lt=[0];++Ue<3;)at=fe[Ue],ct.push(at[0]),Lt.push(at[1]);for(Se.push(ko(zs,ct)+","+ko(zs,Lt)),--Ue;++Ue<tt;)at=fe[Ue],ct.shift(),ct.push(at[0]),Lt.shift(),Lt.push(at[1]),tl(Se,ct,Lt);return Se.join("")}function el(fe){for(var Se,Ue=-1,tt=fe.length,at=tt+4,ct,Lt=[],At=[];++Ue<4;)ct=fe[Ue%tt],Lt.push(ct[0]),At.push(ct[1]);for(Se=[ko(zs,Lt),",",ko(zs,At)],--Ue;++Ue<at;)ct=fe[Ue%tt],Lt.shift(),Lt.push(ct[0]),At.shift(),At.push(ct[1]),tl(Se,Lt,At);return Se.join("")}function Ch(fe,Se){var Ue=fe.length-1;if(Ue)for(var tt=fe[0][0],at=fe[0][1],ct=fe[Ue][0]-tt,Lt=fe[Ue][1]-at,At=-1,Vt,Wt;++At<=Ue;)Vt=fe[At],Wt=At/Ue,Vt[0]=Se*Vt[0]+(1-Se)*(tt+Wt*ct),Vt[1]=Se*Vt[1]+(1-Se)*(at+Wt*Lt);return Ql(fe)}function ko(fe,Se){return fe[0]*Se[0]+fe[1]*Se[1]+fe[2]*Se[2]+fe[3]*Se[3]}var Eu=[0,2/3,1/3,0],uf=[0,1/3,2/3,0],zs=[0,1/6,2/3,1/6];function tl(fe,Se,Ue){fe.push("C",ko(Eu,Se),",",ko(Eu,Ue),",",ko(uf,Se),",",ko(uf,Ue),",",ko(zs,Se),",",ko(zs,Ue))}function zf(fe,Se){return(Se[1]-fe[1])/(Se[0]-fe[0])}function Cu(fe){for(var Se=0,Ue=fe.length-1,tt=[],at=fe[0],ct=fe[1],Lt=tt[0]=zf(at,ct);++Se<Ue;)tt[Se]=(Lt+(Lt=zf(at=ct,ct=fe[Se+1])))/2;return tt[Se]=Lt,tt}function Lu(fe){for(var Se=[],Ue,tt,at,ct,Lt=Cu(fe),At=-1,Vt=fe.length-1;++At<Vt;)Ue=zf(fe[At],fe[At+1]),d(Ue)<Xe?Lt[At]=Lt[At+1]=0:(tt=Lt[At]/Ue,at=Lt[At+1]/Ue,ct=tt*tt+at*at,ct>9&&(ct=Ue*3/Math.sqrt(ct),Lt[At]=ct*tt,Lt[At+1]=ct*at));for(At=-1;++At<=Vt;)ct=(fe[Math.min(Vt,At+1)][0]-fe[Math.max(0,At-1)][0])/(6*(1+Lt[At]*Lt[At])),Se.push([ct||0,Lt[At]*ct||0]);return Se}function ff(fe){return fe.length<3?Wi(fe):fe[0]+yo(fe,Lu(fe))}i.svg.line.radial=function(){var fe=Au(Sc);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function Sc(fe){for(var Se,Ue=-1,tt=fe.length,at,ct;++Ue<tt;)Se=fe[Ue],at=Se[0],ct=Se[1]-et,Se[0]=at*Math.cos(ct),Se[1]=at*Math.sin(ct);return fe}function Pu(fe){var Se=xa,Ue=xa,tt=0,at=ca,ct=$s,Lt=Wi,At=Lt.key,Vt=Lt,Wt="L",tr=.7;function Cr(Lr){var qr=[],an=[],Rr=[],Ur=-1,Kr=Lr.length,cn,dn=Wr(Se),tn=Wr(tt),Hn=Se===Ue?function(){return la}:Wr(Ue),ea=tt===at?function(){return $n}:Wr(at),la,$n;function aa(){qr.push("M",Lt(fe(Rr),tr),Wt,Vt(fe(an.reverse()),tr),"Z")}for(;++Ur<Kr;)ct.call(this,cn=Lr[Ur],Ur)?(an.push([la=+dn.call(this,cn,Ur),$n=+tn.call(this,cn,Ur)]),Rr.push([+Hn.call(this,cn,Ur),+ea.call(this,cn,Ur)])):an.length&&(aa(),an=[],Rr=[]);return an.length&&aa(),qr.length?qr.join(""):null}return Cr.x=function(Lr){return arguments.length?(Se=Ue=Lr,Cr):Ue},Cr.x0=function(Lr){return arguments.length?(Se=Lr,Cr):Se},Cr.x1=function(Lr){return arguments.length?(Ue=Lr,Cr):Ue},Cr.y=function(Lr){return arguments.length?(tt=at=Lr,Cr):at},Cr.y0=function(Lr){return arguments.length?(tt=Lr,Cr):tt},Cr.y1=function(Lr){return arguments.length?(at=Lr,Cr):at},Cr.defined=function(Lr){return arguments.length?(ct=Lr,Cr):ct},Cr.interpolate=function(Lr){return arguments.length?(typeof Lr=="function"?At=Lt=Lr:At=(Lt=qs.get(Lr)||Wi).key,Vt=Lt.reverse||Lt,Wt=Lt.closed?"M":"L",Cr):At},Cr.tension=function(Lr){return arguments.length?(tr=Lr,Cr):tr},Cr}xl.reverse=lf,lf.reverse=xl,i.svg.area=function(){return Pu(O)},i.svg.area.radial=function(){var fe=Pu(Sc);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function Of(fe){return fe.source}function bl(fe){return fe.target}i.svg.chord=function(){var fe=Of,Se=bl,Ue=Bf,tt=bu,at=sf;function ct(tr,Cr){var Lr=Lt(this,fe,tr,Cr),qr=Lt(this,Se,tr,Cr);return"M"+Lr.p0+Vt(Lr.r,Lr.p1,Lr.a1-Lr.a0)+(At(Lr,qr)?Wt(Lr.r,Lr.p1,Lr.r,Lr.p0):Wt(Lr.r,Lr.p1,qr.r,qr.p0)+Vt(qr.r,qr.p1,qr.a1-qr.a0)+Wt(qr.r,qr.p1,Lr.r,Lr.p0))+"Z"}function Lt(tr,Cr,Lr,qr){var an=Cr.call(tr,Lr,qr),Rr=Ue.call(tr,an,qr),Ur=tt.call(tr,an,qr)-et,Kr=at.call(tr,an,qr)-et;return{r:Rr,a0:Ur,a1:Kr,p0:[Rr*Math.cos(Ur),Rr*Math.sin(Ur)],p1:[Rr*Math.cos(Kr),Rr*Math.sin(Kr)]}}function At(tr,Cr){return tr.a0==Cr.a0&&tr.a1==Cr.a1}function Vt(tr,Cr,Lr){return"A"+tr+","+tr+" 0 "+ +(Lr>ve)+",1 "+Cr}function Wt(tr,Cr,Lr,qr){return"Q 0,0 "+qr}return ct.radius=function(tr){return arguments.length?(Ue=Wr(tr),ct):Ue},ct.source=function(tr){return arguments.length?(fe=Wr(tr),ct):fe},ct.target=function(tr){return arguments.length?(Se=Wr(tr),ct):Se},ct.startAngle=function(tr){return arguments.length?(tt=Wr(tr),ct):tt},ct.endAngle=function(tr){return arguments.length?(at=Wr(tr),ct):at},ct};function Bf(fe){return fe.radius}i.svg.diagonal=function(){var fe=Of,Se=bl,Ue=Ru;function tt(at,ct){var Lt=fe.call(this,at,ct),At=Se.call(this,at,ct),Vt=(Lt.y+At.y)/2,Wt=[Lt,{x:Lt.x,y:Vt},{x:At.x,y:Vt},At];return Wt=Wt.map(Ue),"M"+Wt[0]+"C"+Wt[1]+" "+Wt[2]+" "+Wt[3]}return tt.source=function(at){return arguments.length?(fe=Wr(at),tt):fe},tt.target=function(at){return arguments.length?(Se=Wr(at),tt):Se},tt.projection=function(at){return arguments.length?(Ue=at,tt):Ue},tt};function Ru(fe){return[fe.x,fe.y]}i.svg.diagonal.radial=function(){var fe=i.svg.diagonal(),Se=Ru,Ue=fe.projection;return fe.projection=function(tt){return arguments.length?Ue(Mc(Se=tt)):Se},fe};function Mc(fe){return function(){var Se=fe.apply(this,arguments),Ue=Se[0],tt=Se[1]-et;return[Ue*Math.cos(tt),Ue*Math.sin(tt)]}}i.svg.symbol=function(){var fe=it,Se=Je;function Ue(tt,at){return(xt.get(fe.call(this,tt,at))||yt)(Se.call(this,tt,at))}return Ue.type=function(tt){return arguments.length?(fe=Wr(tt),Ue):fe},Ue.size=function(tt){return arguments.length?(Se=Wr(tt),Ue):Se},Ue};function Je(){return 64}function it(){return"circle"}function yt(fe){var Se=Math.sqrt(fe/ve);return"M0,"+Se+"A"+Se+","+Se+" 0 1,1 0,"+-Se+"A"+Se+","+Se+" 0 1,1 0,"+Se+"Z"}var xt=i.map({circle:yt,cross:function(fe){var Se=Math.sqrt(fe/5)/2;return"M"+-3*Se+","+-Se+"H"+-Se+"V"+-3*Se+"H"+Se+"V"+-Se+"H"+3*Se+"V"+Se+"H"+Se+"V"+3*Se+"H"+-Se+"V"+Se+"H"+-3*Se+"Z"},diamond:function(fe){var Se=Math.sqrt(fe/(2*It)),Ue=Se*It;return"M0,"+-Se+"L"+Ue+",0 0,"+Se+" "+-Ue+",0Z"},square:function(fe){var Se=Math.sqrt(fe)/2;return"M"+-Se+","+-Se+"L"+Se+","+-Se+" "+Se+","+Se+" "+-Se+","+Se+"Z"},"triangle-down":function(fe){var Se=Math.sqrt(fe/Ft),Ue=Se*Ft/2;return"M0,"+Ue+"L"+Se+","+-Ue+" "+-Se+","+-Ue+"Z"},"triangle-up":function(fe){var Se=Math.sqrt(fe/Ft),Ue=Se*Ft/2;return"M0,"+-Ue+"L"+Se+","+Ue+" "+-Se+","+Ue+"Z"}});i.svg.symbolTypes=xt.keys();var Ft=Math.sqrt(3),It=Math.tan(30*st);X.transition=function(fe){for(var Se=Ir||++Mr,Ue=Pn(fe),tt=[],at,ct,Lt=Nr||{time:Date.now(),ease:Sf,delay:0,duration:250},At=-1,Vt=this.length;++At<Vt;){tt.push(at=[]);for(var Wt=this[At],tr=-1,Cr=Wt.length;++tr<Cr;)(ct=Wt[tr])&&Dn(ct,tr,Ue,Se,Lt),at.push(ct)}return br(tt,Ue,Se)},X.interrupt=function(fe){return this.each(fe==null?zt:pr(Pn(fe)))};var zt=pr(Pn());function pr(fe){return function(){var Se,Ue,tt;(Se=this[fe])&&(tt=Se[Ue=Se.active])&&(tt.timer.c=null,tt.timer.t=NaN,--Se.count?delete Se[Ue]:delete this[fe],Se.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function br(fe,Se,Ue){return ie(fe,ar),fe.namespace=Se,fe.id=Ue,fe}var ar=[],Mr=0,Ir,Nr;ar.call=X.call,ar.empty=X.empty,ar.node=X.node,ar.size=X.size,i.transition=function(fe,Se){return fe&&fe.transition?Ir?fe.transition(Se):fe:i.selection().transition(fe)},i.transition.prototype=ar,ar.select=function(fe){var Se=this.id,Ue=this.namespace,tt=[],at,ct,Lt;fe=se(fe);for(var At=-1,Vt=this.length;++At<Vt;){tt.push(at=[]);for(var Wt=this[At],tr=-1,Cr=Wt.length;++tr<Cr;)(Lt=Wt[tr])&&(ct=fe.call(Lt,Lt.__data__,tr,At))?("__data__"in Lt&&(ct.__data__=Lt.__data__),Dn(ct,tr,Ue,Se,Lt[Ue][Se]),at.push(ct)):at.push(null)}return br(tt,Ue,Se)},ar.selectAll=function(fe){var Se=this.id,Ue=this.namespace,tt=[],at,ct,Lt,At,Vt;fe=q(fe);for(var Wt=-1,tr=this.length;++Wt<tr;)for(var Cr=this[Wt],Lr=-1,qr=Cr.length;++Lr<qr;)if(Lt=Cr[Lr]){Vt=Lt[Ue][Se],ct=fe.call(Lt,Lt.__data__,Lr,Wt),tt.push(at=[]);for(var an=-1,Rr=ct.length;++an<Rr;)(At=ct[an])&&Dn(At,an,Ue,Se,Vt),at.push(At)}return br(tt,Ue,Se)},ar.filter=function(fe){var Se=[],Ue,tt,at;typeof fe!="function"&&(fe=rt(fe));for(var ct=0,Lt=this.length;ct<Lt;ct++){Se.push(Ue=[]);for(var tt=this[ct],At=0,Vt=tt.length;At<Vt;At++)(at=tt[At])&&fe.call(at,at.__data__,At,ct)&&Ue.push(at)}return br(Se,this.namespace,this.id)},ar.tween=function(fe,Se){var Ue=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Ue].tween.get(fe):$e(this,Se==null?function(at){at[tt][Ue].tween.remove(fe)}:function(at){at[tt][Ue].tween.set(fe,Se)})};function nn(fe,Se,Ue,tt){var at=fe.id,ct=fe.namespace;return $e(fe,typeof Ue=="function"?function(Lt,At,Vt){Lt[ct][at].tween.set(Se,tt(Ue.call(Lt,Lt.__data__,At,Vt)))}:(Ue=tt(Ue),function(Lt){Lt[ct][at].tween.set(Se,Ue)}))}ar.attr=function(fe,Se){if(arguments.length<2){for(Se in fe)this.attr(Se,fe[Se]);return this}var Ue=fe=="transform"?Qu:io,tt=i.ns.qualify(fe);function at(){this.removeAttribute(tt)}function ct(){this.removeAttributeNS(tt.space,tt.local)}function Lt(Vt){return Vt==null?at:(Vt+="",function(){var Wt=this.getAttribute(tt),tr;return Wt!==Vt&&(tr=Ue(Wt,Vt),function(Cr){this.setAttribute(tt,tr(Cr))})})}function At(Vt){return Vt==null?ct:(Vt+="",function(){var Wt=this.getAttributeNS(tt.space,tt.local),tr;return Wt!==Vt&&(tr=Ue(Wt,Vt),function(Cr){this.setAttributeNS(tt.space,tt.local,tr(Cr))})})}return nn(this,"attr."+fe,Se,tt.local?At:Lt)},ar.attrTween=function(fe,Se){var Ue=i.ns.qualify(fe);function tt(ct,Lt){var At=Se.call(this,ct,Lt,this.getAttribute(Ue));return At&&function(Vt){this.setAttribute(Ue,At(Vt))}}function at(ct,Lt){var At=Se.call(this,ct,Lt,this.getAttributeNS(Ue.space,Ue.local));return At&&function(Vt){this.setAttributeNS(Ue.space,Ue.local,At(Vt))}}return this.tween("attr."+fe,Ue.local?at:tt)},ar.style=function(fe,Se,Ue){var tt=arguments.length;if(tt<3){if(typeof fe!="string"){tt<2&&(Se="");for(Ue in fe)this.style(Ue,fe[Ue],Se);return this}Ue=""}function at(){this.style.removeProperty(fe)}function ct(Lt){return Lt==null?at:(Lt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(fe),Vt;return At!==Lt&&(Vt=io(At,Lt),function(Wt){this.style.setProperty(fe,Vt(Wt),Ue)})})}return nn(this,"style."+fe,Se,ct)},ar.styleTween=function(fe,Se,Ue){arguments.length<3&&(Ue="");function tt(at,ct){var Lt=Se.call(this,at,ct,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Lt&&function(At){this.style.setProperty(fe,Lt(At),Ue)}}return this.tween("style."+fe,tt)},ar.text=function(fe){return nn(this,"text",fe,mn)};function mn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ar.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Se;this[fe].count<2&&(Se=this.parentNode)&&Se.removeChild(this)})},ar.ease=function(fe){var Se=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Se].ease:(typeof fe!="function"&&(fe=i.ease.apply(i,arguments)),$e(this,function(tt){tt[Ue][Se].ease=fe}))},ar.delay=function(fe){var Se=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Se].delay:$e(this,typeof fe=="function"?function(tt,at,ct){tt[Ue][Se].delay=+fe.call(tt,tt.__data__,at,ct)}:(fe=+fe,function(tt){tt[Ue][Se].delay=fe}))},ar.duration=function(fe){var Se=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Se].duration:$e(this,typeof fe=="function"?function(tt,at,ct){tt[Ue][Se].duration=Math.max(1,fe.call(tt,tt.__data__,at,ct))}:(fe=Math.max(1,fe),function(tt){tt[Ue][Se].duration=fe}))},ar.each=function(fe,Se){var Ue=this.id,tt=this.namespace;if(arguments.length<2){var at=Nr,ct=Ir;try{Ir=Ue,$e(this,function(Lt,At,Vt){Nr=Lt[tt][Ue],fe.call(Lt,Lt.__data__,At,Vt)})}finally{Nr=at,Ir=ct}}else $e(this,function(Lt){var At=Lt[tt][Ue];(At.event||(At.event=i.dispatch("start","end","interrupt"))).on(fe,Se)});return this},ar.transition=function(){for(var fe=this.id,Se=++Mr,Ue=this.namespace,tt=[],at,ct,Lt,At,Vt=0,Wt=this.length;Vt<Wt;Vt++){tt.push(at=[]);for(var ct=this[Vt],tr=0,Cr=ct.length;tr<Cr;tr++)(Lt=ct[tr])&&(At=Lt[Ue][fe],Dn(Lt,tr,Ue,Se,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),at.push(Lt)}return br(tt,Ue,Se)};function Pn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function Dn(fe,Se,Ue,tt,at){var ct=fe[Ue]||(fe[Ue]={active:0,count:0}),Lt=ct[tt],At,Vt,Wt,tr,Cr;function Lr(Rr){var Ur=Lt.delay;if(Vt.t=Ur+At,Ur<=Rr)return qr(Rr-Ur);Vt.c=qr}function qr(Rr){var Ur=ct.active,Kr=ct[Ur];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ct.count,delete ct[Ur],Kr.event&&Kr.event.interrupt.call(fe,fe.__data__,Kr.index));for(var cn in ct)if(+cn<tt){var dn=ct[cn];dn.timer.c=null,dn.timer.t=NaN,--ct.count,delete ct[cn]}Vt.c=an,Ln(function(){return Vt.c&&an(Rr||1)&&(Vt.c=null,Vt.t=NaN),1},0,At),ct.active=tt,Lt.event&&Lt.event.start.call(fe,fe.__data__,Se),Cr=[],Lt.tween.forEach(function(tn,Hn){(Hn=Hn.call(fe,fe.__data__,Se))&&Cr.push(Hn)}),tr=Lt.ease,Wt=Lt.duration}function an(Rr){for(var Ur=Rr/Wt,Kr=tr(Ur),cn=Cr.length;cn>0;)Cr[--cn].call(fe,Kr);if(Ur>=1)return Lt.event&&Lt.event.end.call(fe,fe.__data__,Se),--ct.count?delete ct[tt]:delete fe[Ue],1}Lt||(At=at.time,Vt=Ln(Lr,0,At),Lt=ct[tt]={tween:new C,time:At,timer:Vt,delay:at.delay,duration:at.duration,ease:at.ease,index:Se},at=null,++ct.count)}i.svg.axis=function(){var fe=i.scale.linear(),Se=Zn,Ue=6,tt=6,at=3,ct=[10],Lt=null,At;function Vt(Wt){Wt.each(function(){var tr=i.select(this),Cr=this.__chart__||fe,Lr=this.__chart__=fe.copy(),qr=Lt??(Lr.ticks?Lr.ticks.apply(Lr,ct):Lr.domain()),an=At??(Lr.tickFormat?Lr.tickFormat.apply(Lr,ct):O),Rr=tr.selectAll(".tick").data(qr,Lr),Ur=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",Xe),Kr=i.transition(Rr.exit()).style("opacity",Xe).remove(),cn=i.transition(Rr.order()).style("opacity",1),dn=Math.max(Ue,0)+at,tn,Hn=Yl(Lr),ea=tr.selectAll(".domain").data([0]),la=(ea.enter().append("path").attr("class","domain"),i.transition(ea));Ur.append("line"),Ur.append("text");var $n=Ur.select("line"),aa=cn.select("line"),ua=Rr.select("text").text(an),Ba=Ur.select("text"),Ma=cn.select("text"),Fa=Se==="top"||Se==="left"?-1:1,oi,Bi,hi,Qn;if(Se==="bottom"||Se==="top"?(tn=Ra,oi="x",hi="y",Bi="x2",Qn="y2",ua.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),la.attr("d","M"+Hn[0]+","+Fa*tt+"V0H"+Hn[1]+"V"+Fa*tt)):(tn=Da,oi="y",hi="x",Bi="y2",Qn="x2",ua.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),la.attr("d","M"+Fa*tt+","+Hn[0]+"H0V"+Hn[1]+"H"+Fa*tt)),$n.attr(Qn,Fa*Ue),Ba.attr(hi,Fa*dn),aa.attr(Bi,0).attr(Qn,Fa*Ue),Ma.attr(oi,0).attr(hi,Fa*dn),Lr.rangeBand){var Va=Lr,Aa=Va.rangeBand()/2;Cr=Lr=function(Ka){return Va(Ka)+Aa}}else Cr.rangeBand?Cr=Lr:Kr.call(tn,Lr,Cr);Ur.call(tn,Cr,Lr),cn.call(tn,Lr,Lr)})}return Vt.scale=function(Wt){return arguments.length?(fe=Wt,Vt):fe},Vt.orient=function(Wt){return arguments.length?(Se=Wt in Pa?Wt+"":Zn,Vt):Se},Vt.ticks=function(){return arguments.length?(ct=S(arguments),Vt):ct},Vt.tickValues=function(Wt){return arguments.length?(Lt=Wt,Vt):Lt},Vt.tickFormat=function(Wt){return arguments.length?(At=Wt,Vt):At},Vt.tickSize=function(Wt){var tr=arguments.length;return tr?(Ue=+Wt,tt=+arguments[tr-1],Vt):Ue},Vt.innerTickSize=function(Wt){return arguments.length?(Ue=+Wt,Vt):Ue},Vt.outerTickSize=function(Wt){return arguments.length?(tt=+Wt,Vt):tt},Vt.tickPadding=function(Wt){return arguments.length?(at=+Wt,Vt):at},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var Zn="bottom",Pa={top:1,right:1,bottom:1,left:1};function Ra(fe,Se,Ue){fe.attr("transform",function(tt){var at=Se(tt);return"translate("+(isFinite(at)?at:Ue(tt))+",0)"})}function Da(fe,Se,Ue){fe.attr("transform",function(tt){var at=Se(tt);return"translate(0,"+(isFinite(at)?at:Ue(tt))+")"})}i.svg.brush=function(){var fe=te(tr,"brushstart","brush","brushend"),Se=null,Ue=null,tt=[0,0],at=[0,0],ct,Lt,At=!0,Vt=!0,Wt=Za[0];function tr(Rr){Rr.each(function(){var Ur=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",an).on("touchstart.brush",an),Kr=Ur.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var cn=Ur.selectAll(".resize").data(Wt,O);cn.exit().remove(),cn.enter().append("g").attr("class",function(ea){return"resize "+ea}).style("cursor",function(ea){return za[ea]}).append("rect").attr("x",function(ea){return/[ew]$/.test(ea)?-3:null}).attr("y",function(ea){return/^[ns]/.test(ea)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),cn.style("display",tr.empty()?"none":null);var dn=i.transition(Ur),tn=i.transition(Kr),Hn;Se&&(Hn=Yl(Se),tn.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Lr(dn)),Ue&&(Hn=Yl(Ue),tn.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),qr(dn)),Cr(dn)})}tr.event=function(Rr){Rr.each(function(){var Ur=fe.of(this,arguments),Kr={x:tt,y:at,i:ct,j:Lt},cn=this.__chart__||Kr;this.__chart__=Kr,Ir?i.select(this).transition().each("start.brush",function(){ct=cn.i,Lt=cn.j,tt=cn.x,at=cn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var dn=No(tt,Kr.x),tn=No(at,Kr.y);return ct=Lt=null,function(Hn){tt=Kr.x=dn(Hn),at=Kr.y=tn(Hn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ct=Kr.i,Lt=Kr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Cr(Rr){Rr.selectAll(".resize").attr("transform",function(Ur){return"translate("+tt[+/e$/.test(Ur)]+","+at[+/^s/.test(Ur)]+")"})}function Lr(Rr){Rr.select(".extent").attr("x",tt[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",tt[1]-tt[0])}function qr(Rr){Rr.select(".extent").attr("y",at[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",at[1]-at[0])}function an(){var Rr=this,Ur=i.select(i.event.target),Kr=fe.of(Rr,arguments),cn=i.select(Rr),dn=Ur.datum(),tn=!/^(n|s)$/.test(dn)&&Se,Hn=!/^(e|w)$/.test(dn)&&Ue,ea=Ur.classed("extent"),la=je(Rr),$n,aa=i.mouse(Rr),ua,Ba=i.select(r(Rr)).on("keydown.brush",oi).on("keyup.brush",Bi);if(i.event.changedTouches?Ba.on("touchmove.brush",hi).on("touchend.brush",Va):Ba.on("mousemove.brush",hi).on("mouseup.brush",Va),cn.interrupt().selectAll("*").interrupt(),ea)aa[0]=tt[0]-aa[0],aa[1]=at[0]-aa[1];else if(dn){var Ma=+/w$/.test(dn),Fa=+/^n/.test(dn);ua=[tt[1-Ma]-aa[0],at[1-Fa]-aa[1]],aa[0]=tt[Ma],aa[1]=at[Fa]}else i.event.altKey&&($n=aa.slice());cn.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Ur.style("cursor")),Kr({type:"brushstart"}),hi();function oi(){i.event.keyCode==32&&(ea||($n=null,aa[0]-=tt[1],aa[1]-=at[1],ea=2),ne())}function Bi(){i.event.keyCode==32&&ea==2&&(aa[0]+=tt[1],aa[1]+=at[1],ea=0,ne())}function hi(){var Aa=i.mouse(Rr),Ka=!1;ua&&(Aa[0]+=ua[0],Aa[1]+=ua[1]),ea||(i.event.altKey?($n||($n=[(tt[0]+tt[1])/2,(at[0]+at[1])/2]),aa[0]=tt[+(Aa[0]<$n[0])],aa[1]=at[+(Aa[1]<$n[1])]):$n=null),tn&&Qn(Aa,Se,0)&&(Lr(cn),Ka=!0),Hn&&Qn(Aa,Ue,1)&&(qr(cn),Ka=!0),Ka&&(Cr(cn),Kr({type:"brush",mode:ea?"move":"resize"}))}function Qn(Aa,Ka,Ti){var si=Yl(Ka),eo=si[0],to=si[1],oo=aa[Ti],Ai=Ti?at:tt,mo=Ai[1]-Ai[0],oa,Ca;if(ea&&(eo-=oo,to-=mo+oo),oa=(Ti?Vt:At)?Math.max(eo,Math.min(to,Aa[Ti])):Aa[Ti],ea?Ca=(oa+=oo)+mo:($n&&(oo=Math.max(eo,Math.min(to,2*$n[Ti]-oa))),oo<oa?(Ca=oa,oa=oo):Ca=oo),Ai[0]!=oa||Ai[1]!=Ca)return Ti?Lt=null:ct=null,Ai[0]=oa,Ai[1]=Ca,!0}function Va(){hi(),cn.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),i.select("body").style("cursor",null),Ba.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),la(),Kr({type:"brushend"})}}return tr.x=function(Rr){return arguments.length?(Se=Rr,Wt=Za[!Se<<1|!Ue],tr):Se},tr.y=function(Rr){return arguments.length?(Ue=Rr,Wt=Za[!Se<<1|!Ue],tr):Ue},tr.clamp=function(Rr){return arguments.length?(Se&&Ue?(At=!!Rr[0],Vt=!!Rr[1]):Se?At=!!Rr:Ue&&(Vt=!!Rr),tr):Se&&Ue?[At,Vt]:Se?At:Ue?Vt:null},tr.extent=function(Rr){var Ur,Kr,cn,dn,tn;return arguments.length?(Se&&(Ur=Rr[0],Kr=Rr[1],Ue&&(Ur=Ur[0],Kr=Kr[0]),ct=[Ur,Kr],Se.invert&&(Ur=Se(Ur),Kr=Se(Kr)),Kr<Ur&&(tn=Ur,Ur=Kr,Kr=tn),(Ur!=tt[0]||Kr!=tt[1])&&(tt=[Ur,Kr])),Ue&&(cn=Rr[0],dn=Rr[1],Se&&(cn=cn[1],dn=dn[1]),Lt=[cn,dn],Ue.invert&&(cn=Ue(cn),dn=Ue(dn)),dn<cn&&(tn=cn,cn=dn,dn=tn),(cn!=at[0]||dn!=at[1])&&(at=[cn,dn])),tr):(Se&&(ct?(Ur=ct[0],Kr=ct[1]):(Ur=tt[0],Kr=tt[1],Se.invert&&(Ur=Se.invert(Ur),Kr=Se.invert(Kr)),Kr<Ur&&(tn=Ur,Ur=Kr,Kr=tn))),Ue&&(Lt?(cn=Lt[0],dn=Lt[1]):(cn=at[0],dn=at[1],Ue.invert&&(cn=Ue.invert(cn),dn=Ue.invert(dn)),dn<cn&&(tn=cn,cn=dn,dn=tn))),Se&&Ue?[[Ur,cn],[Kr,dn]]:Se?[Ur,Kr]:Ue&&[cn,dn])},tr.clear=function(){return tr.empty()||(tt=[0,0],at=[0,0],ct=Lt=null),tr},tr.empty=function(){return!!Se&&tt[0]==tt[1]||!!Ue&&at[0]==at[1]},i.rebind(tr,fe,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Za=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Tn(function(fe){return fe.responseText}),i.json=function(fe,Se){return An(fe,"application/json",pi,Se)};function pi(fe){return JSON.parse(fe.responseText)}i.html=function(fe,Se){return An(fe,"text/html",zi,Se)};function zi(fe){var Se=v.createRange();return Se.selectNode(v.body),Se.createContextualFragment(fe.responseText)}i.xml=Tn(function(fe){return fe.responseXML}),m=i,P=typeof m=="function"?m.call(V,e,V,G):m,P!==void 0&&(G.exports=P)}).apply(self)},3480:function(G){(function(V,e){G.exports=e()})(this,function(){var V,e,m;function P(i,L){if(!V)V=L;else if(!e)e=L;else{var S="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),m=L(v),typeof window<"u"&&(m.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return P(["exports"],function(i){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var S="1.13.4",v=p;function p(R,D,H,ae){this.cx=3*R,this.bx=3*(H-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ae-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ae,this.p2x=H,this.p2y=ae}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var H,ae,de,Te,Ce;for(de=R,Ce=0;Ce<8;Ce++){if(Te=this.sampleCurveX(de)-R,Math.abs(Te)<D)return de;var Qe=this.sampleCurveDerivativeX(de);if(Math.abs(Qe)<1e-6)break;de=de-Te/Qe}if(H=0,ae=1,de=R,de<H)return H;if(de>ae)return ae;for(;H<ae;){if(Te=this.sampleCurveX(de),Math.abs(Te-R)<D)return de;R>Te?H=de:ae=de,de=(ae-H)*.5+H}return de},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var r=t;function t(R,D){this.x=R,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,H=R.y-this.y;return D*D+H*H},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,H=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=H,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),H=Math.sin(R),ae=D*this.x-H*this.y,de=H*this.x+D*this.y;return this.x=ae,this.y=de,this},_rotateAround:function(R,D){var H=Math.cos(R),ae=Math.sin(R),de=D.x+H*(this.x-D.x)-ae*(this.y-D.y),Te=D.y+ae*(this.x-D.x)+H*(this.y-D.y);return this.x=de,this.y=Te,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(R){return R instanceof t?R:Array.isArray(R)?new t(R[0],R[1]):R};var a=typeof self<"u"?self:{};function n(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var H=0;H<R.length;H++)if(!n(R[H],D[H]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ae=Object.keys(R);if(ae.length!==Object.keys(D).length)return!1;for(var de in R)if(!n(R[de],D[de]))return!1;return!0}return R===D}var f=Math.pow(2,53)-1;function l(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,H=D*R;return 4*(R<.5?H:3*(R-D)+H-.75)}function u(R,D,H,ae){var de=new v(R,D,H,ae);return function(Te){return de.solve(Te)}}var g=u(.25,.1,.25,1);function h(R,D,H){return Math.min(H,Math.max(D,R))}function T(R,D,H){var ae=H-D,de=((R-D)%ae+ae)%ae+D;return de===D?H:de}function c(R,D,H){if(!R.length)return H(null,[]);var ae=R.length,de=new Array(R.length),Te=null;R.forEach(function(Ce,Qe){D(Ce,function(dt,St){dt&&(Te=dt),de[Qe]=St,--ae===0&&H(Te,de)})})}function o(R){var D=[];for(var H in R)D.push(R[H]);return D}function d(R,D){var H=[];for(var ae in R)ae in D||H.push(ae);return H}function x(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];for(var Ce in Te)R[Ce]=Te[Ce]}return R}function w(R,D){for(var H={},ae=0;ae<D.length;ae++){var de=D[ae];de in R&&(H[de]=R[de])}return H}var C=1;function y(){return C++}function M(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function A(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function s(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function E(R,D){R.forEach(function(H){D[H]&&(D[H]=D[H].bind(D))})}function b(R,D){return R.indexOf(D,R.length-D.length)!==-1}function F(R,D,H){var ae={};for(var de in R)ae[de]=D.call(H||this,R[de],de,R);return ae}function I(R,D,H){var ae={};for(var de in R)D.call(H||this,R[de],de,R)&&(ae[de]=R[de]);return ae}function N(R){return Array.isArray(R)?R.map(N):typeof R=="object"&&R?F(R,N):R}function _(R,D){for(var H=0;H<R.length;H++)if(D.indexOf(R[H])>=0)return!0;return!1}var O={};function B(R){O[R]||(typeof console<"u"&&console.warn(R),O[R]=!0)}function z(R,D,H){return(H.y-R.y)*(D.x-R.x)>(D.y-R.y)*(H.x-R.x)}function U(R){for(var D=0,H=0,ae=R.length,de=ae-1,Te=void 0,Ce=void 0;H<ae;de=H++)Te=R[H],Ce=R[de],D+=(Ce.x-Te.x)*(Te.y+Ce.y);return D}function Z(R){var D=R[0],H=R[1],ae=R[2];return H+=90,H*=Math.PI/180,ae*=Math.PI/180,{x:D*Math.cos(H)*Math.sin(ae),y:D*Math.sin(H)*Math.sin(ae),z:D*Math.cos(ae)}}function J(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function re(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,H={};if(R.replace(D,function(de,Te,Ce,Qe){var dt=Ce||Qe;return H[Te]=dt?dt.toLowerCase():!0,""}),H["max-age"]){var ae=parseInt(H["max-age"],10);isNaN(ae)?delete H["max-age"]:H["max-age"]=ae}return H}var ne=null;function ue(R){if(ne==null){var D=R.navigator?R.navigator.userAgent:null;ne=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return ne}function te(R){try{var D=a[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function Q(R){return a.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,H){return String.fromCharCode(+("0x"+H))}))}function ie(R){return decodeURIComponent(a.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),$=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,oe=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,j,X,se={now:Y,frame:function(D){var H=$(D);return{cancel:function(){return oe(H)}}},getImageData:function(D,H){H===void 0&&(H=0);var ae=a.document.createElement("canvas"),de=ae.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ae.width=D.width,ae.height=D.height,de.drawImage(D,0,0,D.width,D.height),de.getImageData(-H,-H,D.width+2*H,D.height+2*H)},resolveURL:function(D){return j||(j=a.document.createElement("a")),j.href=D,j.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return a.matchMedia?(X==null&&(X=a.matchMedia("(prefers-reduced-motion: reduce)")),X.matches):!1}},q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:ke},ye,we=!1,be,De=!1;a.document&&(be=a.document.createElement("img"),be.onload=function(){ye&&Be(ye),ye=null,De=!0},be.onerror=function(){we=!0,ye=null},be.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function ke(R){we||!be||(De?Be(R):ye=R)}function Be(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,be),R.isContextLost())return;ce.supported=!0}catch{}R.deleteTexture(D),we=!0}var Ae="01";function Ie(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="",ae=0;ae<10;ae++)H+=D[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Te=[R,Ae,H].join(""),Ce=Date.now()+de;return{token:Te,tokenExpiresAt:Ce}}var Me=function(D,H){this._transformRequestFn=D,this._customAccessToken=H,this._createSkuToken()};Me.prototype._createSkuToken=function(){var D=Ie();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Me.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Me.prototype.transformRequest=function(D,H){return this._transformRequestFn?this._transformRequestFn(D,H)||{url:D}:{url:D}},Me.prototype.normalizeStyleURL=function(D,H){if(!Fe(D))return D;var ae=qe(D);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||H)},Me.prototype.normalizeGlyphsURL=function(D,H){if(!Fe(D))return D;var ae=qe(D);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||H)},Me.prototype.normalizeSourceURL=function(D,H){if(!Fe(D))return D;var ae=qe(D);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||H)},Me.prototype.normalizeSpriteURL=function(D,H,ae,de){var Te=qe(D);return Fe(D)?(Te.path="/styles/v1"+Te.path+"/sprite"+H+ae,this._makeAPIURL(Te,this._customAccessToken||de)):(Te.path+=""+H+ae,ht(Te))},Me.prototype.normalizeTileURL=function(D,H){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!Fe(D))return D;var ae=qe(D),de=/(\.(png|jpg)\d*)(?=$)/,Te=/^.+\/v4\//,Ce=se.devicePixelRatio>=2||H===512?"@2x":"",Qe=ce.supported?".webp":"$1";ae.path=ae.path.replace(de,""+Ce+Qe),ae.path=ae.path.replace(Te,"/"),ae.path="/v4"+ae.path;var dt=this._customAccessToken||ot(ae.params)||q.ACCESS_TOKEN;return q.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,dt)},Me.prototype.canonicalizeTileURL=function(D,H){var ae="/v4/",de=/\.[\w]+$/,Te=qe(D);if(!Te.path.match(/(^\/v4\/)/)||!Te.path.match(de))return D;var Ce="mapbox://tiles/";Ce+=Te.path.replace(ae,"");var Qe=Te.params;return H&&(Qe=Qe.filter(function(dt){return!dt.match(/^access_token=/)})),Qe.length&&(Ce+="?"+Qe.join("&")),Ce},Me.prototype.canonicalizeTileset=function(D,H){for(var ae=H?Fe(H):!1,de=[],Te=0,Ce=D.tiles||[];Te<Ce.length;Te+=1){var Qe=Ce[Te];He(Qe)?de.push(this.canonicalizeTileURL(Qe,ae)):de.push(Qe)}return de},Me.prototype._makeAPIURL=function(D,H){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=qe(q.API_URL);if(D.protocol=de.protocol,D.authority=de.authority,D.protocol==="http"){var Te=D.params.indexOf("secure");Te>=0&&D.params.splice(Te,1)}if(de.path!=="/"&&(D.path=""+de.path+D.path),!q.REQUIRE_ACCESS_TOKEN)return ht(D);if(H=H||q.ACCESS_TOKEN,!H)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(H[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return D.params=D.params.filter(function(Ce){return Ce.indexOf("access_token")===-1}),D.params.push("access_token="+H),ht(D)};function Fe(R){return R.indexOf("mapbox:")===0}var Ee=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(R){return Ee.test(R)}function rt(R){return R.indexOf("sku=")>0&&He(R)}function ot(R){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D],de=ae.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var $e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qe(R){var D=R.match($e);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ht(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var vt="mapbox.eventData";function pt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var H=JSON.parse(ie(D[1]));return H}catch{return null}}var wt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};wt.prototype.getStorageKey=function(D){var H=pt(q.ACCESS_TOKEN),ae="";return H&&H.u?ae=Q(H.u):ae=q.ACCESS_TOKEN||"",D?vt+"."+D+":"+ae:vt+":"+ae},wt.prototype.fetchEventData=function(){var D=te("localStorage"),H=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{var de=a.localStorage.getItem(H);de&&(this.eventData=JSON.parse(de));var Te=a.localStorage.getItem(ae);Te&&(this.anonId=Te)}catch{B("Unable to read from LocalStorage")}},wt.prototype.saveEventData=function(){var D=te("localStorage"),H=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{a.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(H,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},wt.prototype.processRequests=function(D){},wt.prototype.postEvent=function(D,H,ae,de){var Te=this;if(q.EVENTS_URL){var Ce=qe(q.EVENTS_URL);Ce.params.push("access_token="+(de||q.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:Ae,userId:this.anonId},dt=H?x(Qe,H):Qe,St={url:ht(Ce),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Nt(St,function(Pt){Te.pendingRequest=null,ae(Pt),Te.saveEventData(),Te.processRequests(de)})}},wt.prototype.queueRequest=function(D,H){this.queue.push(D),this.processRequests(H)};var Mt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ae,de,Te,Ce){this.skuToken=Te,(q.EVENTS_URL&&Ce||q.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Qe){return Fe(Qe)||He(Qe)}))&&this.queueRequest({id:de,timestamp:Date.now()},Ce)},D.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Te=this.queue.shift(),Ce=Te.id,Qe=Te.timestamp;Ce&&this.success[Ce]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=M()),this.postEvent(Qe,{skuToken:this.skuToken},function(dt){dt||Ce&&(de.success[Ce]=!0)},ae))}},D}(wt),nt=function(R){function D(H){R.call(this,"appUserTurnstile"),this._customAccessToken=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ae,de){q.EVENTS_URL&&q.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Te){return Fe(Te)||He(Te)})&&this.queueRequest(Date.now(),de)},D.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Te=pt(q.ACCESS_TOKEN),Ce=Te?Te.u:q.ACCESS_TOKEN,Qe=Ce!==this.eventData.tokenU;s(this.anonId)||(this.anonId=M(),Qe=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Pt=new Date(dt),Yt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Yt>=1||Yt<-1||St.getDate()!==Pt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(rr){rr||(de.eventData.lastSuccess=dt,de.eventData.tokenU=Ce)},ae)}},D}(wt),_e=new nt,Ge=_e.postTurnstileEvent.bind(_e),je=new Mt,We=je.postMapLoadEvent.bind(je),Pe="mapbox-tiles",Re=500,Xe=50,Le=1e3*60*7,ve;function xe(){a.caches&&!ve&&(ve=a.caches.open(Pe))}var Ne;function et(R,D){if(Ne===void 0)try{new Response(new ReadableStream),Ne=!0}catch{Ne=!1}Ne?D(R.body):R.blob().then(D)}function st(R,D,H){if(xe(),!!ve){var ae={status:D.status,statusText:D.statusText,headers:new a.Headers};D.headers.forEach(function(Ce,Qe){return ae.headers.set(Qe,Ce)});var de=re(D.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ae.headers.set("Expires",new Date(H+de["max-age"]*1e3).toUTCString());var Te=new Date(ae.headers.get("Expires")).getTime()-H;Te<Le||et(D,function(Ce){var Qe=new a.Response(Ce,ae);xe(),ve&&ve.then(function(dt){return dt.put(lt(R.url),Qe)}).catch(function(dt){return B(dt.message)})})}}}function lt(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function Gt(R,D){if(xe(),!ve)return D(null);var H=lt(R.url);ve.then(function(ae){ae.match(H).then(function(de){var Te=jt(de);ae.delete(H),Te&&ae.put(H,de.clone()),D(null,de,Te)}).catch(D)}).catch(D)}function jt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),H=re(R.headers.get("Cache-Control")||"");return D>Date.now()&&!H["no-cache"]}var Tt=1/0;function Dt(R){Tt++,Tt>Xe&&(R.getActor().send("enforceCacheSizeLimit",Re),Tt=0)}function Xt(R){xe(),ve&&ve.then(function(D){D.keys().then(function(H){for(var ae=0;ae<H.length-R;ae++)D.delete(H[ae])})})}function gr(R){var D=a.caches.delete(Pe);R&&D.catch(R).then(function(){return R()})}function gt(R,D){Re=R,Xe=D}var Zt;function Qt(){return Zt==null&&(Zt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),Zt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var or=function(R){function D(H,ae,de){ae===401&&He(de)&&(H+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,H),this.status=ae,this.url=de,this.name=this.constructor.name,this.message=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),mt=J()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href},ut=function(R){return/^file:/.test(R)||/^file:/.test(mt())&&!/^\w+:/.test(R)};function bt(R,D){var H=new a.AbortController,ae=new a.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:mt(),signal:H.signal}),de=!1,Te=!1,Ce=rt(ae.url);R.type==="json"&&ae.headers.set("Accept","application/json");var Qe=function(St,Pt,Yt){if(!Te){if(St&&St.message!=="SecurityError"&&B(St),Pt&&Yt)return dt(Pt);var rr=Date.now();a.fetch(ae).then(function(qt){if(qt.ok){var xr=Ce?qt.clone():null;return dt(qt,xr,rr)}else return D(new or(qt.statusText,qt.status,R.url))}).catch(function(qt){qt.code!==20&&D(new Error(qt.message))})}},dt=function(St,Pt,Yt){(R.type==="arrayBuffer"?St.arrayBuffer():R.type==="json"?St.json():St.text()).then(function(rr){Te||(Pt&&Yt&&st(ae,Pt,Yt),de=!0,D(null,rr,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(rr){Te||D(new Error(rr.message))})};return Ce?Gt(ae,Qe):Qe(null,null),{cancel:function(){Te=!0,de||H.abort()}}}function Et(R,D){var H=new a.XMLHttpRequest;H.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(H.responseType="arraybuffer");for(var ae in R.headers)H.setRequestHeader(ae,R.headers[ae]);return R.type==="json"&&(H.responseType="text",H.setRequestHeader("Accept","application/json")),H.withCredentials=R.credentials==="include",H.onerror=function(){D(new Error(H.statusText))},H.onload=function(){if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){var de=H.response;if(R.type==="json")try{de=JSON.parse(H.response)}catch(Te){return D(Te)}D(null,de,H.getResponseHeader("Cache-Control"),H.getResponseHeader("Expires"))}else D(new or(H.statusText,H.status,R.url))},H.send(R.body),{cancel:function(){return H.abort()}}}var Rt=function(R,D){if(!ut(R.url)){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return bt(R,D);if(J()&&self.worker&&self.worker.actor){var H=!0;return self.worker.actor.send("getResource",R,D,void 0,H)}}return Et(R,D)},Ht=function(R,D){return Rt(x(R,{type:"json"}),D)},Bt=function(R,D){return Rt(x(R,{type:"arrayBuffer"}),D)},Nt=function(R,D){return Rt(x(R,{method:"POST"}),D)};function Jt(R){var D=a.document.createElement("a");return D.href=R,D.protocol===a.document.location.protocol&&D.host===a.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function fr(R,D,H,ae){var de=new a.Image,Te=a.URL;de.onload=function(){D(null,de),Te.revokeObjectURL(de.src),de.onload=null,a.requestAnimationFrame(function(){de.src=hr})},de.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ce=new a.Blob([new Uint8Array(R)],{type:"image/png"});de.cacheControl=H,de.expires=ae,de.src=R.byteLength?Te.createObjectURL(Ce):hr}function dr(R,D){var H=new a.Blob([new Uint8Array(R)],{type:"image/png"});a.createImageBitmap(H).then(function(ae){D(null,ae)}).catch(function(ae){D(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,Ve,_t=function(){Ye=[],Ve=0};_t();var kt=function(R,D){if(ce.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Ve>=q.MAX_PARALLEL_IMAGE_REQUESTS){var H={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(H),H}Ve++;var ae=!1,de=function(){if(!ae)for(ae=!0,Ve--;Ye.length&&Ve<q.MAX_PARALLEL_IMAGE_REQUESTS;){var Ce=Ye.shift(),Qe=Ce.requestParameters,dt=Ce.callback,St=Ce.cancelled;St||(Ce.cancel=kt(Qe,dt).cancel)}},Te=Bt(R,function(Ce,Qe,dt,St){de(),Ce?D(Ce):Qe&&(Qt()?dr(Qe,D):fr(Qe,D,dt,St))});return{cancel:function(){Te.cancel(),de()}}},Kt=function(R,D){var H=a.document.createElement("video");H.muted=!0,H.onloadstart=function(){D(null,H)};for(var ae=0;ae<R.length;ae++){var de=a.document.createElement("source");Jt(R[ae])||(H.crossOrigin="Anonymous"),de.src=R[ae],H.appendChild(de)}return{cancel:function(){}}};function sr(R,D,H){var ae=H[R]&&H[R].indexOf(D)!==-1;ae||(H[R]=H[R]||[],H[R].push(D))}function cr(R,D,H){if(H&&H[R]){var ae=H[R].indexOf(D);ae!==-1&&H[R].splice(ae,1)}}var er=function(D,H){H===void 0&&(H={}),x(this,H),this.type=D},Ot=function(R){function D(H,ae){ae===void 0&&(ae={}),R.call(this,"error",x({error:H},ae))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(er),nr=function(){};nr.prototype.on=function(D,H){return this._listeners=this._listeners||{},sr(D,H,this._listeners),this},nr.prototype.off=function(D,H){return cr(D,H,this._listeners),cr(D,H,this._oneTimeListeners),this},nr.prototype.once=function(D,H){return this._oneTimeListeners=this._oneTimeListeners||{},sr(D,H,this._oneTimeListeners),this},nr.prototype.fire=function(D,H){typeof D=="string"&&(D=new er(D,H||{}));var ae=D.type;if(this.listens(ae)){D.target=this;for(var de=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Te=0,Ce=de;Te<Ce.length;Te+=1){var Qe=Ce[Te];Qe.call(this,D)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],St=0,Pt=dt;St<Pt.length;St+=1){var Yt=Pt[St];cr(ae,Yt,this._oneTimeListeners),Yt.call(this,D)}var rr=this._eventedParent;rr&&(x(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),rr.fire(D))}else D instanceof Ot&&console.error(D.error);return this},nr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},nr.prototype.setEventedParent=function(D,H){return this._eventedParent=D,this._eventedParentData=H,this};var vr=8,wr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},ur={"*":{type:"source"}},Vr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},ln={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Wr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Tn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},An={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Fr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Yr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_r={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},un={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Sn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ln={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Un={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},na={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ga={type:"array",value:"*"},xa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ca={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Vn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},mr={type:"array",value:"*",minimum:1},Jr={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},_n={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},xn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},bn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Bn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Jn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ha={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},Sr={$version:vr,$root:wr,sources:ur,source:Vr,source_vector:Pr,source_raster:Dr,source_raster_dem:ln,source_geojson:Wr,source_video:Tn,source_image:An,layer:Tr,layout:Fr,layout_background:Yr,layout_fill:_r,layout_circle:on,layout_heatmap:un,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Sn,layout_symbol:Ln,layout_raster:Un,layout_hillshade:na,filter:ga,filter_operator:xa,geometry_type:ca,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Vn,expression:mr,light:Jr,paint:Qr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:_n,paint_circle:xn,paint_heatmap:bn,paint_symbol:Bn,paint_raster:Jn,paint_hillshade:ha,paint_background:Ia,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Or=function(D,H,ae,de){this.message=(D?D+": ":"")+ae,de&&(this.identifier=de),H!=null&&H.__line__&&(this.line=H.__line__)};function yn(R){var D=R.key,H=R.value;return H?[new Or(D,H,"constants have been deprecated as of v8")]:[]}function Rn(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];for(var Ce in Te)R[Ce]=Te[Ce]}return R}function pn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function sn(R){if(Array.isArray(R))return R.map(sn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var H in R)D[H]=sn(R[H]);return D}return pn(R)}var Er=function(R){function D(H,ae){R.call(this,ae),this.message=ae,this.key=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),Zr=function(D,H){H===void 0&&(H=[]),this.parent=D,this.bindings={};for(var ae=0,de=H;ae<de.length;ae+=1){var Te=de[ae],Ce=Te[0],Qe=Te[1];this.bindings[Ce]=Qe}};Zr.prototype.concat=function(D){return new Zr(this,D)},Zr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Zr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Hr={kind:"null"},en={kind:"number"},wn={kind:"string"},Fn={kind:"boolean"},Mn={kind:"color"},Nn={kind:"object"},zn={kind:"value"},fa={kind:"error"},ia={kind:"collator"},pa={kind:"formatted"},La={kind:"resolvedImage"};function yi(R,D){return{kind:"array",itemType:R,N:D}}function ii(R){if(R.kind==="array"){var D=ii(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var Bo=[Hr,en,wn,Fn,Mn,pa,Nn,yi(zn),La];function Ro(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Ro(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var H=0,ae=Bo;H<ae.length;H+=1){var de=ae[H];if(!Ro(de,D))return null}}return"Expected "+ii(R)+" but found "+ii(D)+" instead."}function no(R,D){return D.some(function(H){return H.kind===R.kind})}function kl(R,D){return D.some(function(H){return H==="null"?R===null:H==="array"?Array.isArray(R):H==="object"?R&&!Array.isArray(R)&&typeof R=="object":H===typeof R})}var wf=L(function(R,D){var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(St){return St=Math.round(St),St<0?0:St>255?255:St}function de(St){return St<0?0:St>1?1:St}function Te(St){return St[St.length-1]==="%"?ae(parseFloat(St)/100*255):ae(parseInt(St))}function Ce(St){return St[St.length-1]==="%"?de(parseFloat(St)/100):de(parseFloat(St))}function Qe(St,Pt,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?St+(Pt-St)*Yt*6:Yt*2<1?Pt:Yt*3<2?St+(Pt-St)*(2/3-Yt)*6:St}function dt(St){var Pt=St.replace(/ /g,"").toLowerCase();if(Pt in H)return H[Pt].slice();if(Pt[0]==="#"){if(Pt.length===4){var Yt=parseInt(Pt.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(Pt.length===7){var Yt=parseInt(Pt.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var rr=Pt.indexOf("("),qt=Pt.indexOf(")");if(rr!==-1&&qt+1===Pt.length){var xr=Pt.substr(0,rr),Br=Pt.substr(rr+1,qt-(rr+1)).split(","),fn=1;switch(xr){case"rgba":if(Br.length!==4)return null;fn=Ce(Br.pop());case"rgb":return Br.length!==3?null:[Te(Br[0]),Te(Br[1]),Te(Br[2]),fn];case"hsla":if(Br.length!==4)return null;fn=Ce(Br.pop());case"hsl":if(Br.length!==3)return null;var rn=(parseFloat(Br[0])%360+360)%360/360,Cn=Ce(Br[1]),gn=Ce(Br[2]),En=gn<=.5?gn*(Cn+1):gn+Cn-gn*Cn,kn=gn*2-En;return[ae(Qe(kn,En,rn+1/3)*255),ae(Qe(kn,En,rn)*255),ae(Qe(kn,En,rn-1/3)*255),fn];default:return null}}return null}try{D.parseCSSColor=dt}catch{}}),ac=wf.parseCSSColor,ti=function(D,H,ae,de){de===void 0&&(de=1),this.r=D,this.g=H,this.b=ae,this.a=de};ti.parse=function(D){if(D){if(D instanceof ti)return D;if(typeof D=="string"){var H=ac(D);if(H)return new ti(H[0]/255*H[3],H[1]/255*H[3],H[2]/255*H[3],H[3])}}},ti.prototype.toString=function(){var D=this.toArray(),H=D[0],ae=D[1],de=D[2],Te=D[3];return"rgba("+Math.round(H)+","+Math.round(ae)+","+Math.round(de)+","+Te+")"},ti.prototype.toArray=function(){var D=this,H=D.r,ae=D.g,de=D.b,Te=D.a;return Te===0?[0,0,0,0]:[H*255/Te,ae*255/Te,de*255/Te,Te]},ti.black=new ti(0,0,0,1),ti.white=new ti(1,1,1,1),ti.transparent=new ti(0,0,0,0),ti.red=new ti(1,0,0,1);var cu=function(D,H,ae){D?this.sensitivity=H?"variant":"case":this.sensitivity=H?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};cu.prototype.compare=function(D,H){return this.collator.compare(D,H)},cu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Tf=function(D,H,ae,de,Te){this.text=D,this.image=H,this.scale=ae,this.fontStack=de,this.textColor=Te},Qi=function(D){this.sections=D};Qi.fromString=function(D){return new Qi([new Tf(D,null,null,null,null)])},Qi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Qi.factory=function(D){return D instanceof Qi?D:Qi.fromString(D)},Qi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Qi.prototype.serialize=function(){for(var D=["format"],H=0,ae=this.sections;H<ae.length;H+=1){var de=ae[H];if(de.image){D.push(["image",de.image.name]);continue}D.push(de.text);var Te={};de.fontStack&&(Te["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Te["font-scale"]=de.scale),de.textColor&&(Te["text-color"]=["rgba"].concat(de.textColor.toArray())),D.push(Te)}return D};var To=function(D){this.name=D.name,this.available=D.available};To.prototype.toString=function(){return this.name},To.fromString=function(D){return D?new To({name:D,available:!1}):null},To.prototype.serialize=function(){return["image",this.name]};function Fl(R,D,H,ae){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof H=="number"&&H>=0&&H<=255)){var de=typeof ae=="number"?[R,D,H,ae]:[R,D,H];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[R,D,H,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Zu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof ti)return!0;if(R instanceof cu)return!0;if(R instanceof Qi)return!0;if(R instanceof To)return!0;if(Array.isArray(R)){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D];if(!Zu(ae))return!1}return!0}else if(typeof R=="object"){for(var de in R)if(!Zu(R[de]))return!1;return!0}else return!1}function Fi(R){if(R===null)return Hr;if(typeof R=="string")return wn;if(typeof R=="boolean")return Fn;if(typeof R=="number")return en;if(R instanceof ti)return Mn;if(R instanceof cu)return ia;if(R instanceof Qi)return pa;if(R instanceof To)return La;if(Array.isArray(R)){for(var D=R.length,H,ae=0,de=R;ae<de.length;ae+=1){var Te=de[ae],Ce=Fi(Te);if(!H)H=Ce;else{if(H===Ce)continue;H=zn;break}}return yi(H||zn,D)}else return Nn}function _l(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof ti||R instanceof Qi||R instanceof To?R.toString():JSON.stringify(R)}var Oi=function(D,H){this.type=D,this.value=H};Oi.parse=function(D,H){if(D.length!==2)return H.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!Zu(D[1]))return H.error("invalid value");var ae=D[1],de=Fi(ae),Te=H.expectedType;return de.kind==="array"&&de.N===0&&Te&&Te.kind==="array"&&(typeof Te.N!="number"||Te.N===0)&&(de=Te),new Oi(de,ae)},Oi.prototype.evaluate=function(){return this.value},Oi.prototype.eachChild=function(){},Oi.prototype.outputDefined=function(){return!0},Oi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ti?["rgba"].concat(this.value.toArray()):this.value instanceof Qi?this.value.serialize():this.value};var Gi=function(D){this.name="ExpressionEvaluationError",this.message=D};Gi.prototype.toJSON=function(){return this.message};var zl={string:wn,number:en,boolean:Fn,object:Nn},ao=function(D,H){this.type=D,this.args=H};ao.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ae=1,de,Te=D[0];if(Te==="array"){var Ce;if(D.length>2){var Qe=D[1];if(typeof Qe!="string"||!(Qe in zl)||Qe==="object")return H.error('The item type argument of "array" must be one of string, number, boolean',1);Ce=zl[Qe],ae++}else Ce=zn;var dt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return H.error('The length argument to "array" must be a positive integer literal',2);dt=D[2],ae++}de=yi(Ce,dt)}else de=zl[Te];for(var St=[];ae<D.length;ae++){var Pt=H.parse(D[ae],ae,zn);if(!Pt)return null;St.push(Pt)}return new ao(de,St)},ao.prototype.evaluate=function(D){for(var H=0;H<this.args.length;H++){var ae=this.args[H].evaluate(D),de=Ro(this.type,Fi(ae));if(de){if(H===this.args.length-1)throw new Gi("Expected value to be of type "+ii(this.type)+", but found "+ii(Fi(ae))+" instead.")}else return ae}return null},ao.prototype.eachChild=function(D){this.args.forEach(D)},ao.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},ao.prototype.serialize=function(){var D=this.type,H=[D.kind];if(D.kind==="array"){var ae=D.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){H.push(ae.kind);var de=D.N;(typeof de=="number"||this.args.length>1)&&H.push(de)}}return H.concat(this.args.map(function(Te){return Te.serialize()}))};var io=function(D){this.type=pa,this.sections=D};io.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ae=D[1];if(!Array.isArray(ae)&&typeof ae=="object")return H.error("First argument must be an image or text section.");for(var de=[],Te=!1,Ce=1;Ce<=D.length-1;++Ce){var Qe=D[Ce];if(Te&&typeof Qe=="object"&&!Array.isArray(Qe)){Te=!1;var dt=null;if(Qe["font-scale"]&&(dt=H.parse(Qe["font-scale"],1,en),!dt))return null;var St=null;if(Qe["text-font"]&&(St=H.parse(Qe["text-font"],1,yi(wn)),!St))return null;var Pt=null;if(Qe["text-color"]&&(Pt=H.parse(Qe["text-color"],1,Mn),!Pt))return null;var Yt=de[de.length-1];Yt.scale=dt,Yt.font=St,Yt.textColor=Pt}else{var rr=H.parse(D[Ce],1,zn);if(!rr)return null;var qt=rr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return H.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Te=!0,de.push({content:rr,scale:null,font:null,textColor:null})}}return new io(de)},io.prototype.evaluate=function(D){var H=function(ae){var de=ae.content.evaluate(D);return Fi(de)===La?new Tf("",de,null,null,null):new Tf(_l(de),null,ae.scale?ae.scale.evaluate(D):null,ae.font?ae.font.evaluate(D).join(","):null,ae.textColor?ae.textColor.evaluate(D):null)};return new Qi(this.sections.map(H))},io.prototype.eachChild=function(D){for(var H=0,ae=this.sections;H<ae.length;H+=1){var de=ae[H];D(de.content),de.scale&&D(de.scale),de.font&&D(de.font),de.textColor&&D(de.textColor)}},io.prototype.outputDefined=function(){return!1},io.prototype.serialize=function(){for(var D=["format"],H=0,ae=this.sections;H<ae.length;H+=1){var de=ae[H];D.push(de.content.serialize());var Te={};de.scale&&(Te["font-scale"]=de.scale.serialize()),de.font&&(Te["text-font"]=de.font.serialize()),de.textColor&&(Te["text-color"]=de.textColor.serialize()),D.push(Te)}return D};var No=function(D){this.type=La,this.input=D};No.parse=function(D,H){if(D.length!==2)return H.error("Expected two arguments.");var ae=H.parse(D[1],1,wn);return ae?new No(ae):H.error("No image name provided.")},No.prototype.evaluate=function(D){var H=this.input.evaluate(D),ae=To.fromString(H);return ae&&D.availableImages&&(ae.available=D.availableImages.indexOf(H)>-1),ae},No.prototype.eachChild=function(D){D(this.input)},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){return["image",this.input.serialize()]};var ic={"to-boolean":Fn,"to-color":Mn,"to-number":en,"to-string":wn},Do=function(D,H){this.type=D,this.args=H};Do.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var ae=D[0];if((ae==="to-boolean"||ae==="to-string")&&D.length!==2)return H.error("Expected one argument.");for(var de=ic[ae],Te=[],Ce=1;Ce<D.length;Ce++){var Qe=H.parse(D[Ce],Ce,zn);if(!Qe)return null;Te.push(Qe)}return new Do(de,Te)},Do.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var H,ae,de=0,Te=this.args;de<Te.length;de+=1){var Ce=Te[de];if(H=Ce.evaluate(D),ae=null,H instanceof ti)return H;if(typeof H=="string"){var Qe=D.parseColor(H);if(Qe)return Qe}else if(Array.isArray(H)&&(H.length<3||H.length>4?ae="Invalid rbga value "+JSON.stringify(H)+": expected an array containing either three or four numeric values.":ae=Fl(H[0],H[1],H[2],H[3]),!ae))return new ti(H[0]/255,H[1]/255,H[2]/255,H[3])}throw new Gi(ae||"Could not parse color from value '"+(typeof H=="string"?H:String(JSON.stringify(H)))+"'")}else if(this.type.kind==="number"){for(var dt=null,St=0,Pt=this.args;St<Pt.length;St+=1){var Yt=Pt[St];if(dt=Yt.evaluate(D),dt===null)return 0;var rr=Number(dt);if(!isNaN(rr))return rr}throw new Gi("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?Qi.fromString(_l(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?To.fromString(_l(this.args[0].evaluate(D))):_l(this.args[0].evaluate(D))},Do.prototype.eachChild=function(D){this.args.forEach(D)},Do.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Do.prototype.serialize=function(){if(this.type.kind==="formatted")return new io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new No(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(H){D.push(H.serialize())}),D};var ch=["Unknown","Point","LineString","Polygon"],gs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ch[this.feature.type]:this.feature.type:null},gs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gs.prototype.canonicalID=function(){return this.canonical},gs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gs.prototype.parseColor=function(D){var H=this._parseColorCache[D];return H||(H=this._parseColorCache[D]=ti.parse(D)),H};var $i=function(D,H,ae,de){this.name=D,this.type=H,this._evaluate=ae,this.args=de};$i.prototype.evaluate=function(D){return this._evaluate(D,this.args)},$i.prototype.eachChild=function(D){this.args.forEach(D)},$i.prototype.outputDefined=function(){return!1},$i.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},$i.parse=function(D,H){var ae,de=D[0],Te=$i.definitions[de];if(!Te)return H.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ce=Array.isArray(Te)?Te[0]:Te.type,Qe=Array.isArray(Te)?[[Te[1],Te[2]]]:Te.overloads,dt=Qe.filter(function(Ta){var Ea=Ta[0];return!Array.isArray(Ea)||Ea.length===D.length-1}),St=null,Pt=0,Yt=dt;Pt<Yt.length;Pt+=1){var rr=Yt[Pt],qt=rr[0],xr=rr[1];St=new ms(H.registry,H.path,null,H.scope);for(var Br=[],fn=!1,rn=1;rn<D.length;rn++){var Cn=D[rn],gn=Array.isArray(qt)?qt[rn-1]:qt.type,En=St.parse(Cn,1+Br.length,gn);if(!En){fn=!0;break}Br.push(En)}if(!fn){if(Array.isArray(qt)&&qt.length!==Br.length){St.error("Expected "+qt.length+" arguments, but found "+Br.length+" instead.");continue}for(var kn=0;kn<Br.length;kn++){var Wn=Array.isArray(qt)?qt[kn]:qt.type,ra=Br[kn];St.concat(kn+1).checkSubtype(Wn,ra.type)}if(St.errors.length===0)return new $i(de,Ce,xr,Br)}}if(dt.length===1)(ae=H.errors).push.apply(ae,St.errors);else{for(var qn=dt.length?dt:Qe,wa=qn.map(function(Ta){var Ea=Ta[0];return Af(Ea)}).join(" | "),da=[],ba=1;ba<D.length;ba++){var Ua=H.parse(D[ba],1+da.length);if(!Ua)return null;da.push(ii(Ua.type))}H.error("Expected arguments of type "+wa+", but found ("+da.join(", ")+") instead.")}return null},$i.register=function(D,H){$i.definitions=H;for(var ae in H)D[ae]=$i};function Af(R){return Array.isArray(R)?"("+R.map(ii).join(", ")+")":"("+ii(R.type)+"...)"}var Xs=function(D,H,ae){this.type=ia,this.locale=ae,this.caseSensitive=D,this.diacriticSensitive=H};Xs.parse=function(D,H){if(D.length!==2)return H.error("Expected one argument.");var ae=D[1];if(typeof ae!="object"||Array.isArray(ae))return H.error("Collator options argument must be an object.");var de=H.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,Fn);if(!de)return null;var Te=H.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,Fn);if(!Te)return null;var Ce=null;return ae.locale&&(Ce=H.parse(ae.locale,1,wn),!Ce)?null:new Xs(de,Te,Ce)},Xs.prototype.evaluate=function(D){return new cu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Xs.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Xs.prototype.outputDefined=function(){return!1},Xs.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var ys=8192;function Sf(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function oc(R){return(180+R)/360}function hh(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Ku(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function vh(R,D){var H=oc(R[0]),ae=hh(R[1]),de=Math.pow(2,D.z);return[Math.round(H*de*ys),Math.round(ae*de*ys)]}function dh(R,D,H){var ae=R[0]-D[0],de=R[1]-D[1],Te=R[0]-H[0],Ce=R[1]-H[1];return ae*Ce-Te*de===0&&ae*Te<=0&&de*Ce<=0}function ph(R,D,H){return D[1]>R[1]!=H[1]>R[1]&&R[0]<(H[0]-D[0])*(R[1]-D[1])/(H[1]-D[1])+D[0]}function Mf(R,D){for(var H=!1,ae=0,de=D.length;ae<de;ae++)for(var Te=D[ae],Ce=0,Qe=Te.length;Ce<Qe-1;Ce++){if(dh(R,Te[Ce],Te[Ce+1]))return!1;ph(R,Te[Ce],Te[Ce+1])&&(H=!H)}return H}function gh(R,D){for(var H=0;H<D.length;H++)if(Mf(R,D[H]))return!0;return!1}function yh(R,D){return R[0]*D[1]-R[1]*D[0]}function sc(R,D,H,ae){var de=R[0]-H[0],Te=R[1]-H[1],Ce=D[0]-H[0],Qe=D[1]-H[1],dt=ae[0]-H[0],St=ae[1]-H[1],Pt=de*St-dt*Te,Yt=Ce*St-dt*Qe;return Pt>0&&Yt<0||Pt<0&&Yt>0}function lc(R,D,H,ae){var de=[D[0]-R[0],D[1]-R[1]],Te=[ae[0]-H[0],ae[1]-H[1]];return yh(Te,de)===0?!1:!!(sc(R,D,H,ae)&&sc(H,ae,R,D))}function hl(R,D,H){for(var ae=0,de=H;ae<de.length;ae+=1)for(var Te=de[ae],Ce=0;Ce<Te.length-1;++Ce)if(lc(R,D,Te[Ce],Te[Ce+1]))return!0;return!1}function Ol(R,D){for(var H=0;H<R.length;++H)if(!Mf(R[H],D))return!1;for(var ae=0;ae<R.length-1;++ae)if(hl(R[ae],R[ae+1],D))return!1;return!0}function hu(R,D){for(var H=0;H<D.length;H++)if(Ol(R,D[H]))return!0;return!1}function vu(R,D,H){for(var ae=[],de=0;de<R.length;de++){for(var Te=[],Ce=0;Ce<R[de].length;Ce++){var Qe=vh(R[de][Ce],H);Sf(D,Qe),Te.push(Qe)}ae.push(Te)}return ae}function uc(R,D,H){for(var ae=[],de=0;de<R.length;de++){var Te=vu(R[de],D,H);ae.push(Te)}return ae}function Rs(R,D,H,ae){if(R[0]<H[0]||R[0]>H[2]){var de=ae*.5,Te=R[0]-H[0]>de?-ae:H[0]-R[0]>de?ae:0;Te===0&&(Te=R[0]-H[2]>de?-ae:H[2]-R[0]>de?ae:0),R[0]+=Te}Sf(D,R)}function mh(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Ju(R,D,H,ae){for(var de=Math.pow(2,ae.z)*ys,Te=[ae.x*ys,ae.y*ys],Ce=[],Qe=0,dt=R;Qe<dt.length;Qe+=1)for(var St=dt[Qe],Pt=0,Yt=St;Pt<Yt.length;Pt+=1){var rr=Yt[Pt],qt=[rr.x+Te[0],rr.y+Te[1]];Rs(qt,D,H,de),Ce.push(qt)}return Ce}function fc(R,D,H,ae){for(var de=Math.pow(2,ae.z)*ys,Te=[ae.x*ys,ae.y*ys],Ce=[],Qe=0,dt=R;Qe<dt.length;Qe+=1){for(var St=dt[Qe],Pt=[],Yt=0,rr=St;Yt<rr.length;Yt+=1){var qt=rr[Yt],xr=[qt.x+Te[0],qt.y+Te[1]];Sf(D,xr),Pt.push(xr)}Ce.push(Pt)}if(D[2]-D[0]<=de/2){mh(D);for(var Br=0,fn=Ce;Br<fn.length;Br+=1)for(var rn=fn[Br],Cn=0,gn=rn;Cn<gn.length;Cn+=1){var En=gn[Cn];Rs(En,D,H,de)}}return Ce}function cc(R,D){var H=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=R.canonicalID();if(D.type==="Polygon"){var Te=vu(D.coordinates,ae,de),Ce=Ju(R.geometry(),H,ae,de);if(!Ku(H,ae))return!1;for(var Qe=0,dt=Ce;Qe<dt.length;Qe+=1){var St=dt[Qe];if(!Mf(St,Te))return!1}}if(D.type==="MultiPolygon"){var Pt=uc(D.coordinates,ae,de),Yt=Ju(R.geometry(),H,ae,de);if(!Ku(H,ae))return!1;for(var rr=0,qt=Yt;rr<qt.length;rr+=1){var xr=qt[rr];if(!gh(xr,Pt))return!1}}return!0}function Qu(R,D){var H=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=R.canonicalID();if(D.type==="Polygon"){var Te=vu(D.coordinates,ae,de),Ce=fc(R.geometry(),H,ae,de);if(!Ku(H,ae))return!1;for(var Qe=0,dt=Ce;Qe<dt.length;Qe+=1){var St=dt[Qe];if(!Ol(St,Te))return!1}}if(D.type==="MultiPolygon"){var Pt=uc(D.coordinates,ae,de),Yt=fc(R.geometry(),H,ae,de);if(!Ku(H,ae))return!1;for(var rr=0,qt=Yt;rr<qt.length;rr+=1){var xr=qt[rr];if(!hu(xr,Pt))return!1}}return!0}var qo=function(D,H){this.type=Fn,this.geojson=D,this.geometries=H};qo.parse=function(D,H){if(D.length!==2)return H.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(Zu(D[1])){var ae=D[1];if(ae.type==="FeatureCollection")for(var de=0;de<ae.features.length;++de){var Te=ae.features[de].geometry.type;if(Te==="Polygon"||Te==="MultiPolygon")return new qo(ae,ae.features[de].geometry)}else if(ae.type==="Feature"){var Ce=ae.geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new qo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new qo(ae,ae)}return H.error("'within' expression requires valid geojson object that contains polygon geometry type.")},qo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return cc(D,this.geometries);if(D.geometryType()==="LineString")return Qu(D,this.geometries)}return!1},qo.prototype.eachChild=function(){},qo.prototype.outputDefined=function(){return!0},qo.prototype.serialize=function(){return["within",this.geojson]};function Bl(R){if(R instanceof $i){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof qo)return!1;var D=!0;return R.eachChild(function(H){D&&!Bl(H)&&(D=!1)}),D}function vl(R){if(R instanceof $i&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(H){D&&!vl(H)&&(D=!1)}),D}function du(R,D){if(R instanceof $i&&D.indexOf(R.name)>=0)return!1;var H=!0;return R.eachChild(function(ae){H&&!du(ae,D)&&(H=!1)}),H}var js=function(D,H){this.type=H.type,this.name=D,this.boundExpression=H};js.parse=function(D,H){if(D.length!==2||typeof D[1]!="string")return H.error("'var' expression requires exactly one string literal argument.");var ae=D[1];return H.scope.has(ae)?new js(ae,H.scope.get(ae)):H.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},js.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},js.prototype.eachChild=function(){},js.prototype.outputDefined=function(){return!1},js.prototype.serialize=function(){return["var",this.name]};var ms=function(D,H,ae,de,Te){H===void 0&&(H=[]),de===void 0&&(de=new Zr),Te===void 0&&(Te=[]),this.registry=D,this.path=H,this.key=H.map(function(Ce){return"["+Ce+"]"}).join(""),this.scope=de,this.errors=Te,this.expectedType=ae};ms.prototype.parse=function(D,H,ae,de,Te){return Te===void 0&&(Te={}),H?this.concat(H,ae,de)._parse(D,Te):this._parse(D,Te)},ms.prototype._parse=function(D,H){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ae(Pt,Yt,rr){return rr==="assert"?new ao(Yt,[Pt]):rr==="coerce"?new Do(Yt,[Pt]):Pt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=D[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Te=this.registry[de];if(Te){var Ce=Te.parse(D,this);if(!Ce)return null;if(this.expectedType){var Qe=this.expectedType,dt=Ce.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&dt.kind==="value")Ce=ae(Ce,Qe,H.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))Ce=ae(Ce,Qe,H.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,dt))return null}if(!(Ce instanceof Oi)&&Ce.type.kind!=="resolvedImage"&&Ef(Ce)){var St=new gs;try{Ce=new Oi(Ce.type,Ce.evaluate(St))}catch(Pt){return this.error(Pt.message),null}}return Ce}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},ms.prototype.concat=function(D,H,ae){var de=typeof D=="number"?this.path.concat(D):this.path,Te=ae?this.scope.concat(ae):this.scope;return new ms(this.registry,de,H||null,Te,this.errors)},ms.prototype.error=function(D){for(var H=[],ae=arguments.length-1;ae-- >0;)H[ae]=arguments[ae+1];var de=""+this.key+H.map(function(Te){return"["+Te+"]"}).join("");this.errors.push(new Er(de,D))},ms.prototype.checkSubtype=function(D,H){var ae=Ro(D,H);return ae&&this.error(ae),ae};function Ef(R){if(R instanceof js)return Ef(R.boundExpression);if(R instanceof $i&&R.name==="error")return!1;if(R instanceof Xs)return!1;if(R instanceof qo)return!1;var D=R instanceof Do||R instanceof ao,H=!0;return R.eachChild(function(ae){D?H=H&&Ef(ae):H=H&&ae instanceof Oi}),H?Bl(R)&&du(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Nl(R,D){for(var H=R.length-1,ae=0,de=H,Te=0,Ce,Qe;ae<=de;)if(Te=Math.floor((ae+de)/2),Ce=R[Te],Qe=R[Te+1],Ce<=D){if(Te===H||D<Qe)return Te;ae=Te+1}else if(Ce>D)de=Te-1;else throw new Gi("Input is not a number.");return 0}var es=function(D,H,ae){this.type=D,this.input=H,this.labels=[],this.outputs=[];for(var de=0,Te=ae;de<Te.length;de+=1){var Ce=Te[de],Qe=Ce[0],dt=Ce[1];this.labels.push(Qe),this.outputs.push(dt)}};es.parse=function(D,H){if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");var ae=H.parse(D[1],1,en);if(!ae)return null;var de=[],Te=null;H.expectedType&&H.expectedType.kind!=="value"&&(Te=H.expectedType);for(var Ce=1;Ce<D.length;Ce+=2){var Qe=Ce===1?-1/0:D[Ce],dt=D[Ce+1],St=Ce,Pt=Ce+1;if(typeof Qe!="number")return H.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(de.length&&de[de.length-1][0]>=Qe)return H.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Yt=H.parse(dt,Pt,Te);if(!Yt)return null;Te=Te||Yt.type,de.push([Qe,Yt])}return new es(Te,ae,de)},es.prototype.evaluate=function(D){var H=this.labels,ae=this.outputs;if(H.length===1)return ae[0].evaluate(D);var de=this.input.evaluate(D);if(de<=H[0])return ae[0].evaluate(D);var Te=H.length;if(de>=H[Te-1])return ae[Te-1].evaluate(D);var Ce=Nl(H,de);return ae[Ce].evaluate(D)},es.prototype.eachChild=function(D){D(this.input);for(var H=0,ae=this.outputs;H<ae.length;H+=1){var de=ae[H];D(de)}},es.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},es.prototype.serialize=function(){for(var D=["step",this.input.serialize()],H=0;H<this.labels.length;H++)H>0&&D.push(this.labels[H]),D.push(this.outputs[H].serialize());return D};function Di(R,D,H){return R*(1-H)+D*H}function Cf(R,D,H){return new ti(Di(R.r,D.r,H),Di(R.g,D.g,H),Di(R.b,D.b,H),Di(R.a,D.a,H))}function xh(R,D,H){return R.map(function(ae,de){return Di(ae,D[de],H)})}var $u=Object.freeze({__proto__:null,number:Di,color:Cf,array:xh}),Ul=.95047,Vl=1,Io=1.08883,qu=4/29,Hl=6/29,ef=3*Hl*Hl,bh=Hl*Hl*Hl,hc=Math.PI/180,Lf=180/Math.PI;function Pf(R){return R>bh?Math.pow(R,.3333333333333333):R/ef+qu}function Rf(R){return R>Hl?R*R*R:ef*(R-qu)}function Gl(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function tf(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function pu(R){var D=tf(R.r),H=tf(R.g),ae=tf(R.b),de=Pf((.4124564*D+.3575761*H+.1804375*ae)/Ul),Te=Pf((.2126729*D+.7151522*H+.072175*ae)/Vl),Ce=Pf((.0193339*D+.119192*H+.9503041*ae)/Io);return{l:116*Te-16,a:500*(de-Te),b:200*(Te-Ce),alpha:R.a}}function rf(R){var D=(R.l+16)/116,H=isNaN(R.a)?D:D+R.a/500,ae=isNaN(R.b)?D:D-R.b/200;return D=Vl*Rf(D),H=Ul*Rf(H),ae=Io*Rf(ae),new ti(Gl(3.2404542*H-1.5371385*D-.4985314*ae),Gl(-.969266*H+1.8760108*D+.041556*ae),Gl(.0556434*H-.2040259*D+1.0572252*ae),R.alpha)}function mi(R,D,H){return{l:Di(R.l,D.l,H),a:Di(R.a,D.a,H),b:Di(R.b,D.b,H),alpha:Di(R.alpha,D.alpha,H)}}function vc(R){var D=pu(R),H=D.l,ae=D.a,de=D.b,Te=Math.atan2(de,ae)*Lf;return{h:Te<0?Te+360:Te,c:Math.sqrt(ae*ae+de*de),l:H,alpha:R.a}}function ts(R){var D=R.h*hc,H=R.c,ae=R.l;return rf({l:ae,a:Math.cos(D)*H,b:Math.sin(D)*H,alpha:R.alpha})}function dc(R,D,H){var ae=D-R;return R+H*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function Df(R,D,H){return{h:dc(R.h,D.h,H),c:Di(R.c,D.c,H),l:Di(R.l,D.l,H),alpha:Di(R.alpha,D.alpha,H)}}var dl={forward:pu,reverse:rf,interpolate:mi},Zs={forward:vc,reverse:ts,interpolate:Df},nf=Object.freeze({__proto__:null,lab:dl,hcl:Zs}),_i=function(D,H,ae,de,Te){this.type=D,this.operator=H,this.interpolation=ae,this.input=de,this.labels=[],this.outputs=[];for(var Ce=0,Qe=Te;Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=dt[0],Pt=dt[1];this.labels.push(St),this.outputs.push(Pt)}};_i.interpolationFactor=function(D,H,ae,de){var Te=0;if(D.name==="exponential")Te=gu(H,D.base,ae,de);else if(D.name==="linear")Te=gu(H,1,ae,de);else if(D.name==="cubic-bezier"){var Ce=D.controlPoints,Qe=new v(Ce[0],Ce[1],Ce[2],Ce[3]);Te=Qe.solve(gu(H,1,ae,de))}return Te},_i.parse=function(D,H){var ae=D[0],de=D[1],Te=D[2],Ce=D.slice(3);if(!Array.isArray(de)||de.length===0)return H.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var Qe=de[1];if(typeof Qe!="number")return H.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:Qe}}else if(de[0]==="cubic-bezier"){var dt=de.slice(1);if(dt.length!==4||dt.some(function(rn){return typeof rn!="number"||rn<0||rn>1}))return H.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:dt}}else return H.error("Unknown interpolation type "+String(de[0]),1,0);if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");if(Te=H.parse(Te,2,en),!Te)return null;var St=[],Pt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Pt=Mn:H.expectedType&&H.expectedType.kind!=="value"&&(Pt=H.expectedType);for(var Yt=0;Yt<Ce.length;Yt+=2){var rr=Ce[Yt],qt=Ce[Yt+1],xr=Yt+3,Br=Yt+4;if(typeof rr!="number")return H.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(St.length&&St[St.length-1][0]>=rr)return H.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var fn=H.parse(qt,Br,Pt);if(!fn)return null;Pt=Pt||fn.type,St.push([rr,fn])}return Pt.kind!=="number"&&Pt.kind!=="color"&&!(Pt.kind==="array"&&Pt.itemType.kind==="number"&&typeof Pt.N=="number")?H.error("Type "+ii(Pt)+" is not interpolatable."):new _i(Pt,ae,de,Te,St)},_i.prototype.evaluate=function(D){var H=this.labels,ae=this.outputs;if(H.length===1)return ae[0].evaluate(D);var de=this.input.evaluate(D);if(de<=H[0])return ae[0].evaluate(D);var Te=H.length;if(de>=H[Te-1])return ae[Te-1].evaluate(D);var Ce=Nl(H,de),Qe=H[Ce],dt=H[Ce+1],St=_i.interpolationFactor(this.interpolation,de,Qe,dt),Pt=ae[Ce].evaluate(D),Yt=ae[Ce+1].evaluate(D);return this.operator==="interpolate"?$u[this.type.kind.toLowerCase()](Pt,Yt,St):this.operator==="interpolate-hcl"?Zs.reverse(Zs.interpolate(Zs.forward(Pt),Zs.forward(Yt),St)):dl.reverse(dl.interpolate(dl.forward(Pt),dl.forward(Yt),St))},_i.prototype.eachChild=function(D){D(this.input);for(var H=0,ae=this.outputs;H<ae.length;H+=1){var de=ae[H];D(de)}},_i.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},_i.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var H=[this.operator,D,this.input.serialize()],ae=0;ae<this.labels.length;ae++)H.push(this.labels[ae],this.outputs[ae].serialize());return H};function gu(R,D,H,ae){var de=ae-H,Te=R-H;return de===0?0:D===1?Te/de:(Math.pow(D,Te)-1)/(Math.pow(D,de)-1)}var rs=function(D,H){this.type=D,this.args=H};rs.parse=function(D,H){if(D.length<2)return H.error("Expectected at least one argument.");var ae=null,de=H.expectedType;de&&de.kind!=="value"&&(ae=de);for(var Te=[],Ce=0,Qe=D.slice(1);Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=H.parse(dt,1+Te.length,ae,void 0,{typeAnnotation:"omit"});if(!St)return null;ae=ae||St.type,Te.push(St)}var Pt=de&&Te.some(function(Yt){return Ro(de,Yt.type)});return Pt?new rs(zn,Te):new rs(ae,Te)},rs.prototype.evaluate=function(D){for(var H=null,ae=0,de,Te=0,Ce=this.args;Te<Ce.length;Te+=1){var Qe=Ce[Te];if(ae++,H=Qe.evaluate(D),H&&H instanceof To&&!H.available&&(de||(de=H.name),H=null,ae===this.args.length&&(H=de)),H!==null)break}return H},rs.prototype.eachChild=function(D){this.args.forEach(D)},rs.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},rs.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Ds=function(D,H){this.type=H.type,this.bindings=[].concat(D),this.result=H};Ds.prototype.evaluate=function(D){return this.result.evaluate(D)},Ds.prototype.eachChild=function(D){for(var H=0,ae=this.bindings;H<ae.length;H+=1){var de=ae[H];D(de[1])}D(this.result)},Ds.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ae=[],de=1;de<D.length-1;de+=2){var Te=D[de];if(typeof Te!="string")return H.error("Expected string, but found "+typeof Te+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Te))return H.error("Variable names must contain only alphanumeric characters or '_'.",de);var Ce=H.parse(D[de+1],de+1);if(!Ce)return null;ae.push([Te,Ce])}var Qe=H.parse(D[D.length-1],D.length-1,H.expectedType,ae);return Qe?new Ds(ae,Qe):null},Ds.prototype.outputDefined=function(){return this.result.outputDefined()},Ds.prototype.serialize=function(){for(var D=["let"],H=0,ae=this.bindings;H<ae.length;H+=1){var de=ae[H],Te=de[0],Ce=de[1];D.push(Te,Ce.serialize())}return D.push(this.result.serialize()),D};var pl=function(D,H,ae){this.type=D,this.index=H,this.input=ae};pl.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=H.parse(D[1],1,en),de=H.parse(D[2],2,yi(H.expectedType||zn));if(!ae||!de)return null;var Te=de.type;return new pl(Te.itemType,ae,de)},pl.prototype.evaluate=function(D){var H=this.index.evaluate(D),ae=this.input.evaluate(D);if(H<0)throw new Gi("Array index out of bounds: "+H+" < 0.");if(H>=ae.length)throw new Gi("Array index out of bounds: "+H+" > "+(ae.length-1)+".");if(H!==Math.floor(H))throw new Gi("Array index must be an integer, but found "+H+" instead.");return ae[H]},pl.prototype.eachChild=function(D){D(this.index),D(this.input)},pl.prototype.outputDefined=function(){return!1},pl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ks=function(D,H){this.type=Fn,this.needle=D,this.haystack=H};Ks.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=H.parse(D[1],1,zn),de=H.parse(D[2],2,zn);return!ae||!de?null:no(ae.type,[Fn,wn,en,Hr,zn])?new Ks(ae,de):H.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ae.type)+" instead")},Ks.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!ae)return!1;if(!kl(H,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ii(Fi(H))+" instead.");if(!kl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ii(Fi(ae))+" instead.");return ae.indexOf(H)>=0},Ks.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Ks.prototype.outputDefined=function(){return!0},Ks.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ns=function(D,H,ae){this.type=en,this.needle=D,this.haystack=H,this.fromIndex=ae};ns.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=H.parse(D[1],1,zn),de=H.parse(D[2],2,zn);if(!ae||!de)return null;if(!no(ae.type,[Fn,wn,en,Hr,zn]))return H.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ae.type)+" instead");if(D.length===4){var Te=H.parse(D[3],3,en);return Te?new ns(ae,de,Te):null}else return new ns(ae,de)},ns.prototype.evaluate=function(D){var H=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!kl(H,["boolean","string","number","null"]))throw new Gi("Expected first argument to be of type boolean, string, number or null, but found "+ii(Fi(H))+" instead.");if(!kl(ae,["string","array"]))throw new Gi("Expected second argument to be of type array or string, but found "+ii(Fi(ae))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(D);return ae.indexOf(H,de)}return ae.indexOf(H)},ns.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Is=function(D,H,ae,de,Te,Ce){this.inputType=D,this.type=H,this.input=ae,this.cases=de,this.outputs=Te,this.otherwise=Ce};Is.parse=function(D,H){if(D.length<5)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return H.error("Expected an even number of arguments.");var ae,de;H.expectedType&&H.expectedType.kind!=="value"&&(de=H.expectedType);for(var Te={},Ce=[],Qe=2;Qe<D.length-1;Qe+=2){var dt=D[Qe],St=D[Qe+1];Array.isArray(dt)||(dt=[dt]);var Pt=H.concat(Qe);if(dt.length===0)return Pt.error("Expected at least one branch label.");for(var Yt=0,rr=dt;Yt<rr.length;Yt+=1){var qt=rr[Yt];if(typeof qt!="number"&&typeof qt!="string")return Pt.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Pt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Pt.error("Numeric branch labels must be integer values.");if(!ae)ae=Fi(qt);else if(Pt.checkSubtype(ae,Fi(qt)))return null;if(typeof Te[String(qt)]<"u")return Pt.error("Branch labels must be unique.");Te[String(qt)]=Ce.length}var xr=H.parse(St,Qe,de);if(!xr)return null;de=de||xr.type,Ce.push(xr)}var Br=H.parse(D[1],1,zn);if(!Br)return null;var fn=H.parse(D[D.length-1],D.length-1,de);return!fn||Br.type.kind!=="value"&&H.concat(1).checkSubtype(ae,Br.type)?null:new Is(ae,de,Br,Te,Ce,fn)},Is.prototype.evaluate=function(D){var H=this.input.evaluate(D),ae=Fi(H)===this.inputType&&this.outputs[this.cases[H]]||this.otherwise;return ae.evaluate(D)},Is.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Is.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Is.prototype.serialize=function(){for(var D=this,H=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),de=[],Te={},Ce=0,Qe=ae;Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=Te[this.cases[dt]];St===void 0?(Te[this.cases[dt]]=de.length,de.push([this.cases[dt],[dt]])):de[St][1].push(dt)}for(var Pt=function(Br){return D.inputType.kind==="number"?Number(Br):Br},Yt=0,rr=de;Yt<rr.length;Yt+=1){var qt=rr[Yt],St=qt[0],xr=qt[1];xr.length===1?H.push(Pt(xr[0])):H.push(xr.map(Pt)),H.push(this.outputs[outputIndex$1].serialize())}return H.push(this.otherwise.serialize()),H};var as=function(D,H,ae){this.type=D,this.branches=H,this.otherwise=ae};as.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return H.error("Expected an odd number of arguments.");var ae;H.expectedType&&H.expectedType.kind!=="value"&&(ae=H.expectedType);for(var de=[],Te=1;Te<D.length-1;Te+=2){var Ce=H.parse(D[Te],Te,Fn);if(!Ce)return null;var Qe=H.parse(D[Te+1],Te+1,ae);if(!Qe)return null;de.push([Ce,Qe]),ae=ae||Qe.type}var dt=H.parse(D[D.length-1],D.length-1,ae);return dt?new as(ae,de,dt):null},as.prototype.evaluate=function(D){for(var H=0,ae=this.branches;H<ae.length;H+=1){var de=ae[H],Te=de[0],Ce=de[1];if(Te.evaluate(D))return Ce.evaluate(D)}return this.otherwise.evaluate(D)},as.prototype.eachChild=function(D){for(var H=0,ae=this.branches;H<ae.length;H+=1){var de=ae[H],Te=de[0],Ce=de[1];D(Te),D(Ce)}D(this.otherwise)},as.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var H=D[1];return H.outputDefined()})&&this.otherwise.outputDefined()},as.prototype.serialize=function(){var D=["case"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Xo=function(D,H,ae,de){this.type=D,this.input=H,this.beginIndex=ae,this.endIndex=de};Xo.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=H.parse(D[1],1,zn),de=H.parse(D[2],2,en);if(!ae||!de)return null;if(!no(ae.type,[yi(zn),wn,zn]))return H.error("Expected first argument to be of type array or string, but found "+ii(ae.type)+" instead");if(D.length===4){var Te=H.parse(D[3],3,en);return Te?new Xo(ae.type,ae,de,Te):null}else return new Xo(ae.type,ae,de)},Xo.prototype.evaluate=function(D){var H=this.input.evaluate(D),ae=this.beginIndex.evaluate(D);if(!kl(H,["string","array"]))throw new Gi("Expected first argument to be of type array or string, but found "+ii(Fi(H))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(D);return H.slice(ae,de)}return H.slice(ae)},Xo.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function yu(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function wh(R,D,H){return D===H}function Th(R,D,H){return D!==H}function Ah(R,D,H){return D<H}function Sh(R,D,H){return D>H}function If(R,D,H){return D<=H}function pc(R,D,H){return D>=H}function Wl(R,D,H,ae){return ae.compare(D,H)===0}function qi(R,D,H,ae){return!Wl(R,D,H,ae)}function Uo(R,D,H,ae){return ae.compare(D,H)<0}function Yl(R,D,H,ae){return ae.compare(D,H)>0}function gc(R,D,H,ae){return ae.compare(D,H)<=0}function mu(R,D,H,ae){return ae.compare(D,H)>=0}function ks(R,D,H){var ae=R!=="=="&&R!=="!=";return function(){function de(Te,Ce,Qe){this.type=Fn,this.lhs=Te,this.rhs=Ce,this.collator=Qe,this.hasUntypedArgument=Te.type.kind==="value"||Ce.type.kind==="value"}return de.parse=function(Ce,Qe){if(Ce.length!==3&&Ce.length!==4)return Qe.error("Expected two or three arguments.");var dt=Ce[0],St=Qe.parse(Ce[1],1,zn);if(!St)return null;if(!yu(dt,St.type))return Qe.concat(1).error('"'+dt+`" comparisons are not supported for type '`+ii(St.type)+"'.");var Pt=Qe.parse(Ce[2],2,zn);if(!Pt)return null;if(!yu(dt,Pt.type))return Qe.concat(2).error('"'+dt+`" comparisons are not supported for type '`+ii(Pt.type)+"'.");if(St.type.kind!==Pt.type.kind&&St.type.kind!=="value"&&Pt.type.kind!=="value")return Qe.error("Cannot compare types '"+ii(St.type)+"' and '"+ii(Pt.type)+"'.");ae&&(St.type.kind==="value"&&Pt.type.kind!=="value"?St=new ao(Pt.type,[St]):St.type.kind!=="value"&&Pt.type.kind==="value"&&(Pt=new ao(St.type,[Pt])));var Yt=null;if(Ce.length===4){if(St.type.kind!=="string"&&Pt.type.kind!=="string"&&St.type.kind!=="value"&&Pt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Yt=Qe.parse(Ce[3],3,ia),!Yt)return null}return new de(St,Pt,Yt)},de.prototype.evaluate=function(Ce){var Qe=this.lhs.evaluate(Ce),dt=this.rhs.evaluate(Ce);if(ae&&this.hasUntypedArgument){var St=Fi(Qe),Pt=Fi(dt);if(St.kind!==Pt.kind||!(St.kind==="string"||St.kind==="number"))throw new Gi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Pt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Yt=Fi(Qe),rr=Fi(dt);if(Yt.kind!=="string"||rr.kind!=="string")return D(Ce,Qe,dt)}return this.collator?H(Ce,Qe,dt,this.collator.evaluate(Ce)):D(Ce,Qe,dt)},de.prototype.eachChild=function(Ce){Ce(this.lhs),Ce(this.rhs),this.collator&&Ce(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var Ce=[R];return this.eachChild(function(Qe){Ce.push(Qe.serialize())}),Ce},de}()}var Mh=ks("==",wh,Wl),yc=ks("!=",Th,qi),mc=ks("<",Ah,Uo),kf=ks(">",Sh,Yl),xc=ks("<=",If,gc),Ao=ks(">=",pc,mu),is=function(D,H,ae,de,Te){this.type=wn,this.number=D,this.locale=H,this.currency=ae,this.minFractionDigits=de,this.maxFractionDigits=Te};is.parse=function(D,H){if(D.length!==3)return H.error("Expected two arguments.");var ae=H.parse(D[1],1,en);if(!ae)return null;var de=D[2];if(typeof de!="object"||Array.isArray(de))return H.error("NumberFormat options argument must be an object.");var Te=null;if(de.locale&&(Te=H.parse(de.locale,1,wn),!Te))return null;var Ce=null;if(de.currency&&(Ce=H.parse(de.currency,1,wn),!Ce))return null;var Qe=null;if(de["min-fraction-digits"]&&(Qe=H.parse(de["min-fraction-digits"],1,en),!Qe))return null;var dt=null;return de["max-fraction-digits"]&&(dt=H.parse(de["max-fraction-digits"],1,en),!dt)?null:new is(ae,Te,Ce,Qe,dt)},is.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},is.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Js=function(D){this.type=en,this.input=D};Js.parse=function(D,H){if(D.length!==2)return H.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ae=H.parse(D[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?H.error("Expected argument of type string or array, but found "+ii(ae.type)+" instead."):new Js(ae):null},Js.prototype.evaluate=function(D){var H=this.input.evaluate(D);if(typeof H=="string")return H.length;if(Array.isArray(H))return H.length;throw new Gi("Expected value to be of type string or array, but found "+ii(Fi(H))+" instead.")},Js.prototype.eachChild=function(D){D(this.input)},Js.prototype.outputDefined=function(){return!1},Js.prototype.serialize=function(){var D=["length"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Xl={"==":Mh,"!=":yc,">":kf,"<":mc,">=":Ao,"<=":xc,array:ao,at:pl,boolean:ao,case:as,coalesce:rs,collator:Xs,format:io,image:No,in:Ks,"index-of":ns,interpolate:_i,"interpolate-hcl":_i,"interpolate-lab":_i,length:Js,let:Ds,literal:Oi,match:Is,number:ao,"number-format":is,object:ao,slice:Xo,step:es,string:ao,"to-boolean":Do,"to-color":Do,"to-number":Do,"to-string":Do,var:js,within:qo};function af(R,D){var H=D[0],ae=D[1],de=D[2],Te=D[3];H=H.evaluate(R),ae=ae.evaluate(R),de=de.evaluate(R);var Ce=Te?Te.evaluate(R):1,Qe=Fl(H,ae,de,Ce);if(Qe)throw new Gi(Qe);return new ti(H/255*Ce,ae/255*Ce,de/255*Ce,Ce)}function yl(R,D){return R in D}function ml(R,D){var H=D[R];return typeof H>"u"?null:H}function bc(R,D,H,ae){for(;H<=ae;){var de=H+ae>>1;if(D[de]===R)return!0;D[de]>R?ae=de-1:H=de+1}return!1}function Fs(R){return{type:R}}$i.register(Xl,{error:[fa,[wn],function(R,D){var H=D[0];throw new Gi(H.evaluate(R))}],typeof:[wn,[zn],function(R,D){var H=D[0];return ii(Fi(H.evaluate(R)))}],"to-rgba":[yi(en,4),[Mn],function(R,D){var H=D[0];return H.evaluate(R).toArray()}],rgb:[Mn,[en,en,en],af],rgba:[Mn,[en,en,en,en],af],has:{type:Fn,overloads:[[[wn],function(R,D){var H=D[0];return yl(H.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var H=D[0],ae=D[1];return yl(H.evaluate(R),ae.evaluate(R))}]]},get:{type:zn,overloads:[[[wn],function(R,D){var H=D[0];return ml(H.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var H=D[0],ae=D[1];return ml(H.evaluate(R),ae.evaluate(R))}]]},"feature-state":[zn,[wn],function(R,D){var H=D[0];return ml(H.evaluate(R),R.featureState||{})}],properties:[Nn,[],function(R){return R.properties()}],"geometry-type":[wn,[],function(R){return R.geometryType()}],id:[zn,[],function(R){return R.id()}],zoom:[en,[],function(R){return R.globals.zoom}],"heatmap-density":[en,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[en,[],function(R){return R.globals.lineProgress||0}],accumulated:[zn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[en,Fs(en),function(R,D){for(var H=0,ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];H+=Te.evaluate(R)}return H}],"*":[en,Fs(en),function(R,D){for(var H=1,ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];H*=Te.evaluate(R)}return H}],"-":{type:en,overloads:[[[en,en],function(R,D){var H=D[0],ae=D[1];return H.evaluate(R)-ae.evaluate(R)}],[[en],function(R,D){var H=D[0];return-H.evaluate(R)}]]},"/":[en,[en,en],function(R,D){var H=D[0],ae=D[1];return H.evaluate(R)/ae.evaluate(R)}],"%":[en,[en,en],function(R,D){var H=D[0],ae=D[1];return H.evaluate(R)%ae.evaluate(R)}],ln2:[en,[],function(){return Math.LN2}],pi:[en,[],function(){return Math.PI}],e:[en,[],function(){return Math.E}],"^":[en,[en,en],function(R,D){var H=D[0],ae=D[1];return Math.pow(H.evaluate(R),ae.evaluate(R))}],sqrt:[en,[en],function(R,D){var H=D[0];return Math.sqrt(H.evaluate(R))}],log10:[en,[en],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN10}],ln:[en,[en],function(R,D){var H=D[0];return Math.log(H.evaluate(R))}],log2:[en,[en],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN2}],sin:[en,[en],function(R,D){var H=D[0];return Math.sin(H.evaluate(R))}],cos:[en,[en],function(R,D){var H=D[0];return Math.cos(H.evaluate(R))}],tan:[en,[en],function(R,D){var H=D[0];return Math.tan(H.evaluate(R))}],asin:[en,[en],function(R,D){var H=D[0];return Math.asin(H.evaluate(R))}],acos:[en,[en],function(R,D){var H=D[0];return Math.acos(H.evaluate(R))}],atan:[en,[en],function(R,D){var H=D[0];return Math.atan(H.evaluate(R))}],min:[en,Fs(en),function(R,D){return Math.min.apply(Math,D.map(function(H){return H.evaluate(R)}))}],max:[en,Fs(en),function(R,D){return Math.max.apply(Math,D.map(function(H){return H.evaluate(R)}))}],abs:[en,[en],function(R,D){var H=D[0];return Math.abs(H.evaluate(R))}],round:[en,[en],function(R,D){var H=D[0],ae=H.evaluate(R);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[en,[en],function(R,D){var H=D[0];return Math.floor(H.evaluate(R))}],ceil:[en,[en],function(R,D){var H=D[0];return Math.ceil(H.evaluate(R))}],"filter-==":[Fn,[wn,zn],function(R,D){var H=D[0],ae=D[1];return R.properties()[H.value]===ae.value}],"filter-id-==":[Fn,[zn],function(R,D){var H=D[0];return R.id()===H.value}],"filter-type-==":[Fn,[wn],function(R,D){var H=D[0];return R.geometryType()===H.value}],"filter-<":[Fn,[wn,zn],function(R,D){var H=D[0],ae=D[1],de=R.properties()[H.value],Te=ae.value;return typeof de==typeof Te&&de<Te}],"filter-id-<":[Fn,[zn],function(R,D){var H=D[0],ae=R.id(),de=H.value;return typeof ae==typeof de&&ae<de}],"filter->":[Fn,[wn,zn],function(R,D){var H=D[0],ae=D[1],de=R.properties()[H.value],Te=ae.value;return typeof de==typeof Te&&de>Te}],"filter-id->":[Fn,[zn],function(R,D){var H=D[0],ae=R.id(),de=H.value;return typeof ae==typeof de&&ae>de}],"filter-<=":[Fn,[wn,zn],function(R,D){var H=D[0],ae=D[1],de=R.properties()[H.value],Te=ae.value;return typeof de==typeof Te&&de<=Te}],"filter-id-<=":[Fn,[zn],function(R,D){var H=D[0],ae=R.id(),de=H.value;return typeof ae==typeof de&&ae<=de}],"filter->=":[Fn,[wn,zn],function(R,D){var H=D[0],ae=D[1],de=R.properties()[H.value],Te=ae.value;return typeof de==typeof Te&&de>=Te}],"filter-id->=":[Fn,[zn],function(R,D){var H=D[0],ae=R.id(),de=H.value;return typeof ae==typeof de&&ae>=de}],"filter-has":[Fn,[zn],function(R,D){var H=D[0];return H.value in R.properties()}],"filter-has-id":[Fn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[Fn,[yi(wn)],function(R,D){var H=D[0];return H.value.indexOf(R.geometryType())>=0}],"filter-id-in":[Fn,[yi(zn)],function(R,D){var H=D[0];return H.value.indexOf(R.id())>=0}],"filter-in-small":[Fn,[wn,yi(zn)],function(R,D){var H=D[0],ae=D[1];return ae.value.indexOf(R.properties()[H.value])>=0}],"filter-in-large":[Fn,[wn,yi(zn)],function(R,D){var H=D[0],ae=D[1];return bc(R.properties()[H.value],ae.value,0,ae.value.length-1)}],all:{type:Fn,overloads:[[[Fn,Fn],function(R,D){var H=D[0],ae=D[1];return H.evaluate(R)&&ae.evaluate(R)}],[Fs(Fn),function(R,D){for(var H=0,ae=D;H<ae.length;H+=1){var de=ae[H];if(!de.evaluate(R))return!1}return!0}]]},any:{type:Fn,overloads:[[[Fn,Fn],function(R,D){var H=D[0],ae=D[1];return H.evaluate(R)||ae.evaluate(R)}],[Fs(Fn),function(R,D){for(var H=0,ae=D;H<ae.length;H+=1){var de=ae[H];if(de.evaluate(R))return!0}return!1}]]},"!":[Fn,[Fn],function(R,D){var H=D[0];return!H.evaluate(R)}],"is-supported-script":[Fn,[wn],function(R,D){var H=D[0],ae=R.globals&&R.globals.isSupportedScript;return ae?ae(H.evaluate(R)):!0}],upcase:[wn,[wn],function(R,D){var H=D[0];return H.evaluate(R).toUpperCase()}],downcase:[wn,[wn],function(R,D){var H=D[0];return H.evaluate(R).toLowerCase()}],concat:[wn,Fs(zn),function(R,D){return D.map(function(H){return _l(H.evaluate(R))}).join("")}],"resolved-locale":[wn,[ia],function(R,D){var H=D[0];return H.evaluate(R).resolvedLocale()}]});function jl(R){return{result:"success",value:R}}function Qs(R){return{result:"error",value:R}}function _s(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function xu(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Zl(R){return!!R.expression&&R.expression.interpolated}function di(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Kl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function of(R){return R}function wc(R,D){var H=D.type==="color",ae=R.stops&&typeof R.stops[0][0]=="object",de=ae||R.property!==void 0,Te=ae||!de,Ce=R.type||(Zl(D)?"exponential":"interval");if(H&&(R=Rn({},R),R.stops&&(R.stops=R.stops.map(function(qn){return[qn[0],ti.parse(qn[1])]})),R.default?R.default=ti.parse(R.default):R.default=ti.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!nf[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Qe,dt,St;if(Ce==="exponential")Qe=Ff;else if(Ce==="interval")Qe=sf;else if(Ce==="categorical"){Qe=bu,dt=Object.create(null);for(var Pt=0,Yt=R.stops;Pt<Yt.length;Pt+=1){var rr=Yt[Pt];dt[rr[0]]=rr[1]}St=typeof R.stops[0][0]}else if(Ce==="identity")Qe=wu;else throw new Error('Unknown function type "'+Ce+'"');if(ae){for(var qt={},xr=[],Br=0;Br<R.stops.length;Br++){var fn=R.stops[Br],rn=fn[0].zoom;qt[rn]===void 0&&(qt[rn]={zoom:rn,type:R.type,property:R.property,default:R.default,stops:[]},xr.push(rn)),qt[rn].stops.push([fn[0].value,fn[1]])}for(var Cn=[],gn=0,En=xr;gn<En.length;gn+=1){var kn=En[gn];Cn.push([qt[kn].zoom,wc(qt[kn],D)])}var Wn={name:"linear"};return{kind:"composite",interpolationType:Wn,interpolationFactor:_i.interpolationFactor.bind(void 0,Wn),zoomStops:Cn.map(function(qn){return qn[0]}),evaluate:function(wa,da){var ba=wa.zoom;return Ff({stops:Cn,base:R.base},D,ba).evaluate(ba,da)}}}else if(Te){var ra=Ce==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ra,interpolationFactor:_i.interpolationFactor.bind(void 0,ra),zoomStops:R.stops.map(function(qn){return qn[0]}),evaluate:function(qn){var wa=qn.zoom;return Qe(R,D,wa,dt,St)}}}else return{kind:"source",evaluate:function(wa,da){var ba=da&&da.properties?da.properties[R.property]:void 0;return ba===void 0?Jl(R.default,D.default):Qe(R,D,ba,dt,St)}}}function Jl(R,D,H){if(R!==void 0)return R;if(D!==void 0)return D;if(H!==void 0)return H}function bu(R,D,H,ae,de){var Te=typeof H===de?ae[H]:void 0;return Jl(Te,R.default,D.default)}function sf(R,D,H){if(di(H)!=="number")return Jl(R.default,D.default);var ae=R.stops.length;if(ae===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[ae-1][0])return R.stops[ae-1][1];var de=Nl(R.stops.map(function(Te){return Te[0]}),H);return R.stops[de][1]}function Ff(R,D,H){var ae=R.base!==void 0?R.base:1;if(di(H)!=="number")return Jl(R.default,D.default);var de=R.stops.length;if(de===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[de-1][0])return R.stops[de-1][1];var Te=Nl(R.stops.map(function(Yt){return Yt[0]}),H),Ce=Tu(H,ae,R.stops[Te][0],R.stops[Te+1][0]),Qe=R.stops[Te][1],dt=R.stops[Te+1][1],St=$u[D.type]||of;if(R.colorSpace&&R.colorSpace!=="rgb"){var Pt=nf[R.colorSpace];St=function(Yt,rr){return Pt.reverse(Pt.interpolate(Pt.forward(Yt),Pt.forward(rr),Ce))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var rr=[],qt=arguments.length;qt--;)rr[qt]=arguments[qt];var xr=Qe.evaluate.apply(void 0,rr),Br=dt.evaluate.apply(void 0,rr);if(!(xr===void 0||Br===void 0))return St(xr,Br,Ce)}}:St(Qe,dt,Ce)}function wu(R,D,H){return D.type==="color"?H=ti.parse(H):D.type==="formatted"?H=Qi.fromString(H.toString()):D.type==="resolvedImage"?H=To.fromString(H.toString()):di(H)!==D.type&&(D.type!=="enum"||!D.values[H])&&(H=void 0),Jl(H,R.default,D.default)}function Tu(R,D,H,ae){var de=ae-H,Te=R-H;return de===0?0:D===1?Te/de:(Math.pow(D,Te)-1)/(Math.pow(D,de)-1)}var $s=function(D,H){this.expression=D,this._warningHistory={},this._evaluator=new gs,this._defaultValue=H?Tc(H):null,this._enumValues=H&&H.type==="enum"?H.values:null};$s.prototype.evaluateWithoutErrorHandling=function(D,H,ae,de,Te,Ce){return this._evaluator.globals=D,this._evaluator.feature=H,this._evaluator.featureState=ae,this._evaluator.canonical=de,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=Ce,this.expression.evaluate(this._evaluator)},$s.prototype.evaluate=function(D,H,ae,de,Te,Ce){this._evaluator.globals=D,this._evaluator.feature=H||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=de,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=Ce||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new Gi("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function Au(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Xl}function qs(R,D){var H=new ms(Xl,[],D?Eh(D):void 0),ae=H.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?jl(new $s(ae,D)):Qs(H.errors)}var Wi=function(D,H){this.kind=D,this._styleExpression=H,this.isStateDependent=D!=="constant"&&!vl(H.expression)};Wi.prototype.evaluateWithoutErrorHandling=function(D,H,ae,de,Te,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ae,de,Te,Ce)},Wi.prototype.evaluate=function(D,H,ae,de,Te,Ce){return this._styleExpression.evaluate(D,H,ae,de,Te,Ce)};var xs=function(D,H,ae,de){this.kind=D,this.zoomStops=ae,this._styleExpression=H,this.isStateDependent=D!=="camera"&&!vl(H.expression),this.interpolationType=de};xs.prototype.evaluateWithoutErrorHandling=function(D,H,ae,de,Te,Ce){return this._styleExpression.evaluateWithoutErrorHandling(D,H,ae,de,Te,Ce)},xs.prototype.evaluate=function(D,H,ae,de,Te,Ce){return this._styleExpression.evaluate(D,H,ae,de,Te,Ce)},xs.prototype.interpolationFactor=function(D,H,ae){return this.interpolationType?_i.interpolationFactor(this.interpolationType,D,H,ae):0};function _f(R,D){if(R=qs(R,D),R.result==="error")return R;var H=R.value.expression,ae=Bl(H);if(!ae&&!_s(D))return Qs([new Er("","data expressions not supported")]);var de=du(H,["zoom"]);if(!de&&!xu(D))return Qs([new Er("","zoom expressions not supported")]);var Te=Su(H);if(!Te&&!de)return Qs([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Te instanceof Er)return Qs([Te]);if(Te instanceof _i&&!Zl(D))return Qs([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!Te)return jl(ae?new Wi("constant",R.value):new Wi("source",R.value));var Ce=Te instanceof _i?Te.interpolation:void 0;return jl(ae?new xs("camera",R.value,Te.labels,Ce):new xs("composite",R.value,Te.labels,Ce))}var xl=function(D,H){this._parameters=D,this._specification=H,Rn(this,wc(this._parameters,this._specification))};xl.deserialize=function(D){return new xl(D._parameters,D._specification)},xl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function lf(R,D){if(Kl(R))return new xl(R,D);if(Au(R)){var H=_f(R,D);if(H.result==="error")throw new Error(H.value.map(function(de){return de.key+": "+de.message}).join(", "));return H.value}else{var ae=R;return typeof R=="string"&&D.type==="color"&&(ae=ti.parse(R)),{kind:"constant",evaluate:function(){return ae}}}}function Su(R){var D=null;if(R instanceof Ds)D=Su(R.result);else if(R instanceof rs)for(var H=0,ae=R.args;H<ae.length;H+=1){var de=ae[H];if(D=Su(de),D)break}else(R instanceof es||R instanceof _i)&&R.input instanceof $i&&R.input.name==="zoom"&&(D=R);return D instanceof Er||R.eachChild(function(Te){var Ce=Su(Te);Ce instanceof Er?D=Ce:!D&&Ce?D=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ce&&D!==Ce&&(D=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Eh(R){var D={color:Mn,string:wn,number:en,enum:wn,boolean:Fn,formatted:pa,resolvedImage:La};return R.type==="array"?yi(D[R.value]||zn,R.length):D[R.type]}function Tc(R){return R.type==="color"&&Kl(R.default)?new ti(0,0,0,0):R.type==="color"?ti.parse(R.default)||null:R.default===void 0?null:R.default}function yo(R){var D=R.key,H=R.value,ae=R.valueSpec||{},de=R.objectElementValidators||{},Te=R.style,Ce=R.styleSpec,Qe=[],dt=di(H);if(dt!=="object")return[new Or(D,H,"object expected, "+dt+" found")];for(var St in H){var Pt=St.split(".")[0],Yt=ae[Pt]||ae["*"],rr=void 0;if(de[Pt])rr=de[Pt];else if(ae[Pt])rr=Ir;else if(de["*"])rr=de["*"];else if(ae["*"])rr=Ir;else{Qe.push(new Or(D,H[St],'unknown property "'+St+'"'));continue}Qe=Qe.concat(rr({key:(D&&D+".")+St,value:H[St],valueSpec:Yt,style:Te,styleSpec:Ce,object:H,objectKey:St},H))}for(var qt in ae)de[qt]||ae[qt].required&&ae[qt].default===void 0&&H[qt]===void 0&&Qe.push(new Or(D,H,'missing required property "'+qt+'"'));return Qe}function Mu(R){var D=R.value,H=R.valueSpec,ae=R.style,de=R.styleSpec,Te=R.key,Ce=R.arrayElementValidator||Ir;if(di(D)!=="array")return[new Or(Te,D,"array expected, "+di(D)+" found")];if(H.length&&D.length!==H.length)return[new Or(Te,D,"array length "+H.length+" expected, length "+D.length+" found")];if(H["min-length"]&&D.length<H["min-length"])return[new Or(Te,D,"array length at least "+H["min-length"]+" expected, length "+D.length+" found")];var Qe={type:H.value,values:H.values};de.$version<7&&(Qe.function=H.function),di(H.value)==="object"&&(Qe=H.value);for(var dt=[],St=0;St<D.length;St++)dt=dt.concat(Ce({array:D,arrayIndex:St,value:D[St],valueSpec:Qe,style:ae,styleSpec:de,key:Te+"["+St+"]"}));return dt}function Ql(R){var D=R.key,H=R.value,ae=R.valueSpec,de=di(H);return de==="number"&&H!==H&&(de="NaN"),de!=="number"?[new Or(D,H,"number expected, "+de+" found")]:"minimum"in ae&&H<ae.minimum?[new Or(D,H,H+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&H>ae.maximum?[new Or(D,H,H+" is greater than the maximum value "+ae.maximum)]:[]}function Ac(R){var D=R.valueSpec,H=pn(R.value.type),ae,de={},Te,Ce,Qe=H!=="categorical"&&R.value.property===void 0,dt=!Qe,St=di(R.value.stops)==="array"&&di(R.value.stops[0])==="array"&&di(R.value.stops[0][0])==="object",Pt=yo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Yt,default:xr}});return H==="identity"&&Qe&&Pt.push(new Or(R.key,R.value,'missing required property "property"')),H!=="identity"&&!R.value.stops&&Pt.push(new Or(R.key,R.value,'missing required property "stops"')),H==="exponential"&&R.valueSpec.expression&&!Zl(R.valueSpec)&&Pt.push(new Or(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(dt&&!_s(R.valueSpec)?Pt.push(new Or(R.key,R.value,"property functions not supported")):Qe&&!xu(R.valueSpec)&&Pt.push(new Or(R.key,R.value,"zoom functions not supported"))),(H==="categorical"||St)&&R.value.property===void 0&&Pt.push(new Or(R.key,R.value,'"property" property is required')),Pt;function Yt(Br){if(H==="identity")return[new Or(Br.key,Br.value,'identity function may not have a "stops" property')];var fn=[],rn=Br.value;return fn=fn.concat(Mu({key:Br.key,value:rn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:rr})),di(rn)==="array"&&rn.length===0&&fn.push(new Or(Br.key,rn,"array must have at least one stop")),fn}function rr(Br){var fn=[],rn=Br.value,Cn=Br.key;if(di(rn)!=="array")return[new Or(Cn,rn,"array expected, "+di(rn)+" found")];if(rn.length!==2)return[new Or(Cn,rn,"array length 2 expected, length "+rn.length+" found")];if(St){if(di(rn[0])!=="object")return[new Or(Cn,rn,"object expected, "+di(rn[0])+" found")];if(rn[0].zoom===void 0)return[new Or(Cn,rn,"object stop key must have zoom")];if(rn[0].value===void 0)return[new Or(Cn,rn,"object stop key must have value")];if(Ce&&Ce>pn(rn[0].zoom))return[new Or(Cn,rn[0].zoom,"stop zoom values must appear in ascending order")];pn(rn[0].zoom)!==Ce&&(Ce=pn(rn[0].zoom),Te=void 0,de={}),fn=fn.concat(yo({key:Cn+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:Ql,value:qt}}))}else fn=fn.concat(qt({key:Cn+"[0]",value:rn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},rn));return Au(sn(rn[1]))?fn.concat([new Or(Cn+"[1]",rn[1],"expressions are not allowed in function stops.")]):fn.concat(Ir({key:Cn+"[1]",value:rn[1],valueSpec:D,style:Br.style,styleSpec:Br.styleSpec}))}function qt(Br,fn){var rn=di(Br.value),Cn=pn(Br.value),gn=Br.value!==null?Br.value:fn;if(!ae)ae=rn;else if(rn!==ae)return[new Or(Br.key,gn,rn+" stop domain type must match previous stop domain type "+ae)];if(rn!=="number"&&rn!=="string"&&rn!=="boolean")return[new Or(Br.key,gn,"stop domain value must be a number, string, or boolean")];if(rn!=="number"&&H!=="categorical"){var En="number expected, "+rn+" found";return _s(D)&&H===void 0&&(En+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Or(Br.key,gn,En)]}return H==="categorical"&&rn==="number"&&(!isFinite(Cn)||Math.floor(Cn)!==Cn)?[new Or(Br.key,gn,"integer expected, found "+Cn)]:H!=="categorical"&&rn==="number"&&Te!==void 0&&Cn<Te?[new Or(Br.key,gn,"stop domain values must appear in ascending order")]:(Te=Cn,H==="categorical"&&Cn in de?[new Or(Br.key,gn,"stop domain values must be unique")]:(de[Cn]=!0,[]))}function xr(Br){return Ir({key:Br.key,value:Br.value,valueSpec:D,style:Br.style,styleSpec:Br.styleSpec})}}function el(R){var D=(R.expressionContext==="property"?_f:qs)(sn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ae){return new Or(""+R.key+ae.key,R.value,ae.message)});var H=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!H.outputDefined())return[new Or(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!vl(H))return[new Or(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!vl(H))return[new Or(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!du(H,["zoom","feature-state"]))return[new Or(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Bl(H))return[new Or(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ch(R){var D=R.value,H=R.key,ae=di(D);return ae!=="boolean"?[new Or(H,D,"boolean expected, "+ae+" found")]:[]}function ko(R){var D=R.key,H=R.value,ae=di(H);return ae!=="string"?[new Or(D,H,"color expected, "+ae+" found")]:ac(H)===null?[new Or(D,H,'color expected, "'+H+'" found')]:[]}function Eu(R){var D=R.key,H=R.value,ae=R.valueSpec,de=[];return Array.isArray(ae.values)?ae.values.indexOf(pn(H))===-1&&de.push(new Or(D,H,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(H)+" found")):Object.keys(ae.values).indexOf(pn(H))===-1&&de.push(new Or(D,H,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(H)+" found")),de}function uf(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,H=R.slice(1);D<H.length;D+=1){var ae=H[D];if(!uf(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var zs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function tl(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};uf(R)||(R=Lu(R));var D=qs(R,zs);if(D.result==="error")throw new Error(D.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var H=Cu(R);return{filter:function(ae,de,Te){return D.value.evaluate(ae,de,{},Te)},needGeometry:H}}function zf(R,D){return R<D?-1:R>D?1:0}function Cu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(Cu(R[D]))return!0;return!1}function Lu(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var H=D==="=="?ff(R[1],R[2],"=="):D==="!="?bl(ff(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?ff(R[1],R[2],D):D==="any"?Sc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(Lu)):D==="none"?["all"].concat(R.slice(1).map(Lu).map(bl)):D==="in"?Pu(R[1],R.slice(2)):D==="!in"?bl(Pu(R[1],R.slice(2))):D==="has"?Of(R[1]):D==="!has"?bl(Of(R[1])):D==="within"?R:!0;return H}function ff(R,D,H){switch(R){case"$type":return["filter-type-"+H,D];case"$id":return["filter-id-"+H,D];default:return["filter-"+H,R,D]}}function Sc(R){return["any"].concat(R.map(Lu))}function Pu(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(H){return typeof H!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(zf)]]:["filter-in-small",R,["literal",D]]}}function Of(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function bl(R){return["!",R]}function Bf(R){return uf(sn(R.value))?el(Rn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ru(R)}function Ru(R){var D=R.value,H=R.key;if(di(D)!=="array")return[new Or(H,D,"array expected, "+di(D)+" found")];var ae=R.styleSpec,de,Te=[];if(D.length<1)return[new Or(H,D,"filter array must have at least 1 element")];switch(Te=Te.concat(Eu({key:H+"[0]",value:D[0],valueSpec:ae.filter_operator,style:R.style,styleSpec:R.styleSpec})),pn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&pn(D[1])==="$type"&&Te.push(new Or(H,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Te.push(new Or(H,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(de=di(D[1]),de!=="string"&&Te.push(new Or(H+"[1]",D[1],"string expected, "+de+" found")));for(var Ce=2;Ce<D.length;Ce++)de=di(D[Ce]),pn(D[1])==="$type"?Te=Te.concat(Eu({key:H+"["+Ce+"]",value:D[Ce],valueSpec:ae.geometry_type,style:R.style,styleSpec:R.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Te.push(new Or(H+"["+Ce+"]",D[Ce],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<D.length;Qe++)Te=Te.concat(Ru({key:H+"["+Qe+"]",value:D[Qe],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":de=di(D[1]),D.length!==2?Te.push(new Or(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):de!=="string"&&Te.push(new Or(H+"[1]",D[1],"string expected, "+de+" found"));break;case"within":de=di(D[1]),D.length!==2?Te.push(new Or(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):de!=="object"&&Te.push(new Or(H+"[1]",D[1],"object expected, "+de+" found"));break}return Te}function Mc(R,D){var H=R.key,ae=R.style,de=R.styleSpec,Te=R.value,Ce=R.objectKey,Qe=de[D+"_"+R.layerType];if(!Qe)return[];var dt=Ce.match(/^(.*)-transition$/);if(D==="paint"&&dt&&Qe[dt[1]]&&Qe[dt[1]].transition)return Ir({key:H,value:Te,valueSpec:de.transition,style:ae,styleSpec:de});var St=R.valueSpec||Qe[Ce];if(!St)return[new Or(H,Te,'unknown property "'+Ce+'"')];var Pt;if(di(Te)==="string"&&_s(St)&&!St.tokens&&(Pt=/^{([^}]+)}$/.exec(Te)))return[new Or(H,Te,'"'+Ce+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Pt[1])+" }`.")];var Yt=[];return R.layerType==="symbol"&&(Ce==="text-field"&&ae&&!ae.glyphs&&Yt.push(new Or(H,Te,'use of "text-field" requires a style "glyphs" property')),Ce==="text-font"&&Kl(sn(Te))&&pn(Te.type)==="identity"&&Yt.push(new Or(H,Te,'"text-font" does not support identity functions'))),Yt.concat(Ir({key:R.key,value:Te,valueSpec:St,style:ae,styleSpec:de,expressionContext:"property",propertyType:D,propertyKey:Ce}))}function Je(R){return Mc(R,"paint")}function it(R){return Mc(R,"layout")}function yt(R){var D=[],H=R.value,ae=R.key,de=R.style,Te=R.styleSpec;!H.type&&!H.ref&&D.push(new Or(ae,H,'either "type" or "ref" is required'));var Ce=pn(H.type),Qe=pn(H.ref);if(H.id)for(var dt=pn(H.id),St=0;St<R.arrayIndex;St++){var Pt=de.layers[St];pn(Pt.id)===dt&&D.push(new Or(ae,H.id,'duplicate layer id "'+H.id+'", previously used at line '+Pt.id.__line__))}if("ref"in H){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in H&&D.push(new Or(ae,H[xr],'"'+xr+'" is prohibited for ref layers'))});var Yt;de.layers.forEach(function(xr){pn(xr.id)===Qe&&(Yt=xr)}),Yt?Yt.ref?D.push(new Or(ae,H.ref,"ref cannot reference another ref layer")):Ce=pn(Yt.type):D.push(new Or(ae,H.ref,'ref layer "'+Qe+'" not found'))}else if(Ce!=="background")if(!H.source)D.push(new Or(ae,H,'missing required property "source"'));else{var rr=de.sources&&de.sources[H.source],qt=rr&&pn(rr.type);rr?qt==="vector"&&Ce==="raster"?D.push(new Or(ae,H.source,'layer "'+H.id+'" requires a raster source')):qt==="raster"&&Ce!=="raster"?D.push(new Or(ae,H.source,'layer "'+H.id+'" requires a vector source')):qt==="vector"&&!H["source-layer"]?D.push(new Or(ae,H,'layer "'+H.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Ce!=="hillshade"?D.push(new Or(ae,H.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ce==="line"&&H.paint&&H.paint["line-gradient"]&&(qt!=="geojson"||!rr.lineMetrics)&&D.push(new Or(ae,H,'layer "'+H.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Or(ae,H.source,'source "'+H.source+'" not found'))}return D=D.concat(yo({key:ae,value:H,valueSpec:Te.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ir({key:ae+".type",value:H.type,valueSpec:Te.layer.type,style:R.style,styleSpec:R.styleSpec,object:H,objectKey:"type"})},filter:Bf,layout:function(Br){return yo({layer:H,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return it(Rn({layerType:Ce},rn))}}})},paint:function(Br){return yo({layer:H,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(rn){return Je(Rn({layerType:Ce},rn))}}})}}})),D}function xt(R){var D=R.value,H=R.key,ae=di(D);return ae!=="string"?[new Or(H,D,"string expected, "+ae+" found")]:[]}var Ft={promoteId:zt};function It(R){var D=R.value,H=R.key,ae=R.styleSpec,de=R.style;if(!D.type)return[new Or(H,D,'"type" is required')];var Te=pn(D.type),Ce;switch(Te){case"vector":case"raster":case"raster-dem":return Ce=yo({key:H,value:D,valueSpec:ae["source_"+Te.replace("-","_")],style:R.style,styleSpec:ae,objectElementValidators:Ft}),Ce;case"geojson":if(Ce=yo({key:H,value:D,valueSpec:ae.source_geojson,style:de,styleSpec:ae,objectElementValidators:Ft}),D.cluster)for(var Qe in D.clusterProperties){var dt=D.clusterProperties[Qe],St=dt[0],Pt=dt[1],Yt=typeof St=="string"?[St,["accumulated"],["get",Qe]]:St;Ce.push.apply(Ce,el({key:H+"."+Qe+".map",value:Pt,expressionContext:"cluster-map"})),Ce.push.apply(Ce,el({key:H+"."+Qe+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return Ce;case"video":return yo({key:H,value:D,valueSpec:ae.source_video,style:de,styleSpec:ae});case"image":return yo({key:H,value:D,valueSpec:ae.source_image,style:de,styleSpec:ae});case"canvas":return[new Or(H,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Eu({key:H+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ae})}}function zt(R){var D=R.key,H=R.value;if(di(H)==="string")return xt({key:D,value:H});var ae=[];for(var de in H)ae.push.apply(ae,xt({key:D+"."+de,value:H[de]}));return ae}function pr(R){var D=R.value,H=R.styleSpec,ae=H.light,de=R.style,Te=[],Ce=di(D);if(D===void 0)return Te;if(Ce!=="object")return Te=Te.concat([new Or("light",D,"object expected, "+Ce+" found")]),Te;for(var Qe in D){var dt=Qe.match(/^(.*)-transition$/);dt&&ae[dt[1]]&&ae[dt[1]].transition?Te=Te.concat(Ir({key:Qe,value:D[Qe],valueSpec:H.transition,style:de,styleSpec:H})):ae[Qe]?Te=Te.concat(Ir({key:Qe,value:D[Qe],valueSpec:ae[Qe],style:de,styleSpec:H})):Te=Te.concat([new Or(Qe,D[Qe],'unknown property "'+Qe+'"')])}return Te}function br(R){return xt(R).length===0?[]:el(R)}function ar(R){return xt(R).length===0?[]:el(R)}var Mr={"*":function(){return[]},array:Mu,boolean:Ch,number:Ql,color:ko,constants:yn,enum:Eu,filter:Bf,function:Ac,layer:yt,object:yo,source:It,light:pr,string:xt,formatted:br,resolvedImage:ar};function Ir(R){var D=R.value,H=R.valueSpec,ae=R.styleSpec;if(H.expression&&Kl(pn(D)))return Ac(R);if(H.expression&&Au(sn(D)))return el(R);if(H.type&&Mr[H.type])return Mr[H.type](R);var de=yo(Rn({},R,{valueSpec:H.type?ae[H.type]:H}));return de}function Nr(R){var D=R.value,H=R.key,ae=xt(R);return ae.length||(D.indexOf("{fontstack}")===-1&&ae.push(new Or(H,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ae.push(new Or(H,D,'"glyphs" url must include a "{range}" token'))),ae}function nn(R,D){D===void 0&&(D=Sr);var H=[];return H=H.concat(Ir({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Nr,"*":function(){return[]}}})),R.constants&&(H=H.concat(yn({key:"constants",value:R.constants,style:R,styleSpec:D}))),mn(H)}nn.source=Pn(It),nn.light=Pn(pr),nn.layer=Pn(yt),nn.filter=Pn(Bf),nn.paintProperty=Pn(Je),nn.layoutProperty=Pn(it);function mn(R){return[].concat(R).sort(function(D,H){return D.line-H.line})}function Pn(R){return function(){for(var D=[],H=arguments.length;H--;)D[H]=arguments[H];return mn(R.apply(this,D))}}var Dn=nn,Zn=Dn.light,Pa=Dn.paintProperty,Ra=Dn.layoutProperty;function Da(R,D){var H=!1;if(D&&D.length)for(var ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];R.fire(new Ot(new Error(Te.message))),H=!0}return H}var za=pi,Za=3;function pi(R,D,H){var ae=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var de=new Int32Array(this.arrayBuffer);R=de[0],D=de[1],H=de[2],this.d=D+2*H;for(var Te=0;Te<this.d*this.d;Te++){var Ce=de[Za+Te],Qe=de[Za+Te+1];ae.push(Ce===Qe?null:de.subarray(Ce,Qe))}var dt=de[Za+ae.length],St=de[Za+ae.length+1];this.keys=de.subarray(dt,St),this.bboxes=de.subarray(St),this.insert=this._insertReadonly}else{this.d=D+2*H;for(var Pt=0;Pt<this.d*this.d;Pt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=H,this.scale=D/R,this.uid=0;var Yt=H/D*R;this.min=-Yt,this.max=R+Yt}pi.prototype.insert=function(R,D,H,ae,de){this._forEachCell(D,H,ae,de,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(H),this.bboxes.push(ae),this.bboxes.push(de)},pi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},pi.prototype._insertCell=function(R,D,H,ae,de,Te){this.cells[de].push(Te)},pi.prototype.query=function(R,D,H,ae,de){var Te=this.min,Ce=this.max;if(R<=Te&&D<=Te&&Ce<=H&&Ce<=ae&&!de)return Array.prototype.slice.call(this.keys);var Qe=[],dt={};return this._forEachCell(R,D,H,ae,this._queryCell,Qe,dt,de),Qe},pi.prototype._queryCell=function(R,D,H,ae,de,Te,Ce,Qe){var dt=this.cells[de];if(dt!==null)for(var St=this.keys,Pt=this.bboxes,Yt=0;Yt<dt.length;Yt++){var rr=dt[Yt];if(Ce[rr]===void 0){var qt=rr*4;(Qe?Qe(Pt[qt+0],Pt[qt+1],Pt[qt+2],Pt[qt+3]):R<=Pt[qt+2]&&D<=Pt[qt+3]&&H>=Pt[qt+0]&&ae>=Pt[qt+1])?(Ce[rr]=!0,Te.push(St[rr])):Ce[rr]=!1}}},pi.prototype._forEachCell=function(R,D,H,ae,de,Te,Ce,Qe){for(var dt=this._convertToCellCoord(R),St=this._convertToCellCoord(D),Pt=this._convertToCellCoord(H),Yt=this._convertToCellCoord(ae),rr=dt;rr<=Pt;rr++)for(var qt=St;qt<=Yt;qt++){var xr=this.d*qt+rr;if(!(Qe&&!Qe(this._convertFromCellCoord(rr),this._convertFromCellCoord(qt),this._convertFromCellCoord(rr+1),this._convertFromCellCoord(qt+1)))&&de.call(this,R,D,H,ae,xr,Te,Ce,Qe))return}},pi.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},pi.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},pi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=Za+this.cells.length+1+1,H=0,ae=0;ae<this.cells.length;ae++)H+=this.cells[ae].length;var de=new Int32Array(D+H+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Te=D,Ce=0;Ce<R.length;Ce++){var Qe=R[Ce];de[Za+Ce]=Te,de.set(Qe,Te),Te+=Qe.length}return de[Za+R.length]=Te,de.set(this.keys,Te),Te+=this.keys.length,de[Za+R.length+1]=Te,de.set(this.bboxes,Te),Te+=this.bboxes.length,de.buffer};var zi=a.ImageData,fe=a.ImageBitmap,Se={};function Ue(R,D,H){H===void 0&&(H={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Se[R]={klass:D,omit:H.omit||[],shallow:H.shallow||[]}}Ue("Object",Object),za.serialize=function(D,H){var ae=D.toArrayBuffer();return H&&H.push(ae),{buffer:ae}},za.deserialize=function(D){return new za(D.buffer)},Ue("Grid",za),Ue("Color",ti),Ue("Error",Error),Ue("ResolvedImage",To),Ue("StylePropertyFunction",xl),Ue("StyleExpression",$s,{omit:["_evaluator"]}),Ue("ZoomDependentExpression",xs),Ue("ZoomConstantExpression",Wi),Ue("CompoundExpression",$i,{omit:["_evaluate"]});for(var tt in Xl)Xl[tt]._classRegistryKey||Ue("Expression_"+tt,Xl[tt]);function at(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function ct(R){return fe&&R instanceof fe}function Lt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(at(R)||ct(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var H=R;return D&&D.push(H.buffer),H}if(R instanceof zi)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ae=[],de=0,Te=R;de<Te.length;de+=1){var Ce=Te[de];ae.push(Lt(Ce,D))}return ae}if(typeof R=="object"){var Qe=R.constructor,dt=Qe._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var St=Qe.serialize?Qe.serialize(R,D):{};if(!Qe.serialize){for(var Pt in R)if(R.hasOwnProperty(Pt)&&!(Se[dt].omit.indexOf(Pt)>=0)){var Yt=R[Pt];St[Pt]=Se[dt].shallow.indexOf(Pt)>=0?Yt:Lt(Yt,D)}R instanceof Error&&(St.message=R.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(St.$name=dt),St}throw new Error("can't serialize object of type "+typeof R)}function At(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||at(R)||ct(R)||ArrayBuffer.isView(R)||R instanceof zi)return R;if(Array.isArray(R))return R.map(At);if(typeof R=="object"){var D=R.$name||"Object",H=Se[D],ae=H.klass;if(!ae)throw new Error("can't deserialize unregistered class "+D);if(ae.deserialize)return ae.deserialize(R);for(var de=Object.create(ae.prototype),Te=0,Ce=Object.keys(R);Te<Ce.length;Te+=1){var Qe=Ce[Te];if(Qe!=="$name"){var dt=R[Qe];de[Qe]=Se[D].shallow.indexOf(Qe)>=0?dt:At(dt)}}return de}throw new Error("can't deserialize object of type "+typeof R)}var Vt=function(){this.first=!0};Vt.prototype.update=function(D,H){var ae=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=H):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=H),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ae,!0):!1)};var Wt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function tr(R){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D];if(an(ae.charCodeAt(0)))return!0}return!1}function Cr(R){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D];if(!Lr(ae.charCodeAt(0)))return!1}return!0}function Lr(R){return!(Wt.Arabic(R)||Wt["Arabic Supplement"](R)||Wt["Arabic Extended-A"](R)||Wt["Arabic Presentation Forms-A"](R)||Wt["Arabic Presentation Forms-B"](R))}function qr(R){return R<11904?!1:!!(Wt["Bopomofo Extended"](R)||Wt.Bopomofo(R)||Wt["CJK Compatibility Forms"](R)||Wt["CJK Compatibility Ideographs"](R)||Wt["CJK Compatibility"](R)||Wt["CJK Radicals Supplement"](R)||Wt["CJK Strokes"](R)||Wt["CJK Symbols and Punctuation"](R)||Wt["CJK Unified Ideographs Extension A"](R)||Wt["CJK Unified Ideographs"](R)||Wt["Enclosed CJK Letters and Months"](R)||Wt["Halfwidth and Fullwidth Forms"](R)||Wt.Hiragana(R)||Wt["Ideographic Description Characters"](R)||Wt["Kangxi Radicals"](R)||Wt["Katakana Phonetic Extensions"](R)||Wt.Katakana(R)||Wt["Vertical Forms"](R)||Wt["Yi Radicals"](R)||Wt["Yi Syllables"](R))}function an(R){return R===746||R===747?!0:R<4352?!1:!!(Wt["Bopomofo Extended"](R)||Wt.Bopomofo(R)||Wt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Wt["CJK Compatibility Ideographs"](R)||Wt["CJK Compatibility"](R)||Wt["CJK Radicals Supplement"](R)||Wt["CJK Strokes"](R)||Wt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||Wt["CJK Unified Ideographs Extension A"](R)||Wt["CJK Unified Ideographs"](R)||Wt["Enclosed CJK Letters and Months"](R)||Wt["Hangul Compatibility Jamo"](R)||Wt["Hangul Jamo Extended-A"](R)||Wt["Hangul Jamo Extended-B"](R)||Wt["Hangul Jamo"](R)||Wt["Hangul Syllables"](R)||Wt.Hiragana(R)||Wt["Ideographic Description Characters"](R)||Wt.Kanbun(R)||Wt["Kangxi Radicals"](R)||Wt["Katakana Phonetic Extensions"](R)||Wt.Katakana(R)&&R!==12540||Wt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||Wt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||Wt["Unified Canadian Aboriginal Syllabics"](R)||Wt["Unified Canadian Aboriginal Syllabics Extended"](R)||Wt["Vertical Forms"](R)||Wt["Yijing Hexagram Symbols"](R)||Wt["Yi Syllables"](R)||Wt["Yi Radicals"](R))}function Rr(R){return!!(Wt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||Wt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||Wt["Letterlike Symbols"](R)||Wt["Number Forms"](R)||Wt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||Wt["Control Pictures"](R)&&R!==9251||Wt["Optical Character Recognition"](R)||Wt["Enclosed Alphanumerics"](R)||Wt["Geometric Shapes"](R)||Wt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Wt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Wt["CJK Symbols and Punctuation"](R)||Wt.Katakana(R)||Wt["Private Use Area"](R)||Wt["CJK Compatibility Forms"](R)||Wt["Small Form Variants"](R)||Wt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Ur(R){return!(an(R)||Rr(R))}function Kr(R){return Wt.Arabic(R)||Wt["Arabic Supplement"](R)||Wt["Arabic Extended-A"](R)||Wt["Arabic Presentation Forms-A"](R)||Wt["Arabic Presentation Forms-B"](R)}function cn(R){return R>=1424&&R<=2303||Wt["Arabic Presentation Forms-A"](R)||Wt["Arabic Presentation Forms-B"](R)}function dn(R,D){return!(!D&&cn(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Wt.Khmer(R))}function tn(R){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D];if(cn(ae.charCodeAt(0)))return!0}return!1}function Hn(R,D){for(var H=0,ae=R;H<ae.length;H+=1){var de=ae[H];if(!dn(de.charCodeAt(0),D))return!1}return!0}var ea={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},la=null,$n=ea.unavailable,aa=null,ua=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&($n=ea.error),la&&la(R)};function Ba(){Ma.fire(new er("pluginStateChange",{pluginStatus:$n,pluginURL:aa}))}var Ma=new nr,Fa=function(){return $n},oi=function(R){return R({pluginStatus:$n,pluginURL:aa}),Ma.on("pluginStateChange",R),R},Bi=function(R,D,H){if(H===void 0&&(H=!1),$n===ea.deferred||$n===ea.loading||$n===ea.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");aa=se.resolveURL(R),$n=ea.deferred,la=D,Ba(),H||hi()},hi=function(){if($n!==ea.deferred||!aa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$n=ea.loading,Ba(),aa&&Bt({url:aa},function(R){R?ua(R):($n=ea.loaded,Ba())})},Qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return $n===ea.loaded||Qn.applyArabicShaping!=null},isLoading:function(){return $n===ea.loading},setState:function(D){$n=D.pluginStatus,aa=D.pluginURL},isParsed:function(){return Qn.applyArabicShaping!=null&&Qn.processBidirectionalText!=null&&Qn.processStyledBidirectionalText!=null},getPluginURL:function(){return aa}},Va=function(){!Qn.isLoading()&&!Qn.isLoaded()&&Fa()==="deferred"&&hi()},Aa=function(D,H){this.zoom=D,H?(this.now=H.now,this.fadeDuration=H.fadeDuration,this.zoomHistory=H.zoomHistory,this.transition=H.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vt,this.transition={})};Aa.prototype.isSupportedScript=function(D){return Hn(D,Qn.isLoaded())},Aa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Aa.prototype.getCrossfadeParameters=function(){var D=this.zoom,H=D-Math.floor(D),ae=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:H+(1-H)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*H}};var Ka=function(D,H){this.property=D,this.value=H,this.expression=lf(H===void 0?D.specification.default:H,D.specification)};Ka.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ka.prototype.possiblyEvaluate=function(D,H,ae){return this.property.possiblyEvaluate(this,D,H,ae)};var Ti=function(D){this.property=D,this.value=new Ka(D,void 0)};Ti.prototype.transitioned=function(D,H){return new eo(this.property,this.value,H,x({},D.transition,this.transition),D.now)},Ti.prototype.untransitioned=function(){return new eo(this.property,this.value,null,{},0)};var si=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};si.prototype.getValue=function(D){return N(this._values[D].value.value)},si.prototype.setValue=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Ti(this._values[D].property)),this._values[D].value=new Ka(this._values[D].property,H===null?void 0:N(H))},si.prototype.getTransition=function(D){return N(this._values[D].transition)},si.prototype.setTransition=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new Ti(this._values[D].property)),this._values[D].transition=N(H)||void 0},si.prototype.serialize=function(){for(var D={},H=0,ae=Object.keys(this._values);H<ae.length;H+=1){var de=ae[H],Te=this.getValue(de);Te!==void 0&&(D[de]=Te);var Ce=this.getTransition(de);Ce!==void 0&&(D[de+"-transition"]=Ce)}return D},si.prototype.transitioned=function(D,H){for(var ae=new to(this._properties),de=0,Te=Object.keys(this._values);de<Te.length;de+=1){var Ce=Te[de];ae._values[Ce]=this._values[Ce].transitioned(D,H._values[Ce])}return ae},si.prototype.untransitioned=function(){for(var D=new to(this._properties),H=0,ae=Object.keys(this._values);H<ae.length;H+=1){var de=ae[H];D._values[de]=this._values[de].untransitioned()}return D};var eo=function(D,H,ae,de,Te){this.property=D,this.value=H,this.begin=Te+de.delay||0,this.end=this.begin+de.duration||0,D.specification.transition&&(de.delay||de.duration)&&(this.prior=ae)};eo.prototype.possiblyEvaluate=function(D,H,ae){var de=D.now||0,Te=this.value.possiblyEvaluate(D,H,ae),Ce=this.prior;if(Ce){if(de>this.end)return this.prior=null,Te;if(this.value.isDataDriven())return this.prior=null,Te;if(de<this.begin)return Ce.possiblyEvaluate(D,H,ae);var Qe=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(Ce.possiblyEvaluate(D,H,ae),Te,l(Qe))}else return Te};var to=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};to.prototype.possiblyEvaluate=function(D,H,ae){for(var de=new mo(this._properties),Te=0,Ce=Object.keys(this._values);Te<Ce.length;Te+=1){var Qe=Ce[Te];de._values[Qe]=this._values[Qe].possiblyEvaluate(D,H,ae)}return de},to.prototype.hasTransition=function(){for(var D=0,H=Object.keys(this._values);D<H.length;D+=1){var ae=H[D];if(this._values[ae].prior)return!0}return!1};var oo=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};oo.prototype.getValue=function(D){return N(this._values[D].value)},oo.prototype.setValue=function(D,H){this._values[D]=new Ka(this._values[D].property,H===null?void 0:N(H))},oo.prototype.serialize=function(){for(var D={},H=0,ae=Object.keys(this._values);H<ae.length;H+=1){var de=ae[H],Te=this.getValue(de);Te!==void 0&&(D[de]=Te)}return D},oo.prototype.possiblyEvaluate=function(D,H,ae){for(var de=new mo(this._properties),Te=0,Ce=Object.keys(this._values);Te<Ce.length;Te+=1){var Qe=Ce[Te];de._values[Qe]=this._values[Qe].possiblyEvaluate(D,H,ae)}return de};var Ai=function(D,H,ae){this.property=D,this.value=H,this.parameters=ae};Ai.prototype.isConstant=function(){return this.value.kind==="constant"},Ai.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Ai.prototype.evaluate=function(D,H,ae,de){return this.property.evaluate(this.value,this.parameters,D,H,ae,de)};var mo=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};mo.prototype.get=function(D){return this._values[D]};var oa=function(D){this.specification=D};oa.prototype.possiblyEvaluate=function(D,H){return D.expression.evaluate(H)},oa.prototype.interpolate=function(D,H,ae){var de=$u[this.specification.type];return de?de(D,H,ae):D};var Ca=function(D,H){this.specification=D,this.overrides=H};Ca.prototype.possiblyEvaluate=function(D,H,ae,de){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Ai(this,{kind:"constant",value:D.expression.evaluate(H,null,{},ae,de)},H):new Ai(this,D.expression,H)},Ca.prototype.interpolate=function(D,H,ae){if(D.value.kind!=="constant"||H.value.kind!=="constant")return D;if(D.value.value===void 0||H.value.value===void 0)return new Ai(this,{kind:"constant",value:void 0},D.parameters);var de=$u[this.specification.type];return de?new Ai(this,{kind:"constant",value:de(D.value.value,H.value.value,ae)},D.parameters):D},Ca.prototype.evaluate=function(D,H,ae,de,Te,Ce){return D.kind==="constant"?D.value:D.evaluate(H,ae,de,Te,Ce)};var Fo=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,de,Te,Ce){if(ae.value===void 0)return new Ai(this,{kind:"constant",value:void 0},de);if(ae.expression.kind==="constant"){var Qe=ae.expression.evaluate(de,null,{},Te,Ce),dt=ae.property.specification.type==="resolvedImage",St=dt&&typeof Qe!="string"?Qe.name:Qe,Pt=this._calculate(St,St,St,de);return new Ai(this,{kind:"constant",value:Pt},de)}else if(ae.expression.kind==="camera"){var Yt=this._calculate(ae.expression.evaluate({zoom:de.zoom-1}),ae.expression.evaluate({zoom:de.zoom}),ae.expression.evaluate({zoom:de.zoom+1}),de);return new Ai(this,{kind:"constant",value:Yt},de)}else return new Ai(this,ae.expression,de)},D.prototype.evaluate=function(ae,de,Te,Ce,Qe,dt){if(ae.kind==="source"){var St=ae.evaluate(de,Te,Ce,Qe,dt);return this._calculate(St,St,St,de)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(de.zoom)-1},Te,Ce),ae.evaluate({zoom:Math.floor(de.zoom)},Te,Ce),ae.evaluate({zoom:Math.floor(de.zoom)+1},Te,Ce),de):ae.value},D.prototype._calculate=function(ae,de,Te,Ce){var Qe=Ce.zoom;return Qe>Ce.zoomHistory.lastIntegerZoom?{from:ae,to:de}:{from:Te,to:de}},D.prototype.interpolate=function(ae){return ae},D}(Ca),Vo=function(D){this.specification=D};Vo.prototype.possiblyEvaluate=function(D,H,ae,de){if(D.value!==void 0)if(D.expression.kind==="constant"){var Te=D.expression.evaluate(H,null,{},ae,de);return this._calculate(Te,Te,Te,H)}else return this._calculate(D.expression.evaluate(new Aa(Math.floor(H.zoom-1),H)),D.expression.evaluate(new Aa(Math.floor(H.zoom),H)),D.expression.evaluate(new Aa(Math.floor(H.zoom+1),H)),H)},Vo.prototype._calculate=function(D,H,ae,de){var Te=de.zoom;return Te>de.zoomHistory.lastIntegerZoom?{from:D,to:H}:{from:ae,to:H}},Vo.prototype.interpolate=function(D){return D};var so=function(D){this.specification=D};so.prototype.possiblyEvaluate=function(D,H,ae,de){return!!D.expression.evaluate(H,null,{},ae,de)},so.prototype.interpolate=function(){return!1};var vi=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var H in D){var ae=D[H];ae.specification.overridable&&this.overridableProperties.push(H);var de=this.defaultPropertyValues[H]=new Ka(ae,void 0),Te=this.defaultTransitionablePropertyValues[H]=new Ti(ae);this.defaultTransitioningPropertyValues[H]=Te.untransitioned(),this.defaultPossiblyEvaluatedValues[H]=de.possiblyEvaluate({})}};Ue("DataDrivenProperty",Ca),Ue("DataConstantProperty",oa),Ue("CrossFadedDataDrivenProperty",Fo),Ue("CrossFadedProperty",Vo),Ue("ColorRampProperty",so);var Yi="-transition",Ni=function(R){function D(H,ae){if(R.call(this),this.id=H.id,this.type=H.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},H.type!=="custom"&&(H=H,this.metadata=H.metadata,this.minzoom=H.minzoom,this.maxzoom=H.maxzoom,H.type!=="background"&&(this.source=H.source,this.sourceLayer=H["source-layer"],this.filter=H.filter),ae.layout&&(this._unevaluatedLayout=new oo(ae.layout)),ae.paint)){this._transitionablePaint=new si(ae.paint);for(var de in H.paint)this.setPaintProperty(de,H.paint[de],{validate:!1});for(var Te in H.layout)this.setLayoutProperty(Te,H.layout[Te],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mo(ae.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},D.prototype.setLayoutProperty=function(ae,de,Te){if(Te===void 0&&(Te={}),de!=null){var Ce="layers."+this.id+".layout."+ae;if(this._validate(Ra,Ce,ae,de,Te))return}if(ae==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ae,de)},D.prototype.getPaintProperty=function(ae){return b(ae,Yi)?this._transitionablePaint.getTransition(ae.slice(0,-Yi.length)):this._transitionablePaint.getValue(ae)},D.prototype.setPaintProperty=function(ae,de,Te){if(Te===void 0&&(Te={}),de!=null){var Ce="layers."+this.id+".paint."+ae;if(this._validate(Pa,Ce,ae,de,Te))return!1}if(b(ae,Yi))return this._transitionablePaint.setTransition(ae.slice(0,-Yi.length),de||void 0),!1;var Qe=this._transitionablePaint._values[ae],dt=Qe.property.specification["property-type"]==="cross-faded-data-driven",St=Qe.value.isDataDriven(),Pt=Qe.value;this._transitionablePaint.setValue(ae,de),this._handleSpecialPaintPropertyUpdate(ae);var Yt=this._transitionablePaint._values[ae].value,rr=Yt.isDataDriven();return rr||St||dt||this._handleOverridablePaintPropertyUpdate(ae,Pt,Yt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Te){return!1},D.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ae,de){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,de)},D.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),I(ae,function(de,Te){return de!==void 0&&!(Te==="layout"&&!Object.keys(de).length)&&!(Te==="paint"&&!Object.keys(de).length)})},D.prototype._validate=function(ae,de,Te,Ce,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Da(this,ae.call(Dn,{key:de,layerType:this.type,objectKey:Te,value:Ce,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ae in this.paint._values){var de=this.paint.get(ae);if(!(!(de instanceof Ai)||!_s(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},D}(nr),bs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Os=function(D,H){this._structArray=D,this._pos1=H*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Pi=128,$l=5,Ja=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ja.serialize=function(D,H){return D._trim(),H&&(D.isTransferred=!0,H.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Ja.deserialize=function(D){var H=Object.create(this.prototype);return H.arrayBuffer=D.arrayBuffer,H.length=D.length,H.capacity=D.arrayBuffer.byteLength/H.bytesPerElement,H._refreshViews(),H},Ja.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ja.prototype.clear=function(){this.length=0},Ja.prototype.resize=function(D){this.reserve(D),this.length=D},Ja.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*$l),Pi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var H=this.uint8;this._refreshViews(),H&&this.uint8.set(H)}},Ja.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ri(R,D){D===void 0&&(D=1);var H=0,ae=0,de=R.map(function(Ce){var Qe=Lh(Ce.type),dt=H=S0(H,Math.max(D,Qe)),St=Ce.components||1;return ae=Math.max(ae,Qe),H+=Qe*St,{name:Ce.name,type:Ce.type,components:St,offset:dt}}),Te=S0(H,Math.max(ae,D));return{members:de,size:Te,alignment:D}}function Lh(R){return bs[R].BYTES_PER_ELEMENT}function S0(R,D){return Math.ceil(R/D)*D}var Nf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},D.prototype.emplace=function(ae,de,Te){var Ce=ae*2;return this.int16[Ce+0]=de,this.int16[Ce+1]=Te,ae},D}(Ja);Nf.prototype.bytesPerElement=4,Ue("StructArrayLayout2i4",Nf);var od=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,de,Te,Ce)},D.prototype.emplace=function(ae,de,Te,Ce,Qe){var dt=ae*4;return this.int16[dt+0]=de,this.int16[dt+1]=Te,this.int16[dt+2]=Ce,this.int16[dt+3]=Qe,ae},D}(Ja);od.prototype.bytesPerElement=8,Ue("StructArrayLayout4i8",od);var cf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,de,Te,Ce,Qe,dt)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St){var Pt=ae*6;return this.int16[Pt+0]=de,this.int16[Pt+1]=Te,this.int16[Pt+2]=Ce,this.int16[Pt+3]=Qe,this.int16[Pt+4]=dt,this.int16[Pt+5]=St,ae},D}(Ja);cf.prototype.bytesPerElement=12,Ue("StructArrayLayout2i4i12",cf);var Ec=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,de,Te,Ce,Qe,dt)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St){var Pt=ae*4,Yt=ae*8;return this.int16[Pt+0]=de,this.int16[Pt+1]=Te,this.uint8[Yt+4]=Ce,this.uint8[Yt+5]=Qe,this.uint8[Yt+6]=dt,this.uint8[Yt+7]=St,ae},D}(Ja);Ec.prototype.bytesPerElement=8,Ue("StructArrayLayout2i4ub8",Ec);var Cc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},D.prototype.emplace=function(ae,de,Te){var Ce=ae*2;return this.float32[Ce+0]=de,this.float32[Ce+1]=Te,ae},D}(Ja);Cc.prototype.bytesPerElement=8,Ue("StructArrayLayout2f8",Cc);var os=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt){var xr=ae*10;return this.uint16[xr+0]=de,this.uint16[xr+1]=Te,this.uint16[xr+2]=Ce,this.uint16[xr+3]=Qe,this.uint16[xr+4]=dt,this.uint16[xr+5]=St,this.uint16[xr+6]=Pt,this.uint16[xr+7]=Yt,this.uint16[xr+8]=rr,this.uint16[xr+9]=qt,ae},D}(Ja);os.prototype.bytesPerElement=20,Ue("StructArrayLayout10ui20",os);var hf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br){var fn=ae*12;return this.int16[fn+0]=de,this.int16[fn+1]=Te,this.int16[fn+2]=Ce,this.int16[fn+3]=Qe,this.uint16[fn+4]=dt,this.uint16[fn+5]=St,this.uint16[fn+6]=Pt,this.uint16[fn+7]=Yt,this.int16[fn+8]=rr,this.int16[fn+9]=qt,this.int16[fn+10]=xr,this.int16[fn+11]=Br,ae},D}(Ja);hf.prototype.bytesPerElement=24,Ue("StructArrayLayout4i4ui4i24",hf);var sd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ae,de,Te)},D.prototype.emplace=function(ae,de,Te,Ce){var Qe=ae*3;return this.float32[Qe+0]=de,this.float32[Qe+1]=Te,this.float32[Qe+2]=Ce,ae},D}(Ja);sd.prototype.bytesPerElement=12,Ue("StructArrayLayout3f12",sd);var ld=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Te=ae*1;return this.uint32[Te+0]=de,ae},D}(Ja);ld.prototype.bytesPerElement=4,Ue("StructArrayLayout1ul4",ld);var Ph=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt){var rr=this.length;return this.resize(rr+1),this.emplace(rr,ae,de,Te,Ce,Qe,dt,St,Pt,Yt)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr){var qt=ae*10,xr=ae*5;return this.int16[qt+0]=de,this.int16[qt+1]=Te,this.int16[qt+2]=Ce,this.int16[qt+3]=Qe,this.int16[qt+4]=dt,this.int16[qt+5]=St,this.uint32[xr+3]=Pt,this.uint16[qt+8]=Yt,this.uint16[qt+9]=rr,ae},D}(Ja);Ph.prototype.bytesPerElement=20,Ue("StructArrayLayout6i1ul2ui20",Ph);var ev=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,de,Te,Ce,Qe,dt)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St){var Pt=ae*6;return this.int16[Pt+0]=de,this.int16[Pt+1]=Te,this.int16[Pt+2]=Ce,this.int16[Pt+3]=Qe,this.int16[Pt+4]=dt,this.int16[Pt+5]=St,ae},D}(Ja);ev.prototype.bytesPerElement=12,Ue("StructArrayLayout2i2i2i12",ev);var Du=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe){var dt=this.length;return this.resize(dt+1),this.emplace(dt,ae,de,Te,Ce,Qe)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt){var St=ae*4,Pt=ae*8;return this.float32[St+0]=de,this.float32[St+1]=Te,this.float32[St+2]=Ce,this.int16[Pt+6]=Qe,this.int16[Pt+7]=dt,ae},D}(Ja);Du.prototype.bytesPerElement=16,Ue("StructArrayLayout2f1f2i16",Du);var ws=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,de,Te,Ce)},D.prototype.emplace=function(ae,de,Te,Ce,Qe){var dt=ae*12,St=ae*3;return this.uint8[dt+0]=de,this.uint8[dt+1]=Te,this.float32[St+1]=Ce,this.float32[St+2]=Qe,ae},D}(Ja);ws.prototype.bytesPerElement=12,Ue("StructArrayLayout2ub2f12",ws);var Iu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ae,de,Te)},D.prototype.emplace=function(ae,de,Te,Ce){var Qe=ae*3;return this.uint16[Qe+0]=de,this.uint16[Qe+1]=Te,this.uint16[Qe+2]=Ce,ae},D}(Ja);Iu.prototype.bytesPerElement=6,Ue("StructArrayLayout3ui6",Iu);var Rh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn){var En=this.length;return this.resize(En+1),this.emplace(En,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn,En){var kn=ae*24,Wn=ae*12,ra=ae*48;return this.int16[kn+0]=de,this.int16[kn+1]=Te,this.uint16[kn+2]=Ce,this.uint16[kn+3]=Qe,this.uint32[Wn+2]=dt,this.uint32[Wn+3]=St,this.uint32[Wn+4]=Pt,this.uint16[kn+10]=Yt,this.uint16[kn+11]=rr,this.uint16[kn+12]=qt,this.float32[Wn+7]=xr,this.float32[Wn+8]=Br,this.uint8[ra+36]=fn,this.uint8[ra+37]=rn,this.uint8[ra+38]=Cn,this.uint32[Wn+10]=gn,this.int16[kn+22]=En,ae},D}(Ja);Rh.prototype.bytesPerElement=48,Ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Rh);var tv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn,En,kn,Wn,ra,qn,wa,da,ba,Ua,Ta,Ea){var Wa=this.length;return this.resize(Wa+1),this.emplace(Wa,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn,En,kn,Wn,ra,qn,wa,da,ba,Ua,Ta,Ea)},D.prototype.emplace=function(ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn,En,kn,Wn,ra,qn,wa,da,ba,Ua,Ta,Ea,Wa){var Oa=ae*34,ui=ae*17;return this.int16[Oa+0]=de,this.int16[Oa+1]=Te,this.int16[Oa+2]=Ce,this.int16[Oa+3]=Qe,this.int16[Oa+4]=dt,this.int16[Oa+5]=St,this.int16[Oa+6]=Pt,this.int16[Oa+7]=Yt,this.uint16[Oa+8]=rr,this.uint16[Oa+9]=qt,this.uint16[Oa+10]=xr,this.uint16[Oa+11]=Br,this.uint16[Oa+12]=fn,this.uint16[Oa+13]=rn,this.uint16[Oa+14]=Cn,this.uint16[Oa+15]=gn,this.uint16[Oa+16]=En,this.uint16[Oa+17]=kn,this.uint16[Oa+18]=Wn,this.uint16[Oa+19]=ra,this.uint16[Oa+20]=qn,this.uint16[Oa+21]=wa,this.uint16[Oa+22]=da,this.uint32[ui+12]=ba,this.float32[ui+13]=Ua,this.float32[ui+14]=Ta,this.float32[ui+15]=Ea,this.float32[ui+16]=Wa,ae},D}(Ja);tv.prototype.bytesPerElement=68,Ue("StructArrayLayout8i15ui1ul4f68",tv);var Lc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Te=ae*1;return this.float32[Te+0]=de,ae},D}(Ja);Lc.prototype.bytesPerElement=4,Ue("StructArrayLayout1f4",Lc);var ud=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ae,de,Te)},D.prototype.emplace=function(ae,de,Te,Ce){var Qe=ae*3;return this.int16[Qe+0]=de,this.int16[Qe+1]=Te,this.int16[Qe+2]=Ce,ae},D}(Ja);ud.prototype.bytesPerElement=6,Ue("StructArrayLayout3i6",ud);var vf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ae,de,Te)},D.prototype.emplace=function(ae,de,Te,Ce){var Qe=ae*2,dt=ae*4;return this.uint32[Qe+0]=de,this.uint16[dt+2]=Te,this.uint16[dt+3]=Ce,ae},D}(Ja);vf.prototype.bytesPerElement=8,Ue("StructArrayLayout1ul2ui8",vf);var Dh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},D.prototype.emplace=function(ae,de,Te){var Ce=ae*2;return this.uint16[Ce+0]=de,this.uint16[Ce+1]=Te,ae},D}(Ja);Dh.prototype.bytesPerElement=4,Ue("StructArrayLayout2ui4",Dh);var Pc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},D.prototype.emplace=function(ae,de){var Te=ae*1;return this.uint16[Te+0]=de,ae},D}(Ja);Pc.prototype.bytesPerElement=2,Ue("StructArrayLayout1ui2",Pc);var Uf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,de,Te,Ce){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,de,Te,Ce)},D.prototype.emplace=function(ae,de,Te,Ce,Qe){var dt=ae*4;return this.float32[dt+0]=de,this.float32[dt+1]=Te,this.float32[dt+2]=Ce,this.float32[dt+3]=Qe,ae},D}(Ja);Uf.prototype.bytesPerElement=16,Ue("StructArrayLayout4f16",Uf);var M0=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return H.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},H.x1.get=function(){return this._structArray.int16[this._pos2+2]},H.y1.get=function(){return this._structArray.int16[this._pos2+3]},H.x2.get=function(){return this._structArray.int16[this._pos2+4]},H.y2.get=function(){return this._structArray.int16[this._pos2+5]},H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,H),D}(Os);M0.prototype.size=20;var fd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new M0(this,ae)},D}(Ph);Ue("CollisionBoxArray",fd);var Vf=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},H.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},H.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},H.segment.get=function(){return this._structArray.uint16[this._pos2+10]},H.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},H.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},H.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},H.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},H.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},H.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},H.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},H.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},H.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},H.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},H.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,H),D}(Os);Vf.prototype.size=48;var cd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new Vf(this,ae)},D}(Rh);Ue("PlacedSymbolArray",cd);var Rc=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},H.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},H.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},H.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},H.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},H.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},H.key.get=function(){return this._structArray.uint16[this._pos2+8]},H.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},H.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},H.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},H.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},H.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},H.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},H.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},H.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},H.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},H.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},H.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},H.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},H.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},H.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},H.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},H.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},H.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},H.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,H),D}(Os);Rc.prototype.size=68;var E0=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new Rc(this,ae)},D}(tv);Ue("SymbolInstanceArray",E0);var C0=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},D}(Lc);Ue("GlyphOffsetArray",C0);var wl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ae){return this.int16[ae*3+0]},D.prototype.gety=function(ae){return this.int16[ae*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},D}(ud);Ue("SymbolLineVertexArray",wl);var L0=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,H),D}(Os);L0.prototype.size=8;var P0=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new L0(this,ae)},D}(vf);Ue("FeatureIndexArray",P0);var zg=Ri([{name:"a_pos",components:2,type:"Int16"}],4),R0=zg.members,lo=function(D){D===void 0&&(D=[]),this.segments=D};lo.prototype.prepareSegment=function(D,H,ae,de){var Te=this.segments[this.segments.length-1];return D>lo.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+lo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Te||Te.vertexLength+D>lo.MAX_VERTEX_ARRAY_LENGTH||Te.sortKey!==de)&&(Te={vertexOffset:H.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Te.sortKey=de),this.segments.push(Te)),Te},lo.prototype.get=function(){return this.segments},lo.prototype.destroy=function(){for(var D=0,H=this.segments;D<H.length;D+=1){var ae=H[D];for(var de in ae.vaos)ae.vaos[de].destroy()}},lo.simpleSegment=function(D,H,ae,de){return new lo([{vertexOffset:D,primitiveOffset:H,vertexLength:ae,primitiveLength:de,vaos:{},sortKey:0}])},lo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ue("SegmentVector",lo);function he(R,D){return R=h(Math.floor(R),0,255),D=h(Math.floor(D),0,255),256*R+D}var K=Ri([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),pe=L(function(R){function D(H,ae){var de,Te,Ce,Qe,dt,St,Pt,Yt;for(de=H.length&3,Te=H.length-de,Ce=ae,dt=3432918353,St=461845907,Yt=0;Yt<Te;)Pt=H.charCodeAt(Yt)&255|(H.charCodeAt(++Yt)&255)<<8|(H.charCodeAt(++Yt)&255)<<16|(H.charCodeAt(++Yt)&255)<<24,++Yt,Pt=(Pt&65535)*dt+(((Pt>>>16)*dt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*St+(((Pt>>>16)*St&65535)<<16)&4294967295,Ce^=Pt,Ce=Ce<<13|Ce>>>19,Qe=(Ce&65535)*5+(((Ce>>>16)*5&65535)<<16)&4294967295,Ce=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Pt=0,de){case 3:Pt^=(H.charCodeAt(Yt+2)&255)<<16;case 2:Pt^=(H.charCodeAt(Yt+1)&255)<<8;case 1:Pt^=H.charCodeAt(Yt)&255,Pt=(Pt&65535)*dt+(((Pt>>>16)*dt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*St+(((Pt>>>16)*St&65535)<<16)&4294967295,Ce^=Pt}return Ce^=H.length,Ce^=Ce>>>16,Ce=(Ce&65535)*2246822507+(((Ce>>>16)*2246822507&65535)<<16)&4294967295,Ce^=Ce>>>13,Ce=(Ce&65535)*3266489909+(((Ce>>>16)*3266489909&65535)<<16)&4294967295,Ce^=Ce>>>16,Ce>>>0}R.exports=D}),ee=L(function(R){function D(H,ae){for(var de=H.length,Te=ae^de,Ce=0,Qe;de>=4;)Qe=H.charCodeAt(Ce)&255|(H.charCodeAt(++Ce)&255)<<8|(H.charCodeAt(++Ce)&255)<<16|(H.charCodeAt(++Ce)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)^Qe,de-=4,++Ce;switch(de){case 3:Te^=(H.charCodeAt(Ce+2)&255)<<16;case 2:Te^=(H.charCodeAt(Ce+1)&255)<<8;case 1:Te^=H.charCodeAt(Ce)&255,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)}return Te^=Te>>>13,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16),Te^=Te>>>15,Te>>>0}R.exports=D}),ge=pe,ze=pe,Ke=ee;ge.murmur3=ze,ge.murmur2=Ke;var ft=function(){this.ids=[],this.positions=[],this.indexed=!1};ft.prototype.add=function(D,H,ae,de){this.ids.push(Ut(D)),this.positions.push(H,ae,de)},ft.prototype.getPositions=function(D){for(var H=Ut(D),ae=0,de=this.ids.length-1;ae<de;){var Te=ae+de>>1;this.ids[Te]>=H?de=Te:ae=Te+1}for(var Ce=[];this.ids[ae]===H;){var Qe=this.positions[3*ae],dt=this.positions[3*ae+1],St=this.positions[3*ae+2];Ce.push({index:Qe,start:dt,end:St}),ae++}return Ce},ft.serialize=function(D,H){var ae=new Float64Array(D.ids),de=new Uint32Array(D.positions);return $t(ae,de,0,ae.length-1),H&&H.push(ae.buffer,de.buffer),{ids:ae,positions:de}},ft.deserialize=function(D){var H=new ft;return H.ids=D.ids,H.positions=D.positions,H.indexed=!0,H};var Ct=Math.pow(2,53)-1;function Ut(R){var D=+R;return!isNaN(D)&&D<=Ct?D:ge(String(R))}function $t(R,D,H,ae){for(;H<ae;){for(var de=R[H+ae>>1],Te=H-1,Ce=ae+1;;){do Te++;while(R[Te]<de);do Ce--;while(R[Ce]>de);if(Te>=Ce)break;lr(R,Te,Ce),lr(D,3*Te,3*Ce),lr(D,3*Te+1,3*Ce+1),lr(D,3*Te+2,3*Ce+2)}Ce-H<ae-Ce?($t(R,D,H,Ce),H=Ce+1):($t(R,D,Ce+1,ae),ae=Ce)}}function lr(R,D,H){var ae=R[D];R[D]=R[H],R[H]=ae}Ue("FeaturePositionMap",ft);var ir=function(D,H){this.gl=D.gl,this.location=H},kr=function(R){function D(H,ae){R.call(this,H,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},D}(ir),jr=function(R){function D(H,ae){R.call(this,H,ae),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},D}(ir),Xr=function(R){function D(H,ae){R.call(this,H,ae),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},D}(ir),Gr=function(R){function D(H,ae){R.call(this,H,ae),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},D}(ir),$r=function(R){function D(H,ae){R.call(this,H,ae),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},D}(ir),hn=function(R){function D(H,ae){R.call(this,H,ae),this.current=ti.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},D}(ir),In=new Float32Array(16),On=function(R){function D(H,ae){R.call(this,H,ae),this.current=In}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var de=1;de<16;de++)if(ae[de]!==this.current[de]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},D}(ir);function Yn(R){return[he(255*R.r,255*R.g),he(255*R.b,255*R.a)]}var jn=function(D,H,ae){this.value=D,this.uniformNames=H.map(function(de){return"u_"+de}),this.type=ae};jn.prototype.setUniform=function(D,H,ae){D.set(ae.constantOr(this.value))},jn.prototype.getBinding=function(D,H,ae){return this.type==="color"?new hn(D,H):new jr(D,H)};var Gn=function(D,H){this.uniformNames=H.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Gn.prototype.setConstantPatternPositions=function(D,H){this.pixelRatioFrom=H.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=H.tlbr,this.patternTo=D.tlbr},Gn.prototype.setUniform=function(D,H,ae,de){var Te=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Te&&D.set(Te)},Gn.prototype.getBinding=function(D,H,ae){return ae.substr(0,9)==="u_pattern"?new $r(D,H):new jr(D,H)};var Kn=function(D,H,ae,de){this.expression=D,this.type=ae,this.maxValue=0,this.paintVertexAttributes=H.map(function(Te){return{name:"a_"+Te,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new de};Kn.prototype.populatePaintArray=function(D,H,ae,de,Te){var Ce=this.paintVertexArray.length,Qe=this.expression.evaluate(new Aa(0),H,{},de,[],Te);this.paintVertexArray.resize(D),this._setPaintValue(Ce,D,Qe)},Kn.prototype.updatePaintArray=function(D,H,ae,de){var Te=this.expression.evaluate({zoom:0},ae,de);this._setPaintValue(D,H,Te)},Kn.prototype._setPaintValue=function(D,H,ae){if(this.type==="color")for(var de=Yn(ae),Te=D;Te<H;Te++)this.paintVertexArray.emplace(Te,de[0],de[1]);else{for(var Ce=D;Ce<H;Ce++)this.paintVertexArray.emplace(Ce,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Kn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Kn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ta=function(D,H,ae,de,Te,Ce){this.expression=D,this.uniformNames=H.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ae,this.useIntegerZoom=de,this.zoom=Te,this.maxValue=0,this.paintVertexAttributes=H.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Ce};ta.prototype.populatePaintArray=function(D,H,ae,de,Te){var Ce=this.expression.evaluate(new Aa(this.zoom),H,{},de,[],Te),Qe=this.expression.evaluate(new Aa(this.zoom+1),H,{},de,[],Te),dt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(dt,D,Ce,Qe)},ta.prototype.updatePaintArray=function(D,H,ae,de){var Te=this.expression.evaluate({zoom:this.zoom},ae,de),Ce=this.expression.evaluate({zoom:this.zoom+1},ae,de);this._setPaintValue(D,H,Te,Ce)},ta.prototype._setPaintValue=function(D,H,ae,de){if(this.type==="color")for(var Te=Yn(ae),Ce=Yn(de),Qe=D;Qe<H;Qe++)this.paintVertexArray.emplace(Qe,Te[0],Te[1],Ce[0],Ce[1]);else{for(var dt=D;dt<H;dt++)this.paintVertexArray.emplace(dt,ae,de);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(de))}},ta.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ta.prototype.setUniform=function(D,H){var ae=this.useIntegerZoom?Math.floor(H.zoom):H.zoom,de=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);D.set(de)},ta.prototype.getBinding=function(D,H,ae){return new jr(D,H)};var sa=function(D,H,ae,de,Te,Ce){this.expression=D,this.type=H,this.useIntegerZoom=ae,this.zoom=de,this.layerId=Ce,this.zoomInPaintVertexArray=new Te,this.zoomOutPaintVertexArray=new Te};sa.prototype.populatePaintArray=function(D,H,ae){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(de,D,H.patterns&&H.patterns[this.layerId],ae)},sa.prototype.updatePaintArray=function(D,H,ae,de,Te){this._setPaintValues(D,H,ae.patterns&&ae.patterns[this.layerId],Te)},sa.prototype._setPaintValues=function(D,H,ae,de){if(!(!de||!ae)){var Te=ae.min,Ce=ae.mid,Qe=ae.max,dt=de[Te],St=de[Ce],Pt=de[Qe];if(!(!dt||!St||!Pt))for(var Yt=D;Yt<H;Yt++)this.zoomInPaintVertexArray.emplace(Yt,St.tl[0],St.tl[1],St.br[0],St.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],St.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,St.tl[0],St.tl[1],St.br[0],St.br[1],Pt.tl[0],Pt.tl[1],Pt.br[0],Pt.br[1],St.pixelRatio,Pt.pixelRatio)}},sa.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},sa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ma=function(D,H,ae){this.binders={},this._buffers=[];var de=[];for(var Te in D.paint._values)if(ae(Te)){var Ce=D.paint.get(Te);if(!(!(Ce instanceof Ai)||!_s(Ce.property.specification))){var Qe=_a(Te,D.type),dt=Ce.value,St=Ce.property.specification.type,Pt=Ce.property.useIntegerZoom,Yt=Ce.property.specification["property-type"],rr=Yt==="cross-faded"||Yt==="cross-faded-data-driven";if(dt.kind==="constant")this.binders[Te]=rr?new Gn(dt.value,Qe):new jn(dt.value,Qe,St),de.push("/u_"+Te);else if(dt.kind==="source"||rr){var qt=Xa(Te,St,"source");this.binders[Te]=rr?new sa(dt,St,Pt,H,qt,D.id):new Kn(dt,Qe,St,qt),de.push("/a_"+Te)}else{var xr=Xa(Te,St,"composite");this.binders[Te]=new ta(dt,Qe,St,Pt,H,xr),de.push("/z_"+Te)}}}this.cacheKey=de.sort().join("")};ma.prototype.getMaxValue=function(D){var H=this.binders[D];return H instanceof Kn||H instanceof ta?H.maxValue:0},ma.prototype.populatePaintArrays=function(D,H,ae,de,Te){for(var Ce in this.binders){var Qe=this.binders[Ce];(Qe instanceof Kn||Qe instanceof ta||Qe instanceof sa)&&Qe.populatePaintArray(D,H,ae,de,Te)}},ma.prototype.setConstantPatternPositions=function(D,H){for(var ae in this.binders){var de=this.binders[ae];de instanceof Gn&&de.setConstantPatternPositions(D,H)}},ma.prototype.updatePaintArrays=function(D,H,ae,de,Te){var Ce=!1;for(var Qe in D)for(var dt=H.getPositions(Qe),St=0,Pt=dt;St<Pt.length;St+=1){var Yt=Pt[St],rr=ae.feature(Yt.index);for(var qt in this.binders){var xr=this.binders[qt];if((xr instanceof Kn||xr instanceof ta||xr instanceof sa)&&xr.expression.isStateDependent===!0){var Br=de.paint.get(qt);xr.expression=Br.value,xr.updatePaintArray(Yt.start,Yt.end,rr,D[Qe],Te),Ce=!0}}}return Ce},ma.prototype.defines=function(){var D=[];for(var H in this.binders){var ae=this.binders[H];(ae instanceof jn||ae instanceof Gn)&&D.push.apply(D,ae.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return D},ma.prototype.getBinderAttributes=function(){var D=[];for(var H in this.binders){var ae=this.binders[H];if(ae instanceof Kn||ae instanceof ta)for(var de=0;de<ae.paintVertexAttributes.length;de++)D.push(ae.paintVertexAttributes[de].name);else if(ae instanceof sa)for(var Te=0;Te<K.members.length;Te++)D.push(K.members[Te].name)}return D},ma.prototype.getBinderUniforms=function(){var D=[];for(var H in this.binders){var ae=this.binders[H];if(ae instanceof jn||ae instanceof Gn||ae instanceof ta)for(var de=0,Te=ae.uniformNames;de<Te.length;de+=1){var Ce=Te[de];D.push(Ce)}}return D},ma.prototype.getPaintVertexBuffers=function(){return this._buffers},ma.prototype.getUniforms=function(D,H){var ae=[];for(var de in this.binders){var Te=this.binders[de];if(Te instanceof jn||Te instanceof Gn||Te instanceof ta)for(var Ce=0,Qe=Te.uniformNames;Ce<Qe.length;Ce+=1){var dt=Qe[Ce];if(H[dt]){var St=Te.getBinding(D,H[dt],dt);ae.push({name:dt,property:de,binding:St})}}}return ae},ma.prototype.setUniforms=function(D,H,ae,de){for(var Te=0,Ce=H;Te<Ce.length;Te+=1){var Qe=Ce[Te],dt=Qe.name,St=Qe.property,Pt=Qe.binding;this.binders[St].setUniform(Pt,de,ae.get(St),dt)}},ma.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var H in this.binders){var ae=this.binders[H];if(D&&ae instanceof sa){var de=D.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ae instanceof Kn||ae instanceof ta)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},ma.prototype.upload=function(D){for(var H in this.binders){var ae=this.binders[H];(ae instanceof Kn||ae instanceof ta||ae instanceof sa)&&ae.upload(D)}this.updatePaintBuffers()},ma.prototype.destroy=function(){for(var D in this.binders){var H=this.binders[D];(H instanceof Kn||H instanceof ta||H instanceof sa)&&H.destroy()}};var va=function(D,H,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var de=0,Te=D;de<Te.length;de+=1){var Ce=Te[de];this.programConfigurations[Ce.id]=new ma(Ce,H,ae)}this.needsUpload=!1,this._featureMap=new ft,this._bufferOffset=0};va.prototype.populatePaintArrays=function(D,H,ae,de,Te,Ce){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(D,H,de,Te,Ce);H.id!==void 0&&this._featureMap.add(H.id,ae,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},va.prototype.updatePaintArrays=function(D,H,ae,de){for(var Te=0,Ce=ae;Te<Ce.length;Te+=1){var Qe=Ce[Te];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(D,this._featureMap,H,Qe,de)||this.needsUpload}},va.prototype.get=function(D){return this.programConfigurations[D]},va.prototype.upload=function(D){if(this.needsUpload){for(var H in this.programConfigurations)this.programConfigurations[H].upload(D);this.needsUpload=!1}},va.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function _a(R,D){var H={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return H[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function $a(R){var D={"line-pattern":{source:os,composite:os},"fill-pattern":{source:os,composite:os},"fill-extrusion-pattern":{source:os,composite:os}};return D[R]}function Xa(R,D,H){var ae={color:{source:Cc,composite:Uf},number:{source:Lc,composite:Cc}},de=$a(R);return de&&de[H]||ae[D][H]}Ue("ConstantBinder",jn),Ue("CrossFadedConstantBinder",Gn),Ue("SourceExpressionBinder",Kn),Ue("CrossFadedCompositeBinder",sa),Ue("CompositeExpressionBinder",ta),Ue("ProgramConfiguration",ma,{omit:["_buffers"]}),Ue("ProgramConfigurationSet",va);var Sa=8192,ja=15,Ha=Math.pow(2,ja-1)-1,li=-Ha-1;function ri(R){for(var D=Sa/R.extent,H=R.loadGeometry(),ae=0;ae<H.length;ae++)for(var de=H[ae],Te=0;Te<de.length;Te++){var Ce=de[Te],Qe=Math.round(Ce.x*D),dt=Math.round(Ce.y*D);Ce.x=h(Qe,li,Ha),Ce.y=h(dt,li,Ha),(Qe<Ce.x||Qe>Ce.x+1||dt<Ce.y||dt>Ce.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return H}function Mi(R,D){return{type:R.type,id:R.id,properties:R.properties,geometry:D?ri(R):[]}}function Qa(R,D,H,ae,de){R.emplaceBack(D*2+(ae+1)/2,H*2+(de+1)/2)}var xi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Nf,this.indexArray=new Iu,this.segments=new lo,this.programConfigurations=new va(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};xi.prototype.populate=function(D,H,ae){var de=this.layers[0],Te=[],Ce=null;de.type==="circle"&&(Ce=de.layout.get("circle-sort-key"));for(var Qe=0,dt=D;Qe<dt.length;Qe+=1){var St=dt[Qe],Pt=St.feature,Yt=St.id,rr=St.index,qt=St.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Br=Mi(Pt,xr);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),Br,ae)){var fn=Ce?Ce.evaluate(Br,{},ae):void 0,rn={id:Yt,properties:Pt.properties,type:Pt.type,sourceLayerIndex:qt,index:rr,geometry:xr?Br.geometry:ri(Pt),patterns:{},sortKey:fn};Te.push(rn)}}Ce&&Te.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var Cn=0,gn=Te;Cn<gn.length;Cn+=1){var En=gn[Cn],kn=En,Wn=kn.geometry,ra=kn.index,qn=kn.sourceLayerIndex,wa=D[ra].feature;this.addFeature(En,Wn,ra,ae),H.featureIndex.insert(wa,Wn,ra,qn,this.index)}},xi.prototype.update=function(D,H,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ae)},xi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},xi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,R0),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},xi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},xi.prototype.addFeature=function(D,H,ae,de){for(var Te=0,Ce=H;Te<Ce.length;Te+=1)for(var Qe=Ce[Te],dt=0,St=Qe;dt<St.length;dt+=1){var Pt=St[dt],Yt=Pt.x,rr=Pt.y;if(!(Yt<0||Yt>=Sa||rr<0||rr>=Sa)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),xr=qt.vertexLength;Qa(this.layoutVertexArray,Yt,rr,-1,-1),Qa(this.layoutVertexArray,Yt,rr,1,-1),Qa(this.layoutVertexArray,Yt,rr,1,1),Qa(this.layoutVertexArray,Yt,rr,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,{},de)},Ue("CircleBucket",xi,{omit:["layers"]});function Ga(R,D){for(var H=0;H<R.length;H++)if(ss(D,R[H]))return!0;for(var ae=0;ae<D.length;ae++)if(ss(R,D[ae]))return!0;return!!nl(R,D)}function qa(R,D,H){return!!(ss(R,D)||ql(D,R,H))}function Ui(R,D){if(R.length===1)return eu(D,R[0]);for(var H=0;H<D.length;H++)for(var ae=D[H],de=0;de<ae.length;de++)if(ss(R,ae[de]))return!0;for(var Te=0;Te<R.length;Te++)if(eu(D,R[Te]))return!0;for(var Ce=0;Ce<D.length;Ce++)if(nl(R,D[Ce]))return!0;return!1}function xo(R,D,H){for(var ae=0;ae<D.length;ae++){var de=D[ae];if(R.length>=3){for(var Te=0;Te<de.length;Te++)if(ss(R,de[Te]))return!0}if(rl(R,de,H))return!0}return!1}function rl(R,D,H){if(R.length>1){if(nl(R,D))return!0;for(var ae=0;ae<D.length;ae++)if(ql(D[ae],R,H))return!0}for(var de=0;de<R.length;de++)if(ql(R[de],D,H))return!0;return!1}function nl(R,D){if(R.length===0||D.length===0)return!1;for(var H=0;H<R.length-1;H++)for(var ae=R[H],de=R[H+1],Te=0;Te<D.length-1;Te++){var Ce=D[Te],Qe=D[Te+1];if(Tl(ae,de,Ce,Qe))return!0}return!1}function Tl(R,D,H,ae){return z(R,H,ae)!==z(D,H,ae)&&z(R,D,H)!==z(R,D,ae)}function ql(R,D,H){var ae=H*H;if(D.length===1)return R.distSqr(D[0])<ae;for(var de=1;de<D.length;de++){var Te=D[de-1],Ce=D[de];if(Hf(R,Te,Ce)<ae)return!0}return!1}function Hf(R,D,H){var ae=D.distSqr(H);if(ae===0)return R.distSqr(D);var de=((R.x-D.x)*(H.x-D.x)+(R.y-D.y)*(H.y-D.y))/ae;return de<0?R.distSqr(D):de>1?R.distSqr(H):R.distSqr(H.sub(D)._mult(de)._add(D))}function eu(R,D){for(var H=!1,ae,de,Te,Ce=0;Ce<R.length;Ce++){ae=R[Ce];for(var Qe=0,dt=ae.length-1;Qe<ae.length;dt=Qe++)de=ae[Qe],Te=ae[dt],de.y>D.y!=Te.y>D.y&&D.x<(Te.x-de.x)*(D.y-de.y)/(Te.y-de.y)+de.x&&(H=!H)}return H}function ss(R,D){for(var H=!1,ae=0,de=R.length-1;ae<R.length;de=ae++){var Te=R[ae],Ce=R[de];Te.y>D.y!=Ce.y>D.y&&D.x<(Ce.x-Te.x)*(D.y-Te.y)/(Ce.y-Te.y)+Te.x&&(H=!H)}return H}function tu(R,D,H,ae,de){for(var Te=0,Ce=R;Te<Ce.length;Te+=1){var Qe=Ce[Te];if(D<=Qe.x&&H<=Qe.y&&ae>=Qe.x&&de>=Qe.y)return!0}var dt=[new r(D,H),new r(D,de),new r(ae,de),new r(ae,H)];if(R.length>2)for(var St=0,Pt=dt;St<Pt.length;St+=1){var Yt=Pt[St];if(ss(R,Yt))return!0}for(var rr=0;rr<R.length-1;rr++){var qt=R[rr],xr=R[rr+1];if(Ts(qt,xr,dt))return!0}return!1}function Ts(R,D,H){var ae=H[0],de=H[2];if(R.x<ae.x&&D.x<ae.x||R.x>de.x&&D.x>de.x||R.y<ae.y&&D.y<ae.y||R.y>de.y&&D.y>de.y)return!1;var Te=z(R,D,H[0]);return Te!==z(R,D,H[1])||Te!==z(R,D,H[2])||Te!==z(R,D,H[3])}function ls(R,D,H){var ae=D.paint.get(R).value;return ae.kind==="constant"?ae.value:H.programConfigurations.get(D.id).getMaxValue(R)}function Al(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function ku(R,D,H,ae,de){if(!D[0]&&!D[1])return R;var Te=r.convert(D)._mult(de);H==="viewport"&&Te._rotate(-ae);for(var Ce=[],Qe=0;Qe<R.length;Qe++){var dt=R[Qe];Ce.push(dt.sub(Te))}return Ce}var Sl=new vi({"circle-sort-key":new Ca(Sr.layout_circle["circle-sort-key"])}),rv=new vi({"circle-radius":new Ca(Sr.paint_circle["circle-radius"]),"circle-color":new Ca(Sr.paint_circle["circle-color"]),"circle-blur":new Ca(Sr.paint_circle["circle-blur"]),"circle-opacity":new Ca(Sr.paint_circle["circle-opacity"]),"circle-translate":new oa(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new oa(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oa(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oa(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ca(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ca(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ca(Sr.paint_circle["circle-stroke-opacity"])}),Dc={paint:rv,layout:Sl},So=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,H=arguments.length;H--;)D+=R[H]*R[H];return Math.sqrt(D)});function nv(){var R=new So(4);return So!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function Ih(R,D,H){var ae=D[0],de=D[1],Te=D[2],Ce=D[3],Qe=Math.sin(H),dt=Math.cos(H);return R[0]=ae*dt+Te*Qe,R[1]=de*dt+Ce*Qe,R[2]=ae*-Qe+Te*dt,R[3]=de*-Qe+Ce*dt,R}function jo(){var R=new So(9);return So!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function Ic(R,D){var H=Math.sin(D),ae=Math.cos(D);return R[0]=ae,R[1]=H,R[2]=0,R[3]=-H,R[4]=ae,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function av(){var R=new So(16);return So!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function iv(R){var D=new So(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function ov(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function kc(R,D){var H=D[0],ae=D[1],de=D[2],Te=D[3],Ce=D[4],Qe=D[5],dt=D[6],St=D[7],Pt=D[8],Yt=D[9],rr=D[10],qt=D[11],xr=D[12],Br=D[13],fn=D[14],rn=D[15],Cn=H*Qe-ae*Ce,gn=H*dt-de*Ce,En=H*St-Te*Ce,kn=ae*dt-de*Qe,Wn=ae*St-Te*Qe,ra=de*St-Te*dt,qn=Pt*Br-Yt*xr,wa=Pt*fn-rr*xr,da=Pt*rn-qt*xr,ba=Yt*fn-rr*Br,Ua=Yt*rn-qt*Br,Ta=rr*rn-qt*fn,Ea=Cn*Ta-gn*Ua+En*ba+kn*da-Wn*wa+ra*qn;return Ea?(Ea=1/Ea,R[0]=(Qe*Ta-dt*Ua+St*ba)*Ea,R[1]=(de*Ua-ae*Ta-Te*ba)*Ea,R[2]=(Br*ra-fn*Wn+rn*kn)*Ea,R[3]=(rr*Wn-Yt*ra-qt*kn)*Ea,R[4]=(dt*da-Ce*Ta-St*wa)*Ea,R[5]=(H*Ta-de*da+Te*wa)*Ea,R[6]=(fn*En-xr*ra-rn*gn)*Ea,R[7]=(Pt*ra-rr*En+qt*gn)*Ea,R[8]=(Ce*Ua-Qe*da+St*qn)*Ea,R[9]=(ae*da-H*Ua-Te*qn)*Ea,R[10]=(xr*Wn-Br*En+rn*Cn)*Ea,R[11]=(Yt*En-Pt*Wn-qt*Cn)*Ea,R[12]=(Qe*wa-Ce*ba-dt*qn)*Ea,R[13]=(H*ba-ae*wa+de*qn)*Ea,R[14]=(Br*gn-xr*kn-fn*Cn)*Ea,R[15]=(Pt*kn-Yt*gn+rr*Cn)*Ea,R):null}function Fc(R,D,H){var ae=D[0],de=D[1],Te=D[2],Ce=D[3],Qe=D[4],dt=D[5],St=D[6],Pt=D[7],Yt=D[8],rr=D[9],qt=D[10],xr=D[11],Br=D[12],fn=D[13],rn=D[14],Cn=D[15],gn=H[0],En=H[1],kn=H[2],Wn=H[3];return R[0]=gn*ae+En*Qe+kn*Yt+Wn*Br,R[1]=gn*de+En*dt+kn*rr+Wn*fn,R[2]=gn*Te+En*St+kn*qt+Wn*rn,R[3]=gn*Ce+En*Pt+kn*xr+Wn*Cn,gn=H[4],En=H[5],kn=H[6],Wn=H[7],R[4]=gn*ae+En*Qe+kn*Yt+Wn*Br,R[5]=gn*de+En*dt+kn*rr+Wn*fn,R[6]=gn*Te+En*St+kn*qt+Wn*rn,R[7]=gn*Ce+En*Pt+kn*xr+Wn*Cn,gn=H[8],En=H[9],kn=H[10],Wn=H[11],R[8]=gn*ae+En*Qe+kn*Yt+Wn*Br,R[9]=gn*de+En*dt+kn*rr+Wn*fn,R[10]=gn*Te+En*St+kn*qt+Wn*rn,R[11]=gn*Ce+En*Pt+kn*xr+Wn*Cn,gn=H[12],En=H[13],kn=H[14],Wn=H[15],R[12]=gn*ae+En*Qe+kn*Yt+Wn*Br,R[13]=gn*de+En*dt+kn*rr+Wn*fn,R[14]=gn*Te+En*St+kn*qt+Wn*rn,R[15]=gn*Ce+En*Pt+kn*xr+Wn*Cn,R}function Xi(R,D,H){var ae=H[0],de=H[1],Te=H[2],Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn;return D===R?(R[12]=D[0]*ae+D[4]*de+D[8]*Te+D[12],R[13]=D[1]*ae+D[5]*de+D[9]*Te+D[13],R[14]=D[2]*ae+D[6]*de+D[10]*Te+D[14],R[15]=D[3]*ae+D[7]*de+D[11]*Te+D[15]):(Ce=D[0],Qe=D[1],dt=D[2],St=D[3],Pt=D[4],Yt=D[5],rr=D[6],qt=D[7],xr=D[8],Br=D[9],fn=D[10],rn=D[11],R[0]=Ce,R[1]=Qe,R[2]=dt,R[3]=St,R[4]=Pt,R[5]=Yt,R[6]=rr,R[7]=qt,R[8]=xr,R[9]=Br,R[10]=fn,R[11]=rn,R[12]=Ce*ae+Pt*de+xr*Te+D[12],R[13]=Qe*ae+Yt*de+Br*Te+D[13],R[14]=dt*ae+rr*de+fn*Te+D[14],R[15]=St*ae+qt*de+rn*Te+D[15]),R}function As(R,D,H){var ae=H[0],de=H[1],Te=H[2];return R[0]=D[0]*ae,R[1]=D[1]*ae,R[2]=D[2]*ae,R[3]=D[3]*ae,R[4]=D[4]*de,R[5]=D[5]*de,R[6]=D[6]*de,R[7]=D[7]*de,R[8]=D[8]*Te,R[9]=D[9]*Te,R[10]=D[10]*Te,R[11]=D[11]*Te,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function Ss(R,D,H){var ae=Math.sin(H),de=Math.cos(H),Te=D[4],Ce=D[5],Qe=D[6],dt=D[7],St=D[8],Pt=D[9],Yt=D[10],rr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=Te*de+St*ae,R[5]=Ce*de+Pt*ae,R[6]=Qe*de+Yt*ae,R[7]=dt*de+rr*ae,R[8]=St*de-Te*ae,R[9]=Pt*de-Ce*ae,R[10]=Yt*de-Qe*ae,R[11]=rr*de-dt*ae,R}function sv(R,D,H){var ae=Math.sin(H),de=Math.cos(H),Te=D[0],Ce=D[1],Qe=D[2],dt=D[3],St=D[4],Pt=D[5],Yt=D[6],rr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=Te*de+St*ae,R[1]=Ce*de+Pt*ae,R[2]=Qe*de+Yt*ae,R[3]=dt*de+rr*ae,R[4]=St*de-Te*ae,R[5]=Pt*de-Ce*ae,R[6]=Yt*de-Qe*ae,R[7]=rr*de-dt*ae,R}function hd(R,D,H,ae,de){var Te=1/Math.tan(D/2),Ce;return R[0]=Te/H,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=Te,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,de!=null&&de!==1/0?(Ce=1/(ae-de),R[10]=(de+ae)*Ce,R[14]=2*de*ae*Ce):(R[10]=-1,R[14]=-2*ae),R}function Og(R,D,H,ae,de,Te,Ce){var Qe=1/(D-H),dt=1/(ae-de),St=1/(Te-Ce);return R[0]=-2*Qe,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*dt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*St,R[11]=0,R[12]=(D+H)*Qe,R[13]=(de+ae)*dt,R[14]=(Ce+Te)*St,R[15]=1,R}var Bg=Fc;function kh(){var R=new So(3);return So!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function Ng(R){var D=new So(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function lv(R,D,H){return R[0]=D[0]+H[0],R[1]=D[1]+H[1],R[2]=D[2]+H[2],R}function Ug(R,D,H){return R[0]=D[0]-H[0],R[1]=D[1]-H[1],R[2]=D[2]-H[2],R}function Vg(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R}function vd(R,D){var H=D[0],ae=D[1],de=D[2],Te=H*H+ae*ae+de*de;return Te>0&&(Te=1/Math.sqrt(Te)),R[0]=D[0]*Te,R[1]=D[1]*Te,R[2]=D[2]*Te,R}function tT(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function rT(R,D,H){var ae=D[0],de=D[1],Te=D[2],Ce=H[0],Qe=H[1],dt=H[2];return R[0]=de*dt-Te*Qe,R[1]=Te*Ce-ae*dt,R[2]=ae*Qe-de*Ce,R}function nT(R,D,H){var ae=D[0],de=D[1],Te=D[2];return R[0]=ae*H[0]+de*H[3]+Te*H[6],R[1]=ae*H[1]+de*H[4]+Te*H[7],R[2]=ae*H[2]+de*H[5]+Te*H[8],R}var aT=Ug;(function(){var R=kh();return function(D,H,ae,de,Te,Ce){var Qe,dt;for(H||(H=3),ae||(ae=0),de?dt=Math.min(de*H+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=H)R[0]=D[Qe],R[1]=D[Qe+1],R[2]=D[Qe+2],Te(R,R,Ce),D[Qe]=R[0],D[Qe+1]=R[1],D[Qe+2]=R[2];return D}})();function iT(){var R=new So(4);return So!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function oT(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R[3]=D[3]*H,R}function sT(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function D0(R,D,H){var ae=D[0],de=D[1],Te=D[2],Ce=D[3];return R[0]=H[0]*ae+H[4]*de+H[8]*Te+H[12]*Ce,R[1]=H[1]*ae+H[5]*de+H[9]*Te+H[13]*Ce,R[2]=H[2]*ae+H[6]*de+H[10]*Te+H[14]*Ce,R[3]=H[3]*ae+H[7]*de+H[11]*Te+H[15]*Ce,R}(function(){var R=iT();return function(D,H,ae,de,Te,Ce){var Qe,dt;for(H||(H=4),ae||(ae=0),de?dt=Math.min(de*H+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=H)R[0]=D[Qe],R[1]=D[Qe+1],R[2]=D[Qe+2],R[3]=D[Qe+3],Te(R,R,Ce),D[Qe]=R[0],D[Qe+1]=R[1],D[Qe+2]=R[2],D[Qe+3]=R[3];return D}})();function lT(){var R=new So(2);return So!=Float32Array&&(R[0]=0,R[1]=0),R}function uT(R){var D=R[0],H=R[1];return D*D+H*H}var fT=uT;(function(){var R=lT();return function(D,H,ae,de,Te,Ce){var Qe,dt;for(H||(H=2),ae||(ae=0),de?dt=Math.min(de*H+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=H)R[0]=D[Qe],R[1]=D[Qe+1],Te(R,R,Ce),D[Qe]=R[0],D[Qe+1]=R[1];return D}})();var cT=function(R){function D(H){R.call(this,H,Dc)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new xi(ae)},D.prototype.queryRadius=function(ae){var de=ae;return ls("circle-radius",this,de)+ls("circle-stroke-width",this,de)+Al(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Te,Ce,Qe,dt,St,Pt){for(var Yt=ku(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,St),rr=this.paint.get("circle-radius").evaluate(de,Te),qt=this.paint.get("circle-stroke-width").evaluate(de,Te),xr=rr+qt,Br=this.paint.get("circle-pitch-alignment")==="map",fn=Br?Yt:hT(Yt,Pt),rn=Br?xr*St:xr,Cn=0,gn=Ce;Cn<gn.length;Cn+=1)for(var En=gn[Cn],kn=0,Wn=En;kn<Wn.length;kn+=1){var ra=Wn[kn],qn=Br?ra:tx(ra,Pt),wa=rn,da=D0([],[ra.x,ra.y,0,1],Pt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wa*=da[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wa*=dt.cameraToCenterDistance/da[3]),qa(fn,qn,wa))return!0}return!1},D}(Ni);function tx(R,D){var H=D0([],[R.x,R.y,0,1],D);return new r(H[0]/H[3],H[1]/H[3])}function hT(R,D){return R.map(function(H){return tx(H,D)})}var rx=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(xi);Ue("HeatmapBucket",rx,{omit:["layers"]});function Hg(R,D,H,ae){var de=D.width,Te=D.height;if(!ae)ae=new Uint8Array(de*Te*H);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==de*Te*H)throw new RangeError("mismatched image size");return R.width=de,R.height=Te,R.data=ae,R}function nx(R,D,H){var ae=D.width,de=D.height;if(!(ae===R.width&&de===R.height)){var Te=Hg({},{width:ae,height:de},H);Gg(R,Te,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ae),height:Math.min(R.height,de)},H),R.width=ae,R.height=de,R.data=Te.data}}function Gg(R,D,H,ae,de,Te){if(de.width===0||de.height===0)return D;if(de.width>R.width||de.height>R.height||H.x>R.width-de.width||H.y>R.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>D.width||de.height>D.height||ae.x>D.width-de.width||ae.y>D.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ce=R.data,Qe=D.data,dt=0;dt<de.height;dt++)for(var St=((H.y+dt)*R.width+H.x)*Te,Pt=((ae.y+dt)*D.width+ae.x)*Te,Yt=0;Yt<de.width*Te;Yt++)Qe[Pt+Yt]=Ce[St+Yt];return D}var Fh=function(D,H){Hg(this,D,1,H)};Fh.prototype.resize=function(D){nx(this,D,1)},Fh.prototype.clone=function(){return new Fh({width:this.width,height:this.height},new Uint8Array(this.data))},Fh.copy=function(D,H,ae,de,Te){Gg(D,H,ae,de,Te,1)};var Ms=function(D,H){Hg(this,D,4,H)};Ms.prototype.resize=function(D){nx(this,D,4)},Ms.prototype.replace=function(D,H){H?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Ms.prototype.clone=function(){return new Ms({width:this.width,height:this.height},new Uint8Array(this.data))},Ms.copy=function(D,H,ae,de,Te){Gg(D,H,ae,de,Te,4)},Ue("AlphaImage",Fh),Ue("RGBAImage",Ms);var vT=new vi({"heatmap-radius":new Ca(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ca(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oa(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new so(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oa(Sr.paint_heatmap["heatmap-opacity"])}),dT={paint:vT};function ax(R){var D={},H=R.resolution||256,ae=R.clips?R.clips.length:1,de=R.image||new Ms({width:H,height:ae}),Te=function(Cn,gn,En){D[R.evaluationKey]=En;var kn=R.expression.evaluate(D);de.data[Cn+gn+0]=Math.floor(kn.r*255/kn.a),de.data[Cn+gn+1]=Math.floor(kn.g*255/kn.a),de.data[Cn+gn+2]=Math.floor(kn.b*255/kn.a),de.data[Cn+gn+3]=Math.floor(kn.a*255)};if(R.clips)for(var St=0,Pt=0;St<ae;++St,Pt+=H*4)for(var Yt=0,rr=0;Yt<H;Yt++,rr+=4){var qt=Yt/(H-1),xr=R.clips[St],Br=xr.start,fn=xr.end,rn=Br*(1-qt)+fn*qt;Te(Pt,rr,rn)}else for(var Ce=0,Qe=0;Ce<H;Ce++,Qe+=4){var dt=Ce/(H-1);Te(0,Qe,dt)}return de}var pT=function(R){function D(H){R.call(this,H,dT),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new rx(ae)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ax({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Ni),gT=new vi({"hillshade-illumination-direction":new oa(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oa(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oa(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oa(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oa(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oa(Sr.paint_hillshade["hillshade-accent-color"])}),yT={paint:gT},mT=function(R){function D(H){R.call(this,H,yT)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Ni),xT=Ri([{name:"a_pos",components:2,type:"Int16"}],4),bT=xT.members,Wg=I0,wT=I0;function I0(R,D,H){H=H||2;var ae=D&&D.length,de=ae?D[0]*H:R.length,Te=ix(R,0,de,H,!0),Ce=[];if(!Te||Te.next===Te.prev)return Ce;var Qe,dt,St,Pt,Yt,rr,qt;if(ae&&(Te=ET(R,D,Te,H)),R.length>80*H){Qe=St=R[0],dt=Pt=R[1];for(var xr=H;xr<de;xr+=H)Yt=R[xr],rr=R[xr+1],Yt<Qe&&(Qe=Yt),rr<dt&&(dt=rr),Yt>St&&(St=Yt),rr>Pt&&(Pt=rr);qt=Math.max(St-Qe,Pt-dt),qt=qt!==0?1/qt:0}return dd(Te,Ce,H,Qe,dt,qt),Ce}function ix(R,D,H,ae,de){var Te,Ce;if(de===jg(R,D,H,ae)>0)for(Te=D;Te<H;Te+=ae)Ce=lx(Te,R[Te],R[Te+1],Ce);else for(Te=H-ae;Te>=D;Te-=ae)Ce=lx(Te,R[Te],R[Te+1],Ce);return Ce&&k0(Ce,Ce.next)&&(gd(Ce),Ce=Ce.next),Ce}function _c(R,D){if(!R)return R;D||(D=R);var H=R,ae;do if(ae=!1,!H.steiner&&(k0(H,H.next)||uo(H.prev,H,H.next)===0)){if(gd(H),H=D=H.prev,H===H.next)break;ae=!0}else H=H.next;while(ae||H!==D);return D}function dd(R,D,H,ae,de,Te,Ce){if(R){!Ce&&Te&&DT(R,ae,de,Te);for(var Qe=R,dt,St;R.prev!==R.next;){if(dt=R.prev,St=R.next,Te?AT(R,ae,de,Te):TT(R)){D.push(dt.i/H),D.push(R.i/H),D.push(St.i/H),gd(R),R=St.next,Qe=St.next;continue}if(R=St,R===Qe){Ce?Ce===1?(R=ST(_c(R),D,H),dd(R,D,H,ae,de,Te,2)):Ce===2&&MT(R,D,H,ae,de,Te):dd(_c(R),D,H,ae,de,Te,1);break}}}}function TT(R){var D=R.prev,H=R,ae=R.next;if(uo(D,H,ae)>=0)return!1;for(var de=R.next.next;de!==R.prev;){if(uv(D.x,D.y,H.x,H.y,ae.x,ae.y,de.x,de.y)&&uo(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function AT(R,D,H,ae){var de=R.prev,Te=R,Ce=R.next;if(uo(de,Te,Ce)>=0)return!1;for(var Qe=de.x<Te.x?de.x<Ce.x?de.x:Ce.x:Te.x<Ce.x?Te.x:Ce.x,dt=de.y<Te.y?de.y<Ce.y?de.y:Ce.y:Te.y<Ce.y?Te.y:Ce.y,St=de.x>Te.x?de.x>Ce.x?de.x:Ce.x:Te.x>Ce.x?Te.x:Ce.x,Pt=de.y>Te.y?de.y>Ce.y?de.y:Ce.y:Te.y>Ce.y?Te.y:Ce.y,Yt=Yg(Qe,dt,D,H,ae),rr=Yg(St,Pt,D,H,ae),qt=R.prevZ,xr=R.nextZ;qt&&qt.z>=Yt&&xr&&xr.z<=rr;){if(qt!==R.prev&&qt!==R.next&&uv(de.x,de.y,Te.x,Te.y,Ce.x,Ce.y,qt.x,qt.y)&&uo(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,xr!==R.prev&&xr!==R.next&&uv(de.x,de.y,Te.x,Te.y,Ce.x,Ce.y,xr.x,xr.y)&&uo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;qt&&qt.z>=Yt;){if(qt!==R.prev&&qt!==R.next&&uv(de.x,de.y,Te.x,Te.y,Ce.x,Ce.y,qt.x,qt.y)&&uo(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;xr&&xr.z<=rr;){if(xr!==R.prev&&xr!==R.next&&uv(de.x,de.y,Te.x,Te.y,Ce.x,Ce.y,xr.x,xr.y)&&uo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function ST(R,D,H){var ae=R;do{var de=ae.prev,Te=ae.next.next;!k0(de,Te)&&ox(de,ae,ae.next,Te)&&pd(de,Te)&&pd(Te,de)&&(D.push(de.i/H),D.push(ae.i/H),D.push(Te.i/H),gd(ae),gd(ae.next),ae=R=Te),ae=ae.next}while(ae!==R);return _c(ae)}function MT(R,D,H,ae,de,Te){var Ce=R;do{for(var Qe=Ce.next.next;Qe!==Ce.prev;){if(Ce.i!==Qe.i&&FT(Ce,Qe)){var dt=sx(Ce,Qe);Ce=_c(Ce,Ce.next),dt=_c(dt,dt.next),dd(Ce,D,H,ae,de,Te),dd(dt,D,H,ae,de,Te);return}Qe=Qe.next}Ce=Ce.next}while(Ce!==R)}function ET(R,D,H,ae){var de=[],Te,Ce,Qe,dt,St;for(Te=0,Ce=D.length;Te<Ce;Te++)Qe=D[Te]*ae,dt=Te<Ce-1?D[Te+1]*ae:R.length,St=ix(R,Qe,dt,ae,!1),St===St.next&&(St.steiner=!0),de.push(kT(St));for(de.sort(CT),Te=0;Te<de.length;Te++)LT(de[Te],H),H=_c(H,H.next);return H}function CT(R,D){return R.x-D.x}function LT(R,D){if(D=PT(R,D),D){var H=sx(D,R);_c(D,D.next),_c(H,H.next)}}function PT(R,D){var H=D,ae=R.x,de=R.y,Te=-1/0,Ce;do{if(de<=H.y&&de>=H.next.y&&H.next.y!==H.y){var Qe=H.x+(de-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(Qe<=ae&&Qe>Te){if(Te=Qe,Qe===ae){if(de===H.y)return H;if(de===H.next.y)return H.next}Ce=H.x<H.next.x?H:H.next}}H=H.next}while(H!==D);if(!Ce)return null;if(ae===Te)return Ce;var dt=Ce,St=Ce.x,Pt=Ce.y,Yt=1/0,rr;H=Ce;do ae>=H.x&&H.x>=St&&ae!==H.x&&uv(de<Pt?ae:Te,de,St,Pt,de<Pt?Te:ae,de,H.x,H.y)&&(rr=Math.abs(de-H.y)/(ae-H.x),pd(H,R)&&(rr<Yt||rr===Yt&&(H.x>Ce.x||H.x===Ce.x&&RT(Ce,H)))&&(Ce=H,Yt=rr)),H=H.next;while(H!==dt);return Ce}function RT(R,D){return uo(R.prev,R,D.prev)<0&&uo(D.next,R,R.next)<0}function DT(R,D,H,ae){var de=R;do de.z===null&&(de.z=Yg(de.x,de.y,D,H,ae)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==R);de.prevZ.nextZ=null,de.prevZ=null,IT(de)}function IT(R){var D,H,ae,de,Te,Ce,Qe,dt,St=1;do{for(H=R,R=null,Te=null,Ce=0;H;){for(Ce++,ae=H,Qe=0,D=0;D<St&&(Qe++,ae=ae.nextZ,!!ae);D++);for(dt=St;Qe>0||dt>0&&ae;)Qe!==0&&(dt===0||!ae||H.z<=ae.z)?(de=H,H=H.nextZ,Qe--):(de=ae,ae=ae.nextZ,dt--),Te?Te.nextZ=de:R=de,de.prevZ=Te,Te=de;H=ae}Te.nextZ=null,St*=2}while(Ce>1);return R}function Yg(R,D,H,ae,de){return R=32767*(R-H)*de,D=32767*(D-ae)*de,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function kT(R){var D=R,H=R;do(D.x<H.x||D.x===H.x&&D.y<H.y)&&(H=D),D=D.next;while(D!==R);return H}function uv(R,D,H,ae,de,Te,Ce,Qe){return(de-Ce)*(D-Qe)-(R-Ce)*(Te-Qe)>=0&&(R-Ce)*(ae-Qe)-(H-Ce)*(D-Qe)>=0&&(H-Ce)*(Te-Qe)-(de-Ce)*(ae-Qe)>=0}function FT(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!_T(R,D)&&(pd(R,D)&&pd(D,R)&&zT(R,D)&&(uo(R.prev,R,D.prev)||uo(R,D.prev,D))||k0(R,D)&&uo(R.prev,R,R.next)>0&&uo(D.prev,D,D.next)>0)}function uo(R,D,H){return(D.y-R.y)*(H.x-D.x)-(D.x-R.x)*(H.y-D.y)}function k0(R,D){return R.x===D.x&&R.y===D.y}function ox(R,D,H,ae){var de=_0(uo(R,D,H)),Te=_0(uo(R,D,ae)),Ce=_0(uo(H,ae,R)),Qe=_0(uo(H,ae,D));return!!(de!==Te&&Ce!==Qe||de===0&&F0(R,H,D)||Te===0&&F0(R,ae,D)||Ce===0&&F0(H,R,ae)||Qe===0&&F0(H,D,ae))}function F0(R,D,H){return D.x<=Math.max(R.x,H.x)&&D.x>=Math.min(R.x,H.x)&&D.y<=Math.max(R.y,H.y)&&D.y>=Math.min(R.y,H.y)}function _0(R){return R>0?1:R<0?-1:0}function _T(R,D){var H=R;do{if(H.i!==R.i&&H.next.i!==R.i&&H.i!==D.i&&H.next.i!==D.i&&ox(H,H.next,R,D))return!0;H=H.next}while(H!==R);return!1}function pd(R,D){return uo(R.prev,R,R.next)<0?uo(R,D,R.next)>=0&&uo(R,R.prev,D)>=0:uo(R,D,R.prev)<0||uo(R,R.next,D)<0}function zT(R,D){var H=R,ae=!1,de=(R.x+D.x)/2,Te=(R.y+D.y)/2;do H.y>Te!=H.next.y>Te&&H.next.y!==H.y&&de<(H.next.x-H.x)*(Te-H.y)/(H.next.y-H.y)+H.x&&(ae=!ae),H=H.next;while(H!==R);return ae}function sx(R,D){var H=new Xg(R.i,R.x,R.y),ae=new Xg(D.i,D.x,D.y),de=R.next,Te=D.prev;return R.next=D,D.prev=R,H.next=de,de.prev=H,ae.next=H,H.prev=ae,Te.next=ae,ae.prev=Te,ae}function lx(R,D,H,ae){var de=new Xg(R,D,H);return ae?(de.next=ae.next,de.prev=ae,ae.next.prev=de,ae.next=de):(de.prev=de,de.next=de),de}function gd(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Xg(R,D,H){this.i=R,this.x=D,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}I0.deviation=function(R,D,H,ae){var de=D&&D.length,Te=de?D[0]*H:R.length,Ce=Math.abs(jg(R,0,Te,H));if(de)for(var Qe=0,dt=D.length;Qe<dt;Qe++){var St=D[Qe]*H,Pt=Qe<dt-1?D[Qe+1]*H:R.length;Ce-=Math.abs(jg(R,St,Pt,H))}var Yt=0;for(Qe=0;Qe<ae.length;Qe+=3){var rr=ae[Qe]*H,qt=ae[Qe+1]*H,xr=ae[Qe+2]*H;Yt+=Math.abs((R[rr]-R[xr])*(R[qt+1]-R[rr+1])-(R[rr]-R[qt])*(R[xr+1]-R[rr+1]))}return Ce===0&&Yt===0?0:Math.abs((Yt-Ce)/Ce)};function jg(R,D,H,ae){for(var de=0,Te=D,Ce=H-ae;Te<H;Te+=ae)de+=(R[Ce]-R[Te])*(R[Te+1]+R[Ce+1]),Ce=Te;return de}I0.flatten=function(R){for(var D=R[0][0].length,H={vertices:[],holes:[],dimensions:D},ae=0,de=0;de<R.length;de++){for(var Te=0;Te<R[de].length;Te++)for(var Ce=0;Ce<D;Ce++)H.vertices.push(R[de][Te][Ce]);de>0&&(ae+=R[de-1].length,H.holes.push(ae))}return H},Wg.default=wT;function OT(R,D,H,ae,de){ux(R,D,H||0,ae||R.length-1,de||BT)}function ux(R,D,H,ae,de){for(;ae>H;){if(ae-H>600){var Te=ae-H+1,Ce=D-H+1,Qe=Math.log(Te),dt=.5*Math.exp(2*Qe/3),St=.5*Math.sqrt(Qe*dt*(Te-dt)/Te)*(Ce-Te/2<0?-1:1),Pt=Math.max(H,Math.floor(D-Ce*dt/Te+St)),Yt=Math.min(ae,Math.floor(D+(Te-Ce)*dt/Te+St));ux(R,D,Pt,Yt,de)}var rr=R[D],qt=H,xr=ae;for(yd(R,H,D),de(R[ae],rr)>0&&yd(R,H,ae);qt<xr;){for(yd(R,qt,xr),qt++,xr--;de(R[qt],rr)<0;)qt++;for(;de(R[xr],rr)>0;)xr--}de(R[H],rr)===0?yd(R,H,xr):(xr++,yd(R,xr,ae)),xr<=D&&(H=xr+1),D<=xr&&(ae=xr-1)}}function yd(R,D,H){var ae=R[D];R[D]=R[H],R[H]=ae}function BT(R,D){return R<D?-1:R>D?1:0}function Zg(R,D){var H=R.length;if(H<=1)return[R];for(var ae=[],de,Te,Ce=0;Ce<H;Ce++){var Qe=U(R[Ce]);Qe!==0&&(R[Ce].area=Math.abs(Qe),Te===void 0&&(Te=Qe<0),Te===Qe<0?(de&&ae.push(de),de=[R[Ce]]):de.push(R[Ce]))}if(de&&ae.push(de),D>1)for(var dt=0;dt<ae.length;dt++)ae[dt].length<=D||(OT(ae[dt],D,1,ae[dt].length-1,NT),ae[dt]=ae[dt].slice(0,D));return ae}function NT(R,D){return D.area-R.area}function Kg(R,D,H){for(var ae=H.patternDependencies,de=!1,Te=0,Ce=D;Te<Ce.length;Te+=1){var Qe=Ce[Te],dt=Qe.paint.get(R+"-pattern");dt.isConstant()||(de=!0);var St=dt.constantOr(null);St&&(de=!0,ae[St.to]=!0,ae[St.from]=!0)}return de}function Jg(R,D,H,ae,de){for(var Te=de.patternDependencies,Ce=0,Qe=D;Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=dt.paint.get(R+"-pattern"),Pt=St.value;if(Pt.kind!=="constant"){var Yt=Pt.evaluate({zoom:ae-1},H,{},de.availableImages),rr=Pt.evaluate({zoom:ae},H,{},de.availableImages),qt=Pt.evaluate({zoom:ae+1},H,{},de.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,rr=rr&&rr.name?rr.name:rr,qt=qt&&qt.name?qt.name:qt,Te[Yt]=!0,Te[rr]=!0,Te[qt]=!0,H.patterns[dt.id]={min:Yt,mid:rr,max:qt}}}return H}var UT=500,Fu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Nf,this.indexArray=new Iu,this.indexArray2=new Dh,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new lo,this.segments2=new lo,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Fu.prototype.populate=function(D,H,ae){this.hasPattern=Kg("fill",this.layers,H);for(var de=this.layers[0].layout.get("fill-sort-key"),Te=[],Ce=0,Qe=D;Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=dt.feature,Pt=dt.id,Yt=dt.index,rr=dt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,xr=Mi(St,qt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),xr,ae)){var Br=de?de.evaluate(xr,{},ae,H.availableImages):void 0,fn={id:Pt,properties:St.properties,type:St.type,sourceLayerIndex:rr,index:Yt,geometry:qt?xr.geometry:ri(St),patterns:{},sortKey:Br};Te.push(fn)}}de&&Te.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var rn=0,Cn=Te;rn<Cn.length;rn+=1){var gn=Cn[rn],En=gn,kn=En.geometry,Wn=En.index,ra=En.sourceLayerIndex;if(this.hasPattern){var qn=Jg("fill",this.layers,gn,this.zoom,H);this.patternFeatures.push(qn)}else this.addFeature(gn,kn,Wn,ae,{});var wa=D[Wn].feature;H.featureIndex.insert(wa,kn,Wn,ra,this.index)}},Fu.prototype.update=function(D,H,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ae)},Fu.prototype.addFeatures=function(D,H,ae){for(var de=0,Te=this.patternFeatures;de<Te.length;de+=1){var Ce=Te[de];this.addFeature(Ce,Ce.geometry,Ce.index,H,ae)}},Fu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Fu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,bT),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Fu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Fu.prototype.addFeature=function(D,H,ae,de,Te){for(var Ce=0,Qe=Zg(H,UT);Ce<Qe.length;Ce+=1){for(var dt=Qe[Ce],St=0,Pt=0,Yt=dt;Pt<Yt.length;Pt+=1){var rr=Yt[Pt];St+=rr.length}for(var qt=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),xr=qt.vertexLength,Br=[],fn=[],rn=0,Cn=dt;rn<Cn.length;rn+=1){var gn=Cn[rn];if(gn.length!==0){gn!==dt[0]&&fn.push(Br.length/2);var En=this.segments2.prepareSegment(gn.length,this.layoutVertexArray,this.indexArray2),kn=En.vertexLength;this.layoutVertexArray.emplaceBack(gn[0].x,gn[0].y),this.indexArray2.emplaceBack(kn+gn.length-1,kn),Br.push(gn[0].x),Br.push(gn[0].y);for(var Wn=1;Wn<gn.length;Wn++)this.layoutVertexArray.emplaceBack(gn[Wn].x,gn[Wn].y),this.indexArray2.emplaceBack(kn+Wn-1,kn+Wn),Br.push(gn[Wn].x),Br.push(gn[Wn].y);En.vertexLength+=gn.length,En.primitiveLength+=gn.length}}for(var ra=Wg(Br,fn),qn=0;qn<ra.length;qn+=3)this.indexArray.emplaceBack(xr+ra[qn],xr+ra[qn+1],xr+ra[qn+2]);qt.vertexLength+=St,qt.primitiveLength+=ra.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Te,de)},Ue("FillBucket",Fu,{omit:["layers","patternFeatures"]});var VT=new vi({"fill-sort-key":new Ca(Sr.layout_fill["fill-sort-key"])}),HT=new vi({"fill-antialias":new oa(Sr.paint_fill["fill-antialias"]),"fill-opacity":new Ca(Sr.paint_fill["fill-opacity"]),"fill-color":new Ca(Sr.paint_fill["fill-color"]),"fill-outline-color":new Ca(Sr.paint_fill["fill-outline-color"]),"fill-translate":new oa(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new oa(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Fo(Sr.paint_fill["fill-pattern"])}),GT={paint:HT,layout:VT},WT=function(R){function D(H){R.call(this,H,GT)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,de){R.prototype.recalculate.call(this,ae,de);var Te=this.paint._values["fill-outline-color"];Te.value.kind==="constant"&&Te.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ae){return new Fu(ae)},D.prototype.queryRadius=function(){return Al(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Te,Ce,Qe,dt,St){var Pt=ku(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,St);return Ui(Pt,Ce)},D.prototype.isTileClipped=function(){return!0},D}(Ni),YT=Ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),XT=YT.members,fx=fv;function fv(R,D,H,ae,de){this.properties={},this.extent=H,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ae,this._values=de,R.readFields(jT,this,D)}function jT(R,D,H){R==1?D.id=H.readVarint():R==2?ZT(H,D):R==3?D.type=H.readVarint():R==4&&(D._geometry=H.pos)}function ZT(R,D){for(var H=R.readVarint()+R.pos;R.pos<H;){var ae=D._keys[R.readVarint()],de=D._values[R.readVarint()];D.properties[ae]=de}}fv.types=["Unknown","Point","LineString","Polygon"],fv.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ae=0,de=0,Te=0,Ce=[],Qe;R.pos<D;){if(ae<=0){var dt=R.readVarint();H=dt&7,ae=dt>>3}if(ae--,H===1||H===2)de+=R.readSVarint(),Te+=R.readSVarint(),H===1&&(Qe&&Ce.push(Qe),Qe=[]),Qe.push(new r(de,Te));else if(H===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+H)}return Qe&&Ce.push(Qe),Ce},fv.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,ae=0,de=0,Te=0,Ce=1/0,Qe=-1/0,dt=1/0,St=-1/0;R.pos<D;){if(ae<=0){var Pt=R.readVarint();H=Pt&7,ae=Pt>>3}if(ae--,H===1||H===2)de+=R.readSVarint(),Te+=R.readSVarint(),de<Ce&&(Ce=de),de>Qe&&(Qe=de),Te<dt&&(dt=Te),Te>St&&(St=Te);else if(H!==7)throw new Error("unknown command "+H)}return[Ce,dt,Qe,St]},fv.prototype.toGeoJSON=function(R,D,H){var ae=this.extent*Math.pow(2,H),de=this.extent*R,Te=this.extent*D,Ce=this.loadGeometry(),Qe=fv.types[this.type],dt,St;function Pt(qt){for(var xr=0;xr<qt.length;xr++){var Br=qt[xr],fn=180-(Br.y+Te)*360/ae;qt[xr]=[(Br.x+de)*360/ae-180,360/Math.PI*Math.atan(Math.exp(fn*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(dt=0;dt<Ce.length;dt++)Yt[dt]=Ce[dt][0];Ce=Yt,Pt(Ce);break;case 2:for(dt=0;dt<Ce.length;dt++)Pt(Ce[dt]);break;case 3:for(Ce=KT(Ce),dt=0;dt<Ce.length;dt++)for(St=0;St<Ce[dt].length;St++)Pt(Ce[dt][St]);break}Ce.length===1?Ce=Ce[0]:Qe="Multi"+Qe;var rr={type:"Feature",geometry:{type:Qe,coordinates:Ce},properties:this.properties};return"id"in this&&(rr.id=this.id),rr};function KT(R){var D=R.length;if(D<=1)return[R];for(var H=[],ae,de,Te=0;Te<D;Te++){var Ce=JT(R[Te]);Ce!==0&&(de===void 0&&(de=Ce<0),de===Ce<0?(ae&&H.push(ae),ae=[R[Te]]):ae.push(R[Te]))}return ae&&H.push(ae),H}function JT(R){for(var D=0,H=0,ae=R.length,de=ae-1,Te,Ce;H<ae;de=H++)Te=R[H],Ce=R[de],D+=(Ce.x-Te.x)*(Te.y+Ce.y);return D}var cx=hx;function hx(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(QT,this,D),this.length=this._features.length}function QT(R,D,H){R===15?D.version=H.readVarint():R===1?D.name=H.readString():R===5?D.extent=H.readVarint():R===2?D._features.push(H.pos):R===3?D._keys.push(H.readString()):R===4&&D._values.push($T(H))}function $T(R){for(var D=null,H=R.readVarint()+R.pos;R.pos<H;){var ae=R.readVarint()>>3;D=ae===1?R.readString():ae===2?R.readFloat():ae===3?R.readDouble():ae===4?R.readVarint64():ae===5?R.readVarint():ae===6?R.readSVarint():ae===7?R.readBoolean():null}return D}hx.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new fx(this._pbf,D,this.extent,this._keys,this._values)};var qT=eA;function eA(R,D){this.layers=R.readFields(tA,{},D)}function tA(R,D,H){if(R===3){var ae=new cx(H,H.readVarint()+H.pos);ae.length&&(D[ae.name]=ae)}}var rA=qT,nA=fx,aA=cx,cv={VectorTile:rA,VectorTileFeature:nA,VectorTileLayer:aA},iA=cv.VectorTileFeature.types,oA=500,Qg=Math.pow(2,13);function md(R,D,H,ae,de,Te,Ce,Qe){R.emplaceBack(D,H,Math.floor(ae*Qg)*2+Ce,de*Qg*2,Te*Qg*2,Math.round(Qe))}var _u=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new cf,this.indexArray=new Iu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new lo,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};_u.prototype.populate=function(D,H,ae){this.features=[],this.hasPattern=Kg("fill-extrusion",this.layers,H);for(var de=0,Te=D;de<Te.length;de+=1){var Ce=Te[de],Qe=Ce.feature,dt=Ce.id,St=Ce.index,Pt=Ce.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,rr=Mi(Qe,Yt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),rr,ae)){var qt={id:dt,sourceLayerIndex:Pt,index:St,geometry:Yt?rr.geometry:ri(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(Jg("fill-extrusion",this.layers,qt,this.zoom,H)):this.addFeature(qt,qt.geometry,St,ae,{}),H.featureIndex.insert(Qe,qt.geometry,St,Pt,this.index,!0)}}},_u.prototype.addFeatures=function(D,H,ae){for(var de=0,Te=this.features;de<Te.length;de+=1){var Ce=Te[de],Qe=Ce.geometry;this.addFeature(Ce,Qe,Ce.index,H,ae)}},_u.prototype.update=function(D,H,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ae)},_u.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},_u.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_u.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,XT),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},_u.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_u.prototype.addFeature=function(D,H,ae,de,Te){for(var Ce=0,Qe=Zg(H,oA);Ce<Qe.length;Ce+=1){for(var dt=Qe[Ce],St=0,Pt=0,Yt=dt;Pt<Yt.length;Pt+=1){var rr=Yt[Pt];St+=rr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Br=dt;xr<Br.length;xr+=1){var fn=Br[xr];if(fn.length!==0&&!lA(fn))for(var rn=0,Cn=0;Cn<fn.length;Cn++){var gn=fn[Cn];if(Cn>=1){var En=fn[Cn-1];if(!sA(gn,En)){qt.vertexLength+4>lo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=gn.sub(En)._perp()._unit(),Wn=En.dist(gn);rn+Wn>32768&&(rn=0),md(this.layoutVertexArray,gn.x,gn.y,kn.x,kn.y,0,0,rn),md(this.layoutVertexArray,gn.x,gn.y,kn.x,kn.y,0,1,rn),rn+=Wn,md(this.layoutVertexArray,En.x,En.y,kn.x,kn.y,0,0,rn),md(this.layoutVertexArray,En.x,En.y,kn.x,kn.y,0,1,rn);var ra=qt.vertexLength;this.indexArray.emplaceBack(ra,ra+2,ra+1),this.indexArray.emplaceBack(ra+1,ra+2,ra+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+St>lo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),iA[D.type]==="Polygon"){for(var qn=[],wa=[],da=qt.vertexLength,ba=0,Ua=dt;ba<Ua.length;ba+=1){var Ta=Ua[ba];if(Ta.length!==0){Ta!==dt[0]&&wa.push(qn.length/2);for(var Ea=0;Ea<Ta.length;Ea++){var Wa=Ta[Ea];md(this.layoutVertexArray,Wa.x,Wa.y,0,0,1,1,0),qn.push(Wa.x),qn.push(Wa.y)}}}for(var Oa=Wg(qn,wa),ui=0;ui<Oa.length;ui+=3)this.indexArray.emplaceBack(da+Oa[ui],da+Oa[ui+2],da+Oa[ui+1]);qt.primitiveLength+=Oa.length/3,qt.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Te,de)},Ue("FillExtrusionBucket",_u,{omit:["layers","features"]});function sA(R,D){return R.x===D.x&&(R.x<0||R.x>Sa)||R.y===D.y&&(R.y<0||R.y>Sa)}function lA(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Sa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Sa})}var uA=new vi({"fill-extrusion-opacity":new oa(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ca(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oa(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oa(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Fo(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ca(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ca(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new oa(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),fA={paint:uA},cA=function(R){function D(H){R.call(this,H,fA)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new _u(ae)},D.prototype.queryRadius=function(){return Al(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ae,de,Te,Ce,Qe,dt,St,Pt){var Yt=ku(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,St),rr=this.paint.get("fill-extrusion-height").evaluate(de,Te),qt=this.paint.get("fill-extrusion-base").evaluate(de,Te),xr=dA(Yt,Pt,dt,0),Br=vA(Ce,qt,rr,Pt),fn=Br[0],rn=Br[1];return hA(fn,rn,xr)},D}(Ni);function xd(R,D){return R.x*D.x+R.y*D.y}function vx(R,D){if(R.length===1){for(var H=0,ae=D[H++],de;!de||ae.equals(de);)if(de=D[H++],!de)return 1/0;for(;H<D.length;H++){var Te=D[H],Ce=R[0],Qe=de.sub(ae),dt=Te.sub(ae),St=Ce.sub(ae),Pt=xd(Qe,Qe),Yt=xd(Qe,dt),rr=xd(dt,dt),qt=xd(St,Qe),xr=xd(St,dt),Br=Pt*rr-Yt*Yt,fn=(rr*qt-Yt*xr)/Br,rn=(Pt*xr-Yt*qt)/Br,Cn=1-fn-rn,gn=ae.z*Cn+de.z*fn+Te.z*rn;if(isFinite(gn))return gn}return 1/0}else{for(var En=1/0,kn=0,Wn=D;kn<Wn.length;kn+=1){var ra=Wn[kn];En=Math.min(En,ra.z)}return En}}function hA(R,D,H){var ae=1/0;Ui(H,D)&&(ae=vx(H,D[0]));for(var de=0;de<D.length;de++)for(var Te=D[de],Ce=R[de],Qe=0;Qe<Te.length-1;Qe++){var dt=Te[Qe],St=Te[Qe+1],Pt=Ce[Qe],Yt=Ce[Qe+1],rr=[dt,St,Yt,Pt,dt];Ga(H,rr)&&(ae=Math.min(ae,vx(H,rr)))}return ae===1/0?!1:ae}function vA(R,D,H,ae){for(var de=[],Te=[],Ce=ae[8]*D,Qe=ae[9]*D,dt=ae[10]*D,St=ae[11]*D,Pt=ae[8]*H,Yt=ae[9]*H,rr=ae[10]*H,qt=ae[11]*H,xr=0,Br=R;xr<Br.length;xr+=1){for(var fn=Br[xr],rn=[],Cn=[],gn=0,En=fn;gn<En.length;gn+=1){var kn=En[gn],Wn=kn.x,ra=kn.y,qn=ae[0]*Wn+ae[4]*ra+ae[12],wa=ae[1]*Wn+ae[5]*ra+ae[13],da=ae[2]*Wn+ae[6]*ra+ae[14],ba=ae[3]*Wn+ae[7]*ra+ae[15],Ua=qn+Ce,Ta=wa+Qe,Ea=da+dt,Wa=ba+St,Oa=qn+Pt,ui=wa+Yt,wi=da+rr,fi=ba+qt,ci=new r(Ua/Wa,Ta/Wa);ci.z=Ea/Wa,rn.push(ci);var ni=new r(Oa/fi,ui/fi);ni.z=wi/fi,Cn.push(ni)}de.push(rn),Te.push(Cn)}return[de,Te]}function dA(R,D,H,ae){for(var de=[],Te=0,Ce=R;Te<Ce.length;Te+=1){var Qe=Ce[Te],dt=[Qe.x,Qe.y,ae,1];D0(dt,dt,D),de.push(new r(dt[0]/dt[3],dt[1]/dt[3]))}return de}var pA=Ri([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),gA=pA.members,yA=Ri([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),mA=yA.members,xA=cv.VectorTileFeature.types,dx=63,bA=Math.cos(75/2*(Math.PI/180)),wA=15,TA=20,AA=15,px=1/2,gx=Math.pow(2,AA-1)/px,us=function(D){var H=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){H.gradients[ae.id]={}}),this.layoutVertexArray=new Ec,this.layoutVertexArray2=new Cc,this.indexArray=new Iu,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new lo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};us.prototype.populate=function(D,H,ae){this.hasPattern=Kg("line",this.layers,H);for(var de=this.layers[0].layout.get("line-sort-key"),Te=[],Ce=0,Qe=D;Ce<Qe.length;Ce+=1){var dt=Qe[Ce],St=dt.feature,Pt=dt.id,Yt=dt.index,rr=dt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,xr=Mi(St,qt);if(this.layers[0]._featureFilter.filter(new Aa(this.zoom),xr,ae)){var Br=de?de.evaluate(xr,{},ae):void 0,fn={id:Pt,properties:St.properties,type:St.type,sourceLayerIndex:rr,index:Yt,geometry:qt?xr.geometry:ri(St),patterns:{},sortKey:Br};Te.push(fn)}}de&&Te.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var rn=0,Cn=Te;rn<Cn.length;rn+=1){var gn=Cn[rn],En=gn,kn=En.geometry,Wn=En.index,ra=En.sourceLayerIndex;if(this.hasPattern){var qn=Jg("line",this.layers,gn,this.zoom,H);this.patternFeatures.push(qn)}else this.addFeature(gn,kn,Wn,ae,{});var wa=D[Wn].feature;H.featureIndex.insert(wa,kn,Wn,ra,this.index)}},us.prototype.update=function(D,H,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,ae)},us.prototype.addFeatures=function(D,H,ae){for(var de=0,Te=this.patternFeatures;de<Te.length;de+=1){var Ce=Te[de];this.addFeature(Ce,Ce.geometry,Ce.index,H,ae)}},us.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},us.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},us.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,mA)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,gA),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},us.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},us.prototype.lineFeatureClips=function(D){if(D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var H=+D.properties.mapbox_clip_start,ae=+D.properties.mapbox_clip_end;return{start:H,end:ae}}},us.prototype.addFeature=function(D,H,ae,de,Te){var Ce=this.layers[0].layout,Qe=Ce.get("line-join").evaluate(D,{}),dt=Ce.get("line-cap"),St=Ce.get("line-miter-limit"),Pt=Ce.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Yt=0,rr=H;Yt<rr.length;Yt+=1){var qt=rr[Yt];this.addLine(qt,D,Qe,dt,St,Pt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Te,de)},us.prototype.addLine=function(D,H,ae,de,Te,Ce){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<D.length-1;Qe++)this.totalDistance+=D[Qe].dist(D[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var dt=xA[H.type]==="Polygon",St=D.length;St>=2&&D[St-1].equals(D[St-2]);)St--;for(var Pt=0;Pt<St-1&&D[Pt].equals(D[Pt+1]);)Pt++;if(!(St<(dt?3:2))){ae==="bevel"&&(Te=1.05);var Yt=this.overscaling<=16?wA*Sa/(512*this.overscaling):0,rr=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),qt,xr=void 0,Br=void 0,fn=void 0,rn=void 0;this.e1=this.e2=-1,dt&&(qt=D[St-2],rn=D[Pt].sub(qt)._unit()._perp());for(var Cn=Pt;Cn<St;Cn++)if(Br=Cn===St-1?dt?D[Pt+1]:void 0:D[Cn+1],!(Br&&D[Cn].equals(Br))){rn&&(fn=rn),qt&&(xr=qt),qt=D[Cn],rn=Br?Br.sub(qt)._unit()._perp():fn,fn=fn||rn;var gn=fn.add(rn);(gn.x!==0||gn.y!==0)&&gn._unit();var En=fn.x*rn.x+fn.y*rn.y,kn=gn.x*rn.x+gn.y*rn.y,Wn=kn!==0?1/kn:1/0,ra=2*Math.sqrt(2-2*kn),qn=kn<bA&&xr&&Br,wa=fn.x*rn.y-fn.y*rn.x>0;if(qn&&Cn>Pt){var da=qt.dist(xr);if(da>2*Yt){var ba=qt.sub(qt.sub(xr)._mult(Yt/da)._round());this.updateDistance(xr,ba),this.addCurrentVertex(ba,fn,0,0,rr),xr=ba}}var Ua=xr&&Br,Ta=Ua?ae:dt?"butt":de;if(Ua&&Ta==="round"&&(Wn<Ce?Ta="miter":Wn<=2&&(Ta="fakeround")),Ta==="miter"&&Wn>Te&&(Ta="bevel"),Ta==="bevel"&&(Wn>2&&(Ta="flipbevel"),Wn<Te&&(Ta="miter")),xr&&this.updateDistance(xr,qt),Ta==="miter")gn._mult(Wn),this.addCurrentVertex(qt,gn,0,0,rr);else if(Ta==="flipbevel"){if(Wn>100)gn=rn.mult(-1);else{var Ea=Wn*fn.add(rn).mag()/fn.sub(rn).mag();gn._perp()._mult(Ea*(wa?-1:1))}this.addCurrentVertex(qt,gn,0,0,rr),this.addCurrentVertex(qt,gn.mult(-1),0,0,rr)}else if(Ta==="bevel"||Ta==="fakeround"){var Wa=-Math.sqrt(Wn*Wn-1),Oa=wa?Wa:0,ui=wa?0:Wa;if(xr&&this.addCurrentVertex(qt,fn,Oa,ui,rr),Ta==="fakeround")for(var wi=Math.round(ra*180/Math.PI/TA),fi=1;fi<wi;fi++){var ci=fi/wi;if(ci!==.5){var ni=ci-.5,Ei=1.0904+En*(-3.2452+En*(3.55645-En*1.43519)),Li=.848013+En*(-1.06021+En*.215638);ci=ci+ci*ni*(ci-1)*(Ei*ni*ni+Li)}var Vi=rn.sub(fn)._mult(ci)._add(fn)._unit()._mult(wa?-1:1);this.addHalfVertex(qt,Vi.x,Vi.y,!1,wa,0,rr)}Br&&this.addCurrentVertex(qt,rn,-Oa,-ui,rr)}else if(Ta==="butt")this.addCurrentVertex(qt,gn,0,0,rr);else if(Ta==="square"){var ji=xr?1:-1;this.addCurrentVertex(qt,gn,ji,ji,rr)}else Ta==="round"&&(xr&&(this.addCurrentVertex(qt,fn,0,0,rr),this.addCurrentVertex(qt,fn,1,1,rr,!0)),Br&&(this.addCurrentVertex(qt,rn,-1,-1,rr,!0),this.addCurrentVertex(qt,rn,0,0,rr)));if(qn&&Cn<St-1){var Eo=qt.dist(Br);if(Eo>2*Yt){var ho=qt.add(Br.sub(qt)._mult(Yt/Eo)._round());this.updateDistance(qt,ho),this.addCurrentVertex(ho,rn,0,0,rr),qt=ho}}}}},us.prototype.addCurrentVertex=function(D,H,ae,de,Te,Ce){Ce===void 0&&(Ce=!1);var Qe=H.x+H.y*ae,dt=H.y-H.x*ae,St=-H.x+H.y*de,Pt=-H.y-H.x*de;this.addHalfVertex(D,Qe,dt,Ce,!1,ae,Te),this.addHalfVertex(D,St,Pt,Ce,!0,-de,Te),this.distance>gx/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,H,ae,de,Te,Ce))},us.prototype.addHalfVertex=function(D,H,ae,de,Te,Ce,Qe){var dt=D.x,St=D.y,Pt=this.lineClips?this.scaledDistance*(gx-1):this.scaledDistance,Yt=Pt*px;if(this.layoutVertexArray.emplaceBack((dt<<1)+(de?1:0),(St<<1)+(Te?1:0),Math.round(dx*H)+128,Math.round(dx*ae)+128,(Ce===0?0:Ce<0?-1:1)+1|(Yt&63)<<2,Yt>>6),this.lineClips){var rr=this.scaledDistance-this.lineClips.start,qt=this.lineClips.end-this.lineClips.start,xr=rr/qt;this.layoutVertexArray2.emplaceBack(xr,this.lineClipsArray.length)}var Br=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),Qe.primitiveLength++),Te?this.e2=Br:this.e1=Br},us.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},us.prototype.updateDistance=function(D,H){this.distance+=D.dist(H),this.updateScaledDistance()},Ue("LineBucket",us,{omit:["layers","patternFeatures"]});var SA=new vi({"line-cap":new oa(Sr.layout_line["line-cap"]),"line-join":new Ca(Sr.layout_line["line-join"]),"line-miter-limit":new oa(Sr.layout_line["line-miter-limit"]),"line-round-limit":new oa(Sr.layout_line["line-round-limit"]),"line-sort-key":new Ca(Sr.layout_line["line-sort-key"])}),MA=new vi({"line-opacity":new Ca(Sr.paint_line["line-opacity"]),"line-color":new Ca(Sr.paint_line["line-color"]),"line-translate":new oa(Sr.paint_line["line-translate"]),"line-translate-anchor":new oa(Sr.paint_line["line-translate-anchor"]),"line-width":new Ca(Sr.paint_line["line-width"]),"line-gap-width":new Ca(Sr.paint_line["line-gap-width"]),"line-offset":new Ca(Sr.paint_line["line-offset"]),"line-blur":new Ca(Sr.paint_line["line-blur"]),"line-dasharray":new Vo(Sr.paint_line["line-dasharray"]),"line-pattern":new Fo(Sr.paint_line["line-pattern"]),"line-gradient":new so(Sr.paint_line["line-gradient"])}),yx={paint:MA,layout:SA},EA=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,de){return de=new Aa(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),R.prototype.possiblyEvaluate.call(this,ae,de)},D.prototype.evaluate=function(ae,de,Te,Ce){return de=x({},de,{zoom:Math.floor(de.zoom)}),R.prototype.evaluate.call(this,ae,de,Te,Ce)},D}(Ca),mx=new EA(yx.paint.properties["line-width"].specification);mx.useIntegerZoom=!0;var CA=function(R){function D(H){R.call(this,H,yx),this.gradientVersion=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var de=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=de._styleExpression.expression instanceof es,this.gradientVersion=(this.gradientVersion+1)%f}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(ae,de){R.prototype.recalculate.call(this,ae,de),this.paint._values["line-floorwidth"]=mx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},D.prototype.createBucket=function(ae){return new us(ae)},D.prototype.queryRadius=function(ae){var de=ae,Te=xx(ls("line-width",this,de),ls("line-gap-width",this,de)),Ce=ls("line-offset",this,de);return Te/2+Math.abs(Ce)+Al(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ae,de,Te,Ce,Qe,dt,St){var Pt=ku(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,St),Yt=St/2*xx(this.paint.get("line-width").evaluate(de,Te),this.paint.get("line-gap-width").evaluate(de,Te)),rr=this.paint.get("line-offset").evaluate(de,Te);return rr&&(Ce=LA(Ce,rr*St)),xo(Pt,Ce,Yt)},D.prototype.isTileClipped=function(){return!0},D}(Ni);function xx(R,D){return D>0?D+2*R:R}function LA(R,D){for(var H=[],ae=new r(0,0),de=0;de<R.length;de++){for(var Te=R[de],Ce=[],Qe=0;Qe<Te.length;Qe++){var dt=Te[Qe-1],St=Te[Qe],Pt=Te[Qe+1],Yt=Qe===0?ae:St.sub(dt)._unit()._perp(),rr=Qe===Te.length-1?ae:Pt.sub(St)._unit()._perp(),qt=Yt._add(rr)._unit(),xr=qt.x*rr.x+qt.y*rr.y;qt._mult(1/xr),Ce.push(qt._mult(D)._add(St))}H.push(Ce)}return H}var PA=Ri([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),RA=Ri([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ri([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var DA=Ri([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ri([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var bx=Ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),IA=Ri([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ri([{name:"triangle",components:3,type:"Uint16"}]),Ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ri([{type:"Float32",name:"offsetX"}]),Ri([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function kA(R,D,H){var ae=D.layout.get("text-transform").evaluate(H,{});return ae==="uppercase"?R=R.toLocaleUpperCase():ae==="lowercase"&&(R=R.toLocaleLowerCase()),Qn.applyArabicShaping&&(R=Qn.applyArabicShaping(R)),R}function FA(R,D,H){return R.sections.forEach(function(ae){ae.text=kA(ae.text,D,H)}),R}function _A(R){var D={},H={},ae=[],de=0;function Te(rn){ae.push(R[rn]),de++}function Ce(rn,Cn,gn){var En=H[rn];return delete H[rn],H[Cn]=En,ae[En].geometry[0].pop(),ae[En].geometry[0]=ae[En].geometry[0].concat(gn[0]),En}function Qe(rn,Cn,gn){var En=D[Cn];return delete D[Cn],D[rn]=En,ae[En].geometry[0].shift(),ae[En].geometry[0]=gn[0].concat(ae[En].geometry[0]),En}function dt(rn,Cn,gn){var En=gn?Cn[0][Cn[0].length-1]:Cn[0][0];return rn+":"+En.x+":"+En.y}for(var St=0;St<R.length;St++){var Pt=R[St],Yt=Pt.geometry,rr=Pt.text?Pt.text.toString():null;if(!rr){Te(St);continue}var qt=dt(rr,Yt),xr=dt(rr,Yt,!0);if(qt in H&&xr in D&&H[qt]!==D[xr]){var Br=Qe(qt,xr,Yt),fn=Ce(qt,xr,ae[Br].geometry);delete D[qt],delete H[xr],H[dt(rr,ae[fn].geometry,!0)]=fn,ae[Br].geometry=null}else qt in H?Ce(qt,xr,Yt):xr in D?Qe(qt,xr,Yt):(Te(St),D[qt]=de-1,H[xr]=de-1)}return ae.filter(function(rn){return rn.geometry})}var bd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function zA(R){for(var D="",H=0;H<R.length;H++){var ae=R.charCodeAt(H+1)||null,de=R.charCodeAt(H-1)||null,Te=(!ae||!Ur(ae)||bd[R[H+1]])&&(!de||!Ur(de)||bd[R[H-1]]);Te&&bd[R[H]]?D+=bd[R[H]]:D+=R[H]}return D}var _o=24,OA=function(R,D,H,ae,de){var Te,Ce,Qe=de*8-ae-1,dt=(1<<Qe)-1,St=dt>>1,Pt=-7,Yt=H?de-1:0,rr=H?-1:1,qt=R[D+Yt];for(Yt+=rr,Te=qt&(1<<-Pt)-1,qt>>=-Pt,Pt+=Qe;Pt>0;Te=Te*256+R[D+Yt],Yt+=rr,Pt-=8);for(Ce=Te&(1<<-Pt)-1,Te>>=-Pt,Pt+=ae;Pt>0;Ce=Ce*256+R[D+Yt],Yt+=rr,Pt-=8);if(Te===0)Te=1-St;else{if(Te===dt)return Ce?NaN:(qt?-1:1)*(1/0);Ce=Ce+Math.pow(2,ae),Te=Te-St}return(qt?-1:1)*Ce*Math.pow(2,Te-ae)},BA=function(R,D,H,ae,de,Te){var Ce,Qe,dt,St=Te*8-de-1,Pt=(1<<St)-1,Yt=Pt>>1,rr=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=ae?0:Te-1,xr=ae?1:-1,Br=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Qe=isNaN(D)?1:0,Ce=Pt):(Ce=Math.floor(Math.log(D)/Math.LN2),D*(dt=Math.pow(2,-Ce))<1&&(Ce--,dt*=2),Ce+Yt>=1?D+=rr/dt:D+=rr*Math.pow(2,1-Yt),D*dt>=2&&(Ce++,dt/=2),Ce+Yt>=Pt?(Qe=0,Ce=Pt):Ce+Yt>=1?(Qe=(D*dt-1)*Math.pow(2,de),Ce=Ce+Yt):(Qe=D*Math.pow(2,Yt-1)*Math.pow(2,de),Ce=0));de>=8;R[H+qt]=Qe&255,qt+=xr,Qe/=256,de-=8);for(Ce=Ce<<de|Qe,St+=de;St>0;R[H+qt]=Ce&255,qt+=xr,Ce/=256,St-=8);R[H+qt-xr]|=Br*128},z0={read:OA,write:BA},O0=Ci;function Ci(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Ci.Varint=0,Ci.Fixed64=1,Ci.Bytes=2,Ci.Fixed32=5;var $g=65536*65536,wx=1/$g,NA=12,Tx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ci.prototype={destroy:function(){this.buf=null},readFields:function(R,D,H){for(H=H||this.length;this.pos<H;){var ae=this.readVarint(),de=ae>>3,Te=this.pos;this.type=ae&7,R(de,D,this),this.pos===Te&&this.skip(ae)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=B0(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=Sx(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=B0(this.buf,this.pos)+B0(this.buf,this.pos+4)*$g;return this.pos+=8,R},readSFixed64:function(){var R=B0(this.buf,this.pos)+Sx(this.buf,this.pos+4)*$g;return this.pos+=8,R},readFloat:function(){var R=z0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=z0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,H,ae;return ae=D[this.pos++],H=ae&127,ae<128||(ae=D[this.pos++],H|=(ae&127)<<7,ae<128)||(ae=D[this.pos++],H|=(ae&127)<<14,ae<128)||(ae=D[this.pos++],H|=(ae&127)<<21,ae<128)?H:(ae=D[this.pos],H|=(ae&15)<<28,UA(H,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=NA&&Tx?e5(this.buf,D,R):qA(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Ci.Bytes)return R.push(this.readVarint(D));var H=Gf(this);for(R=R||[];this.pos<H;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Ci.Bytes)return R.push(this.readSVarint());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Ci.Bytes)return R.push(this.readBoolean());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Ci.Bytes)return R.push(this.readFloat());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Ci.Bytes)return R.push(this.readDouble());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Ci.Bytes)return R.push(this.readFixed32());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Ci.Bytes)return R.push(this.readSFixed32());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Ci.Bytes)return R.push(this.readFixed64());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Ci.Bytes)return R.push(this.readSFixed64());var D=Gf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Ci.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ci.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ci.Fixed32)this.pos+=4;else if(D===Ci.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var H=new Uint8Array(D);H.set(this.buf),this.buf=H,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),vv(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),vv(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),vv(this.buf,R&-1,this.pos),vv(this.buf,Math.floor(R*wx),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),vv(this.buf,R&-1,this.pos),vv(this.buf,Math.floor(R*wx),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){VA(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=t5(this.buf,R,this.pos);var H=this.pos-D;H>=128&&Ax(D,H,this),this.pos=D-1,this.writeVarint(H),this.pos+=H},writeFloat:function(R){this.realloc(4),z0.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),z0.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var H=0;H<D;H++)this.buf[this.pos++]=R[H]},writeRawMessage:function(R,D){this.pos++;var H=this.pos;R(D,this);var ae=this.pos-H;ae>=128&&Ax(H,ae,this),this.pos=H-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(R,D,H){this.writeTag(R,Ci.Bytes),this.writeRawMessage(D,H)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,WA,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,YA,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,ZA,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,XA,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,jA,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,KA,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,JA,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,QA,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,$A,D)},writeBytesField:function(R,D){this.writeTag(R,Ci.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Ci.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Ci.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Ci.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Ci.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Ci.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Ci.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Ci.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Ci.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Ci.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function UA(R,D,H){var ae=H.buf,de,Te;if(Te=ae[H.pos++],de=(Te&112)>>4,Te<128||(Te=ae[H.pos++],de|=(Te&127)<<3,Te<128)||(Te=ae[H.pos++],de|=(Te&127)<<10,Te<128)||(Te=ae[H.pos++],de|=(Te&127)<<17,Te<128)||(Te=ae[H.pos++],de|=(Te&127)<<24,Te<128)||(Te=ae[H.pos++],de|=(Te&1)<<31,Te<128))return hv(R,de,D);throw new Error("Expected varint not more than 10 bytes")}function Gf(R){return R.type===Ci.Bytes?R.readVarint()+R.pos:R.pos+1}function hv(R,D,H){return H?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function VA(R,D){var H,ae;if(R>=0?(H=R%4294967296|0,ae=R/4294967296|0):(H=~(-R%4294967296),ae=~(-R/4294967296),H^4294967295?H=H+1|0:(H=0,ae=ae+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),HA(H,ae,D),GA(ae,D)}function HA(R,D,H){H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos]=R&127}function GA(R,D){var H=(R&7)<<4;D.buf[D.pos++]|=H|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function Ax(R,D,H){var ae=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));H.realloc(ae);for(var de=H.pos-1;de>=R;de--)H.buf[de+ae]=H.buf[de]}function WA(R,D){for(var H=0;H<R.length;H++)D.writeVarint(R[H])}function YA(R,D){for(var H=0;H<R.length;H++)D.writeSVarint(R[H])}function XA(R,D){for(var H=0;H<R.length;H++)D.writeFloat(R[H])}function jA(R,D){for(var H=0;H<R.length;H++)D.writeDouble(R[H])}function ZA(R,D){for(var H=0;H<R.length;H++)D.writeBoolean(R[H])}function KA(R,D){for(var H=0;H<R.length;H++)D.writeFixed32(R[H])}function JA(R,D){for(var H=0;H<R.length;H++)D.writeSFixed32(R[H])}function QA(R,D){for(var H=0;H<R.length;H++)D.writeFixed64(R[H])}function $A(R,D){for(var H=0;H<R.length;H++)D.writeSFixed64(R[H])}function B0(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function vv(R,D,H){R[H]=D,R[H+1]=D>>>8,R[H+2]=D>>>16,R[H+3]=D>>>24}function Sx(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function qA(R,D,H){for(var ae="",de=D;de<H;){var Te=R[de],Ce=null,Qe=Te>239?4:Te>223?3:Te>191?2:1;if(de+Qe>H)break;var dt,St,Pt;Qe===1?Te<128&&(Ce=Te):Qe===2?(dt=R[de+1],(dt&192)===128&&(Ce=(Te&31)<<6|dt&63,Ce<=127&&(Ce=null))):Qe===3?(dt=R[de+1],St=R[de+2],(dt&192)===128&&(St&192)===128&&(Ce=(Te&15)<<12|(dt&63)<<6|St&63,(Ce<=2047||Ce>=55296&&Ce<=57343)&&(Ce=null))):Qe===4&&(dt=R[de+1],St=R[de+2],Pt=R[de+3],(dt&192)===128&&(St&192)===128&&(Pt&192)===128&&(Ce=(Te&15)<<18|(dt&63)<<12|(St&63)<<6|Pt&63,(Ce<=65535||Ce>=1114112)&&(Ce=null))),Ce===null?(Ce=65533,Qe=1):Ce>65535&&(Ce-=65536,ae+=String.fromCharCode(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ae+=String.fromCharCode(Ce),de+=Qe}return ae}function e5(R,D,H){return Tx.decode(R.subarray(D,H))}function t5(R,D,H){for(var ae=0,de,Te;ae<D.length;ae++){if(de=D.charCodeAt(ae),de>55295&&de<57344)if(Te)if(de<56320){R[H++]=239,R[H++]=191,R[H++]=189,Te=de;continue}else de=Te-55296<<10|de-56320|65536,Te=null;else{de>56319||ae+1===D.length?(R[H++]=239,R[H++]=191,R[H++]=189):Te=de;continue}else Te&&(R[H++]=239,R[H++]=191,R[H++]=189,Te=null);de<128?R[H++]=de:(de<2048?R[H++]=de>>6|192:(de<65536?R[H++]=de>>12|224:(R[H++]=de>>18|240,R[H++]=de>>12&63|128),R[H++]=de>>6&63|128),R[H++]=de&63|128)}return H}var qg=3;function r5(R,D,H){R===1&&H.readMessage(n5,D)}function n5(R,D,H){if(R===3){var ae=H.readMessage(a5,{}),de=ae.id,Te=ae.bitmap,Ce=ae.width,Qe=ae.height,dt=ae.left,St=ae.top,Pt=ae.advance;D.push({id:de,bitmap:new Fh({width:Ce+2*qg,height:Qe+2*qg},Te),metrics:{width:Ce,height:Qe,left:dt,top:St,advance:Pt}})}}function a5(R,D,H){R===1?D.id=H.readVarint():R===2?D.bitmap=H.readBytes():R===3?D.width=H.readVarint():R===4?D.height=H.readVarint():R===5?D.left=H.readSVarint():R===6?D.top=H.readSVarint():R===7&&(D.advance=H.readVarint())}function i5(R){return new O0(R).readFields(r5,[])}var Mx=qg;function Ex(R){for(var D=0,H=0,ae=0,de=R;ae<de.length;ae+=1){var Te=de[ae];D+=Te.w*Te.h,H=Math.max(H,Te.w)}R.sort(function(fn,rn){return rn.h-fn.h});for(var Ce=Math.max(Math.ceil(Math.sqrt(D/.95)),H),Qe=[{x:0,y:0,w:Ce,h:1/0}],dt=0,St=0,Pt=0,Yt=R;Pt<Yt.length;Pt+=1)for(var rr=Yt[Pt],qt=Qe.length-1;qt>=0;qt--){var xr=Qe[qt];if(!(rr.w>xr.w||rr.h>xr.h)){if(rr.x=xr.x,rr.y=xr.y,St=Math.max(St,rr.y+rr.h),dt=Math.max(dt,rr.x+rr.w),rr.w===xr.w&&rr.h===xr.h){var Br=Qe.pop();qt<Qe.length&&(Qe[qt]=Br)}else rr.h===xr.h?(xr.x+=rr.w,xr.w-=rr.w):rr.w===xr.w?(xr.y+=rr.h,xr.h-=rr.h):(Qe.push({x:xr.x+rr.w,y:xr.y,w:xr.w-rr.w,h:rr.h}),xr.y+=rr.h,xr.h-=rr.h);break}}return{w:dt,h:St,fill:D/(dt*St)||0}}var Bs=1,N0=function(D,H){var ae=H.pixelRatio,de=H.version,Te=H.stretchX,Ce=H.stretchY,Qe=H.content;this.paddedRect=D,this.pixelRatio=ae,this.stretchX=Te,this.stretchY=Ce,this.content=Qe,this.version=de},wd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};wd.tl.get=function(){return[this.paddedRect.x+Bs,this.paddedRect.y+Bs]},wd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Bs,this.paddedRect.y+this.paddedRect.h-Bs]},wd.tlbr.get=function(){return this.tl.concat(this.br)},wd.displaySize.get=function(){return[(this.paddedRect.w-Bs*2)/this.pixelRatio,(this.paddedRect.h-Bs*2)/this.pixelRatio]},Object.defineProperties(N0.prototype,wd);var Td=function(D,H){var ae={},de={};this.haveRenderCallbacks=[];var Te=[];this.addImages(D,ae,Te),this.addImages(H,de,Te);var Ce=Ex(Te),Qe=Ce.w,dt=Ce.h,St=new Ms({width:Qe||1,height:dt||1});for(var Pt in D){var Yt=D[Pt],rr=ae[Pt].paddedRect;Ms.copy(Yt.data,St,{x:0,y:0},{x:rr.x+Bs,y:rr.y+Bs},Yt.data)}for(var qt in H){var xr=H[qt],Br=de[qt].paddedRect,fn=Br.x+Bs,rn=Br.y+Bs,Cn=xr.data.width,gn=xr.data.height;Ms.copy(xr.data,St,{x:0,y:0},{x:fn,y:rn},xr.data),Ms.copy(xr.data,St,{x:0,y:gn-1},{x:fn,y:rn-1},{width:Cn,height:1}),Ms.copy(xr.data,St,{x:0,y:0},{x:fn,y:rn+gn},{width:Cn,height:1}),Ms.copy(xr.data,St,{x:Cn-1,y:0},{x:fn-1,y:rn},{width:1,height:gn}),Ms.copy(xr.data,St,{x:0,y:0},{x:fn+Cn,y:rn},{width:1,height:gn})}this.image=St,this.iconPositions=ae,this.patternPositions=de};Td.prototype.addImages=function(D,H,ae){for(var de in D){var Te=D[de],Ce={x:0,y:0,w:Te.data.width+2*Bs,h:Te.data.height+2*Bs};ae.push(Ce),H[de]=new N0(Ce,Te),Te.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},Td.prototype.patchUpdatedImages=function(D,H){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],D.getImage(ae),H),this.patchUpdatedImage(this.patternPositions[ae],D.getImage(ae),H)},Td.prototype.patchUpdatedImage=function(D,H,ae){if(!(!D||!H)&&D.version!==H.version){D.version=H.version;var de=D.tl,Te=de[0],Ce=de[1];ae.update(H.data,void 0,{x:Te,y:Ce})}},Ue("ImagePosition",N0),Ue("ImageAtlas",Td);var al={horizontal:1,vertical:2,horizontalOnly:3},Ad=-17;function o5(R){for(var D=0,H=R;D<H.length;D+=1){var ae=H[D];if(ae.positionedGlyphs.length!==0)return!1}return!0}var Cx=57344,Lx=63743,dv=function(){this.scale=1,this.fontStack="",this.imageName=null};dv.forText=function(D,H){var ae=new dv;return ae.scale=D||1,ae.fontStack=H,ae},dv.forImage=function(D){var H=new dv;return H.imageName=D,H};var Zo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Zo.fromFeature=function(D,H){for(var ae=new Zo,de=0;de<D.sections.length;de++){var Te=D.sections[de];Te.image?ae.addImageSection(Te):ae.addTextSection(Te,H)}return ae},Zo.prototype.length=function(){return this.text.length},Zo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Zo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Zo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Zo.prototype.verticalizePunctuation=function(){this.text=zA(this.text)},Zo.prototype.trim=function(){for(var D=0,H=0;H<this.text.length&&df[this.text.charCodeAt(H)];H++)D++;for(var ae=this.text.length,de=this.text.length-1;de>=0&&de>=D&&df[this.text.charCodeAt(de)];de--)ae--;this.text=this.text.substring(D,ae),this.sectionIndex=this.sectionIndex.slice(D,ae)},Zo.prototype.substring=function(D,H){var ae=new Zo;return ae.text=this.text.substring(D,H),ae.sectionIndex=this.sectionIndex.slice(D,H),ae.sections=this.sections,ae},Zo.prototype.toString=function(){return this.text},Zo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(H,ae){return Math.max(H,D.sections[ae].scale)},0)},Zo.prototype.addTextSection=function(D,H){this.text+=D.text,this.sections.push(dv.forText(D.scale,D.fontStack||H));for(var ae=this.sections.length-1,de=0;de<D.text.length;++de)this.sectionIndex.push(ae)},Zo.prototype.addImageSection=function(D){var H=D.image?D.image.name:"";if(H.length===0){B("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){B("Reached maximum number of images "+(Lx-Cx+2));return}this.text+=String.fromCharCode(ae),this.sections.push(dv.forImage(H)),this.sectionIndex.push(this.sections.length-1)},Zo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Lx?null:++this.imageSectionID:(this.imageSectionID=Cx,this.imageSectionID)};function s5(R,D){for(var H=[],ae=R.text,de=0,Te=0,Ce=D;Te<Ce.length;Te+=1){var Qe=Ce[Te];H.push(R.substring(de,Qe)),de=Qe}return de<ae.length&&H.push(R.substring(de,ae.length)),H}function U0(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br){var fn=Zo.fromFeature(R,de);Yt===al.vertical&&fn.verticalizePunctuation();var rn,Cn=Qn.processBidirectionalText,gn=Qn.processStyledBidirectionalText;if(Cn&&fn.sections.length===1){rn=[];for(var En=Cn(fn.toString(),ey(fn,St,Te,D,ae,qt,xr)),kn=0,Wn=En;kn<Wn.length;kn+=1){var ra=Wn[kn],qn=new Zo;qn.text=ra,qn.sections=fn.sections;for(var wa=0;wa<ra.length;wa++)qn.sectionIndex.push(0);rn.push(qn)}}else if(gn){rn=[];for(var da=gn(fn.text,fn.sectionIndex,ey(fn,St,Te,D,ae,qt,xr)),ba=0,Ua=da;ba<Ua.length;ba+=1){var Ta=Ua[ba],Ea=new Zo;Ea.text=Ta[0],Ea.sectionIndex=Ta[1],Ea.sections=fn.sections,rn.push(Ea)}}else rn=s5(fn,ey(fn,St,Te,D,ae,qt,xr));var Wa=[],Oa={positionedLines:Wa,text:fn.toString(),top:Pt[1],bottom:Pt[1],left:Pt[0],right:Pt[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return f5(Oa,D,H,ae,rn,Ce,Qe,dt,Yt,St,rr,Br),o5(Wa)?!1:Oa}var df={};df[9]=!0,df[10]=!0,df[11]=!0,df[12]=!0,df[13]=!0,df[32]=!0;var Ns={};Ns[10]=!0,Ns[32]=!0,Ns[38]=!0,Ns[40]=!0,Ns[41]=!0,Ns[43]=!0,Ns[45]=!0,Ns[47]=!0,Ns[173]=!0,Ns[183]=!0,Ns[8203]=!0,Ns[8208]=!0,Ns[8211]=!0,Ns[8231]=!0;function Px(R,D,H,ae,de,Te){if(D.imageName){var dt=ae[D.imageName];return dt?dt.displaySize[0]*D.scale*_o/Te+de:0}else{var Ce=H[D.fontStack],Qe=Ce&&Ce[R];return Qe?Qe.metrics.advance*D.scale+de:0}}function l5(R,D,H,ae,de,Te){for(var Ce=0,Qe=0;Qe<R.length();Qe++){var dt=R.getSection(Qe);Ce+=Px(R.getCharCode(Qe),dt,ae,de,D,Te)}var St=Math.max(1,Math.ceil(Ce/H));return Ce/St}function Rx(R,D,H,ae){var de=Math.pow(R-D,2);return ae?R<D?de/2:de*2:de+Math.abs(H)*H}function u5(R,D,H){var ae=0;return R===10&&(ae-=1e4),H&&(ae+=150),(R===40||R===65288)&&(ae+=50),(D===41||D===65289)&&(ae+=50),ae}function Dx(R,D,H,ae,de,Te){for(var Ce=null,Qe=Rx(D,H,de,Te),dt=0,St=ae;dt<St.length;dt+=1){var Pt=St[dt],Yt=D-Pt.x,rr=Rx(Yt,H,de,Te)+Pt.badness;rr<=Qe&&(Ce=Pt,Qe=rr)}return{index:R,x:D,priorBreak:Ce,badness:Qe}}function Ix(R){return R?Ix(R.priorBreak).concat(R.index):[]}function ey(R,D,H,ae,de,Te,Ce){if(Te!=="point")return[];if(!R)return[];for(var Qe=[],dt=l5(R,D,H,ae,de,Ce),St=R.text.indexOf("")>=0,Pt=0,Yt=0;Yt<R.length();Yt++){var rr=R.getSection(Yt),qt=R.getCharCode(Yt);if(df[qt]||(Pt+=Px(qt,rr,ae,de,D,Ce)),Yt<R.length()-1){var xr=qr(qt);(Ns[qt]||xr||rr.imageName)&&Qe.push(Dx(Yt+1,Pt,dt,Qe,u5(qt,R.getCharCode(Yt+1),xr&&St),!1))}}return Ix(Dx(R.length(),Pt,dt,Qe,0,!0))}function ty(R){var D=.5,H=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":H=1;break;case"top":case"top-right":case"top-left":H=0;break}return{horizontalAlign:D,verticalAlign:H}}function f5(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt){for(var rr=0,qt=Ad,xr=0,Br=0,fn=Qe==="right"?1:Qe==="left"?0:.5,rn=0,Cn=0,gn=de;Cn<gn.length;Cn+=1){var En=gn[Cn];En.trim();var kn=En.getMaxScale(),Wn=(kn-1)*_o,ra={positionedGlyphs:[],lineOffset:0};R.positionedLines[rn]=ra;var qn=ra.positionedGlyphs,wa=0;if(!En.length()){qt+=Te,++rn;continue}for(var da=0;da<En.length();da++){var ba=En.getSection(da),Ua=En.getSectionIndex(da),Ta=En.getCharCode(da),Ea=0,Wa=null,Oa=null,ui=null,wi=_o,fi=!(dt===al.horizontal||!Pt&&!an(Ta)||Pt&&(df[Ta]||Kr(Ta)));if(ba.imageName){var Vi=ae[ba.imageName];if(!Vi)continue;ui=ba.imageName,R.iconsInText=R.iconsInText||!0,Oa=Vi.paddedRect;var ji=Vi.displaySize;ba.scale=ba.scale*_o/Yt,Wa={width:ji[0],height:ji[1],left:Bs,top:-Mx,advance:fi?ji[1]:ji[0]};var Eo=_o-ji[1]*ba.scale;Ea=Wn+Eo,wi=Wa.advance;var ho=fi?ji[0]*ba.scale-_o*kn:ji[1]*ba.scale-_o*kn;ho>0&&ho>wa&&(wa=ho)}else{var ci=H[ba.fontStack],ni=ci&&ci[Ta];if(ni&&ni.rect)Oa=ni.rect,Wa=ni.metrics;else{var Ei=D[ba.fontStack],Li=Ei&&Ei[Ta];if(!Li)continue;Wa=Li.metrics}Ea=(kn-ba.scale)*_o}fi?(R.verticalizable=!0,qn.push({glyph:Ta,imageName:ui,x:rr,y:qt+Ea,vertical:fi,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ua,metrics:Wa,rect:Oa}),rr+=wi*ba.scale+St):(qn.push({glyph:Ta,imageName:ui,x:rr,y:qt+Ea,vertical:fi,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ua,metrics:Wa,rect:Oa}),rr+=Wa.advance*ba.scale+St)}if(qn.length!==0){var Ko=rr-St;xr=Math.max(Ko,xr),c5(qn,0,qn.length-1,fn,wa)}rr=0;var Jo=Te*kn+wa;ra.lineOffset=Math.max(wa,Wn),qt+=Jo,Br=Math.max(Jo,Br),++rn}var Co=qt-Ad,fs=ty(Ce),cs=fs.horizontalAlign,bo=fs.verticalAlign;h5(R.positionedLines,fn,cs,bo,xr,Br,Te,Co,de.length),R.top+=-bo*Co,R.bottom=R.top+Co,R.left+=-cs*xr,R.right=R.left+xr}function c5(R,D,H,ae,de){if(!(!ae&&!de))for(var Te=R[H],Ce=Te.metrics.advance*Te.scale,Qe=(R[H].x+Ce)*ae,dt=D;dt<=H;dt++)R[dt].x-=Qe,R[dt].y+=de}function h5(R,D,H,ae,de,Te,Ce,Qe,dt){var St=(D-H)*de,Pt=0;Te!==Ce?Pt=-Qe*ae-Ad:Pt=(-ae*dt+.5)*Ce;for(var Yt=0,rr=R;Yt<rr.length;Yt+=1)for(var qt=rr[Yt],xr=0,Br=qt.positionedGlyphs;xr<Br.length;xr+=1){var fn=Br[xr];fn.x+=St,fn.y+=Pt}}function v5(R,D,H){var ae=ty(H),de=ae.horizontalAlign,Te=ae.verticalAlign,Ce=D[0],Qe=D[1],dt=Ce-R.displaySize[0]*de,St=dt+R.displaySize[0],Pt=Qe-R.displaySize[1]*Te,Yt=Pt+R.displaySize[1];return{image:R,top:Pt,bottom:Yt,left:dt,right:St}}function kx(R,D,H,ae,de,Te){var Ce=R.image,Qe;if(Ce.content){var dt=Ce.content,St=Ce.pixelRatio||1;Qe=[dt[0]/St,dt[1]/St,Ce.displaySize[0]-dt[2]/St,Ce.displaySize[1]-dt[3]/St]}var Pt=D.left*Te,Yt=D.right*Te,rr,qt,xr,Br;H==="width"||H==="both"?(Br=de[0]+Pt-ae[3],qt=de[0]+Yt+ae[1]):(Br=de[0]+(Pt+Yt-Ce.displaySize[0])/2,qt=Br+Ce.displaySize[0]);var fn=D.top*Te,rn=D.bottom*Te;return H==="height"||H==="both"?(rr=de[1]+fn-ae[0],xr=de[1]+rn+ae[2]):(rr=de[1]+(fn+rn-Ce.displaySize[1])/2,xr=rr+Ce.displaySize[1]),{image:Ce,top:rr,right:qt,bottom:xr,left:Br,collisionPadding:Qe}}var pv=function(R){function D(H,ae,de,Te){R.call(this,H,ae),this.angle=de,Te!==void 0&&(this.segment=Te)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);Ue("Anchor",pv);var zu=128;function ry(R,D){var H=D.expression;if(H.kind==="constant"){var ae=H.evaluate(new Aa(R+1));return{kind:"constant",layoutSize:ae}}else{if(H.kind==="source")return{kind:"source"};for(var de=H.zoomStops,Te=H.interpolationType,Ce=0;Ce<de.length&&de[Ce]<=R;)Ce++;Ce=Math.max(0,Ce-1);for(var Qe=Ce;Qe<de.length&&de[Qe]<R+1;)Qe++;Qe=Math.min(de.length-1,Qe);var dt=de[Ce],St=de[Qe];if(H.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:St,interpolationType:Te};var Pt=H.evaluate(new Aa(dt)),Yt=H.evaluate(new Aa(St));return{kind:"camera",minZoom:dt,maxZoom:St,minSize:Pt,maxSize:Yt,interpolationType:Te}}}function Fx(R,D,H){var ae=D.uSize,de=D.uSizeT,Te=H.lowerSize,Ce=H.upperSize;return R.kind==="source"?Te/zu:R.kind==="composite"?Di(Te/zu,Ce/zu,de):ae}function _x(R,D){var H=0,ae=0;if(R.kind==="constant")ae=R.layoutSize;else if(R.kind!=="source"){var de=R.interpolationType,Te=R.minZoom,Ce=R.maxZoom,Qe=de?h(_i.interpolationFactor(de,D,Te,Ce),0,1):0;R.kind==="camera"?ae=Di(R.minSize,R.maxSize,Qe):H=Qe}return{uSizeT:H,uSize:ae}}var d5=Object.freeze({__proto__:null,getSizeData:ry,evaluateSizeForFeature:Fx,evaluateSizeForZoom:_x,SIZE_PACK_FACTOR:zu});function zx(R,D,H,ae,de){if(D.segment===void 0)return!0;for(var Te=D,Ce=D.segment+1,Qe=0;Qe>-H/2;){if(Ce--,Ce<0)return!1;Qe-=R[Ce].dist(Te),Te=R[Ce]}Qe+=R[Ce].dist(R[Ce+1]),Ce++;for(var dt=[],St=0;Qe<H/2;){var Pt=R[Ce-1],Yt=R[Ce],rr=R[Ce+1];if(!rr)return!1;var qt=Pt.angleTo(Yt)-Yt.angleTo(rr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:Qe,angleDelta:qt}),St+=qt;Qe-dt[0].distance>ae;)St-=dt.shift().angleDelta;if(St>de)return!1;Ce++,Qe+=Yt.dist(rr)}return!0}function Ox(R){for(var D=0,H=0;H<R.length-1;H++)D+=R[H].dist(R[H+1]);return D}function Bx(R,D,H){return R?.6*D*H:0}function Nx(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function p5(R,D,H,ae,de,Te){for(var Ce=Bx(H,de,Te),Qe=Nx(H,ae)*Te,dt=0,St=Ox(R)/2,Pt=0;Pt<R.length-1;Pt++){var Yt=R[Pt],rr=R[Pt+1],qt=Yt.dist(rr);if(dt+qt>St){var xr=(St-dt)/qt,Br=Di(Yt.x,rr.x,xr),fn=Di(Yt.y,rr.y,xr),rn=new pv(Br,fn,rr.angleTo(Yt),Pt);return rn._round(),!Ce||zx(R,rn,Qe,Ce,D)?rn:void 0}dt+=qt}}function g5(R,D,H,ae,de,Te,Ce,Qe,dt){var St=Bx(ae,Te,Ce),Pt=Nx(ae,de),Yt=Pt*Ce,rr=R[0].x===0||R[0].x===dt||R[0].y===0||R[0].y===dt;D-Yt<D/4&&(D=Yt+D/4);var qt=Te*2,xr=rr?D/2*Qe%D:(Pt/2+qt)*Ce*Qe%D;return Ux(R,xr,D,St,H,Yt,rr,!1,dt)}function Ux(R,D,H,ae,de,Te,Ce,Qe,dt){for(var St=Te/2,Pt=Ox(R),Yt=0,rr=D-H,qt=[],xr=0;xr<R.length-1;xr++){for(var Br=R[xr],fn=R[xr+1],rn=Br.dist(fn),Cn=fn.angleTo(Br);rr+H<Yt+rn;){rr+=H;var gn=(rr-Yt)/rn,En=Di(Br.x,fn.x,gn),kn=Di(Br.y,fn.y,gn);if(En>=0&&En<dt&&kn>=0&&kn<dt&&rr-St>=0&&rr+St<=Pt){var Wn=new pv(En,kn,Cn,xr);Wn._round(),(!ae||zx(R,Wn,Te,ae,de))&&qt.push(Wn)}}Yt+=rn}return!Qe&&!qt.length&&!Ce&&(qt=Ux(R,Yt/2,H,ae,de,Te,Ce,!0,dt)),qt}function Vx(R,D,H,ae,de){for(var Te=[],Ce=0;Ce<R.length;Ce++)for(var Qe=R[Ce],dt=void 0,St=0;St<Qe.length-1;St++){var Pt=Qe[St],Yt=Qe[St+1];Pt.x<D&&Yt.x<D||(Pt.x<D?Pt=new r(D,Pt.y+(Yt.y-Pt.y)*((D-Pt.x)/(Yt.x-Pt.x)))._round():Yt.x<D&&(Yt=new r(D,Pt.y+(Yt.y-Pt.y)*((D-Pt.x)/(Yt.x-Pt.x)))._round()),!(Pt.y<H&&Yt.y<H)&&(Pt.y<H?Pt=new r(Pt.x+(Yt.x-Pt.x)*((H-Pt.y)/(Yt.y-Pt.y)),H)._round():Yt.y<H&&(Yt=new r(Pt.x+(Yt.x-Pt.x)*((H-Pt.y)/(Yt.y-Pt.y)),H)._round()),!(Pt.x>=ae&&Yt.x>=ae)&&(Pt.x>=ae?Pt=new r(ae,Pt.y+(Yt.y-Pt.y)*((ae-Pt.x)/(Yt.x-Pt.x)))._round():Yt.x>=ae&&(Yt=new r(ae,Pt.y+(Yt.y-Pt.y)*((ae-Pt.x)/(Yt.x-Pt.x)))._round()),!(Pt.y>=de&&Yt.y>=de)&&(Pt.y>=de?Pt=new r(Pt.x+(Yt.x-Pt.x)*((de-Pt.y)/(Yt.y-Pt.y)),de)._round():Yt.y>=de&&(Yt=new r(Pt.x+(Yt.x-Pt.x)*((de-Pt.y)/(Yt.y-Pt.y)),de)._round()),(!dt||!Pt.equals(dt[dt.length-1]))&&(dt=[Pt],Te.push(dt)),dt.push(Yt)))))}return Te}var gv=Bs;function Hx(R,D,H,ae){var de=[],Te=R.image,Ce=Te.pixelRatio,Qe=Te.paddedRect.w-2*gv,dt=Te.paddedRect.h-2*gv,St=R.right-R.left,Pt=R.bottom-R.top,Yt=Te.stretchX||[[0,Qe]],rr=Te.stretchY||[[0,dt]],qt=function(ci,ni){return ci+ni[1]-ni[0]},xr=Yt.reduce(qt,0),Br=rr.reduce(qt,0),fn=Qe-xr,rn=dt-Br,Cn=0,gn=xr,En=0,kn=Br,Wn=0,ra=fn,qn=0,wa=rn;if(Te.content&&ae){var da=Te.content;Cn=V0(Yt,0,da[0]),En=V0(rr,0,da[1]),gn=V0(Yt,da[0],da[2]),kn=V0(rr,da[1],da[3]),Wn=da[0]-Cn,qn=da[1]-En,ra=da[2]-da[0]-gn,wa=da[3]-da[1]-kn}var ba=function(ci,ni,Ei,Li){var Vi=H0(ci.stretch-Cn,gn,St,R.left),ji=G0(ci.fixed-Wn,ra,ci.stretch,xr),Eo=H0(ni.stretch-En,kn,Pt,R.top),ho=G0(ni.fixed-qn,wa,ni.stretch,Br),Ko=H0(Ei.stretch-Cn,gn,St,R.left),Jo=G0(Ei.fixed-Wn,ra,Ei.stretch,xr),Co=H0(Li.stretch-En,kn,Pt,R.top),fs=G0(Li.fixed-qn,wa,Li.stretch,Br),cs=new r(Vi,Eo),bo=new r(Ko,Eo),hs=new r(Ko,Co),il=new r(Vi,Co),Xf=new r(ji/Ce,ho/Ce),Bc=new r(Jo/Ce,fs/Ce),Nc=D*Math.PI/180;if(Nc){var Uc=Math.sin(Nc),Sv=Math.cos(Nc),ru=[Sv,-Uc,Uc,Sv];cs._matMult(ru),bo._matMult(ru),il._matMult(ru),hs._matMult(ru)}var K0=ci.stretch+ci.fixed,fy=Ei.stretch+Ei.fixed,J0=ni.stretch+ni.fixed,cy=Li.stretch+Li.fixed,Ml={x:Te.paddedRect.x+gv+K0,y:Te.paddedRect.y+gv+J0,w:fy-K0,h:cy-J0},Mv=ra/Ce/St,Q0=wa/Ce/Pt;return{tl:cs,tr:bo,bl:il,br:hs,tex:Ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Xf,pixelOffsetBR:Bc,minFontScaleX:Mv,minFontScaleY:Q0,isSDF:H}};if(!ae||!Te.stretchX&&!Te.stretchY)de.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:dt+1}));else for(var Ua=Gx(Yt,fn,xr),Ta=Gx(rr,rn,Br),Ea=0;Ea<Ua.length-1;Ea++)for(var Wa=Ua[Ea],Oa=Ua[Ea+1],ui=0;ui<Ta.length-1;ui++){var wi=Ta[ui],fi=Ta[ui+1];de.push(ba(Wa,wi,Oa,fi))}return de}function V0(R,D,H){for(var ae=0,de=0,Te=R;de<Te.length;de+=1){var Ce=Te[de];ae+=Math.max(D,Math.min(H,Ce[1]))-Math.max(D,Math.min(H,Ce[0]))}return ae}function Gx(R,D,H){for(var ae=[{fixed:-gv,stretch:0}],de=0,Te=R;de<Te.length;de+=1){var Ce=Te[de],Qe=Ce[0],dt=Ce[1],St=ae[ae.length-1];ae.push({fixed:Qe-St.stretch,stretch:St.stretch}),ae.push({fixed:Qe-St.stretch,stretch:St.stretch+(dt-Qe)})}return ae.push({fixed:D+gv,stretch:H}),ae}function H0(R,D,H,ae){return R/D*H+ae}function G0(R,D,H,ae){return R-D*H/ae}function y5(R,D,H,ae,de,Te,Ce,Qe){for(var dt=ae.layout.get("text-rotate").evaluate(Te,{})*Math.PI/180,St=[],Pt=0,Yt=D.positionedLines;Pt<Yt.length;Pt+=1)for(var rr=Yt[Pt],qt=0,xr=rr.positionedGlyphs;qt<xr.length;qt+=1){var Br=xr[qt];if(Br.rect){var fn=Br.rect||{},rn=1,Cn=Mx+rn,gn=!0,En=1,kn=0,Wn=(de||Qe)&&Br.vertical,ra=Br.metrics.advance*Br.scale/2;if(Qe&&D.verticalizable){var qn=(Br.scale-1)*_o,wa=(_o-Br.metrics.width*Br.scale)/2;kn=rr.lineOffset/2-(Br.imageName?-wa:qn)}if(Br.imageName){var da=Ce[Br.imageName];gn=da.sdf,En=da.pixelRatio,Cn=Bs/En}var ba=de?[Br.x+ra,Br.y]:[0,0],Ua=de?[0,0]:[Br.x+ra+H[0],Br.y+H[1]-kn],Ta=[0,0];Wn&&(Ta=Ua,Ua=[0,0]);var Ea=(Br.metrics.left-Cn)*Br.scale-ra+Ua[0],Wa=(-Br.metrics.top-Cn)*Br.scale+Ua[1],Oa=Ea+fn.w*Br.scale/En,ui=Wa+fn.h*Br.scale/En,wi=new r(Ea,Wa),fi=new r(Oa,Wa),ci=new r(Ea,ui),ni=new r(Oa,ui);if(Wn){var Ei=new r(-ra,ra-Ad),Li=-Math.PI/2,Vi=_o/2-ra,ji=Br.imageName?Vi:0,Eo=new r(5-Ad-Vi,-ji),ho=new(Function.prototype.bind.apply(r,[null].concat(Ta)));wi._rotateAround(Li,Ei)._add(Eo)._add(ho),fi._rotateAround(Li,Ei)._add(Eo)._add(ho),ci._rotateAround(Li,Ei)._add(Eo)._add(ho),ni._rotateAround(Li,Ei)._add(Eo)._add(ho)}if(dt){var Ko=Math.sin(dt),Jo=Math.cos(dt),Co=[Jo,-Ko,Ko,Jo];wi._matMult(Co),fi._matMult(Co),ci._matMult(Co),ni._matMult(Co)}var fs=new r(0,0),cs=new r(0,0),bo=0,hs=0;St.push({tl:wi,tr:fi,bl:ci,br:ni,tex:fn,writingMode:D.writingMode,glyphOffset:ba,sectionIndex:Br.sectionIndex,isSDF:gn,pixelOffsetTL:fs,pixelOffsetBR:cs,minFontScaleX:bo,minFontScaleY:hs})}}return St}var W0=function(D,H,ae,de,Te,Ce,Qe,dt,St,Pt){if(this.boxStartIndex=D.length,St){var Yt=Ce.top,rr=Ce.bottom,qt=Ce.collisionPadding;qt&&(Yt-=qt[1],rr+=qt[3]);var xr=rr-Yt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Br=Ce.top*Qe-dt,fn=Ce.bottom*Qe+dt,rn=Ce.left*Qe-dt,Cn=Ce.right*Qe+dt,gn=Ce.collisionPadding;if(gn&&(rn-=gn[0]*Qe,Br-=gn[1]*Qe,Cn+=gn[2]*Qe,fn+=gn[3]*Qe),Pt){var En=new r(rn,Br),kn=new r(Cn,Br),Wn=new r(rn,fn),ra=new r(Cn,fn),qn=Pt*Math.PI/180;En._rotate(qn),kn._rotate(qn),Wn._rotate(qn),ra._rotate(qn),rn=Math.min(En.x,kn.x,Wn.x,ra.x),Cn=Math.max(En.x,kn.x,Wn.x,ra.x),Br=Math.min(En.y,kn.y,Wn.y,ra.y),fn=Math.max(En.y,kn.y,Wn.y,ra.y)}D.emplaceBack(H.x,H.y,rn,Br,Cn,fn,ae,de,Te)}this.boxEndIndex=D.length},yv=function(D,H){if(D===void 0&&(D=[]),H===void 0&&(H=m5),this.data=D,this.length=this.data.length,this.compare=H,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};yv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},yv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],H=this.data.pop();return this.length--,this.length>0&&(this.data[0]=H,this._down(0)),D}},yv.prototype.peek=function(){return this.data[0]},yv.prototype._up=function(D){for(var H=this,ae=H.data,de=H.compare,Te=ae[D];D>0;){var Ce=D-1>>1,Qe=ae[Ce];if(de(Te,Qe)>=0)break;ae[D]=Qe,D=Ce}ae[D]=Te},yv.prototype._down=function(D){for(var H=this,ae=H.data,de=H.compare,Te=this.length>>1,Ce=ae[D];D<Te;){var Qe=(D<<1)+1,dt=ae[Qe],St=Qe+1;if(St<this.length&&de(ae[St],dt)<0&&(Qe=St,dt=ae[St]),de(dt,Ce)>=0)break;ae[D]=dt,D=Qe}ae[D]=Ce};function m5(R,D){return R<D?-1:R>D?1:0}function x5(R,D,H){D===void 0&&(D=1),H===void 0&&(H=!1);for(var ae=1/0,de=1/0,Te=-1/0,Ce=-1/0,Qe=R[0],dt=0;dt<Qe.length;dt++){var St=Qe[dt];(!dt||St.x<ae)&&(ae=St.x),(!dt||St.y<de)&&(de=St.y),(!dt||St.x>Te)&&(Te=St.x),(!dt||St.y>Ce)&&(Ce=St.y)}var Pt=Te-ae,Yt=Ce-de,rr=Math.min(Pt,Yt),qt=rr/2,xr=new yv([],b5);if(rr===0)return new r(ae,de);for(var Br=ae;Br<Te;Br+=rr)for(var fn=de;fn<Ce;fn+=rr)xr.push(new mv(Br+qt,fn+qt,qt,R));for(var rn=T5(R),Cn=xr.length;xr.length;){var gn=xr.pop();(gn.d>rn.d||!rn.d)&&(rn=gn,H&&console.log("found best %d after %d probes",Math.round(1e4*gn.d)/1e4,Cn)),!(gn.max-rn.d<=D)&&(qt=gn.h/2,xr.push(new mv(gn.p.x-qt,gn.p.y-qt,qt,R)),xr.push(new mv(gn.p.x+qt,gn.p.y-qt,qt,R)),xr.push(new mv(gn.p.x-qt,gn.p.y+qt,qt,R)),xr.push(new mv(gn.p.x+qt,gn.p.y+qt,qt,R)),Cn+=4)}return H&&(console.log("num probes: "+Cn),console.log("best distance: "+rn.d)),rn.p}function b5(R,D){return D.max-R.max}function mv(R,D,H,ae){this.p=new r(R,D),this.h=H,this.d=w5(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function w5(R,D){for(var H=!1,ae=1/0,de=0;de<D.length;de++)for(var Te=D[de],Ce=0,Qe=Te.length,dt=Qe-1;Ce<Qe;dt=Ce++){var St=Te[Ce],Pt=Te[dt];St.y>R.y!=Pt.y>R.y&&R.x<(Pt.x-St.x)*(R.y-St.y)/(Pt.y-St.y)+St.x&&(H=!H),ae=Math.min(ae,Hf(R,St,Pt))}return(H?1:-1)*Math.sqrt(ae)}function T5(R){for(var D=0,H=0,ae=0,de=R[0],Te=0,Ce=de.length,Qe=Ce-1;Te<Ce;Qe=Te++){var dt=de[Te],St=de[Qe],Pt=dt.x*St.y-St.x*dt.y;H+=(dt.x+St.x)*Pt,ae+=(dt.y+St.y)*Pt,D+=Pt*3}return new mv(H/D,ae/D,0,R)}var xv=7,ny=Number.POSITIVE_INFINITY;function Wx(R,D){function H(de,Te){var Ce=0,Qe=0;Te<0&&(Te=0);var dt=Te/Math.sqrt(2);switch(de){case"top-right":case"top-left":Qe=dt-xv;break;case"bottom-right":case"bottom-left":Qe=-dt+xv;break;case"bottom":Qe=-Te+xv;break;case"top":Qe=Te-xv;break}switch(de){case"top-right":case"bottom-right":Ce=-dt;break;case"top-left":case"bottom-left":Ce=dt;break;case"left":Ce=Te;break;case"right":Ce=-Te;break}return[Ce,Qe]}function ae(de,Te,Ce){var Qe=0,dt=0;switch(Te=Math.abs(Te),Ce=Math.abs(Ce),de){case"top-right":case"top-left":case"top":dt=Ce-xv;break;case"bottom-right":case"bottom-left":case"bottom":dt=-Ce+xv;break}switch(de){case"top-right":case"bottom-right":case"right":Qe=-Te;break;case"top-left":case"bottom-left":case"left":Qe=Te;break}return[Qe,dt]}return D[1]!==ny?ae(R,D[0],D[1]):H(R,D[0])}function A5(R,D,H,ae,de,Te,Ce){R.createArrays();var Qe=512*R.overscaling;R.tilePixelRatio=Sa/Qe,R.compareText={},R.iconsNeedLinear=!1;var dt=R.layers[0].layout,St=R.layers[0]._unevaluatedLayout._values,Pt={};if(R.textSizeData.kind==="composite"){var Yt=R.textSizeData,rr=Yt.minZoom,qt=Yt.maxZoom;Pt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Aa(rr),Ce),St["text-size"].possiblyEvaluate(new Aa(qt),Ce)]}if(R.iconSizeData.kind==="composite"){var xr=R.iconSizeData,Br=xr.minZoom,fn=xr.maxZoom;Pt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Aa(Br),Ce),St["icon-size"].possiblyEvaluate(new Aa(fn),Ce)]}Pt.layoutTextSize=St["text-size"].possiblyEvaluate(new Aa(R.zoom+1),Ce),Pt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Aa(R.zoom+1),Ce),Pt.textMaxSize=St["text-size"].possiblyEvaluate(new Aa(18));for(var rn=dt.get("text-line-height")*_o,Cn=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",gn=dt.get("text-keep-upright"),En=dt.get("text-size"),kn=function(){var qn=ra[Wn],wa=dt.get("text-font").evaluate(qn,{},Ce).join(","),da=En.evaluate(qn,{},Ce),ba=Pt.layoutTextSize.evaluate(qn,{},Ce),Ua=Pt.layoutIconSize.evaluate(qn,{},Ce),Ta={horizontal:{},vertical:void 0},Ea=qn.text,Wa=[0,0];if(Ea){var Oa=Ea.toString(),ui=dt.get("text-letter-spacing").evaluate(qn,{},Ce)*_o,wi=Cr(Oa)?ui:0,fi=dt.get("text-anchor").evaluate(qn,{},Ce),ci=dt.get("text-variable-anchor");if(!ci){var ni=dt.get("text-radial-offset").evaluate(qn,{},Ce);ni?Wa=Wx(fi,[ni*_o,ny]):Wa=dt.get("text-offset").evaluate(qn,{},Ce).map(function(Xf){return Xf*_o})}var Ei=Cn?"center":dt.get("text-justify").evaluate(qn,{},Ce),Li=dt.get("symbol-placement"),Vi=Li==="point"?dt.get("text-max-width").evaluate(qn,{},Ce)*_o:0,ji=function(){R.allowVerticalPlacement&&tr(Oa)&&(Ta.vertical=U0(Ea,D,H,de,wa,Vi,rn,fi,"left",wi,Wa,al.vertical,!0,Li,ba,da))};if(!Cn&&ci){for(var Eo=Ei==="auto"?ci.map(function(Xf){return ay(Xf)}):[Ei],ho=!1,Ko=0;Ko<Eo.length;Ko++){var Jo=Eo[Ko];if(!Ta.horizontal[Jo])if(ho)Ta.horizontal[Jo]=Ta.horizontal[0];else{var Co=U0(Ea,D,H,de,wa,Vi,rn,"center",Jo,wi,Wa,al.horizontal,!1,Li,ba,da);Co&&(Ta.horizontal[Jo]=Co,ho=Co.positionedLines.length===1)}}ji()}else{Ei==="auto"&&(Ei=ay(fi));var fs=U0(Ea,D,H,de,wa,Vi,rn,fi,Ei,wi,Wa,al.horizontal,!1,Li,ba,da);fs&&(Ta.horizontal[Ei]=fs),ji(),tr(Oa)&&Cn&&gn&&(Ta.vertical=U0(Ea,D,H,de,wa,Vi,rn,fi,Ei,wi,Wa,al.vertical,!1,Li,ba,da))}}var cs=void 0,bo=!1;if(qn.icon&&qn.icon.name){var hs=ae[qn.icon.name];hs&&(cs=v5(de[qn.icon.name],dt.get("icon-offset").evaluate(qn,{},Ce),dt.get("icon-anchor").evaluate(qn,{},Ce)),bo=hs.sdf,R.sdfIcons===void 0?R.sdfIcons=hs.sdf:R.sdfIcons!==hs.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(hs.pixelRatio!==R.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var il=Xx(Ta.horizontal)||Ta.vertical;R.iconsInText=il?il.iconsInText:!1,(il||cs)&&S5(R,qn,Ta,cs,ae,Pt,ba,Ua,Wa,bo,Ce)},Wn=0,ra=R.features;Wn<ra.length;Wn+=1)kn();Te&&R.generateCollisionDebugBuffers()}function ay(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function S5(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt){var Yt=Te.textMaxSize.evaluate(D,{});Yt===void 0&&(Yt=Ce);var rr=R.layers[0].layout,qt=rr.get("icon-offset").evaluate(D,{},Pt),xr=Xx(H.horizontal),Br=24,fn=Ce/Br,rn=R.tilePixelRatio*fn,Cn=R.tilePixelRatio*Yt/Br,gn=R.tilePixelRatio*Qe,En=R.tilePixelRatio*rr.get("symbol-spacing"),kn=rr.get("text-padding")*R.tilePixelRatio,Wn=rr.get("icon-padding")*R.tilePixelRatio,ra=rr.get("text-max-angle")/180*Math.PI,qn=rr.get("text-rotation-alignment")==="map"&&rr.get("symbol-placement")!=="point",wa=rr.get("icon-rotation-alignment")==="map"&&rr.get("symbol-placement")!=="point",da=rr.get("symbol-placement"),ba=En/2,Ua=rr.get("icon-text-fit"),Ta;ae&&Ua!=="none"&&(R.allowVerticalPlacement&&H.vertical&&(Ta=kx(ae,H.vertical,Ua,rr.get("icon-text-fit-padding"),qt,fn)),xr&&(ae=kx(ae,xr,Ua,rr.get("icon-text-fit-padding"),qt,fn)));var Ea=function(Sv,ru){ru.x<0||ru.x>=Sa||ru.y<0||ru.y>=Sa||M5(R,ru,Sv,H,ae,de,Ta,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,rn,kn,qn,dt,gn,Wn,wa,qt,D,Te,St,Pt,Ce)};if(da==="line")for(var Wa=0,Oa=Vx(D.geometry,0,0,Sa,Sa);Wa<Oa.length;Wa+=1)for(var ui=Oa[Wa],wi=g5(ui,En,ra,H.vertical||xr,ae,Br,Cn,R.overscaling,Sa),fi=0,ci=wi;fi<ci.length;fi+=1){var ni=ci[fi],Ei=xr;(!Ei||!E5(R,Ei.text,ba,ni))&&Ea(ui,ni)}else if(da==="line-center")for(var Li=0,Vi=D.geometry;Li<Vi.length;Li+=1){var ji=Vi[Li];if(ji.length>1){var Eo=p5(ji,ra,H.vertical||xr,ae,Br,Cn);Eo&&Ea(ji,Eo)}}else if(D.type==="Polygon")for(var ho=0,Ko=Zg(D.geometry,0);ho<Ko.length;ho+=1){var Jo=Ko[ho],Co=x5(Jo,16);Ea(Jo[0],new pv(Co.x,Co.y,0))}else if(D.type==="LineString")for(var fs=0,cs=D.geometry;fs<cs.length;fs+=1){var bo=cs[fs];Ea(bo,new pv(bo[0].x,bo[0].y,0))}else if(D.type==="Point")for(var hs=0,il=D.geometry;hs<il.length;hs+=1)for(var Xf=il[hs],Bc=0,Nc=Xf;Bc<Nc.length;Bc+=1){var Uc=Nc[Bc];Ea([Uc],new pv(Uc.x,Uc.y,0))}}var Sd=255,zc=Sd*zu;function Yx(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr){var Br=y5(D,H,Qe,de,Te,Ce,ae,R.allowVerticalPlacement),fn=R.textSizeData,rn=null;fn.kind==="source"?(rn=[zu*de.layout.get("text-size").evaluate(Ce,{})],rn[0]>zc&&B(R.layerIds[0]+': Value for "text-size" is >= '+Sd+'. Reduce your "text-size".')):fn.kind==="composite"&&(rn=[zu*qt.compositeTextSizes[0].evaluate(Ce,{},xr),zu*qt.compositeTextSizes[1].evaluate(Ce,{},xr)],(rn[0]>zc||rn[1]>zc)&&B(R.layerIds[0]+': Value for "text-size" is >= '+Sd+'. Reduce your "text-size".')),R.addSymbols(R.text,Br,rn,Qe,Te,Ce,St,D,dt.lineStartIndex,dt.lineLength,rr,xr);for(var Cn=0,gn=Pt;Cn<gn.length;Cn+=1){var En=gn[Cn];Yt[En]=R.text.placedSymbolArray.length-1}return Br.length*4}function Xx(R){for(var D in R)return R[D];return null}function M5(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr,qt,xr,Br,fn,rn,Cn,gn,En,kn,Wn,ra,qn){var wa,da=R.addToLineVertexArray(D,H),ba,Ua,Ta,Ea,Wa=0,Oa=0,ui=0,wi=0,fi=-1,ci=-1,ni={},Ei=ge(""),Li=0,Vi=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(wa=Qe.layout.get("text-offset").evaluate(En,{},ra).map(function(Cd){return Cd*_o}),Li=wa[0],Vi=wa[1]):(Li=Qe.layout.get("text-radial-offset").evaluate(En,{},ra)*_o,Vi=ny),R.allowVerticalPlacement&&ae.vertical){var ji=Qe.layout.get("text-rotate").evaluate(En,{},ra),Eo=ji+90,ho=ae.vertical;Ta=new W0(dt,D,St,Pt,Yt,ho,rr,qt,xr,Eo),Ce&&(Ea=new W0(dt,D,St,Pt,Yt,Ce,fn,rn,xr,Eo))}if(de){var Ko=Qe.layout.get("icon-rotate").evaluate(En,{}),Jo=Qe.layout.get("icon-text-fit")!=="none",Co=Hx(de,Ko,Wn,Jo),fs=Ce?Hx(Ce,Ko,Wn,Jo):void 0;Ua=new W0(dt,D,St,Pt,Yt,de,fn,rn,!1,Ko),Wa=Co.length*4;var cs=R.iconSizeData,bo=null;cs.kind==="source"?(bo=[zu*Qe.layout.get("icon-size").evaluate(En,{})],bo[0]>zc&&B(R.layerIds[0]+': Value for "icon-size" is >= '+Sd+'. Reduce your "icon-size".')):cs.kind==="composite"&&(bo=[zu*kn.compositeIconSizes[0].evaluate(En,{},ra),zu*kn.compositeIconSizes[1].evaluate(En,{},ra)],(bo[0]>zc||bo[1]>zc)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+Sd+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Co,bo,gn,Cn,En,!1,D,da.lineStartIndex,da.lineLength,-1,ra),fi=R.icon.placedSymbolArray.length-1,fs&&(Oa=fs.length*4,R.addSymbols(R.icon,fs,bo,gn,Cn,En,al.vertical,D,da.lineStartIndex,da.lineLength,-1,ra),ci=R.icon.placedSymbolArray.length-1)}for(var hs in ae.horizontal){var il=ae.horizontal[hs];if(!ba){Ei=ge(il.text);var Xf=Qe.layout.get("text-rotate").evaluate(En,{},ra);ba=new W0(dt,D,St,Pt,Yt,il,rr,qt,xr,Xf)}var Bc=il.positionedLines.length===1;if(ui+=Yx(R,D,il,Te,Qe,xr,En,Br,da,ae.vertical?al.horizontal:al.horizontalOnly,Bc?Object.keys(ae.horizontal):[hs],ni,fi,kn,ra),Bc)break}ae.vertical&&(wi+=Yx(R,D,ae.vertical,Te,Qe,xr,En,Br,da,al.vertical,["vertical"],ni,ci,kn,ra));var Nc=ba?ba.boxStartIndex:R.collisionBoxArray.length,Uc=ba?ba.boxEndIndex:R.collisionBoxArray.length,Sv=Ta?Ta.boxStartIndex:R.collisionBoxArray.length,ru=Ta?Ta.boxEndIndex:R.collisionBoxArray.length,K0=Ua?Ua.boxStartIndex:R.collisionBoxArray.length,fy=Ua?Ua.boxEndIndex:R.collisionBoxArray.length,J0=Ea?Ea.boxStartIndex:R.collisionBoxArray.length,cy=Ea?Ea.boxEndIndex:R.collisionBoxArray.length,Ml=-1,Mv=function(Cd,l2){return Cd&&Cd.circleDiameter?Math.max(Cd.circleDiameter,l2):l2};Ml=Mv(ba,Ml),Ml=Mv(Ta,Ml),Ml=Mv(Ua,Ml),Ml=Mv(Ea,Ml);var Q0=Ml>-1?1:0;Q0&&(Ml*=qn/_o),R.glyphOffsetArray.length>=bi.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),En.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,En.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,ni.right>=0?ni.right:-1,ni.center>=0?ni.center:-1,ni.left>=0?ni.left:-1,ni.vertical||-1,fi,ci,Ei,Nc,Uc,Sv,ru,K0,fy,J0,cy,St,ui,wi,Wa,Oa,Q0,0,rr,Li,Vi,Ml)}function E5(R,D,H,ae){var de=R.compareText;if(!(D in de))de[D]=[];else for(var Te=de[D],Ce=Te.length-1;Ce>=0;Ce--)if(ae.dist(Te[Ce])<H)return!0;return de[D].push(ae),!1}var C5=cv.VectorTileFeature.types,L5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Y0(R,D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr){var qt=Qe?Math.min(zc,Math.round(Qe[0])):0,xr=Qe?Math.min(zc,Math.round(Qe[1])):0;R.emplaceBack(D,H,Math.round(ae*32),Math.round(de*32),Te,Ce,(qt<<1)+(dt?1:0),xr,St*16,Pt*16,Yt*256,rr*256)}function iy(R,D,H){R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H)}function P5(R){for(var D=0,H=R.sections;D<H.length;D+=1){var ae=H[D];if(tn(ae.text))return!0}return!1}var bv=function(D){this.layoutVertexArray=new hf,this.indexArray=new Iu,this.programConfigurations=D,this.segments=new lo,this.dynamicLayoutVertexArray=new sd,this.opacityVertexArray=new ld,this.placedSymbolArray=new cd};bv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},bv.prototype.upload=function(D,H,ae,de){this.isEmpty()||(ae&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,PA.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,H),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,RA.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,L5,!0),this.opacityVertexBuffer.itemSize=1),(ae||de)&&this.programConfigurations.upload(D))},bv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ue("SymbolBuffers",bv);var Md=function(D,H,ae){this.layoutVertexArray=new D,this.layoutAttributes=H,this.indexArray=new ae,this.segments=new lo,this.collisionVertexArray=new ws};Md.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,DA.members,!0)},Md.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ue("CollisionBuffers",Md);var bi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ov([]),this.placementViewportMatrix=ov([]);var H=this.layers[0],ae=H._unevaluatedLayout._values;this.textSizeData=ry(this.zoom,ae["text-size"]),this.iconSizeData=ry(this.zoom,ae["icon-size"]);var de=this.layers[0].layout,Te=de.get("symbol-sort-key"),Ce=de.get("symbol-z-order");this.canOverlap=de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement"),this.sortFeaturesByKey=Ce!=="viewport-y"&&Te.constantOr(1)!==void 0;var Qe=Ce==="viewport-y"||Ce==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(dt){return al[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=D.sourceID};bi.prototype.createArrays=function(){this.text=new bv(new va(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new bv(new va(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new C0,this.lineVertexArray=new wl,this.symbolInstances=new E0},bi.prototype.calculateGlyphDependencies=function(D,H,ae,de,Te){for(var Ce=0;Ce<D.length;Ce++)if(H[D.charCodeAt(Ce)]=!0,(ae||de)&&Te){var Qe=bd[D.charAt(Ce)];Qe&&(H[Qe.charCodeAt(0)]=!0)}},bi.prototype.populate=function(D,H,ae){var de=this.layers[0],Te=de.layout,Ce=Te.get("text-font"),Qe=Te.get("text-field"),dt=Te.get("icon-image"),St=(Qe.value.kind!=="constant"||Qe.value.value instanceof Qi&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(Ce.value.kind!=="constant"||Ce.value.value.length>0),Pt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,Yt=Te.get("symbol-sort-key");if(this.features=[],!(!St&&!Pt)){for(var rr=H.iconDependencies,qt=H.glyphDependencies,xr=H.availableImages,Br=new Aa(this.zoom),fn=0,rn=D;fn<rn.length;fn+=1){var Cn=rn[fn],gn=Cn.feature,En=Cn.id,kn=Cn.index,Wn=Cn.sourceLayerIndex,ra=de._featureFilter.needGeometry,qn=Mi(gn,ra);if(de._featureFilter.filter(Br,qn,ae)){ra||(qn.geometry=ri(gn));var wa=void 0;if(St){var da=de.getValueAndResolveTokens("text-field",qn,ae,xr),ba=Qi.factory(da);P5(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&Qn.isParsed())&&(wa=FA(ba,de,qn))}var Ua=void 0;if(Pt){var Ta=de.getValueAndResolveTokens("icon-image",qn,ae,xr);Ta instanceof To?Ua=Ta:Ua=To.fromString(Ta)}if(!(!wa&&!Ua)){var Ea=this.sortFeaturesByKey?Yt.evaluate(qn,{},ae):void 0,Wa={id:En,text:wa,icon:Ua,index:kn,sourceLayerIndex:Wn,geometry:qn.geometry,properties:gn.properties,type:C5[gn.type],sortKey:Ea};if(this.features.push(Wa),Ua&&(rr[Ua.name]=!0),wa){var Oa=Ce.evaluate(qn,{},ae).join(","),ui=Te.get("text-rotation-alignment")==="map"&&Te.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(al.vertical)>=0;for(var wi=0,fi=wa.sections;wi<fi.length;wi+=1){var ci=fi[wi];if(ci.image)rr[ci.image.name]=!0;else{var ni=tr(wa.toString()),Ei=ci.fontStack||Oa,Li=qt[Ei]=qt[Ei]||{};this.calculateGlyphDependencies(ci.text,Li,ui,this.allowVerticalPlacement,ni)}}}}}}Te.get("symbol-placement")==="line"&&(this.features=_A(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,ji){return Vi.sortKey-ji.sortKey})}},bi.prototype.update=function(D,H,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,H,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(D,H,this.layers,ae))},bi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},bi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},bi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},bi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},bi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},bi.prototype.addToLineVertexArray=function(D,H){var ae=this.lineVertexArray.length;if(D.segment!==void 0){for(var de=D.dist(H[D.segment+1]),Te=D.dist(H[D.segment]),Ce={},Qe=D.segment+1;Qe<H.length;Qe++)Ce[Qe]={x:H[Qe].x,y:H[Qe].y,tileUnitDistanceFromAnchor:de},Qe<H.length-1&&(de+=H[Qe+1].dist(H[Qe]));for(var dt=D.segment||0;dt>=0;dt--)Ce[dt]={x:H[dt].x,y:H[dt].y,tileUnitDistanceFromAnchor:Te},dt>0&&(Te+=H[dt-1].dist(H[dt]));for(var St=0;St<H.length;St++){var Pt=Ce[St];this.lineVertexArray.emplaceBack(Pt.x,Pt.y,Pt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},bi.prototype.addSymbols=function(D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt,rr){for(var qt=D.indexArray,xr=D.layoutVertexArray,Br=D.segments.prepareSegment(4*H.length,xr,qt,this.canOverlap?Ce.sortKey:void 0),fn=this.glyphOffsetArray.length,rn=Br.vertexLength,Cn=this.allowVerticalPlacement&&Qe===al.vertical?Math.PI/2:0,gn=Ce.text&&Ce.text.sections,En=0;En<H.length;En++){var kn=H[En],Wn=kn.tl,ra=kn.tr,qn=kn.bl,wa=kn.br,da=kn.tex,ba=kn.pixelOffsetTL,Ua=kn.pixelOffsetBR,Ta=kn.minFontScaleX,Ea=kn.minFontScaleY,Wa=kn.glyphOffset,Oa=kn.isSDF,ui=kn.sectionIndex,wi=Br.vertexLength,fi=Wa[1];Y0(xr,dt.x,dt.y,Wn.x,fi+Wn.y,da.x,da.y,ae,Oa,ba.x,ba.y,Ta,Ea),Y0(xr,dt.x,dt.y,ra.x,fi+ra.y,da.x+da.w,da.y,ae,Oa,Ua.x,ba.y,Ta,Ea),Y0(xr,dt.x,dt.y,qn.x,fi+qn.y,da.x,da.y+da.h,ae,Oa,ba.x,Ua.y,Ta,Ea),Y0(xr,dt.x,dt.y,wa.x,fi+wa.y,da.x+da.w,da.y+da.h,ae,Oa,Ua.x,Ua.y,Ta,Ea),iy(D.dynamicLayoutVertexArray,dt,Cn),qt.emplaceBack(wi,wi+1,wi+2),qt.emplaceBack(wi+1,wi+2,wi+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Wa[0]),(En===H.length-1||ui!==H[En+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(xr.length,Ce,Ce.index,{},rr,gn&&gn[ui])}D.placedSymbolArray.emplaceBack(dt.x,dt.y,fn,this.glyphOffsetArray.length-fn,rn,St,Pt,dt.segment,ae?ae[0]:0,ae?ae[1]:0,de[0],de[1],Qe,0,!1,0,Yt)},bi.prototype._addCollisionDebugVertex=function(D,H,ae,de,Te,Ce){return H.emplaceBack(0,0),D.emplaceBack(ae.x,ae.y,de,Te,Math.round(Ce.x),Math.round(Ce.y))},bi.prototype.addCollisionDebugVertices=function(D,H,ae,de,Te,Ce,Qe){var dt=Te.segments.prepareSegment(4,Te.layoutVertexArray,Te.indexArray),St=dt.vertexLength,Pt=Te.layoutVertexArray,Yt=Te.collisionVertexArray,rr=Qe.anchorX,qt=Qe.anchorY;this._addCollisionDebugVertex(Pt,Yt,Ce,rr,qt,new r(D,H)),this._addCollisionDebugVertex(Pt,Yt,Ce,rr,qt,new r(ae,H)),this._addCollisionDebugVertex(Pt,Yt,Ce,rr,qt,new r(ae,de)),this._addCollisionDebugVertex(Pt,Yt,Ce,rr,qt,new r(D,de)),dt.vertexLength+=4;var xr=Te.indexArray;xr.emplaceBack(St,St+1),xr.emplaceBack(St+1,St+2),xr.emplaceBack(St+2,St+3),xr.emplaceBack(St+3,St),dt.primitiveLength+=4},bi.prototype.addDebugCollisionBoxes=function(D,H,ae,de){for(var Te=D;Te<H;Te++){var Ce=this.collisionBoxArray.get(Te),Qe=Ce.x1,dt=Ce.y1,St=Ce.x2,Pt=Ce.y2;this.addCollisionDebugVertices(Qe,dt,St,Pt,de?this.textCollisionBox:this.iconCollisionBox,Ce.anchorPoint,ae)}},bi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Md(ev,bx.members,Dh),this.iconCollisionBox=new Md(ev,bx.members,Dh);for(var D=0;D<this.symbolInstances.length;D++){var H=this.symbolInstances.get(D);this.addDebugCollisionBoxes(H.textBoxStartIndex,H.textBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.verticalTextBoxStartIndex,H.verticalTextBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.iconBoxStartIndex,H.iconBoxEndIndex,H,!1),this.addDebugCollisionBoxes(H.verticalIconBoxStartIndex,H.verticalIconBoxEndIndex,H,!1)}},bi.prototype._deserializeCollisionBoxesForSymbol=function(D,H,ae,de,Te,Ce,Qe,dt,St){for(var Pt={},Yt=H;Yt<ae;Yt++){var rr=D.get(Yt);Pt.textBox={x1:rr.x1,y1:rr.y1,x2:rr.x2,y2:rr.y2,anchorPointX:rr.anchorPointX,anchorPointY:rr.anchorPointY},Pt.textFeatureIndex=rr.featureIndex;break}for(var qt=de;qt<Te;qt++){var xr=D.get(qt);Pt.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Pt.verticalTextFeatureIndex=xr.featureIndex;break}for(var Br=Ce;Br<Qe;Br++){var fn=D.get(Br);Pt.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},Pt.iconFeatureIndex=fn.featureIndex;break}for(var rn=dt;rn<St;rn++){var Cn=D.get(rn);Pt.verticalIconBox={x1:Cn.x1,y1:Cn.y1,x2:Cn.x2,y2:Cn.y2,anchorPointX:Cn.anchorPointX,anchorPointY:Cn.anchorPointY},Pt.verticalIconFeatureIndex=Cn.featureIndex;break}return Pt},bi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var H=0;H<this.symbolInstances.length;H++){var ae=this.symbolInstances.get(H);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},bi.prototype.hasTextData=function(){return this.text.segments.get().length>0},bi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},bi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},bi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},bi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},bi.prototype.addIndicesForPlacedSymbol=function(D,H){for(var ae=D.placedSymbolArray.get(H),de=ae.vertexStartIndex+ae.numGlyphs*4,Te=ae.vertexStartIndex;Te<de;Te+=4)D.indexArray.emplaceBack(Te,Te+1,Te+2),D.indexArray.emplaceBack(Te+1,Te+2,Te+3)},bi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var H=Math.sin(D),ae=Math.cos(D),de=[],Te=[],Ce=[],Qe=0;Qe<this.symbolInstances.length;++Qe){Ce.push(Qe);var dt=this.symbolInstances.get(Qe);de.push(Math.round(H*dt.anchorX+ae*dt.anchorY)|0),Te.push(dt.featureIndex)}return Ce.sort(function(St,Pt){return de[St]-de[Pt]||Te[Pt]-Te[St]}),Ce},bi.prototype.addToSortKeyRanges=function(D,H){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===H?ae.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:H,symbolInstanceStart:D,symbolInstanceEnd:D+1})},bi.prototype.sortFeatures=function(D){var H=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,de=this.symbolInstanceIndexes;ae<de.length;ae+=1){var Te=de[ae],Ce=this.symbolInstances.get(Te);this.featureSortOrder.push(Ce.featureIndex),[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(function(Qe,dt,St){Qe>=0&&St.indexOf(Qe)===dt&&H.addIndicesForPlacedSymbol(H.text,Qe)}),Ce.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ce.verticalPlacedTextSymbolIndex),Ce.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.placedIconSymbolIndex),Ce.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ue("SymbolBucket",bi,{omit:["layers","collisionBoxArray","features","compareText"]}),bi.MAX_GLYPHS=65535,bi.addDynamicAttributes=iy;function R5(R,D){return D.replace(/{([^{}]+)}/g,function(H,ae){return ae in R?String(R[ae]):""})}var D5=new vi({"symbol-placement":new oa(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new oa(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oa(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ca(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new oa(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oa(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new oa(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new oa(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oa(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ca(Sr.layout_symbol["icon-size"]),"icon-text-fit":new oa(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oa(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ca(Sr.layout_symbol["icon-image"]),"icon-rotate":new Ca(Sr.layout_symbol["icon-rotate"]),"icon-padding":new oa(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new oa(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ca(Sr.layout_symbol["icon-offset"]),"icon-anchor":new Ca(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oa(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oa(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oa(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new Ca(Sr.layout_symbol["text-field"]),"text-font":new Ca(Sr.layout_symbol["text-font"]),"text-size":new Ca(Sr.layout_symbol["text-size"]),"text-max-width":new Ca(Sr.layout_symbol["text-max-width"]),"text-line-height":new oa(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ca(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new Ca(Sr.layout_symbol["text-justify"]),"text-radial-offset":new Ca(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new oa(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ca(Sr.layout_symbol["text-anchor"]),"text-max-angle":new oa(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new oa(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new Ca(Sr.layout_symbol["text-rotate"]),"text-padding":new oa(Sr.layout_symbol["text-padding"]),"text-keep-upright":new oa(Sr.layout_symbol["text-keep-upright"]),"text-transform":new Ca(Sr.layout_symbol["text-transform"]),"text-offset":new Ca(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new oa(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new oa(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new oa(Sr.layout_symbol["text-optional"])}),I5=new vi({"icon-opacity":new Ca(Sr.paint_symbol["icon-opacity"]),"icon-color":new Ca(Sr.paint_symbol["icon-color"]),"icon-halo-color":new Ca(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ca(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ca(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new oa(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new oa(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ca(Sr.paint_symbol["text-opacity"]),"text-color":new Ca(Sr.paint_symbol["text-color"],{runtimeType:Mn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ca(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new Ca(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ca(Sr.paint_symbol["text-halo-blur"]),"text-translate":new oa(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new oa(Sr.paint_symbol["text-translate-anchor"])}),oy={paint:I5,layout:D5},wv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Hr,this.defaultValue=D};wv.prototype.evaluate=function(D){if(D.formattedSection){var H=this.defaultValue.property.overrides;if(H&&H.hasOverride(D.formattedSection))return H.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},wv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var H=this.defaultValue.value;D(H._styleExpression.expression)}},wv.prototype.outputDefined=function(){return!1},wv.prototype.serialize=function(){return null},Ue("FormatSectionOverride",wv,{omit:["defaultValue"]});var k5=function(R){function D(H){R.call(this,H,oy)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,de){if(R.prototype.recalculate.call(this,ae,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Te=this.layout.get("text-writing-mode");if(Te){for(var Ce=[],Qe=0,dt=Te;Qe<dt.length;Qe+=1){var St=dt[Qe];Ce.indexOf(St)<0&&Ce.push(St)}this.layout._values["text-writing-mode"]=Ce}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ae,de,Te,Ce){var Qe=this.layout.get(ae).evaluate(de,{},Te,Ce),dt=this._unevaluatedLayout._values[ae];return!dt.isDataDriven()&&!Au(dt.value)&&Qe?R5(de.properties,Qe):Qe},D.prototype.createBucket=function(ae){return new bi(ae)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ae=0,de=oy.paint.overridableProperties;ae<de.length;ae+=1){var Te=de[ae];if(D.hasPaintOverride(this.layout,Te)){var Ce=this.paint.get(Te),Qe=new wv(Ce),dt=new $s(Qe,Ce.property.specification),St=null;Ce.value.kind==="constant"||Ce.value.kind==="source"?St=new Wi("source",dt):St=new xs("composite",dt,Ce.value.zoomStops,Ce.value._interpolationType),this.paint._values[Te]=new Ai(Ce.property,St,Ce.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Te){return!this.layout||de.isDataDriven()||Te.isDataDriven()?!1:D.hasPaintOverride(this.layout,ae)},D.hasPaintOverride=function(ae,de){var Te=ae.get("text-field"),Ce=oy.paint.properties[de],Qe=!1,dt=function(Yt){for(var rr=0,qt=Yt;rr<qt.length;rr+=1){var xr=qt[rr];if(Ce.overrides&&Ce.overrides.hasOverride(xr)){Qe=!0;return}}};if(Te.value.kind==="constant"&&Te.value.value instanceof Qi)dt(Te.value.value.sections);else if(Te.value.kind==="source"){var St=function(Yt){if(!Qe)if(Yt instanceof Oi&&Fi(Yt.value)===pa){var rr=Yt.value;dt(rr.sections)}else Yt instanceof io?dt(Yt.sections):Yt.eachChild(St)},Pt=Te.value;Pt._styleExpression&&St(Pt._styleExpression.expression)}return Qe},D}(Ni),F5=new vi({"background-color":new oa(Sr.paint_background["background-color"]),"background-pattern":new Vo(Sr.paint_background["background-pattern"]),"background-opacity":new oa(Sr.paint_background["background-opacity"])}),_5={paint:F5},z5=function(R){function D(H){R.call(this,H,_5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ni),O5=new vi({"raster-opacity":new oa(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new oa(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oa(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oa(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new oa(Sr.paint_raster["raster-saturation"]),"raster-contrast":new oa(Sr.paint_raster["raster-contrast"]),"raster-resampling":new oa(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new oa(Sr.paint_raster["raster-fade-duration"])}),B5={paint:O5},N5=function(R){function D(H){R.call(this,H,B5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Ni);function U5(R){var D=[],H=R.id;return H===void 0&&D.push({message:"layers."+H+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+H+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+H+': property "renderingMode" must be either "2d" or "3d"'}),D}var V5=function(R){function D(H){R.call(this,H,{}),this.implementation=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},D.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},D}(Ni),H5={circle:cT,heatmap:pT,hillshade:mT,fill:WT,"fill-extrusion":cA,line:CA,symbol:k5,background:z5,raster:N5};function G5(R){return R.type==="custom"?new V5(R):new H5[R.type](R)}var jx=a.HTMLImageElement,Zx=a.HTMLCanvasElement,Kx=a.HTMLVideoElement,Jx=a.ImageData,X0=a.ImageBitmap,_h=function(D,H,ae,de){this.context=D,this.format=ae,this.texture=D.gl.createTexture(),this.update(H,de)};_h.prototype.update=function(D,H,ae){var de=D.width,Te=D.height,Ce=(!this.size||this.size[0]!==de||this.size[1]!==Te)&&!ae,Qe=this,dt=Qe.context,St=dt.gl;if(this.useMipmap=!!(H&&H.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!H||H.premultiply!==!1)),Ce)this.size=[de,Te],D instanceof jx||D instanceof Zx||D instanceof Kx||D instanceof Jx||X0&&D instanceof X0?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,D):St.texImage2D(St.TEXTURE_2D,0,this.format,de,Te,0,this.format,St.UNSIGNED_BYTE,D.data);else{var Pt=ae||{x:0,y:0},Yt=Pt.x,rr=Pt.y;D instanceof jx||D instanceof Zx||D instanceof Kx||D instanceof Jx||X0&&D instanceof X0?St.texSubImage2D(St.TEXTURE_2D,0,Yt,rr,St.RGBA,St.UNSIGNED_BYTE,D):St.texSubImage2D(St.TEXTURE_2D,0,Yt,rr,de,Te,St.RGBA,St.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},_h.prototype.bind=function(D,H,ae){var de=this,Te=de.context,Ce=Te.gl;Ce.bindTexture(Ce.TEXTURE_2D,this.texture),ae===Ce.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Ce.LINEAR),D!==this.filter&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,D),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,ae||D),this.filter=D),H!==this.wrap&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,H),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,H),this.wrap=H)},_h.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},_h.prototype.destroy=function(){var D=this.context,H=D.gl;H.deleteTexture(this.texture),this.texture=null};var sy=function(D){var H=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){H._triggered=!1,H._callback()})};sy.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},sy.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Tv=function(D,H,ae){this.target=D,this.parent=H,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new sy(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?D:a};Tv.prototype.send=function(D,H,ae,de,Te){var Ce=this;Te===void 0&&(Te=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Qe]=ae);var dt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:D,hasCallback:!!ae,targetMapId:de,mustQueue:Te,sourceMapId:this.mapId,data:Lt(H,dt)},dt),{cancel:function(){ae&&delete Ce.callbacks[Qe],Ce.target.postMessage({id:Qe,type:"<cancel>",targetMapId:de,sourceMapId:Ce.mapId})}}},Tv.prototype.receive=function(D){var H=D.data,ae=H.id;if(ae&&!(H.targetMapId&&this.mapId!==H.targetMapId))if(H.type==="<cancel>"){delete this.tasks[ae];var de=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],de&&de()}else J()||H.mustQueue?(this.tasks[ae]=H,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,H)},Tv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),H=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),H&&this.processTask(D,H)}},Tv.prototype.processTask=function(D,H){var ae=this;if(H.type==="<response>"){var de=this.callbacks[D];delete this.callbacks[D],de&&(H.error?de(At(H.error)):de(null,At(H.data)))}else{var Te=!1,Ce=ue(this.globalScope)?void 0:[],Qe=H.hasCallback?function(rr,qt){Te=!0,delete ae.cancelCallbacks[D],ae.target.postMessage({id:D,type:"<response>",sourceMapId:ae.mapId,error:rr?Lt(rr):null,data:Lt(qt,Ce)},Ce)}:function(rr){Te=!0},dt=null,St=At(H.data);if(this.parent[H.type])dt=this.parent[H.type](H.sourceMapId,St,Qe);else if(this.parent.getWorkerSource){var Pt=H.type.split("."),Yt=this.parent.getWorkerSource(H.sourceMapId,Pt[0],St.source);dt=Yt[Pt[1]](St,Qe)}else Qe(new Error("Could not find function "+H.type));!Te&&dt&&dt.cancel&&(this.cancelCallbacks[D]=dt.cancel)}},Tv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function W5(R,D,H){D=Math.pow(2,H)-D-1;var ae=Qx(R*256,D*256,H),de=Qx((R+1)*256,(D+1)*256,H);return ae[0]+","+ae[1]+","+de[0]+","+de[1]}function Qx(R,D,H){var ae=2*Math.PI*6378137/256/Math.pow(2,H),de=R*ae-2*Math.PI*6378137/2,Te=D*ae-2*Math.PI*6378137/2;return[de,Te]}var fo=function(D,H){D&&(H?this.setSouthWest(D).setNorthEast(H):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};fo.prototype.setNorthEast=function(D){return this._ne=D instanceof Ii?new Ii(D.lng,D.lat):Ii.convert(D),this},fo.prototype.setSouthWest=function(D){return this._sw=D instanceof Ii?new Ii(D.lng,D.lat):Ii.convert(D),this},fo.prototype.extend=function(D){var H=this._sw,ae=this._ne,de,Te;if(D instanceof Ii)de=D,Te=D;else if(D instanceof fo){if(de=D._sw,Te=D._ne,!de||!Te)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ce=D;return this.extend(fo.convert(Ce))}else{var Qe=D;return this.extend(Ii.convert(Qe))}return this}return!H&&!ae?(this._sw=new Ii(de.lng,de.lat),this._ne=new Ii(Te.lng,Te.lat)):(H.lng=Math.min(de.lng,H.lng),H.lat=Math.min(de.lat,H.lat),ae.lng=Math.max(Te.lng,ae.lng),ae.lat=Math.max(Te.lat,ae.lat)),this},fo.prototype.getCenter=function(){return new Ii((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},fo.prototype.getSouthWest=function(){return this._sw},fo.prototype.getNorthEast=function(){return this._ne},fo.prototype.getNorthWest=function(){return new Ii(this.getWest(),this.getNorth())},fo.prototype.getSouthEast=function(){return new Ii(this.getEast(),this.getSouth())},fo.prototype.getWest=function(){return this._sw.lng},fo.prototype.getSouth=function(){return this._sw.lat},fo.prototype.getEast=function(){return this._ne.lng},fo.prototype.getNorth=function(){return this._ne.lat},fo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},fo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},fo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},fo.prototype.contains=function(D){var H=Ii.convert(D),ae=H.lng,de=H.lat,Te=this._sw.lat<=de&&de<=this._ne.lat,Ce=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ce=this._sw.lng>=ae&&ae>=this._ne.lng),Te&&Ce},fo.convert=function(D){return!D||D instanceof fo?D:new fo(D)};var $x=63710088e-1,Ii=function(D,H){if(isNaN(D)||isNaN(H))throw new Error("Invalid LngLat object: ("+D+", "+H+")");if(this.lng=+D,this.lat=+H,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ii.prototype.wrap=function(){return new Ii(T(this.lng,-180,180),this.lat)},Ii.prototype.toArray=function(){return[this.lng,this.lat]},Ii.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ii.prototype.distanceTo=function(D){var H=Math.PI/180,ae=this.lat*H,de=D.lat*H,Te=Math.sin(ae)*Math.sin(de)+Math.cos(ae)*Math.cos(de)*Math.cos((D.lng-this.lng)*H),Ce=$x*Math.acos(Math.min(Te,1));return Ce},Ii.prototype.toBounds=function(D){D===void 0&&(D=0);var H=40075017,ae=360*D/H,de=ae/Math.cos(Math.PI/180*this.lat);return new fo(new Ii(this.lng-de,this.lat-ae),new Ii(this.lng+de,this.lat+ae))},Ii.convert=function(D){if(D instanceof Ii)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ii(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ii(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var qx=2*Math.PI*$x;function e2(R){return qx*Math.cos(R*Math.PI/180)}function t2(R){return(180+R)/360}function r2(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function n2(R,D){return R/e2(D)}function Y5(R){return R*360-180}function ly(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function X5(R,D){return R*e2(ly(D))}function j5(R){return 1/Math.cos(R*Math.PI/180)}var zh=function(D,H,ae){ae===void 0&&(ae=0),this.x=+D,this.y=+H,this.z=+ae};zh.fromLngLat=function(D,H){H===void 0&&(H=0);var ae=Ii.convert(D);return new zh(t2(ae.lng),r2(ae.lat),n2(H,ae.lat))},zh.prototype.toLngLat=function(){return new Ii(Y5(this.x),ly(this.y))},zh.prototype.toAltitude=function(){return X5(this.z,this.y)},zh.prototype.meterInMercatorCoordinateUnits=function(){return 1/qx*j5(ly(this.y))};var Oh=function(D,H,ae){this.z=D,this.x=H,this.y=ae,this.key=Ed(0,D,D,H,ae)};Oh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Oh.prototype.url=function(D,H){var ae=W5(this.x,this.y,this.z),de=Z5(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(H==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ae)},Oh.prototype.getTilePoint=function(D){var H=Math.pow(2,this.z);return new r((D.x*H-this.x)*Sa,(D.y*H-this.y)*Sa)},Oh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var a2=function(D,H){this.wrap=D,this.canonical=H,this.key=Ed(D,H.z,H.z,H.x,H.y)},co=function(D,H,ae,de,Te){this.overscaledZ=D,this.wrap=H,this.canonical=new Oh(ae,+de,+Te),this.key=Ed(H,D,ae,de,Te)};co.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},co.prototype.scaledTo=function(D){var H=this.canonical.z-D;return D>this.canonical.z?new co(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new co(D,this.wrap,D,this.canonical.x>>H,this.canonical.y>>H)},co.prototype.calculateScaledKey=function(D,H){var ae=this.canonical.z-D;return D>this.canonical.z?Ed(this.wrap*+H,D,this.canonical.z,this.canonical.x,this.canonical.y):Ed(this.wrap*+H,D,D,this.canonical.x>>ae,this.canonical.y>>ae)},co.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var H=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>H&&D.canonical.y===this.canonical.y>>H},co.prototype.children=function(D){if(this.overscaledZ>=D)return[new co(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var H=this.canonical.z+1,ae=this.canonical.x*2,de=this.canonical.y*2;return[new co(H,this.wrap,H,ae,de),new co(H,this.wrap,H,ae+1,de),new co(H,this.wrap,H,ae,de+1),new co(H,this.wrap,H,ae+1,de+1)]},co.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},co.prototype.wrapped=function(){return new co(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},co.prototype.unwrapTo=function(D){return new co(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},co.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},co.prototype.toUnwrapped=function(){return new a2(this.wrap,this.canonical)},co.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},co.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new zh(D.x-this.wrap,D.y))};function Ed(R,D,H,ae,de){R*=2,R<0&&(R=R*-1-1);var Te=1<<H;return(Te*Te*R+Te*de+ae).toString(36)+H.toString(36)+D.toString(36)}function Z5(R,D,H){for(var ae="",de,Te=R;Te>0;Te--)de=1<<Te-1,ae+=(D&de?1:0)+(H&de?2:0);return ae}Ue("CanonicalTileID",Oh),Ue("OverscaledTileID",co,{omit:["posMatrix"]});var Wf=function(D,H,ae){if(this.uid=D,H.height!==H.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return B('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=H.height;var de=this.dim=H.height-2;this.data=new Uint32Array(H.data.buffer),this.encoding=ae||"mapbox";for(var Te=0;Te<de;Te++)this.data[this._idx(-1,Te)]=this.data[this._idx(0,Te)],this.data[this._idx(de,Te)]=this.data[this._idx(de-1,Te)],this.data[this._idx(Te,-1)]=this.data[this._idx(Te,0)],this.data[this._idx(Te,de)]=this.data[this._idx(Te,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};Wf.prototype.get=function(D,H){var ae=new Uint8Array(this.data.buffer),de=this._idx(D,H)*4,Te=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Te(ae[de],ae[de+1],ae[de+2])},Wf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Wf.prototype._idx=function(D,H){if(D<-1||D>=this.dim+1||H<-1||H>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(H+1)*this.stride+(D+1)},Wf.prototype._unpackMapbox=function(D,H,ae){return(D*256*256+H*256+ae)/10-1e4},Wf.prototype._unpackTerrarium=function(D,H,ae){return D*256+H+ae/256-32768},Wf.prototype.getPixels=function(){return new Ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Wf.prototype.backfillBorder=function(D,H,ae){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var de=H*this.dim,Te=H*this.dim+this.dim,Ce=ae*this.dim,Qe=ae*this.dim+this.dim;switch(H){case-1:de=Te-1;break;case 1:Te=de+1;break}switch(ae){case-1:Ce=Qe-1;break;case 1:Qe=Ce+1;break}for(var dt=-H*this.dim,St=-ae*this.dim,Pt=Ce;Pt<Qe;Pt++)for(var Yt=de;Yt<Te;Yt++)this.data[this._idx(Yt,Pt)]=D.data[this._idx(Yt+dt,Pt+St)]},Ue("DEMData",Wf);function K5(R,D){var H={};if(!D)return H;for(var ae=function(){var Ce=Te[de],Qe=Ce.layerIds.map(function(Yt){return D.getLayer(Yt)}).filter(Boolean);if(Qe.length!==0){Ce.layers=Qe,Ce.stateDependentLayerIds&&(Ce.stateDependentLayers=Ce.stateDependentLayerIds.map(function(Yt){return Qe.filter(function(rr){return rr.id===Yt})[0]}));for(var dt=0,St=Qe;dt<St.length;dt+=1){var Pt=St[dt];H[Pt.id]=Ce}}},de=0,Te=R;de<Te.length;de+=1)ae();return H}var j0=function(D){this._stringToNumber={},this._numberToString=[];for(var H=0;H<D.length;H++){var ae=D[H];this._stringToNumber[ae]=H,this._numberToString[H]=ae}};j0.prototype.encode=function(D){return this._stringToNumber[D]},j0.prototype.decode=function(D){return this._numberToString[D]};var Z0=function(D,H,ae,de,Te){this.type="Feature",this._vectorTileFeature=D,D._z=H,D._x=ae,D._y=de,this.properties=D.properties,this.id=Te},uy={geometry:{configurable:!0}};uy.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},uy.geometry.set=function(R){this._geometry=R},Z0.prototype.toJSON=function(){var D={geometry:this.geometry};for(var H in this)H==="_geometry"||H==="_vectorTileFeature"||(D[H]=this[H]);return D},Object.defineProperties(Z0.prototype,uy);var Av=function(){this.state={},this.stateChanges={},this.deletedStates={}};Av.prototype.updateState=function(D,H,ae){var de=String(H);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][de]=this.stateChanges[D][de]||{},x(this.stateChanges[D][de],ae),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Te in this.state[D])Te!==de&&(this.deletedStates[D][Te]=null)}else{var Ce=this.deletedStates[D]&&this.deletedStates[D][de]===null;if(Ce){this.deletedStates[D][de]={};for(var Qe in this.state[D][de])ae[Qe]||(this.deletedStates[D][de][Qe]=null)}else for(var dt in ae){var St=this.deletedStates[D]&&this.deletedStates[D][de]&&this.deletedStates[D][de][dt]===null;St&&delete this.deletedStates[D][de][dt]}}},Av.prototype.removeFeatureState=function(D,H,ae){var de=this.deletedStates[D]===null;if(!de){var Te=String(H);if(this.deletedStates[D]=this.deletedStates[D]||{},ae&&H!==void 0)this.deletedStates[D][Te]!==null&&(this.deletedStates[D][Te]=this.deletedStates[D][Te]||{},this.deletedStates[D][Te][ae]=null);else if(H!==void 0){var Ce=this.stateChanges[D]&&this.stateChanges[D][Te];if(Ce){this.deletedStates[D][Te]={};for(ae in this.stateChanges[D][Te])this.deletedStates[D][Te][ae]=null}else this.deletedStates[D][Te]=null}else this.deletedStates[D]=null}},Av.prototype.getState=function(D,H){var ae=String(H),de=this.state[D]||{},Te=this.stateChanges[D]||{},Ce=x({},de[ae],Te[ae]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Qe=this.deletedStates[D][H];if(Qe===null)return{};for(var dt in Qe)delete Ce[dt]}return Ce},Av.prototype.initializeTileState=function(D,H){D.setFeatureState(this.state,H)},Av.prototype.coalesceChanges=function(D,H){var ae={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Te={};for(var Ce in this.stateChanges[de])this.state[de][Ce]||(this.state[de][Ce]={}),x(this.state[de][Ce],this.stateChanges[de][Ce]),Te[Ce]=this.state[de][Ce];ae[de]=Te}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var dt={};if(this.deletedStates[Qe]===null)for(var St in this.state[Qe])dt[St]={},this.state[Qe][St]={};else for(var Pt in this.deletedStates[Qe]){var Yt=this.deletedStates[Qe][Pt]===null;if(Yt)this.state[Qe][Pt]={};else for(var rr=0,qt=Object.keys(this.deletedStates[Qe][Pt]);rr<qt.length;rr+=1){var xr=qt[rr];delete this.state[Qe][Pt][xr]}dt[Pt]=this.state[Qe][Pt]}ae[Qe]=ae[Qe]||{},x(ae[Qe],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Br in D){var fn=D[Br];fn.setFeatureState(ae,H)}};var Yf=function(D,H){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new za(Sa,16,0),this.grid3D=new za(Sa,16,0),this.featureIndexArray=new P0,this.promoteId=H};Yf.prototype.insert=function(D,H,ae,de,Te,Ce){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,de,Te);for(var dt=Ce?this.grid3D:this.grid,St=0;St<H.length;St++){for(var Pt=H[St],Yt=[1/0,1/0,-1/0,-1/0],rr=0;rr<Pt.length;rr++){var qt=Pt[rr];Yt[0]=Math.min(Yt[0],qt.x),Yt[1]=Math.min(Yt[1],qt.y),Yt[2]=Math.max(Yt[2],qt.x),Yt[3]=Math.max(Yt[3],qt.y)}Yt[0]<Sa&&Yt[1]<Sa&&Yt[2]>=0&&Yt[3]>=0&&dt.insert(Qe,Yt[0],Yt[1],Yt[2],Yt[3])}},Yf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new cv.VectorTile(new O0(this.rawTileData)).layers,this.sourceLayerCoder=new j0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Yf.prototype.query=function(D,H,ae,de){var Te=this;this.loadVTLayers();for(var Ce=D.params||{},Qe=Sa/D.tileSize/D.scale,dt=tl(Ce.filter),St=D.queryGeometry,Pt=D.queryPadding*Qe,Yt=o2(St),rr=this.grid.query(Yt.minX-Pt,Yt.minY-Pt,Yt.maxX+Pt,Yt.maxY+Pt),qt=o2(D.cameraQueryGeometry),xr=this.grid3D.query(qt.minX-Pt,qt.minY-Pt,qt.maxX+Pt,qt.maxY+Pt,function(Wn,ra,qn,wa){return tu(D.cameraQueryGeometry,Wn-Pt,ra-Pt,qn+Pt,wa+Pt)}),Br=0,fn=xr;Br<fn.length;Br+=1){var rn=fn[Br];rr.push(rn)}rr.sort(J5);for(var Cn={},gn,En=function(Wn){var ra=rr[Wn];if(ra!==gn){gn=ra;var qn=Te.featureIndexArray.get(ra),wa=null;Te.loadMatchingFeature(Cn,qn.bucketIndex,qn.sourceLayerIndex,qn.featureIndex,dt,Ce.layers,Ce.availableImages,H,ae,de,function(da,ba,Ua){return wa||(wa=ri(da)),ba.queryIntersectsFeature(St,da,Ua,wa,Te.z,D.transform,Qe,D.pixelPosMatrix)})}},kn=0;kn<rr.length;kn++)En(kn);return Cn},Yf.prototype.loadMatchingFeature=function(D,H,ae,de,Te,Ce,Qe,dt,St,Pt,Yt){var rr=this.bucketLayerIDs[H];if(!(Ce&&!_(Ce,rr))){var qt=this.sourceLayerCoder.decode(ae),xr=this.vtLayers[qt],Br=xr.feature(de);if(Te.needGeometry){var fn=Mi(Br,!0);if(!Te.filter(new Aa(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!Te.filter(new Aa(this.tileID.overscaledZ),Br))return;for(var rn=this.getId(Br,qt),Cn=0;Cn<rr.length;Cn++){var gn=rr[Cn];if(!(Ce&&Ce.indexOf(gn)<0)){var En=dt[gn];if(En){var kn={};rn!==void 0&&Pt&&(kn=Pt.getState(En.sourceLayer||"_geojsonTileLayer",rn));var Wn=x({},St[gn]);Wn.paint=i2(Wn.paint,En.paint,Br,kn,Qe),Wn.layout=i2(Wn.layout,En.layout,Br,kn,Qe);var ra=!Yt||Yt(Br,En,kn);if(ra){var qn=new Z0(Br,this.z,this.x,this.y,rn);qn.layer=Wn;var wa=D[gn];wa===void 0&&(wa=D[gn]=[]),wa.push({featureIndex:de,feature:qn,intersectionZ:ra})}}}}}},Yf.prototype.lookupSymbolFeatures=function(D,H,ae,de,Te,Ce,Qe,dt){var St={};this.loadVTLayers();for(var Pt=tl(Te),Yt=0,rr=D;Yt<rr.length;Yt+=1){var qt=rr[Yt];this.loadMatchingFeature(St,ae,de,qt,Pt,Ce,Qe,dt,H)}return St},Yf.prototype.hasLayer=function(D){for(var H=0,ae=this.bucketLayerIDs;H<ae.length;H+=1)for(var de=ae[H],Te=0,Ce=de;Te<Ce.length;Te+=1){var Qe=Ce[Te];if(D===Qe)return!0}return!1},Yf.prototype.getId=function(D,H){var ae=D.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[H];ae=D.properties[de],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Ue("FeatureIndex",Yf,{omit:["rawTileData","sourceLayerCoder"]});function i2(R,D,H,ae,de){return F(R,function(Te,Ce){var Qe=D instanceof mo?D.get(Ce):null;return Qe&&Qe.evaluate?Qe.evaluate(H,ae,de):Qe})}function o2(R){for(var D=1/0,H=1/0,ae=-1/0,de=-1/0,Te=0,Ce=R;Te<Ce.length;Te+=1){var Qe=Ce[Te];D=Math.min(D,Qe.x),H=Math.min(H,Qe.y),ae=Math.max(ae,Qe.x),de=Math.max(de,Qe.y)}return{minX:D,minY:H,maxX:ae,maxY:de}}function J5(R,D){return D-R}var Q5=3e4,Mo=function(D,H){this.tileID=D,this.uid=y(),this.uses=0,this.tileSize=H,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Mo.prototype.registerFadeDuration=function(D){var H=D+this.timeAdded;H<se.now()||this.fadeEndTime&&H<this.fadeEndTime||(this.fadeEndTime=H)},Mo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Mo.prototype.loadVectorData=function(D,H,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new fd;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=K5(D.buckets,H.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Te=this.buckets[de];if(Te instanceof bi)if(this.hasSymbolBuckets=!0,ae)Te.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ce in this.buckets){var Qe=this.buckets[Ce];if(Qe instanceof bi&&Qe.hasRTLText){this.hasRTLText=!0,Va();break}}this.queryPadding=0;for(var dt in this.buckets){var St=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,H.style.getLayer(dt).queryRadius(St))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Mo.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Mo.prototype.getBucket=function(D){return this.buckets[D.id]},Mo.prototype.upload=function(D){for(var H in this.buckets){var ae=this.buckets[H];ae.uploadPending()&&ae.upload(D)}var de=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _h(D,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _h(D,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},Mo.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Mo.prototype.queryRenderedFeatures=function(D,H,ae,de,Te,Ce,Qe,dt,St,Pt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Te,scale:Ce,tileSize:this.tileSize,pixelPosMatrix:Pt,transform:dt,params:Qe,queryPadding:this.queryPadding*St},D,H,ae)},Mo.prototype.querySourceFeatures=function(D,H){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var de=ae.loadVTLayers(),Te=H?H.sourceLayer:"",Ce=de._geojsonTileLayer||de[Te];if(Ce)for(var Qe=tl(H&&H.filter),dt=this.tileID.canonical,St=dt.z,Pt=dt.x,Yt=dt.y,rr={z:St,x:Pt,y:Yt},qt=0;qt<Ce.length;qt++){var xr=Ce.feature(qt);if(Qe.needGeometry){var Br=Mi(xr,!0);if(!Qe.filter(new Aa(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!Qe.filter(new Aa(this.tileID.overscaledZ),xr))continue;var fn=ae.getId(xr,Te),rn=new Z0(xr,St,Pt,Yt,fn);rn.tile=rr,D.push(rn)}}},Mo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Mo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Mo.prototype.setExpiryData=function(D){var H=this.expirationTime;if(D.cacheControl){var ae=re(D.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var de=Date.now(),Te=!1;if(this.expirationTime>de)Te=!1;else if(!H)Te=!0;else if(this.expirationTime<H)Te=!0;else{var Ce=this.expirationTime-H;Ce?this.expirationTime=de+Math.max(Ce,Q5):Te=!0}Te?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Mo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Mo.prototype.setFeatureState=function(D,H){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(H.style.hasLayer(de)){var Te=this.buckets[de],Ce=Te.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ae[Ce],dt=D[Ce];if(!(!Qe||!dt||Object.keys(dt).length===0)){Te.update(dt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=H&&H.style&&H.style.getLayer(de);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Te)))}}}},Mo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Mo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Mo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Mo.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},Mo.prototype.setDependencies=function(D,H){for(var ae={},de=0,Te=H;de<Te.length;de+=1){var Ce=Te[de];ae[Ce]=!0}this.dependencies[D]=ae},Mo.prototype.hasDependency=function(D,H){for(var ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae],Ce=this.dependencies[Te];if(Ce)for(var Qe=0,dt=H;Qe<dt.length;Qe+=1){var St=dt[Qe];if(Ce[St])return!0}}return!1};var $5=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Oc=a.performance,s2=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Oc.mark(this._marks.start)};s2.prototype.finish=function(){Oc.mark(this._marks.end);var D=Oc.getEntriesByName(this._marks.measure);return D.length===0&&(Oc.measure(this._marks.measure,this._marks.start,this._marks.end),D=Oc.getEntriesByName(this._marks.measure),Oc.clearMarks(this._marks.start),Oc.clearMarks(this._marks.end),Oc.clearMeasures(this._marks.measure)),D},i.Actor=Tv,i.AlphaImage=Fh,i.CanonicalTileID=Oh,i.CollisionBoxArray=fd,i.Color=ti,i.DEMData=Wf,i.DataConstantProperty=oa,i.DictionaryCoder=j0,i.EXTENT=Sa,i.ErrorEvent=Ot,i.EvaluationParameters=Aa,i.Event=er,i.Evented=nr,i.FeatureIndex=Yf,i.FillBucket=Fu,i.FillExtrusionBucket=_u,i.ImageAtlas=Td,i.ImagePosition=N0,i.LineBucket=us,i.LngLat=Ii,i.LngLatBounds=fo,i.MercatorCoordinate=zh,i.ONE_EM=_o,i.OverscaledTileID=co,i.Point=r,i.Point$1=r,i.Properties=vi,i.Protobuf=O0,i.RGBAImage=Ms,i.RequestManager=Me,i.RequestPerformance=s2,i.ResourceType=yr,i.SegmentVector=lo,i.SourceFeatureState=Av,i.StructArrayLayout1ui2=Pc,i.StructArrayLayout2f1f2i16=Du,i.StructArrayLayout2i4=Nf,i.StructArrayLayout3ui6=Iu,i.StructArrayLayout4i8=od,i.SymbolBucket=bi,i.Texture=_h,i.Tile=Mo,i.Transitionable=si,i.Uniform1f=jr,i.Uniform1i=kr,i.Uniform2f=Xr,i.Uniform3f=Gr,i.Uniform4f=$r,i.UniformColor=hn,i.UniformMatrix4f=On,i.UnwrappedTileID=a2,i.ValidationError=Or,i.WritingMode=al,i.ZoomHistory=Vt,i.add=lv,i.addDynamicAttributes=iy,i.asyncAll=c,i.bezier=u,i.bindAll=E,i.browser=se,i.cacheEntryPossiblyAdded=Dt,i.clamp=h,i.clearTileCache=gr,i.clipLine=Vx,i.clone=iv,i.clone$1=N,i.clone$2=Ng,i.collisionCircleLayout=IA,i.config=q,i.create=av,i.create$1=jo,i.create$2=nv,i.createCommonjsModule=L,i.createExpression=qs,i.createLayout=Ri,i.createStyleLayer=G5,i.cross=rT,i.deepEqual=n,i.dot=tT,i.dot$1=sT,i.ease=g,i.emitValidationErrors=Da,i.endsWith=b,i.enforceCacheSizeLimit=Xt,i.evaluateSizeForFeature=Fx,i.evaluateSizeForZoom=_x,i.evaluateVariableOffset=Wx,i.evented=Ma,i.extend=x,i.featureFilter=tl,i.filterObject=I,i.fromRotation=Ic,i.getAnchorAlignment=ty,i.getAnchorJustification=ay,i.getArrayBuffer=Bt,i.getImage=kt,i.getJSON=Ht,i.getRTLTextPluginStatus=Fa,i.getReferrer=mt,i.getVideo=Kt,i.identity=ov,i.invert=kc,i.isChar=Wt,i.isMapboxURL=Fe,i.keysDifference=d,i.makeRequest=Rt,i.mapObject=F,i.mercatorXfromLng=t2,i.mercatorYfromLat=r2,i.mercatorZfromAltitude=n2,i.mul=Bg,i.multiply=Fc,i.mvt=cv,i.nextPowerOfTwo=A,i.normalize=vd,i.number=Di,i.offscreenCanvasSupported=Qt,i.ortho=Og,i.parseGlyphPBF=i5,i.pbf=O0,i.performSymbolLayout=A5,i.perspective=hd,i.pick=w,i.plugin=Qn,i.polygonIntersectsPolygon=Ga,i.postMapLoadEvent=We,i.postTurnstileEvent=Ge,i.potpack=Ex,i.refProperties=$5,i.register=Ue,i.registerForPluginStateChange=oi,i.renderColorRamp=ax,i.rotate=Ih,i.rotateX=Ss,i.rotateZ=sv,i.scale=As,i.scale$1=oT,i.scale$2=Vg,i.setCacheLimits=gt,i.setRTLTextPlugin=Bi,i.sphericalToCartesian=Z,i.sqrLen=fT,i.styleSpec=Sr,i.sub=aT,i.symbolSize=d5,i.transformMat3=nT,i.transformMat4=D0,i.translate=Xi,i.triggerPluginCompletionEvent=ua,i.uniqueId=y,i.validateCustomStyleLayer=U5,i.validateLight=Zn,i.validateStyle=Dn,i.values=o,i.vectorTile=cv,i.version=S,i.warnOnce=B,i.webpSupported=ce,i.window=a,i.wrap=T}),P(["./shared"],function(i){function L(mt){var ut=typeof mt;if(ut==="number"||ut==="boolean"||ut==="string"||mt===void 0||mt===null)return JSON.stringify(mt);if(Array.isArray(mt)){for(var bt="[",Et=0,Rt=mt;Et<Rt.length;Et+=1){var Ht=Rt[Et];bt+=L(Ht)+","}return bt+"]"}for(var Bt=Object.keys(mt).sort(),Nt="{",Jt=0;Jt<Bt.length;Jt++)Nt+=JSON.stringify(Bt[Jt])+":"+L(mt[Bt[Jt]])+",";return Nt+"}"}function S(mt){for(var ut="",bt=0,Et=i.refProperties;bt<Et.length;bt+=1){var Rt=Et[bt];ut+="/"+L(mt[Rt])}return ut}function v(mt,ut){for(var bt={},Et=0;Et<mt.length;Et++){var Rt=ut&&ut[mt[Et].id]||S(mt[Et]);ut&&(ut[mt[Et].id]=Rt);var Ht=bt[Rt];Ht||(Ht=bt[Rt]=[]),Ht.push(mt[Et])}var Bt=[];for(var Nt in bt)Bt.push(bt[Nt]);return Bt}var p=function(ut){this.keyCache={},ut&&this.replace(ut)};p.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},p.prototype.update=function(ut,bt){for(var Et=this,Rt=0,Ht=ut;Rt<Ht.length;Rt+=1){var Bt=Ht[Rt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=i.createStyleLayer(Bt);Nt._featureFilter=i.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Jt=0,hr=bt;Jt<hr.length;Jt+=1){var fr=hr[Jt];delete this.keyCache[fr],delete this._layerConfigs[fr],delete this._layers[fr]}this.familiesBySource={};for(var dr=v(i.values(this._layerConfigs),this.keyCache),Ye=0,Ve=dr;Ye<Ve.length;Ye+=1){var _t=Ve[Ye],kt=_t.map(function(nr){return Et._layers[nr.id]}),Kt=kt[0];if(Kt.visibility!=="none"){var sr=Kt.source||"",cr=this.familiesBySource[sr];cr||(cr=this.familiesBySource[sr]={});var er=Kt.sourceLayer||"_geojsonTileLayer",Ot=cr[er];Ot||(Ot=cr[er]=[]),Ot.push(kt)}}};var r=1,t=function(ut){var bt={},Et=[];for(var Rt in ut){var Ht=ut[Rt],Bt=bt[Rt]={};for(var Nt in Ht){var Jt=Ht[+Nt];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),Bt[Nt]={rect:hr,metrics:Jt.metrics}}}}var fr=i.potpack(Et),dr=fr.w,Ye=fr.h,Ve=new i.AlphaImage({width:dr||1,height:Ye||1});for(var _t in ut){var kt=ut[_t];for(var Kt in kt){var sr=kt[+Kt];if(!(!sr||sr.bitmap.width===0||sr.bitmap.height===0)){var cr=bt[_t][Kt].rect;i.AlphaImage.copy(sr.bitmap,Ve,{x:0,y:0},{x:cr.x+r,y:cr.y+r},sr.bitmap)}}}this.image=Ve,this.positions=bt};i.register("GlyphAtlas",t);var a=function(ut){this.tileID=new i.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};a.prototype.parse=function(ut,bt,Et,Rt,Ht){var Bt=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new i.CollisionBoxArray;var Nt=new i.DictionaryCoder(Object.keys(ut.layers).sort()),Jt=new i.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},fr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},dr=bt.familiesBySource[this.source];for(var Ye in dr){var Ve=ut.layers[Ye];if(Ve){Ve.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _t=Nt.encode(Ye),kt=[],Kt=0;Kt<Ve.length;Kt++){var sr=Ve.feature(Kt),cr=Jt.getId(sr,Ye);kt.push({feature:sr,id:cr,index:Kt,sourceLayerIndex:_t})}for(var er=0,Ot=dr[Ye];er<Ot.length;er+=1){var nr=Ot[er],vr=nr[0];if(!(vr.minzoom&&this.zoom<Math.floor(vr.minzoom))&&!(vr.maxzoom&&this.zoom>=vr.maxzoom)&&vr.visibility!=="none"){n(nr,this.zoom,Et);var wr=hr[vr.id]=vr.createBucket({index:Jt.bucketLayerIDs.length,layers:nr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_t,sourceID:this.source});wr.populate(kt,fr,this.tileID.canonical),Jt.bucketLayerIDs.push(nr.map(function(Tr){return Tr.id}))}}}}var ur,Vr,Pr,Dr,ln=i.mapObject(fr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(ln).length?Rt.send("getGlyphs",{uid:this.uid,stacks:ln},function(Tr,Fr){ur||(ur=Tr,Vr=Fr,An.call(Bt))}):Vr={};var Wr=Object.keys(fr.iconDependencies);Wr.length?Rt.send("getImages",{icons:Wr,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,Fr){ur||(ur=Tr,Pr=Fr,An.call(Bt))}):Pr={};var Tn=Object.keys(fr.patternDependencies);Tn.length?Rt.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,Fr){ur||(ur=Tr,Dr=Fr,An.call(Bt))}):Dr={},An.call(this);function An(){if(ur)return Ht(ur);if(Vr&&Pr&&Dr){var Tr=new t(Vr),Fr=new i.ImageAtlas(Pr,Dr);for(var Yr in hr){var _r=hr[Yr];_r instanceof i.SymbolBucket?(n(_r.layers,this.zoom,Et),i.performSymbolLayout(_r,Vr,Tr.positions,Pr,Fr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):_r.hasPattern&&(_r instanceof i.LineBucket||_r instanceof i.FillBucket||_r instanceof i.FillExtrusionBucket)&&(n(_r.layers,this.zoom,Et),_r.addFeatures(fr,this.tileID.canonical,Fr.patternPositions))}this.status="done",Ht(null,{buckets:i.values(hr).filter(function(on){return!on.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Fr,glyphMap:this.returnDependencies?Vr:null,iconMap:this.returnDependencies?Pr:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(mt,ut,bt){for(var Et=new i.EvaluationParameters(ut),Rt=0,Ht=mt;Rt<Ht.length;Rt+=1){var Bt=Ht[Rt];Bt.recalculate(Et,bt)}}function f(mt,ut){var bt=i.getArrayBuffer(mt.request,function(Et,Rt,Ht,Bt){Et?ut(Et):Rt&&ut(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Rt)),rawData:Rt,cacheControl:Ht,expires:Bt})});return function(){bt.cancel(),ut()}}var l=function(ut,bt,Et,Rt){this.actor=ut,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=Rt||f,this.loading={},this.loaded={}};l.prototype.loadTile=function(ut,bt){var Et=this,Rt=ut.uid;this.loading||(this.loading={});var Ht=ut&&ut.request&&ut.request.collectResourceTiming?new i.RequestPerformance(ut.request):!1,Bt=this.loading[Rt]=new a(ut);Bt.abort=this.loadVectorData(ut,function(Nt,Jt){if(delete Et.loading[Rt],Nt||!Jt)return Bt.status="done",Et.loaded[Rt]=Bt,bt(Nt);var hr=Jt.rawData,fr={};Jt.expires&&(fr.expires=Jt.expires),Jt.cacheControl&&(fr.cacheControl=Jt.cacheControl);var dr={};if(Ht){var Ye=Ht.finish();Ye&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Bt.vectorTile=Jt.vectorTile,Bt.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Ve,_t){if(Ve||!_t)return bt(Ve);bt(null,i.extend({rawTileData:hr.slice(0)},_t,fr,dr))}),Et.loaded=Et.loaded||{},Et.loaded[Rt]=Bt})},l.prototype.reloadTile=function(ut,bt){var Et=this,Rt=this.loaded,Ht=ut.uid,Bt=this;if(Rt&&Rt[Ht]){var Nt=Rt[Ht];Nt.showCollisionBoxes=ut.showCollisionBoxes;var Jt=function(hr,fr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,Et.availableImages,Bt.actor,dr)),bt(hr,fr)};Nt.status==="parsing"?Nt.reloadCallback=Jt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},l.prototype.abortTile=function(ut,bt){var Et=this.loading,Rt=ut.uid;Et&&Et[Rt]&&Et[Rt].abort&&(Et[Rt].abort(),delete Et[Rt]),bt()},l.prototype.removeTile=function(ut,bt){var Et=this.loaded,Rt=ut.uid;Et&&Et[Rt]&&delete Et[Rt],bt()};var u=i.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(ut,bt){var Et=ut.uid,Rt=ut.encoding,Ht=ut.rawImageData,Bt=u&&Ht instanceof u?this.getImageData(Ht):Ht,Nt=new i.DEMData(Et,Bt,Rt);this.loaded=this.loaded||{},this.loaded[Et]=Nt,bt(null,Nt)},g.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:bt.width,height:bt.height},bt.data)},g.prototype.removeTile=function(ut){var bt=this.loaded,Et=ut.uid;bt&&bt[Et]&&delete bt[Et]};var h=T;function T(mt,ut){var bt=mt&&mt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<mt.features.length;Et++)T(mt.features[Et],ut);else if(bt==="GeometryCollection")for(Et=0;Et<mt.geometries.length;Et++)T(mt.geometries[Et],ut);else if(bt==="Feature")T(mt.geometry,ut);else if(bt==="Polygon")c(mt.coordinates,ut);else if(bt==="MultiPolygon")for(Et=0;Et<mt.coordinates.length;Et++)c(mt.coordinates[Et],ut);return mt}function c(mt,ut){if(mt.length!==0){o(mt[0],ut);for(var bt=1;bt<mt.length;bt++)o(mt[bt],!ut)}}function o(mt,ut){for(var bt=0,Et=0,Rt=mt.length,Ht=Rt-1;Et<Rt;Ht=Et++)bt+=(mt[Et][0]-mt[Ht][0])*(mt[Ht][1]+mt[Et][1]);bt>=0!=!!ut&&mt.reverse()}var d=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(ut){this._feature=ut,this.extent=i.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var Rt=Et[bt];ut.push([new i.Point$1(Rt[0],Rt[1])])}return ut}else{for(var Ht=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var Jt=Nt[Bt],hr=[],fr=0,dr=Jt;fr<dr.length;fr+=1){var Ye=dr[fr];hr.push(new i.Point$1(Ye[0],Ye[1]))}Ht.push(hr)}return Ht}},x.prototype.toGeoJSON=function(ut,bt,Et){return d.call(this,ut,bt,Et)};var w=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=ut.length,this._features=ut};w.prototype.feature=function(ut){return new x(this._features[ut])};var C=i.vectorTile.VectorTileFeature,y=M;function M(mt,ut){this.options=ut||{},this.features=mt,this.length=mt.length}M.prototype.feature=function(mt){return new A(this.features[mt],this.options.extent)};function A(mt,ut){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=ut||4096}A.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var ut=0;ut<mt.length;ut++){for(var bt=mt[ut],Et=[],Rt=0;Rt<bt.length;Rt++)Et.push(new i.Point$1(bt[Rt][0],bt[Rt][1]));this.geometry.push(Et)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,ut=1/0,bt=-1/0,Et=1/0,Rt=-1/0,Ht=0;Ht<mt.length;Ht++)for(var Bt=mt[Ht],Nt=0;Nt<Bt.length;Nt++){var Jt=Bt[Nt];ut=Math.min(ut,Jt.x),bt=Math.max(bt,Jt.x),Et=Math.min(Et,Jt.y),Rt=Math.max(Rt,Jt.y)}return[ut,Et,bt,Rt]},A.prototype.toGeoJSON=C.prototype.toGeoJSON;var s=I,E=I,b=N,F=y;function I(mt){var ut=new i.pbf;return _(mt,ut),ut.finish()}function N(mt,ut){ut=ut||{};var bt={};for(var Et in mt)bt[Et]=new y(mt[Et].features,ut),bt[Et].name=Et,bt[Et].version=ut.version,bt[Et].extent=ut.extent;return I({layers:bt})}function _(mt,ut){for(var bt in mt.layers)ut.writeMessage(3,O,mt.layers[bt])}function O(mt,ut){ut.writeVarintField(15,mt.version||1),ut.writeStringField(1,mt.name||""),ut.writeVarintField(5,mt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<mt.length;bt++)Et.feature=mt.feature(bt),ut.writeMessage(2,B,Et);var Rt=Et.keys;for(bt=0;bt<Rt.length;bt++)ut.writeStringField(3,Rt[bt]);var Ht=Et.values;for(bt=0;bt<Ht.length;bt++)ut.writeMessage(4,re,Ht[bt])}function B(mt,ut){var bt=mt.feature;bt.id!==void 0&&ut.writeVarintField(1,bt.id),ut.writeMessage(2,z,mt),ut.writeVarintField(3,bt.type),ut.writeMessage(4,J,bt)}function z(mt,ut){var bt=mt.feature,Et=mt.keys,Rt=mt.values,Ht=mt.keycache,Bt=mt.valuecache;for(var Nt in bt.properties){var Jt=Ht[Nt];typeof Jt>"u"&&(Et.push(Nt),Jt=Et.length-1,Ht[Nt]=Jt),ut.writeVarint(Jt);var hr=bt.properties[Nt],fr=typeof hr;fr!=="string"&&fr!=="boolean"&&fr!=="number"&&(hr=JSON.stringify(hr));var dr=fr+":"+hr,Ye=Bt[dr];typeof Ye>"u"&&(Rt.push(hr),Ye=Rt.length-1,Bt[dr]=Ye),ut.writeVarint(Ye)}}function U(mt,ut){return(ut<<3)+(mt&7)}function Z(mt){return mt<<1^mt>>31}function J(mt,ut){for(var bt=mt.loadGeometry(),Et=mt.type,Rt=0,Ht=0,Bt=bt.length,Nt=0;Nt<Bt;Nt++){var Jt=bt[Nt],hr=1;Et===1&&(hr=Jt.length),ut.writeVarint(U(1,hr));for(var fr=Et===3?Jt.length-1:Jt.length,dr=0;dr<fr;dr++){dr===1&&Et!==1&&ut.writeVarint(U(2,fr-1));var Ye=Jt[dr].x-Rt,Ve=Jt[dr].y-Ht;ut.writeVarint(Z(Ye)),ut.writeVarint(Z(Ve)),Rt+=Ye,Ht+=Ve}Et===3&&ut.writeVarint(U(7,1))}}function re(mt,ut){var bt=typeof mt;bt==="string"?ut.writeStringField(1,mt):bt==="boolean"?ut.writeBooleanField(7,mt):bt==="number"&&(mt%1!==0?ut.writeDoubleField(3,mt):mt<0?ut.writeSVarintField(6,mt):ut.writeVarintField(5,mt))}s.fromVectorTileJs=E,s.fromGeojsonVt=b,s.GeoJSONWrapper=F;function ne(mt,ut,bt,Et,Rt,Ht){if(!(Rt-Et<=bt)){var Bt=Et+Rt>>1;ue(mt,ut,Bt,Et,Rt,Ht%2),ne(mt,ut,bt,Et,Bt-1,Ht+1),ne(mt,ut,bt,Bt+1,Rt,Ht+1)}}function ue(mt,ut,bt,Et,Rt,Ht){for(;Rt>Et;){if(Rt-Et>600){var Bt=Rt-Et+1,Nt=bt-Et+1,Jt=Math.log(Bt),hr=.5*Math.exp(2*Jt/3),fr=.5*Math.sqrt(Jt*hr*(Bt-hr)/Bt)*(Nt-Bt/2<0?-1:1),dr=Math.max(Et,Math.floor(bt-Nt*hr/Bt+fr)),Ye=Math.min(Rt,Math.floor(bt+(Bt-Nt)*hr/Bt+fr));ue(mt,ut,bt,dr,Ye,Ht)}var Ve=ut[2*bt+Ht],_t=Et,kt=Rt;for(te(mt,ut,Et,bt),ut[2*Rt+Ht]>Ve&&te(mt,ut,Et,Rt);_t<kt;){for(te(mt,ut,_t,kt),_t++,kt--;ut[2*_t+Ht]<Ve;)_t++;for(;ut[2*kt+Ht]>Ve;)kt--}ut[2*Et+Ht]===Ve?te(mt,ut,Et,kt):(kt++,te(mt,ut,kt,Rt)),kt<=bt&&(Et=kt+1),bt<=kt&&(Rt=kt-1)}}function te(mt,ut,bt,Et){Q(mt,bt,Et),Q(ut,2*bt,2*Et),Q(ut,2*bt+1,2*Et+1)}function Q(mt,ut,bt){var Et=mt[ut];mt[ut]=mt[bt],mt[bt]=Et}function ie(mt,ut,bt,Et,Rt,Ht,Bt){for(var Nt=[0,mt.length-1,0],Jt=[],hr,fr;Nt.length;){var dr=Nt.pop(),Ye=Nt.pop(),Ve=Nt.pop();if(Ye-Ve<=Bt){for(var _t=Ve;_t<=Ye;_t++)hr=ut[2*_t],fr=ut[2*_t+1],hr>=bt&&hr<=Rt&&fr>=Et&&fr<=Ht&&Jt.push(mt[_t]);continue}var kt=Math.floor((Ve+Ye)/2);hr=ut[2*kt],fr=ut[2*kt+1],hr>=bt&&hr<=Rt&&fr>=Et&&fr<=Ht&&Jt.push(mt[kt]);var Kt=(dr+1)%2;(dr===0?bt<=hr:Et<=fr)&&(Nt.push(Ve),Nt.push(kt-1),Nt.push(Kt)),(dr===0?Rt>=hr:Ht>=fr)&&(Nt.push(kt+1),Nt.push(Ye),Nt.push(Kt))}return Jt}function Y(mt,ut,bt,Et,Rt,Ht){for(var Bt=[0,mt.length-1,0],Nt=[],Jt=Rt*Rt;Bt.length;){var hr=Bt.pop(),fr=Bt.pop(),dr=Bt.pop();if(fr-dr<=Ht){for(var Ye=dr;Ye<=fr;Ye++)$(ut[2*Ye],ut[2*Ye+1],bt,Et)<=Jt&&Nt.push(mt[Ye]);continue}var Ve=Math.floor((dr+fr)/2),_t=ut[2*Ve],kt=ut[2*Ve+1];$(_t,kt,bt,Et)<=Jt&&Nt.push(mt[Ve]);var Kt=(hr+1)%2;(hr===0?bt-Rt<=_t:Et-Rt<=kt)&&(Bt.push(dr),Bt.push(Ve-1),Bt.push(Kt)),(hr===0?bt+Rt>=_t:Et+Rt>=kt)&&(Bt.push(Ve+1),Bt.push(fr),Bt.push(Kt))}return Nt}function $(mt,ut,bt,Et){var Rt=mt-bt,Ht=ut-Et;return Rt*Rt+Ht*Ht}var oe=function(mt){return mt[0]},j=function(mt){return mt[1]},X=function(ut,bt,Et,Rt,Ht){bt===void 0&&(bt=oe),Et===void 0&&(Et=j),Rt===void 0&&(Rt=64),Ht===void 0&&(Ht=Float64Array),this.nodeSize=Rt,this.points=ut;for(var Bt=ut.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(ut.length),Jt=this.coords=new Ht(ut.length*2),hr=0;hr<ut.length;hr++)Nt[hr]=hr,Jt[2*hr]=bt(ut[hr]),Jt[2*hr+1]=Et(ut[hr]);ne(Nt,Jt,Rt,0,Nt.length-1,0)};X.prototype.range=function(ut,bt,Et,Rt){return ie(this.ids,this.coords,ut,bt,Et,Rt,this.nodeSize)},X.prototype.within=function(ut,bt,Et){return Y(this.ids,this.coords,ut,bt,Et,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(mt){return mt}},q=function(ut){this.options=Ie(Object.create(se),ut),this.trees=new Array(this.options.maxZoom+1)};q.prototype.load=function(ut){var bt=this.options,Et=bt.log,Rt=bt.minZoom,Ht=bt.maxZoom,Bt=bt.nodeSize;Et&&console.time("total time");var Nt="prepare "+ut.length+" points";Et&&console.time(Nt),this.points=ut;for(var Jt=[],hr=0;hr<ut.length;hr++)ut[hr].geometry&&Jt.push(ye(ut[hr],hr));this.trees[Ht+1]=new X(Jt,Me,Fe,Bt,Float32Array),Et&&console.timeEnd(Nt);for(var fr=Ht;fr>=Rt;fr--){var dr=+Date.now();Jt=this._cluster(Jt,fr),this.trees[fr]=new X(Jt,Me,Fe,Bt,Float32Array),Et&&console.log("z%d: %d clusters in %dms",fr,Jt.length,+Date.now()-dr)}return Et&&console.timeEnd("total time"),this},q.prototype.getClusters=function(ut,bt){var Et=((ut[0]+180)%360+360)%360-180,Rt=Math.max(-90,Math.min(90,ut[1])),Ht=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)Et=-180,Ht=180;else if(Et>Ht){var Nt=this.getClusters([Et,Rt,180,Bt],bt),Jt=this.getClusters([-180,Rt,Ht,Bt],bt);return Nt.concat(Jt)}for(var hr=this.trees[this._limitZoom(bt)],fr=hr.range(De(Et),ke(Bt),De(Ht),ke(Rt)),dr=[],Ye=0,Ve=fr;Ye<Ve.length;Ye+=1){var _t=Ve[Ye],kt=hr.points[_t];dr.push(kt.numPoints?we(kt):this.points[kt.index])}return dr},q.prototype.getChildren=function(ut){var bt=this._getOriginId(ut),Et=this._getOriginZoom(ut),Rt="No cluster with the specified id.",Ht=this.trees[Et];if(!Ht)throw new Error(Rt);var Bt=Ht.points[bt];if(!Bt)throw new Error(Rt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Ht.within(Bt.x,Bt.y,Nt),hr=[],fr=0,dr=Jt;fr<dr.length;fr+=1){var Ye=dr[fr],Ve=Ht.points[Ye];Ve.parentId===ut&&hr.push(Ve.numPoints?we(Ve):this.points[Ve.index])}if(hr.length===0)throw new Error(Rt);return hr},q.prototype.getLeaves=function(ut,bt,Et){bt=bt||10,Et=Et||0;var Rt=[];return this._appendLeaves(Rt,ut,bt,Et,0),Rt},q.prototype.getTile=function(ut,bt,Et){var Rt=this.trees[this._limitZoom(ut)],Ht=Math.pow(2,ut),Bt=this.options,Nt=Bt.extent,Jt=Bt.radius,hr=Jt/Nt,fr=(Et-hr)/Ht,dr=(Et+1+hr)/Ht,Ye={features:[]};return this._addTileFeatures(Rt.range((bt-hr)/Ht,fr,(bt+1+hr)/Ht,dr),Rt.points,bt,Et,Ht,Ye),bt===0&&this._addTileFeatures(Rt.range(1-hr/Ht,fr,1,dr),Rt.points,Ht,Et,Ht,Ye),bt===Ht-1&&this._addTileFeatures(Rt.range(0,fr,hr/Ht,dr),Rt.points,-1,Et,Ht,Ye),Ye.features.length?Ye:null},q.prototype.getClusterExpansionZoom=function(ut){for(var bt=this._getOriginZoom(ut)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(ut);if(bt++,Et.length!==1)break;ut=Et[0].properties.cluster_id}return bt},q.prototype._appendLeaves=function(ut,bt,Et,Rt,Ht){for(var Bt=this.getChildren(bt),Nt=0,Jt=Bt;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],fr=hr.properties;if(fr&&fr.cluster?Ht+fr.point_count<=Rt?Ht+=fr.point_count:Ht=this._appendLeaves(ut,fr.cluster_id,Et,Rt,Ht):Ht<Rt?Ht++:ut.push(hr),ut.length===Et)break}return Ht},q.prototype._addTileFeatures=function(ut,bt,Et,Rt,Ht,Bt){for(var Nt=0,Jt=ut;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],fr=bt[hr],dr=fr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(fr.x*Ht-Et)),Math.round(this.options.extent*(fr.y*Ht-Rt))]],tags:dr?be(fr):this.points[fr.index].properties},Ve=void 0;dr?Ve=fr.id:this.options.generateId?Ve=fr.index:this.points[fr.index].id&&(Ve=this.points[fr.index].id),Ve!==void 0&&(Ye.id=Ve),Bt.features.push(Ye)}},q.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(+ut,this.options.maxZoom+1))},q.prototype._cluster=function(ut,bt){for(var Et=[],Rt=this.options,Ht=Rt.radius,Bt=Rt.extent,Nt=Rt.reduce,Jt=Rt.minPoints,hr=Ht/(Bt*Math.pow(2,bt)),fr=0;fr<ut.length;fr++){var dr=ut[fr];if(!(dr.zoom<=bt)){dr.zoom=bt;for(var Ye=this.trees[bt+1],Ve=Ye.within(dr.x,dr.y,hr),_t=dr.numPoints||1,kt=_t,Kt=0,sr=Ve;Kt<sr.length;Kt+=1){var cr=sr[Kt],er=Ye.points[cr];er.zoom>bt&&(kt+=er.numPoints||1)}if(kt>=Jt){for(var Ot=dr.x*_t,nr=dr.y*_t,vr=Nt&&_t>1?this._map(dr,!0):null,wr=(fr<<5)+(bt+1)+this.points.length,ur=0,Vr=Ve;ur<Vr.length;ur+=1){var Pr=Vr[ur],Dr=Ye.points[Pr];if(!(Dr.zoom<=bt)){Dr.zoom=bt;var ln=Dr.numPoints||1;Ot+=Dr.x*ln,nr+=Dr.y*ln,Dr.parentId=wr,Nt&&(vr||(vr=this._map(dr,!0)),Nt(vr,this._map(Dr)))}}dr.parentId=wr,Et.push(ce(Ot/kt,nr/kt,wr,kt,vr))}else if(Et.push(dr),kt>1)for(var Wr=0,Tn=Ve;Wr<Tn.length;Wr+=1){var An=Tn[Wr],Tr=Ye.points[An];Tr.zoom<=bt||(Tr.zoom=bt,Et.push(Tr))}}}return Et},q.prototype._getOriginId=function(ut){return ut-this.points.length>>5},q.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},q.prototype._map=function(ut,bt){if(ut.numPoints)return bt?Ie({},ut.properties):ut.properties;var Et=this.points[ut.index].properties,Rt=this.options.map(Et);return bt&&Rt===Et?Ie({},Rt):Rt};function ce(mt,ut,bt,Et,Rt){return{x:mt,y:ut,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:Rt}}function ye(mt,ut){var bt=mt.geometry.coordinates,Et=bt[0],Rt=bt[1];return{x:De(Et),y:ke(Rt),zoom:1/0,index:ut,parentId:-1}}function we(mt){return{type:"Feature",id:mt.id,properties:be(mt),geometry:{type:"Point",coordinates:[Be(mt.x),Ae(mt.y)]}}}function be(mt){var ut=mt.numPoints,bt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return Ie(Ie({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:ut,point_count_abbreviated:bt})}function De(mt){return mt/360+.5}function ke(mt){var ut=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Be(mt){return(mt-.5)*360}function Ae(mt){var ut=(180-mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function Ie(mt,ut){for(var bt in ut)mt[bt]=ut[bt];return mt}function Me(mt){return mt.x}function Fe(mt){return mt.y}function Ee(mt,ut,bt,Et){for(var Rt=Et,Ht=bt-ut>>1,Bt=bt-ut,Nt,Jt=mt[ut],hr=mt[ut+1],fr=mt[bt],dr=mt[bt+1],Ye=ut+3;Ye<bt;Ye+=3){var Ve=He(mt[Ye],mt[Ye+1],Jt,hr,fr,dr);if(Ve>Rt)Nt=Ye,Rt=Ve;else if(Ve===Rt){var _t=Math.abs(Ye-Ht);_t<Bt&&(Nt=Ye,Bt=_t)}}Rt>Et&&(Nt-ut>3&&Ee(mt,ut,Nt,Et),mt[Nt+2]=Rt,bt-Nt>3&&Ee(mt,Nt,bt,Et))}function He(mt,ut,bt,Et,Rt,Ht){var Bt=Rt-bt,Nt=Ht-Et;if(Bt!==0||Nt!==0){var Jt=((mt-bt)*Bt+(ut-Et)*Nt)/(Bt*Bt+Nt*Nt);Jt>1?(bt=Rt,Et=Ht):Jt>0&&(bt+=Bt*Jt,Et+=Nt*Jt)}return Bt=mt-bt,Nt=ut-Et,Bt*Bt+Nt*Nt}function rt(mt,ut,bt,Et){var Rt={id:typeof mt>"u"?null:mt,type:ut,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return ot(Rt),Rt}function ot(mt){var ut=mt.geometry,bt=mt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")$e(mt,ut);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<ut.length;Et++)$e(mt,ut[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<ut.length;Et++)for(var Rt=0;Rt<ut[Et].length;Rt++)$e(mt,ut[Et][Rt])}function $e(mt,ut){for(var bt=0;bt<ut.length;bt+=3)mt.minX=Math.min(mt.minX,ut[bt]),mt.minY=Math.min(mt.minY,ut[bt+1]),mt.maxX=Math.max(mt.maxX,ut[bt]),mt.maxY=Math.max(mt.maxY,ut[bt+1])}function qe(mt,ut){var bt=[];if(mt.type==="FeatureCollection")for(var Et=0;Et<mt.features.length;Et++)ht(bt,mt.features[Et],ut,Et);else mt.type==="Feature"?ht(bt,mt,ut):ht(bt,{geometry:mt},ut);return bt}function ht(mt,ut,bt,Et){if(ut.geometry){var Rt=ut.geometry.coordinates,Ht=ut.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Nt=[],Jt=ut.id;if(bt.promoteId?Jt=ut.properties[bt.promoteId]:bt.generateId&&(Jt=Et||0),Ht==="Point")vt(Rt,Nt);else if(Ht==="MultiPoint")for(var hr=0;hr<Rt.length;hr++)vt(Rt[hr],Nt);else if(Ht==="LineString")pt(Rt,Nt,Bt,!1);else if(Ht==="MultiLineString")if(bt.lineMetrics){for(hr=0;hr<Rt.length;hr++)Nt=[],pt(Rt[hr],Nt,Bt,!1),mt.push(rt(Jt,"LineString",Nt,ut.properties));return}else wt(Rt,Nt,Bt,!1);else if(Ht==="Polygon")wt(Rt,Nt,Bt,!0);else if(Ht==="MultiPolygon")for(hr=0;hr<Rt.length;hr++){var fr=[];wt(Rt[hr],fr,Bt,!0),Nt.push(fr)}else if(Ht==="GeometryCollection"){for(hr=0;hr<ut.geometry.geometries.length;hr++)ht(mt,{id:Jt,geometry:ut.geometry.geometries[hr],properties:ut.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");mt.push(rt(Jt,Ht,Nt,ut.properties))}}function vt(mt,ut){ut.push(Mt(mt[0])),ut.push(nt(mt[1])),ut.push(0)}function pt(mt,ut,bt,Et){for(var Rt,Ht,Bt=0,Nt=0;Nt<mt.length;Nt++){var Jt=Mt(mt[Nt][0]),hr=nt(mt[Nt][1]);ut.push(Jt),ut.push(hr),ut.push(0),Nt>0&&(Et?Bt+=(Rt*hr-Jt*Ht)/2:Bt+=Math.sqrt(Math.pow(Jt-Rt,2)+Math.pow(hr-Ht,2))),Rt=Jt,Ht=hr}var fr=ut.length-3;ut[2]=1,Ee(ut,0,fr,bt),ut[fr+2]=1,ut.size=Math.abs(Bt),ut.start=0,ut.end=ut.size}function wt(mt,ut,bt,Et){for(var Rt=0;Rt<mt.length;Rt++){var Ht=[];pt(mt[Rt],Ht,bt,Et),ut.push(Ht)}}function Mt(mt){return mt/360+.5}function nt(mt){var ut=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function _e(mt,ut,bt,Et,Rt,Ht,Bt,Nt){if(bt/=ut,Et/=ut,Ht>=bt&&Bt<Et)return mt;if(Bt<bt||Ht>=Et)return null;for(var Jt=[],hr=0;hr<mt.length;hr++){var fr=mt[hr],dr=fr.geometry,Ye=fr.type,Ve=Rt===0?fr.minX:fr.minY,_t=Rt===0?fr.maxX:fr.maxY;if(Ve>=bt&&_t<Et){Jt.push(fr);continue}else if(_t<bt||Ve>=Et)continue;var kt=[];if(Ye==="Point"||Ye==="MultiPoint")Ge(dr,kt,bt,Et,Rt);else if(Ye==="LineString")je(dr,kt,bt,Et,Rt,!1,Nt.lineMetrics);else if(Ye==="MultiLineString")Pe(dr,kt,bt,Et,Rt,!1);else if(Ye==="Polygon")Pe(dr,kt,bt,Et,Rt,!0);else if(Ye==="MultiPolygon")for(var Kt=0;Kt<dr.length;Kt++){var sr=[];Pe(dr[Kt],sr,bt,Et,Rt,!0),sr.length&&kt.push(sr)}if(kt.length){if(Nt.lineMetrics&&Ye==="LineString"){for(Kt=0;Kt<kt.length;Kt++)Jt.push(rt(fr.id,Ye,kt[Kt],fr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(kt.length===1?(Ye="LineString",kt=kt[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=kt.length===3?"Point":"MultiPoint"),Jt.push(rt(fr.id,Ye,kt,fr.tags))}}return Jt.length?Jt:null}function Ge(mt,ut,bt,Et,Rt){for(var Ht=0;Ht<mt.length;Ht+=3){var Bt=mt[Ht+Rt];Bt>=bt&&Bt<=Et&&(ut.push(mt[Ht]),ut.push(mt[Ht+1]),ut.push(mt[Ht+2]))}}function je(mt,ut,bt,Et,Rt,Ht,Bt){for(var Nt=We(mt),Jt=Rt===0?Xe:Le,hr=mt.start,fr,dr,Ye=0;Ye<mt.length-3;Ye+=3){var Ve=mt[Ye],_t=mt[Ye+1],kt=mt[Ye+2],Kt=mt[Ye+3],sr=mt[Ye+4],cr=Rt===0?Ve:_t,er=Rt===0?Kt:sr,Ot=!1;Bt&&(fr=Math.sqrt(Math.pow(Ve-Kt,2)+Math.pow(_t-sr,2))),cr<bt?er>bt&&(dr=Jt(Nt,Ve,_t,Kt,sr,bt),Bt&&(Nt.start=hr+fr*dr)):cr>Et?er<Et&&(dr=Jt(Nt,Ve,_t,Kt,sr,Et),Bt&&(Nt.start=hr+fr*dr)):Re(Nt,Ve,_t,kt),er<bt&&cr>=bt&&(dr=Jt(Nt,Ve,_t,Kt,sr,bt),Ot=!0),er>Et&&cr<=Et&&(dr=Jt(Nt,Ve,_t,Kt,sr,Et),Ot=!0),!Ht&&Ot&&(Bt&&(Nt.end=hr+fr*dr),ut.push(Nt),Nt=We(mt)),Bt&&(hr+=fr)}var nr=mt.length-3;Ve=mt[nr],_t=mt[nr+1],kt=mt[nr+2],cr=Rt===0?Ve:_t,cr>=bt&&cr<=Et&&Re(Nt,Ve,_t,kt),nr=Nt.length-3,Ht&&nr>=3&&(Nt[nr]!==Nt[0]||Nt[nr+1]!==Nt[1])&&Re(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&ut.push(Nt)}function We(mt){var ut=[];return ut.size=mt.size,ut.start=mt.start,ut.end=mt.end,ut}function Pe(mt,ut,bt,Et,Rt,Ht){for(var Bt=0;Bt<mt.length;Bt++)je(mt[Bt],ut,bt,Et,Rt,Ht,!1)}function Re(mt,ut,bt,Et){mt.push(ut),mt.push(bt),mt.push(Et)}function Xe(mt,ut,bt,Et,Rt,Ht){var Bt=(Ht-ut)/(Et-ut);return mt.push(Ht),mt.push(bt+(Rt-bt)*Bt),mt.push(1),Bt}function Le(mt,ut,bt,Et,Rt,Ht){var Bt=(Ht-bt)/(Rt-bt);return mt.push(ut+(Et-ut)*Bt),mt.push(Ht),mt.push(1),Bt}function ve(mt,ut){var bt=ut.buffer/ut.extent,Et=mt,Rt=_e(mt,1,-1-bt,bt,0,-1,2,ut),Ht=_e(mt,1,1-bt,2+bt,0,-1,2,ut);return(Rt||Ht)&&(Et=_e(mt,1,-bt,1+bt,0,-1,2,ut)||[],Rt&&(Et=xe(Rt,1).concat(Et)),Ht&&(Et=Et.concat(xe(Ht,-1)))),Et}function xe(mt,ut){for(var bt=[],Et=0;Et<mt.length;Et++){var Rt=mt[Et],Ht=Rt.type,Bt;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Bt=Ne(Rt.geometry,ut);else if(Ht==="MultiLineString"||Ht==="Polygon"){Bt=[];for(var Nt=0;Nt<Rt.geometry.length;Nt++)Bt.push(Ne(Rt.geometry[Nt],ut))}else if(Ht==="MultiPolygon")for(Bt=[],Nt=0;Nt<Rt.geometry.length;Nt++){for(var Jt=[],hr=0;hr<Rt.geometry[Nt].length;hr++)Jt.push(Ne(Rt.geometry[Nt][hr],ut));Bt.push(Jt)}bt.push(rt(Rt.id,Ht,Bt,Rt.tags))}return bt}function Ne(mt,ut){var bt=[];bt.size=mt.size,mt.start!==void 0&&(bt.start=mt.start,bt.end=mt.end);for(var Et=0;Et<mt.length;Et+=3)bt.push(mt[Et]+ut,mt[Et+1],mt[Et+2]);return bt}function et(mt,ut){if(mt.transformed)return mt;var bt=1<<mt.z,Et=mt.x,Rt=mt.y,Ht,Bt,Nt;for(Ht=0;Ht<mt.features.length;Ht++){var Jt=mt.features[Ht],hr=Jt.geometry,fr=Jt.type;if(Jt.geometry=[],fr===1)for(Bt=0;Bt<hr.length;Bt+=2)Jt.geometry.push(st(hr[Bt],hr[Bt+1],ut,bt,Et,Rt));else for(Bt=0;Bt<hr.length;Bt++){var dr=[];for(Nt=0;Nt<hr[Bt].length;Nt+=2)dr.push(st(hr[Bt][Nt],hr[Bt][Nt+1],ut,bt,Et,Rt));Jt.geometry.push(dr)}}return mt.transformed=!0,mt}function st(mt,ut,bt,Et,Rt,Ht){return[Math.round(bt*(mt*Et-Rt)),Math.round(bt*(ut*Et-Ht))]}function lt(mt,ut,bt,Et,Rt){for(var Ht=ut===Rt.maxZoom?0:Rt.tolerance/((1<<ut)*Rt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<mt.length;Nt++){Bt.numFeatures++,Gt(Bt,mt[Nt],Ht,Rt);var Jt=mt[Nt].minX,hr=mt[Nt].minY,fr=mt[Nt].maxX,dr=mt[Nt].maxY;Jt<Bt.minX&&(Bt.minX=Jt),hr<Bt.minY&&(Bt.minY=hr),fr>Bt.maxX&&(Bt.maxX=fr),dr>Bt.maxY&&(Bt.maxY=dr)}return Bt}function Gt(mt,ut,bt,Et){var Rt=ut.geometry,Ht=ut.type,Bt=[];if(Ht==="Point"||Ht==="MultiPoint")for(var Nt=0;Nt<Rt.length;Nt+=3)Bt.push(Rt[Nt]),Bt.push(Rt[Nt+1]),mt.numPoints++,mt.numSimplified++;else if(Ht==="LineString")jt(Bt,Rt,mt,bt,!1,!1);else if(Ht==="MultiLineString"||Ht==="Polygon")for(Nt=0;Nt<Rt.length;Nt++)jt(Bt,Rt[Nt],mt,bt,Ht==="Polygon",Nt===0);else if(Ht==="MultiPolygon")for(var Jt=0;Jt<Rt.length;Jt++){var hr=Rt[Jt];for(Nt=0;Nt<hr.length;Nt++)jt(Bt,hr[Nt],mt,bt,!0,Nt===0)}if(Bt.length){var fr=ut.tags||null;if(Ht==="LineString"&&Et.lineMetrics){fr={};for(var dr in ut.tags)fr[dr]=ut.tags[dr];fr.mapbox_clip_start=Rt.start/Rt.size,fr.mapbox_clip_end=Rt.end/Rt.size}var Ye={geometry:Bt,type:Ht==="Polygon"||Ht==="MultiPolygon"?3:Ht==="LineString"||Ht==="MultiLineString"?2:1,tags:fr};ut.id!==null&&(Ye.id=ut.id),mt.features.push(Ye)}}function jt(mt,ut,bt,Et,Rt,Ht){var Bt=Et*Et;if(Et>0&&ut.size<(Rt?Bt:Et)){bt.numPoints+=ut.length/3;return}for(var Nt=[],Jt=0;Jt<ut.length;Jt+=3)(Et===0||ut[Jt+2]>Bt)&&(bt.numSimplified++,Nt.push(ut[Jt]),Nt.push(ut[Jt+1])),bt.numPoints++;Rt&&Tt(Nt,Ht),mt.push(Nt)}function Tt(mt,ut){for(var bt=0,Et=0,Rt=mt.length,Ht=Rt-2;Et<Rt;Ht=Et,Et+=2)bt+=(mt[Et]-mt[Ht])*(mt[Et+1]+mt[Ht+1]);if(bt>0===ut)for(Et=0,Rt=mt.length;Et<Rt/2;Et+=2){var Bt=mt[Et],Nt=mt[Et+1];mt[Et]=mt[Rt-2-Et],mt[Et+1]=mt[Rt-1-Et],mt[Rt-2-Et]=Bt,mt[Rt-1-Et]=Nt}}function Dt(mt,ut){return new Xt(mt,ut)}function Xt(mt,ut){ut=this.options=gt(Object.create(this.options),ut);var bt=ut.debug;if(bt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=qe(mt,ut);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=ve(Et,ut),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xt.prototype.splitTile=function(mt,ut,bt,Et,Rt,Ht,Bt){for(var Nt=[mt,ut,bt,Et],Jt=this.options,hr=Jt.debug;Nt.length;){Et=Nt.pop(),bt=Nt.pop(),ut=Nt.pop(),mt=Nt.pop();var fr=1<<ut,dr=gr(ut,bt,Et),Ye=this.tiles[dr];if(!Ye&&(hr>1&&console.time("creation"),Ye=this.tiles[dr]=lt(mt,ut,bt,Et,Jt),this.tileCoords.push({z:ut,x:bt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,bt,Et,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var Ve="z"+ut;this.stats[Ve]=(this.stats[Ve]||0)+1,this.total++}if(Ye.source=mt,Rt){if(ut===Jt.maxZoom||ut===Rt)continue;var _t=1<<Rt-ut;if(bt!==Math.floor(Ht/_t)||Et!==Math.floor(Bt/_t))continue}else if(ut===Jt.indexMaxZoom||Ye.numPoints<=Jt.indexMaxPoints)continue;if(Ye.source=null,mt.length!==0){hr>1&&console.time("clipping");var kt=.5*Jt.buffer/Jt.extent,Kt=.5-kt,sr=.5+kt,cr=1+kt,er,Ot,nr,vr,wr,ur;er=Ot=nr=vr=null,wr=_e(mt,fr,bt-kt,bt+sr,0,Ye.minX,Ye.maxX,Jt),ur=_e(mt,fr,bt+Kt,bt+cr,0,Ye.minX,Ye.maxX,Jt),mt=null,wr&&(er=_e(wr,fr,Et-kt,Et+sr,1,Ye.minY,Ye.maxY,Jt),Ot=_e(wr,fr,Et+Kt,Et+cr,1,Ye.minY,Ye.maxY,Jt),wr=null),ur&&(nr=_e(ur,fr,Et-kt,Et+sr,1,Ye.minY,Ye.maxY,Jt),vr=_e(ur,fr,Et+Kt,Et+cr,1,Ye.minY,Ye.maxY,Jt),ur=null),hr>1&&console.timeEnd("clipping"),Nt.push(er||[],ut+1,bt*2,Et*2),Nt.push(Ot||[],ut+1,bt*2,Et*2+1),Nt.push(nr||[],ut+1,bt*2+1,Et*2),Nt.push(vr||[],ut+1,bt*2+1,Et*2+1)}}},Xt.prototype.getTile=function(mt,ut,bt){var Et=this.options,Rt=Et.extent,Ht=Et.debug;if(mt<0||mt>24)return null;var Bt=1<<mt;ut=(ut%Bt+Bt)%Bt;var Nt=gr(mt,ut,bt);if(this.tiles[Nt])return et(this.tiles[Nt],Rt);Ht>1&&console.log("drilling down to z%d-%d-%d",mt,ut,bt);for(var Jt=mt,hr=ut,fr=bt,dr;!dr&&Jt>0;)Jt--,hr=Math.floor(hr/2),fr=Math.floor(fr/2),dr=this.tiles[gr(Jt,hr,fr)];return!dr||!dr.source?null:(Ht>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,fr),Ht>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,hr,fr,mt,ut,bt),Ht>1&&console.timeEnd("drilling down"),this.tiles[Nt]?et(this.tiles[Nt],Rt):null)};function gr(mt,ut,bt){return((1<<mt)*bt+ut)*32+mt}function gt(mt,ut){for(var bt in ut)mt[bt]=ut[bt];return mt}function Zt(mt,ut){var bt=mt.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return ut(null,null);var Rt=new w(Et.features),Ht=s(Rt);(Ht.byteOffset!==0||Ht.byteLength!==Ht.buffer.byteLength)&&(Ht=new Uint8Array(Ht)),ut(null,{vectorTile:Rt,rawData:Ht.buffer})}var Qt=function(mt){function ut(bt,Et,Rt,Ht){mt.call(this,bt,Et,Rt,Zt),Ht&&(this.loadGeoJSON=Ht)}return mt&&(ut.__proto__=mt),ut.prototype=Object.create(mt&&mt.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(Et,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Rt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Rt=this._pendingCallback,Ht=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Ht&&Ht.request&&Ht.request.collectResourceTiming?new i.RequestPerformance(Ht.request):!1;this.loadGeoJSON(Ht,function(Nt,Jt){if(Nt||!Jt)return Rt(Nt);if(typeof Jt!="object")return Rt(new Error("Input data given to '"+Ht.source+"' is not a valid GeoJSON object."));h(Jt,!0);try{if(Ht.filter){var hr=i.createExpression(Ht.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Ve){return Ve.key+": "+Ve.message}).join(", "));var fr=Jt.features.filter(function(Ve){return hr.value.evaluate({zoom:0},Ve)});Jt={type:"FeatureCollection",features:fr}}Et._geoJSONIndex=Ht.cluster?new q(yr(Ht)).load(Jt.features):Dt(Jt,Ht.geojsonVtOptions)}catch(Ve){return Rt(Ve)}Et.loaded={};var dr={};if(Bt){var Ye=Bt.finish();Ye&&(dr.resourceTiming={},dr.resourceTiming[Ht.source]=JSON.parse(JSON.stringify(Ye)))}Rt(null,dr)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(Et,Rt){var Ht=this.loaded,Bt=Et.uid;return Ht&&Ht[Bt]?mt.prototype.reloadTile.call(this,Et,Rt):this.loadTile(Et,Rt)},ut.prototype.loadGeoJSON=function(Et,Rt){if(Et.request)i.getJSON(Et.request,Rt);else if(typeof Et.data=="string")try{return Rt(null,JSON.parse(Et.data))}catch{return Rt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return Rt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(Et,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Rt()},ut.prototype.getClusterExpansionZoom=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Ht){Rt(Ht)}},ut.prototype.getClusterChildren=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Ht){Rt(Ht)}},ut.prototype.getClusterLeaves=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Ht){Rt(Ht)}},ut}(l);function yr(mt){var ut=mt.superclusterOptions,bt=mt.clusterProperties;if(!bt||!ut)return ut;for(var Et={},Rt={},Ht={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(bt),Jt=0,hr=Nt;Jt<hr.length;Jt+=1){var fr=hr[Jt],dr=bt[fr],Ye=dr[0],Ve=dr[1],_t=i.createExpression(Ve),kt=i.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",fr]]:Ye);Et[fr]=_t.value,Rt[fr]=kt.value}return ut.map=function(Kt){Bt.properties=Kt;for(var sr={},cr=0,er=Nt;cr<er.length;cr+=1){var Ot=er[cr];sr[Ot]=Et[Ot].evaluate(Ht,Bt)}return sr},ut.reduce=function(Kt,sr){Bt.properties=sr;for(var cr=0,er=Nt;cr<er.length;cr+=1){var Ot=er[cr];Ht.accumulated=Kt[Ot],Kt[Ot]=Rt[Ot].evaluate(Ht,Bt)}},ut}var or=function(ut){var bt=this;this.self=ut,this.actor=new i.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,Rt){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=Rt},this.self.registerRTLTextPlugin=function(Et){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Et.applyArabicShaping,i.plugin.processBidirectionalText=Et.processBidirectionalText,i.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return or.prototype.setReferrer=function(ut,bt){this.referrer=bt},or.prototype.setImages=function(ut,bt,Et){this.availableImages[ut]=bt;for(var Rt in this.workerSources[ut]){var Ht=this.workerSources[ut][Rt];for(var Bt in Ht)Ht[Bt].availableImages=bt}Et()},or.prototype.setLayers=function(ut,bt,Et){this.getLayerIndex(ut).replace(bt),Et()},or.prototype.updateLayers=function(ut,bt,Et){this.getLayerIndex(ut).update(bt.layers,bt.removedIds),Et()},or.prototype.loadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).loadTile(bt,Et)},or.prototype.loadDEMTile=function(ut,bt,Et){this.getDEMWorkerSource(ut,bt.source).loadTile(bt,Et)},or.prototype.reloadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).reloadTile(bt,Et)},or.prototype.abortTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).abortTile(bt,Et)},or.prototype.removeTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).removeTile(bt,Et)},or.prototype.removeDEMTile=function(ut,bt){this.getDEMWorkerSource(ut,bt.source).removeTile(bt)},or.prototype.removeSource=function(ut,bt,Et){if(!(!this.workerSources[ut]||!this.workerSources[ut][bt.type]||!this.workerSources[ut][bt.type][bt.source])){var Rt=this.workerSources[ut][bt.type][bt.source];delete this.workerSources[ut][bt.type][bt.source],Rt.removeSource!==void 0?Rt.removeSource(bt,Et):Et()}},or.prototype.loadWorkerSource=function(ut,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(Rt){Et(Rt.toString())}},or.prototype.syncRTLPluginState=function(ut,bt,Et){try{i.plugin.setState(bt);var Rt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Rt!=null){this.self.importScripts(Rt);var Ht=i.plugin.isParsed(),Bt=Ht?void 0:new Error("RTL Text Plugin failed to import scripts from "+Rt);Et(Bt,Ht)}}catch(Nt){Et(Nt.toString())}},or.prototype.getAvailableImages=function(ut){var bt=this.availableImages[ut];return bt||(bt=[]),bt},or.prototype.getLayerIndex=function(ut){var bt=this.layerIndexes[ut];return bt||(bt=this.layerIndexes[ut]=new p),bt},or.prototype.getWorkerSource=function(ut,bt,Et){var Rt=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][bt]||(this.workerSources[ut][bt]={}),!this.workerSources[ut][bt][Et]){var Ht={send:function(Bt,Nt,Jt){Rt.actor.send(Bt,Nt,Jt,ut)}};this.workerSources[ut][bt][Et]=new this.workerSourceTypes[bt](Ht,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][bt][Et]},or.prototype.getDEMWorkerSource=function(ut,bt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][bt]||(this.demWorkerSources[ut][bt]=new g),this.demWorkerSources[ut][bt]},or.prototype.enforceCacheSizeLimit=function(ut,bt){i.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),P(["./shared"],function(i){var L=i.createCommonjsModule(function(he){he.exports?he.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=pe);function K(Gr){return!pe(Gr)}function pe(Gr){if(!ee())return"not a browser";if(!ge())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!$t())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!kr(Gr&&Gr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function ge(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Gr=new Blob([""],{type:"text/javascript"}),$r=URL.createObjectURL(Gr),hn,In;try{In=new Worker($r),hn=!0}catch{hn=!1}return In&&In.terminate(),URL.revokeObjectURL($r),hn}function Ut(){return"Uint8ClampedArray"in window}function $t(){return ArrayBuffer.isView}function lr(){var Gr=document.createElement("canvas");Gr.width=Gr.height=1;var $r=Gr.getContext("2d");if(!$r)return!1;var hn=$r.getImageData(0,0,1,1);return hn&&hn.width===Gr.width}var ir={};function kr(Gr){return ir[Gr]===void 0&&(ir[Gr]=Xr(Gr)),ir[Gr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function jr(Gr){var $r=document.createElement("canvas"),hn=Object.create(K.webGLContextAttributes);return hn.failIfMajorPerformanceCaveat=Gr,$r.probablySupportsContext?$r.probablySupportsContext("webgl",hn)||$r.probablySupportsContext("experimental-webgl",hn):$r.supportsContext?$r.supportsContext("webgl",hn)||$r.supportsContext("experimental-webgl",hn):$r.getContext("webgl",hn)||$r.getContext("experimental-webgl",hn)}function Xr(Gr){var $r=jr(Gr);if(!$r)return!1;var hn=$r.createShader($r.VERTEX_SHADER);return!hn||$r.isContextLost()?!1:($r.shaderSource(hn,"void main() {}"),$r.compileShader(hn),$r.getShaderParameter(hn,$r.COMPILE_STATUS)===!0)}}),S={};S.create=function(he,K,pe){var ee=i.window.document.createElement(he);return K!==void 0&&(ee.className=K),pe&&pe.appendChild(ee),ee},S.createNS=function(he,K){var pe=i.window.document.createElementNS(he,K);return pe};var v=i.window.document&&i.window.document.documentElement.style;function p(he){if(!v)return he[0];for(var K=0;K<he.length;K++)if(he[K]in v)return he[K];return he[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var a=p(["transform","WebkitTransform"]);S.setTransform=function(he,K){he.style[a]=K};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",f,f),i.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(he,K,pe,ee){ee===void 0&&(ee={}),"passive"in ee&&n?he.addEventListener(K,pe,ee):he.addEventListener(K,pe,ee.capture)},S.removeEventListener=function(he,K,pe,ee){ee===void 0&&(ee={}),"passive"in ee&&n?he.removeEventListener(K,pe,ee):he.removeEventListener(K,pe,ee.capture)};var l=function(he){he.preventDefault(),he.stopPropagation(),i.window.removeEventListener("click",l,!0)};S.suppressClick=function(){i.window.addEventListener("click",l,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",l,!0)},0)},S.mousePos=function(he,K){var pe=he.getBoundingClientRect();return new i.Point(K.clientX-pe.left-he.clientLeft,K.clientY-pe.top-he.clientTop)},S.touchPos=function(he,K){for(var pe=he.getBoundingClientRect(),ee=[],ge=0;ge<K.length;ge++)ee.push(new i.Point(K[ge].clientX-pe.left-he.clientLeft,K[ge].clientY-pe.top-he.clientTop));return ee},S.mouseButton=function(he){return typeof i.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},S.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function u(he,K,pe){var ee,ge,ze,Ke=i.browser.devicePixelRatio>1?"@2x":"",ft=i.getJSON(K.transformRequest(K.normalizeSpriteURL(he,Ke,".json"),i.ResourceType.SpriteJSON),function($t,lr){ft=null,ze||(ze=$t,ee=lr,Ut())}),Ct=i.getImage(K.transformRequest(K.normalizeSpriteURL(he,Ke,".png"),i.ResourceType.SpriteImage),function($t,lr){Ct=null,ze||(ze=$t,ge=lr,Ut())});function Ut(){if(ze)pe(ze);else if(ee&&ge){var $t=i.browser.getImageData(ge),lr={};for(var ir in ee){var kr=ee[ir],jr=kr.width,Xr=kr.height,Gr=kr.x,$r=kr.y,hn=kr.sdf,In=kr.pixelRatio,On=kr.stretchX,Yn=kr.stretchY,jn=kr.content,Gn=new i.RGBAImage({width:jr,height:Xr});i.RGBAImage.copy($t,Gn,{x:Gr,y:$r},{x:0,y:0},{width:jr,height:Xr}),lr[ir]={data:Gn,pixelRatio:In,sdf:hn,stretchX:On,stretchY:Yn,content:jn}}pe(null,lr)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),Ct&&(Ct.cancel(),Ct=null)}}}function g(he){var K=he.userImage;if(K&&K.render){var pe=K.render();if(pe)return he.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var h=1,T=function(he){function K(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var ge=0,ze=this.requestors;ge<ze.length;ge+=1){var Ke=ze[ge],ft=Ke.ids,Ct=Ke.callback;this._notify(ft,Ct)}this.requestors=[]}},K.prototype.getImage=function(ee){return this.images[ee]},K.prototype.addImage=function(ee,ge){this._validate(ee,ge)&&(this.images[ee]=ge)},K.prototype._validate=function(ee,ge){var ze=!0;return this._validateStretch(ge.stretchX,ge.data&&ge.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(ge.stretchY,ge.data&&ge.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(ge.content,ge)||(this.fire(new i.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),ze=!1),ze},K.prototype._validateStretch=function(ee,ge){if(!ee)return!0;for(var ze=0,Ke=0,ft=ee;Ke<ft.length;Ke+=1){var Ct=ft[Ke];if(Ct[0]<ze||Ct[1]<Ct[0]||ge<Ct[1])return!1;ze=Ct[1]}return!0},K.prototype._validateContent=function(ee,ge){return ee?!(ee.length!==4||ee[0]<0||ge.data.width<ee[0]||ee[1]<0||ge.data.height<ee[1]||ee[2]<0||ge.data.width<ee[2]||ee[3]<0||ge.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},K.prototype.updateImage=function(ee,ge){var ze=this.images[ee];ge.version=ze.version+1,this.images[ee]=ge,this.updatedImages[ee]=!0},K.prototype.removeImage=function(ee){var ge=this.images[ee];delete this.images[ee],delete this.patterns[ee],ge.userImage&&ge.userImage.onRemove&&ge.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(ee,ge){var ze=!0;if(!this.isLoaded())for(var Ke=0,ft=ee;Ke<ft.length;Ke+=1){var Ct=ft[Ke];this.images[Ct]||(ze=!1)}this.isLoaded()||ze?this._notify(ee,ge):this.requestors.push({ids:ee,callback:ge})},K.prototype._notify=function(ee,ge){for(var ze={},Ke=0,ft=ee;Ke<ft.length;Ke+=1){var Ct=ft[Ke];this.images[Ct]||this.fire(new i.Event("styleimagemissing",{id:Ct}));var Ut=this.images[Ct];Ut?ze[Ct]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:i.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ge(null,ze)},K.prototype.getPixelSize=function(){var ee=this.atlasImage,ge=ee.width,ze=ee.height;return{width:ge,height:ze}},K.prototype.getPattern=function(ee){var ge=this.patterns[ee],ze=this.getImage(ee);if(!ze)return null;if(ge&&ge.position.version===ze.version)return ge.position;if(ge)ge.position.version=ze.version;else{var Ke=ze.data.width+h*2,ft=ze.data.height+h*2,Ct={w:Ke,h:ft,x:0,y:0},Ut=new i.ImagePosition(Ct,ze);this.patterns[ee]={bin:Ct,position:Ut}}return this._updatePatternAtlas(),this.patterns[ee].position},K.prototype.bind=function(ee){var ge=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(ee,this.atlasImage,ge.RGBA),this.atlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var ee=[];for(var ge in this.patterns)ee.push(this.patterns[ge].bin);var ze=i.potpack(ee),Ke=ze.w,ft=ze.h,Ct=this.atlasImage;Ct.resize({width:Ke||1,height:ft||1});for(var Ut in this.patterns){var $t=this.patterns[Ut],lr=$t.bin,ir=lr.x+h,kr=lr.y+h,jr=this.images[Ut].data,Xr=jr.width,Gr=jr.height;i.RGBAImage.copy(jr,Ct,{x:0,y:0},{x:ir,y:kr},{width:Xr,height:Gr}),i.RGBAImage.copy(jr,Ct,{x:0,y:Gr-1},{x:ir,y:kr-1},{width:Xr,height:1}),i.RGBAImage.copy(jr,Ct,{x:0,y:0},{x:ir,y:kr+Gr},{width:Xr,height:1}),i.RGBAImage.copy(jr,Ct,{x:Xr-1,y:0},{x:ir-1,y:kr},{width:1,height:Gr}),i.RGBAImage.copy(jr,Ct,{x:0,y:0},{x:ir+Xr,y:kr},{width:1,height:Gr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(ee){for(var ge=0,ze=ee;ge<ze.length;ge+=1){var Ke=ze[ge];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var ft=this.images[Ke],Ct=g(ft);Ct&&this.updateImage(Ke,ft)}}},K}(i.Evented);function c(he,K,pe,ee,ge){var ze=K*256,Ke=ze+255,ft=ee.transformRequest(ee.normalizeGlyphsURL(pe).replace("{fontstack}",he).replace("{range}",ze+"-"+Ke),i.ResourceType.Glyphs);i.getArrayBuffer(ft,function(Ct,Ut){if(Ct)ge(Ct);else if(Ut){for(var $t={},lr=0,ir=i.parseGlyphPBF(Ut);lr<ir.length;lr+=1){var kr=ir[lr];$t[kr.id]=kr}ge(null,$t)}})}var o=w,d=w,x=1e20;function w(he,K,pe,ee,ge,ze){this.fontSize=he||24,this.buffer=K===void 0?3:K,this.cutoff=ee||.25,this.fontFamily=ge||"sans-serif",this.fontWeight=ze||"normal",this.radius=pe||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),pe=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var ge=K.data[ee*4+3]/255;this.gridOuter[ee]=ge===1?0:ge===0?x:Math.pow(Math.max(0,.5-ge),2),this.gridInner[ee]=ge===1?x:ge===0?0:Math.pow(Math.max(0,ge-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var ze=this.gridOuter[ee]-this.gridInner[ee];pe[ee]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return pe};function C(he,K,pe,ee,ge,ze,Ke){for(var ft=0;ft<K;ft++){for(var Ct=0;Ct<pe;Ct++)ee[Ct]=he[Ct*K+ft];for(y(ee,ge,ze,Ke,pe),Ct=0;Ct<pe;Ct++)he[Ct*K+ft]=ge[Ct]}for(Ct=0;Ct<pe;Ct++){for(ft=0;ft<K;ft++)ee[ft]=he[Ct*K+ft];for(y(ee,ge,ze,Ke,K),ft=0;ft<K;ft++)he[Ct*K+ft]=Math.sqrt(ge[ft])}}function y(he,K,pe,ee,ge){pe[0]=0,ee[0]=-x,ee[1]=+x;for(var ze=1,Ke=0;ze<ge;ze++){for(var ft=(he[ze]+ze*ze-(he[pe[Ke]]+pe[Ke]*pe[Ke]))/(2*ze-2*pe[Ke]);ft<=ee[Ke];)Ke--,ft=(he[ze]+ze*ze-(he[pe[Ke]]+pe[Ke]*pe[Ke]))/(2*ze-2*pe[Ke]);Ke++,pe[Ke]=ze,ee[Ke]=ft,ee[Ke+1]=+x}for(ze=0,Ke=0;ze<ge;ze++){for(;ee[Ke+1]<ze;)Ke++;K[ze]=(ze-pe[Ke])*(ze-pe[Ke])+he[pe[Ke]]}}o.default=d;var M=function(K,pe){this.requestManager=K,this.localIdeographFontFamily=pe,this.entries={}};M.prototype.setURL=function(K){this.url=K},M.prototype.getGlyphs=function(K,pe){var ee=this,ge=[];for(var ze in K)for(var Ke=0,ft=K[ze];Ke<ft.length;Ke+=1){var Ct=ft[Ke];ge.push({stack:ze,id:Ct})}i.asyncAll(ge,function(Ut,$t){var lr=Ut.stack,ir=Ut.id,kr=ee.entries[lr];kr||(kr=ee.entries[lr]={glyphs:{},requests:{},ranges:{}});var jr=kr.glyphs[ir];if(jr!==void 0){$t(null,{stack:lr,id:ir,glyph:jr});return}if(jr=ee._tinySDF(kr,lr,ir),jr){kr.glyphs[ir]=jr,$t(null,{stack:lr,id:ir,glyph:jr});return}var Xr=Math.floor(ir/256);if(Xr*256>65535){$t(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[Xr]){$t(null,{stack:lr,id:ir,glyph:jr});return}var Gr=kr.requests[Xr];Gr||(Gr=kr.requests[Xr]=[],M.loadGlyphRange(lr,Xr,ee.url,ee.requestManager,function($r,hn){if(hn){for(var In in hn)ee._doesCharSupportLocalGlyph(+In)||(kr.glyphs[+In]=hn[+In]);kr.ranges[Xr]=!0}for(var On=0,Yn=Gr;On<Yn.length;On+=1){var jn=Yn[On];jn($r,hn)}delete kr.requests[Xr]})),Gr.push(function($r,hn){$r?$t($r):hn&&$t(null,{stack:lr,id:ir,glyph:hn[ir]||null})})},function(Ut,$t){if(Ut)pe(Ut);else if($t){for(var lr={},ir=0,kr=$t;ir<kr.length;ir+=1){var jr=kr[ir],Xr=jr.stack,Gr=jr.id,$r=jr.glyph;(lr[Xr]||(lr[Xr]={}))[Gr]=$r&&{id:$r.id,bitmap:$r.bitmap.clone(),metrics:$r.metrics}}pe(null,lr)}})},M.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](K)||i.isChar["Hangul Syllables"](K)||i.isChar.Hiragana(K)||i.isChar.Katakana(K))},M.prototype._tinySDF=function(K,pe,ee){var ge=this.localIdeographFontFamily;if(ge&&this._doesCharSupportLocalGlyph(ee)){var ze=K.tinySDF;if(!ze){var Ke="400";/bold/i.test(pe)?Ke="900":/medium/i.test(pe)?Ke="500":/light/i.test(pe)&&(Ke="200"),ze=K.tinySDF=new M.TinySDF(24,3,8,.25,ge,Ke)}return{id:ee,bitmap:new i.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=c,M.TinySDF=o;var A=function(){this.specification=i.styleSpec.light.position};A.prototype.possiblyEvaluate=function(K,pe){return i.sphericalToCartesian(K.expression.evaluate(pe))},A.prototype.interpolate=function(K,pe,ee){return{x:i.number(K.x,pe.x,ee),y:i.number(K.y,pe.y,ee),z:i.number(K.z,pe.z,ee)}};var s=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new A,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),E="-transition",b=function(he){function K(pe){he.call(this),this._transitionable=new i.Transitionable(s),this.setLight(pe),this._transitioning=this._transitionable.untransitioned()}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(ee,ge){if(ge===void 0&&(ge={}),!this._validate(i.validateLight,ee,ge))for(var ze in ee){var Ke=ee[ze];i.endsWith(ze,E)?this._transitionable.setTransition(ze.slice(0,-E.length),Ke):this._transitionable.setValue(ze,Ke)}},K.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},K.prototype._validate=function(ee,ge,ze){return ze&&ze.validate===!1?!1:i.emitValidationErrors(this,ee.call(i.validateStyle,i.extend({value:ge,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},K}(i.Evented),F=function(K,pe){this.width=K,this.height=pe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(K,pe){var ee=K.join(",")+String(pe);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(K,pe)),this.dashEntry[ee]},F.prototype.getDashRanges=function(K,pe,ee){var ge=K.length%2===1,ze=[],Ke=ge?-K[K.length-1]*ee:0,ft=K[0]*ee,Ct=!0;ze.push({left:Ke,right:ft,isDash:Ct,zeroLength:K[0]===0});for(var Ut=K[0],$t=1;$t<K.length;$t++){Ct=!Ct;var lr=K[$t];Ke=Ut*ee,Ut+=lr,ft=Ut*ee,ze.push({left:Ke,right:ft,isDash:Ct,zeroLength:lr===0})}return ze},F.prototype.addRoundDash=function(K,pe,ee){for(var ge=pe/2,ze=-ee;ze<=ee;ze++)for(var Ke=this.nextRow+ee+ze,ft=this.width*Ke,Ct=0,Ut=K[Ct],$t=0;$t<this.width;$t++){$t/Ut.right>1&&(Ut=K[++Ct]);var lr=Math.abs($t-Ut.left),ir=Math.abs($t-Ut.right),kr=Math.min(lr,ir),jr=void 0,Xr=ze/ee*(ge+1);if(Ut.isDash){var Gr=ge-Math.abs(Xr);jr=Math.sqrt(kr*kr+Gr*Gr)}else jr=ge-Math.sqrt(kr*kr+Xr*Xr);this.data[ft+$t]=Math.max(0,Math.min(255,jr+128))}},F.prototype.addRegularDash=function(K){for(var pe=K.length-1;pe>=0;--pe){var ee=K[pe],ge=K[pe+1];ee.zeroLength?K.splice(pe,1):ge&&ge.isDash===ee.isDash&&(ge.left=ee.left,K.splice(pe,1))}var ze=K[0],Ke=K[K.length-1];ze.isDash===Ke.isDash&&(ze.left=Ke.left-this.width,Ke.right=ze.right+this.width);for(var ft=this.width*this.nextRow,Ct=0,Ut=K[Ct],$t=0;$t<this.width;$t++){$t/Ut.right>1&&(Ut=K[++Ct]);var lr=Math.abs($t-Ut.left),ir=Math.abs($t-Ut.right),kr=Math.min(lr,ir),jr=Ut.isDash?kr:-kr;this.data[ft+$t]=Math.max(0,Math.min(255,jr+128))}},F.prototype.addDash=function(K,pe){var ee=pe?7:0,ge=2*ee+1;if(this.nextRow+ge>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ke=0;Ke<K.length;Ke++)ze+=K[Ke];if(ze!==0){var ft=this.width/ze,Ct=this.getDashRanges(K,this.width,ft);pe?this.addRoundDash(Ct,ft,ee):this.addRegularDash(Ct)}var Ut={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:ze};return this.nextRow+=ge,this.dirty=!0,Ut},F.prototype.bind=function(K){var pe=K.gl;this.texture?(pe.bindTexture(pe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,this.width,this.height,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))):(this.texture=pe.createTexture(),pe.bindTexture(pe.TEXTURE_2D,this.texture),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),pe.texImage2D(pe.TEXTURE_2D,0,pe.ALPHA,this.width,this.height,0,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))};var I=function he(K,pe){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var ee=this.workerPool.acquire(this.id),ge=0;ge<ee.length;ge++){var ze=ee[ge],Ke=new he.Actor(ze,pe,this.id);Ke.name="Worker "+ge,this.actors.push(Ke)}};I.prototype.broadcast=function(K,pe,ee){ee=ee||function(){},i.asyncAll(this.actors,function(ge,ze){ge.send(K,pe,ze)},ee)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=i.Actor;function N(he,K,pe){var ee=function(ge,ze){if(ge)return pe(ge);if(ze){var Ke=i.pick(i.extend(ze,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ke.vectorLayers=ze.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(ft){return ft.id})),Ke.tiles=K.canonicalizeTileset(Ke,he.url),pe(null,Ke)}};return he.url?i.getJSON(K.transformRequest(K.normalizeSourceURL(he.url),i.ResourceType.Source),ee):i.browser.frame(function(){return ee(null,he)})}var _=function(K,pe,ee){this.bounds=i.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=pe||0,this.maxzoom=ee||24};_.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},_.prototype.contains=function(K){var pe=Math.pow(2,K.z),ee={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*pe),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*pe),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*pe),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*pe)},ge=K.x>=ee.minX&&K.x<ee.maxX&&K.y>=ee.minY&&K.y<ee.maxY;return ge};var O=function(he){function K(pe,ee,ge,ze){if(he.call(this),this.id=pe,this.dispatcher=ge,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ge,ze){ee._tileJSONRequest=null,ee._loaded=!0,ge?ee.fire(new i.ErrorEvent(ge)):ze&&(i.extend(ee,ze),ze.bounds&&(ee.tileBounds=new _(ze.bounds,ee.minzoom,ee.maxzoom)),i.postTurnstileEvent(ze.tiles,ee.map._requestManager._customAccessToken),i.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var ge=this.map.style.sourceCaches[this.id];ge.clearTiles(),this.load()},K.prototype.setTiles=function(ee){var ge=this;return this.setSourceProperty(function(){ge._options.tiles=ee}),this},K.prototype.setUrl=function(ee){var ge=this;return this.setSourceProperty(function(){ge.url=ee,ge._options.url=ee}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return i.extend({},this._options)},K.prototype.loadTile=function(ee,ge){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(ze,i.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",Ke,ft.bind(this))):ee.state==="loading"?ee.reloadCallback=ge:ee.request=ee.actor.send("reloadTile",Ke,ft.bind(this));function ft(Ct,Ut){if(delete ee.request,ee.aborted)return ge(null);if(Ct&&Ct.status!==404)return ge(Ct);Ut&&Ut.resourceTiming&&(ee.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ee.setExpiryData(Ut),ee.loadVectorData(Ut,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ge(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},K.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(i.Evented),B=function(he){function K(pe,ee,ge,ze){he.call(this),this.id=pe,this.dispatcher=ge,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},ee),i.extend(this,i.pick(ee,["url","scheme","tileSize"]))}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ge,ze){ee._tileJSONRequest=null,ee._loaded=!0,ge?ee.fire(new i.ErrorEvent(ge)):ze&&(i.extend(ee,ze),ze.bounds&&(ee.tileBounds=new _(ze.bounds,ee.minzoom,ee.maxzoom)),i.postTurnstileEvent(ze.tiles),i.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return i.extend({},this._options)},K.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},K.prototype.loadTile=function(ee,ge){var ze=this,Ke=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=i.getImage(this.map._requestManager.transformRequest(Ke,i.ResourceType.Tile),function(ft,Ct){if(delete ee.request,ee.aborted)ee.state="unloaded",ge(null);else if(ft)ee.state="errored",ge(ft);else if(Ct){ze.map._refreshExpiredTiles&&ee.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Ut=ze.map.painter.context,$t=Ut.gl;ee.texture=ze.map.painter.getTileTexture(Ct.width),ee.texture?ee.texture.update(Ct,{useMipmap:!0}):(ee.texture=new i.Texture(Ut,Ct,$t.RGBA,{useMipmap:!0}),ee.texture.bind($t.LINEAR,$t.CLAMP_TO_EDGE,$t.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&$t.texParameterf($t.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ee.state="loaded",i.cacheEntryPossiblyAdded(ze.dispatcher),ge(null)}})},K.prototype.abortTile=function(ee,ge){ee.request&&(ee.request.cancel(),delete ee.request),ge()},K.prototype.unloadTile=function(ee,ge){ee.texture&&this.map.painter.saveTileTexture(ee.texture),ge()},K.prototype.hasTransition=function(){return!1},K}(i.Evented),z=function(he){function K(pe,ee,ge,ze){he.call(this,pe,ee,ge,ze),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(ee,ge){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=i.getImage(this.map._requestManager.transformRequest(ze,i.ResourceType.Tile),Ke.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function Ke(Ct,Ut){if(delete ee.request,ee.aborted)ee.state="unloaded",ge(null);else if(Ct)ee.state="errored",ge(Ct);else if(Ut){this.map._refreshExpiredTiles&&ee.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var $t=i.window.ImageBitmap&&Ut instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),lr=$t?Ut:i.browser.getImageData(Ut,1),ir={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",ir,ft.bind(this)))}}function ft(Ct,Ut){Ct&&(ee.state="errored",ge(Ct)),Ut&&(ee.dem=Ut,ee.needsHillshadePrepare=!0,ee.state="loaded",ge(null))}},K.prototype._getNeighboringTiles=function(ee){var ge=ee.canonical,ze=Math.pow(2,ge.z),Ke=(ge.x-1+ze)%ze,ft=ge.x===0?ee.wrap-1:ee.wrap,Ct=(ge.x+1+ze)%ze,Ut=ge.x+1===ze?ee.wrap+1:ee.wrap,$t={};return $t[new i.OverscaledTileID(ee.overscaledZ,ft,ge.z,Ke,ge.y).key]={backfilled:!1},$t[new i.OverscaledTileID(ee.overscaledZ,Ut,ge.z,Ct,ge.y).key]={backfilled:!1},ge.y>0&&($t[new i.OverscaledTileID(ee.overscaledZ,ft,ge.z,Ke,ge.y-1).key]={backfilled:!1},$t[new i.OverscaledTileID(ee.overscaledZ,ee.wrap,ge.z,ge.x,ge.y-1).key]={backfilled:!1},$t[new i.OverscaledTileID(ee.overscaledZ,Ut,ge.z,Ct,ge.y-1).key]={backfilled:!1}),ge.y+1<ze&&($t[new i.OverscaledTileID(ee.overscaledZ,ft,ge.z,Ke,ge.y+1).key]={backfilled:!1},$t[new i.OverscaledTileID(ee.overscaledZ,ee.wrap,ge.z,ge.x,ge.y+1).key]={backfilled:!1},$t[new i.OverscaledTileID(ee.overscaledZ,Ut,ge.z,Ct,ge.y+1).key]={backfilled:!1}),$t},K.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},K}(B),U=function(he){function K(pe,ee,ge,ze){he.call(this),this.id=pe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ge.getActor(),this.setEventedParent(ze),this._data=ee.data,this._options=i.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var Ke=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*Ke,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*Ke,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:i.EXTENT,radius:(ee.clusterRadius||50)*Ke,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ge){if(ge){ee.fire(new i.ErrorEvent(ge));return}var ze={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(ze.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new i.Event("data",ze))})},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setData=function(ee){var ge=this;return this._data=ee,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){ge.fire(new i.ErrorEvent(ze));return}var Ke={dataType:"source",sourceDataType:"content"};ge._collectResourceTiming&&ge._resourceTiming&&ge._resourceTiming.length>0&&(Ke.resourceTiming=ge._resourceTiming,ge._resourceTiming=[]),ge.fire(new i.Event("data",Ke))}),this},K.prototype.getClusterExpansionZoom=function(ee,ge){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},ge),this},K.prototype.getClusterChildren=function(ee,ge){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},ge),this},K.prototype.getClusterLeaves=function(ee,ge,ze,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:ge,offset:ze},Ke),this},K.prototype._updateWorkerData=function(ee){var ge=this;this._loaded=!1;var ze=i.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(ze.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Ke),i.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",ze,function(ft,Ct){ge._removed||Ct&&Ct.abandoned||(ge._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[ge.id]&&(ge._resourceTiming=Ct.resourceTiming[ge.id].slice(0)),ge.actor.send(ge.type+".coalesce",{source:ze.source},null),ee(ft))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(ee,ge){var ze=this,Ke=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var ft={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(Ke,ft,function(Ct,Ut){return delete ee.request,ee.unloadVectorData(),ee.aborted?ge(null):Ct?ge(Ct):(ee.loadVectorData(Ut,ze.map.painter,Ke==="reloadTile"),ge(null))})},K.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},K.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(i.Evented),Z=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(he){function K(pe,ee,ge,ze){he.call(this),this.id=pe,this.dispatcher=ge,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ee}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(ee,ge){var ze=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Ke,ft){ze._loaded=!0,Ke?ze.fire(new i.ErrorEvent(Ke)):ft&&(ze.image=ft,ee&&(ze.coordinates=ee),ge&&ge(),ze._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(ee){var ge=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){ge.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setCoordinates=function(ee){var ge=this;this.coordinates=ee;var ze=ee.map(i.MercatorCoordinate.fromLngLat);this.tileID=re(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ke=ze.map(function(ft){return ge.tileID.getTilePoint(ft)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,ge=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(ee,this.image,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},K.prototype.loadTile=function(ee,ge){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},ge(null)):(ee.state="errored",ge(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(i.Evented);function re(he){for(var K=1/0,pe=1/0,ee=-1/0,ge=-1/0,ze=0,Ke=he;ze<Ke.length;ze+=1){var ft=Ke[ze];K=Math.min(K,ft.x),pe=Math.min(pe,ft.y),ee=Math.max(ee,ft.x),ge=Math.max(ge,ft.y)}var Ct=ee-K,Ut=ge-pe,$t=Math.max(Ct,Ut),lr=Math.max(0,Math.floor(-Math.log($t)/Math.LN2)),ir=Math.pow(2,lr);return new i.CanonicalTileID(lr,Math.floor((K+ee)/2*ir),Math.floor((pe+ge)/2*ir))}var ne=function(he){function K(pe,ee,ge,ze){he.call(this,pe,ee,ge,ze),this.roundZoom=!0,this.type="video",this.options=ee}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1;var ge=this.options;this.urls=[];for(var ze=0,Ke=ge.urls;ze<Ke.length;ze+=1){var ft=Ke[ze];this.urls.push(this.map._requestManager.transformRequest(ft,i.ResourceType.Source).url)}i.getVideo(this.urls,function(Ct,Ut){ee._loaded=!0,Ct?ee.fire(new i.ErrorEvent(Ct)):Ut&&(ee.video=Ut,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(ee){if(this.video){var ge=this.video.seekable;ee<ge.start(0)||ee>ge.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ge.start(0)+" and "+ge.end(0)+"-second mark."))):this.video.currentTime=ee}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,ge=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,ge.RGBA,ge.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(ee,this.video,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(J),ue=function(he){function K(pe,ee,ge,ze){he.call(this,pe,ee,ge,ze),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(ft){return typeof ft!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+pe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+pe,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+pe,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+pe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+pe,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ge=this.map.painter.context,ze=ge.gl;this.boundsBuffer||(this.boundsBuffer=ge.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ge,this.canvas,ze.RGBA,{premultiply:!0});for(var Ke in this.tiles){var ft=this.tiles[Ke];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var ee=0,ge=[this.canvas.width,this.canvas.height];ee<ge.length;ee+=1){var ze=ge[ee];if(isNaN(ze)||ze<=0)return!0}return!1},K}(J),te={vector:O,raster:B,"raster-dem":z,geojson:U,video:ne,image:J,canvas:ue},Q=function(he,K,pe,ee){var ge=new te[K.type](he,K,pe,ee);if(ge.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+ge.id);return i.bindAll(["load","abort","unload","serialize","prepare"],ge),ge},ie=function(he){return te[he]},Y=function(he,K){te[he]=K};function $(he,K){var pe=i.identity([]);return i.translate(pe,pe,[1,1,0]),i.scale(pe,pe,[he.width*.5,he.height*.5,1]),i.multiply(pe,pe,he.calculatePosMatrix(K.toUnwrapped()))}function oe(he,K,pe){if(he)for(var ee=0,ge=he;ee<ge.length;ee+=1){var ze=ge[ee],Ke=K[ze];if(Ke&&Ke.source===pe&&Ke.type==="fill-extrusion")return!0}else for(var ft in K){var Ct=K[ft];if(Ct.source===pe&&Ct.type==="fill-extrusion")return!0}return!1}function j(he,K,pe,ee,ge,ze){var Ke=oe(ge&&ge.layers,K,he.id),ft=ze.maxPitchScaleFactor(),Ct=he.tilesIn(ee,ft,Ke);Ct.sort(q);for(var Ut=[],$t=0,lr=Ct;$t<lr.length;$t+=1){var ir=lr[$t];Ut.push({wrappedTileID:ir.tileID.wrapped().key,queryResults:ir.tile.queryRenderedFeatures(K,pe,he._state,ir.queryGeometry,ir.cameraQueryGeometry,ir.scale,ge,ze,ft,$(he.transform,ir.tileID))})}var kr=ce(Ut);for(var jr in kr)kr[jr].forEach(function(Xr){var Gr=Xr.feature,$r=he.getFeatureState(Gr.layer["source-layer"],Gr.id);Gr.source=Gr.layer.source,Gr.layer["source-layer"]&&(Gr.sourceLayer=Gr.layer["source-layer"]),Gr.state=$r});return kr}function X(he,K,pe,ee,ge,ze,Ke){for(var ft={},Ct=ze.queryRenderedSymbols(ee),Ut=[],$t=0,lr=Object.keys(Ct).map(Number);$t<lr.length;$t+=1){var ir=lr[$t];Ut.push(Ke[ir])}Ut.sort(q);for(var kr=function(){var hn=Xr[jr],In=hn.featureIndex.lookupSymbolFeatures(Ct[hn.bucketInstanceId],K,hn.bucketIndex,hn.sourceLayerIndex,ge.filter,ge.layers,ge.availableImages,he);for(var On in In){var Yn=ft[On]=ft[On]||[],jn=In[On];jn.sort(function(sa,ma){var va=hn.featureSortOrder;if(va){var _a=va.indexOf(sa.featureIndex),$a=va.indexOf(ma.featureIndex);return $a-_a}else return ma.featureIndex-sa.featureIndex});for(var Gn=0,Kn=jn;Gn<Kn.length;Gn+=1){var ta=Kn[Gn];Yn.push(ta)}}},jr=0,Xr=Ut;jr<Xr.length;jr+=1)kr();var Gr=function(hn){ft[hn].forEach(function(In){var On=In.feature,Yn=he[hn],jn=pe[Yn.source],Gn=jn.getFeatureState(On.layer["source-layer"],On.id);On.source=On.layer.source,On.layer["source-layer"]&&(On.sourceLayer=On.layer["source-layer"]),On.state=Gn})};for(var $r in ft)Gr($r);return ft}function se(he,K){for(var pe=he.getRenderableIds().map(function(Ct){return he.getTileByID(Ct)}),ee=[],ge={},ze=0;ze<pe.length;ze++){var Ke=pe[ze],ft=Ke.tileID.canonical.key;ge[ft]||(ge[ft]=!0,Ke.querySourceFeatures(ee,K))}return ee}function q(he,K){var pe=he.tileID,ee=K.tileID;return pe.overscaledZ-ee.overscaledZ||pe.canonical.y-ee.canonical.y||pe.wrap-ee.wrap||pe.canonical.x-ee.canonical.x}function ce(he){for(var K={},pe={},ee=0,ge=he;ee<ge.length;ee+=1){var ze=ge[ee],Ke=ze.queryResults,ft=ze.wrappedTileID,Ct=pe[ft]=pe[ft]||{};for(var Ut in Ke)for(var $t=Ke[Ut],lr=Ct[Ut]=Ct[Ut]||{},ir=K[Ut]=K[Ut]||[],kr=0,jr=$t;kr<jr.length;kr+=1){var Xr=jr[kr];lr[Xr.featureIndex]||(lr[Xr.featureIndex]=!0,ir.push(Xr))}}return K}var ye=function(K,pe){this.max=K,this.onRemove=pe,this.reset()};ye.prototype.reset=function(){for(var K in this.data)for(var pe=0,ee=this.data[K];pe<ee.length;pe+=1){var ge=ee[pe];ge.timeout&&clearTimeout(ge.timeout),this.onRemove(ge.value)}return this.data={},this.order=[],this},ye.prototype.add=function(K,pe,ee){var ge=this,ze=K.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ke={value:pe,timeout:void 0};if(ee!==void 0&&(Ke.timeout=setTimeout(function(){ge.remove(K,Ke)},ee)),this.data[ze].push(Ke),this.order.push(ze),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},ye.prototype.has=function(K){return K.wrapped().key in this.data},ye.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(K){var pe=this.data[K].shift();return pe.timeout&&clearTimeout(pe.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),pe.value},ye.prototype.getByKey=function(K){var pe=this.data[K];return pe?pe[0].value:null},ye.prototype.get=function(K){if(!this.has(K))return null;var pe=this.data[K.wrapped().key][0];return pe.value},ye.prototype.remove=function(K,pe){if(!this.has(K))return this;var ee=K.wrapped().key,ge=pe===void 0?0:this.data[ee].indexOf(pe),ze=this.data[ee][ge];return this.data[ee].splice(ge,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ee),1),this},ye.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var pe=this._getAndRemoveByKey(this.order[0]);pe&&this.onRemove(pe)}return this},ye.prototype.filter=function(K){var pe=[];for(var ee in this.data)for(var ge=0,ze=this.data[ee];ge<ze.length;ge+=1){var Ke=ze[ge];K(Ke.value)||pe.push(Ke)}for(var ft=0,Ct=pe;ft<Ct.length;ft+=1){var Ut=Ct[ft];this.remove(Ut.value.tileID,Ut)}};var we=function(K,pe,ee){this.context=K;var ge=K.gl;this.buffer=ge.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),ge.bufferData(ge.ELEMENT_ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ge.DYNAMIC_DRAW:ge.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(K){var pe=this.context.gl;this.context.unbindVAO(),this.bind(),pe.bufferSubData(pe.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},we.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var be={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},De=function(K,pe,ee,ge){this.length=pe.length,this.attributes=ee,this.itemSize=pe.bytesPerElement,this.dynamicDraw=ge,this.context=K;var ze=K.gl;this.buffer=ze.createBuffer(),K.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};De.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},De.prototype.updateData=function(K){var pe=this.context.gl;this.bind(),pe.bufferSubData(pe.ARRAY_BUFFER,0,K.arrayBuffer)},De.prototype.enableAttributes=function(K,pe){for(var ee=0;ee<this.attributes.length;ee++){var ge=this.attributes[ee],ze=pe.attributes[ge.name];ze!==void 0&&K.enableVertexAttribArray(ze)}},De.prototype.setVertexAttribPointers=function(K,pe,ee){for(var ge=0;ge<this.attributes.length;ge++){var ze=this.attributes[ge],Ke=pe.attributes[ze.name];Ke!==void 0&&K.vertexAttribPointer(Ke,ze.components,K[be[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ee||0))}},De.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var ke=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ke.prototype.get=function(){return this.current},ke.prototype.set=function(K){},ke.prototype.getDefault=function(){return this.default},ke.prototype.setDefault=function(){this.set(this.default)};var Be=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return i.Color.transparent},K.prototype.set=function(ee){var ge=this.current;ee.r===ge.r&&ee.g===ge.g&&ee.b===ge.b&&ee.a===ge.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},K}(ke),Ae=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},K}(ke),Ie=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},K}(ke),Me=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(ee){var ge=this.current;ee[0]===ge[0]&&ee[1]===ge[1]&&ee[2]===ge[2]&&ee[3]===ge[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},K}(ke),Fe=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},K}(ke),Ee=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},K}(ke),He=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(ee){var ge=this.current;ee.func===ge.func&&ee.ref===ge.ref&&ee.mask===ge.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},K}(ke),rt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},K.prototype.set=function(ee){var ge=this.current;ee[0]===ge[0]&&ee[1]===ge[1]&&ee[2]===ge[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},K}(ke),ot=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ee?ge.enable(ge.STENCIL_TEST):ge.disable(ge.STENCIL_TEST),this.current=ee,this.dirty=!1}},K}(ke),$e=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(ee){var ge=this.current;ee[0]===ge[0]&&ee[1]===ge[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},K}(ke),qe=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ee?ge.enable(ge.DEPTH_TEST):ge.disable(ge.DEPTH_TEST),this.current=ee,this.dirty=!1}},K}(ke),ht=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},K}(ke),vt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ee?ge.enable(ge.BLEND):ge.disable(ge.BLEND),this.current=ee,this.dirty=!1}},K}(ke),pt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},K.prototype.set=function(ee){var ge=this.current;ee[0]===ge[0]&&ee[1]===ge[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},K}(ke),wt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return i.Color.transparent},K.prototype.set=function(ee){var ge=this.current;ee.r===ge.r&&ee.g===ge.g&&ee.b===ge.b&&ee.a===ge.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},K}(ke),Mt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},K}(ke),nt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ee?ge.enable(ge.CULL_FACE):ge.disable(ge.CULL_FACE),this.current=ee,this.dirty=!1}},K}(ke),_e=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},K}(ke),Ge=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},K}(ke),je=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},K}(ke),We=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},K}(ke),Pe=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},K.prototype.set=function(ee){var ge=this.current;ee[0]===ge[0]&&ee[1]===ge[1]&&ee[2]===ge[2]&&ee[3]===ge[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},K}(ke),Re=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.bindFramebuffer(ge.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},K}(ke),Xe=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.bindRenderbuffer(ge.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},K}(ke),Le=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.bindTexture(ge.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},K}(ke),ve=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.bindBuffer(ge.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},K}(ke),xe=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){var ge=this.gl;ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},K}(ke),Ne=function(he){function K(pe){he.call(this,pe),this.vao=pe.extVertexArrayObject}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},K}(ke),et=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},K}(ke),st=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},K}(ke),lt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},K}(ke),Gt=function(he){function K(pe,ee){he.call(this,pe),this.context=pe,this.parent=ee}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(ke),jt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},K}(Gt),Tt=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferRenderbuffer(ge.FRAMEBUFFER,ge.DEPTH_ATTACHMENT,ge.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},K}(Gt),Dt=function(K,pe,ee,ge){this.context=K,this.width=pe,this.height=ee;var ze=K.gl,Ke=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new jt(K,Ke),ge&&(this.depthAttachment=new Tt(K,Ke))};Dt.prototype.destroy=function(){var K=this.context.gl,pe=this.colorAttachment.get();if(pe&&K.deleteTexture(pe),this.depthAttachment){var ee=this.depthAttachment.get();ee&&K.deleteRenderbuffer(ee)}K.deleteFramebuffer(this.framebuffer)};var Xt=519,gr=function(K,pe,ee){this.func=K,this.mask=pe,this.range=ee};gr.ReadOnly=!1,gr.ReadWrite=!0,gr.disabled=new gr(Xt,gr.ReadOnly,[0,1]);var gt=519,Zt=7680,Qt=function(K,pe,ee,ge,ze,Ke){this.test=K,this.ref=pe,this.mask=ee,this.fail=ge,this.depthFail=ze,this.pass=Ke};Qt.disabled=new Qt({func:gt,mask:0},0,0,Zt,Zt,Zt);var yr=0,or=1,mt=771,ut=function(K,pe,ee){this.blendFunction=K,this.blendColor=pe,this.mask=ee};ut.Replace=[or,yr],ut.disabled=new ut(ut.Replace,i.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,i.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([or,mt],i.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,Rt=function(K,pe,ee){this.enable=K,this.mode=pe,this.frontFace=ee};Rt.disabled=new Rt(!1,bt,Et),Rt.backCCW=new Rt(!0,bt,Et);var Ht=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Be(this),this.clearDepth=new Ae(this),this.clearStencil=new Ie(this),this.colorMask=new Me(this),this.depthMask=new Fe(this),this.stencilMask=new Ee(this),this.stencilFunc=new He(this),this.stencilOp=new rt(this),this.stencilTest=new ot(this),this.depthRange=new $e(this),this.depthTest=new qe(this),this.depthFunc=new ht(this),this.blend=new vt(this),this.blendFunc=new pt(this),this.blendColor=new wt(this),this.blendEquation=new Mt(this),this.cullFace=new nt(this),this.cullFaceSide=new _e(this),this.frontFace=new Ge(this),this.program=new je(this),this.activeTexture=new We(this),this.viewport=new Pe(this),this.bindFramebuffer=new Re(this),this.bindRenderbuffer=new Xe(this),this.bindTexture=new Le(this),this.bindVertexBuffer=new ve(this),this.bindElementBuffer=new xe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ne(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new st(this),this.pixelStoreUnpackFlipY=new lt(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};Ht.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ht.prototype.createIndexBuffer=function(K,pe){return new we(this,K,pe)},Ht.prototype.createVertexBuffer=function(K,pe,ee){return new De(this,K,pe,ee)},Ht.prototype.createRenderbuffer=function(K,pe,ee){var ge=this.gl,ze=ge.createRenderbuffer();return this.bindRenderbuffer.set(ze),ge.renderbufferStorage(ge.RENDERBUFFER,K,pe,ee),this.bindRenderbuffer.set(null),ze},Ht.prototype.createFramebuffer=function(K,pe,ee){return new Dt(this,K,pe,ee)},Ht.prototype.clear=function(K){var pe=K.color,ee=K.depth,ge=this.gl,ze=0;pe&&(ze|=ge.COLOR_BUFFER_BIT,this.clearColor.set(pe),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(ze|=ge.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),ge.clear(ze)},Ht.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},Ht.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},Ht.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},Ht.prototype.setColorMode=function(K){i.deepEqual(K.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},Ht.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(he){function K(pe,ee,ge){var ze=this;he.call(this),this.id=pe,this.dispatcher=ge,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Q(pe,ee,ge,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},K.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var ge=this._tiles[ee];if(ge.state!=="loaded"&&ge.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(ee,ge){return this._source.loadTile(ee,ge)},K.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},K.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ge in this._tiles){var ze=this._tiles[ge];ze.upload(ee),ze.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return i.values(this._tiles).map(function(ee){return ee.tileID}).sort(Nt).map(function(ee){return ee.key})},K.prototype.getRenderableIds=function(ee){var ge=this,ze=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,ee)&&ze.push(this._tiles[Ke]);return ee?ze.sort(function(ft,Ct){var Ut=ft.tileID,$t=Ct.tileID,lr=new i.Point(Ut.canonical.x,Ut.canonical.y)._rotate(ge.transform.angle),ir=new i.Point($t.canonical.x,$t.canonical.y)._rotate(ge.transform.angle);return Ut.overscaledZ-$t.overscaledZ||ir.y-lr.y||ir.x-lr.x}).map(function(ft){return ft.tileID.key}):ze.map(function(ft){return ft.tileID}).sort(Nt).map(function(ft){return ft.key})},K.prototype.hasRenderableParent=function(ee){var ge=this.findLoadedParent(ee,0);return ge?this._isIdRenderable(ge.tileID.key):!1},K.prototype._isIdRenderable=function(ee,ge){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(ge||!this._tiles[ee].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},K.prototype._reloadTile=function(ee,ge){var ze=this._tiles[ee];ze&&(ze.state!=="loading"&&(ze.state=ge),this._loadTile(ze,this._tileLoaded.bind(this,ze,ee,ge)))},K.prototype._tileLoaded=function(ee,ge,ze,Ke){if(Ke){ee.state="errored",Ke.status!==404?this._source.fire(new i.ErrorEvent(Ke,{tile:ee})):this.update(this.transform);return}ee.timeAdded=i.browser.now(),ze==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(ge,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},K.prototype._backfillDEM=function(ee){for(var ge=this.getRenderableIds(),ze=0;ze<ge.length;ze++){var Ke=ge[ze];if(ee.neighboringTiles&&ee.neighboringTiles[Ke]){var ft=this.getTileByID(Ke);Ct(ee,ft),Ct(ft,ee)}}function Ct(Ut,$t){Ut.needsHillshadePrepare=!0;var lr=$t.tileID.canonical.x-Ut.tileID.canonical.x,ir=$t.tileID.canonical.y-Ut.tileID.canonical.y,kr=Math.pow(2,Ut.tileID.canonical.z),jr=$t.tileID.key;lr===0&&ir===0||Math.abs(ir)>1||(Math.abs(lr)>1&&(Math.abs(lr+kr)===1?lr+=kr:Math.abs(lr-kr)===1&&(lr-=kr)),!(!$t.dem||!Ut.dem)&&(Ut.dem.backfillBorder($t.dem,lr,ir),Ut.neighboringTiles&&Ut.neighboringTiles[jr]&&(Ut.neighboringTiles[jr].backfilled=!0)))}},K.prototype.getTile=function(ee){return this.getTileByID(ee.key)},K.prototype.getTileByID=function(ee){return this._tiles[ee]},K.prototype._retainLoadedChildren=function(ee,ge,ze,Ke){for(var ft in this._tiles){var Ct=this._tiles[ft];if(!(Ke[ft]||!Ct.hasData()||Ct.tileID.overscaledZ<=ge||Ct.tileID.overscaledZ>ze)){for(var Ut=Ct.tileID;Ct&&Ct.tileID.overscaledZ>ge+1;){var $t=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[$t.key],Ct&&Ct.hasData()&&(Ut=$t)}for(var lr=Ut;lr.overscaledZ>ge;)if(lr=lr.scaledTo(lr.overscaledZ-1),ee[lr.key]){Ke[Ut.key]=Ut;break}}}},K.prototype.findLoadedParent=function(ee,ge){if(ee.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ee.key];return ze&&ze.tileID.overscaledZ>=ge?ze:null}for(var Ke=ee.overscaledZ-1;Ke>=ge;Ke--){var ft=ee.scaledTo(Ke),Ct=this._getLoadedTile(ft);if(Ct)return Ct}},K.prototype._getLoadedTile=function(ee){var ge=this._tiles[ee.key];if(ge&&ge.hasData())return ge;var ze=this._cache.getByKey(ee.wrapped().key);return ze},K.prototype.updateCacheSize=function(ee){var ge=Math.ceil(ee.width/this._source.tileSize)+1,ze=Math.ceil(ee.height/this._source.tileSize)+1,Ke=ge*ze,ft=5,Ct=Math.floor(Ke*ft),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Ut)},K.prototype.handleWrapJump=function(ee){var ge=this._prevLng===void 0?ee:this._prevLng,ze=ee-ge,Ke=ze/360,ft=Math.round(Ke);if(this._prevLng=ee,ft){var Ct={};for(var Ut in this._tiles){var $t=this._tiles[Ut];$t.tileID=$t.tileID.unwrapTo($t.tileID.wrap+ft),Ct[$t.tileID.key]=$t}this._tiles=Ct;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var ir in this._tiles){var kr=this._tiles[ir];this._setTileReloadTimer(ir,kr)}}},K.prototype.update=function(ee){var ge=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(sa){return new i.OverscaledTileID(sa.canonical.z,sa.wrap,sa.canonical.z,sa.canonical.x,sa.canonical.y)}):(ze=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(sa){return ge._source.hasTile(sa)}))):ze=[];var Ke=ee.coveringZoomLevel(this._source),ft=Math.max(Ke-K.maxOverzooming,this._source.minzoom),Ct=Math.max(Ke+K.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(ze,Ke);if(Jt(this._source.type)){for(var $t={},lr={},ir=Object.keys(Ut),kr=0,jr=ir;kr<jr.length;kr+=1){var Xr=jr[kr],Gr=Ut[Xr],$r=this._tiles[Xr];if(!(!$r||$r.fadeEndTime&&$r.fadeEndTime<=i.browser.now())){var hn=this.findLoadedParent(Gr,ft);hn&&(this._addTile(hn.tileID),$t[hn.tileID.key]=hn.tileID),lr[Xr]=Gr}}this._retainLoadedChildren(lr,Ke,Ct,Ut);for(var In in $t)Ut[In]||(this._coveredTiles[In]=!0,Ut[In]=$t[In])}for(var On in Ut)this._tiles[On].clearFadeHold();for(var Yn=i.keysDifference(this._tiles,Ut),jn=0,Gn=Yn;jn<Gn.length;jn+=1){var Kn=Gn[jn],ta=this._tiles[Kn];ta.hasSymbolBuckets&&!ta.holdingForFade()?ta.setHoldDuration(this.map._fadeDuration):(!ta.hasSymbolBuckets||ta.symbolFadeFinished())&&this._removeTile(Kn)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},K.prototype._updateRetainedTiles=function(ee,ge){for(var ze={},Ke={},ft=Math.max(ge-K.maxOverzooming,this._source.minzoom),Ct=Math.max(ge+K.maxUnderzooming,this._source.minzoom),Ut={},$t=0,lr=ee;$t<lr.length;$t+=1){var ir=lr[$t],kr=this._addTile(ir);ze[ir.key]=ir,!kr.hasData()&&ge<this._source.maxzoom&&(Ut[ir.key]=ir)}this._retainLoadedChildren(Ut,ge,Ct,ze);for(var jr=0,Xr=ee;jr<Xr.length;jr+=1){var Gr=Xr[jr],$r=this._tiles[Gr.key];if(!$r.hasData()){if(ge+1>this._source.maxzoom){var hn=Gr.children(this._source.maxzoom)[0],In=this.getTile(hn);if(In&&In.hasData()){ze[hn.key]=hn;continue}}else{var On=Gr.children(this._source.maxzoom);if(ze[On[0].key]&&ze[On[1].key]&&ze[On[2].key]&&ze[On[3].key])continue}for(var Yn=$r.wasRequested(),jn=Gr.overscaledZ-1;jn>=ft;--jn){var Gn=Gr.scaledTo(jn);if(Ke[Gn.key]||(Ke[Gn.key]=!0,$r=this.getTile(Gn),!$r&&Yn&&($r=this._addTile(Gn)),$r&&(ze[Gn.key]=Gn,Yn=$r.wasRequested(),$r.hasData())))break}}}return ze},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var ge=[],ze=void 0,Ke=this._tiles[ee].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ke.key];break}ge.push(Ke.key);var ft=Ke.scaledTo(Ke.overscaledZ-1);if(ze=this._getLoadedTile(ft),ze)break;Ke=ft}for(var Ct=0,Ut=ge;Ct<Ut.length;Ct+=1){var $t=Ut[Ct];this._loadedParentTiles[$t]=ze}}},K.prototype._addTile=function(ee){var ge=this._tiles[ee.key];if(ge)return ge;ge=this._cache.getAndRemove(ee),ge&&(this._setTileReloadTimer(ee.key,ge),ge.tileID=ee,this._state.initializeTileState(ge,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,ge)));var ze=!!ge;return ze||(ge=new i.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(ge,this._tileLoaded.bind(this,ge,ee.key,ge.state))),ge?(ge.uses++,this._tiles[ee.key]=ge,ze||this._source.fire(new i.Event("dataloading",{tile:ge,coord:ge.tileID,dataType:"source"})),ge):null},K.prototype._setTileReloadTimer=function(ee,ge){var ze=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var Ke=ge.getExpiryTimeout();Ke&&(this._timers[ee]=setTimeout(function(){ze._reloadTile(ee,"expired"),delete ze._timers[ee]},Ke))},K.prototype._removeTile=function(ee){var ge=this._tiles[ee];ge&&(ge.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(ge.uses>0)&&(ge.hasData()&&ge.state!=="reloading"?this._cache.add(ge.tileID,ge,ge.getExpiryTimeout()):(ge.aborted=!0,this._abortTile(ge),this._unloadTile(ge))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},K.prototype.tilesIn=function(ee,ge,ze){var Ke=this,ft=[],Ct=this.transform;if(!Ct)return ft;for(var Ut=ze?Ct.getCameraQueryGeometry(ee):ee,$t=ee.map(function(jn){return Ct.pointCoordinate(jn)}),lr=Ut.map(function(jn){return Ct.pointCoordinate(jn)}),ir=this.getIds(),kr=1/0,jr=1/0,Xr=-1/0,Gr=-1/0,$r=0,hn=lr;$r<hn.length;$r+=1){var In=hn[$r];kr=Math.min(kr,In.x),jr=Math.min(jr,In.y),Xr=Math.max(Xr,In.x),Gr=Math.max(Gr,In.y)}for(var On=function(jn){var Gn=Ke._tiles[ir[jn]];if(!Gn.holdingForFade()){var Kn=Gn.tileID,ta=Math.pow(2,Ct.zoom-Gn.tileID.overscaledZ),sa=ge*Gn.queryPadding*i.EXTENT/Gn.tileSize/ta,ma=[Kn.getTilePoint(new i.MercatorCoordinate(kr,jr)),Kn.getTilePoint(new i.MercatorCoordinate(Xr,Gr))];if(ma[0].x-sa<i.EXTENT&&ma[0].y-sa<i.EXTENT&&ma[1].x+sa>=0&&ma[1].y+sa>=0){var va=$t.map(function($a){return Kn.getTilePoint($a)}),_a=lr.map(function($a){return Kn.getTilePoint($a)});ft.push({tile:Gn,tileID:Kn,queryGeometry:va,cameraQueryGeometry:_a,scale:ta})}}},Yn=0;Yn<ir.length;Yn++)On(Yn);return ft},K.prototype.getVisibleCoordinates=function(ee){for(var ge=this,ze=this.getRenderableIds(ee).map(function(Ut){return ge._tiles[Ut].tileID}),Ke=0,ft=ze;Ke<ft.length;Ke+=1){var Ct=ft[Ke];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return ze},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var ee in this._tiles){var ge=this._tiles[ee];if(ge.fadeEndTime!==void 0&&ge.fadeEndTime>=i.browser.now())return!0}return!1},K.prototype.setFeatureState=function(ee,ge,ze){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,ge,ze)},K.prototype.removeFeatureState=function(ee,ge,ze){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,ge,ze)},K.prototype.getFeatureState=function(ee,ge){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,ge)},K.prototype.setDependencies=function(ee,ge,ze){var Ke=this._tiles[ee];Ke&&Ke.setDependencies(ge,ze)},K.prototype.reloadTilesForDependencies=function(ee,ge){for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.hasDependency(ee,ge)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(ee,ge)})},K}(i.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(he,K){var pe=Math.abs(he.wrap*2)-+(he.wrap<0),ee=Math.abs(K.wrap*2)-+(K.wrap<0);return he.overscaledZ-K.overscaledZ||ee-pe||K.canonical.y-he.canonical.y||K.canonical.x-he.canonical.x}function Jt(he){return he==="raster"||he==="image"||he==="video"}function hr(){return new i.window.Worker(lo.workerUrl)}var fr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[K]=!0,this.workers.slice()},dr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(pe){pe.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[fr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(i.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ye,6),1);var Ve;function _t(){return Ve||(Ve=new dr),Ve}function kt(){var he=_t();he.acquire(fr)}function Kt(){var he=Ve;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(fr),Ve=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function sr(he,K){var pe={};for(var ee in he)ee!=="ref"&&(pe[ee]=he[ee]);return i.refProperties.forEach(function(ge){ge in K&&(pe[ge]=K[ge])}),pe}function cr(he){he=he.slice();for(var K=Object.create(null),pe=0;pe<he.length;pe++)K[he[pe].id]=he[pe];for(var ee=0;ee<he.length;ee++)"ref"in he[ee]&&(he[ee]=sr(he[ee],K[he[ee].ref]));return he}function er(){var he={},K=i.styleSpec.$version;for(var pe in i.styleSpec.$root){var ee=i.styleSpec.$root[pe];if(ee.required){var ge=null;pe==="version"?ge=K:ee.type==="array"?ge=[]:ge={},ge!=null&&(he[pe]=ge)}}return he}var Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function nr(he,K,pe){pe.push({command:Ot.addSource,args:[he,K[he]]})}function vr(he,K,pe){K.push({command:Ot.removeSource,args:[he]}),pe[he]=!0}function wr(he,K,pe,ee){vr(he,pe,ee),nr(he,K,pe)}function ur(he,K,pe){var ee;for(ee in he[pe])if(he[pe].hasOwnProperty(ee)&&ee!=="data"&&!i.deepEqual(he[pe][ee],K[pe][ee]))return!1;for(ee in K[pe])if(K[pe].hasOwnProperty(ee)&&ee!=="data"&&!i.deepEqual(he[pe][ee],K[pe][ee]))return!1;return!0}function Vr(he,K,pe,ee){he=he||{},K=K||{};var ge;for(ge in he)he.hasOwnProperty(ge)&&(K.hasOwnProperty(ge)||vr(ge,pe,ee));for(ge in K)K.hasOwnProperty(ge)&&(he.hasOwnProperty(ge)?i.deepEqual(he[ge],K[ge])||(he[ge].type==="geojson"&&K[ge].type==="geojson"&&ur(he,K,ge)?pe.push({command:Ot.setGeoJSONSourceData,args:[ge,K[ge].data]}):wr(ge,K,pe,ee)):nr(ge,K,pe))}function Pr(he,K,pe,ee,ge,ze){he=he||{},K=K||{};var Ke;for(Ke in he)he.hasOwnProperty(Ke)&&(i.deepEqual(he[Ke],K[Ke])||pe.push({command:ze,args:[ee,Ke,K[Ke],ge]}));for(Ke in K)!K.hasOwnProperty(Ke)||he.hasOwnProperty(Ke)||i.deepEqual(he[Ke],K[Ke])||pe.push({command:ze,args:[ee,Ke,K[Ke],ge]})}function Dr(he){return he.id}function ln(he,K){return he[K.id]=K,he}function Wr(he,K,pe){he=he||[],K=K||[];var ee=he.map(Dr),ge=K.map(Dr),ze=he.reduce(ln,{}),Ke=K.reduce(ln,{}),ft=ee.slice(),Ct=Object.create(null),Ut,$t,lr,ir,kr,jr,Xr;for(Ut=0,$t=0;Ut<ee.length;Ut++)lr=ee[Ut],Ke.hasOwnProperty(lr)?$t++:(pe.push({command:Ot.removeLayer,args:[lr]}),ft.splice(ft.indexOf(lr,$t),1));for(Ut=0,$t=0;Ut<ge.length;Ut++)lr=ge[ge.length-1-Ut],ft[ft.length-1-Ut]!==lr&&(ze.hasOwnProperty(lr)?(pe.push({command:Ot.removeLayer,args:[lr]}),ft.splice(ft.lastIndexOf(lr,ft.length-$t),1)):$t++,jr=ft[ft.length-Ut],pe.push({command:Ot.addLayer,args:[Ke[lr],jr]}),ft.splice(ft.length-Ut,0,lr),Ct[lr]=!0);for(Ut=0;Ut<ge.length;Ut++)if(lr=ge[Ut],ir=ze[lr],kr=Ke[lr],!(Ct[lr]||i.deepEqual(ir,kr))){if(!i.deepEqual(ir.source,kr.source)||!i.deepEqual(ir["source-layer"],kr["source-layer"])||!i.deepEqual(ir.type,kr.type)){pe.push({command:Ot.removeLayer,args:[lr]}),jr=ft[ft.lastIndexOf(lr)+1],pe.push({command:Ot.addLayer,args:[kr,jr]});continue}Pr(ir.layout,kr.layout,pe,lr,null,Ot.setLayoutProperty),Pr(ir.paint,kr.paint,pe,lr,null,Ot.setPaintProperty),i.deepEqual(ir.filter,kr.filter)||pe.push({command:Ot.setFilter,args:[lr,kr.filter]}),(!i.deepEqual(ir.minzoom,kr.minzoom)||!i.deepEqual(ir.maxzoom,kr.maxzoom))&&pe.push({command:Ot.setLayerZoomRange,args:[lr,kr.minzoom,kr.maxzoom]});for(Xr in ir)ir.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Pr(ir[Xr],kr[Xr],pe,lr,Xr.slice(6),Ot.setPaintProperty):i.deepEqual(ir[Xr],kr[Xr])||pe.push({command:Ot.setLayerProperty,args:[lr,Xr,kr[Xr]]})));for(Xr in kr)!kr.hasOwnProperty(Xr)||ir.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Pr(ir[Xr],kr[Xr],pe,lr,Xr.slice(6),Ot.setPaintProperty):i.deepEqual(ir[Xr],kr[Xr])||pe.push({command:Ot.setLayerProperty,args:[lr,Xr,kr[Xr]]}))}}function Tn(he,K){if(!he)return[{command:Ot.setStyle,args:[K]}];var pe=[];try{if(!i.deepEqual(he.version,K.version))return[{command:Ot.setStyle,args:[K]}];i.deepEqual(he.center,K.center)||pe.push({command:Ot.setCenter,args:[K.center]}),i.deepEqual(he.zoom,K.zoom)||pe.push({command:Ot.setZoom,args:[K.zoom]}),i.deepEqual(he.bearing,K.bearing)||pe.push({command:Ot.setBearing,args:[K.bearing]}),i.deepEqual(he.pitch,K.pitch)||pe.push({command:Ot.setPitch,args:[K.pitch]}),i.deepEqual(he.sprite,K.sprite)||pe.push({command:Ot.setSprite,args:[K.sprite]}),i.deepEqual(he.glyphs,K.glyphs)||pe.push({command:Ot.setGlyphs,args:[K.glyphs]}),i.deepEqual(he.transition,K.transition)||pe.push({command:Ot.setTransition,args:[K.transition]}),i.deepEqual(he.light,K.light)||pe.push({command:Ot.setLight,args:[K.light]});var ee={},ge=[];Vr(he.sources,K.sources,ge,ee);var ze=[];he.layers&&he.layers.forEach(function(Ke){ee[Ke.source]?pe.push({command:Ot.removeLayer,args:[Ke.id]}):ze.push(Ke)}),pe=pe.concat(ge),Wr(ze,K.layers,pe)}catch(Ke){console.warn("Unable to compute style diff:",Ke),pe=[{command:Ot.setStyle,args:[K]}]}return pe}var An=function(K,pe){this.reset(K,pe)};An.prototype.reset=function(K,pe){this.points=K||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(pe||0,this.length*.5),this.paddedLength=this.length-this.padding*2},An.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=i.clamp(K,0,1);for(var pe=1,ee=this._distances[pe],ge=K*this.paddedLength+this.padding;ee<ge&&pe<this._distances.length;)ee=this._distances[++pe];var ze=pe-1,Ke=this._distances[ze],ft=ee-Ke,Ct=ft>0?(ge-Ke)/ft:0;return this.points[ze].mult(1-Ct).add(this.points[pe].mult(Ct))};var Tr=function(K,pe,ee){var ge=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(K/ee),this.yCellCount=Math.ceil(pe/ee);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)ge.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=pe,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/pe,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(K,pe,ee,ge,ze){this._forEachCell(pe,ee,ge,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(pe),this.bboxes.push(ee),this.bboxes.push(ge),this.bboxes.push(ze)},Tr.prototype.insertCircle=function(K,pe,ee,ge){this._forEachCell(pe-ge,ee-ge,pe+ge,ee+ge,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(pe),this.circles.push(ee),this.circles.push(ge)},Tr.prototype._insertBoxCell=function(K,pe,ee,ge,ze,Ke){this.boxCells[ze].push(Ke)},Tr.prototype._insertCircleCell=function(K,pe,ee,ge,ze,Ke){this.circleCells[ze].push(Ke)},Tr.prototype._query=function(K,pe,ee,ge,ze,Ke){if(ee<0||K>this.width||ge<0||pe>this.height)return ze?!1:[];var ft=[];if(K<=0&&pe<=0&&this.width<=ee&&this.height<=ge){if(ze)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ft.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var $t=this.circles[Ut*3],lr=this.circles[Ut*3+1],ir=this.circles[Ut*3+2];ft.push({key:this.circleKeys[Ut],x1:$t-ir,y1:lr-ir,x2:$t+ir,y2:lr+ir})}return Ke?ft.filter(Ke):ft}else{var kr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(K,pe,ee,ge,this._queryCell,ft,kr,Ke),ze?ft.length>0:ft}},Tr.prototype._queryCircle=function(K,pe,ee,ge,ze){var Ke=K-ee,ft=K+ee,Ct=pe-ee,Ut=pe+ee;if(ft<0||Ke>this.width||Ut<0||Ct>this.height)return ge?!1:[];var $t=[],lr={hitTest:ge,circle:{x:K,y:pe,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,Ct,ft,Ut,this._queryCellCircle,$t,lr,ze),ge?$t.length>0:$t},Tr.prototype.query=function(K,pe,ee,ge,ze){return this._query(K,pe,ee,ge,!1,ze)},Tr.prototype.hitTest=function(K,pe,ee,ge,ze){return this._query(K,pe,ee,ge,!0,ze)},Tr.prototype.hitTestCircle=function(K,pe,ee,ge){return this._queryCircle(K,pe,ee,!0,ge)},Tr.prototype._queryCell=function(K,pe,ee,ge,ze,Ke,ft,Ct){var Ut=ft.seenUids,$t=this.boxCells[ze];if($t!==null)for(var lr=this.bboxes,ir=0,kr=$t;ir<kr.length;ir+=1){var jr=kr[ir];if(!Ut.box[jr]){Ut.box[jr]=!0;var Xr=jr*4;if(K<=lr[Xr+2]&&pe<=lr[Xr+3]&&ee>=lr[Xr+0]&&ge>=lr[Xr+1]&&(!Ct||Ct(this.boxKeys[jr]))){if(ft.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[jr],x1:lr[Xr],y1:lr[Xr+1],x2:lr[Xr+2],y2:lr[Xr+3]})}}}var Gr=this.circleCells[ze];if(Gr!==null)for(var $r=this.circles,hn=0,In=Gr;hn<In.length;hn+=1){var On=In[hn];if(!Ut.circle[On]){Ut.circle[On]=!0;var Yn=On*3;if(this._circleAndRectCollide($r[Yn],$r[Yn+1],$r[Yn+2],K,pe,ee,ge)&&(!Ct||Ct(this.circleKeys[On]))){if(ft.hitTest)return Ke.push(!0),!0;var jn=$r[Yn],Gn=$r[Yn+1],Kn=$r[Yn+2];Ke.push({key:this.circleKeys[On],x1:jn-Kn,y1:Gn-Kn,x2:jn+Kn,y2:Gn+Kn})}}}},Tr.prototype._queryCellCircle=function(K,pe,ee,ge,ze,Ke,ft,Ct){var Ut=ft.circle,$t=ft.seenUids,lr=this.boxCells[ze];if(lr!==null)for(var ir=this.bboxes,kr=0,jr=lr;kr<jr.length;kr+=1){var Xr=jr[kr];if(!$t.box[Xr]){$t.box[Xr]=!0;var Gr=Xr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,ir[Gr+0],ir[Gr+1],ir[Gr+2],ir[Gr+3])&&(!Ct||Ct(this.boxKeys[Xr])))return Ke.push(!0),!0}}var $r=this.circleCells[ze];if($r!==null)for(var hn=this.circles,In=0,On=$r;In<On.length;In+=1){var Yn=On[In];if(!$t.circle[Yn]){$t.circle[Yn]=!0;var jn=Yn*3;if(this._circlesCollide(hn[jn],hn[jn+1],hn[jn+2],Ut.x,Ut.y,Ut.radius)&&(!Ct||Ct(this.circleKeys[Yn])))return Ke.push(!0),!0}}},Tr.prototype._forEachCell=function(K,pe,ee,ge,ze,Ke,ft,Ct){for(var Ut=this._convertToXCellCoord(K),$t=this._convertToYCellCoord(pe),lr=this._convertToXCellCoord(ee),ir=this._convertToYCellCoord(ge),kr=Ut;kr<=lr;kr++)for(var jr=$t;jr<=ir;jr++){var Xr=this.xCellCount*jr+kr;if(ze.call(this,K,pe,ee,ge,Xr,Ke,ft,Ct))return}},Tr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},Tr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},Tr.prototype._circlesCollide=function(K,pe,ee,ge,ze,Ke){var ft=ge-K,Ct=ze-pe,Ut=ee+Ke;return Ut*Ut>ft*ft+Ct*Ct},Tr.prototype._circleAndRectCollide=function(K,pe,ee,ge,ze,Ke,ft){var Ct=(Ke-ge)/2,Ut=Math.abs(K-(ge+Ct));if(Ut>Ct+ee)return!1;var $t=(ft-ze)/2,lr=Math.abs(pe-(ze+$t));if(lr>$t+ee)return!1;if(Ut<=Ct||lr<=$t)return!0;var ir=Ut-Ct,kr=lr-$t;return ir*ir+kr*kr<=ee*ee};function Fr(he,K,pe,ee,ge){var ze=i.create();return K?(i.scale(ze,ze,[1/ge,1/ge,1]),pe||i.rotateZ(ze,ze,ee.angle)):i.multiply(ze,ee.labelPlaneMatrix,he),ze}function Yr(he,K,pe,ee,ge){if(K){var ze=i.clone(he);return i.scale(ze,ze,[ge,ge,1]),pe||i.rotateZ(ze,ze,-ee.angle),ze}else return ee.glCoordMatrix}function _r(he,K){var pe=[he.x,he.y,0,1];mr(pe,pe,K);var ee=pe[3];return{point:new i.Point(pe[0]/ee,pe[1]/ee),signedDistanceFromCamera:ee}}function on(he,K){return .5+.5*(he/K)}function un(he,K){var pe=he[0]/he[3],ee=he[1]/he[3],ge=pe>=-K[0]&&pe<=K[0]&&ee>=-K[1]&&ee<=K[1];return ge}function Sn(he,K,pe,ee,ge,ze,Ke,ft){var Ct=ee?he.textSizeData:he.iconSizeData,Ut=i.evaluateSizeForZoom(Ct,pe.transform.zoom),$t=[256/pe.width*2+1,256/pe.height*2+1],lr=ee?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;lr.clear();for(var ir=he.lineVertexArray,kr=ee?he.text.placedSymbolArray:he.icon.placedSymbolArray,jr=pe.transform.width/pe.transform.height,Xr=!1,Gr=0;Gr<kr.length;Gr++){var $r=kr.get(Gr);if($r.hidden||$r.writingMode===i.WritingMode.vertical&&!Xr){Vn($r.numGlyphs,lr);continue}Xr=!1;var hn=[$r.anchorX,$r.anchorY,0,1];if(i.transformMat4(hn,hn,K),!un(hn,$t)){Vn($r.numGlyphs,lr);continue}var In=hn[3],On=on(pe.transform.cameraToCenterDistance,In),Yn=i.evaluateSizeForFeature(Ct,Ut,$r),jn=Ke?Yn/On:Yn*On,Gn=new i.Point($r.anchorX,$r.anchorY),Kn=_r(Gn,ge).point,ta={},sa=na($r,jn,!1,ft,K,ge,ze,he.glyphOffsetArray,ir,lr,Kn,Gn,ta,jr);Xr=sa.useVertical,(sa.notEnoughRoom||Xr||sa.needsFlipping&&na($r,jn,!0,ft,K,ge,ze,he.glyphOffsetArray,ir,lr,Kn,Gn,ta,jr).notEnoughRoom)&&Vn($r.numGlyphs,lr)}ee?he.text.dynamicLayoutVertexBuffer.updateData(lr):he.icon.dynamicLayoutVertexBuffer.updateData(lr)}function Ln(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t){var lr=ft.glyphStartIndex+ft.numGlyphs,ir=ft.lineStartIndex,kr=ft.lineStartIndex+ft.lineLength,jr=K.getoffsetX(ft.glyphStartIndex),Xr=K.getoffsetX(lr-1),Gr=xa(he*jr,pe,ee,ge,ze,Ke,ft.segment,ir,kr,Ct,Ut,$t);if(!Gr)return null;var $r=xa(he*Xr,pe,ee,ge,ze,Ke,ft.segment,ir,kr,Ct,Ut,$t);return $r?{first:Gr,last:$r}:null}function Un(he,K,pe,ee){if(he===i.WritingMode.horizontal){var ge=Math.abs(pe.y-K.y),ze=Math.abs(pe.x-K.x)*ee;if(ge>ze)return{useVertical:!0}}return(he===i.WritingMode.vertical?K.y<pe.y:K.x>pe.x)?{needsFlipping:!0}:null}function na(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr,ir,kr){var jr=K/24,Xr=he.lineOffsetX*jr,Gr=he.lineOffsetY*jr,$r;if(he.numGlyphs>1){var hn=he.glyphStartIndex+he.numGlyphs,In=he.lineStartIndex,On=he.lineStartIndex+he.lineLength,Yn=Ln(jr,ft,Xr,Gr,pe,$t,lr,he,Ct,ze,ir);if(!Yn)return{notEnoughRoom:!0};var jn=_r(Yn.first.point,Ke).point,Gn=_r(Yn.last.point,Ke).point;if(ee&&!pe){var Kn=Un(he.writingMode,jn,Gn,kr);if(Kn)return Kn}$r=[Yn.first];for(var ta=he.glyphStartIndex+1;ta<hn-1;ta++)$r.push(xa(jr*ft.getoffsetX(ta),Xr,Gr,pe,$t,lr,he.segment,In,On,Ct,ze,ir));$r.push(Yn.last)}else{if(ee&&!pe){var sa=_r(lr,ge).point,ma=he.lineStartIndex+he.segment+1,va=new i.Point(Ct.getx(ma),Ct.gety(ma)),_a=_r(va,ge),$a=_a.signedDistanceFromCamera>0?_a.point:ga(lr,va,sa,1,ge),Xa=Un(he.writingMode,sa,$a,kr);if(Xa)return Xa}var Sa=xa(jr*ft.getoffsetX(he.glyphStartIndex),Xr,Gr,pe,$t,lr,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,Ct,ze,ir);if(!Sa)return{notEnoughRoom:!0};$r=[Sa]}for(var ja=0,Ha=$r;ja<Ha.length;ja+=1){var li=Ha[ja];i.addDynamicAttributes(Ut,li.point,li.angle)}return{}}function ga(he,K,pe,ee,ge){var ze=_r(he.add(he.sub(K)._unit()),ge).point,Ke=pe.sub(ze);return pe.add(Ke._mult(ee/Ke.mag()))}function xa(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr){var ir=ee?he-K:he+K,kr=ir>0?1:-1,jr=0;ee&&(kr*=-1,jr=Math.PI),kr<0&&(jr+=Math.PI);for(var Xr=kr>0?ft+Ke:ft+Ke+1,Gr=ge,$r=ge,hn=0,In=0,On=Math.abs(ir),Yn=[];hn+In<=On;){if(Xr+=kr,Xr<ft||Xr>=Ct)return null;if($r=Gr,Yn.push(Gr),Gr=lr[Xr],Gr===void 0){var jn=new i.Point(Ut.getx(Xr),Ut.gety(Xr)),Gn=_r(jn,$t);if(Gn.signedDistanceFromCamera>0)Gr=lr[Xr]=Gn.point;else{var Kn=Xr-kr,ta=hn===0?ze:new i.Point(Ut.getx(Kn),Ut.gety(Kn));Gr=ga(ta,jn,$r,On-hn+1,$t)}}hn+=In,In=$r.dist(Gr)}var sa=(On-hn)/In,ma=Gr.sub($r),va=ma.mult(sa)._add($r);va._add(ma._unit()._perp()._mult(pe*kr));var _a=jr+Math.atan2(Gr.y-$r.y,Gr.x-$r.x);return Yn.push(va),{point:va,angle:_a,path:Yn}}var ca=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Vn(he,K){for(var pe=0;pe<he;pe++){var ee=K.length;K.resize(ee+4),K.float32.set(ca,ee*3)}}function mr(he,K,pe){var ee=K[0],ge=K[1];return he[0]=pe[0]*ee+pe[4]*ge+pe[12],he[1]=pe[1]*ee+pe[5]*ge+pe[13],he[3]=pe[3]*ee+pe[7]*ge+pe[15],he}var Jr=100,Qr=function(K,pe,ee){pe===void 0&&(pe=new Tr(K.width+2*Jr,K.height+2*Jr,25)),ee===void 0&&(ee=new Tr(K.width+2*Jr,K.height+2*Jr,25)),this.transform=K,this.grid=pe,this.ignoredGrid=ee,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+Jr,this.screenBottomBoundary=K.height+Jr,this.gridRightBoundary=K.width+2*Jr,this.gridBottomBoundary=K.height+2*Jr};Qr.prototype.placeCollisionBox=function(K,pe,ee,ge,ze){var Ke=this.projectAndGetPerspectiveRatio(ge,K.anchorPointX,K.anchorPointY),ft=ee*Ke.perspectiveRatio,Ct=K.x1*ft+Ke.point.x,Ut=K.y1*ft+Ke.point.y,$t=K.x2*ft+Ke.point.x,lr=K.y2*ft+Ke.point.y;return!this.isInsideGrid(Ct,Ut,$t,lr)||!pe&&this.grid.hitTest(Ct,Ut,$t,lr,ze)?{box:[],offscreen:!1}:{box:[Ct,Ut,$t,lr],offscreen:this.isOffscreen(Ct,Ut,$t,lr)}},Qr.prototype.placeCollisionCircles=function(K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr,ir,kr){var jr=[],Xr=new i.Point(pe.anchorX,pe.anchorY),Gr=_r(Xr,Ke),$r=on(this.transform.cameraToCenterDistance,Gr.signedDistanceFromCamera),hn=$t?ze/$r:ze*$r,In=hn/i.ONE_EM,On=_r(Xr,ft).point,Yn={},jn=pe.lineOffsetX*In,Gn=pe.lineOffsetY*In,Kn=Ln(In,ge,jn,Gn,!1,On,Xr,pe,ee,ft,Yn),ta=!1,sa=!1,ma=!0;if(Kn){for(var va=ir*.5*$r+kr,_a=new i.Point(-Jr,-Jr),$a=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Xa=new An,Sa=Kn.first,ja=Kn.last,Ha=[],li=Sa.path.length-1;li>=1;li--)Ha.push(Sa.path[li]);for(var ri=1;ri<ja.path.length;ri++)Ha.push(ja.path[ri]);var Mi=va*2.5;if(Ct){var Qa=Ha.map(function(Sl){return _r(Sl,Ct)});Qa.some(function(Sl){return Sl.signedDistanceFromCamera<=0})?Ha=[]:Ha=Qa.map(function(Sl){return Sl.point})}var xi=[];if(Ha.length>0){for(var Ga=Ha[0].clone(),qa=Ha[0].clone(),Ui=1;Ui<Ha.length;Ui++)Ga.x=Math.min(Ga.x,Ha[Ui].x),Ga.y=Math.min(Ga.y,Ha[Ui].y),qa.x=Math.max(qa.x,Ha[Ui].x),qa.y=Math.max(qa.y,Ha[Ui].y);Ga.x>=_a.x&&qa.x<=$a.x&&Ga.y>=_a.y&&qa.y<=$a.y?xi=[Ha]:qa.x<_a.x||Ga.x>$a.x||qa.y<_a.y||Ga.y>$a.y?xi=[]:xi=i.clipLine([Ha],_a.x,_a.y,$a.x,$a.y)}for(var xo=0,rl=xi;xo<rl.length;xo+=1){var nl=rl[xo];Xa.reset(nl,va*.25);var Tl=0;Xa.length<=.5*va?Tl=1:Tl=Math.ceil(Xa.paddedLength/Mi)+1;for(var ql=0;ql<Tl;ql++){var Hf=ql/Math.max(Tl-1,1),eu=Xa.lerp(Hf),ss=eu.x+Jr,tu=eu.y+Jr;jr.push(ss,tu,va,0);var Ts=ss-va,ls=tu-va,Al=ss+va,ku=tu+va;if(ma=ma&&this.isOffscreen(Ts,ls,Al,ku),sa=sa||this.isInsideGrid(Ts,ls,Al,ku),!K&&this.grid.hitTestCircle(ss,tu,va,lr)&&(ta=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:ta}}}}return{circles:!Ut&&ta||!sa?[]:jr,offscreen:ma,collisionDetected:ta}},Qr.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var pe=[],ee=1/0,ge=1/0,ze=-1/0,Ke=-1/0,ft=0,Ct=K;ft<Ct.length;ft+=1){var Ut=Ct[ft],$t=new i.Point(Ut.x+Jr,Ut.y+Jr);ee=Math.min(ee,$t.x),ge=Math.min(ge,$t.y),ze=Math.max(ze,$t.x),Ke=Math.max(Ke,$t.y),pe.push($t)}for(var lr=this.grid.query(ee,ge,ze,Ke).concat(this.ignoredGrid.query(ee,ge,ze,Ke)),ir={},kr={},jr=0,Xr=lr;jr<Xr.length;jr+=1){var Gr=Xr[jr],$r=Gr.key;if(ir[$r.bucketInstanceId]===void 0&&(ir[$r.bucketInstanceId]={}),!ir[$r.bucketInstanceId][$r.featureIndex]){var hn=[new i.Point(Gr.x1,Gr.y1),new i.Point(Gr.x2,Gr.y1),new i.Point(Gr.x2,Gr.y2),new i.Point(Gr.x1,Gr.y2)];i.polygonIntersectsPolygon(pe,hn)&&(ir[$r.bucketInstanceId][$r.featureIndex]=!0,kr[$r.bucketInstanceId]===void 0&&(kr[$r.bucketInstanceId]=[]),kr[$r.bucketInstanceId].push($r.featureIndex))}}return kr},Qr.prototype.insertCollisionBox=function(K,pe,ee,ge,ze){var Ke=pe?this.ignoredGrid:this.grid,ft={bucketInstanceId:ee,featureIndex:ge,collisionGroupID:ze};Ke.insert(ft,K[0],K[1],K[2],K[3])},Qr.prototype.insertCollisionCircles=function(K,pe,ee,ge,ze){for(var Ke=pe?this.ignoredGrid:this.grid,ft={bucketInstanceId:ee,featureIndex:ge,collisionGroupID:ze},Ct=0;Ct<K.length;Ct+=4)Ke.insertCircle(ft,K[Ct],K[Ct+1],K[Ct+2])},Qr.prototype.projectAndGetPerspectiveRatio=function(K,pe,ee){var ge=[pe,ee,0,1];mr(ge,ge,K);var ze=new i.Point((ge[0]/ge[3]+1)/2*this.transform.width+Jr,(-ge[1]/ge[3]+1)/2*this.transform.height+Jr);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ge[3])}},Qr.prototype.isOffscreen=function(K,pe,ee,ge){return ee<Jr||K>=this.screenRightBoundary||ge<Jr||pe>this.screenBottomBoundary},Qr.prototype.isInsideGrid=function(K,pe,ee,ge){return ee>=0&&K<this.gridRightBoundary&&ge>=0&&pe<this.gridBottomBoundary},Qr.prototype.getViewportMatrix=function(){var K=i.identity([]);return i.translate(K,K,[-Jr,-Jr,0]),K};function vn(he,K,pe){return K*(i.EXTENT/(he.tileSize*Math.pow(2,pe-he.tileID.overscaledZ)))}var _n=function(K,pe,ee,ge){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?pe:-pe))):this.opacity=ge&&ee?1:0,this.placed=ee};_n.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var xn=function(K,pe,ee,ge,ze){this.text=new _n(K?K.text:null,pe,ee,ze),this.icon=new _n(K?K.icon:null,pe,ge,ze)};xn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var bn=function(K,pe,ee){this.text=K,this.icon=pe,this.skipFade=ee},Bn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Jn=function(K,pe,ee,ge,ze){this.bucketInstanceId=K,this.featureIndex=pe,this.sourceLayerIndex=ee,this.bucketIndex=ge,this.tileID=ze},ha=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};ha.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var pe=++this.maxGroupID;this.collisionGroups[K]={ID:pe,predicate:function(ee){return ee.collisionGroupID===pe}}}return this.collisionGroups[K]};function Ia(he,K,pe,ee,ge){var ze=i.getAnchorAlignment(he),Ke=ze.horizontalAlign,ft=ze.verticalAlign,Ct=-(Ke-.5)*K,Ut=-(ft-.5)*pe,$t=i.evaluateVariableOffset(he,ee);return new i.Point(Ct+$t[0]*ge,Ut+$t[1]*ge)}function Ar(he,K,pe,ee,ge,ze){var Ke=he.x1,ft=he.x2,Ct=he.y1,Ut=he.y2,$t=he.anchorPointX,lr=he.anchorPointY,ir=new i.Point(K,pe);return ee&&ir._rotate(ge?ze:-ze),{x1:Ke+ir.x,y1:Ct+ir.y,x2:ft+ir.x,y2:Ut+ir.y,anchorPointX:$t,anchorPointY:lr}}var zr=function(K,pe,ee,ge){this.transform=K.clone(),this.collisionIndex=new Qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=pe,this.retainedQueryData={},this.collisionGroups=new ha(ee),this.collisionCircleArrays={},this.prevPlacement=ge,ge&&(ge.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(K,pe,ee,ge){var ze=ee.getBucket(pe),Ke=ee.latestFeatureIndex;if(!(!ze||!Ke||pe.id!==ze.layerIds[0])){var ft=ee.collisionBoxArray,Ct=ze.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),$t=ee.tileSize/i.EXTENT,lr=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),ir=Ct.get("text-pitch-alignment")==="map",kr=Ct.get("text-rotation-alignment")==="map",jr=vn(ee,1,this.transform.zoom),Xr=Fr(lr,ir,kr,this.transform,jr),Gr=null;if(ir){var $r=Yr(lr,ir,kr,this.transform,jr);Gr=i.multiply([],this.transform.labelPlaneMatrix,$r)}this.retainedQueryData[ze.bucketInstanceId]=new Jn(ze.bucketInstanceId,Ke,ze.sourceLayerIndex,ze.index,ee.tileID);var hn={bucket:ze,layout:Ct,posMatrix:lr,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Gr,scale:Ut,textPixelRatio:$t,holdingForFade:ee.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(ge)for(var In=0,On=ze.sortKeyRanges;In<On.length;In+=1){var Yn=On[In],jn=Yn.sortKey,Gn=Yn.symbolInstanceStart,Kn=Yn.symbolInstanceEnd;K.push({sortKey:jn,symbolInstanceStart:Gn,symbolInstanceEnd:Kn,parameters:hn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:hn})}},zr.prototype.attemptAnchorPlacement=function(K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr,ir,kr,jr,Xr){var Gr=[ir.textOffset0,ir.textOffset1],$r=Ia(K,ee,ge,Gr,ze),hn=this.collisionIndex.placeCollisionBox(Ar(pe,$r.x,$r.y,Ke,ft,this.transform.angle),lr,Ct,Ut,$t.predicate);if(Xr){var In=this.collisionIndex.placeCollisionBox(Ar(Xr,$r.x,$r.y,Ke,ft,this.transform.angle),lr,Ct,Ut,$t.predicate);if(In.box.length===0)return}if(hn.box.length>0){var On;return this.prevPlacement&&this.prevPlacement.variableOffsets[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID].text&&(On=this.prevPlacement.variableOffsets[ir.crossTileID].anchor),this.variableOffsets[ir.crossTileID]={textOffset:Gr,width:ee,height:ge,anchor:K,textBoxScale:ze,prevAnchor:On},this.markUsedJustification(kr,K,ir,jr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,jr,ir),this.placedOrientations[ir.crossTileID]=jr),{shift:$r,placedGlyphBoxes:hn}}},zr.prototype.placeLayerBucketPart=function(K,pe,ee){var ge=this,ze=K.parameters,Ke=ze.bucket,ft=ze.layout,Ct=ze.posMatrix,Ut=ze.textLabelPlaneMatrix,$t=ze.labelToScreenMatrix,lr=ze.textPixelRatio,ir=ze.holdingForFade,kr=ze.collisionBoxArray,jr=ze.partiallyEvaluatedTextSize,Xr=ze.collisionGroup,Gr=ft.get("text-optional"),$r=ft.get("icon-optional"),hn=ft.get("text-allow-overlap"),In=ft.get("icon-allow-overlap"),On=ft.get("text-rotation-alignment")==="map",Yn=ft.get("text-pitch-alignment")==="map",jn=ft.get("icon-text-fit")!=="none",Gn=ft.get("symbol-z-order")==="viewport-y",Kn=hn&&(In||!Ke.hasIconData()||$r),ta=In&&(hn||!Ke.hasTextData()||Gr);!Ke.collisionArrays&&kr&&Ke.deserializeCollisionBoxes(kr);var sa=function(Sa,ja){if(!pe[Sa.crossTileID]){if(ir){ge.placements[Sa.crossTileID]=new bn(!1,!1,!1);return}var Ha=!1,li=!1,ri=!0,Mi=null,Qa={box:null,offscreen:null},xi={box:null,offscreen:null},Ga=null,qa=null,Ui=null,xo=0,rl=0,nl=0;ja.textFeatureIndex?xo=ja.textFeatureIndex:Sa.useRuntimeCollisionCircles&&(xo=Sa.featureIndex),ja.verticalTextFeatureIndex&&(rl=ja.verticalTextFeatureIndex);var Tl=ja.textBox;if(Tl){var ql=function(Xi){var As=i.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!Xi&&ge.prevPlacement){var Ss=ge.prevPlacement.placedOrientations[Sa.crossTileID];Ss&&(ge.placedOrientations[Sa.crossTileID]=Ss,As=Ss,ge.markUsedOrientation(Ke,As,Sa))}return As},Hf=function(Xi,As){if(Ke.allowVerticalPlacement&&Sa.numVerticalGlyphVertices>0&&ja.verticalTextBox)for(var Ss=0,sv=Ke.writingModes;Ss<sv.length;Ss+=1){var hd=sv[Ss];if(hd===i.WritingMode.vertical?(Qa=As(),xi=Qa):Qa=Xi(),Qa&&Qa.box&&Qa.box.length)break}else Qa=Xi()};if(ft.get("text-variable-anchor")){var Ts=ft.get("text-variable-anchor");if(ge.prevPlacement&&ge.prevPlacement.variableOffsets[Sa.crossTileID]){var ls=ge.prevPlacement.variableOffsets[Sa.crossTileID];Ts.indexOf(ls.anchor)>0&&(Ts=Ts.filter(function(Xi){return Xi!==ls.anchor}),Ts.unshift(ls.anchor))}var Al=function(Xi,As,Ss){for(var sv=Xi.x2-Xi.x1,hd=Xi.y2-Xi.y1,Og=Sa.textBoxScale,Bg=jn&&!In?As:null,kh={box:[],offscreen:!1},Ng=hn?Ts.length*2:Ts.length,lv=0;lv<Ng;++lv){var Ug=Ts[lv%Ts.length],Vg=lv>=Ts.length,vd=ge.attemptAnchorPlacement(Ug,Xi,sv,hd,Og,On,Yn,lr,Ct,Xr,Vg,Sa,Ke,Ss,Bg);if(vd&&(kh=vd.placedGlyphBoxes,kh&&kh.box&&kh.box.length)){Ha=!0,Mi=vd.shift;break}}return kh},ku=function(){return Al(Tl,ja.iconBox,i.WritingMode.horizontal)},Sl=function(){var Xi=ja.verticalTextBox,As=Qa&&Qa.box&&Qa.box.length;return Ke.allowVerticalPlacement&&!As&&Sa.numVerticalGlyphVertices>0&&Xi?Al(Xi,ja.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};Hf(ku,Sl),Qa&&(Ha=Qa.box,ri=Qa.offscreen);var rv=ql(Qa&&Qa.box);if(!Ha&&ge.prevPlacement){var Dc=ge.prevPlacement.variableOffsets[Sa.crossTileID];Dc&&(ge.variableOffsets[Sa.crossTileID]=Dc,ge.markUsedJustification(Ke,Dc.anchor,Sa,rv))}}else{var eu=function(Xi,As){var Ss=ge.collisionIndex.placeCollisionBox(Xi,hn,lr,Ct,Xr.predicate);return Ss&&Ss.box&&Ss.box.length&&(ge.markUsedOrientation(Ke,As,Sa),ge.placedOrientations[Sa.crossTileID]=As),Ss},ss=function(){return eu(Tl,i.WritingMode.horizontal)},tu=function(){var Xi=ja.verticalTextBox;return Ke.allowVerticalPlacement&&Sa.numVerticalGlyphVertices>0&&Xi?eu(Xi,i.WritingMode.vertical):{box:null,offscreen:null}};Hf(ss,tu),ql(Qa&&Qa.box&&Qa.box.length)}}if(Ga=Qa,Ha=Ga&&Ga.box&&Ga.box.length>0,ri=Ga&&Ga.offscreen,Sa.useRuntimeCollisionCircles){var So=Ke.text.placedSymbolArray.get(Sa.centerJustifiedTextSymbolIndex),nv=i.evaluateSizeForFeature(Ke.textSizeData,jr,So),Ih=ft.get("text-padding"),jo=Sa.collisionCircleDiameter;qa=ge.collisionIndex.placeCollisionCircles(hn,So,Ke.lineVertexArray,Ke.glyphOffsetArray,nv,Ct,Ut,$t,ee,Yn,Xr.predicate,jo,Ih),Ha=hn||qa.circles.length>0&&!qa.collisionDetected,ri=ri&&qa.offscreen}if(ja.iconFeatureIndex&&(nl=ja.iconFeatureIndex),ja.iconBox){var Ic=function(Xi){var As=jn&&Mi?Ar(Xi,Mi.x,Mi.y,On,Yn,ge.transform.angle):Xi;return ge.collisionIndex.placeCollisionBox(As,In,lr,Ct,Xr.predicate)};xi&&xi.box&&xi.box.length&&ja.verticalIconBox?(Ui=Ic(ja.verticalIconBox),li=Ui.box.length>0):(Ui=Ic(ja.iconBox),li=Ui.box.length>0),ri=ri&&Ui.offscreen}var av=Gr||Sa.numHorizontalGlyphVertices===0&&Sa.numVerticalGlyphVertices===0,iv=$r||Sa.numIconVertices===0;if(!av&&!iv?li=Ha=li&&Ha:iv?av||(li=li&&Ha):Ha=li&&Ha,Ha&&Ga&&Ga.box&&(xi&&xi.box&&rl?ge.collisionIndex.insertCollisionBox(Ga.box,ft.get("text-ignore-placement"),Ke.bucketInstanceId,rl,Xr.ID):ge.collisionIndex.insertCollisionBox(Ga.box,ft.get("text-ignore-placement"),Ke.bucketInstanceId,xo,Xr.ID)),li&&Ui&&ge.collisionIndex.insertCollisionBox(Ui.box,ft.get("icon-ignore-placement"),Ke.bucketInstanceId,nl,Xr.ID),qa&&(Ha&&ge.collisionIndex.insertCollisionCircles(qa.circles,ft.get("text-ignore-placement"),Ke.bucketInstanceId,xo,Xr.ID),ee)){var ov=Ke.bucketInstanceId,kc=ge.collisionCircleArrays[ov];kc===void 0&&(kc=ge.collisionCircleArrays[ov]=new Bn);for(var Fc=0;Fc<qa.circles.length;Fc+=4)kc.circles.push(qa.circles[Fc+0]),kc.circles.push(qa.circles[Fc+1]),kc.circles.push(qa.circles[Fc+2]),kc.circles.push(qa.collisionDetected?1:0)}ge.placements[Sa.crossTileID]=new bn(Ha||Kn,li||ta,ri||Ke.justReloaded),pe[Sa.crossTileID]=!0}};if(Gn)for(var ma=Ke.getSortedSymbolIndexes(this.transform.angle),va=ma.length-1;va>=0;--va){var _a=ma[va];sa(Ke.symbolInstances.get(_a),Ke.collisionArrays[_a])}else for(var $a=K.symbolInstanceStart;$a<K.symbolInstanceEnd;$a++)sa(Ke.symbolInstances.get($a),Ke.collisionArrays[$a]);if(ee&&Ke.bucketInstanceId in this.collisionCircleArrays){var Xa=this.collisionCircleArrays[Ke.bucketInstanceId];i.invert(Xa.invProjMatrix,Ct),Xa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},zr.prototype.markUsedJustification=function(K,pe,ee,ge){var ze={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},Ke;ge===i.WritingMode.vertical?Ke=ee.verticalPlacedTextSymbolIndex:Ke=ze[i.getAnchorJustification(pe)];for(var ft=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],Ct=0,Ut=ft;Ct<Ut.length;Ct+=1){var $t=Ut[Ct];$t>=0&&(Ke>=0&&$t!==Ke?K.text.placedSymbolArray.get($t).crossTileID=0:K.text.placedSymbolArray.get($t).crossTileID=ee.crossTileID)}},zr.prototype.markUsedOrientation=function(K,pe,ee){for(var ge=pe===i.WritingMode.horizontal||pe===i.WritingMode.horizontalOnly?pe:0,ze=pe===i.WritingMode.vertical?pe:0,Ke=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],ft=0,Ct=Ke;ft<Ct.length;ft+=1){var Ut=Ct[ft];K.text.placedSymbolArray.get(Ut).placedOrientation=ge}ee.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=ze)},zr.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var pe=this.prevPlacement,ee=!1;this.prevZoomAdjustment=pe?pe.zoomAdjustment(this.transform.zoom):0;var ge=pe?pe.symbolFadeChange(K):1,ze=pe?pe.opacities:{},Ke=pe?pe.variableOffsets:{},ft=pe?pe.placedOrientations:{};for(var Ct in this.placements){var Ut=this.placements[Ct],$t=ze[Ct];$t?(this.opacities[Ct]=new xn($t,ge,Ut.text,Ut.icon),ee=ee||Ut.text!==$t.text.placed||Ut.icon!==$t.icon.placed):(this.opacities[Ct]=new xn(null,ge,Ut.text,Ut.icon,Ut.skipFade),ee=ee||Ut.text||Ut.icon)}for(var lr in ze){var ir=ze[lr];if(!this.opacities[lr]){var kr=new xn(ir,ge,!1,!1);kr.isHidden()||(this.opacities[lr]=kr,ee=ee||ir.text.placed||ir.icon.placed)}}for(var jr in Ke)!this.variableOffsets[jr]&&this.opacities[jr]&&!this.opacities[jr].isHidden()&&(this.variableOffsets[jr]=Ke[jr]);for(var Xr in ft)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ft[Xr]);ee?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=pe?pe.lastPlacementChangeTime:K)},zr.prototype.updateLayerOpacities=function(K,pe){for(var ee={},ge=0,ze=pe;ge<ze.length;ge+=1){var Ke=ze[ge],ft=Ke.getBucket(K);ft&&Ke.latestFeatureIndex&&K.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,ee,Ke.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(K,pe,ee){var ge=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var ze=K.layers[0].layout,Ke=new xn(null,0,!1,!1,!0),ft=ze.get("text-allow-overlap"),Ct=ze.get("icon-allow-overlap"),Ut=ze.get("text-variable-anchor"),$t=ze.get("text-rotation-alignment")==="map",lr=ze.get("text-pitch-alignment")==="map",ir=ze.get("icon-text-fit")!=="none",kr=new xn(null,0,ft&&(Ct||!K.hasIconData()||ze.get("icon-optional")),Ct&&(ft||!K.hasTextData()||ze.get("text-optional")),!0);!K.collisionArrays&&ee&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(ee);for(var jr=function(hn,In,On){for(var Yn=0;Yn<In/4;Yn++)hn.opacityVertexArray.emplaceBack(On)},Xr=function(hn){var In=K.symbolInstances.get(hn),On=In.numHorizontalGlyphVertices,Yn=In.numVerticalGlyphVertices,jn=In.crossTileID,Gn=pe[jn],Kn=ge.opacities[jn];Gn?Kn=Ke:Kn||(Kn=kr,ge.opacities[jn]=Kn),pe[jn]=!0;var ta=On>0||Yn>0,sa=In.numIconVertices>0,ma=ge.placedOrientations[In.crossTileID],va=ma===i.WritingMode.vertical,_a=ma===i.WritingMode.horizontal||ma===i.WritingMode.horizontalOnly;if(ta){var $a=Hr(Kn.text),Xa=va?en:$a;jr(K.text,On,Xa);var Sa=_a?en:$a;jr(K.text,Yn,Sa);var ja=Kn.text.isHidden();[In.rightJustifiedTextSymbolIndex,In.centerJustifiedTextSymbolIndex,In.leftJustifiedTextSymbolIndex].forEach(function(nl){nl>=0&&(K.text.placedSymbolArray.get(nl).hidden=ja||va?1:0)}),In.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(In.verticalPlacedTextSymbolIndex).hidden=ja||_a?1:0);var Ha=ge.variableOffsets[In.crossTileID];Ha&&ge.markUsedJustification(K,Ha.anchor,In,ma);var li=ge.placedOrientations[In.crossTileID];li&&(ge.markUsedJustification(K,"left",In,li),ge.markUsedOrientation(K,li,In))}if(sa){var ri=Hr(Kn.icon),Mi=!(ir&&In.verticalPlacedIconSymbolIndex&&va);if(In.placedIconSymbolIndex>=0){var Qa=Mi?ri:en;jr(K.icon,In.numIconVertices,Qa),K.icon.placedSymbolArray.get(In.placedIconSymbolIndex).hidden=Kn.icon.isHidden()}if(In.verticalPlacedIconSymbolIndex>=0){var xi=Mi?en:ri;jr(K.icon,In.numVerticalIconVertices,xi),K.icon.placedSymbolArray.get(In.verticalPlacedIconSymbolIndex).hidden=Kn.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Ga=K.collisionArrays[hn];if(Ga){var qa=new i.Point(0,0);if(Ga.textBox||Ga.verticalTextBox){var Ui=!0;if(Ut){var xo=ge.variableOffsets[jn];xo?(qa=Ia(xo.anchor,xo.width,xo.height,xo.textOffset,xo.textBoxScale),$t&&qa._rotate(lr?ge.transform.angle:-ge.transform.angle)):Ui=!1}Ga.textBox&&Sr(K.textCollisionBox.collisionVertexArray,Kn.text.placed,!Ui||va,qa.x,qa.y),Ga.verticalTextBox&&Sr(K.textCollisionBox.collisionVertexArray,Kn.text.placed,!Ui||_a,qa.x,qa.y)}var rl=!!(!_a&&Ga.verticalIconBox);Ga.iconBox&&Sr(K.iconCollisionBox.collisionVertexArray,Kn.icon.placed,rl,ir?qa.x:0,ir?qa.y:0),Ga.verticalIconBox&&Sr(K.iconCollisionBox.collisionVertexArray,Kn.icon.placed,!rl,ir?qa.x:0,ir?qa.y:0)}}},Gr=0;Gr<K.symbolInstances.length;Gr++)Xr(Gr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var $r=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=$r.invProjMatrix,K.placementViewportMatrix=$r.viewportMatrix,K.collisionCircleArray=$r.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},zr.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(K,pe){var ee=this.zoomAtLastRecencyCheck===pe?1-this.zoomAdjustment(pe):1;return this.zoomAtLastRecencyCheck=pe,this.commitTime+this.fadeDuration*ee>K},zr.prototype.setStale=function(){this.stale=!0};function Sr(he,K,pe,ee,ge){he.emplaceBack(K?1:0,pe?1:0,ee||0,ge||0),he.emplaceBack(K?1:0,pe?1:0,ee||0,ge||0),he.emplaceBack(K?1:0,pe?1:0,ee||0,ge||0),he.emplaceBack(K?1:0,pe?1:0,ee||0,ge||0)}var Or=Math.pow(2,25),yn=Math.pow(2,24),Rn=Math.pow(2,17),pn=Math.pow(2,16),sn=Math.pow(2,9),Er=Math.pow(2,8),Zr=Math.pow(2,1);function Hr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var K=he.placed?1:0,pe=Math.floor(he.opacity*127);return pe*Or+K*yn+pe*Rn+K*pn+pe*sn+K*Er+pe*Zr+K}var en=0,wn=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(K,pe,ee,ge,ze){for(var Ke=this._bucketParts;this._currentTileIndex<K.length;){var ft=K[this._currentTileIndex];if(pe.getBucketParts(Ke,ge,ft,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Ut,$t){return Ut.sortKey-$t.sortKey}));this._currentPartIndex<Ke.length;){var Ct=Ke[this._currentPartIndex];if(pe.placeLayerBucketPart(Ct,this._seenCrossTileIDs,ee),this._currentPartIndex++,ze())return!0}return!1};var Fn=function(K,pe,ee,ge,ze,Ke,ft){this.placement=new zr(K,ze,Ke,ft),this._currentPlacementIndex=pe.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=ge,this._done=!1};Fn.prototype.isDone=function(){return this._done},Fn.prototype.continuePlacement=function(K,pe,ee){for(var ge=this,ze=i.browser.now(),Ke=function(){var lr=i.browser.now()-ze;return ge._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ft=K[this._currentPlacementIndex],Ct=pe[ft],Ut=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Ut)&&(!Ct.maxzoom||Ct.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new wn(Ct));var $t=this._inProgressLayer.continuePlacement(ee[Ct.source],this.placement,this._showCollisionBoxes,Ct,Ke);if($t)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Fn.prototype.commit=function(K){return this.placement.commit(K),this.placement};var Mn=512/i.EXTENT/2,Nn=function(K,pe,ee){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var ge=0;ge<pe.length;ge++){var ze=pe.get(ge),Ke=ze.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,K)})}};Nn.prototype.getScaledCoordinates=function(K,pe){var ee=pe.canonical.z-this.tileID.canonical.z,ge=Mn/Math.pow(2,ee);return{x:Math.floor((pe.canonical.x*i.EXTENT+K.anchorX)*ge),y:Math.floor((pe.canonical.y*i.EXTENT+K.anchorY)*ge)}},Nn.prototype.findMatches=function(K,pe,ee){for(var ge=this.tileID.canonical.z<pe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-pe.canonical.z),ze=0;ze<K.length;ze++){var Ke=K.get(ze);if(!Ke.crossTileID){var ft=this.indexedSymbolInstances[Ke.key];if(ft)for(var Ct=this.getScaledCoordinates(Ke,pe),Ut=0,$t=ft;Ut<$t.length;Ut+=1){var lr=$t[Ut];if(Math.abs(lr.coord.x-Ct.x)<=ge&&Math.abs(lr.coord.y-Ct.y)<=ge&&!ee[lr.crossTileID]){ee[lr.crossTileID]=!0,Ke.crossTileID=lr.crossTileID;break}}}}};var zn=function(){this.maxCrossTileID=0};zn.prototype.generate=function(){return++this.maxCrossTileID};var fa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};fa.prototype.handleWrapJump=function(K){var pe=Math.round((K-this.lng)/360);if(pe!==0)for(var ee in this.indexes){var ge=this.indexes[ee],ze={};for(var Ke in ge){var ft=ge[Ke];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+pe),ze[ft.tileID.key]=ft}this.indexes[ee]=ze}this.lng=K},fa.prototype.addBucket=function(K,pe,ee){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===pe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var ge=0;ge<pe.symbolInstances.length;ge++){var ze=pe.symbolInstances.get(ge);ze.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var Ke=this.usedCrossTileIDs[K.overscaledZ];for(var ft in this.indexes){var Ct=this.indexes[ft];if(Number(ft)>K.overscaledZ)for(var Ut in Ct){var $t=Ct[Ut];$t.tileID.isChildOf(K)&&$t.findMatches(pe.symbolInstances,K,Ke)}else{var lr=K.scaledTo(Number(ft)),ir=Ct[lr.key];ir&&ir.findMatches(pe.symbolInstances,K,Ke)}}for(var kr=0;kr<pe.symbolInstances.length;kr++){var jr=pe.symbolInstances.get(kr);jr.crossTileID||(jr.crossTileID=ee.generate(),Ke[jr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Nn(K,pe.symbolInstances,pe.bucketInstanceId),!0},fa.prototype.removeBucketCrossTileIDs=function(K,pe){for(var ee in pe.indexedSymbolInstances)for(var ge=0,ze=pe.indexedSymbolInstances[ee];ge<ze.length;ge+=1){var Ke=ze[ge];delete this.usedCrossTileIDs[K][Ke.crossTileID]}},fa.prototype.removeStaleBuckets=function(K){var pe=!1;for(var ee in this.indexes){var ge=this.indexes[ee];for(var ze in ge)K[ge[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,ge[ze]),delete ge[ze],pe=!0)}return pe};var ia=function(){this.layerIndexes={},this.crossTileIDs=new zn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ia.prototype.addLayer=function(K,pe,ee){var ge=this.layerIndexes[K.id];ge===void 0&&(ge=this.layerIndexes[K.id]=new fa);var ze=!1,Ke={};ge.handleWrapJump(ee);for(var ft=0,Ct=pe;ft<Ct.length;ft+=1){var Ut=Ct[ft],$t=Ut.getBucket(K);!$t||K.id!==$t.layerIds[0]||($t.bucketInstanceId||($t.bucketInstanceId=++this.maxBucketInstanceId),ge.addBucket(Ut.tileID,$t,this.crossTileIDs)&&(ze=!0),Ke[$t.bucketInstanceId]=!0)}return ge.removeStaleBuckets(Ke)&&(ze=!0),ze},ia.prototype.pruneUnusedLayers=function(K){var pe={};K.forEach(function(ge){pe[ge]=!0});for(var ee in this.layerIndexes)pe[ee]||delete this.layerIndexes[ee]};var pa=function(he,K){return i.emitValidationErrors(he,K&&K.filter(function(pe){return pe.identifier!=="source.canvas"}))},La=i.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),yi=i.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),ii=er(),Bo=function(he){function K(pe,ee){var ge=this;ee===void 0&&(ee={}),he.call(this),this.map=pe,this.dispatcher=new I(_t(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new M(pe._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new ia,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var ze=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(Ke){var ft={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",ft,function(Ct,Ut){if(i.triggerPluginCompletionEvent(Ct),Ut){var $t=Ut.every(function(ir){return ir});if($t)for(var lr in ze.sourceCaches)ze.sourceCaches[lr].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var ft=ge.sourceCaches[Ke.sourceId];if(ft){var Ct=ft.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Ut in ge._layers){var $t=ge._layers[Ut];$t.source===Ct.id&&ge._validateLayer($t)}}}})}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(ee,ge){var ze=this;ge===void 0&&(ge={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Ke=typeof ge.validate=="boolean"?ge.validate:!i.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,ge.accessToken);var ft=this.map._requestManager.transformRequest(ee,i.ResourceType.Style);this._request=i.getJSON(ft,function(Ct,Ut){ze._request=null,Ct?ze.fire(new i.ErrorEvent(Ct)):Ut&&ze._load(Ut,Ke)})},K.prototype.loadJSON=function(ee,ge){var ze=this;ge===void 0&&(ge={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){ze._request=null,ze._load(ee,ge.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(ii,!1)},K.prototype._load=function(ee,ge){if(!(ge&&pa(this,i.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var ze in ee.sources)this.addSource(ze,ee.sources[ze],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var Ke=cr(this.stylesheet.layers);this._order=Ke.map(function($t){return $t.id}),this._layers={},this._serializedLayers={};for(var ft=0,Ct=Ke;ft<Ct.length;ft+=1){var Ut=Ct[ft];Ut=i.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},K.prototype._loadSprite=function(ee){var ge=this;this._spriteRequest=u(ee,this.map._requestManager,function(ze,Ke){if(ge._spriteRequest=null,ze)ge.fire(new i.ErrorEvent(ze));else if(Ke)for(var ft in Ke)ge.imageManager.addImage(ft,Ke[ft]);ge.imageManager.setLoaded(!0),ge._availableImages=ge.imageManager.listImages(),ge.dispatcher.broadcast("setImages",ge._availableImages),ge.fire(new i.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(ee){var ge=this.sourceCaches[ee.source];if(ge){var ze=ee.sourceLayer;if(ze){var Ke=ge.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+ee.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(ee){for(var ge=[],ze=0,Ke=ee;ze<Ke.length;ze+=1){var ft=Ke[ze],Ct=this._layers[ft];Ct.type!=="custom"&&ge.push(Ct.serialize())}return ge},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var ge in this._layers)if(this._layers[ge].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(ee){if(this._loaded){var ge=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(ze.length||Ke.length)&&this._updateWorkerLayers(ze,Ke);for(var ft in this._updatedSources){var Ct=this._updatedSources[ft];Ct==="reload"?this._reloadSource(ft):Ct==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var $t={};for(var lr in this.sourceCaches){var ir=this.sourceCaches[lr];$t[lr]=ir.used,ir.used=!1}for(var kr=0,jr=this._order;kr<jr.length;kr+=1){var Xr=jr[kr],Gr=this._layers[Xr];Gr.recalculate(ee,this._availableImages),!Gr.isHidden(ee.zoom)&&Gr.source&&(this.sourceCaches[Gr.source].used=!0)}for(var $r in $t){var hn=this.sourceCaches[$r];$t[$r]!==hn.used&&hn.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:$r}))}this.light.recalculate(ee),this.z=ee.zoom,ge&&this.fire(new i.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var ge in this.sourceCaches)this.sourceCaches[ge].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},K.prototype._updateWorkerLayers=function(ee,ge){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:ge})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(ee){var ge=this;if(this._checkLoaded(),pa(this,i.validateStyle(ee)))return!1;ee=i.clone$1(ee),ee.layers=cr(ee.layers);var ze=Tn(this.serialize(),ee).filter(function(ft){return!(ft.command in yi)});if(ze.length===0)return!1;var Ke=ze.filter(function(ft){return!(ft.command in La)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(ft){return ft.command}).join(", ")+".");return ze.forEach(function(ft){ft.command!=="setTransition"&&ge[ft.command].apply(ge,ft.args)}),this.stylesheet=ee,!0},K.prototype.addImage=function(ee,ge){if(this.getImage(ee))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,ge),this._afterImageUpdated(ee)},K.prototype.updateImage=function(ee,ge){this.imageManager.updateImage(ee,ge)},K.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},K.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},K.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(ee,ge,ze){var Ke=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!ge.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ge).join(", ")+".");var ft=["vector","raster","geojson","video","image"],Ct=ft.indexOf(ge.type)>=0;if(!(Ct&&this._validate(i.validateStyle.source,"sources."+ee,ge,null,ze))){this.map&&this.map._collectResourceTiming&&(ge.collectResourceTiming=!0);var Ut=this.sourceCaches[ee]=new Bt(ee,ge,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Ut.serialize(),sourceId:ee}}),Ut.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var ge in this._layers)if(this._layers[ge].source===ee)return this.fire(new i.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+ge+'" is using it.')));var ze=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],ze.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(ee,ge){this._checkLoaded();var ze=this.sourceCaches[ee].getSource();ze.setData(ge),this._changed=!0},K.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},K.prototype.addLayer=function(ee,ge,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=ee.id;if(this.getLayer(Ke)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var ft;if(ee.type==="custom"){if(pa(this,i.validateCustomStyleLayer(ee)))return;ft=i.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(Ke,ee.source),ee=i.clone$1(ee),ee=i.extend(ee,{source:Ke})),this._validate(i.validateStyle.layer,"layers."+Ke,ee,{arrayIndex:-1},ze))return;ft=i.createStyleLayer(ee),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[ft.id]=ft.serialize()}var Ct=ge?this._order.indexOf(ge):this._order.length;if(ge&&Ct===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=ft,this._removedLayers[Ke]&&ft.source&&ft.type!=="custom"){var Ut=this._removedLayers[Ke];delete this._removedLayers[Ke],Ut.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},K.prototype.moveLayer=function(ee,ge){this._checkLoaded(),this._changed=!0;var ze=this._layers[ee];if(!ze){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==ge){var Ke=this._order.indexOf(ee);this._order.splice(Ke,1);var ft=ge?this._order.indexOf(ge):this._order.length;if(ge&&ft===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}this._order.splice(ft,0,ee),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(ee){this._checkLoaded();var ge=this._layers[ee];if(!ge){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}ge.setEventedParent(null);var ze=this._order.indexOf(ee);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=ge,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],ge.onRemove&&ge.onRemove(this.map)},K.prototype.getLayer=function(ee){return this._layers[ee]},K.prototype.hasLayer=function(ee){return ee in this._layers},K.prototype.setLayerZoomRange=function(ee,ge,ze){this._checkLoaded();var Ke=this.getLayer(ee);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===ge&&Ke.maxzoom===ze||(ge!=null&&(Ke.minzoom=ge),ze!=null&&(Ke.maxzoom=ze),this._updateLayer(Ke))},K.prototype.setFilter=function(ee,ge,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=this.getLayer(ee);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Ke.filter,ge)){if(ge==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(i.validateStyle.filter,"layers."+Ke.id+".filter",ge,null,ze)||(Ke.filter=i.clone$1(ge),this._updateLayer(Ke))}},K.prototype.getFilter=function(ee){return i.clone$1(this.getLayer(ee).filter)},K.prototype.setLayoutProperty=function(ee,ge,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ft=this.getLayer(ee);if(!ft){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(ft.getLayoutProperty(ge),ze)||(ft.setLayoutProperty(ge,ze,Ke),this._updateLayer(ft))},K.prototype.getLayoutProperty=function(ee,ge){var ze=this.getLayer(ee);if(!ze){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(ge)},K.prototype.setPaintProperty=function(ee,ge,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ft=this.getLayer(ee);if(!ft){this.fire(new i.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(ft.getPaintProperty(ge),ze)){var Ct=ft.setPaintProperty(ge,ze,Ke);Ct&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[ee]=!0}},K.prototype.getPaintProperty=function(ee,ge){return this.getLayer(ee).getPaintProperty(ge)},K.prototype.setFeatureState=function(ee,ge){this._checkLoaded();var ze=ee.source,Ke=ee.sourceLayer,ft=this.sourceCaches[ze];if(ft===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var Ct=ft.getSource().type;if(Ct==="geojson"&&Ke){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Ke){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState(Ke,ee.id,ge)},K.prototype.removeFeatureState=function(ee,ge){this._checkLoaded();var ze=ee.source,Ke=this.sourceCaches[ze];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var ft=Ke.getSource().type,Ct=ft==="vector"?ee.sourceLayer:void 0;if(ft==="vector"&&!Ct){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ge&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(Ct,ee.id,ge)},K.prototype.getFeatureState=function(ee){this._checkLoaded();var ge=ee.source,ze=ee.sourceLayer,Ke=this.sourceCaches[ge];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ge+"' does not exist in the map's style.")));return}var ft=Ke.getSource().type;if(ft==="vector"&&!ze){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(ze,ee.id)},K.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},K.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(ee){for(var ge=this,ze=function(_a){return ge._layers[_a].type==="fill-extrusion"},Ke={},ft=[],Ct=this._order.length-1;Ct>=0;Ct--){var Ut=this._order[Ct];if(ze(Ut)){Ke[Ut]=Ct;for(var $t=0,lr=ee;$t<lr.length;$t+=1){var ir=lr[$t],kr=ir[Ut];if(kr)for(var jr=0,Xr=kr;jr<Xr.length;jr+=1){var Gr=Xr[jr];ft.push(Gr)}}}}ft.sort(function(_a,$a){return $a.intersectionZ-_a.intersectionZ});for(var $r=[],hn=this._order.length-1;hn>=0;hn--){var In=this._order[hn];if(ze(In))for(var On=ft.length-1;On>=0;On--){var Yn=ft[On].feature;if(Ke[Yn.layer.id]<hn)break;$r.push(Yn),ft.pop()}else for(var jn=0,Gn=ee;jn<Gn.length;jn+=1){var Kn=Gn[jn],ta=Kn[In];if(ta)for(var sa=0,ma=ta;sa<ma.length;sa+=1){var va=ma[sa];$r.push(va.feature)}}}return $r},K.prototype.queryRenderedFeatures=function(ee,ge,ze){ge&&ge.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ge.filter,null,ge);var Ke={};if(ge&&ge.layers){if(!Array.isArray(ge.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,Ct=ge.layers;ft<Ct.length;ft+=1){var Ut=Ct[ft],$t=this._layers[Ut];if(!$t)return this.fire(new i.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[$t.source]=!0}}var lr=[];ge.availableImages=this._availableImages;for(var ir in this.sourceCaches)ge.layers&&!Ke[ir]||lr.push(j(this.sourceCaches[ir],this._layers,this._serializedLayers,ee,ge,ze));return this.placement&&lr.push(X(this._layers,this._serializedLayers,this.sourceCaches,ee,ge,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},K.prototype.querySourceFeatures=function(ee,ge){ge&&ge.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ge.filter,null,ge);var ze=this.sourceCaches[ee];return ze?se(ze,ge):[]},K.prototype.addSourceType=function(ee,ge,ze){if(K.getSourceType(ee))return ze(new Error('A source type called "'+ee+'" already exists.'));if(K.setSourceType(ee,ge),!ge.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:ge.workerSourceURL},ze)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(ee,ge){ge===void 0&&(ge={}),this._checkLoaded();var ze=this.light.getLight(),Ke=!1;for(var ft in ee)if(!i.deepEqual(ee[ft],ze[ft])){Ke=!0;break}if(Ke){var Ct={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,ge),this.light.updateTransitions(Ct)}},K.prototype._validate=function(ee,ge,ze,Ke,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:pa(this,ee.call(i.validateStyle,i.extend({key:ge,style:this.serialize(),value:ze,styleSpec:i.styleSpec},Ke)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var ge=this._layers[ee];ge.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},K.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},K.prototype._updateSources=function(ee){for(var ge in this.sourceCaches)this.sourceCaches[ge].update(ee)},K.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},K.prototype._updatePlacement=function(ee,ge,ze,Ke,ft){ft===void 0&&(ft=!1);for(var Ct=!1,Ut=!1,$t={},lr=0,ir=this._order;lr<ir.length;lr+=1){var kr=ir[lr],jr=this._layers[kr];if(jr.type==="symbol"){if(!$t[jr.source]){var Xr=this.sourceCaches[jr.source];$t[jr.source]=Xr.getRenderableIds(!0).map(function(jn){return Xr.getTileByID(jn)}).sort(function(jn,Gn){return Gn.tileID.overscaledZ-jn.tileID.overscaledZ||(jn.tileID.isLessThan(Gn.tileID)?-1:1)})}var Gr=this.crossTileSymbolIndex.addLayer(jr,$t[jr.source],ee.center.lng);Ct=Ct||Gr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||ze===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),ee.zoom))&&(this.pauseablePlacement=new Fn(ee,this._order,ft,ge,ze,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,$t),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Ut=!0),Ct&&this.pauseablePlacement.placement.setStale()),Ut||Ct)for(var $r=0,hn=this._order;$r<hn.length;$r+=1){var In=hn[$r],On=this._layers[In];On.type==="symbol"&&this.placement.updateLayerOpacities(On,$t[On.source])}var Yn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Yn},K.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},K.prototype.getImages=function(ee,ge,ze){this.imageManager.getImages(ge.icons,ze),this._updateTilesForChangedImages();var Ke=this.sourceCaches[ge.source];Ke&&Ke.setDependencies(ge.tileID.key,ge.type,ge.icons)},K.prototype.getGlyphs=function(ee,ge,ze){this.glyphManager.getGlyphs(ge.stacks,ze)},K.prototype.getResource=function(ee,ge,ze){return i.makeRequest(ge,ze)},K}(i.Evented);Bo.getSourceType=ie,Bo.setSourceType=Y,Bo.registerForPluginStateChange=i.registerForPluginStateChange;var Ro=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),no=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,kl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,wf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ac="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ti=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Tf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qi=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,To="void main() {gl_FragColor=vec4(1.0);}",Fl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Zu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,_l=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Oi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Gi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",zl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ao="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",io="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",No="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",ic="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Do=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ch=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,gs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$i=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Af=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ys=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,oc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Ku=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,dh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ph="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Mf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",yh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,lc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ol=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,vu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Rs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Ju=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,cc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,qo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,vl=mi(no,kl),du=mi(wf,ac),js=mi(ti,cu),ms=mi(Tf,Qi),Ef=mi(To,Fl),Nl=mi(Zu,Fi),es=mi(_l,Oi),Di=mi(Gi,zl),Cf=mi(ao,io),xh=mi(No,ic),$u=mi(Do,ch),Ul=mi(gs,$i),Vl=mi(Af,Xs),Io=mi(ys,Sf),qu=mi(oc,hh),Hl=mi(Ku,vh),ef=mi(dh,ph),bh=mi(Mf,gh),hc=mi(yh,sc),Lf=mi(lc,hl),Pf=mi(Ol,hu),Rf=mi(vu,uc),Gl=mi(Rs,mh),tf=mi(Ju,fc),pu=mi(cc,Qu),rf=mi(qo,Bl);function mi(he,K){var pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=K.match(/attribute ([\w]+) ([\w]+)/g),ge=he.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=ze?ze.concat(ge):ge,ft={};return he=he.replace(pe,function(Ct,Ut,$t,lr,ir){return ft[ir]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
varying `+$t+" "+lr+" "+ir+`;
#else
uniform `+$t+" "+lr+" u_"+ir+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ir+`
    `+$t+" "+lr+" "+ir+" = u_"+ir+`;
#endif
`}),K=K.replace(pe,function(Ct,Ut,$t,lr,ir){var kr=lr==="float"?"vec2":"vec4",jr=ir.match(/color/)?"color":kr;return ft[ir]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+$t+" "+kr+" a_"+ir+`;
varying `+$t+" "+lr+" "+ir+`;
#else
uniform `+$t+" "+lr+" u_"+ir+`;
#endif
`:jr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = a_"+ir+`;
#else
    `+$t+" "+lr+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = unpack_mix_"+jr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+$t+" "+lr+" "+ir+" = u_"+ir+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+$t+" "+kr+" a_"+ir+`;
#else
uniform `+$t+" "+lr+" u_"+ir+`;
#endif
`:jr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+$t+" "+lr+" "+ir+" = a_"+ir+`;
#else
    `+$t+" "+lr+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+$t+" "+lr+" "+ir+" = unpack_mix_"+jr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+$t+" "+lr+" "+ir+" = u_"+ir+`;
#endif
`}),{fragmentSource:he,vertexSource:K,staticAttributes:ee,staticUniforms:Ke}}var vc=Object.freeze({__proto__:null,prelude:vl,background:du,backgroundPattern:js,circle:ms,clippingMask:Ef,heatmap:Nl,heatmapTexture:es,collisionBox:Di,collisionCircle:Cf,debug:xh,fill:$u,fillOutline:Ul,fillOutlinePattern:Vl,fillPattern:Io,fillExtrusion:qu,fillExtrusionPattern:Hl,hillshadePrepare:ef,hillshade:bh,line:hc,lineGradient:Lf,linePattern:Pf,lineSDF:Rf,raster:Gl,symbolIcon:tf,symbolSDF:pu,symbolTextAndIcon:rf}),ts=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ts.prototype.bind=function(K,pe,ee,ge,ze,Ke,ft,Ct){this.context=K;for(var Ut=this.boundPaintVertexBuffers.length!==ge.length,$t=0;!Ut&&$t<ge.length;$t++)this.boundPaintVertexBuffers[$t]!==ge[$t]&&(Ut=!0);var lr=!this.vao||this.boundProgram!==pe||this.boundLayoutVertexBuffer!==ee||Ut||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==Ct;!K.extVertexArrayObject||lr?this.freshBind(pe,ee,ge,ze,Ke,ft,Ct):(K.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),ze&&ze.dynamicDraw&&ze.bind(),Ct&&Ct.bind())},ts.prototype.freshBind=function(K,pe,ee,ge,ze,Ke,ft){var Ct,Ut=K.numAttributes,$t=this.context,lr=$t.gl;if($t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$t.extVertexArrayObject.createVertexArrayOES(),$t.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=K,this.boundLayoutVertexBuffer=pe,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=ge,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=ft;else{Ct=$t.currentNumAttributes||0;for(var ir=Ut;ir<Ct;ir++)lr.disableVertexAttribArray(ir)}pe.enableAttributes(lr,K);for(var kr=0,jr=ee;kr<jr.length;kr+=1){var Xr=jr[kr];Xr.enableAttributes(lr,K)}Ke&&Ke.enableAttributes(lr,K),ft&&ft.enableAttributes(lr,K),pe.bind(),pe.setVertexAttribPointers(lr,K,ze);for(var Gr=0,$r=ee;Gr<$r.length;Gr+=1){var hn=$r[Gr];hn.bind(),hn.setVertexAttribPointers(lr,K,ze)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(lr,K,ze)),ge&&ge.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(lr,K,ze)),$t.currentNumAttributes=Ut},ts.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function dc(he){for(var K=[],pe=0;pe<he.length;pe++)if(he[pe]!==null){var ee=he[pe].split(" ");K.push(ee.pop())}return K}var Df=function(K,pe,ee,ge,ze,Ke){var ft=K.gl;this.program=ft.createProgram();for(var Ct=dc(ee.staticAttributes),Ut=ge?ge.getBinderAttributes():[],$t=Ct.concat(Ut),lr=ee.staticUniforms?dc(ee.staticUniforms):[],ir=ge?ge.getBinderUniforms():[],kr=lr.concat(ir),jr=[],Xr=0,Gr=kr;Xr<Gr.length;Xr+=1){var $r=Gr[Xr];jr.indexOf($r)<0&&jr.push($r)}var hn=ge?ge.defines():[];Ke&&hn.push("#define OVERDRAW_INSPECTOR;");var In=hn.concat(vl.fragmentSource,ee.fragmentSource).join(`
`),On=hn.concat(vl.vertexSource,ee.vertexSource).join(`
`),Yn=ft.createShader(ft.FRAGMENT_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Yn,In),ft.compileShader(Yn),ft.attachShader(this.program,Yn);var jn=ft.createShader(ft.VERTEX_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(jn,On),ft.compileShader(jn),ft.attachShader(this.program,jn),this.attributes={};var Gn={};this.numAttributes=$t.length;for(var Kn=0;Kn<this.numAttributes;Kn++)$t[Kn]&&(ft.bindAttribLocation(this.program,Kn,$t[Kn]),this.attributes[$t[Kn]]=Kn);ft.linkProgram(this.program),ft.deleteShader(jn),ft.deleteShader(Yn);for(var ta=0;ta<jr.length;ta++){var sa=jr[ta];if(sa&&!Gn[sa]){var ma=ft.getUniformLocation(this.program,sa);ma&&(Gn[sa]=ma)}}this.fixedUniforms=ze(K,Gn),this.binderUniforms=ge?ge.getUniforms(K,Gn):[]};Df.prototype.draw=function(K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr,ir,kr,jr,Xr,Gr){var $r,hn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(ee),K.setStencilMode(ge),K.setColorMode(ze),K.setCullFace(Ke);for(var In in this.fixedUniforms)this.fixedUniforms[In].set(ft[In]);jr&&jr.setUniforms(K,this.binderUniforms,ir,{zoom:kr});for(var On=($r={},$r[hn.LINES]=2,$r[hn.TRIANGLES]=3,$r[hn.LINE_STRIP]=1,$r)[pe],Yn=0,jn=lr.get();Yn<jn.length;Yn+=1){var Gn=jn[Yn],Kn=Gn.vaos||(Gn.vaos={}),ta=Kn[Ct]||(Kn[Ct]=new ts);ta.bind(K,this,Ut,jr?jr.getPaintVertexBuffers():[],$t,Gn.vertexOffset,Xr,Gr),hn.drawElements(pe,Gn.primitiveLength*On,hn.UNSIGNED_SHORT,Gn.primitiveOffset*On*2)}}};function dl(he,K,pe){var ee=1/vn(pe,1,K.transform.tileZoom),ge=Math.pow(2,pe.tileID.overscaledZ),ze=pe.tileSize*Math.pow(2,K.transform.tileZoom)/ge,Ke=ze*(pe.tileID.canonical.x+pe.tileID.wrap*ge),ft=ze*pe.tileID.canonical.y;return{u_image:0,u_texsize:pe.imageAtlasTexture.size,u_scale:[ee,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Ke>>16,ft>>16],u_pixel_coord_lower:[Ke&65535,ft&65535]}}function Zs(he,K,pe,ee){var ge=pe.imageManager.getPattern(he.from.toString()),ze=pe.imageManager.getPattern(he.to.toString()),Ke=pe.imageManager.getPixelSize(),ft=Ke.width,Ct=Ke.height,Ut=Math.pow(2,ee.tileID.overscaledZ),$t=ee.tileSize*Math.pow(2,pe.transform.tileZoom)/Ut,lr=$t*(ee.tileID.canonical.x+ee.tileID.wrap*Ut),ir=$t*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ge.tl,u_pattern_br_a:ge.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[ft,Ct],u_mix:K.t,u_pattern_size_a:ge.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/vn(ee,1,pe.transform.tileZoom),u_pixel_coord_upper:[lr>>16,ir>>16],u_pixel_coord_lower:[lr&65535,ir&65535]}}var nf=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_lightpos:new i.Uniform3f(he,K.u_lightpos),u_lightintensity:new i.Uniform1f(he,K.u_lightintensity),u_lightcolor:new i.Uniform3f(he,K.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,K.u_vertical_gradient),u_opacity:new i.Uniform1f(he,K.u_opacity)}},_i=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_lightpos:new i.Uniform3f(he,K.u_lightpos),u_lightintensity:new i.Uniform1f(he,K.u_lightintensity),u_lightcolor:new i.Uniform3f(he,K.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,K.u_vertical_gradient),u_height_factor:new i.Uniform1f(he,K.u_height_factor),u_image:new i.Uniform1i(he,K.u_image),u_texsize:new i.Uniform2f(he,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,K.u_scale),u_fade:new i.Uniform1f(he,K.u_fade),u_opacity:new i.Uniform1f(he,K.u_opacity)}},gu=function(he,K,pe,ee){var ge=K.style.light,ze=ge.properties.get("position"),Ke=[ze.x,ze.y,ze.z],ft=i.create$1();ge.properties.get("anchor")==="viewport"&&i.fromRotation(ft,-K.transform.angle),i.transformMat3(Ke,Ke,ft);var Ct=ge.properties.get("color");return{u_matrix:he,u_lightpos:Ke,u_lightintensity:ge.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+pe,u_opacity:ee}},rs=function(he,K,pe,ee,ge,ze,Ke){return i.extend(gu(he,K,pe,ee),dl(ze,K,Ke),{u_height_factor:-Math.pow(2,ge.overscaledZ)/Ke.tileSize/8})},Ds=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix)}},pl=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_image:new i.Uniform1i(he,K.u_image),u_texsize:new i.Uniform2f(he,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,K.u_scale),u_fade:new i.Uniform1f(he,K.u_fade)}},Ks=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_world:new i.Uniform2f(he,K.u_world)}},ns=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_world:new i.Uniform2f(he,K.u_world),u_image:new i.Uniform1i(he,K.u_image),u_texsize:new i.Uniform2f(he,K.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,K.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,K.u_scale),u_fade:new i.Uniform1f(he,K.u_fade)}},Is=function(he){return{u_matrix:he}},as=function(he,K,pe,ee){return i.extend(Is(he),dl(pe,K,ee))},Xo=function(he,K){return{u_matrix:he,u_world:K}},yu=function(he,K,pe,ee,ge){return i.extend(as(he,K,pe,ee),{u_world:ge})},wh=function(he,K){return{u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(he,K.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(he,K.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(he,K.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(he,K.u_matrix)}},Th=function(he,K,pe,ee){var ge=he.transform,ze,Ke;if(ee.paint.get("circle-pitch-alignment")==="map"){var ft=vn(pe,1,ge.zoom);ze=!0,Ke=[ft,ft]}else ze=!1,Ke=ge.pixelsToGLUnits;return{u_camera_to_center_distance:ge.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(K.posMatrix,pe,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Ke}},Ah=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(he,K.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(he,K.u_extrude_scale),u_overscale_factor:new i.Uniform1f(he,K.u_overscale_factor)}},Sh=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_inv_matrix:new i.UniformMatrix4f(he,K.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(he,K.u_viewport_size)}},If=function(he,K,pe){var ee=vn(pe,1,K.zoom),ge=Math.pow(2,K.zoom-pe.tileID.overscaledZ),ze=pe.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[K.pixelsToGLUnits[0]/(ee*ge),K.pixelsToGLUnits[1]/(ee*ge)],u_overscale_factor:ze}},pc=function(he,K,pe){return{u_matrix:he,u_inv_matrix:K,u_camera_to_center_distance:pe.cameraToCenterDistance,u_viewport_size:[pe.width,pe.height]}},Wl=function(he,K){return{u_color:new i.UniformColor(he,K.u_color),u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_overlay:new i.Uniform1i(he,K.u_overlay),u_overlay_scale:new i.Uniform1f(he,K.u_overlay_scale)}},qi=function(he,K,pe){return pe===void 0&&(pe=1),{u_matrix:he,u_color:K,u_overlay:0,u_overlay_scale:pe}},Uo=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix)}},Yl=function(he){return{u_matrix:he}},gc=function(he,K){return{u_extrude_scale:new i.Uniform1f(he,K.u_extrude_scale),u_intensity:new i.Uniform1f(he,K.u_intensity),u_matrix:new i.UniformMatrix4f(he,K.u_matrix)}},mu=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_world:new i.Uniform2f(he,K.u_world),u_image:new i.Uniform1i(he,K.u_image),u_color_ramp:new i.Uniform1i(he,K.u_color_ramp),u_opacity:new i.Uniform1f(he,K.u_opacity)}},ks=function(he,K,pe,ee){return{u_matrix:he,u_extrude_scale:vn(K,1,pe),u_intensity:ee}},Mh=function(he,K,pe,ee){var ge=i.create();i.ortho(ge,0,he.width,he.height,0,0,1);var ze=he.context.gl;return{u_matrix:ge,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:pe,u_color_ramp:ee,u_opacity:K.paint.get("heatmap-opacity")}},yc=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_image:new i.Uniform1i(he,K.u_image),u_latrange:new i.Uniform2f(he,K.u_latrange),u_light:new i.Uniform2f(he,K.u_light),u_shadow:new i.UniformColor(he,K.u_shadow),u_highlight:new i.UniformColor(he,K.u_highlight),u_accent:new i.UniformColor(he,K.u_accent)}},mc=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_image:new i.Uniform1i(he,K.u_image),u_dimension:new i.Uniform2f(he,K.u_dimension),u_zoom:new i.Uniform1f(he,K.u_zoom),u_unpack:new i.Uniform4f(he,K.u_unpack)}},kf=function(he,K,pe){var ee=pe.paint.get("hillshade-shadow-color"),ge=pe.paint.get("hillshade-highlight-color"),ze=pe.paint.get("hillshade-accent-color"),Ke=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=he.transform.angle);var ft=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ft),u_image:0,u_latrange:Ao(he,K.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Ke],u_shadow:ee,u_highlight:ge,u_accent:ze}},xc=function(he,K){var pe=K.stride,ee=i.create();return i.ortho(ee,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(ee,ee,[0,-i.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[pe,pe],u_zoom:he.overscaledZ,u_unpack:K.getUnpackVector()}};function Ao(he,K){var pe=Math.pow(2,K.canonical.z),ee=K.canonical.y;return[new i.MercatorCoordinate(0,ee/pe).toLngLat().lat,new i.MercatorCoordinate(0,(ee+1)/pe).toLngLat().lat]}var is=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_ratio:new i.Uniform1f(he,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,K.u_units_to_pixels)}},Js=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_ratio:new i.Uniform1f(he,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,K.u_units_to_pixels),u_image:new i.Uniform1i(he,K.u_image),u_image_height:new i.Uniform1f(he,K.u_image_height)}},Xl=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_texsize:new i.Uniform2f(he,K.u_texsize),u_ratio:new i.Uniform1f(he,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_image:new i.Uniform1i(he,K.u_image),u_units_to_pixels:new i.Uniform2f(he,K.u_units_to_pixels),u_scale:new i.Uniform3f(he,K.u_scale),u_fade:new i.Uniform1f(he,K.u_fade)}},af=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_ratio:new i.Uniform1f(he,K.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,K.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(he,K.u_patternscale_a),u_patternscale_b:new i.Uniform2f(he,K.u_patternscale_b),u_sdfgamma:new i.Uniform1f(he,K.u_sdfgamma),u_image:new i.Uniform1i(he,K.u_image),u_tex_y_a:new i.Uniform1f(he,K.u_tex_y_a),u_tex_y_b:new i.Uniform1f(he,K.u_tex_y_b),u_mix:new i.Uniform1f(he,K.u_mix)}},yl=function(he,K,pe){var ee=he.transform;return{u_matrix:Qs(he,K,pe),u_ratio:1/vn(K,1,ee.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},ml=function(he,K,pe,ee){return i.extend(yl(he,K,pe),{u_image:0,u_image_height:ee})},bc=function(he,K,pe,ee){var ge=he.transform,ze=jl(K,ge);return{u_matrix:Qs(he,K,pe),u_texsize:K.imageAtlasTexture.size,u_ratio:1/vn(K,1,ge.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[ze,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/ge.pixelsToGLUnits[0],1/ge.pixelsToGLUnits[1]]}},Fs=function(he,K,pe,ee,ge){var ze=he.transform,Ke=he.lineAtlas,ft=jl(K,ze),Ct=pe.layout.get("line-cap")==="round",Ut=Ke.getDash(ee.from,Ct),$t=Ke.getDash(ee.to,Ct),lr=Ut.width*ge.fromScale,ir=$t.width*ge.toScale;return i.extend(yl(he,K,pe),{u_patternscale_a:[ft/lr,-Ut.height/2],u_patternscale_b:[ft/ir,-$t.height/2],u_sdfgamma:Ke.width/(Math.min(lr,ir)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:$t.y,u_mix:ge.t})};function jl(he,K){return 1/vn(he,1,K.tileZoom)}function Qs(he,K,pe){return he.translatePosMatrix(K.tileID.posMatrix,K,pe.paint.get("line-translate"),pe.paint.get("line-translate-anchor"))}var _s=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_tl_parent:new i.Uniform2f(he,K.u_tl_parent),u_scale_parent:new i.Uniform1f(he,K.u_scale_parent),u_buffer_scale:new i.Uniform1f(he,K.u_buffer_scale),u_fade_t:new i.Uniform1f(he,K.u_fade_t),u_opacity:new i.Uniform1f(he,K.u_opacity),u_image0:new i.Uniform1i(he,K.u_image0),u_image1:new i.Uniform1i(he,K.u_image1),u_brightness_low:new i.Uniform1f(he,K.u_brightness_low),u_brightness_high:new i.Uniform1f(he,K.u_brightness_high),u_saturation_factor:new i.Uniform1f(he,K.u_saturation_factor),u_contrast_factor:new i.Uniform1f(he,K.u_contrast_factor),u_spin_weights:new i.Uniform3f(he,K.u_spin_weights)}},xu=function(he,K,pe,ee,ge){return{u_matrix:he,u_tl_parent:K,u_scale_parent:pe,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*ge.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ge.paint.get("raster-brightness-min"),u_brightness_high:ge.paint.get("raster-brightness-max"),u_saturation_factor:Kl(ge.paint.get("raster-saturation")),u_contrast_factor:di(ge.paint.get("raster-contrast")),u_spin_weights:Zl(ge.paint.get("raster-hue-rotate"))}};function Zl(he){he*=Math.PI/180;var K=Math.sin(he),pe=Math.cos(he);return[(2*pe+1)/3,(-Math.sqrt(3)*K-pe+1)/3,(Math.sqrt(3)*K-pe+1)/3]}function di(he){return he>0?1/(1-he):1+he}function Kl(he){return he>0?1-1/(1.001-he):-he}var of=function(he,K){return{u_is_size_zoom_constant:new i.Uniform1i(he,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,K.u_size_t),u_size:new i.Uniform1f(he,K.u_size),u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,K.u_pitch),u_rotate_symbol:new i.Uniform1i(he,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,K.u_fade_change),u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,K.u_coord_matrix),u_is_text:new i.Uniform1i(he,K.u_is_text),u_pitch_with_map:new i.Uniform1i(he,K.u_pitch_with_map),u_texsize:new i.Uniform2f(he,K.u_texsize),u_texture:new i.Uniform1i(he,K.u_texture)}},wc=function(he,K){return{u_is_size_zoom_constant:new i.Uniform1i(he,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,K.u_size_t),u_size:new i.Uniform1f(he,K.u_size),u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,K.u_pitch),u_rotate_symbol:new i.Uniform1i(he,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,K.u_fade_change),u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,K.u_coord_matrix),u_is_text:new i.Uniform1i(he,K.u_is_text),u_pitch_with_map:new i.Uniform1i(he,K.u_pitch_with_map),u_texsize:new i.Uniform2f(he,K.u_texsize),u_texture:new i.Uniform1i(he,K.u_texture),u_gamma_scale:new i.Uniform1f(he,K.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,K.u_is_halo)}},Jl=function(he,K){return{u_is_size_zoom_constant:new i.Uniform1i(he,K.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,K.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,K.u_size_t),u_size:new i.Uniform1f(he,K.u_size),u_camera_to_center_distance:new i.Uniform1f(he,K.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,K.u_pitch),u_rotate_symbol:new i.Uniform1i(he,K.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,K.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,K.u_fade_change),u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,K.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,K.u_coord_matrix),u_is_text:new i.Uniform1i(he,K.u_is_text),u_pitch_with_map:new i.Uniform1i(he,K.u_pitch_with_map),u_texsize:new i.Uniform2f(he,K.u_texsize),u_texsize_icon:new i.Uniform2f(he,K.u_texsize_icon),u_texture:new i.Uniform1i(he,K.u_texture),u_texture_icon:new i.Uniform1i(he,K.u_texture_icon),u_gamma_scale:new i.Uniform1f(he,K.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,K.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,K.u_is_halo)}},bu=function(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut){var $t=ge.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:$t.cameraToCenterDistance,u_pitch:$t.pitch/360*2*Math.PI,u_rotate_symbol:+pe,u_aspect_ratio:$t.width/$t.height,u_fade_change:ge.options.fadeDuration?ge.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ke,u_coord_matrix:ft,u_is_text:+Ct,u_pitch_with_map:+ee,u_texsize:Ut,u_texture:0}},sf=function(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t){var lr=ge.transform;return i.extend(bu(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut),{u_gamma_scale:ee?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+$t})},Ff=function(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut){return i.extend(sf(he,K,pe,ee,ge,ze,Ke,ft,!0,Ct,!0),{u_texsize_icon:Ut,u_texture_icon:1})},wu=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_opacity:new i.Uniform1f(he,K.u_opacity),u_color:new i.UniformColor(he,K.u_color)}},Tu=function(he,K){return{u_matrix:new i.UniformMatrix4f(he,K.u_matrix),u_opacity:new i.Uniform1f(he,K.u_opacity),u_image:new i.Uniform1i(he,K.u_image),u_pattern_tl_a:new i.Uniform2f(he,K.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(he,K.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(he,K.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(he,K.u_pattern_br_b),u_texsize:new i.Uniform2f(he,K.u_texsize),u_mix:new i.Uniform1f(he,K.u_mix),u_pattern_size_a:new i.Uniform2f(he,K.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(he,K.u_pattern_size_b),u_scale_a:new i.Uniform1f(he,K.u_scale_a),u_scale_b:new i.Uniform1f(he,K.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(he,K.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,K.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(he,K.u_tile_units_to_pixels)}},$s=function(he,K,pe){return{u_matrix:he,u_opacity:K,u_color:pe}},Au=function(he,K,pe,ee,ge,ze){return i.extend(Zs(ee,ze,pe,ge),{u_matrix:he,u_opacity:K})},qs={fillExtrusion:nf,fillExtrusionPattern:_i,fill:Ds,fillPattern:pl,fillOutline:Ks,fillOutlinePattern:ns,circle:wh,collisionBox:Ah,collisionCircle:Sh,debug:Wl,clippingMask:Uo,heatmap:gc,heatmapTexture:mu,hillshade:yc,hillshadePrepare:mc,line:is,lineGradient:Js,linePattern:Xl,lineSDF:af,raster:_s,symbolIcon:of,symbolSDF:wc,symbolTextAndIcon:Jl,background:wu,backgroundPattern:Tu},Wi;function xs(he,K,pe,ee,ge,ze,Ke){for(var ft=he.context,Ct=ft.gl,Ut=he.useProgram("collisionBox"),$t=[],lr=0,ir=0,kr=0;kr<ee.length;kr++){var jr=ee[kr],Xr=K.getTile(jr),Gr=Xr.getBucket(pe);if(Gr){var $r=jr.posMatrix;(ge[0]!==0||ge[1]!==0)&&($r=he.translatePosMatrix(jr.posMatrix,Xr,ge,ze));var hn=Ke?Gr.textCollisionBox:Gr.iconCollisionBox,In=Gr.collisionCircleArray;if(In.length>0){var On=i.create(),Yn=$r;i.mul(On,Gr.placementInvProjMatrix,he.transform.glCoordMatrix),i.mul(On,On,Gr.placementViewportMatrix),$t.push({circleArray:In,circleOffset:ir,transform:Yn,invTransform:On}),lr+=In.length/4,ir=lr}hn&&Ut.draw(ft,Ct.LINES,gr.disabled,Qt.disabled,he.colorModeForRenderPass(),Rt.disabled,If($r,he.transform,Xr),pe.id,hn.layoutVertexBuffer,hn.indexBuffer,hn.segments,null,he.transform.zoom,null,null,hn.collisionVertexBuffer)}}if(!(!Ke||!$t.length)){var jn=he.useProgram("collisionCircle"),Gn=new i.StructArrayLayout2f1f2i16;Gn.resize(lr*4),Gn._trim();for(var Kn=0,ta=0,sa=$t;ta<sa.length;ta+=1)for(var ma=sa[ta],va=0;va<ma.circleArray.length/4;va++){var _a=va*4,$a=ma.circleArray[_a+0],Xa=ma.circleArray[_a+1],Sa=ma.circleArray[_a+2],ja=ma.circleArray[_a+3];Gn.emplace(Kn++,$a,Xa,Sa,ja,0),Gn.emplace(Kn++,$a,Xa,Sa,ja,1),Gn.emplace(Kn++,$a,Xa,Sa,ja,2),Gn.emplace(Kn++,$a,Xa,Sa,ja,3)}(!Wi||Wi.length<lr*2)&&(Wi=_f(lr));for(var Ha=ft.createIndexBuffer(Wi,!0),li=ft.createVertexBuffer(Gn,i.collisionCircleLayout.members,!0),ri=0,Mi=$t;ri<Mi.length;ri+=1){var Qa=Mi[ri],xi=pc(Qa.transform,Qa.invTransform,he.transform);jn.draw(ft,Ct.TRIANGLES,gr.disabled,Qt.disabled,he.colorModeForRenderPass(),Rt.disabled,xi,pe.id,li,Ha,i.SegmentVector.simpleSegment(0,Qa.circleOffset*2,Qa.circleArray.length,Qa.circleArray.length/2),null,he.transform.zoom,null,null,null)}li.destroy(),Ha.destroy()}}function _f(he){var K=he*2,pe=new i.StructArrayLayout3ui6;pe.resize(K),pe._trim();for(var ee=0;ee<K;ee++){var ge=ee*6;pe.uint16[ge+0]=ee*4+0,pe.uint16[ge+1]=ee*4+1,pe.uint16[ge+2]=ee*4+2,pe.uint16[ge+3]=ee*4+2,pe.uint16[ge+4]=ee*4+3,pe.uint16[ge+5]=ee*4+0}return pe}var xl=i.identity(new Float32Array(16));function lf(he,K,pe,ee,ge){if(he.renderPass==="translucent"){var ze=Qt.disabled,Ke=he.colorModeForRenderPass(),ft=pe.layout.get("text-variable-anchor");ft&&Eh(ee,he,pe,K,pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),ge),pe.paint.get("icon-opacity").constantOr(1)!==0&&Mu(he,K,pe,ee,!1,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),pe.layout.get("icon-rotation-alignment"),pe.layout.get("icon-pitch-alignment"),pe.layout.get("icon-keep-upright"),ze,Ke),pe.paint.get("text-opacity").constantOr(1)!==0&&Mu(he,K,pe,ee,!0,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),pe.layout.get("text-keep-upright"),ze,Ke),K.map.showCollisionBoxes&&(xs(he,K,pe,ee,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),!0),xs(he,K,pe,ee,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),!1))}}function Su(he,K,pe,ee,ge,ze){var Ke=i.getAnchorAlignment(he),ft=Ke.horizontalAlign,Ct=Ke.verticalAlign,Ut=-(ft-.5)*K,$t=-(Ct-.5)*pe,lr=i.evaluateVariableOffset(he,ee);return new i.Point((Ut/ge+lr[0])*ze,($t/ge+lr[1])*ze)}function Eh(he,K,pe,ee,ge,ze,Ke){for(var ft=K.transform,Ct=ge==="map",Ut=ze==="map",$t=0,lr=he;$t<lr.length;$t+=1){var ir=lr[$t],kr=ee.getTile(ir),jr=kr.getBucket(pe);if(!(!jr||!jr.text||!jr.text.segments.get().length)){var Xr=jr.textSizeData,Gr=i.evaluateSizeForZoom(Xr,ft.zoom),$r=vn(kr,1,K.transform.zoom),hn=Fr(ir.posMatrix,Ut,Ct,K.transform,$r),In=pe.layout.get("icon-text-fit")!=="none"&&jr.hasIconData();if(Gr){var On=Math.pow(2,ft.zoom-kr.tileID.overscaledZ);Tc(jr,Ct,Ut,Ke,i.symbolSize,ft,hn,ir.posMatrix,On,Gr,In)}}}}function Tc(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t){var lr=he.text.placedSymbolArray,ir=he.text.dynamicLayoutVertexArray,kr=he.icon.dynamicLayoutVertexArray,jr={};ir.clear();for(var Xr=0;Xr<lr.length;Xr++){var Gr=lr.get(Xr),$r=he.allowVerticalPlacement&&!Gr.placedOrientation,hn=!Gr.hidden&&Gr.crossTileID&&!$r?ee[Gr.crossTileID]:null;if(!hn)Vn(Gr.numGlyphs,ir);else{var In=new i.Point(Gr.anchorX,Gr.anchorY),On=_r(In,pe?ft:Ke),Yn=on(ze.cameraToCenterDistance,On.signedDistanceFromCamera),jn=ge.evaluateSizeForFeature(he.textSizeData,Ut,Gr)*Yn/i.ONE_EM;pe&&(jn*=he.tilePixelRatio/Ct);for(var Gn=hn.width,Kn=hn.height,ta=hn.anchor,sa=hn.textOffset,ma=hn.textBoxScale,va=Su(ta,Gn,Kn,sa,ma,jn),_a=pe?_r(In.add(va),Ke).point:On.point.add(K?va.rotate(-ze.angle):va),$a=he.allowVerticalPlacement&&Gr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Xa=0;Xa<Gr.numGlyphs;Xa++)i.addDynamicAttributes(ir,_a,$a);$t&&Gr.associatedIconIndex>=0&&(jr[Gr.associatedIconIndex]={shiftedAnchor:_a,angle:$a})}}if($t){kr.clear();for(var Sa=he.icon.placedSymbolArray,ja=0;ja<Sa.length;ja++){var Ha=Sa.get(ja);if(Ha.hidden)Vn(Ha.numGlyphs,kr);else{var li=jr[ja];if(!li)Vn(Ha.numGlyphs,kr);else for(var ri=0;ri<Ha.numGlyphs;ri++)i.addDynamicAttributes(kr,li.shiftedAnchor,li.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(kr)}he.text.dynamicLayoutVertexBuffer.updateData(ir)}function yo(he,K,pe){return pe.iconsInText&&K?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function Mu(he,K,pe,ee,ge,ze,Ke,ft,Ct,Ut,$t,lr){for(var ir=he.context,kr=ir.gl,jr=he.transform,Xr=ft==="map",Gr=Ct==="map",$r=Xr&&pe.layout.get("symbol-placement")!=="point",hn=Xr&&!Gr&&!$r,In=pe.layout.get("symbol-sort-key").constantOr(1)!==void 0,On=!1,Yn=he.depthModeForSublayer(0,gr.ReadOnly),jn=pe.layout.get("text-variable-anchor"),Gn=[],Kn=0,ta=ee;Kn<ta.length;Kn+=1){var sa=ta[Kn],ma=K.getTile(sa),va=ma.getBucket(pe);if(va){var _a=ge?va.text:va.icon;if(!(!_a||!_a.segments.get().length)){var $a=_a.programConfigurations.get(pe.id),Xa=ge||va.sdfIcons,Sa=ge?va.textSizeData:va.iconSizeData,ja=Gr||jr.pitch!==0,Ha=he.useProgram(yo(Xa,ge,va),$a),li=i.evaluateSizeForZoom(Sa,jr.zoom),ri=void 0,Mi=[0,0],Qa=void 0,xi=void 0,Ga=null,qa=void 0;if(ge){if(Qa=ma.glyphAtlasTexture,xi=kr.LINEAR,ri=ma.glyphAtlasTexture.size,va.iconsInText){Mi=ma.imageAtlasTexture.size,Ga=ma.imageAtlasTexture;var Ui=Sa.kind==="composite"||Sa.kind==="camera";qa=ja||he.options.rotating||he.options.zooming||Ui?kr.LINEAR:kr.NEAREST}}else{var xo=pe.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Qa=ma.imageAtlasTexture,xi=Xa||he.options.rotating||he.options.zooming||xo||ja?kr.LINEAR:kr.NEAREST,ri=ma.imageAtlasTexture.size}var rl=vn(ma,1,he.transform.zoom),nl=Fr(sa.posMatrix,Gr,Xr,he.transform,rl),Tl=Yr(sa.posMatrix,Gr,Xr,he.transform,rl),ql=jn&&va.hasTextData(),Hf=pe.layout.get("icon-text-fit")!=="none"&&ql&&va.hasIconData();$r&&Sn(va,sa.posMatrix,he,ge,nl,Tl,Gr,Ut);var eu=he.translatePosMatrix(sa.posMatrix,ma,ze,Ke),ss=$r||ge&&jn||Hf?xl:nl,tu=he.translatePosMatrix(Tl,ma,ze,Ke,!0),Ts=Xa&&pe.paint.get(ge?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ls=void 0;Xa?va.iconsInText?ls=Ff(Sa.kind,li,hn,Gr,he,eu,ss,tu,ri,Mi):ls=sf(Sa.kind,li,hn,Gr,he,eu,ss,tu,ge,ri,!0):ls=bu(Sa.kind,li,hn,Gr,he,eu,ss,tu,ge,ri);var Al={program:Ha,buffers:_a,uniformValues:ls,atlasTexture:Qa,atlasTextureIcon:Ga,atlasInterpolation:xi,atlasInterpolationIcon:qa,isSDF:Xa,hasHalo:Ts};if(In&&va.canOverlap){On=!0;for(var ku=_a.segments.get(),Sl=0,rv=ku;Sl<rv.length;Sl+=1){var Dc=rv[Sl];Gn.push({segments:new i.SegmentVector([Dc]),sortKey:Dc.sortKey,state:Al})}}else Gn.push({segments:_a.segments,sortKey:0,state:Al})}}}On&&Gn.sort(function(av,iv){return av.sortKey-iv.sortKey});for(var So=0,nv=Gn;So<nv.length;So+=1){var Ih=nv[So],jo=Ih.state;if(ir.activeTexture.set(kr.TEXTURE0),jo.atlasTexture.bind(jo.atlasInterpolation,kr.CLAMP_TO_EDGE),jo.atlasTextureIcon&&(ir.activeTexture.set(kr.TEXTURE1),jo.atlasTextureIcon&&jo.atlasTextureIcon.bind(jo.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),jo.isSDF){var Ic=jo.uniformValues;jo.hasHalo&&(Ic.u_is_halo=1,Ql(jo.buffers,Ih.segments,pe,he,jo.program,Yn,$t,lr,Ic)),Ic.u_is_halo=0}Ql(jo.buffers,Ih.segments,pe,he,jo.program,Yn,$t,lr,jo.uniformValues)}}function Ql(he,K,pe,ee,ge,ze,Ke,ft,Ct){var Ut=ee.context,$t=Ut.gl;ge.draw(Ut,$t.TRIANGLES,ze,Ke,ft,Rt.disabled,Ct,pe.id,he.layoutVertexBuffer,he.indexBuffer,K,pe.paint,ee.transform.zoom,he.programConfigurations.get(pe.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function Ac(he,K,pe,ee){if(he.renderPass==="translucent"){var ge=pe.paint.get("circle-opacity"),ze=pe.paint.get("circle-stroke-width"),Ke=pe.paint.get("circle-stroke-opacity"),ft=pe.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ge.constantOr(1)===0&&(ze.constantOr(1)===0||Ke.constantOr(1)===0))){for(var Ct=he.context,Ut=Ct.gl,$t=he.depthModeForSublayer(0,gr.ReadOnly),lr=Qt.disabled,ir=he.colorModeForRenderPass(),kr=[],jr=0;jr<ee.length;jr++){var Xr=ee[jr],Gr=K.getTile(Xr),$r=Gr.getBucket(pe);if($r){var hn=$r.programConfigurations.get(pe.id),In=he.useProgram("circle",hn),On=$r.layoutVertexBuffer,Yn=$r.indexBuffer,jn=Th(he,Xr,Gr,pe),Gn={programConfiguration:hn,program:In,layoutVertexBuffer:On,indexBuffer:Yn,uniformValues:jn};if(ft)for(var Kn=$r.segments.get(),ta=0,sa=Kn;ta<sa.length;ta+=1){var ma=sa[ta];kr.push({segments:new i.SegmentVector([ma]),sortKey:ma.sortKey,state:Gn})}else kr.push({segments:$r.segments,sortKey:0,state:Gn})}}ft&&kr.sort(function(Qa,xi){return Qa.sortKey-xi.sortKey});for(var va=0,_a=kr;va<_a.length;va+=1){var $a=_a[va],Xa=$a.state,Sa=Xa.programConfiguration,ja=Xa.program,Ha=Xa.layoutVertexBuffer,li=Xa.indexBuffer,ri=Xa.uniformValues,Mi=$a.segments;ja.draw(Ct,Ut.TRIANGLES,$t,lr,ir,Rt.disabled,ri,pe.id,Ha,li,Mi,pe.paint,he.transform.zoom,Sa)}}}}function el(he,K,pe,ee){if(pe.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var ge=he.context,ze=ge.gl,Ke=Qt.disabled,ft=new ut([ze.ONE,ze.ONE],i.Color.transparent,[!0,!0,!0,!0]);Ch(ge,he,pe),ge.clear({color:i.Color.transparent});for(var Ct=0;Ct<ee.length;Ct++){var Ut=ee[Ct];if(!K.hasRenderableParent(Ut)){var $t=K.getTile(Ut),lr=$t.getBucket(pe);if(lr){var ir=lr.programConfigurations.get(pe.id),kr=he.useProgram("heatmap",ir),jr=he.transform,Xr=jr.zoom;kr.draw(ge,ze.TRIANGLES,gr.disabled,Ke,ft,Rt.disabled,ks(Ut.posMatrix,$t,Xr,pe.paint.get("heatmap-intensity")),pe.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,pe.paint,he.transform.zoom,ir)}}}ge.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),Eu(he,pe))}function Ch(he,K,pe){var ee=he.gl;he.activeTexture.set(ee.TEXTURE1),he.viewport.set([0,0,K.width/4,K.height/4]);var ge=pe.heatmapFbo;if(ge)ee.bindTexture(ee.TEXTURE_2D,ge.colorAttachment.get()),he.bindFramebuffer.set(ge.framebuffer);else{var ze=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,ze),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),ge=pe.heatmapFbo=he.createFramebuffer(K.width/4,K.height/4,!1),ko(he,K,ze,ge)}}function ko(he,K,pe,ee){var ge=he.gl,ze=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE;ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,K.width/4,K.height/4,0,ge.RGBA,ze,null),ee.colorAttachment.set(pe)}function Eu(he,K){var pe=he.context,ee=pe.gl,ge=K.heatmapFbo;if(ge){pe.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ge.colorAttachment.get()),pe.activeTexture.set(ee.TEXTURE1);var ze=K.colorRampTexture;ze||(ze=K.colorRampTexture=new i.Texture(pe,K.colorRamp,ee.RGBA)),ze.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(pe,ee.TRIANGLES,gr.disabled,Qt.disabled,he.colorModeForRenderPass(),Rt.disabled,Mh(he,K,0,1),K.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,K.paint,he.transform.zoom)}}function uf(he,K,pe,ee){if(he.renderPass==="translucent"){var ge=pe.paint.get("line-opacity"),ze=pe.paint.get("line-width");if(!(ge.constantOr(1)===0||ze.constantOr(1)===0))for(var Ke=he.depthModeForSublayer(0,gr.ReadOnly),ft=he.colorModeForRenderPass(),Ct=pe.paint.get("line-dasharray"),Ut=pe.paint.get("line-pattern"),$t=Ut.constantOr(1),lr=pe.paint.get("line-gradient"),ir=pe.getCrossfadeParameters(),kr=$t?"linePattern":Ct?"lineSDF":lr?"lineGradient":"line",jr=he.context,Xr=jr.gl,Gr=!0,$r=0,hn=ee;$r<hn.length;$r+=1){var In=hn[$r],On=K.getTile(In);if(!($t&&!On.patternsLoaded())){var Yn=On.getBucket(pe);if(Yn){var jn=Yn.programConfigurations.get(pe.id),Gn=he.context.program.get(),Kn=he.useProgram(kr,jn),ta=Gr||Kn.program!==Gn,sa=Ut.constantOr(null);if(sa&&On.imageAtlas){var ma=On.imageAtlas,va=ma.patternPositions[sa.to.toString()],_a=ma.patternPositions[sa.from.toString()];va&&_a&&jn.setConstantPatternPositions(va,_a)}var $a=$t?bc(he,On,pe,ir):Ct?Fs(he,On,pe,Ct,ir):lr?ml(he,On,pe,Yn.lineClipsArray.length):yl(he,On,pe);if($t)jr.activeTexture.set(Xr.TEXTURE0),On.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),jn.updatePaintBuffers(ir);else if(Ct&&(ta||he.lineAtlas.dirty))jr.activeTexture.set(Xr.TEXTURE0),he.lineAtlas.bind(jr);else if(lr){var Xa=Yn.gradients[pe.id],Sa=Xa.texture;if(pe.gradientVersion!==Xa.version){var ja=256;if(pe.stepInterpolant){var Ha=K.getSource().maxzoom,li=In.canonical.z===Ha?Math.ceil(1<<he.transform.maxZoom-In.canonical.z):1,ri=Yn.maxLineLength/i.EXTENT,Mi=1024,Qa=ri*Mi*li;ja=i.clamp(i.nextPowerOfTwo(Qa),256,jr.maxTextureSize)}Xa.gradient=i.renderColorRamp({expression:pe.gradientExpression(),evaluationKey:"lineProgress",resolution:ja,image:Xa.gradient||void 0,clips:Yn.lineClipsArray}),Xa.texture?Xa.texture.update(Xa.gradient):Xa.texture=new i.Texture(jr,Xa.gradient,Xr.RGBA),Xa.version=pe.gradientVersion,Sa=Xa.texture}jr.activeTexture.set(Xr.TEXTURE0),Sa.bind(pe.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}Kn.draw(jr,Xr.TRIANGLES,Ke,he.stencilModeForClipping(In),ft,Rt.disabled,$a,pe.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,pe.paint,he.transform.zoom,jn,Yn.layoutVertexBuffer2),Gr=!1}}}}}function zs(he,K,pe,ee){var ge=pe.paint.get("fill-color"),ze=pe.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ke=he.colorModeForRenderPass(),ft=pe.paint.get("fill-pattern"),Ct=he.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&ge.constantOr(i.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===Ct){var Ut=he.depthModeForSublayer(1,he.renderPass==="opaque"?gr.ReadWrite:gr.ReadOnly);tl(he,K,pe,ee,Ut,Ke,!1)}if(he.renderPass==="translucent"&&pe.paint.get("fill-antialias")){var $t=he.depthModeForSublayer(pe.getPaintProperty("fill-outline-color")?2:0,gr.ReadOnly);tl(he,K,pe,ee,$t,Ke,!0)}}}function tl(he,K,pe,ee,ge,ze,Ke){var ft=he.context.gl,Ct=pe.paint.get("fill-pattern"),Ut=Ct&&Ct.constantOr(1),$t=pe.getCrossfadeParameters(),lr,ir,kr,jr,Xr;Ke?(ir=Ut&&!pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ft.LINES):(ir=Ut?"fillPattern":"fill",lr=ft.TRIANGLES);for(var Gr=0,$r=ee;Gr<$r.length;Gr+=1){var hn=$r[Gr],In=K.getTile(hn);if(!(Ut&&!In.patternsLoaded())){var On=In.getBucket(pe);if(On){var Yn=On.programConfigurations.get(pe.id),jn=he.useProgram(ir,Yn);Ut&&(he.context.activeTexture.set(ft.TEXTURE0),In.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Yn.updatePaintBuffers($t));var Gn=Ct.constantOr(null);if(Gn&&In.imageAtlas){var Kn=In.imageAtlas,ta=Kn.patternPositions[Gn.to.toString()],sa=Kn.patternPositions[Gn.from.toString()];ta&&sa&&Yn.setConstantPatternPositions(ta,sa)}var ma=he.translatePosMatrix(hn.posMatrix,In,pe.paint.get("fill-translate"),pe.paint.get("fill-translate-anchor"));if(!Ke)jr=On.indexBuffer,Xr=On.segments,kr=Ut?as(ma,he,$t,In):Is(ma);else{jr=On.indexBuffer2,Xr=On.segments2;var va=[ft.drawingBufferWidth,ft.drawingBufferHeight];kr=ir==="fillOutlinePattern"&&Ut?yu(ma,he,$t,In,va):Xo(ma,va)}jn.draw(he.context,lr,ge,he.stencilModeForClipping(hn),ze,Rt.disabled,kr,pe.id,On.layoutVertexBuffer,jr,Xr,pe.paint,he.transform.zoom,Yn)}}}}function zf(he,K,pe,ee){var ge=pe.paint.get("fill-extrusion-opacity");if(ge!==0&&he.renderPass==="translucent"){var ze=new gr(he.context.gl.LEQUAL,gr.ReadWrite,he.depthRangeFor3D);if(ge===1&&!pe.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=he.colorModeForRenderPass();Cu(he,K,pe,ee,ze,Qt.disabled,Ke)}else Cu(he,K,pe,ee,ze,Qt.disabled,ut.disabled),Cu(he,K,pe,ee,ze,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function Cu(he,K,pe,ee,ge,ze,Ke){for(var ft=he.context,Ct=ft.gl,Ut=pe.paint.get("fill-extrusion-pattern"),$t=Ut.constantOr(1),lr=pe.getCrossfadeParameters(),ir=pe.paint.get("fill-extrusion-opacity"),kr=0,jr=ee;kr<jr.length;kr+=1){var Xr=jr[kr],Gr=K.getTile(Xr),$r=Gr.getBucket(pe);if($r){var hn=$r.programConfigurations.get(pe.id),In=he.useProgram($t?"fillExtrusionPattern":"fillExtrusion",hn);$t&&(he.context.activeTexture.set(Ct.TEXTURE0),Gr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),hn.updatePaintBuffers(lr));var On=Ut.constantOr(null);if(On&&Gr.imageAtlas){var Yn=Gr.imageAtlas,jn=Yn.patternPositions[On.to.toString()],Gn=Yn.patternPositions[On.from.toString()];jn&&Gn&&hn.setConstantPatternPositions(jn,Gn)}var Kn=he.translatePosMatrix(Xr.posMatrix,Gr,pe.paint.get("fill-extrusion-translate"),pe.paint.get("fill-extrusion-translate-anchor")),ta=pe.paint.get("fill-extrusion-vertical-gradient"),sa=$t?rs(Kn,he,ta,ir,Xr,lr,Gr):gu(Kn,he,ta,ir);In.draw(ft,ft.gl.TRIANGLES,ge,ze,Ke,Rt.backCCW,sa,pe.id,$r.layoutVertexBuffer,$r.indexBuffer,$r.segments,pe.paint,he.transform.zoom,hn)}}}function Lu(he,K,pe,ee){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var ge=he.context,ze=he.depthModeForSublayer(0,gr.ReadOnly),Ke=he.colorModeForRenderPass(),ft=he.renderPass==="translucent"?he.stencilConfigForOverlap(ee):[{},ee],Ct=ft[0],Ut=ft[1],$t=0,lr=Ut;$t<lr.length;$t+=1){var ir=lr[$t],kr=K.getTile(ir);kr.needsHillshadePrepare&&he.renderPass==="offscreen"?Sc(he,kr,pe,ze,Qt.disabled,Ke):he.renderPass==="translucent"&&ff(he,kr,pe,ze,Ct[ir.overscaledZ],Ke)}ge.viewport.set([0,0,he.width,he.height])}}function ff(he,K,pe,ee,ge,ze){var Ke=he.context,ft=Ke.gl,Ct=K.fbo;if(Ct){var Ut=he.useProgram("hillshade");Ke.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,Ct.colorAttachment.get());var $t=kf(he,K,pe);Ut.draw(Ke,ft.TRIANGLES,ee,ge,ze,Rt.disabled,$t,pe.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Sc(he,K,pe,ee,ge,ze){var Ke=he.context,ft=Ke.gl,Ct=K.dem;if(Ct&&Ct.data){var Ut=Ct.dim,$t=Ct.stride,lr=Ct.getPixels();if(Ke.activeTexture.set(ft.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||he.getTileTexture($t),K.demTexture){var ir=K.demTexture;ir.update(lr,{premultiply:!1}),ir.bind(ft.NEAREST,ft.CLAMP_TO_EDGE)}else K.demTexture=new i.Texture(Ke,lr,ft.RGBA,{premultiply:!1}),K.demTexture.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);Ke.activeTexture.set(ft.TEXTURE0);var kr=K.fbo;if(!kr){var jr=new i.Texture(Ke,{width:Ut,height:Ut,data:null},ft.RGBA);jr.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),kr=K.fbo=Ke.createFramebuffer(Ut,Ut,!0),kr.colorAttachment.set(jr.texture)}Ke.bindFramebuffer.set(kr.framebuffer),Ke.viewport.set([0,0,Ut,Ut]),he.useProgram("hillshadePrepare").draw(Ke,ft.TRIANGLES,ee,ge,ze,Rt.disabled,xc(K.tileID,Ct),pe.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function Pu(he,K,pe,ee){if(he.renderPass==="translucent"&&pe.paint.get("raster-opacity")!==0&&ee.length)for(var ge=he.context,ze=ge.gl,Ke=K.getSource(),ft=he.useProgram("raster"),Ct=he.colorModeForRenderPass(),Ut=Ke instanceof J?[{},ee]:he.stencilConfigForOverlap(ee),$t=Ut[0],lr=Ut[1],ir=lr[lr.length-1].overscaledZ,kr=!he.options.moving,jr=0,Xr=lr;jr<Xr.length;jr+=1){var Gr=Xr[jr],$r=he.depthModeForSublayer(Gr.overscaledZ-ir,pe.paint.get("raster-opacity")===1?gr.ReadWrite:gr.ReadOnly,ze.LESS),hn=K.getTile(Gr),In=he.transform.calculatePosMatrix(Gr.toUnwrapped(),kr);hn.registerFadeDuration(pe.paint.get("raster-fade-duration"));var On=K.findLoadedParent(Gr,0),Yn=Of(hn,On,K,pe,he.transform),jn=void 0,Gn=void 0,Kn=pe.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;ge.activeTexture.set(ze.TEXTURE0),hn.texture.bind(Kn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(ze.TEXTURE1),On?(On.texture.bind(Kn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),jn=Math.pow(2,On.tileID.overscaledZ-hn.tileID.overscaledZ),Gn=[hn.tileID.canonical.x*jn%1,hn.tileID.canonical.y*jn%1]):hn.texture.bind(Kn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var ta=xu(In,Gn||[0,0],jn||1,Yn,pe);Ke instanceof J?ft.draw(ge,ze.TRIANGLES,$r,Qt.disabled,Ct,Rt.disabled,ta,pe.id,Ke.boundsBuffer,he.quadTriangleIndexBuffer,Ke.boundsSegments):ft.draw(ge,ze.TRIANGLES,$r,$t[Gr.overscaledZ],Ct,Rt.disabled,ta,pe.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Of(he,K,pe,ee,ge){var ze=ee.paint.get("raster-fade-duration");if(ze>0){var Ke=i.browser.now(),ft=(Ke-he.timeAdded)/ze,Ct=K?(Ke-K.timeAdded)/ze:-1,Ut=pe.getSource(),$t=ge.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),lr=!K||Math.abs(K.tileID.overscaledZ-$t)>Math.abs(he.tileID.overscaledZ-$t),ir=lr&&he.refreshedUponExpiration?1:i.clamp(lr?ft:1-Ct,0,1);return he.refreshedUponExpiration&&ft>=1&&(he.refreshedUponExpiration=!1),K?{opacity:1,mix:1-ir}:{opacity:ir,mix:0}}else return{opacity:1,mix:0}}function bl(he,K,pe){var ee=pe.paint.get("background-color"),ge=pe.paint.get("background-opacity");if(ge!==0){var ze=he.context,Ke=ze.gl,ft=he.transform,Ct=ft.tileSize,Ut=pe.paint.get("background-pattern");if(!he.isPatternMissing(Ut)){var $t=!Ut&&ee.a===1&&ge===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===$t){var lr=Qt.disabled,ir=he.depthModeForSublayer(0,$t==="opaque"?gr.ReadWrite:gr.ReadOnly),kr=he.colorModeForRenderPass(),jr=he.useProgram(Ut?"backgroundPattern":"background"),Xr=ft.coveringTiles({tileSize:Ct});Ut&&(ze.activeTexture.set(Ke.TEXTURE0),he.imageManager.bind(he.context));for(var Gr=pe.getCrossfadeParameters(),$r=0,hn=Xr;$r<hn.length;$r+=1){var In=hn[$r],On=he.transform.calculatePosMatrix(In.toUnwrapped()),Yn=Ut?Au(On,ge,he,Ut,{tileID:In,tileSize:Ct},Gr):$s(On,ge,ee);jr.draw(ze,Ke.TRIANGLES,ir,lr,kr,Rt.disabled,Yn,pe.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var Bf=new i.Color(1,0,0,1),Ru=new i.Color(0,1,0,1),Mc=new i.Color(0,0,1,1),Je=new i.Color(1,0,1,1),it=new i.Color(0,1,1,1);function yt(he){var K=he.transform.padding,pe=3;Ft(he,he.transform.height-(K.top||0),pe,Bf),Ft(he,K.bottom||0,pe,Ru),It(he,K.left||0,pe,Mc),It(he,he.transform.width-(K.right||0),pe,Je);var ee=he.transform.centerPoint;xt(he,ee.x,he.transform.height-ee.y,it)}function xt(he,K,pe,ee){var ge=20,ze=2;zt(he,K-ze/2,pe-ge/2,ze,ge,ee),zt(he,K-ge/2,pe-ze/2,ge,ze,ee)}function Ft(he,K,pe,ee){zt(he,0,K+pe/2,he.transform.width,pe,ee)}function It(he,K,pe,ee){zt(he,K-pe/2,0,pe,he.transform.height,ee)}function zt(he,K,pe,ee,ge,ze){var Ke=he.context,ft=Ke.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor(K*i.browser.devicePixelRatio,pe*i.browser.devicePixelRatio,ee*i.browser.devicePixelRatio,ge*i.browser.devicePixelRatio),Ke.clear({color:ze}),ft.disable(ft.SCISSOR_TEST)}function pr(he,K,pe){for(var ee=0;ee<pe.length;ee++)br(he,K,pe[ee])}function br(he,K,pe){var ee=he.context,ge=ee.gl,ze=pe.posMatrix,Ke=he.useProgram("debug"),ft=gr.disabled,Ct=Qt.disabled,Ut=he.colorModeForRenderPass(),$t="$debug";ee.activeTexture.set(ge.TEXTURE0),he.emptyTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Ke.draw(ee,ge.LINE_STRIP,ft,Ct,Ut,Rt.disabled,qi(ze,i.Color.red),$t,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var lr=K.getTileByID(pe.key).latestRawTileData,ir=lr&&lr.byteLength||0,kr=Math.floor(ir/1024),jr=K.getTile(pe).tileSize,Xr=512/Math.min(jr,512)*(pe.overscaledZ/he.transform.zoom)*.5,Gr=pe.canonical.toString();pe.overscaledZ!==pe.canonical.z&&(Gr+=" => "+pe.overscaledZ);var $r=Gr+" "+kr+"kb";ar(he,$r),Ke.draw(ee,ge.TRIANGLES,ft,Ct,ut.alphaBlended,Rt.disabled,qi(ze,i.Color.transparent,Xr),$t,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function ar(he,K){he.initDebugOverlayCanvas();var pe=he.debugOverlayCanvas,ee=he.context.gl,ge=he.debugOverlayCanvas.getContext("2d");ge.clearRect(0,0,pe.width,pe.height),ge.shadowColor="white",ge.shadowBlur=2,ge.lineWidth=1.5,ge.strokeStyle="white",ge.textBaseline="top",ge.font="bold 36px Open Sans, sans-serif",ge.fillText(K,5,5),ge.strokeText(K,5,5),he.debugOverlayTexture.update(pe),he.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Mr(he,K,pe){var ee=he.context,ge=pe.implementation;if(he.renderPass==="offscreen"){var ze=ge.prerender;ze&&(he.setCustomLayerDefaults(),ee.setColorMode(he.colorModeForRenderPass()),ze.call(ge,ee.gl,he.transform.customLayerMatrix()),ee.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),ee.setColorMode(he.colorModeForRenderPass()),ee.setStencilMode(Qt.disabled);var Ke=ge.renderingMode==="3d"?new gr(he.context.gl.LEQUAL,gr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,gr.ReadOnly);ee.setDepthMode(Ke),ge.render(ee.gl,he.transform.customLayerMatrix()),ee.setDirty(),he.setBaseState(),ee.bindFramebuffer.set(null)}}var Ir={symbol:lf,circle:Ac,heatmap:el,line:uf,fill:zs,"fill-extrusion":zf,hillshade:Lu,raster:Pu,background:bl,debug:pr,custom:Mr},Nr=function(K,pe){this.context=new Ht(K),this.transform=pe,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ia,this.gpuTimers={}};Nr.prototype.resize=function(K,pe){if(this.width=K*i.browser.devicePixelRatio,this.height=pe*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,ge=this.style._order;ee<ge.length;ee+=1){var ze=ge[ee];this.style._layers[ze].resize()}},Nr.prototype.setup=function(){var K=this.context,pe=new i.StructArrayLayout2i4;pe.emplaceBack(0,0),pe.emplaceBack(i.EXTENT,0),pe.emplaceBack(0,i.EXTENT),pe.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(pe,Ro.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var ee=new i.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(i.EXTENT,0),ee.emplaceBack(0,i.EXTENT),ee.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=K.createVertexBuffer(ee,Ro.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ge=new i.StructArrayLayout4i8;ge.emplaceBack(0,0,0,0),ge.emplaceBack(i.EXTENT,0,i.EXTENT,0),ge.emplaceBack(0,i.EXTENT,0,i.EXTENT),ge.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(ge,Z.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var ze=new i.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(ze,Ro.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ke=new i.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(Ke);var ft=new i.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ft),this.emptyTexture=new i.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new Qt({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Nr.prototype.clearStencil=function(){var K=this.context,pe=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=i.create();i.ortho(ee,0,this.width,this.height,0,0,1),i.scale(ee,ee,[pe.drawingBufferWidth,pe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,pe.TRIANGLES,gr.disabled,this.stencilClearMode,ut.disabled,Rt.disabled,Yl(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Nr.prototype._renderTileClippingMasks=function(K,pe){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!pe||!pe.length)){this.currentStencilSource=K.source;var ee=this.context,ge=ee.gl;this.nextStencilID+pe.length>256&&this.clearStencil(),ee.setColorMode(ut.disabled),ee.setDepthMode(gr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,ft=pe;Ke<ft.length;Ke+=1){var Ct=ft[Ke],Ut=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;ze.draw(ee,ge.TRIANGLES,gr.disabled,new Qt({func:ge.ALWAYS,mask:0},Ut,255,ge.KEEP,ge.KEEP,ge.REPLACE),ut.disabled,Rt.disabled,Yl(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Nr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,pe=this.context.gl;return new Qt({func:pe.NOTEQUAL,mask:255},K,255,pe.KEEP,pe.KEEP,pe.REPLACE)},Nr.prototype.stencilModeForClipping=function(K){var pe=this.context.gl;return new Qt({func:pe.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,pe.KEEP,pe.KEEP,pe.REPLACE)},Nr.prototype.stencilConfigForOverlap=function(K){var pe,ee=this.context.gl,ge=K.sort(function(Ut,$t){return $t.overscaledZ-Ut.overscaledZ}),ze=ge[ge.length-1].overscaledZ,Ke=ge[0].overscaledZ-ze+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var ft={},Ct=0;Ct<Ke;Ct++)ft[Ct+ze]=new Qt({func:ee.GEQUAL,mask:255},Ct+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=Ke,[ft,ge]}return[(pe={},pe[ze]=Qt.disabled,pe),ge]},Nr.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var pe=8,ee=1/pe;return new ut([K.CONSTANT_COLOR,K.ONE],new i.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Nr.prototype.depthModeForSublayer=function(K,pe,ee){if(!this.opaquePassEnabledForLayer())return gr.disabled;var ge=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new gr(ee||this.context.gl.LEQUAL,pe,[ge,ge])},Nr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Nr.prototype.render=function(K,pe){var ee=this;this.style=K,this.options=pe,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ge=this.style._order,ze=this.style.sourceCaches;for(var Ke in ze){var ft=ze[Ke];ft.used&&ft.prepare(this.context)}var Ct={},Ut={},$t={};for(var lr in ze){var ir=ze[lr];Ct[lr]=ir.getVisibleCoordinates(),Ut[lr]=Ct[lr].slice().reverse(),$t[lr]=ir.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<ge.length;kr++){var jr=ge[kr];if(this.style._layers[jr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var Xr=0,Gr=ge;Xr<Gr.length;Xr+=1){var $r=Gr[Xr],hn=this.style._layers[$r];if(!(!hn.hasOffscreenPass()||hn.isHidden(this.transform.zoom))){var In=Ut[hn.source];hn.type!=="custom"&&!In.length||this.renderLayer(this,ze[hn.source],hn,In)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:pe.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=pe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ge.length-1;this.currentLayer>=0;this.currentLayer--){var On=this.style._layers[ge[this.currentLayer]],Yn=ze[On.source],jn=Ct[On.source];this._renderTileClippingMasks(On,jn),this.renderLayer(this,Yn,On,jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ge.length;this.currentLayer++){var Gn=this.style._layers[ge[this.currentLayer]],Kn=ze[Gn.source],ta=(Gn.type==="symbol"?$t:Ut)[Gn.source];this._renderTileClippingMasks(Gn,Ct[Gn.source]),this.renderLayer(this,Kn,Gn,ta)}if(this.options.showTileBoundaries){var sa,ma,va=i.values(this.style._layers);va.forEach(function(_a){_a.source&&!_a.isHidden(ee.transform.zoom)&&(_a.source!==(ma&&ma.id)&&(ma=ee.style.sourceCaches[_a.source]),(!sa||sa.getSource().maxzoom<ma.getSource().maxzoom)&&(sa=ma))}),sa&&Ir.debug(this,sa,sa.getVisibleCoordinates())}this.options.showPadding&&yt(this),this.context.setDefault()},Nr.prototype.renderLayer=function(K,pe,ee,ge){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!ge.length||(this.id=ee.id,this.gpuTimingStart(ee),Ir[ee.type](K,pe,ee,ge,this.style.placement.variableOffsets),this.gpuTimingEnd())},Nr.prototype.gpuTimingStart=function(K){if(this.options.gpuTiming){var pe=this.context.extTimerQuery,ee=this.gpuTimers[K.id];ee||(ee=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:pe.createQueryEXT()}),ee.calls++,pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,ee.query)}},Nr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Nr.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Nr.prototype.queryGpuTimers=function(K){var pe={};for(var ee in K){var ge=K[ee],ze=this.context.extTimerQuery,Ke=ze.getQueryObjectEXT(ge.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(ge.query),pe[ee]=Ke}return pe},Nr.prototype.translatePosMatrix=function(K,pe,ee,ge,ze){if(!ee[0]&&!ee[1])return K;var Ke=ze?ge==="map"?this.transform.angle:0:ge==="viewport"?-this.transform.angle:0;if(Ke){var ft=Math.sin(Ke),Ct=Math.cos(Ke);ee=[ee[0]*Ct-ee[1]*ft,ee[0]*ft+ee[1]*Ct]}var Ut=[ze?ee[0]:vn(pe,ee[0],this.transform.zoom),ze?ee[1]:vn(pe,ee[1],this.transform.zoom),0],$t=new Float32Array(16);return i.translate($t,K,Ut),$t},Nr.prototype.saveTileTexture=function(K){var pe=this._tileTextures[K.size[0]];pe?pe.push(K):this._tileTextures[K.size[0]]=[K]},Nr.prototype.getTileTexture=function(K){var pe=this._tileTextures[K];return pe&&pe.length>0?pe.pop():null},Nr.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var pe=this.imageManager.getPattern(K.from.toString()),ee=this.imageManager.getPattern(K.to.toString());return!pe||!ee},Nr.prototype.useProgram=function(K,pe){this.cache=this.cache||{};var ee=""+K+(pe?pe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new Df(this.context,K,vc[K],pe,qs[K],this._showOverdrawInspector)),this.cache[ee]},Nr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Nr.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Nr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Nr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var nn=function(K,pe){this.points=K,this.planes=pe};nn.fromInvProjectionMatrix=function(K,pe,ee){var ge=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ee),Ke=ge.map(function(Ut){return i.transformMat4([],Ut,K)}).map(function(Ut){return i.scale$1([],Ut,1/Ut[3]/pe*ze)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ft.map(function(Ut){var $t=i.sub([],Ke[Ut[0]],Ke[Ut[1]]),lr=i.sub([],Ke[Ut[2]],Ke[Ut[1]]),ir=i.normalize([],i.cross([],$t,lr)),kr=-i.dot(ir,Ke[Ut[1]]);return ir.concat(kr)});return new nn(Ke,Ct)};var mn=function(K,pe){this.min=K,this.max=pe,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};mn.prototype.quadrant=function(K){for(var pe=[K%2===0,K<2],ee=i.clone$2(this.min),ge=i.clone$2(this.max),ze=0;ze<pe.length;ze++)ee[ze]=pe[ze]?this.min[ze]:this.center[ze],ge[ze]=pe[ze]?this.center[ze]:this.max[ze];return ge[2]=this.max[2],new mn(ee,ge)},mn.prototype.distanceX=function(K){var pe=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return pe-K[0]},mn.prototype.distanceY=function(K){var pe=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return pe-K[1]},mn.prototype.intersects=function(K){for(var pe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,ge=0;ge<K.planes.length;ge++){for(var ze=K.planes[ge],Ke=0,ft=0;ft<pe.length;ft++)Ke+=i.dot$1(ze,pe[ft])>=0;if(Ke===0)return 0;Ke!==pe.length&&(ee=!1)}if(ee)return 2;for(var Ct=0;Ct<3;Ct++){for(var Ut=Number.MAX_VALUE,$t=-Number.MAX_VALUE,lr=0;lr<K.points.length;lr++){var ir=K.points[lr][Ct]-this.min[Ct];Ut=Math.min(Ut,ir),$t=Math.max($t,ir)}if($t<0||Ut>this.max[Ct]-this.min[Ct])return 0}return 1};var Pn=function(K,pe,ee,ge){if(K===void 0&&(K=0),pe===void 0&&(pe=0),ee===void 0&&(ee=0),ge===void 0&&(ge=0),isNaN(K)||K<0||isNaN(pe)||pe<0||isNaN(ee)||ee<0||isNaN(ge)||ge<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=pe,this.left=ee,this.right=ge};Pn.prototype.interpolate=function(K,pe,ee){return pe.top!=null&&K.top!=null&&(this.top=i.number(K.top,pe.top,ee)),pe.bottom!=null&&K.bottom!=null&&(this.bottom=i.number(K.bottom,pe.bottom,ee)),pe.left!=null&&K.left!=null&&(this.left=i.number(K.left,pe.left,ee)),pe.right!=null&&K.right!=null&&(this.right=i.number(K.right,pe.right,ee)),this},Pn.prototype.getCenter=function(K,pe){var ee=i.clamp((this.left+K-this.right)/2,0,K),ge=i.clamp((this.top+pe-this.bottom)/2,0,pe);return new i.Point(ee,ge)},Pn.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},Pn.prototype.clone=function(){return new Pn(this.top,this.bottom,this.left,this.right)},Pn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Dn=function(K,pe,ee,ge,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=K||0,this._maxZoom=pe||22,this._minPitch=ee??0,this._maxPitch=ge??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Pn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Dn.prototype.clone=function(){var K=new Dn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},Zn.minZoom.get=function(){return this._minZoom},Zn.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},Zn.maxZoom.get=function(){return this._maxZoom},Zn.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},Zn.minPitch.get=function(){return this._minPitch},Zn.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},Zn.maxPitch.get=function(){return this._maxPitch},Zn.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},Zn.renderWorldCopies.get=function(){return this._renderWorldCopies},Zn.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},Zn.worldSize.get=function(){return this.tileSize*this.scale},Zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zn.size.get=function(){return new i.Point(this.width,this.height)},Zn.bearing.get=function(){return-this.angle/Math.PI*180},Zn.bearing.set=function(he){var K=-i.wrap(he,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zn.pitch.get=function(){return this._pitch/Math.PI*180},Zn.pitch.set=function(he){var K=i.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},Zn.fov.get=function(){return this._fov/Math.PI*180},Zn.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},Zn.zoom.get=function(){return this._zoom},Zn.zoom.set=function(he){var K=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},Zn.center.get=function(){return this._center},Zn.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},Zn.padding.get=function(){return this._edgeInsets.toJSON()},Zn.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},Zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Dn.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},Dn.prototype.interpolatePadding=function(K,pe,ee){this._unmodified=!1,this._edgeInsets.interpolate(K,pe,ee),this._constrain(),this._calcMatrices()},Dn.prototype.coveringZoomLevel=function(K){var pe=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,pe)},Dn.prototype.getVisibleUnwrappedCoordinates=function(K){var pe=[new i.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new i.Point(0,0)),ge=this.pointCoordinate(new i.Point(this.width,0)),ze=this.pointCoordinate(new i.Point(this.width,this.height)),Ke=this.pointCoordinate(new i.Point(0,this.height)),ft=Math.floor(Math.min(ee.x,ge.x,ze.x,Ke.x)),Ct=Math.floor(Math.max(ee.x,ge.x,ze.x,Ke.x)),Ut=1,$t=ft-Ut;$t<=Ct+Ut;$t++)$t!==0&&pe.push(new i.UnwrappedTileID($t,K));return pe},Dn.prototype.coveringTiles=function(K){var pe=this.coveringZoomLevel(K),ee=pe;if(K.minzoom!==void 0&&pe<K.minzoom)return[];K.maxzoom!==void 0&&pe>K.maxzoom&&(pe=K.maxzoom);var ge=i.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,pe),Ke=[ze*ge.x,ze*ge.y,0],ft=nn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,pe),Ct=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=pe);var Ut=3,$t=function(va){return{aabb:new mn([va*ze,0,0],[(va+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},lr=[],ir=[],kr=pe,jr=K.reparseOverscaled?ee:pe;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)lr.push($t(-Xr)),lr.push($t(Xr));for(lr.push($t(0));lr.length>0;){var Gr=lr.pop(),$r=Gr.x,hn=Gr.y,In=Gr.fullyVisible;if(!In){var On=Gr.aabb.intersects(ft);if(On===0)continue;In=On===2}var Yn=Gr.aabb.distanceX(Ke),jn=Gr.aabb.distanceY(Ke),Gn=Math.max(Math.abs(Yn),Math.abs(jn)),Kn=Ut+(1<<kr-Gr.zoom)-2;if(Gr.zoom===kr||Gn>Kn&&Gr.zoom>=Ct){ir.push({tileID:new i.OverscaledTileID(Gr.zoom===kr?jr:Gr.zoom,Gr.wrap,Gr.zoom,$r,hn),distanceSq:i.sqrLen([Ke[0]-.5-$r,Ke[1]-.5-hn])});continue}for(var ta=0;ta<4;ta++){var sa=($r<<1)+ta%2,ma=(hn<<1)+(ta>>1);lr.push({aabb:Gr.aabb.quadrant(ta),zoom:Gr.zoom+1,x:sa,y:ma,wrap:Gr.wrap,fullyVisible:In})}}return ir.sort(function(va,_a){return va.distanceSq-_a.distanceSq}).map(function(va){return va.tileID})},Dn.prototype.resize=function(K,pe){this.width=K,this.height=pe,this.pixelsToGLUnits=[2/K,-2/pe],this._constrain(),this._calcMatrices()},Zn.unmodified.get=function(){return this._unmodified},Dn.prototype.zoomScale=function(K){return Math.pow(2,K)},Dn.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},Dn.prototype.project=function(K){var pe=i.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(K.lng)*this.worldSize,i.mercatorYfromLat(pe)*this.worldSize)},Dn.prototype.unproject=function(K){return new i.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},Zn.point.get=function(){return this.project(this.center)},Dn.prototype.setLocationAtPoint=function(K,pe){var ee=this.pointCoordinate(pe),ge=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(K),Ke=new i.MercatorCoordinate(ze.x-(ee.x-ge.x),ze.y-(ee.y-ge.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},Dn.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},Dn.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},Dn.prototype.locationCoordinate=function(K){return i.MercatorCoordinate.fromLngLat(K)},Dn.prototype.coordinateLocation=function(K){return K.toLngLat()},Dn.prototype.pointCoordinate=function(K){var pe=0,ee=[K.x,K.y,0,1],ge=[K.x,K.y,1,1];i.transformMat4(ee,ee,this.pixelMatrixInverse),i.transformMat4(ge,ge,this.pixelMatrixInverse);var ze=ee[3],Ke=ge[3],ft=ee[0]/ze,Ct=ge[0]/Ke,Ut=ee[1]/ze,$t=ge[1]/Ke,lr=ee[2]/ze,ir=ge[2]/Ke,kr=lr===ir?0:(pe-lr)/(ir-lr);return new i.MercatorCoordinate(i.number(ft,Ct,kr)/this.worldSize,i.number(Ut,$t,kr)/this.worldSize)},Dn.prototype.coordinatePoint=function(K){var pe=[K.x*this.worldSize,K.y*this.worldSize,0,1];return i.transformMat4(pe,pe,this.pixelMatrix),new i.Point(pe[0]/pe[3],pe[1]/pe[3])},Dn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Dn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Dn.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Dn.prototype.calculatePosMatrix=function(K,pe){pe===void 0&&(pe=!1);var ee=K.key,ge=pe?this._alignedPosMatrixCache:this._posMatrixCache;if(ge[ee])return ge[ee];var ze=K.canonical,Ke=this.worldSize/this.zoomScale(ze.z),ft=ze.x+Math.pow(2,ze.z)*K.wrap,Ct=i.identity(new Float64Array(16));return i.translate(Ct,Ct,[ft*Ke,ze.y*Ke,0]),i.scale(Ct,Ct,[Ke/i.EXTENT,Ke/i.EXTENT,1]),i.multiply(Ct,pe?this.alignedProjMatrix:this.projMatrix,Ct),ge[ee]=new Float32Array(Ct),ge[ee]},Dn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Dn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,pe=90,ee=-180,ge=180,ze,Ke,ft,Ct,Ut=this.size,$t=this._unmodified;if(this.latRange){var lr=this.latRange;K=i.mercatorYfromLat(lr[1])*this.worldSize,pe=i.mercatorYfromLat(lr[0])*this.worldSize,ze=pe-K<Ut.y?Ut.y/(pe-K):0}if(this.lngRange){var ir=this.lngRange;ee=i.mercatorXfromLng(ir[0])*this.worldSize,ge=i.mercatorXfromLng(ir[1])*this.worldSize,Ke=ge-ee<Ut.x?Ut.x/(ge-ee):0}var kr=this.point,jr=Math.max(Ke||0,ze||0);if(jr){this.center=this.unproject(new i.Point(Ke?(ge+ee)/2:kr.x,ze?(pe+K)/2:kr.y)),this.zoom+=this.scaleZoom(jr),this._unmodified=$t,this._constraining=!1;return}if(this.latRange){var Xr=kr.y,Gr=Ut.y/2;Xr-Gr<K&&(Ct=K+Gr),Xr+Gr>pe&&(Ct=pe-Gr)}if(this.lngRange){var $r=kr.x,hn=Ut.x/2;$r-hn<ee&&(ft=ee+hn),$r+hn>ge&&(ft=ge-hn)}(ft!==void 0||Ct!==void 0)&&(this.center=this.unproject(new i.Point(ft!==void 0?ft:kr.x,Ct!==void 0?Ct:kr.y))),this._unmodified=$t,this._constraining=!1}},Dn.prototype._calcMatrices=function(){if(this.height){var K=this._fov/2,pe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var ee=Math.PI/2+this._pitch,ge=this._fov*(.5+pe.y/this.height),ze=Math.sin(ge)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-ee-ge,.01,Math.PI-.01)),Ke=this.point,ft=Ke.x,Ct=Ke.y,Ut=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,$t=Ut*1.01,lr=this.height/50,ir=new Float64Array(16);i.perspective(ir,this._fov,this.width/this.height,lr,$t),ir[8]=-pe.x*2/this.width,ir[9]=pe.y*2/this.height,i.scale(ir,ir,[1,-1,1]),i.translate(ir,ir,[0,0,-this.cameraToCenterDistance]),i.rotateX(ir,ir,this._pitch),i.rotateZ(ir,ir,this.angle),i.translate(ir,ir,[-ft,-Ct,0]),this.mercatorMatrix=i.scale([],ir,[this.worldSize,this.worldSize,this.worldSize]),i.scale(ir,ir,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ir,this.invProjMatrix=i.invert([],this.projMatrix);var kr=this.width%2/2,jr=this.height%2/2,Xr=Math.cos(this.angle),Gr=Math.sin(this.angle),$r=ft-Math.round(ft)+Xr*kr+Gr*jr,hn=Ct-Math.round(Ct)+Xr*jr+Gr*kr,In=new Float64Array(ir);if(i.translate(In,In,[$r>.5?$r-1:$r,hn>.5?hn-1:hn,0]),this.alignedProjMatrix=In,ir=i.create(),i.scale(ir,ir,[this.width/2,-this.height/2,1]),i.translate(ir,ir,[1,-1,0]),this.labelPlaneMatrix=ir,ir=i.create(),i.scale(ir,ir,[1,-1,1]),i.translate(ir,ir,[-1,-1,0]),i.scale(ir,ir,[2/this.width,2/this.height,1]),this.glCoordMatrix=ir,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),ir=i.invert(new Float64Array(16),this.pixelMatrix),!ir)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ir,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Dn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new i.Point(0,0)),pe=[K.x*this.worldSize,K.y*this.worldSize,0,1],ee=i.transformMat4(pe,pe,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},Dn.prototype.getCameraPoint=function(){var K=this._pitch,pe=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,pe))},Dn.prototype.getCameraQueryGeometry=function(K){var pe=this.getCameraPoint();if(K.length===1)return[K[0],pe];for(var ee=pe.x,ge=pe.y,ze=pe.x,Ke=pe.y,ft=0,Ct=K;ft<Ct.length;ft+=1){var Ut=Ct[ft];ee=Math.min(ee,Ut.x),ge=Math.min(ge,Ut.y),ze=Math.max(ze,Ut.x),Ke=Math.max(Ke,Ut.y)}return[new i.Point(ee,ge),new i.Point(ze,ge),new i.Point(ze,Ke),new i.Point(ee,Ke),new i.Point(ee,ge)]},Object.defineProperties(Dn.prototype,Zn);function Pa(he,K){var pe=!1,ee=null,ge=function(){ee=null,pe&&(he(),ee=setTimeout(ge,K),pe=!1)};return function(){return pe=!0,ee||ge(),ee}}var Ra=function(K){this._hashName=K&&encodeURIComponent(K),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ra.prototype.addTo=function(K){return this._map=K,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ra.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ra.prototype.getHashString=function(K){var pe=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,ge=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,ge),Ke=Math.round(pe.lng*ze)/ze,ft=Math.round(pe.lat*ze)/ze,Ct=this._map.getBearing(),Ut=this._map.getPitch(),$t="";if(K?$t+="/"+Ke+"/"+ft+"/"+ee:$t+=ee+"/"+ft+"/"+Ke,(Ct||Ut)&&($t+="/"+Math.round(Ct*10)/10),Ut&&($t+="/"+Math.round(Ut)),this._hashName){var lr=this._hashName,ir=!1,kr=i.window.location.hash.slice(1).split("&").map(function(jr){var Xr=jr.split("=")[0];return Xr===lr?(ir=!0,Xr+"="+$t):jr}).filter(function(jr){return jr});return ir||kr.push(lr+"="+$t),"#"+kr.join("&")}return"#"+$t},Ra.prototype._getCurrentHash=function(){var K=this,pe=i.window.location.hash.replace("#","");if(this._hashName){var ee;return pe.split("&").map(function(ge){return ge.split("=")}).forEach(function(ge){ge[0]===K._hashName&&(ee=ge)}),(ee&&ee[1]||"").split("/")}return pe.split("/")},Ra.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(ee){return isNaN(ee)})){var pe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:pe,pitch:+(K[4]||0)}),!0}return!1},Ra.prototype._updateHashUnthrottled=function(){var K=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,K)}catch{}};var Da={linearity:.3,easing:i.bezier(0,0,.3,1)},za=i.extend({deceleration:2500,maxSpeed:1400},Da),Za=i.extend({deceleration:20,maxSpeed:1400},Da),pi=i.extend({deceleration:1e3,maxSpeed:360},Da),zi=i.extend({deceleration:1e3,maxSpeed:90},Da),fe=function(K){this._map=K,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:K})},fe.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,pe=i.browser.now(),ee=160;K.length>0&&pe-K[0].time>ee;)K.shift()},fe.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var pe={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},ee=0,ge=this._inertiaBuffer;ee<ge.length;ee+=1){var ze=ge[ee],Ke=ze.settings;pe.zoom+=Ke.zoomDelta||0,pe.bearing+=Ke.bearingDelta||0,pe.pitch+=Ke.pitchDelta||0,Ke.panDelta&&pe.pan._add(Ke.panDelta),Ke.around&&(pe.around=Ke.around),Ke.pinchAround&&(pe.pinchAround=Ke.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ft.time-this._inertiaBuffer[0].time,Ut={};if(pe.pan.mag()){var $t=Ue(pe.pan.mag(),Ct,i.extend({},za,K||{}));Ut.offset=pe.pan.mult($t.amount/pe.pan.mag()),Ut.center=this._map.transform.center,Se(Ut,$t)}if(pe.zoom){var lr=Ue(pe.zoom,Ct,Za);Ut.zoom=this._map.transform.zoom+lr.amount,Se(Ut,lr)}if(pe.bearing){var ir=Ue(pe.bearing,Ct,pi);Ut.bearing=this._map.transform.bearing+i.clamp(ir.amount,-179,179),Se(Ut,ir)}if(pe.pitch){var kr=Ue(pe.pitch,Ct,zi);Ut.pitch=this._map.transform.pitch+kr.amount,Se(Ut,kr)}if(Ut.zoom||Ut.bearing){var jr=pe.pinchAround===void 0?pe.around:pe.pinchAround;Ut.around=jr?this._map.unproject(jr):this._map.getCenter()}return this.clear(),i.extend(Ut,{noMoveStart:!0})}};function Se(he,K){(!he.duration||he.duration<K.duration)&&(he.duration=K.duration,he.easing=K.easing)}function Ue(he,K,pe){var ee=pe.maxSpeed,ge=pe.linearity,ze=pe.deceleration,Ke=i.clamp(he*ge/(K/1e3),-ee,ee),ft=Math.abs(Ke)/(ze*ge);return{easing:pe.easing,duration:ft*1e3,amount:Ke*(ft/2)}}var tt=function(he){function K(ee,ge,ze,Ke){Ke===void 0&&(Ke={});var ft=S.mousePos(ge.getCanvasContainer(),ze),Ct=ge.unproject(ft);he.call(this,ee,i.extend({point:ft,lngLat:Ct,originalEvent:ze},Ke)),this._defaultPrevented=!1,this.target=ge}he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K;var pe={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,pe),K}(i.Event),at=function(he){function K(ee,ge,ze){var Ke=ee==="touchend"?ze.changedTouches:ze.touches,ft=S.touchPos(ge.getCanvasContainer(),Ke),Ct=ft.map(function(lr){return ge.unproject(lr)}),Ut=ft.reduce(function(lr,ir,kr,jr){return lr.add(ir.div(jr.length))},new i.Point(0,0)),$t=ge.unproject(Ut);he.call(this,ee,{points:ft,point:Ut,lngLats:Ct,lngLat:$t,originalEvent:ze}),this._defaultPrevented=!1}he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K;var pe={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,pe),K}(i.Event),ct=function(he){function K(ee,ge,ze){he.call(this,ee,{originalEvent:ze}),this._defaultPrevented=!1}he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K;var pe={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,pe),K}(i.Event),Lt=function(K,pe){this._map=K,this._clickTolerance=pe.clickTolerance};Lt.prototype.reset=function(){delete this._mousedownPos},Lt.prototype.wheel=function(K){return this._firePreventable(new ct(K.type,this._map,K))},Lt.prototype.mousedown=function(K,pe){return this._mousedownPos=pe,this._firePreventable(new tt(K.type,this._map,K))},Lt.prototype.mouseup=function(K){this._map.fire(new tt(K.type,this._map,K))},Lt.prototype.click=function(K,pe){this._mousedownPos&&this._mousedownPos.dist(pe)>=this._clickTolerance||this._map.fire(new tt(K.type,this._map,K))},Lt.prototype.dblclick=function(K){return this._firePreventable(new tt(K.type,this._map,K))},Lt.prototype.mouseover=function(K){this._map.fire(new tt(K.type,this._map,K))},Lt.prototype.mouseout=function(K){this._map.fire(new tt(K.type,this._map,K))},Lt.prototype.touchstart=function(K){return this._firePreventable(new at(K.type,this._map,K))},Lt.prototype.touchmove=function(K){this._map.fire(new at(K.type,this._map,K))},Lt.prototype.touchend=function(K){this._map.fire(new at(K.type,this._map,K))},Lt.prototype.touchcancel=function(K){this._map.fire(new at(K.type,this._map,K))},Lt.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Lt.prototype.isEnabled=function(){return!0},Lt.prototype.isActive=function(){return!1},Lt.prototype.enable=function(){},Lt.prototype.disable=function(){};var At=function(K){this._map=K};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(K){this._map.fire(new tt(K.type,this._map,K))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new tt(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Vt=function(K,pe){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=pe.clickTolerance||1};Vt.prototype.isEnabled=function(){return!!this._enabled},Vt.prototype.isActive=function(){return!!this._active},Vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Vt.prototype.mousedown=function(K,pe){this.isEnabled()&&K.shiftKey&&K.button===0&&(S.disableDrag(),this._startPos=this._lastPos=pe,this._active=!0)},Vt.prototype.mousemoveWindow=function(K,pe){if(this._active){var ee=pe;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var ge=this._startPos;this._lastPos=ee,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var ze=Math.min(ge.x,ee.x),Ke=Math.max(ge.x,ee.x),ft=Math.min(ge.y,ee.y),Ct=Math.max(ge.y,ee.y);S.setTransform(this._box,"translate("+ze+"px,"+ft+"px)"),this._box.style.width=Ke-ze+"px",this._box.style.height=Ct-ft+"px"}}},Vt.prototype.mouseupWindow=function(K,pe){var ee=this;if(this._active&&K.button===0){var ge=this._startPos,ze=pe;if(this.reset(),S.suppressClick(),ge.x===ze.x&&ge.y===ze.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(ge,ze,ee._map.getBearing(),{linear:!0})}}}},Vt.prototype.keydown=function(K){this._active&&K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Vt.prototype._fireEvent=function(K,pe){return this._map.fire(new i.Event(K,{originalEvent:pe}))};function Wt(he,K){for(var pe={},ee=0;ee<he.length;ee++)pe[he[ee].identifier]=K[ee];return pe}function tr(he){for(var K=new i.Point(0,0),pe=0,ee=he;pe<ee.length;pe+=1){var ge=ee[pe];K._add(ge)}return K.div(he.length)}var Cr=500,Lr=500,qr=30,an=function(K){this.reset(),this.numTouches=K.numTouches};an.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},an.prototype.touchstart=function(K,pe,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),ee.length===this.numTouches&&(this.centroid=tr(pe),this.touches=Wt(ee,pe)))},an.prototype.touchmove=function(K,pe,ee){if(!(this.aborted||!this.centroid)){var ge=Wt(ee,pe);for(var ze in this.touches){var Ke=this.touches[ze],ft=ge[ze];(!ft||ft.dist(Ke)>qr)&&(this.aborted=!0)}}},an.prototype.touchend=function(K,pe,ee){if((!this.centroid||K.timeStamp-this.startTime>Lr)&&(this.aborted=!0),ee.length===0){var ge=!this.aborted&&this.centroid;if(this.reset(),ge)return ge}};var Rr=function(K){this.singleTap=new an(K),this.numTaps=K.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function(K,pe,ee){this.singleTap.touchstart(K,pe,ee)},Rr.prototype.touchmove=function(K,pe,ee){this.singleTap.touchmove(K,pe,ee)},Rr.prototype.touchend=function(K,pe,ee){var ge=this.singleTap.touchend(K,pe,ee);if(ge){var ze=K.timeStamp-this.lastTime<Cr,Ke=!this.lastTap||this.lastTap.dist(ge)<qr;if((!ze||!Ke)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=ge,this.count===this.numTaps)return this.reset(),ge}};var Ur=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Ur.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ur.prototype.touchstart=function(K,pe,ee){this._zoomIn.touchstart(K,pe,ee),this._zoomOut.touchstart(K,pe,ee)},Ur.prototype.touchmove=function(K,pe,ee){this._zoomIn.touchmove(K,pe,ee),this._zoomOut.touchmove(K,pe,ee)},Ur.prototype.touchend=function(K,pe,ee){var ge=this,ze=this._zoomIn.touchend(K,pe,ee),Ke=this._zoomOut.touchend(K,pe,ee);if(ze)return this._active=!0,K.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(ze)},{originalEvent:K})}};if(Ke)return this._active=!0,K.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject(Ke)},{originalEvent:K})}}},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Kr=0,cn=2,dn={};dn[Kr]=1,dn[cn]=2;function tn(he,K){var pe=dn[K];return he.buttons===void 0||(he.buttons&pe)!==pe}var Hn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(K,pe){return!1},Hn.prototype._move=function(K,pe){return{}},Hn.prototype.mousedown=function(K,pe){if(!this._lastPoint){var ee=S.mouseButton(K);this._correctButton(K,ee)&&(this._lastPoint=pe,this._eventButton=ee)}},Hn.prototype.mousemoveWindow=function(K,pe){var ee=this._lastPoint;if(ee){if(K.preventDefault(),tn(K,this._eventButton)){this.reset();return}if(!(!this._moved&&pe.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=pe,this._move(ee,pe)}},Hn.prototype.mouseupWindow=function(K){if(this._lastPoint){var pe=S.mouseButton(K);pe===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var ea=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(ee,ge){he.prototype.mousedown.call(this,ee,ge),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(ee,ge){return ge===Kr&&!ee.ctrlKey},K.prototype._move=function(ee,ge){return{around:ge,panDelta:ge.sub(ee)}},K}(Hn),la=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(ee,ge){return ge===Kr&&ee.ctrlKey||ge===cn},K.prototype._move=function(ee,ge){var ze=.8,Ke=(ge.x-ee.x)*ze;if(Ke)return this._active=!0,{bearingDelta:Ke}},K.prototype.contextmenu=function(ee){ee.preventDefault()},K}(Hn),$n=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(ee,ge){return ge===Kr&&ee.ctrlKey||ge===cn},K.prototype._move=function(ee,ge){var ze=-.5,Ke=(ge.y-ee.y)*ze;if(Ke)return this._active=!0,{pitchDelta:Ke}},K.prototype.contextmenu=function(ee){ee.preventDefault()},K}(Hn),aa=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};aa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},aa.prototype.touchstart=function(K,pe,ee){return this._calculateTransform(K,pe,ee)},aa.prototype.touchmove=function(K,pe,ee){if(!(!this._active||ee.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,pe,ee)},aa.prototype.touchend=function(K,pe,ee){this._calculateTransform(K,pe,ee),this._active&&ee.length<this._minTouches&&this.reset()},aa.prototype.touchcancel=function(){this.reset()},aa.prototype._calculateTransform=function(K,pe,ee){ee.length>0&&(this._active=!0);var ge=Wt(ee,pe),ze=new i.Point(0,0),Ke=new i.Point(0,0),ft=0;for(var Ct in ge){var Ut=ge[Ct],$t=this._touches[Ct];$t&&(ze._add(Ut),Ke._add(Ut.sub($t)),ft++,ge[Ct]=Ut)}if(this._touches=ge,!(ft<this._minTouches||!Ke.mag())){var lr=Ke.div(ft);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var ir=ze.div(ft);return{around:ir,panDelta:lr}}}},aa.prototype.enable=function(){this._enabled=!0},aa.prototype.disable=function(){this._enabled=!1,this.reset()},aa.prototype.isEnabled=function(){return this._enabled},aa.prototype.isActive=function(){return this._active};var ua=function(){this.reset()};ua.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ua.prototype._start=function(K){},ua.prototype._move=function(K,pe,ee){return{}},ua.prototype.touchstart=function(K,pe,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([pe[0],pe[1]]))},ua.prototype.touchmove=function(K,pe,ee){if(this._firstTwoTouches){K.preventDefault();var ge=this._firstTwoTouches,ze=ge[0],Ke=ge[1],ft=Ba(ee,pe,ze),Ct=Ba(ee,pe,Ke);if(!(!ft||!Ct)){var Ut=this._aroundCenter?null:ft.add(Ct).div(2);return this._move([ft,Ct],Ut,K)}}},ua.prototype.touchend=function(K,pe,ee){if(this._firstTwoTouches){var ge=this._firstTwoTouches,ze=ge[0],Ke=ge[1],ft=Ba(ee,pe,ze),Ct=Ba(ee,pe,Ke);ft&&Ct||(this._active&&S.suppressClick(),this.reset())}},ua.prototype.touchcancel=function(){this.reset()},ua.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},ua.prototype.disable=function(){this._enabled=!1,this.reset()},ua.prototype.isEnabled=function(){return this._enabled},ua.prototype.isActive=function(){return this._active};function Ba(he,K,pe){for(var ee=0;ee<he.length;ee++)if(he[ee].identifier===pe)return K[ee]}var Ma=.1;function Fa(he,K){return Math.log(he/K)/Math.LN2}var oi=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},K.prototype._move=function(ee,ge){var ze=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<Ma))return this._active=!0,{zoomDelta:Fa(this._distance,ze),pinchAround:ge}},K}(ua),Bi=25;function hi(he,K){return he.angleWith(K)*180/Math.PI}var Qn=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},K.prototype._move=function(ee,ge){var ze=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:hi(this._vector,ze),pinchAround:ge}},K.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var ge=Math.PI*this._minDiameter,ze=Bi/ge*360,Ke=hi(ee,this._startVector);return Math.abs(Ke)<ze},K}(ua);function Va(he){return Math.abs(he.y)>Math.abs(he.x)}var Aa=100,Ka=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(ee){this._lastPoints=ee,Va(ee[0].sub(ee[1]))&&(this._valid=!1)},K.prototype._move=function(ee,ge,ze){var Ke=ee[0].sub(this._lastPoints[0]),ft=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,ft,ze.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var Ct=(Ke.y+ft.y)/2,Ut=-.5;return{pitchDelta:Ct*Ut}}},K.prototype.gestureBeginsVertically=function(ee,ge,ze){if(this._valid!==void 0)return this._valid;var Ke=2,ft=ee.mag()>=Ke,Ct=ge.mag()>=Ke;if(!(!ft&&!Ct)){if(!ft||!Ct)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Aa?void 0:!1;var Ut=ee.y>0==ge.y>0;return Va(ee)&&Va(ge)&&Ut}},K}(ua),Ti={panStep:100,bearingStep:15,pitchStep:10},si=function(){var K=Ti;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};si.prototype.reset=function(){this._active=!1},si.prototype.keydown=function(K){var pe=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var ee=0,ge=0,ze=0,Ke=0,ft=0;switch(K.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:K.shiftKey?ge=-1:(K.preventDefault(),Ke=-1);break;case 39:K.shiftKey?ge=1:(K.preventDefault(),Ke=1);break;case 38:K.shiftKey?ze=1:(K.preventDefault(),ft=-1);break;case 40:K.shiftKey?ze=-1:(K.preventDefault(),ft=1);break;default:return}return this._rotationDisabled&&(ge=0,ze=0),{cameraAnimation:function(Ct){var Ut=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:eo,zoom:ee?Math.round(Ut)+ee*(K.shiftKey?2:1):Ut,bearing:Ct.getBearing()+ge*pe._bearingStep,pitch:Ct.getPitch()+ze*pe._pitchStep,offset:[-Ke*pe._panStep,-ft*pe._panStep],center:Ct.getCenter()},{originalEvent:K})}}}},si.prototype.enable=function(){this._enabled=!0},si.prototype.disable=function(){this._enabled=!1,this.reset()},si.prototype.isEnabled=function(){return this._enabled},si.prototype.isActive=function(){return this._active},si.prototype.disableRotation=function(){this._rotationDisabled=!0},si.prototype.enableRotation=function(){this._rotationDisabled=!1};function eo(he){return he*(2-he)}var to=4.000244140625,oo=1/100,Ai=1/450,mo=2,oa=function(K,pe){this._map=K,this._el=K.getCanvasContainer(),this._handler=pe,this._delta=0,this._defaultZoomRate=oo,this._wheelZoomRate=Ai,i.bindAll(["_onTimeout"],this)};oa.prototype.setZoomRate=function(K){this._defaultZoomRate=K},oa.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},oa.prototype.isEnabled=function(){return!!this._enabled},oa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},oa.prototype.isZooming=function(){return!!this._zooming},oa.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},oa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},oa.prototype.wheel=function(K){if(this.isEnabled()){var pe=K.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,ee=i.browser.now(),ge=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,pe!==0&&pe%to===0?this._type="wheel":pe!==0&&Math.abs(pe)<4?this._type="trackpad":ge>400?(this._type=null,this._lastValue=pe,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(ge*pe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,pe+=this._lastValue)),K.shiftKey&&pe&&(pe=pe/4),this._type&&(this._lastWheelEvent=K,this._delta-=pe,this._active||this._start(K)),K.preventDefault()}},oa.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},oa.prototype._start=function(K){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var pe=S.mousePos(this._el,K);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(pe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},oa.prototype.renderFrame=function(){var K=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var pe=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>to?this._wheelZoomRate:this._defaultZoomRate,ge=mo/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&ge!==0&&(ge=1/ge);var ze=typeof this._targetZoom=="number"?pe.zoomScale(this._targetZoom):pe.scale;this._targetZoom=Math.min(pe.maxZoom,Math.max(pe.minZoom,pe.scaleZoom(ze*ge))),this._type==="wheel"&&(this._startZoom=pe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:pe.zoom,ft=this._startZoom,Ct=this._easing,Ut=!1,$t;if(this._type==="wheel"&&ft&&Ct){var lr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),ir=Ct(lr);$t=i.number(ft,Ke,ir),lr<1?this._frameId||(this._frameId=!0):Ut=!0}else $t=Ke,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:$t-pe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},oa.prototype._smoothOutEasing=function(K){var pe=i.ease;if(this._prevEase){var ee=this._prevEase,ge=(i.browser.now()-ee.start)/ee.duration,ze=ee.easing(ge+.01)-ee.easing(ge),Ke=.27/Math.sqrt(ze*ze+1e-4)*.01,ft=Math.sqrt(.27*.27-Ke*Ke);pe=i.bezier(Ke,ft,.25,1)}return this._prevEase={start:i.browser.now(),duration:K,easing:pe},pe},oa.prototype.reset=function(){this._active=!1};var Ca=function(K,pe){this._clickZoom=K,this._tapZoom=pe};Ca.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ca.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ca.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ca.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Fo=function(){this.reset()};Fo.prototype.reset=function(){this._active=!1},Fo.prototype.dblclick=function(K,pe){return K.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(K.shiftKey?-1:1),around:ee.unproject(pe)},{originalEvent:K})}}},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var Vo=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};Vo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Vo.prototype.touchstart=function(K,pe,ee){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=pe[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(K,pe,ee))},Vo.prototype.touchmove=function(K,pe,ee){if(!this._tapTime)this._tap.touchmove(K,pe,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var ge=pe[0],ze=ge.y-this._swipePoint.y;return this._swipePoint=ge,K.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},Vo.prototype.touchend=function(K,pe,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var ge=this._tap.touchend(K,pe,ee);ge&&(this._tapTime=K.timeStamp)}},Vo.prototype.touchcancel=function(){this.reset()},Vo.prototype.enable=function(){this._enabled=!0},Vo.prototype.disable=function(){this._enabled=!1,this.reset()},Vo.prototype.isEnabled=function(){return this._enabled},Vo.prototype.isActive=function(){return this._active};var so=function(K,pe,ee){this._el=K,this._mousePan=pe,this._touchPan=ee};so.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},so.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},so.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},so.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var vi=function(K,pe,ee){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=pe,this._mousePitch=ee};vi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},vi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},vi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},vi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Yi=function(K,pe,ee,ge){this._el=K,this._touchZoom=pe,this._touchRotate=ee,this._tapDragZoom=ge,this._rotationDisabled=!1,this._enabled=!0};Yi.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Yi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Yi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Yi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Yi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Yi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ni=function(he){return he.zoom||he.drag||he.pitch||he.rotate},bs=function(he){function K(){he.apply(this,arguments)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K}(i.Event);function Os(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var Pi=function(K,pe){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(K),this._bearingSnap=pe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(pe),i.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ge=0,ze=this._listeners;ge<ze.length;ge+=1){var Ke=ze[ge],ft=Ke[0],Ct=Ke[1],Ut=Ke[2];S.addEventListener(ft,Ct,ft===i.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Pi.prototype.destroy=function(){for(var K=0,pe=this._listeners;K<pe.length;K+=1){var ee=pe[K],ge=ee[0],ze=ee[1],Ke=ee[2];S.removeEventListener(ge,ze,ge===i.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},Pi.prototype._addDefaultHandlers=function(K){var pe=this._map,ee=pe.getCanvasContainer();this._add("mapEvent",new Lt(pe,K));var ge=pe.boxZoom=new Vt(pe,K);this._add("boxZoom",ge);var ze=new Ur,Ke=new Fo;pe.doubleClickZoom=new Ca(Ke,ze),this._add("tapZoom",ze),this._add("clickZoom",Ke);var ft=new Vo;this._add("tapDragZoom",ft);var Ct=pe.touchPitch=new Ka;this._add("touchPitch",Ct);var Ut=new la(K),$t=new $n(K);pe.dragRotate=new vi(K,Ut,$t),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",$t,["mouseRotate"]);var lr=new ea(K),ir=new aa(K);pe.dragPan=new so(ee,lr,ir),this._add("mousePan",lr),this._add("touchPan",ir,["touchZoom","touchRotate"]);var kr=new Qn,jr=new oi;pe.touchZoomRotate=new Yi(ee,jr,kr,ft),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",jr,["touchPan","touchRotate"]);var Xr=pe.scrollZoom=new oa(pe,this);this._add("scrollZoom",Xr,["mousePan"]);var Gr=pe.keyboard=new si;this._add("keyboard",Gr),this._add("blockableMapEvent",new At(pe));for(var $r=0,hn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];$r<hn.length;$r+=1){var In=hn[$r];K.interactive&&K[In]&&pe[In].enable(K[In])}},Pi.prototype._add=function(K,pe,ee){this._handlers.push({handlerName:K,handler:pe,allowed:ee}),this._handlersById[K]=pe},Pi.prototype.stop=function(K){if(!this._updatingCamera){for(var pe=0,ee=this._handlers;pe<ee.length;pe+=1){var ge=ee[pe],ze=ge.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},Pi.prototype.isActive=function(){for(var K=0,pe=this._handlers;K<pe.length;K+=1){var ee=pe[K],ge=ee.handler;if(ge.isActive())return!0}return!1},Pi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Pi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Pi.prototype.isMoving=function(){return!!Ni(this._eventsInProgress)||this.isZooming()},Pi.prototype._blockedByActive=function(K,pe,ee){for(var ge in K)if(ge!==ee&&(!pe||pe.indexOf(ge)<0))return!0;return!1},Pi.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},Pi.prototype._getMapTouches=function(K){for(var pe=[],ee=0,ge=K;ee<ge.length;ee+=1){var ze=ge[ee],Ke=ze.target;this._el.contains(Ke)&&pe.push(ze)}return pe},Pi.prototype.handleEvent=function(K,pe){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=K.type==="renderFrame"?void 0:K,ge={needsRenderFrame:!1},ze={},Ke={},ft=K.touches?this._getMapTouches(K.touches):void 0,Ct=ft?S.touchPos(this._el,ft):S.mousePos(this._el,K),Ut=0,$t=this._handlers;Ut<$t.length;Ut+=1){var lr=$t[Ut],ir=lr.handlerName,kr=lr.handler,jr=lr.allowed;if(kr.isEnabled()){var Xr=void 0;this._blockedByActive(Ke,jr,ir)?kr.reset():kr[pe||K.type]&&(Xr=kr[pe||K.type](K,Ct,ft),this.mergeHandlerResult(ge,ze,Xr,ir,ee),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||kr.isActive())&&(Ke[ir]=kr)}}var Gr={};for(var $r in this._previousActiveHandlers)Ke[$r]||(Gr[$r]=ee);this._previousActiveHandlers=Ke,(Object.keys(Gr).length||Os(ge))&&(this._changes.push([ge,ze,Gr]),this._triggerRenderFrame()),(Object.keys(Ke).length||Os(ge))&&this._map._stop(!0),this._updatingCamera=!1;var hn=ge.cameraAnimation;hn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],hn(this._map))},Pi.prototype.mergeHandlerResult=function(K,pe,ee,ge,ze){if(ee){i.extend(K,ee);var Ke={handlerName:ge,originalEvent:ee.originalEvent||ze};ee.zoomDelta!==void 0&&(pe.zoom=Ke),ee.panDelta!==void 0&&(pe.drag=Ke),ee.pitchDelta!==void 0&&(pe.pitch=Ke),ee.bearingDelta!==void 0&&(pe.rotate=Ke)}},Pi.prototype._applyChanges=function(){for(var K={},pe={},ee={},ge=0,ze=this._changes;ge<ze.length;ge+=1){var Ke=ze[ge],ft=Ke[0],Ct=Ke[1],Ut=Ke[2];ft.panDelta&&(K.panDelta=(K.panDelta||new i.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&(K.around=ft.around),ft.pinchAround!==void 0&&(K.pinchAround=ft.pinchAround),ft.noInertia&&(K.noInertia=ft.noInertia),i.extend(pe,Ct),i.extend(ee,Ut)}this._updateMapTransform(K,pe,ee),this._changes=[]},Pi.prototype._updateMapTransform=function(K,pe,ee){var ge=this._map,ze=ge.transform;if(!Os(K))return this._fireEvents(pe,ee,!0);var Ke=K.panDelta,ft=K.zoomDelta,Ct=K.bearingDelta,Ut=K.pitchDelta,$t=K.around,lr=K.pinchAround;lr!==void 0&&($t=lr),ge._stop(!0),$t=$t||ge.transform.centerPoint;var ir=ze.pointLocation(Ke?$t.sub(Ke):$t);Ct&&(ze.bearing+=Ct),Ut&&(ze.pitch+=Ut),ft&&(ze.zoom+=ft),ze.setLocationAtPoint(ir,$t),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(pe,ee,!0)},Pi.prototype._fireEvents=function(K,pe,ee){var ge=this,ze=Ni(this._eventsInProgress),Ke=Ni(K),ft={};for(var Ct in K){var Ut=K[Ct],$t=Ut.originalEvent;this._eventsInProgress[Ct]||(ft[Ct+"start"]=$t),this._eventsInProgress[Ct]=K[Ct]}!ze&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var lr in ft)this._fireEvent(lr,ft[lr]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var ir in K){var kr=K[ir],jr=kr.originalEvent;this._fireEvent(ir,jr)}var Xr={},Gr;for(var $r in this._eventsInProgress){var hn=this._eventsInProgress[$r],In=hn.handlerName,On=hn.originalEvent;this._handlersById[In].isActive()||(delete this._eventsInProgress[$r],Gr=pe[In]||On,Xr[$r+"end"]=Gr)}for(var Yn in Xr)this._fireEvent(Yn,Xr[Yn]);var jn=Ni(this._eventsInProgress);if(ee&&(ze||Ke)&&!jn){this._updatingCamera=!0;var Gn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(ta){return ta!==0&&-ge._bearingSnap<ta&&ta<ge._bearingSnap};Gn?(Kn(Gn.bearing||this._map.getBearing())&&(Gn.bearing=0),this._map.easeTo(Gn,{originalEvent:Gr})):(this._map.fire(new i.Event("moveend",{originalEvent:Gr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Pi.prototype._fireEvent=function(K,pe){this._map.fire(new i.Event(K,pe?{originalEvent:pe}:{}))},Pi.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(pe){delete K._frameId,K.handleEvent(new bs("renderFrame",{timeStamp:pe})),K._applyChanges()})},Pi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var $l=function(he){function K(pe,ee){he.call(this),this._moving=!1,this._zooming=!1,this.transform=pe,this._bearingSnap=ee.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(ee,ge){return this.jumpTo({center:ee},ge)},K.prototype.panBy=function(ee,ge,ze){return ee=i.Point.convert(ee).mult(-1),this.panTo(this.transform.center,i.extend({offset:ee},ge),ze)},K.prototype.panTo=function(ee,ge,ze){return this.easeTo(i.extend({center:ee},ge),ze)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(ee,ge){return this.jumpTo({zoom:ee},ge),this},K.prototype.zoomTo=function(ee,ge,ze){return this.easeTo(i.extend({zoom:ee},ge),ze)},K.prototype.zoomIn=function(ee,ge){return this.zoomTo(this.getZoom()+1,ee,ge),this},K.prototype.zoomOut=function(ee,ge){return this.zoomTo(this.getZoom()-1,ee,ge),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(ee,ge){return this.jumpTo({bearing:ee},ge),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(ee,ge){return this.jumpTo({padding:ee},ge),this},K.prototype.rotateTo=function(ee,ge,ze){return this.easeTo(i.extend({bearing:ee},ge),ze)},K.prototype.resetNorth=function(ee,ge){return this.rotateTo(0,i.extend({duration:1e3},ee),ge),this},K.prototype.resetNorthPitch=function(ee,ge){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},ee),ge),this},K.prototype.snapToNorth=function(ee,ge){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,ge):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(ee,ge){return this.jumpTo({pitch:ee},ge),this},K.prototype.cameraForBounds=function(ee,ge){ee=i.LngLatBounds.convert(ee);var ze=ge&&ge.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),ze,ge)},K.prototype._cameraForBoxAndBearing=function(ee,ge,ze,Ke){var ft={top:0,bottom:0,right:0,left:0};if(Ke=i.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var Ct=Ke.padding;Ke.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Ke.padding=i.extend(ft,Ke.padding);var Ut=this.transform,$t=Ut.padding,lr=Ut.project(i.LngLat.convert(ee)),ir=Ut.project(i.LngLat.convert(ge)),kr=lr.rotate(-ze*Math.PI/180),jr=ir.rotate(-ze*Math.PI/180),Xr=new i.Point(Math.max(kr.x,jr.x),Math.max(kr.y,jr.y)),Gr=new i.Point(Math.min(kr.x,jr.x),Math.min(kr.y,jr.y)),$r=Xr.sub(Gr),hn=(Ut.width-($t.left+$t.right+Ke.padding.left+Ke.padding.right))/$r.x,In=(Ut.height-($t.top+$t.bottom+Ke.padding.top+Ke.padding.bottom))/$r.y;if(In<0||hn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var On=Math.min(Ut.scaleZoom(Ut.scale*Math.min(hn,In)),Ke.maxZoom),Yn=typeof Ke.offset.x=="number"?new i.Point(Ke.offset.x,Ke.offset.y):i.Point.convert(Ke.offset),jn=(Ke.padding.left-Ke.padding.right)/2,Gn=(Ke.padding.top-Ke.padding.bottom)/2,Kn=new i.Point(jn,Gn),ta=Kn.rotate(ze*Math.PI/180),sa=Yn.add(ta),ma=sa.mult(Ut.scale/Ut.zoomScale(On)),va=Ut.unproject(lr.add(ir).div(2).sub(ma));return{center:va,zoom:On,bearing:ze}},K.prototype.fitBounds=function(ee,ge,ze){return this._fitInternal(this.cameraForBounds(ee,ge),ge,ze)},K.prototype.fitScreenCoordinates=function(ee,ge,ze,Ke,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(ee)),this.transform.pointLocation(i.Point.convert(ge)),ze,Ke),Ke,ft)},K.prototype._fitInternal=function(ee,ge,ze){return ee?(ge=i.extend(ee,ge),delete ge.padding,ge.linear?this.easeTo(ge,ze):this.flyTo(ge,ze)):this},K.prototype.jumpTo=function(ee,ge){this.stop();var ze=this.transform,Ke=!1,ft=!1,Ct=!1;return"zoom"in ee&&ze.zoom!==+ee.zoom&&(Ke=!0,ze.zoom=+ee.zoom),ee.center!==void 0&&(ze.center=i.LngLat.convert(ee.center)),"bearing"in ee&&ze.bearing!==+ee.bearing&&(ft=!0,ze.bearing=+ee.bearing),"pitch"in ee&&ze.pitch!==+ee.pitch&&(Ct=!0,ze.pitch=+ee.pitch),ee.padding!=null&&!ze.isPaddingEqual(ee.padding)&&(ze.padding=ee.padding),this.fire(new i.Event("movestart",ge)).fire(new i.Event("move",ge)),Ke&&this.fire(new i.Event("zoomstart",ge)).fire(new i.Event("zoom",ge)).fire(new i.Event("zoomend",ge)),ft&&this.fire(new i.Event("rotatestart",ge)).fire(new i.Event("rotate",ge)).fire(new i.Event("rotateend",ge)),Ct&&this.fire(new i.Event("pitchstart",ge)).fire(new i.Event("pitch",ge)).fire(new i.Event("pitchend",ge)),this.fire(new i.Event("moveend",ge))},K.prototype.easeTo=function(ee,ge){var ze=this;this._stop(!1,ee.easeId),ee=i.extend({offset:[0,0],duration:500,easing:i.ease},ee),(ee.animate===!1||!ee.essential&&i.browser.prefersReducedMotion)&&(ee.duration=0);var Ke=this.transform,ft=this.getZoom(),Ct=this.getBearing(),Ut=this.getPitch(),$t=this.getPadding(),lr="zoom"in ee?+ee.zoom:ft,ir="bearing"in ee?this._normalizeBearing(ee.bearing,Ct):Ct,kr="pitch"in ee?+ee.pitch:Ut,jr="padding"in ee?ee.padding:Ke.padding,Xr=i.Point.convert(ee.offset),Gr=Ke.centerPoint.add(Xr),$r=Ke.pointLocation(Gr),hn=i.LngLat.convert(ee.center||$r);this._normalizeCenter(hn);var In=Ke.project($r),On=Ke.project(hn).sub(In),Yn=Ke.zoomScale(lr-ft),jn,Gn;ee.around&&(jn=i.LngLat.convert(ee.around),Gn=Ke.locationPoint(jn));var Kn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ft,this._rotating=this._rotating||Ct!==ir,this._pitching=this._pitching||kr!==Ut,this._padding=!Ke.isPaddingEqual(jr),this._easeId=ee.easeId,this._prepareEase(ge,ee.noMoveStart,Kn),this._ease(function(ta){if(ze._zooming&&(Ke.zoom=i.number(ft,lr,ta)),ze._rotating&&(Ke.bearing=i.number(Ct,ir,ta)),ze._pitching&&(Ke.pitch=i.number(Ut,kr,ta)),ze._padding&&(Ke.interpolatePadding($t,jr,ta),Gr=Ke.centerPoint.add(Xr)),jn)Ke.setLocationAtPoint(jn,Gn);else{var sa=Ke.zoomScale(Ke.zoom-ft),ma=lr>ft?Math.min(2,Yn):Math.max(.5,Yn),va=Math.pow(ma,1-ta),_a=Ke.unproject(In.add(On.mult(ta*va)).mult(sa));Ke.setLocationAtPoint(Ke.renderWorldCopies?_a.wrap():_a,Gr)}ze._fireMoveEvents(ge)},function(ta){ze._afterEase(ge,ta)},ee),this},K.prototype._prepareEase=function(ee,ge,ze){ze===void 0&&(ze={}),this._moving=!0,!ge&&!ze.moving&&this.fire(new i.Event("movestart",ee)),this._zooming&&!ze.zooming&&this.fire(new i.Event("zoomstart",ee)),this._rotating&&!ze.rotating&&this.fire(new i.Event("rotatestart",ee)),this._pitching&&!ze.pitching&&this.fire(new i.Event("pitchstart",ee))},K.prototype._fireMoveEvents=function(ee){this.fire(new i.Event("move",ee)),this._zooming&&this.fire(new i.Event("zoom",ee)),this._rotating&&this.fire(new i.Event("rotate",ee)),this._pitching&&this.fire(new i.Event("pitch",ee))},K.prototype._afterEase=function(ee,ge){if(!(this._easeId&&ge&&this._easeId===ge)){delete this._easeId;var ze=this._zooming,Ke=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new i.Event("zoomend",ee)),Ke&&this.fire(new i.Event("rotateend",ee)),ft&&this.fire(new i.Event("pitchend",ee)),this.fire(new i.Event("moveend",ee))}},K.prototype.flyTo=function(ee,ge){var ze=this;if(!ee.essential&&i.browser.prefersReducedMotion){var Ke=i.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,ge)}this.stop(),ee=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},ee);var ft=this.transform,Ct=this.getZoom(),Ut=this.getBearing(),$t=this.getPitch(),lr=this.getPadding(),ir="zoom"in ee?i.clamp(+ee.zoom,ft.minZoom,ft.maxZoom):Ct,kr="bearing"in ee?this._normalizeBearing(ee.bearing,Ut):Ut,jr="pitch"in ee?+ee.pitch:$t,Xr="padding"in ee?ee.padding:ft.padding,Gr=ft.zoomScale(ir-Ct),$r=i.Point.convert(ee.offset),hn=ft.centerPoint.add($r),In=ft.pointLocation(hn),On=i.LngLat.convert(ee.center||In);this._normalizeCenter(On);var Yn=ft.project(In),jn=ft.project(On).sub(Yn),Gn=ee.curve,Kn=Math.max(ft.width,ft.height),ta=Kn/Gr,sa=jn.mag();if("minZoom"in ee){var ma=i.clamp(Math.min(ee.minZoom,Ct,ir),ft.minZoom,ft.maxZoom),va=Kn/ft.zoomScale(ma-Ct);Gn=Math.sqrt(va/sa*2)}var _a=Gn*Gn;function $a(Ga){var qa=(ta*ta-Kn*Kn+(Ga?-1:1)*_a*_a*sa*sa)/(2*(Ga?ta:Kn)*_a*sa);return Math.log(Math.sqrt(qa*qa+1)-qa)}function Xa(Ga){return(Math.exp(Ga)-Math.exp(-Ga))/2}function Sa(Ga){return(Math.exp(Ga)+Math.exp(-Ga))/2}function ja(Ga){return Xa(Ga)/Sa(Ga)}var Ha=$a(0),li=function(Ga){return Sa(Ha)/Sa(Ha+Gn*Ga)},ri=function(Ga){return Kn*((Sa(Ha)*ja(Ha+Gn*Ga)-Xa(Ha))/_a)/sa},Mi=($a(1)-Ha)/Gn;if(Math.abs(sa)<1e-6||!isFinite(Mi)){if(Math.abs(Kn-ta)<1e-6)return this.easeTo(ee,ge);var Qa=ta<Kn?-1:1;Mi=Math.abs(Math.log(ta/Kn))/Gn,ri=function(){return 0},li=function(Ga){return Math.exp(Qa*Gn*Ga)}}if("duration"in ee)ee.duration=+ee.duration;else{var xi="screenSpeed"in ee?+ee.screenSpeed/Gn:+ee.speed;ee.duration=1e3*Mi/xi}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Ut!==kr,this._pitching=jr!==$t,this._padding=!ft.isPaddingEqual(Xr),this._prepareEase(ge,!1),this._ease(function(Ga){var qa=Ga*Mi,Ui=1/li(qa);ft.zoom=Ga===1?ir:Ct+ft.scaleZoom(Ui),ze._rotating&&(ft.bearing=i.number(Ut,kr,Ga)),ze._pitching&&(ft.pitch=i.number($t,jr,Ga)),ze._padding&&(ft.interpolatePadding(lr,Xr,Ga),hn=ft.centerPoint.add($r));var xo=Ga===1?On:ft.unproject(Yn.add(jn.mult(ri(qa))).mult(Ui));ft.setLocationAtPoint(ft.renderWorldCopies?xo.wrap():xo,hn),ze._fireMoveEvents(ge)},function(){return ze._afterEase(ge)},ee),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(ee,ge){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,ge)}if(!ee){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},K.prototype._ease=function(ee,ge,ze){ze.animate===!1||ze.duration===0?(ee(1),ge()):(this._easeStart=i.browser.now(),this._easeOptions=ze,this._onEaseFrame=ee,this._onEaseEnd=ge,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var ee=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(ee,ge){ee=i.wrap(ee,-180,180);var ze=Math.abs(ee-ge);return Math.abs(ee-360-ge)<ze&&(ee-=360),Math.abs(ee+360-ge)<ze&&(ee+=360),ee},K.prototype._normalizeCenter=function(ee){var ge=this.transform;if(!(!ge.renderWorldCopies||ge.lngRange)){var ze=ee.lng-ge.center.lng;ee.lng+=ze>180?-360:ze<-180?360:0}},K}(i.Evented),Ja=function(K){K===void 0&&(K={}),this.options=K,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ja.prototype.getDefaultPosition=function(){return"bottom-right"},Ja.prototype.onAdd=function(K){var pe=this.options&&this.options.compact;return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),pe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),pe===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ja.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ja.prototype._setElementTitle=function(K,pe){var ee=this._map._getUIString("AttributionControl."+pe);K.title=ee,K.setAttribute("aria-label",ee)},Ja.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ja.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var pe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(K){var ee=pe.reduce(function(ge,ze,Ke){return ze.value&&(ge+=ze.key+"="+ze.value+(Ke<pe.length-1?"&":"")),ge},"?");K.href=i.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},Ja.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ja.prototype._updateAttributions=function(){if(this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var pe=this._map.style.stylesheet;this.styleOwner=pe.owner,this.styleId=pe.id}var ee=this._map.style.sourceCaches;for(var ge in ee){var ze=ee[ge];if(ze.used){var Ke=ze.getSource();Ke.attribution&&K.indexOf(Ke.attribution)<0&&K.push(Ke.attribution)}}K.sort(function(Ct,Ut){return Ct.length-Ut.length}),K=K.filter(function(Ct,Ut){for(var $t=Ut+1;$t<K.length;$t++)if(K[$t].indexOf(Ct)>=0)return!1;return!0});var ft=K.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,K.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ja.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ri=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Ri.prototype.onAdd=function(K){this._map=K,this._container=S.create("div","mapboxgl-ctrl");var pe=S.create("a","mapboxgl-ctrl-logo");return pe.target="_blank",pe.rel="noopener nofollow",pe.href="https://www.mapbox.com/",pe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),pe.setAttribute("rel","noopener nofollow"),this._container.appendChild(pe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ri.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ri.prototype.getDefaultPosition=function(){return"bottom-left"},Ri.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ri.prototype._logoRequired=function(){if(this._map.style){var K=this._map.style.sourceCaches;for(var pe in K){var ee=K[pe].getSource();if(ee.mapbox_logo)return!0}return!1}},Ri.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var pe=K[0];this._map.getCanvasContainer().offsetWidth<250?pe.classList.add("mapboxgl-compact"):pe.classList.remove("mapboxgl-compact")}};var Lh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Lh.prototype.add=function(K){var pe=++this._id,ee=this._queue;return ee.push({callback:K,id:pe,cancelled:!1}),pe},Lh.prototype.remove=function(K){for(var pe=this._currentlyRunning,ee=pe?this._queue.concat(pe):this._queue,ge=0,ze=ee;ge<ze.length;ge+=1){var Ke=ze[ge];if(Ke.id===K){Ke.cancelled=!0;return}}},Lh.prototype.run=function(K){K===void 0&&(K=0);var pe=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,ge=pe;ee<ge.length;ee+=1){var ze=ge[ee];if(!ze.cancelled&&(ze.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Lh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var S0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Nf=i.window.HTMLImageElement,od=i.window.HTMLElement,cf=i.window.ImageBitmap,Ec=-2,Cc=22,os=0,hf=60,sd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Ec,maxZoom:Cc,minPitch:os,maxPitch:hf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ld=function(he){function K(ee){var ge=this;if(ee=i.extend({},sd,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<os)throw new Error("minPitch must be greater than or equal to "+os);if(ee.maxPitch!=null&&ee.maxPitch>hf)throw new Error("maxPitch must be less than or equal to "+hf);var ze=new Dn(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(he.call(this,ze,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new Lh,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},S0,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new i.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=i.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof od)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ge._update(!1)}),this.on("moveend",function(){return ge._update(!1)}),this.on("zoom",function(){return ge._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Pi(this,ee);var Ke=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new Ra(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,i.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new Ja({customAttribution:ee.customAttribution})),this.addControl(new Ri,ee.logoPosition),this.on("style.load",function(){ge.transform.unmodified&&ge.jumpTo(ge.style.stylesheet)}),this.on("data",function(ft){ge._update(ft.dataType==="style"),ge.fire(new i.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){ge.fire(new i.Event(ft.dataType+"dataloading",ft))})}he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K;var pe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(ge,ze){if(ze===void 0&&(ge.getDefaultPosition?ze=ge.getDefaultPosition():ze="top-right"),!ge||!ge.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=ge.onAdd(this);this._controls.push(ge);var ft=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?ft.insertBefore(Ke,ft.firstChild):ft.appendChild(Ke),this},K.prototype.removeControl=function(ge){if(!ge||!ge.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(ge);return ze>-1&&this._controls.splice(ze,1),ge.onRemove(this),this},K.prototype.hasControl=function(ge){return this._controls.indexOf(ge)>-1},K.prototype.resize=function(ge){var ze=this._containerDimensions(),Ke=ze[0],ft=ze[1];this._resizeCanvas(Ke,ft),this.transform.resize(Ke,ft),this.painter.resize(Ke,ft);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new i.Event("movestart",ge)).fire(new i.Event("move",ge))),this.fire(new i.Event("resize",ge)),Ct&&this.fire(new i.Event("moveend",ge)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(ge){return this.transform.setMaxBounds(i.LngLatBounds.convert(ge)),this._update()},K.prototype.setMinZoom=function(ge){if(ge=ge??Ec,ge>=Ec&&ge<=this.transform.maxZoom)return this.transform.minZoom=ge,this._update(),this.getZoom()<ge&&this.setZoom(ge),this;throw new Error("minZoom must be between "+Ec+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(ge){if(ge=ge??Cc,ge>=this.transform.minZoom)return this.transform.maxZoom=ge,this._update(),this.getZoom()>ge&&this.setZoom(ge),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(ge){if(ge=ge??os,ge<os)throw new Error("minPitch must be greater than or equal to "+os);if(ge>=os&&ge<=this.transform.maxPitch)return this.transform.minPitch=ge,this._update(),this.getPitch()<ge&&this.setPitch(ge),this;throw new Error("minPitch must be between "+os+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(ge){if(ge=ge??hf,ge>hf)throw new Error("maxPitch must be less than or equal to "+hf);if(ge>=this.transform.minPitch)return this.transform.maxPitch=ge,this._update(),this.getPitch()>ge&&this.setPitch(ge),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(ge){return this.transform.renderWorldCopies=ge,this._update()},K.prototype.project=function(ge){return this.transform.locationPoint(i.LngLat.convert(ge))},K.prototype.unproject=function(ge){return this.transform.pointLocation(i.Point.convert(ge))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(ge,ze,Ke){var ft=this,Ct;if(ge==="mouseenter"||ge==="mouseover"){var Ut=!1,$t=function(Gr){var $r=ft.getLayer(ze)?ft.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];$r.length?Ut||(Ut=!0,Ke.call(ft,new tt(ge,ft,Gr.originalEvent,{features:$r}))):Ut=!1},lr=function(){Ut=!1};return{layer:ze,listener:Ke,delegates:{mousemove:$t,mouseout:lr}}}else if(ge==="mouseleave"||ge==="mouseout"){var ir=!1,kr=function(Gr){var $r=ft.getLayer(ze)?ft.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];$r.length?ir=!0:ir&&(ir=!1,Ke.call(ft,new tt(ge,ft,Gr.originalEvent)))},jr=function(Gr){ir&&(ir=!1,Ke.call(ft,new tt(ge,ft,Gr.originalEvent)))};return{layer:ze,listener:Ke,delegates:{mousemove:kr,mouseout:jr}}}else{var Xr=function(Gr){var $r=ft.getLayer(ze)?ft.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];$r.length&&(Gr.features=$r,Ke.call(ft,Gr),delete Gr.features)};return{layer:ze,listener:Ke,delegates:(Ct={},Ct[ge]=Xr,Ct)}}},K.prototype.on=function(ge,ze,Ke){if(Ke===void 0)return he.prototype.on.call(this,ge,ze);var ft=this._createDelegatedListener(ge,ze,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ge]=this._delegatedListeners[ge]||[],this._delegatedListeners[ge].push(ft);for(var Ct in ft.delegates)this.on(Ct,ft.delegates[Ct]);return this},K.prototype.once=function(ge,ze,Ke){if(Ke===void 0)return he.prototype.once.call(this,ge,ze);var ft=this._createDelegatedListener(ge,ze,Ke);for(var Ct in ft.delegates)this.once(Ct,ft.delegates[Ct]);return this},K.prototype.off=function(ge,ze,Ke){var ft=this;if(Ke===void 0)return he.prototype.off.call(this,ge,ze);var Ct=function(Ut){for(var $t=Ut[ge],lr=0;lr<$t.length;lr++){var ir=$t[lr];if(ir.layer===ze&&ir.listener===Ke){for(var kr in ir.delegates)ft.off(kr,ir.delegates[kr]);return $t.splice(lr,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[ge]&&Ct(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(ge,ze){if(!this.style)return[];ze===void 0&&ge!==void 0&&!(ge instanceof i.Point)&&!Array.isArray(ge)&&(ze=ge,ge=void 0),ze=ze||{},ge=ge||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(ge instanceof i.Point||typeof ge[0]=="number")Ke=[i.Point.convert(ge)];else{var ft=i.Point.convert(ge[0]),Ct=i.Point.convert(ge[1]);Ke=[ft,new i.Point(Ct.x,ft.y),Ct,new i.Point(ft.x,Ct.y),ft]}return this.style.queryRenderedFeatures(Ke,ze,this.transform)},K.prototype.querySourceFeatures=function(ge,ze){return this.style.querySourceFeatures(ge,ze)},K.prototype.setStyle=function(ge,ze){return ze=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ge?(this._diffStyle(ge,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(ge,ze))},K.prototype._getUIString=function(ge){var ze=this._locale[ge];if(ze==null)throw new Error("Missing UI string '"+ge+"'");return ze},K.prototype._updateStyle=function(ge,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ge)this.style=new Bo(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ge=="string"?this.style.loadURL(ge):this.style.loadJSON(ge),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Bo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(ge,ze){var Ke=this;if(typeof ge=="string"){var ft=this._requestManager.normalizeStyleURL(ge),Ct=this._requestManager.transformRequest(ft,i.ResourceType.Style);i.getJSON(Ct,function(Ut,$t){Ut?Ke.fire(new i.ErrorEvent(Ut)):$t&&Ke._updateDiff($t,ze)})}else typeof ge=="object"&&this._updateDiff(ge,ze)},K.prototype._updateDiff=function(ge,ze){try{this.style.setState(ge)&&this._update(!0)}catch(Ke){i.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(ge,ze)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(ge,ze){return this._lazyInitEmptyStyle(),this.style.addSource(ge,ze),this._update(!0)},K.prototype.isSourceLoaded=function(ge){var ze=this.style&&this.style.sourceCaches[ge];if(ze===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ge+"'")));return}return ze.loaded()},K.prototype.areTilesLoaded=function(){var ge=this.style&&this.style.sourceCaches;for(var ze in ge){var Ke=ge[ze],ft=Ke._tiles;for(var Ct in ft){var Ut=ft[Ct];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(ge,ze,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(ge,ze,Ke)},K.prototype.removeSource=function(ge){return this.style.removeSource(ge),this._update(!0)},K.prototype.getSource=function(ge){return this.style.getSource(ge)},K.prototype.addImage=function(ge,ze,Ke){Ke===void 0&&(Ke={});var ft=Ke.pixelRatio;ft===void 0&&(ft=1);var Ct=Ke.sdf;Ct===void 0&&(Ct=!1);var Ut=Ke.stretchX,$t=Ke.stretchY,lr=Ke.content;this._lazyInitEmptyStyle();var ir=0;if(ze instanceof Nf||cf&&ze instanceof cf){var kr=i.browser.getImageData(ze),jr=kr.width,Xr=kr.height,Gr=kr.data;this.style.addImage(ge,{data:new i.RGBAImage({width:jr,height:Xr},Gr),pixelRatio:ft,stretchX:Ut,stretchY:$t,content:lr,sdf:Ct,version:ir})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var $r=ze.width,hn=ze.height,In=ze.data,On=ze;this.style.addImage(ge,{data:new i.RGBAImage({width:$r,height:hn},new Uint8Array(In)),pixelRatio:ft,stretchX:Ut,stretchY:$t,content:lr,sdf:Ct,version:ir,userImage:On}),On.onAdd&&On.onAdd(this,ge)}},K.prototype.updateImage=function(ge,ze){var Ke=this.style.getImage(ge);if(!Ke)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=ze instanceof Nf||cf&&ze instanceof cf?i.browser.getImageData(ze):ze,Ct=ft.width,Ut=ft.height,$t=ft.data;if(Ct===void 0||Ut===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Ke.data.width||Ut!==Ke.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(ze instanceof Nf||cf&&ze instanceof cf);Ke.data.replace($t,lr),this.style.updateImage(ge,Ke)},K.prototype.hasImage=function(ge){return ge?!!this.style.getImage(ge):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(ge){this.style.removeImage(ge)},K.prototype.loadImage=function(ge,ze){i.getImage(this._requestManager.transformRequest(ge,i.ResourceType.Image),ze)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(ge,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(ge,ze),this._update(!0)},K.prototype.moveLayer=function(ge,ze){return this.style.moveLayer(ge,ze),this._update(!0)},K.prototype.removeLayer=function(ge){return this.style.removeLayer(ge),this._update(!0)},K.prototype.getLayer=function(ge){return this.style.getLayer(ge)},K.prototype.setLayerZoomRange=function(ge,ze,Ke){return this.style.setLayerZoomRange(ge,ze,Ke),this._update(!0)},K.prototype.setFilter=function(ge,ze,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(ge,ze,Ke),this._update(!0)},K.prototype.getFilter=function(ge){return this.style.getFilter(ge)},K.prototype.setPaintProperty=function(ge,ze,Ke,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(ge,ze,Ke,ft),this._update(!0)},K.prototype.getPaintProperty=function(ge,ze){return this.style.getPaintProperty(ge,ze)},K.prototype.setLayoutProperty=function(ge,ze,Ke,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(ge,ze,Ke,ft),this._update(!0)},K.prototype.getLayoutProperty=function(ge,ze){return this.style.getLayoutProperty(ge,ze)},K.prototype.setLight=function(ge,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(ge,ze),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(ge,ze){return this.style.setFeatureState(ge,ze),this._update()},K.prototype.removeFeatureState=function(ge,ze){return this.style.removeFeatureState(ge,ze),this._update()},K.prototype.getFeatureState=function(ge){return this.style.getFeatureState(ge)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var ge=0,ze=0;return this._container&&(ge=this._container.clientWidth||400,ze=this._container.clientHeight||300),[ge,ze]},K.prototype._detectMissingCSS=function(){var ge=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ge!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var ge=this._container;ge.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=S.create("div","mapboxgl-canary",ge);ze.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=S.create("div","mapboxgl-canvas-container",ge);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var Ct=this._controlContainer=S.create("div","mapboxgl-control-container",ge),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function($t){Ut[$t]=S.create("div","mapboxgl-ctrl-"+$t,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(ge,ze){var Ke=i.browser.devicePixelRatio||1;this._canvas.width=Ke*ge,this._canvas.height=Ke*ze,this._canvas.style.width=ge+"px",this._canvas.style.height=ze+"px"},K.prototype._setupPainter=function(){var ge=i.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",ge)||this._canvas.getContext("experimental-webgl",ge);if(!ze){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Nr(ze,this.transform),i.webpSupported.testSupport(ze)},K.prototype._contextLost=function(ge){ge.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ge}))},K.prototype._contextRestored=function(ge){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ge}))},K.prototype._onMapScroll=function(ge){if(ge.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(ge){return this.style?(this._styleDirty=this._styleDirty||ge,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(ge){return this._update(),this._renderTaskQueue.add(ge)},K.prototype._cancelRenderFrame=function(ge){this._renderTaskQueue.remove(ge)},K.prototype._render=function(ge){var ze=this,Ke,ft=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),ft=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ge),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var $t=this.transform.zoom,lr=i.browser.now();this.style.zoomHistory.update($t,lr);var ir=new i.EvaluationParameters($t,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=ir.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=kr),this.style.update(ir)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var jr=i.browser.now()-ft;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var $r=Ct.getQueryObjectEXT(Ke,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Ke),ze.fire(new i.Event("gpu-timing-frame",{cpuTime:jr,gpuTime:$r}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var $r=ze.painter.queryGpuTimers(Xr);ze.fire(new i.Event("gpu-timing-layer",{layerTimes:$r}))},50)}var Gr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Gr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Gr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var ge=0,ze=this._controls;ge<ze.length;ge+=1){var Ke=ze[ge];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext&&ft.loseContext(),Ph(this._canvasContainer),Ph(this._controlContainer),Ph(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},K.prototype.triggerRepaint=function(){var ge=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(ze){ge._frame=null,ge._render(ze)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(ge){this._trackResize&&this.resize({originalEvent:ge})._update()},pe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},pe.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},pe.showPadding.get=function(){return!!this._showPadding},pe.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},pe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},pe.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},pe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},pe.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},pe.repaint.get=function(){return!!this._repaint},pe.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},pe.vertices.get=function(){return!!this._vertices},pe.vertices.set=function(ee){this._vertices=ee,this._update()},K.prototype._setCacheLimits=function(ge,ze){i.setCacheLimits(ge,ze)},pe.version.get=function(){return i.version},Object.defineProperties(K.prototype,pe),K}($l);function Ph(he){he.parentNode&&he.parentNode.removeChild(he)}var ev={showCompass:!0,showZoom:!0,visualizePitch:!1},Du=function(K){var pe=this;this.options=i.extend({},ev,K),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return pe._map.zoomIn({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return pe._map.zoomOut({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){pe.options.visualizePitch?pe._map.resetNorthPitch({},{originalEvent:ee}):pe._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Du.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),pe=K===this._map.getMaxZoom(),ee=K===this._map.getMinZoom();this._zoomInButton.disabled=pe,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",pe.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},Du.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},Du.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ws(this._map,this._compass,this.options.visualizePitch)),this._container},Du.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Du.prototype._createButton=function(K,pe){var ee=S.create("button",K,this._container);return ee.type="button",ee.addEventListener("click",pe),ee},Du.prototype._setButtonTitle=function(K,pe){var ee=this._map._getUIString("NavigationControl."+pe);K.title=ee,K.setAttribute("aria-label",ee)};var ws=function(K,pe,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=pe,this.mouseRotate=new la({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,ee&&(this.mousePitch=new $n({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(pe,"mousedown",this.mousedown),S.addEventListener(pe,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(pe,"touchmove",this.touchmove),S.addEventListener(pe,"touchend",this.touchend),S.addEventListener(pe,"touchcancel",this.reset)};ws.prototype.down=function(K,pe){this.mouseRotate.mousedown(K,pe),this.mousePitch&&this.mousePitch.mousedown(K,pe),S.disableDrag()},ws.prototype.move=function(K,pe){var ee=this.map,ge=this.mouseRotate.mousemoveWindow(K,pe);if(ge&&ge.bearingDelta&&ee.setBearing(ee.getBearing()+ge.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(K,pe);ze&&ze.pitchDelta&&ee.setPitch(ee.getPitch()+ze.pitchDelta)}},ws.prototype.off=function(){var K=this.element;S.removeEventListener(K,"mousedown",this.mousedown),S.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(K,"touchmove",this.touchmove),S.removeEventListener(K,"touchend",this.touchend),S.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},ws.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(i.window,"mousemove",this.mousemove),S.removeEventListener(i.window,"mouseup",this.mouseup)},ws.prototype.mousedown=function(K){this.down(i.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),S.mousePos(this.element,K)),S.addEventListener(i.window,"mousemove",this.mousemove),S.addEventListener(i.window,"mouseup",this.mouseup)},ws.prototype.mousemove=function(K){this.move(K,S.mousePos(this.element,K))},ws.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},ws.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},ws.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},ws.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},ws.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Iu(he,K,pe){if(he=new i.LngLat(he.lng,he.lat),K){var ee=new i.LngLat(he.lng-360,he.lat),ge=new i.LngLat(he.lng+360,he.lat),ze=pe.locationPoint(he).distSqr(K);pe.locationPoint(ee).distSqr(K)<ze?he=ee:pe.locationPoint(ge).distSqr(K)<ze&&(he=ge)}for(;Math.abs(he.lng-pe.center.lng)>180;){var Ke=pe.locationPoint(he);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=pe.width&&Ke.y<=pe.height)break;he.lng>pe.center.lng?he.lng-=360:he.lng+=360}return he}var Rh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tv(he,K,pe){var ee=he.classList;for(var ge in Rh)ee.remove("mapboxgl-"+pe+"-anchor-"+ge);ee.add("mapboxgl-"+pe+"-anchor-"+K)}var Lc=function(he){function K(pe,ee){if(he.call(this),(pe instanceof i.window.HTMLElement||ee)&&(pe=i.extend({element:pe},ee)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=pe&&pe.anchor||"center",this._color=pe&&pe.color||"#3FB1CE",this._scale=pe&&pe.scale||1,this._draggable=pe&&pe.draggable||!1,this._clickTolerance=pe&&pe.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=pe&&pe.rotation||0,this._rotationAlignment=pe&&pe.rotationAlignment||"auto",this._pitchAlignment=pe&&pe.pitchAlignment&&pe.pitchAlignment!=="auto"?pe.pitchAlignment:this._rotationAlignment,!pe||!pe.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var ge=S.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ke=27;ge.setAttributeNS(null,"display","block"),ge.setAttributeNS(null,"height",ze+"px"),ge.setAttributeNS(null,"width",Ke+"px"),ge.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+ze);var ft=S.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"stroke","none"),ft.setAttributeNS(null,"stroke-width","1"),ft.setAttributeNS(null,"fill","none"),ft.setAttributeNS(null,"fill-rule","evenodd");var Ct=S.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Ut=S.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var $t=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,ir=$t;lr<ir.length;lr+=1){var kr=ir[lr],jr=S.createNS("http://www.w3.org/2000/svg","ellipse");jr.setAttributeNS(null,"opacity","0.04"),jr.setAttributeNS(null,"cx","10.5"),jr.setAttributeNS(null,"cy","5.80029008"),jr.setAttributeNS(null,"rx",kr.rx),jr.setAttributeNS(null,"ry",kr.ry),Ut.appendChild(jr)}var Xr=S.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Gr=S.createNS("http://www.w3.org/2000/svg","path");Gr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Gr);var $r=S.createNS("http://www.w3.org/2000/svg","g");$r.setAttributeNS(null,"opacity","0.25"),$r.setAttributeNS(null,"fill","#000000");var hn=S.createNS("http://www.w3.org/2000/svg","path");hn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$r.appendChild(hn);var In=S.createNS("http://www.w3.org/2000/svg","g");In.setAttributeNS(null,"transform","translate(6.0, 7.0)"),In.setAttributeNS(null,"fill","#FFFFFF");var On=S.createNS("http://www.w3.org/2000/svg","g");On.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Yn=S.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#000000"),Yn.setAttributeNS(null,"opacity","0.25"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962");var jn=S.createNS("http://www.w3.org/2000/svg","circle");jn.setAttributeNS(null,"fill","#FFFFFF"),jn.setAttributeNS(null,"cx","5.5"),jn.setAttributeNS(null,"cy","5.5"),jn.setAttributeNS(null,"r","5.4999962"),On.appendChild(Yn),On.appendChild(jn),Ct.appendChild(Ut),Ct.appendChild(Xr),Ct.appendChild($r),Ct.appendChild(In),Ct.appendChild(On),ge.appendChild(Ct),ge.setAttributeNS(null,"height",ze*this._scale+"px"),ge.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(ge),this._offset=i.Point.convert(pe&&pe.offset||[0,-14])}else this._element=pe.element,this._offset=i.Point.convert(pe&&pe.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Gn){Gn.preventDefault()}),this._element.addEventListener("mousedown",function(Gn){Gn.preventDefault()}),tv(this._element,this._anchor,"marker"),this._popup=null}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(ee){return this._lngLat=i.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var ge=38.1,ze=13.5,Ke=Math.sqrt(Math.pow(ze,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ge],"bottom-left":[Ke,(ge-ze+Ke)*-1],"bottom-right":[-Ke,(ge-ze+Ke)*-1],left:[ze,(ge-ze)*-1],right:[-ze,(ge-ze)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(ee){var ge=ee.code,ze=ee.charCode||ee.keyCode;(ge==="Space"||ge==="Enter"||ze===32||ze===13)&&this.togglePopup()},K.prototype._onMapClick=function(ee){var ge=ee.originalEvent.target,ze=this._element;this._popup&&(ge===ze||ze.contains(ge))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},K.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Iu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ge="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ge="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ge="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,Rh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+ge)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(ee){return this._offset=i.Point.convert(ee),this._update(),this},K.prototype._onMove=function(ee){if(!this._isDragging){var ge=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=ge}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(i.Evented),ud={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},vf;function Dh(he){vf!==void 0?he(vf):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(K){vf=K.state!=="denied",he(vf)}):(vf=!!i.window.navigator.geolocation,he(vf))}var Pc=0,Uf=!1,M0=function(he){function K(pe){he.call(this),this.options=i.extend({},ud,pe),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(ee){return this._map=ee,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Dh(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Pc=0,Uf=!1},K.prototype._isOutOfMapMaxBounds=function(ee){var ge=this._map.getMaxBounds(),ze=ee.coords;return ge&&(ze.longitude<ge.getWest()||ze.longitude>ge.getEast()||ze.latitude<ge.getSouth()||ze.latitude>ge.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",ee)),this._finish()}},K.prototype._updateCamera=function(ee){var ge=new i.LngLat(ee.coords.longitude,ee.coords.latitude),ze=ee.coords.accuracy,Ke=this._map.getBearing(),ft=i.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(ge.toBounds(ze),ft,{geolocateSource:!0})},K.prototype._updateMarker=function(ee){if(ee){var ge=new i.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(ge).addTo(this._map),this._userLocationDotMarker.setLngLat(ge).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,ge=this._map.unproject([0,ee]),ze=this._map.unproject([1,ee]),Ke=ge.distanceTo(ze),ft=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ge=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ge,this._geolocateButton.setAttribute("aria-label",ge),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&Uf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",ee)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(ee){var ge=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Lc(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Lc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var Ct=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&ge._watchState==="ACTIVE_LOCK"&&!Ct&&(ge._watchState="BACKGROUND",ge._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ge._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ge.fire(new i.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Pc--,Uf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Pc++;var ee;Pc>1?(ee={maximumAge:6e5,timeout:0},Uf=!0):(ee=this.options.positionOptions,Uf=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(i.Evented),fd={maxWidth:100,unit:"metric"},Vf=function(K){this.options=i.extend({},fd,K),i.bindAll(["_onMove","setUnit"],this)};Vf.prototype.getDefaultPosition=function(){return"bottom-left"},Vf.prototype._onMove=function(){cd(this._map,this._container,this.options)},Vf.prototype.onAdd=function(K){return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vf.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vf.prototype.setUnit=function(K){this.options.unit=K,cd(this._map,this._container,this.options)};function cd(he,K,pe){var ee=pe&&pe.maxWidth||100,ge=he._container.clientHeight/2,ze=he.unproject([0,ge]),Ke=he.unproject([ee,ge]),ft=ze.distanceTo(Ke);if(pe&&pe.unit==="imperial"){var Ct=3.2808*ft;if(Ct>5280){var Ut=Ct/5280;Rc(K,ee,Ut,he._getUIString("ScaleControl.Miles"))}else Rc(K,ee,Ct,he._getUIString("ScaleControl.Feet"))}else if(pe&&pe.unit==="nautical"){var $t=ft/1852;Rc(K,ee,$t,he._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?Rc(K,ee,ft/1e3,he._getUIString("ScaleControl.Kilometers")):Rc(K,ee,ft,he._getUIString("ScaleControl.Meters"))}function Rc(he,K,pe,ee){var ge=C0(pe),ze=ge/pe;he.style.width=K*ze+"px",he.innerHTML=ge+"&nbsp;"+ee}function E0(he){var K=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*K)/K}function C0(he){var K=Math.pow(10,(""+Math.floor(he)).length-1),pe=he/K;return pe=pe>=10?10:pe>=5?5:pe>=3?3:pe>=2?2:pe>=1?1:E0(pe),K*pe}var wl=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof i.window.HTMLElement?this._container=K.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};wl.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},wl.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},wl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},wl.prototype._setupUI=function(){var K=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},wl.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},wl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},wl.prototype._isFullscreen=function(){return this._fullscreen},wl.prototype._changeIcon=function(){var K=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},wl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var L0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},P0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),zg=function(he){function K(pe){he.call(this),this.options=i.extend(Object.create(L0),pe),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(K.__proto__=he),K.prototype=Object.create(he&&he.prototype),K.prototype.constructor=K,K.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(ee){return this._lngLat=i.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(ee){return this.setDOMContent(i.window.document.createTextNode(ee))},K.prototype.setHTML=function(ee){var ge=i.window.document.createDocumentFragment(),ze=i.window.document.createElement("body"),Ke;for(ze.innerHTML=ee;Ke=ze.firstChild,!!Ke;)ge.appendChild(Ke);return this.setDOMContent(ge)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},K.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},K.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},K.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},K.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(ee){this._update(ee.point)},K.prototype._onMouseMove=function(ee){this._update(ee.point)},K.prototype._onDrag=function(ee){this._update(ee.point)},K.prototype._update=function(ee){var ge=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return ge._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Iu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var Ke=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),ft=this.options.anchor,Ct=R0(this.options.offset);if(!ft){var Ut=this._container.offsetWidth,$t=this._container.offsetHeight,lr;Ke.y+Ct.bottom.y<$t?lr=["top"]:Ke.y>this._map.transform.height-$t?lr=["bottom"]:lr=[],Ke.x<Ut/2?lr.push("left"):Ke.x>this._map.transform.width-Ut/2&&lr.push("right"),lr.length===0?ft="bottom":ft=lr.join("-")}var ir=Ke.add(Ct[ft]).round();S.setTransform(this._container,Rh[ft]+" translate("+ir.x+"px,"+ir.y+"px)"),tv(this._container,ft,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(P0);ee&&ee.focus()}},K.prototype._onClose=function(){this.remove()},K}(i.Evented);function R0(he){if(he)if(typeof he=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new i.Point(0,0),top:new i.Point(0,he),"top-left":new i.Point(K,K),"top-right":new i.Point(-K,K),bottom:new i.Point(0,-he),"bottom-left":new i.Point(K,-K),"bottom-right":new i.Point(-K,-K),left:new i.Point(he,0),right:new i.Point(-he,0)}}else if(he instanceof i.Point||Array.isArray(he)){var pe=i.Point.convert(he);return{center:pe,top:pe,"top-left":pe,"top-right":pe,bottom:pe,"bottom-left":pe,"bottom-right":pe,left:pe,right:pe}}else return{center:i.Point.convert(he.center||[0,0]),top:i.Point.convert(he.top||[0,0]),"top-left":i.Point.convert(he["top-left"]||[0,0]),"top-right":i.Point.convert(he["top-right"]||[0,0]),bottom:i.Point.convert(he.bottom||[0,0]),"bottom-left":i.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(he["bottom-right"]||[0,0]),left:i.Point.convert(he.left||[0,0]),right:i.Point.convert(he.right||[0,0])};else return R0(new i.Point(0,0))}var lo={version:i.version,supported:L,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:ld,NavigationControl:Du,GeolocateControl:M0,AttributionControl:Ja,ScaleControl:Vf,FullscreenControl:wl,Popup:zg,Marker:Lc,Style:Bo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:kt,clearPrewarmedResources:Kt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(he){i.config.ACCESS_TOKEN=he},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(he){i.config.API_URL=he},get workerCount(){return dr.workerCount},set workerCount(he){dr.workerCount=he},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){i.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(K){i.clearTileCache(K)},workerUrl:""};return lo}),m})},3108:function(G,V,e){G.exports=e(26099)},26099:function(G,V,e){var m=e(64928),P=e(32420),i=e(51160),L=e(76752),S=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),a=e(76244),n=1073741824;G.exports=function(u,g){g||(g={}),u=p(u,"float64"),g=S(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(g.maxDepth,255),T=v(g.bounds,L(u,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=f(u,T),o=u.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(o):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=o));for(var x=0;x<o;++x)d[x]=x;var w=[],C=[],y=[],M=[];N(0,0,1,d,0,1);for(var A=0,s=0;s<w.length;s++){var E=w[s];if(d.set)d.set(E,A);else for(var b=0,F=E.length;b<F;b++)d[b+A]=E[b];var I=A+w[s].length;M[s]=[A,I],A=I}return d.range=_,d;function N(z,U,Z,J,re,ne){if(!J.length)return null;var ue=w[re]||(w[re]=[]),te=y[re]||(y[re]=[]),Q=C[re]||(C[re]=[]),ie=ue.length;if(re++,re>h||ne>n){for(var Y=0;Y<J.length;Y++)ue.push(J[Y]),te.push(ne),Q.push(null,null,null,null);return ie}if(ue.push(J[0]),te.push(ne),J.length<=1)return Q.push(null,null,null,null),ie;for(var $=Z*.5,oe=z+$,j=U+$,X=[],se=[],q=[],ce=[],ye=1,we=J.length;ye<we;ye++){var be=J[ye],De=c[be*2],ke=c[be*2+1];De<oe?ke<j?X.push(be):se.push(be):ke<j?q.push(be):ce.push(be)}return ne<<=2,Q.push(N(z,U,$,X,re,ne),N(z,j,$,se,re,ne+1),N(oe,U,$,q,re,ne+2),N(oe,j,$,ce,re,ne+3)),ie}function _(){for(var z=[],U=arguments.length;U--;)z[U]=arguments[U];var Z;if(r(z[z.length-1])){var J=z.pop();!z.length&&(J.x!=null||J.l!=null||J.left!=null)&&(z=[J],Z={}),Z=S(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Z={};z.length||(z=T);var re=i.apply(void 0,z),ne=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],ue=ne[0],te=ne[1],Q=ne[2],ie=ne[3],Y=f([ue,te,Q,ie],T),$=Y[0],oe=Y[1],j=Y[2],X=Y[3],se=v(Z.level,w.length);if(Z.d!=null){var q;typeof Z.d=="number"?q=[Z.d,Z.d]:Z.d.length&&(q=Z.d),se=Math.min(Math.max(Math.ceil(-a(Math.abs(q[0])/(T[2]-T[0]))),Math.ceil(-a(Math.abs(q[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),Z.lod)return O($,oe,j,X,se);var ce=[];ye(0,0,1,0,0,1);function ye(be,De,ke,Be,Ae,Ie){if(!(Ae===null||Ie===null)){var Me=be+ke,Fe=De+ke;if(!($>Me||oe>Fe||j<be||X<De)&&!(Be>=se)&&Ae!==Ie){var Ee=w[Be];Ie===void 0&&(Ie=Ee.length);for(var He=Ae;He<Ie;He++){var rt=Ee[He],ot=u[rt*2],$e=u[rt*2+1];ot>=ue&&ot<=Q&&$e>=te&&$e<=ie&&ce.push(rt)}var qe=C[Be],ht=qe[Ae*4+0],vt=qe[Ae*4+1],pt=qe[Ae*4+2],wt=qe[Ae*4+3],Mt=we(qe,Ae+1),nt=ke*.5,_e=Be+1;ye(be,De,nt,_e,ht,vt||pt||wt||Mt),ye(be,De+nt,nt,_e,vt,pt||wt||Mt),ye(be+nt,De,nt,_e,pt,wt||Mt),ye(be+nt,De+nt,nt,_e,wt,Mt)}}}function we(be,De){for(var ke=null,Be=0;ke===null;)if(ke=be[De*4+Be],Be++,Be>be.length)return null;return ke}return ce}function O(z,U,Z,J,re){for(var ne=[],ue=0;ue<re;ue++){var te=y[ue],Q=M[ue][0],ie=B(z,U,ue),Y=B(Z,J,ue),$=m.ge(te,ie),oe=m.gt(te,Y,$,te.length-1);ne[ue]=[$+Q,oe+Q]}return ne}function B(z,U,Z){for(var J=1,re=.5,ne=.5,ue=.5,te=0;te<Z;te++)J<<=2,J+=z<re?U<ne?0:1:U<ne?2:3,ue*=.5,re+=z<re?-ue:ue,ne+=U<ne?-ue:ue;return J}};function f(l,u){for(var g=u[0],h=u[1],T=u[2],c=u[3],o=1/(T-g),d=1/(c-h),x=new Array(l.length),w=0,C=l.length/2;w<C;w++)x[2*w]=P((l[2*w]-g)*o,0,1),x[2*w+1]=P((l[2*w+1]-h)*d,0,1);return x}},40440:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(3256),P=6378137;function i(r){return m.geomReduce(r,function(t,a){return t+L(a)},0)}V.default=i;function L(r){var t=0,a;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(a=0;a<r.coordinates.length;a++)t+=S(r.coordinates[a]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var a=1;a<r.length;a++)t-=Math.abs(v(r[a]))}return t}function v(r){var t,a,n,f,l,u,g,h=0,T=r.length;if(T>2){for(g=0;g<T;g++)g===T-2?(f=T-2,l=T-1,u=0):g===T-1?(f=T-1,l=0,u=1):(f=g,l=g+1,u=g+2),t=r[f],a=r[l],n=r[u],h+=(p(n[0])-p(t[0]))*Math.sin(p(a[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,s,E){E===void 0&&(E={});var b={type:"Feature"};return(E.id===0||E.id)&&(b.id=E.id),E.bbox&&(b.bbox=E.bbox),b.properties=s||{},b.geometry=A,b}V.feature=e;function m(A,s,E){switch(A){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return L(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(A+" is invalid")}}V.geometry=m;function P(A,s,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,s,E)}V.point=P;function i(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return P(b,s)}),E)}V.points=i;function L(A,s,E){E===void 0&&(E={});for(var b=0,F=A;b<F.length;b++){var I=F[b];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,s,E)}V.polygon=L;function S(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return L(b,s)}),E)}V.polygons=S;function v(A,s,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,s,E)}V.lineString=v;function p(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return v(b,s)}),E)}V.lineStrings=p;function r(A,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=A,E}V.featureCollection=r;function t(A,s,E){E===void 0&&(E={});var b={type:"MultiLineString",coordinates:A};return e(b,s,E)}V.multiLineString=t;function a(A,s,E){E===void 0&&(E={});var b={type:"MultiPoint",coordinates:A};return e(b,s,E)}V.multiPoint=a;function n(A,s,E){E===void 0&&(E={});var b={type:"MultiPolygon",coordinates:A};return e(b,s,E)}V.multiPolygon=n;function f(A,s,E){E===void 0&&(E={});var b={type:"GeometryCollection",geometries:A};return e(b,s,E)}V.geometryCollection=f;function l(A,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(A*E)/E}V.round=l;function u(A,s){s===void 0&&(s="kilometers");var E=V.factors[s];if(!E)throw new Error(s+" units is invalid");return A*E}V.radiansToLength=u;function g(A,s){s===void 0&&(s="kilometers");var E=V.factors[s];if(!E)throw new Error(s+" units is invalid");return A/E}V.lengthToRadians=g;function h(A,s){return c(g(A,s))}V.lengthToDegrees=h;function T(A){var s=A%360;return s<0&&(s+=360),s}V.bearingToAzimuth=T;function c(A){var s=A%(2*Math.PI);return s*180/Math.PI}V.radiansToDegrees=c;function o(A){var s=A%360;return s*Math.PI/180}V.degreesToRadians=o;function d(A,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return u(g(A,s),E)}V.convertLength=d;function x(A,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=V.areaFactors[s];if(!b)throw new Error("invalid original units");var F=V.areaFactors[E];if(!F)throw new Error("invalid final units");return A/b*F}V.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=w;function C(A){return!!A&&A.constructor===Object}V.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function M(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=M},3256:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(46284);function P(o,d,x){if(o!==null)for(var w,C,y,M,A,s,E,b=0,F=0,I,N=o.type,_=N==="FeatureCollection",O=N==="Feature",B=_?o.features.length:1,z=0;z<B;z++){E=_?o.features[z].geometry:O?o.geometry:o,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var U=0;U<A;U++){var Z=0,J=0;if(M=I?E.geometries[U]:E,M!==null){s=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,F,z,Z,J)===!1)return!1;F++,Z++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,Z,J)===!1)return!1;F++,re==="MultiPoint"&&Z++}re==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(C=0;C<s[w].length-b;C++){if(d(s[w][C],F,z,Z,J)===!1)return!1;F++}re==="MultiLineString"&&Z++,re==="Polygon"&&J++}re==="Polygon"&&Z++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(J=0,C=0;C<s[w].length;C++){for(y=0;y<s[w][C].length-b;y++){if(d(s[w][C][y],F,z,Z,J)===!1)return!1;F++}J++}Z++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,x,w){var C=x;return P(o,function(y,M,A,s,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,s,E)},w),C}function L(o,d){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&d(o.features[x].properties,x)!==!1;x++);break;case"Feature":d(o.properties,0);break}}function S(o,d,x){var w=x;return L(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&d(o.features[x],x)!==!1;x++);}function p(o,d,x){var w=x;return v(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(o){var d=[];return P(o,function(x){d.push(x)}),d}function t(o,d){var x,w,C,y,M,A,s,E,b,F,I=0,N=o.type==="FeatureCollection",_=o.type==="Feature",O=N?o.features.length:1;for(x=0;x<O;x++){for(A=N?o.features[x].geometry:_?o.geometry:o,E=N?o.features[x].properties:_?o.properties:{},b=N?o.features[x].bbox:_?o.bbox:void 0,F=N?o.features[x].id:_?o.id:void 0,s=A?A.type==="GeometryCollection":!1,M=s?A.geometries.length:1,C=0;C<M;C++){if(y=s?A.geometries[C]:A,y===null){if(d(null,I,E,b,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,E,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function a(o,d,x){var w=x;return t(o,function(C,y,M,A,s){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,s)}),w}function n(o,d){t(o,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],F={type:s,coordinates:b};if(d(m.feature(F,C),w,E)===!1)return!1}})}function f(o,d,x){var w=x;return n(o,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function l(o,d){n(o,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,s=0,E=0,b=0;if(P(x,function(F,I,N,_,O){if(A===void 0||w>s||_>E||O>b){A=F,s=w,E=_,b=O,y=0;return}var B=m.lineString([A,F],x.properties);if(d(B,w,C,O,y)===!1)return!1;y++,A=F})===!1)return!1}}})}function u(o,d,x){var w=x,C=!1;return l(o,function(y,M,A,s,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,s,E),C=!0}),w}function g(o,d){if(!o)throw new Error("geojson is required");n(o,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(o,d,x){var w=x;return g(o,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),m.lineString([s[y],s[y+1]],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y-1),m.lineString([s[C][y],s[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y-1),m.lineString([s[w][y],s[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y-1),m.lineString([s[w][C][y],s[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return m.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),m.point(s[w],M,d);case"LineString":return y<0&&(y=s.length+y),m.point(s[y],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y),m.point(s[C][y],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y),m.point(s[w][y],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y),m.point(s[w][C][y],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=i,V.propEach=L,V.propReduce=S,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=a,V.flattenEach=n,V.flattenReduce=f,V.segmentEach=l,V.segmentReduce=u,V.lineEach=g,V.lineReduce=h,V.findSegment=T,V.findPoint=c},42428:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(84880);function P(i){var L=[1/0,1/0,-1/0,-1/0];return m.coordEach(i,function(S){L[0]>S[0]&&(L[0]=S[0]),L[1]>S[1]&&(L[1]=S[1]),L[2]<S[0]&&(L[2]=S[0]),L[3]<S[1]&&(L[3]=S[1])}),L}P.default=P,V.default=P},76796:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,s,E){E===void 0&&(E={});var b={type:"Feature"};return(E.id===0||E.id)&&(b.id=E.id),E.bbox&&(b.bbox=E.bbox),b.properties=s||{},b.geometry=A,b}V.feature=e;function m(A,s,E){switch(A){case"Point":return P(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return L(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(A+" is invalid")}}V.geometry=m;function P(A,s,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,s,E)}V.point=P;function i(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return P(b,s)}),E)}V.points=i;function L(A,s,E){E===void 0&&(E={});for(var b=0,F=A;b<F.length;b++){var I=F[b];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,s,E)}V.polygon=L;function S(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return L(b,s)}),E)}V.polygons=S;function v(A,s,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,s,E)}V.lineString=v;function p(A,s,E){return E===void 0&&(E={}),r(A.map(function(b){return v(b,s)}),E)}V.lineStrings=p;function r(A,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=A,E}V.featureCollection=r;function t(A,s,E){E===void 0&&(E={});var b={type:"MultiLineString",coordinates:A};return e(b,s,E)}V.multiLineString=t;function a(A,s,E){E===void 0&&(E={});var b={type:"MultiPoint",coordinates:A};return e(b,s,E)}V.multiPoint=a;function n(A,s,E){E===void 0&&(E={});var b={type:"MultiPolygon",coordinates:A};return e(b,s,E)}V.multiPolygon=n;function f(A,s,E){E===void 0&&(E={});var b={type:"GeometryCollection",geometries:A};return e(b,s,E)}V.geometryCollection=f;function l(A,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(A*E)/E}V.round=l;function u(A,s){s===void 0&&(s="kilometers");var E=V.factors[s];if(!E)throw new Error(s+" units is invalid");return A*E}V.radiansToLength=u;function g(A,s){s===void 0&&(s="kilometers");var E=V.factors[s];if(!E)throw new Error(s+" units is invalid");return A/E}V.lengthToRadians=g;function h(A,s){return c(g(A,s))}V.lengthToDegrees=h;function T(A){var s=A%360;return s<0&&(s+=360),s}V.bearingToAzimuth=T;function c(A){var s=A%(2*Math.PI);return s*180/Math.PI}V.radiansToDegrees=c;function o(A){var s=A%360;return s*Math.PI/180}V.degreesToRadians=o;function d(A,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return u(g(A,s),E)}V.convertLength=d;function x(A,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=V.areaFactors[s];if(!b)throw new Error("invalid original units");var F=V.areaFactors[E];if(!F)throw new Error("invalid final units");return A/b*F}V.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=w;function C(A){return!!A&&A.constructor===Object}V.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function M(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=M},84880:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(76796);function P(o,d,x){if(o!==null)for(var w,C,y,M,A,s,E,b=0,F=0,I,N=o.type,_=N==="FeatureCollection",O=N==="Feature",B=_?o.features.length:1,z=0;z<B;z++){E=_?o.features[z].geometry:O?o.geometry:o,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var U=0;U<A;U++){var Z=0,J=0;if(M=I?E.geometries[U]:E,M!==null){s=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,F,z,Z,J)===!1)return!1;F++,Z++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,Z,J)===!1)return!1;F++,re==="MultiPoint"&&Z++}re==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(C=0;C<s[w].length-b;C++){if(d(s[w][C],F,z,Z,J)===!1)return!1;F++}re==="MultiLineString"&&Z++,re==="Polygon"&&J++}re==="Polygon"&&Z++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(J=0,C=0;C<s[w].length;C++){for(y=0;y<s[w][C].length-b;y++){if(d(s[w][C][y],F,z,Z,J)===!1)return!1;F++}J++}Z++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,x,w){var C=x;return P(o,function(y,M,A,s,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,s,E)},w),C}function L(o,d){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&d(o.features[x].properties,x)!==!1;x++);break;case"Feature":d(o.properties,0);break}}function S(o,d,x){var w=x;return L(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&d(o.features[x],x)!==!1;x++);}function p(o,d,x){var w=x;return v(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(o){var d=[];return P(o,function(x){d.push(x)}),d}function t(o,d){var x,w,C,y,M,A,s,E,b,F,I=0,N=o.type==="FeatureCollection",_=o.type==="Feature",O=N?o.features.length:1;for(x=0;x<O;x++){for(A=N?o.features[x].geometry:_?o.geometry:o,E=N?o.features[x].properties:_?o.properties:{},b=N?o.features[x].bbox:_?o.bbox:void 0,F=N?o.features[x].id:_?o.id:void 0,s=A?A.type==="GeometryCollection":!1,M=s?A.geometries.length:1,C=0;C<M;C++){if(y=s?A.geometries[C]:A,y===null){if(d(null,I,E,b,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,E,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function a(o,d,x){var w=x;return t(o,function(C,y,M,A,s){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,s)}),w}function n(o,d){t(o,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],F={type:s,coordinates:b};if(d(m.feature(F,C),w,E)===!1)return!1}})}function f(o,d,x){var w=x;return n(o,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function l(o,d){n(o,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,s=0,E=0,b=0;if(P(x,function(F,I,N,_,O){if(A===void 0||w>s||_>E||O>b){A=F,s=w,E=_,b=O,y=0;return}var B=m.lineString([A,F],x.properties);if(d(B,w,C,O,y)===!1)return!1;y++,A=F})===!1)return!1}}})}function u(o,d,x){var w=x,C=!1;return l(o,function(y,M,A,s,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,s,E),C=!0}),w}function g(o,d){if(!o)throw new Error("geojson is required");n(o,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(o,d,x){var w=x;return g(o,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),m.lineString([s[y],s[y+1]],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y-1),m.lineString([s[C][y],s[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y-1),m.lineString([s[w][y],s[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y-1),m.lineString([s[w][C][y],s[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return m.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),m.point(s[w],M,d);case"LineString":return y<0&&(y=s.length+y),m.point(s[y],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y),m.point(s[C][y],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y),m.point(s[w][y],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y),m.point(s[w][C][y],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=i,V.propEach=L,V.propReduce=S,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=a,V.flattenEach=n,V.flattenReduce=f,V.segmentEach=l,V.segmentReduce=u,V.lineEach=g,V.lineReduce=h,V.findSegment=T,V.findPoint=c},77844:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(43752),P=e(49840);function i(L,S){S===void 0&&(S={});var v=0,p=0,r=0;return m.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],S.properties)}V.default=i},49840:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(_,O,B){B===void 0&&(B={});var z={type:"Feature"};return(B.id===0||B.id)&&(z.id=B.id),B.bbox&&(z.bbox=B.bbox),z.properties=O||{},z.geometry=_,z}V.feature=e;function m(_,O,B){switch(_){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return L(O).geometry;case"MultiPoint":return a(O).geometry;case"MultiLineString":return t(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(_+" is invalid")}}V.geometry=m;function P(_,O,B){B===void 0&&(B={});var z={type:"Point",coordinates:_};return e(z,O,B)}V.point=P;function i(_,O,B){return B===void 0&&(B={}),r(_.map(function(z){return P(z,O)}),B)}V.points=i;function L(_,O,B){B===void 0&&(B={});for(var z=0,U=_;z<U.length;z++){var Z=U[z];if(Z.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<Z[Z.length-1].length;J++)if(Z[Z.length-1][J]!==Z[0][J])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:_};return e(re,O,B)}V.polygon=L;function S(_,O,B){return B===void 0&&(B={}),r(_.map(function(z){return L(z,O)}),B)}V.polygons=S;function v(_,O,B){if(B===void 0&&(B={}),_.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:_};return e(z,O,B)}V.lineString=v;function p(_,O,B){return B===void 0&&(B={}),r(_.map(function(z){return v(z,O)}),B)}V.lineStrings=p;function r(_,O){O===void 0&&(O={});var B={type:"FeatureCollection"};return O.id&&(B.id=O.id),O.bbox&&(B.bbox=O.bbox),B.features=_,B}V.featureCollection=r;function t(_,O,B){B===void 0&&(B={});var z={type:"MultiLineString",coordinates:_};return e(z,O,B)}V.multiLineString=t;function a(_,O,B){B===void 0&&(B={});var z={type:"MultiPoint",coordinates:_};return e(z,O,B)}V.multiPoint=a;function n(_,O,B){B===void 0&&(B={});var z={type:"MultiPolygon",coordinates:_};return e(z,O,B)}V.multiPolygon=n;function f(_,O,B){B===void 0&&(B={});var z={type:"GeometryCollection",geometries:_};return e(z,O,B)}V.geometryCollection=f;function l(_,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,O||0);return Math.round(_*B)/B}V.round=l;function u(_,O){O===void 0&&(O="kilometers");var B=V.factors[O];if(!B)throw new Error(O+" units is invalid");return _*B}V.radiansToLength=u;function g(_,O){O===void 0&&(O="kilometers");var B=V.factors[O];if(!B)throw new Error(O+" units is invalid");return _/B}V.lengthToRadians=g;function h(_,O){return c(g(_,O))}V.lengthToDegrees=h;function T(_){var O=_%360;return O<0&&(O+=360),O}V.bearingToAzimuth=T;function c(_){var O=_%(2*Math.PI);return O*180/Math.PI}V.radiansToDegrees=c;function o(_){var O=_%360;return O*Math.PI/180}V.degreesToRadians=o;function d(_,O,B){if(O===void 0&&(O="kilometers"),B===void 0&&(B="kilometers"),!(_>=0))throw new Error("length must be a positive number");return u(g(_,O),B)}V.convertLength=d;function x(_,O,B){if(O===void 0&&(O="meters"),B===void 0&&(B="kilometers"),!(_>=0))throw new Error("area must be a positive number");var z=V.areaFactors[O];if(!z)throw new Error("invalid original units");var U=V.areaFactors[B];if(!U)throw new Error("invalid final units");return _/z*U}V.convertArea=x;function w(_){return!isNaN(_)&&_!==null&&!Array.isArray(_)&&!/^\s*$/.test(_)}V.isNumber=w;function C(_){return!!_&&_.constructor===Object}V.isObject=C;function y(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(O){if(!w(O))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function M(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}V.validateId=M;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=A;function s(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=s;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=E;function b(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=b;function F(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=F;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=I;function N(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=N},43752:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var m=e(49840);function P(o,d,x){if(o!==null)for(var w,C,y,M,A,s,E,b=0,F=0,I,N=o.type,_=N==="FeatureCollection",O=N==="Feature",B=_?o.features.length:1,z=0;z<B;z++){E=_?o.features[z].geometry:O?o.geometry:o,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var U=0;U<A;U++){var Z=0,J=0;if(M=I?E.geometries[U]:E,M!==null){s=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(s,F,z,Z,J)===!1)return!1;F++,Z++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],F,z,Z,J)===!1)return!1;F++,re==="MultiPoint"&&Z++}re==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(C=0;C<s[w].length-b;C++){if(d(s[w][C],F,z,Z,J)===!1)return!1;F++}re==="MultiLineString"&&Z++,re==="Polygon"&&J++}re==="Polygon"&&Z++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(J=0,C=0;C<s[w].length;C++){for(y=0;y<s[w][C].length-b;y++){if(d(s[w][C][y],F,z,Z,J)===!1)return!1;F++}J++}Z++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,x,w){var C=x;return P(o,function(y,M,A,s,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,s,E)},w),C}function L(o,d){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&d(o.features[x].properties,x)!==!1;x++);break;case"Feature":d(o.properties,0);break}}function S(o,d,x){var w=x;return L(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&d(o.features[x],x)!==!1;x++);}function p(o,d,x){var w=x;return v(o,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(o){var d=[];return P(o,function(x){d.push(x)}),d}function t(o,d){var x,w,C,y,M,A,s,E,b,F,I=0,N=o.type==="FeatureCollection",_=o.type==="Feature",O=N?o.features.length:1;for(x=0;x<O;x++){for(A=N?o.features[x].geometry:_?o.geometry:o,E=N?o.features[x].properties:_?o.properties:{},b=N?o.features[x].bbox:_?o.bbox:void 0,F=N?o.features[x].id:_?o.id:void 0,s=A?A.type==="GeometryCollection":!1,M=s?A.geometries.length:1,C=0;C<M;C++){if(y=s?A.geometries[C]:A,y===null){if(d(null,I,E,b,F)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,b,F)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],I,E,b,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function a(o,d,x){var w=x;return t(o,function(C,y,M,A,s){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,s)}),w}function n(o,d){t(o,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],F={type:s,coordinates:b};if(d(m.feature(F,C),w,E)===!1)return!1}})}function f(o,d,x){var w=x;return n(o,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function l(o,d){n(o,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,s=0,E=0,b=0;if(P(x,function(F,I,N,_,O){if(A===void 0||w>s||_>E||O>b){A=F,s=w,E=_,b=O,y=0;return}var B=m.lineString([A,F],x.properties);if(d(B,w,C,O,y)===!1)return!1;y++,A=F})===!1)return!1}}})}function u(o,d,x){var w=x,C=!1;return l(o,function(y,M,A,s,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,s,E),C=!0}),w}function g(o,d){if(!o)throw new Error("geojson is required");n(o,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(o,d,x){var w=x;return g(o,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),m.lineString([s[y],s[y+1]],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y-1),m.lineString([s[C][y],s[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y-1),m.lineString([s[w][y],s[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y-1),m.lineString([s[w][C][y],s[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),M=M||o.features[x].properties,A=o.features[x].geometry;break;case"Feature":M=M||o.properties,A=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=o;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return m.point(s,M,d);case"MultiPoint":return w<0&&(w=s.length+w),m.point(s[w],M,d);case"LineString":return y<0&&(y=s.length+y),m.point(s[y],M,d);case"Polygon":return C<0&&(C=s.length+C),y<0&&(y=s[C].length+y),m.point(s[C][y],M,d);case"MultiLineString":return w<0&&(w=s.length+w),y<0&&(y=s[w].length+y),m.point(s[w][y],M,d);case"MultiPolygon":return w<0&&(w=s.length+w),C<0&&(C=s[w].length+C),y<0&&(y=s[w][C].length-y),m.point(s[w][C][y],M,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=i,V.propEach=L,V.propReduce=S,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=a,V.flattenEach=n,V.flattenReduce=f,V.segmentEach=l,V.segmentReduce=u,V.lineEach=g,V.lineReduce=h,V.findSegment=T,V.findPoint=c},49972:function(G){G.exports=V;function V(e){var m=0,P=0,i=0,L=0;return e.map(function(S){S=S.slice();var v=S[0],p=v.toUpperCase();if(v!=p)switch(S[0]=p,v){case"a":S[6]+=i,S[7]+=L;break;case"v":S[1]+=L;break;case"h":S[1]+=i;break;default:for(var r=1;r<S.length;)S[r++]+=i,S[r++]+=L}switch(p){case"Z":i=m,L=P;break;case"H":i=S[1];break;case"V":L=S[1];break;case"M":i=m=S[1],L=P=S[2];break;default:i=S[S.length-2],L=S[S.length-1]}return S})}},76752:function(G){G.exports=V;function V(e,m){if(!e||e.length==null)throw Error("Argument should be an array");m==null?m=1:m=Math.floor(m);for(var P=Array(m*2),i=0;i<m;i++){for(var L=-1/0,S=1/0,v=i,p=e.length;v<p;v+=m)e[v]>L&&(L=e[v]),e[v]<S&&(S=e[v]);P[i]=S,P[m+i]=L}return P}},10272:function(G){G.exports=function(V,e,m){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,m);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(V),i=P.length;if(i===0)return-1;for(var L=0;L<i;L++)if(e.call(m,P[L],L,P))return L;return-1}},71152:function(G,V,e){var m=e(76752);G.exports=P;function P(i,L,S){if(!i||i.length==null)throw Error("Argument should be an array");L==null&&(L=1),S==null&&(S=m(i,L));for(var v=0;v<L;v++){var p=S[L+v],r=S[v],t=v,a=i.length;if(p===1/0&&r===-1/0)for(t=v;t<a;t+=L)i[t]=i[t]===p?1:i[t]===r?0:.5;else if(p===1/0)for(t=v;t<a;t+=L)i[t]=i[t]===p?1:0;else if(r===-1/0)for(t=v;t<a;t+=L)i[t]=i[t]===r?0:1;else{var n=p-r;for(t=v;t<a;t+=L)isNaN(i[t])||(i[t]=n===0?.5:(i[t]-r)/n)}}return i}},67752:function(G){G.exports=function(e,m){var P=typeof e=="number",i=typeof m=="number";P&&!i?(m=e,e=0):!P&&!i&&(e=0,m=0),e=e|0,m=m|0;var L=m-e;if(L<0)throw new Error("array length must be positive");for(var S=new Array(L),v=0,p=e;v<L;v++,p++)S[v]=p;return S}},45408:function(G,V,e){var m=e(4168);function P(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ne){return typeof ne}:P=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P(J)}function i(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}var L=e(86832),S=L.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,p=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,a=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),l=f.inspect,u=e(35840).types,g=u.isPromise,h=u.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,d;function x(){var J=e(25116);o=J.isDeepEqual,d=J.isDeepStrictEqual}var w=!1,C=G.exports=E,y={};function M(J){throw J.message instanceof Error?J.message:new n(J)}function A(J,re,ne,ue,te){var Q=arguments.length,ie;if(Q===0)ie="Failed";else if(Q===1)ne=J,J=void 0;else{if(w===!1){w=!0;var Y=m.emitWarning?m.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Q===2&&(ue="!=")}if(ne instanceof Error)throw ne;var $={actual:J,expected:re,operator:ue===void 0?"fail":ue,stackStartFn:te||A};ne!==void 0&&($.message=ne);var oe=new n($);throw ie&&(oe.message=ie,oe.generatedMessage=!0),oe}C.fail=A,C.AssertionError=n;function s(J,re,ne,ue){if(!ne){var te=!1;if(re===0)te=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var Q=new n({actual:ne,expected:!0,message:ue,operator:"==",stackStartFn:J});throw Q.generatedMessage=te,Q}}function E(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];s.apply(void 0,[E,re.length].concat(re))}C.ok=E,C.equal=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");re!=ne&&M({actual:re,expected:ne,message:ue,operator:"==",stackStartFn:J})},C.notEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");re==ne&&M({actual:re,expected:ne,message:ue,operator:"!=",stackStartFn:J})},C.deepEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),o(re,ne)||M({actual:re,expected:ne,message:ue,operator:"deepEqual",stackStartFn:J})},C.notDeepEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),o(re,ne)&&M({actual:re,expected:ne,message:ue,operator:"notDeepEqual",stackStartFn:J})},C.deepStrictEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),d(re,ne)||M({actual:re,expected:ne,message:ue,operator:"deepStrictEqual",stackStartFn:J})},C.notDeepStrictEqual=b;function b(J,re,ne){if(arguments.length<2)throw new a("actual","expected");o===void 0&&x(),d(J,re)&&M({actual:J,expected:re,message:ne,operator:"notDeepStrictEqual",stackStartFn:b})}C.strictEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");c(re,ne)||M({actual:re,expected:ne,message:ue,operator:"strictEqual",stackStartFn:J})},C.notStrictEqual=function J(re,ne,ue){if(arguments.length<2)throw new a("actual","expected");c(re,ne)&&M({actual:re,expected:ne,message:ue,operator:"notStrictEqual",stackStartFn:J})};var F=function J(re,ne,ue){var te=this;i(this,J),ne.forEach(function(Q){Q in re&&(ue!==void 0&&typeof ue[Q]=="string"&&h(re[Q])&&re[Q].test(ue[Q])?te[Q]=ue[Q]:te[Q]=re[Q])})};function I(J,re,ne,ue,te,Q){if(!(ne in J)||!d(J[ne],re[ne])){if(!ue){var ie=new F(J,te),Y=new F(re,te,J),$=new n({actual:ie,expected:Y,operator:"deepStrictEqual",stackStartFn:Q});throw $.actual=J,$.expected=re,$.operator=Q.name,$}M({actual:J,expected:re,message:ue,operator:Q.name,stackStartFn:Q})}}function N(J,re,ne,ue){if(typeof re!="function"){if(h(re))return re.test(J);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P(J)!=="object"||J===null){var te=new n({actual:J,expected:re,message:ne,operator:"deepStrictEqual",stackStartFn:ue});throw te.operator=ue.name,te}var Q=Object.keys(re);if(re instanceof Error)Q.push("name","message");else if(Q.length===0)throw new r("error",re,"may not be an empty object");return o===void 0&&x(),Q.forEach(function(ie){typeof J[ie]=="string"&&h(re[ie])&&re[ie].test(J[ie])||I(J,re,ie,ne,Q,ue)}),!0}return re.prototype!==void 0&&J instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},J)===!0}function _(J){if(typeof J!="function")throw new p("fn","Function",J);try{J()}catch(re){return re}return y}function O(J){return g(J)||J!==null&&P(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function B(J){return Promise.resolve().then(function(){var re;if(typeof J=="function"){if(re=J(),!O(re))throw new t("instance of Promise","promiseFn",re)}else if(O(J))re=J;else throw new p("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return re}).then(function(){return y}).catch(function(ne){return ne})})}function z(J,re,ne,ue){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(P(re)==="object"&&re!==null){if(re.message===ne)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ne)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));ue=ne,ne=void 0}else if(ne!=null&&P(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(re===y){var te="";ne&&ne.name&&(te+=" (".concat(ne.name,")")),te+=ue?": ".concat(ue):".";var Q=J.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:ne,operator:J.name,message:"Missing expected ".concat(Q).concat(te),stackStartFn:J})}if(ne&&!N(re,ne,ue,J))throw re}function U(J,re,ne,ue){if(re!==y){if(typeof ne=="string"&&(ue=ne,ne=void 0),!ne||N(re,ne)){var te=ue?": ".concat(ue):".",Q=J.name==="doesNotReject"?"rejection":"exception";M({actual:re,expected:ne,operator:J.name,message:"Got unwanted ".concat(Q).concat(te,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:J})}throw re}}C.throws=function J(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),te=1;te<ne;te++)ue[te-1]=arguments[te];z.apply(void 0,[J,_(re)].concat(ue))},C.rejects=function J(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),te=1;te<ne;te++)ue[te-1]=arguments[te];return B(re).then(function(Q){return z.apply(void 0,[J,Q].concat(ue))})},C.doesNotThrow=function J(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),te=1;te<ne;te++)ue[te-1]=arguments[te];U.apply(void 0,[J,_(re)].concat(ue))},C.doesNotReject=function J(re){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),te=1;te<ne;te++)ue[te-1]=arguments[te];return B(re).then(function(Q){return U.apply(void 0,[J,Q].concat(ue))})},C.ifError=function J(re){if(re!=null){var ne="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ne+=re.constructor.name:ne+=re.message:ne+=l(re);var ue=new n({actual:re,expected:null,operator:"ifError",message:ne,stackStartFn:J}),te=re.stack;if(typeof te=="string"){var Q=te.split(`
`);Q.shift();for(var ie=ue.stack.split(`
`),Y=0;Y<Q.length;Y++){var $=ie.indexOf(Q[Y]);if($!==-1){ie=ie.slice(0,$);break}}ue.stack="".concat(ie.join(`
`),`
`).concat(Q.join(`
`))}throw ue}};function Z(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];s.apply(void 0,[Z,re.length].concat(re))}C.strict=T(Z,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(G,V,e){var m=e(4168);function P(_){for(var O=1;O<arguments.length;O++){var B=arguments[O]!=null?arguments[O]:{},z=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(B).filter(function(U){return Object.getOwnPropertyDescriptor(B,U).enumerable}))),z.forEach(function(U){i(_,U,B[U])})}return _}function i(_,O,B){return O in _?Object.defineProperty(_,O,{value:B,enumerable:!0,configurable:!0,writable:!0}):_[O]=B,_}function L(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function S(_,O){for(var B=0;B<O.length;B++){var z=O[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}function v(_,O,B){return O&&S(_.prototype,O),B&&S(_,B),_}function p(_,O){return O&&(h(O)==="object"||typeof O=="function")?O:r(_)}function r(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function t(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),O&&u(_,O)}function a(_){var O=typeof Map=="function"?new Map:void 0;return a=function(z){if(z===null||!l(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(z))return O.get(z);O.set(z,U)}function U(){return f(z,arguments,g(this).constructor)}return U.prototype=Object.create(z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,z)},a(_)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(_,O,B){return n()?f=Reflect.construct:f=function(U,Z,J){var re=[null];re.push.apply(re,Z);var ne=Function.bind.apply(U,re),ue=new ne;return J&&u(ue,J.prototype),ue},f.apply(null,arguments)}function l(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function u(_,O){return u=Object.setPrototypeOf||function(z,U){return z.__proto__=U,z},u(_,O)}function g(_){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},g(_)}function h(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(B){return typeof B}:h=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},h(_)}var T=e(35840),c=T.inspect,o=e(86832),d=o.codes.ERR_INVALID_ARG_TYPE;function x(_,O,B){return(B===void 0||B>_.length)&&(B=_.length),_.substring(B-O.length,B)===O}function w(_,O){if(O=Math.floor(O),_.length==0||O==0)return"";var B=_.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)_+=_,O--;return _+=_.substring(0,B-_.length),_}var C="",y="",M="",A="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function b(_){var O=Object.keys(_),B=Object.create(Object.getPrototypeOf(_));return O.forEach(function(z){B[z]=_[z]}),Object.defineProperty(B,"message",{value:_.message}),B}function F(_){return c(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(_,O,B){var z="",U="",Z=0,J="",re=!1,ne=F(_),ue=ne.split(`
`),te=F(O).split(`
`),Q=0,ie="";if(B==="strictEqual"&&h(_)==="object"&&h(O)==="object"&&_!==null&&O!==null&&(B="strictEqualObject"),ue.length===1&&te.length===1&&ue[0]!==te[0]){var Y=ue[0].length+te[0].length;if(Y<=E){if((h(_)!=="object"||_===null)&&(h(O)!=="object"||O===null)&&(_!==0||O!==0))return"".concat(s[B],`

`)+"".concat(ue[0]," !== ").concat(te[0],`
`)}else if(B!=="strictEqualObject"){var $=m.stderr&&m.stderr.isTTY?m.stderr.columns:80;if(Y<$){for(;ue[0][Q]===te[0][Q];)Q++;Q>2&&(ie=`
  `.concat(w(" ",Q),"^"),Q=0)}}}for(var oe=ue[ue.length-1],j=te[te.length-1];oe===j&&(Q++<2?J=`
  `.concat(oe).concat(J):z=oe,ue.pop(),te.pop(),!(ue.length===0||te.length===0));)oe=ue[ue.length-1],j=te[te.length-1];var X=Math.max(ue.length,te.length);if(X===0){var se=ne.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(A);se.length>27;)se.pop();return"".concat(s.notIdentical,`

`).concat(se.join(`
`),`
`)}Q>3&&(J=`
`.concat(C,"...").concat(A).concat(J),re=!0),z!==""&&(J=`
  `.concat(z).concat(J),z="");var q=0,ce=s[B]+`
`.concat(y,"+ actual").concat(A," ").concat(M,"- expected").concat(A),ye=" ".concat(C,"...").concat(A," Lines skipped");for(Q=0;Q<X;Q++){var we=Q-Z;if(ue.length<Q+1)we>1&&Q>2&&(we>4?(U+=`
`.concat(C,"...").concat(A),re=!0):we>3&&(U+=`
  `.concat(te[Q-2]),q++),U+=`
  `.concat(te[Q-1]),q++),Z=Q,z+=`
`.concat(M,"-").concat(A," ").concat(te[Q]),q++;else if(te.length<Q+1)we>1&&Q>2&&(we>4?(U+=`
`.concat(C,"...").concat(A),re=!0):we>3&&(U+=`
  `.concat(ue[Q-2]),q++),U+=`
  `.concat(ue[Q-1]),q++),Z=Q,U+=`
`.concat(y,"+").concat(A," ").concat(ue[Q]),q++;else{var be=te[Q],De=ue[Q],ke=De!==be&&(!x(De,",")||De.slice(0,-1)!==be);ke&&x(be,",")&&be.slice(0,-1)===De&&(ke=!1,De+=","),ke?(we>1&&Q>2&&(we>4?(U+=`
`.concat(C,"...").concat(A),re=!0):we>3&&(U+=`
  `.concat(ue[Q-2]),q++),U+=`
  `.concat(ue[Q-1]),q++),Z=Q,U+=`
`.concat(y,"+").concat(A," ").concat(De),z+=`
`.concat(M,"-").concat(A," ").concat(be),q+=2):(U+=z,z="",(we===1||Q===0)&&(U+=`
  `.concat(De),q++))}if(q>20&&Q<X-2)return"".concat(ce).concat(ye,`
`).concat(U,`
`).concat(C,"...").concat(A).concat(z,`
`)+"".concat(C,"...").concat(A)}return"".concat(ce).concat(re?ye:"",`
`).concat(U).concat(z).concat(J).concat(ie)}var N=function(_){t(O,_);function O(B){var z;if(L(this,O),h(B)!=="object"||B===null)throw new d("options","Object",B);var U=B.message,Z=B.operator,J=B.stackStartFn,re=B.actual,ne=B.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)z=p(this,g(O).call(this,String(U)));else if(m.stderr&&m.stderr.isTTY&&(m.stderr&&m.stderr.getColorDepth&&m.stderr.getColorDepth()!==1?(C="\x1B[34m",y="\x1B[32m",A="\x1B[39m",M="\x1B[31m"):(C="",y="",A="",M="")),h(re)==="object"&&re!==null&&h(ne)==="object"&&ne!==null&&"stack"in re&&re instanceof Error&&"stack"in ne&&ne instanceof Error&&(re=b(re),ne=b(ne)),Z==="deepStrictEqual"||Z==="strictEqual")z=p(this,g(O).call(this,I(re,ne,Z)));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var te=s[Z],Q=F(re).split(`
`);if(Z==="notStrictEqual"&&h(re)==="object"&&re!==null&&(te=s.notStrictEqualObject),Q.length>30)for(Q[26]="".concat(C,"...").concat(A);Q.length>27;)Q.pop();Q.length===1?z=p(this,g(O).call(this,"".concat(te," ").concat(Q[0]))):z=p(this,g(O).call(this,"".concat(te,`

`).concat(Q.join(`
`),`
`)))}else{var ie=F(re),Y="",$=s[Z];Z==="notDeepEqual"||Z==="notEqual"?(ie="".concat(s[Z],`

`).concat(ie),ie.length>1024&&(ie="".concat(ie.slice(0,1021),"..."))):(Y="".concat(F(ne)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?ie="".concat($,`

`).concat(ie,`

should equal

`):Y=" ".concat(Z," ").concat(Y)),z=p(this,g(O).call(this,"".concat(ie).concat(Y)))}return Error.stackTraceLimit=ue,z.generatedMessage=!U,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=re,z.expected=ne,z.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(r(z),J),z.stack,z.name="AssertionError",p(z)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,U){return c(this,P({},U,{customInspect:!1,depth:0}))}}]),O}(a(Error));G.exports=N},86832:function(G,V,e){function m(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(c){return typeof c}:m=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},m(h)}function P(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function i(h,T){return T&&(m(T)==="object"||typeof T=="function")?T:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},S(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&p(h,T)}function p(h,T){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(h,T)}var r={},t,a;function n(h,T,c){c||(c=Error);function o(x,w,C){return typeof T=="string"?T:T(x,w,C)}var d=function(x){v(w,x);function w(C,y,M){var A;return P(this,w),A=i(this,S(w).call(this,o(C,y,M))),A.code=h,A}return w}(c);r[h]=d}function f(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function l(h,T,c){return h.substr(!c||c<0?0:+c,T.length)===T}function u(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function g(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof T=="string"&&l(T,"not ")?(o="must not be",T=T.replace(/^not /,"")):o="must be";var d;if(u(h," argument"))d="The ".concat(h," ").concat(o," ").concat(f(T,"type"));else{var x=g(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(x," ").concat(o," ").concat(f(T,"type"))}return d+=". Received type ".concat(m(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=e(35840));var o=a.inspect(T);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,T,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(m(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var o="The ",d=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),d){case 1:o+="".concat(T[0]," argument");break;case 2:o+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:o+=T.slice(0,d-1).join(", "),o+=", and ".concat(T[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),G.exports.codes=r},25116:function(G,V,e){function m(Be,Ae){return L(Be)||i(Be,Ae)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(Be,Ae){var Ie=[],Me=!0,Fe=!1,Ee=void 0;try{for(var He=Be[Symbol.iterator](),rt;!(Me=(rt=He.next()).done)&&(Ie.push(rt.value),!(Ae&&Ie.length===Ae));Me=!0);}catch(ot){Fe=!0,Ee=ot}finally{try{!Me&&He.return!=null&&He.return()}finally{if(Fe)throw Ee}}return Ie}function L(Be){if(Array.isArray(Be))return Be}function S(Be){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Ie){return typeof Ie}:S=function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},S(Be)}var v=/a/g.flags!==void 0,p=function(Ae){var Ie=[];return Ae.forEach(function(Me){return Ie.push(Me)}),Ie},r=function(Ae){var Ie=[];return Ae.forEach(function(Me,Fe){return Ie.push([Fe,Me])}),Ie},t=Object.is?Object.is:e(39896),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Be){return Be.call.bind(Be)}var l=f(Object.prototype.hasOwnProperty),u=f(Object.prototype.propertyIsEnumerable),g=f(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,d=h.isMap,x=h.isRegExp,w=h.isSet,C=h.isNativeError,y=h.isBoxedPrimitive,M=h.isNumberObject,A=h.isStringObject,s=h.isBooleanObject,E=h.isBigIntObject,b=h.isSymbolObject,F=h.isFloat32Array,I=h.isFloat64Array;function N(Be){if(Be.length===0||Be.length>10)return!0;for(var Ae=0;Ae<Be.length;Ae++){var Ie=Be.charCodeAt(Ae);if(Ie<48||Ie>57)return!0}return Be.length===10&&Be>=Math.pow(2,32)}function _(Be){return Object.keys(Be).filter(N).concat(a(Be).filter(Object.prototype.propertyIsEnumerable.bind(Be)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Be,Ae){if(Be===Ae)return 0;for(var Ie=Be.length,Me=Ae.length,Fe=0,Ee=Math.min(Ie,Me);Fe<Ee;++Fe)if(Be[Fe]!==Ae[Fe]){Ie=Be[Fe],Me=Ae[Fe];break}return Ie<Me?-1:Me<Ie?1:0}var B=!0,z=!1,U=0,Z=1,J=2,re=3;function ne(Be,Ae){return v?Be.source===Ae.source&&Be.flags===Ae.flags:RegExp.prototype.toString.call(Be)===RegExp.prototype.toString.call(Ae)}function ue(Be,Ae){if(Be.byteLength!==Ae.byteLength)return!1;for(var Ie=0;Ie<Be.byteLength;Ie++)if(Be[Ie]!==Ae[Ie])return!1;return!0}function te(Be,Ae){return Be.byteLength!==Ae.byteLength?!1:O(new Uint8Array(Be.buffer,Be.byteOffset,Be.byteLength),new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength))===0}function Q(Be,Ae){return Be.byteLength===Ae.byteLength&&O(new Uint8Array(Be),new Uint8Array(Ae))===0}function ie(Be,Ae){return M(Be)?M(Ae)&&t(Number.prototype.valueOf.call(Be),Number.prototype.valueOf.call(Ae)):A(Be)?A(Ae)&&String.prototype.valueOf.call(Be)===String.prototype.valueOf.call(Ae):s(Be)?s(Ae)&&Boolean.prototype.valueOf.call(Be)===Boolean.prototype.valueOf.call(Ae):E(Be)?E(Ae)&&BigInt.prototype.valueOf.call(Be)===BigInt.prototype.valueOf.call(Ae):b(Ae)&&Symbol.prototype.valueOf.call(Be)===Symbol.prototype.valueOf.call(Ae)}function Y(Be,Ae,Ie,Me){if(Be===Ae)return Be!==0?!0:Ie?t(Be,Ae):!0;if(Ie){if(S(Be)!=="object")return typeof Be=="number"&&n(Be)&&n(Ae);if(S(Ae)!=="object"||Be===null||Ae===null||Object.getPrototypeOf(Be)!==Object.getPrototypeOf(Ae))return!1}else{if(Be===null||S(Be)!=="object")return Ae===null||S(Ae)!=="object"?Be==Ae:!1;if(Ae===null||S(Ae)!=="object")return!1}var Fe=g(Be),Ee=g(Ae);if(Fe!==Ee)return!1;if(Array.isArray(Be)){if(Be.length!==Ae.length)return!1;var He=_(Be),rt=_(Ae);return He.length!==rt.length?!1:oe(Be,Ae,Ie,Me,Z,He)}if(Fe==="[object Object]"&&(!d(Be)&&d(Ae)||!w(Be)&&w(Ae)))return!1;if(o(Be)){if(!o(Ae)||Date.prototype.getTime.call(Be)!==Date.prototype.getTime.call(Ae))return!1}else if(x(Be)){if(!x(Ae)||!ne(Be,Ae))return!1}else if(C(Be)||Be instanceof Error){if(Be.message!==Ae.message||Be.name!==Ae.name)return!1}else if(c(Be)){if(!Ie&&(F(Be)||I(Be))){if(!ue(Be,Ae))return!1}else if(!te(Be,Ae))return!1;var ot=_(Be),$e=_(Ae);return ot.length!==$e.length?!1:oe(Be,Ae,Ie,Me,U,ot)}else{if(w(Be))return!w(Ae)||Be.size!==Ae.size?!1:oe(Be,Ae,Ie,Me,J);if(d(Be))return!d(Ae)||Be.size!==Ae.size?!1:oe(Be,Ae,Ie,Me,re);if(T(Be)){if(!Q(Be,Ae))return!1}else if(y(Be)&&!ie(Be,Ae))return!1}return oe(Be,Ae,Ie,Me,U)}function $(Be,Ae){return Ae.filter(function(Ie){return u(Be,Ie)})}function oe(Be,Ae,Ie,Me,Fe,Ee){if(arguments.length===5){Ee=Object.keys(Be);var He=Object.keys(Ae);if(Ee.length!==He.length)return!1}for(var rt=0;rt<Ee.length;rt++)if(!l(Ae,Ee[rt]))return!1;if(Ie&&arguments.length===5){var ot=a(Be);if(ot.length!==0){var $e=0;for(rt=0;rt<ot.length;rt++){var qe=ot[rt];if(u(Be,qe)){if(!u(Ae,qe))return!1;Ee.push(qe),$e++}else if(u(Ae,qe))return!1}var ht=a(Ae);if(ot.length!==ht.length&&$(Ae,ht).length!==$e)return!1}else{var vt=a(Ae);if(vt.length!==0&&$(Ae,vt).length!==0)return!1}}if(Ee.length===0&&(Fe===U||Fe===Z&&Be.length===0||Be.size===0))return!0;if(Me===void 0)Me={val1:new Map,val2:new Map,position:0};else{var pt=Me.val1.get(Be);if(pt!==void 0){var wt=Me.val2.get(Ae);if(wt!==void 0)return pt===wt}Me.position++}Me.val1.set(Be,Me.position),Me.val2.set(Ae,Me.position);var Mt=be(Be,Ae,Ie,Ee,Me,Fe);return Me.val1.delete(Be),Me.val2.delete(Ae),Mt}function j(Be,Ae,Ie,Me){for(var Fe=p(Be),Ee=0;Ee<Fe.length;Ee++){var He=Fe[Ee];if(Y(Ae,He,Ie,Me))return Be.delete(He),!0}return!1}function X(Be){switch(S(Be)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Be=+Be;case"number":if(n(Be))return!1}return!0}function se(Be,Ae,Ie){var Me=X(Ie);return Me??(Ae.has(Me)&&!Be.has(Me))}function q(Be,Ae,Ie,Me,Fe){var Ee=X(Ie);if(Ee!=null)return Ee;var He=Ae.get(Ee);return He===void 0&&!Ae.has(Ee)||!Y(Me,He,!1,Fe)?!1:!Be.has(Ee)&&Y(Me,He,!1,Fe)}function ce(Be,Ae,Ie,Me){for(var Fe=null,Ee=p(Be),He=0;He<Ee.length;He++){var rt=Ee[He];if(S(rt)==="object"&&rt!==null)Fe===null&&(Fe=new Set),Fe.add(rt);else if(!Ae.has(rt)){if(Ie||!se(Be,Ae,rt))return!1;Fe===null&&(Fe=new Set),Fe.add(rt)}}if(Fe!==null){for(var ot=p(Ae),$e=0;$e<ot.length;$e++){var qe=ot[$e];if(S(qe)==="object"&&qe!==null){if(!j(Fe,qe,Ie,Me))return!1}else if(!Ie&&!Be.has(qe)&&!j(Fe,qe,Ie,Me))return!1}return Fe.size===0}return!0}function ye(Be,Ae,Ie,Me,Fe,Ee){for(var He=p(Be),rt=0;rt<He.length;rt++){var ot=He[rt];if(Y(Ie,ot,Fe,Ee)&&Y(Me,Ae.get(ot),Fe,Ee))return Be.delete(ot),!0}return!1}function we(Be,Ae,Ie,Me){for(var Fe=null,Ee=r(Be),He=0;He<Ee.length;He++){var rt=m(Ee[He],2),ot=rt[0],$e=rt[1];if(S(ot)==="object"&&ot!==null)Fe===null&&(Fe=new Set),Fe.add(ot);else{var qe=Ae.get(ot);if(qe===void 0&&!Ae.has(ot)||!Y($e,qe,Ie,Me)){if(Ie||!q(Be,Ae,ot,$e,Me))return!1;Fe===null&&(Fe=new Set),Fe.add(ot)}}}if(Fe!==null){for(var ht=r(Ae),vt=0;vt<ht.length;vt++){var pt=m(ht[vt],2),ot=pt[0],wt=pt[1];if(S(ot)==="object"&&ot!==null){if(!ye(Fe,Be,ot,wt,Ie,Me))return!1}else if(!Ie&&(!Be.has(ot)||!Y(Be.get(ot),wt,!1,Me))&&!ye(Fe,Be,ot,wt,!1,Me))return!1}return Fe.size===0}return!0}function be(Be,Ae,Ie,Me,Fe,Ee){var He=0;if(Ee===J){if(!ce(Be,Ae,Ie,Fe))return!1}else if(Ee===re){if(!we(Be,Ae,Ie,Fe))return!1}else if(Ee===Z)for(;He<Be.length;He++)if(l(Be,He)){if(!l(Ae,He)||!Y(Be[He],Ae[He],Ie,Fe))return!1}else{if(l(Ae,He))return!1;for(var rt=Object.keys(Be);He<rt.length;He++){var ot=rt[He];if(!l(Ae,ot)||!Y(Be[ot],Ae[ot],Ie,Fe))return!1}return rt.length===Object.keys(Ae).length}for(He=0;He<Me.length;He++){var $e=Me[He];if(!Y(Be[$e],Ae[$e],Ie,Fe))return!1}return!0}function De(Be,Ae){return Y(Be,Ae,z)}function ke(Be,Ae){return Y(Be,Ae,B)}G.exports={isDeepEqual:De,isDeepStrictEqual:ke}},83160:function(G,V,e){e.r(V),e.d(V,{decode:function(){return S},encode:function(){return L}});for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<m.length;i++)P[m.charCodeAt(i)]=i;var L=function(v){var p=new Uint8Array(v),r,t=p.length,a="";for(r=0;r<t;r+=3)a+=m[p[r]>>2],a+=m[(p[r]&3)<<4|p[r+1]>>4],a+=m[(p[r+1]&15)<<2|p[r+2]>>6],a+=m[p[r+2]&63];return t%3===2?a=a.substring(0,a.length-1)+"=":t%3===1&&(a=a.substring(0,a.length-2)+"=="),a},S=function(v){var p=v.length*.75,r=v.length,t,a=0,n,f,l,u;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),h=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],f=P[v.charCodeAt(t+1)],l=P[v.charCodeAt(t+2)],u=P[v.charCodeAt(t+3)],h[a++]=n<<2|f>>4,h[a++]=(f&15)<<4|l>>2,h[a++]=(l&3)<<6|u&63;return g}},59968:function(G,V){V.byteLength=p,V.toByteArray=t,V.fromByteArray=f;for(var e=[],m=[],P=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,S=i.length;L<S;++L)e[L]=i[L],m[i.charCodeAt(L)]=L;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63;function v(l){var u=l.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=l.indexOf("=");g===-1&&(g=u);var h=g===u?0:4-g%4;return[g,h]}function p(l){var u=v(l),g=u[0],h=u[1];return(g+h)*3/4-h}function r(l,u,g){return(u+g)*3/4-g}function t(l){var u,g=v(l),h=g[0],T=g[1],c=new P(r(l,h,T)),o=0,d=T>0?h-4:h,x;for(x=0;x<d;x+=4)u=m[l.charCodeAt(x)]<<18|m[l.charCodeAt(x+1)]<<12|m[l.charCodeAt(x+2)]<<6|m[l.charCodeAt(x+3)],c[o++]=u>>16&255,c[o++]=u>>8&255,c[o++]=u&255;return T===2&&(u=m[l.charCodeAt(x)]<<2|m[l.charCodeAt(x+1)]>>4,c[o++]=u&255),T===1&&(u=m[l.charCodeAt(x)]<<10|m[l.charCodeAt(x+1)]<<4|m[l.charCodeAt(x+2)]>>2,c[o++]=u>>8&255,c[o++]=u&255),c}function a(l){return e[l>>18&63]+e[l>>12&63]+e[l>>6&63]+e[l&63]}function n(l,u,g){for(var h,T=[],c=u;c<g;c+=3)h=(l[c]<<16&16711680)+(l[c+1]<<8&65280)+(l[c+2]&255),T.push(a(h));return T.join("")}function f(l){for(var u,g=l.length,h=g%3,T=[],c=16383,o=0,d=g-h;o<d;o+=c)T.push(n(l,o,o+c>d?d:o+c));return h===1?(u=l[g-1],T.push(e[u>>2]+e[u<<4&63]+"==")):h===2&&(u=(l[g-2]<<8)+l[g-1],T.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),T.join("")}},64928:function(G){function V(S,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],l=p!==void 0?p(f,v):f-v;l>=0?(a=n,t=n-1):r=n+1}return a}function e(S,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],l=p!==void 0?p(f,v):f-v;l>0?(a=n,t=n-1):r=n+1}return a}function m(S,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],l=p!==void 0?p(f,v):f-v;l<0?(a=n,r=n+1):t=n-1}return a}function P(S,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],l=p!==void 0?p(f,v):f-v;l<=0?(a=n,r=n+1):t=n-1}return a}function i(S,v,p,r,t){for(;r<=t;){var a=r+t>>>1,n=S[a],f=p!==void 0?p(n,v):n-v;if(f===0)return a;f<=0?r=a+1:t=a-1}return-1}function L(S,v,p,r,t,a){return typeof p=="function"?a(S,v,p,r===void 0?0:r|0,t===void 0?S.length-1:t|0):a(S,v,void 0,p===void 0?0:p|0,r===void 0?S.length-1:r|0)}G.exports={ge:function(S,v,p,r,t){return L(S,v,p,r,t,V)},gt:function(S,v,p,r,t){return L(S,v,p,r,t,e)},lt:function(S,v,p,r,t){return L(S,v,p,r,t,m)},le:function(S,v,p,r,t){return L(S,v,p,r,t,P)},eq:function(S,v,p,r,t){return L(S,v,p,r,t,i)}}},308:function(G,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(i){return(i>0)-(i<0)},V.abs=function(i){var L=i>>e-1;return(i^L)-L},V.min=function(i,L){return L^(i^L)&-(i<L)},V.max=function(i,L){return i^(i^L)&-(i<L)},V.isPow2=function(i){return!(i&i-1)&&!!i},V.log2=function(i){var L,S;return L=(i>65535)<<4,i>>>=L,S=(i>255)<<3,i>>>=S,L|=S,S=(i>15)<<2,i>>>=S,L|=S,S=(i>3)<<1,i>>>=S,L|=S,L|i>>1},V.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},V.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function m(i){var L=32;return i&=-i,i&&L--,i&65535&&(L-=16),i&16711935&&(L-=8),i&252645135&&(L-=4),i&858993459&&(L-=2),i&1431655765&&(L-=1),L}V.countTrailingZeros=m,V.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},V.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},V.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var P=new Array(256);(function(i){for(var L=0;L<256;++L){var S=L,v=L,p=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--p;i[L]=v<<p&255}})(P),V.reverse=function(i){return P[i&255]<<24|P[i>>>8&255]<<16|P[i>>>16&255]<<8|P[i>>>24&255]},V.interleave2=function(i,L){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,i|L<<1},V.deinterleave2=function(i,L){return i=i>>>L&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},V.interleave3=function(i,L,S){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,i|=L<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,i|S<<2},V.deinterleave3=function(i,L){return i=i>>>L&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},V.nextCombination=function(i){var L=i|i-1;return L+1|(~L&-~L)-1>>>m(i)+1}},29620:function(G,V,e){var m=e(32420);G.exports=i;var P=1e20;function i(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,a=p.channel||0,n,f,l,u,g,h,T,c,o,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,f=p.height,u=v,p.stride?h=p.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),n=c.width,f=c.height,o=T.getImageData(0,0,n,f),u=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,n=c.width,f=c.height,o=T.getImageData(0,0,n,f),u=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,f=v.height,u=o.data,h=4);if(l=Math.max(n,f),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(g=u,u=Array(n*f),d=0,x=g.length;d<x;d++)u[d]=g[d*h+a]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*f),C=Array(n*f),y=Array(l),M=Array(l),A=Array(l+1),s=Array(l);for(d=0,x=n*f;d<x;d++){var E=u[d];w[d]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(w,n,f,y,M,s,A),L(C,n,f,y,M,s,A);var b=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(d=0,x=n*f;d<x;d++)b[d]=m(1-((w[d]-C[d])/t+r),0,1);return b}function L(v,p,r,t,a,n,f){for(var l=0;l<p;l++){for(var u=0;u<r;u++)t[u]=v[u*p+l];for(S(t,a,n,f,r),u=0;u<r;u++)v[u*p+l]=a[u]}for(u=0;u<r;u++){for(l=0;l<p;l++)t[l]=v[u*p+l];for(S(t,a,n,f,p),l=0;l<p;l++)v[u*p+l]=Math.sqrt(a[l])}}function S(v,p,r,t,a){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,f=0;n<a;n++){for(var l=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);l<=t[f];)f--,l=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=l,t[f+1]=+P}for(n=0,f=0;n<a;n++){for(;t[f+1]<n;)f++;p[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(G,V,e){var m=e(53664),P=e(57916),i=P(m("String.prototype.indexOf"));G.exports=function(S,v){var p=m(S,!!v);return typeof p=="function"&&i(S,".prototype.")>-1?P(p):p}},57916:function(G,V,e){var m=e(8844),P=e(53664),i=e(14500),L=P("%TypeError%"),S=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||m.call(v,S),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(f){if(typeof f!="function")throw new L("a function is required");var l=p(m,v,arguments);return i(l,1+t(0,f.length-(arguments.length-1)),!0)};var a=function(){return p(m,S,arguments)};r?r(G.exports,"apply",{value:a}):G.exports.apply=a},32420:function(G){G.exports=V;function V(e,m,P){return m<P?e<m?m:e>P?P:e:e<P?P:e>m?m:e}},3808:function(G,V,e){var m=e(32420);G.exports=P,G.exports.to=P,G.exports.from=i;function P(L,S){S==null&&(S=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=S?1:255),S&&(v*=255,p*=255,r*=255,t*=255),v=m(v,0,255)&255,p=m(p,0,255)&255,r=m(r,0,255)&255,t=m(t,0,255)&255;var a=v*16777216+(p<<16)+(r<<8)+t;return a}function i(L,S){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return S===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,V,e){var m=e(96824),P=e(32420),i=e(72512);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=i(p),t=new r(4),a=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=m(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,a&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(a?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(G,V,e){var m=e(95532),P=e(53576),i=e(32420);G.exports=function(S){var v,p=m(S);return p.space?(v=Array(3),v[0]=i(p.values[0],0,255),v[1]=i(p.values[1],0,255),v[2]=i(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(i(p.alpha,0,1)),v):[]}},95532:function(G,V,e){var m=e(17592);G.exports=i;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(L){var S,v=[],p=1,r;if(typeof L=="string")if(L=L.toLowerCase(),m[L])v=m[L].slice(),r="rgb";else if(L==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),a=t.length,n=a<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],a===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],a===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var f=S[1],l=f==="rgb",t=f.replace(/a$/,"");r=t;var a=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===a?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),f===t&&v.push(1),p=l||v[a]===void 0?1:v[a],v=v.slice(0,a)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",p=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),p=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(p/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:p}}},53576:function(G,V,e){var m=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var i=P[0]/360,L=P[1]/100,S=P[2]/100,v,p,r,t,a;if(L===0)return a=S*255,[a,a,a];S<.5?p=S*(1+L):p=S+L-S*L,v=2*S-p,t=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?a=v+(p-v)*6*r:2*r<1?a=p:3*r<2?a=v+(p-v)*(.6666666666666666-r)*6:a=v,t[n]=a*255;return t}},m.hsl=function(P){var i=P[0]/255,L=P[1]/255,S=P[2]/255,v=Math.min(i,L,S),p=Math.max(i,L,S),r=p-v,t,a,n;return p===v?t=0:i===p?t=(L-S)/r:L===p?t=2+(S-i)/r:S===p&&(t=4+(i-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?a=0:n<=.5?a=r/(p+v):a=r/(2-p-v),[t,a*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,V,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,V,e){var m=e(30584);G.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||m.indexOf(i)!==-1}}},46416:function(G,V,e){var m=e(92384),P=e(68194),i=e(3748),L=e(2904),S=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;G.exports=a;var t=a.cache={};function a(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(f)!==-1)return t[f]={system:f};for(var l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=p(f,/\s+/),g;g=u.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(T){l[T]=g}),t[f]=l;if(S.indexOf(g)!==-1){l.style=g;continue}if(g==="normal"||g==="small-caps"){l.variant=g;continue}if(v.indexOf(g)!==-1){l.stretch=g;continue}if(L.indexOf(g)!==-1){l.weight=g;continue}if(r(g)){var h=p(g,"/");if(l.size=h[0],h[1]!=null?l.lineHeight=n(h[1]):u[0]==="/"&&(u.shift(),l.lineHeight=n(u.shift())),!u.length)throw new Error("Missing required font-family.");return l.family=p(u.join(" "),/\s*,\s*/).map(m),t[f]=l}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(f){var l=parseFloat(f);return l.toString()===f?l:f}},49395:function(G,V,e){var m=e(55616),P=e(8744).isSize,i=f(e(68194)),L=f(e(3748)),S=f(e(2904)),v=f(e(47916)),p=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(u){if(u=m(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&n(u.system,L),u.system;if(n(u.style,v),n(u.variant,r),n(u.weight,S),n(u.stretch,p),u.size==null&&(u.size=a.size),typeof u.size=="number"&&(u.size+="px"),!P)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=a.family),Array.isArray(u.family)&&(u.family.length||(u.family=[a.family]),u.family=u.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var g=[];return g.push(u.style),u.variant!==u.style&&g.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&g.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&g.push(u.stretch),g.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),g.push(u.family),g.filter(Boolean).join(" ")};function n(l,u){if(l&&!u[l]&&!i[l])throw Error("Unknown keyword `"+l+"`");return l}function f(l){for(var u={},g=0;g<l.length;g++)u[l[g]]=1;return u}},27940:function(G,V,e){var m=e(81680),P=e(18496),i=e(87396),L=e(95920),S=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,a;a=function(n,f,l){var u=P(f)&&i(f.value),g;return g=L(f),delete g.writable,delete g.value,g.get=function(){return!l.overwriteDefinition&&t.call(this,n)?u:(f.value=p.call(u,l.resolveContext?l.resolveContext(this):this),r(this,n,f),this[n])},g},G.exports=function(n){var f=S(arguments[1]);return m(f.resolveContext)&&i(f.resolveContext),v(n,function(l,u){return a(u,l,f)})}},21092:function(G,V,e){var m=e(81680),P=e(85488),i=e(38452),L=e(50868),S=e(71056),v=G.exports=function(p,r){var t,a,n,f,l;return arguments.length<2||typeof p!="string"?(f=r,r=p,p=null):f=arguments[2],m(p)?(t=S.call(p,"c"),a=S.call(p,"e"),n=S.call(p,"w")):(t=n=!0,a=!1),l={value:r,configurable:t,enumerable:a,writable:n},f?i(L(f),l):l};v.gs=function(p,r,t){var a,n,f,l;return typeof p!="string"?(f=t,t=r,r=p,p=null):f=arguments[3],m(r)?P(r)?m(t)?P(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,m(p)?(a=S.call(p,"c"),n=S.call(p,"e")):(a=!0,n=!1),l={get:r,set:t,configurable:a,enumerable:n},f?i(L(f),l):l}},84706:function(G,V,e){e.d(V,{XE:function(){return m},kv:function(){return L},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return a}});function m(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function P(n){return n.length===1&&(n=i(n)),{left:function(f,l,u,g){for(u==null&&(u=0),g==null&&(g=f.length);u<g;){var h=u+g>>>1;n(f[h],l)<0?u=h+1:g=h}return u},right:function(f,l,u,g){for(u==null&&(u=0),g==null&&(g=f.length);u<g;){var h=u+g>>>1;n(f[h],l)>0?g=h:u=h+1}return u}}}function i(n){return function(f,l){return m(n(f),l)}}P(m);function L(n,f){var l=n.length,u=-1,g,h;if(f==null){for(;++u<l;)if((g=n[u])!=null&&g>=g)for(h=g;++u<l;)(g=n[u])!=null&&g>h&&(h=g)}else for(;++u<l;)if((g=f(n[u],u,n))!=null&&g>=g)for(h=g;++u<l;)(g=f(n[u],u,n))!=null&&g>h&&(h=g);return h}function S(n){return n===null?NaN:+n}function v(n,f){var l=n.length,u=l,g=-1,h,T=0;if(f==null)for(;++g<l;)isNaN(h=S(n[g]))?--u:T+=h;else for(;++g<l;)isNaN(h=S(f(n[g],g,n)))?--u:T+=h;if(u)return T/u}function p(n){for(var f=n.length,l,u=-1,g=0,h,T;++u<f;)g+=n[u].length;for(h=new Array(g);--f>=0;)for(T=n[f],l=T.length;--l>=0;)h[--g]=T[l];return h}function r(n,f){var l=n.length,u=-1,g,h;if(f==null){for(;++u<l;)if((g=n[u])!=null&&g>=g)for(h=g;++u<l;)(g=n[u])!=null&&h>g&&(h=g)}else for(;++u<l;)if((g=f(n[u],u,n))!=null&&g>=g)for(h=g;++u<l;)(g=f(n[u],u,n))!=null&&h>g&&(h=g);return h}function t(n,f,l){n=+n,f=+f,l=(g=arguments.length)<2?(f=n,n=0,1):g<3?1:+l;for(var u=-1,g=Math.max(0,Math.ceil((f-n)/l))|0,h=new Array(g);++u<g;)h[u]=n+u*l;return h}function a(n,f){var l=n.length,u=-1,g,h=0;if(f==null)for(;++u<l;)(g=+n[u])&&(h+=g);else for(;++u<l;)(g=+f(n[u],u,n))&&(h+=g);return h}},34712:function(G,V,e){e.d(V,{kH:function(){return L},UJ:function(){return S}});var m="$";function P(){}P.prototype=i.prototype={constructor:P,has:function(f){return m+f in this},get:function(f){return this[m+f]},set:function(f,l){return this[m+f]=l,this},remove:function(f){var l=m+f;return l in this&&delete this[l]},clear:function(){for(var f in this)f[0]===m&&delete this[f]},keys:function(){var f=[];for(var l in this)l[0]===m&&f.push(l.slice(1));return f},values:function(){var f=[];for(var l in this)l[0]===m&&f.push(this[l]);return f},entries:function(){var f=[];for(var l in this)l[0]===m&&f.push({key:l.slice(1),value:this[l]});return f},size:function(){var f=0;for(var l in this)l[0]===m&&++f;return f},empty:function(){for(var f in this)if(f[0]===m)return!1;return!0},each:function(f){for(var l in this)l[0]===m&&f(this[l],l.slice(1),this)}};function i(f,l){var u=new P;if(f instanceof P)f.each(function(o,d){u.set(d,o)});else if(Array.isArray(f)){var g=-1,h=f.length,T;if(l==null)for(;++g<h;)u.set(g,f[g]);else for(;++g<h;)u.set(l(T=f[g],g,f),T)}else if(f)for(var c in f)u.set(c,f[c]);return u}var L=i;function S(){var f=[],l=[],u,g,h;function T(o,d,x,w){if(d>=f.length)return u!=null&&o.sort(u),g!=null?g(o):o;for(var C=-1,y=o.length,M=f[d++],A,s,E=L(),b,F=x();++C<y;)(b=E.get(A=M(s=o[C])+""))?b.push(s):E.set(A,[s]);return E.each(function(I,N){w(F,N,T(I,d,x,w))}),F}function c(o,d){if(++d>f.length)return o;var x,w=l[d-1];return g!=null&&d>=f.length?x=o.entries():(x=[],o.each(function(C,y){x.push({key:y,values:c(C,d)})})),w!=null?x.sort(function(C,y){return w(C.key,y.key)}):x}return h={object:function(o){return T(o,0,v,p)},map:function(o){return T(o,0,r,t)},entries:function(o){return c(T(o,0,r,t),0)},key:function(o){return f.push(o),h},sortKeys:function(o){return l[f.length-1]=o,h},sortValues:function(o){return u=o,h},rollup:function(o){return g=o,h}}}function v(){return{}}function p(f,l,u){f[l]=u}function r(){return L()}function t(f,l,u){f.set(l,u)}function a(){}var n=L.prototype;a.prototype={constructor:a,has:n.has,add:function(f){return f+="",this[m+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,V,e){e.r(V),e.d(V,{forceCenter:function(){return m},forceCollide:function(){return E},forceLink:function(){return N},forceManyBody:function(){return He},forceRadial:function(){return rt},forceSimulation:function(){return Ee},forceX:function(){return ot},forceY:function(){return $e}});function m(qe,ht){var vt;qe==null&&(qe=0),ht==null&&(ht=0);function pt(){var wt,Mt=vt.length,nt,_e=0,Ge=0;for(wt=0;wt<Mt;++wt)nt=vt[wt],_e+=nt.x,Ge+=nt.y;for(_e=_e/Mt-qe,Ge=Ge/Mt-ht,wt=0;wt<Mt;++wt)nt=vt[wt],nt.x-=_e,nt.y-=Ge}return pt.initialize=function(wt){vt=wt},pt.x=function(wt){return arguments.length?(qe=+wt,pt):qe},pt.y=function(wt){return arguments.length?(ht=+wt,pt):ht},pt}function P(qe){return function(){return qe}}function i(){return(Math.random()-.5)*1e-6}function L(qe){var ht=+this._x.call(null,qe),vt=+this._y.call(null,qe);return S(this.cover(ht,vt),ht,vt,qe)}function S(qe,ht,vt,pt){if(isNaN(ht)||isNaN(vt))return qe;var wt,Mt=qe._root,nt={data:pt},_e=qe._x0,Ge=qe._y0,je=qe._x1,We=qe._y1,Pe,Re,Xe,Le,ve,xe,Ne,et;if(!Mt)return qe._root=nt,qe;for(;Mt.length;)if((ve=ht>=(Pe=(_e+je)/2))?_e=Pe:je=Pe,(xe=vt>=(Re=(Ge+We)/2))?Ge=Re:We=Re,wt=Mt,!(Mt=Mt[Ne=xe<<1|ve]))return wt[Ne]=nt,qe;if(Xe=+qe._x.call(null,Mt.data),Le=+qe._y.call(null,Mt.data),ht===Xe&&vt===Le)return nt.next=Mt,wt?wt[Ne]=nt:qe._root=nt,qe;do wt=wt?wt[Ne]=new Array(4):qe._root=new Array(4),(ve=ht>=(Pe=(_e+je)/2))?_e=Pe:je=Pe,(xe=vt>=(Re=(Ge+We)/2))?Ge=Re:We=Re;while((Ne=xe<<1|ve)===(et=(Le>=Re)<<1|Xe>=Pe));return wt[et]=Mt,wt[Ne]=nt,qe}function v(qe){var ht,vt,pt=qe.length,wt,Mt,nt=new Array(pt),_e=new Array(pt),Ge=1/0,je=1/0,We=-1/0,Pe=-1/0;for(vt=0;vt<pt;++vt)isNaN(wt=+this._x.call(null,ht=qe[vt]))||isNaN(Mt=+this._y.call(null,ht))||(nt[vt]=wt,_e[vt]=Mt,wt<Ge&&(Ge=wt),wt>We&&(We=wt),Mt<je&&(je=Mt),Mt>Pe&&(Pe=Mt));if(Ge>We||je>Pe)return this;for(this.cover(Ge,je).cover(We,Pe),vt=0;vt<pt;++vt)S(this,nt[vt],_e[vt],qe[vt]);return this}function p(qe,ht){if(isNaN(qe=+qe)||isNaN(ht=+ht))return this;var vt=this._x0,pt=this._y0,wt=this._x1,Mt=this._y1;if(isNaN(vt))wt=(vt=Math.floor(qe))+1,Mt=(pt=Math.floor(ht))+1;else{for(var nt=wt-vt,_e=this._root,Ge,je;vt>qe||qe>=wt||pt>ht||ht>=Mt;)switch(je=(ht<pt)<<1|qe<vt,Ge=new Array(4),Ge[je]=_e,_e=Ge,nt*=2,je){case 0:wt=vt+nt,Mt=pt+nt;break;case 1:vt=wt-nt,Mt=pt+nt;break;case 2:wt=vt+nt,pt=Mt-nt;break;case 3:vt=wt-nt,pt=Mt-nt;break}this._root&&this._root.length&&(this._root=_e)}return this._x0=vt,this._y0=pt,this._x1=wt,this._y1=Mt,this}function r(){var qe=[];return this.visit(function(ht){if(!ht.length)do qe.push(ht.data);while(ht=ht.next)}),qe}function t(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(qe,ht,vt,pt,wt){this.node=qe,this.x0=ht,this.y0=vt,this.x1=pt,this.y1=wt}function n(qe,ht,vt){var pt,wt=this._x0,Mt=this._y0,nt,_e,Ge,je,We=this._x1,Pe=this._y1,Re=[],Xe=this._root,Le,ve;for(Xe&&Re.push(new a(Xe,wt,Mt,We,Pe)),vt==null?vt=1/0:(wt=qe-vt,Mt=ht-vt,We=qe+vt,Pe=ht+vt,vt*=vt);Le=Re.pop();)if(!(!(Xe=Le.node)||(nt=Le.x0)>We||(_e=Le.y0)>Pe||(Ge=Le.x1)<wt||(je=Le.y1)<Mt))if(Xe.length){var xe=(nt+Ge)/2,Ne=(_e+je)/2;Re.push(new a(Xe[3],xe,Ne,Ge,je),new a(Xe[2],nt,Ne,xe,je),new a(Xe[1],xe,_e,Ge,Ne),new a(Xe[0],nt,_e,xe,Ne)),(ve=(ht>=Ne)<<1|qe>=xe)&&(Le=Re[Re.length-1],Re[Re.length-1]=Re[Re.length-1-ve],Re[Re.length-1-ve]=Le)}else{var et=qe-+this._x.call(null,Xe.data),st=ht-+this._y.call(null,Xe.data),lt=et*et+st*st;if(lt<vt){var Gt=Math.sqrt(vt=lt);wt=qe-Gt,Mt=ht-Gt,We=qe+Gt,Pe=ht+Gt,pt=Xe.data}}return pt}function f(qe){if(isNaN(We=+this._x.call(null,qe))||isNaN(Pe=+this._y.call(null,qe)))return this;var ht,vt=this._root,pt,wt,Mt,nt=this._x0,_e=this._y0,Ge=this._x1,je=this._y1,We,Pe,Re,Xe,Le,ve,xe,Ne;if(!vt)return this;if(vt.length)for(;;){if((Le=We>=(Re=(nt+Ge)/2))?nt=Re:Ge=Re,(ve=Pe>=(Xe=(_e+je)/2))?_e=Xe:je=Xe,ht=vt,!(vt=vt[xe=ve<<1|Le]))return this;if(!vt.length)break;(ht[xe+1&3]||ht[xe+2&3]||ht[xe+3&3])&&(pt=ht,Ne=xe)}for(;vt.data!==qe;)if(wt=vt,!(vt=vt.next))return this;return(Mt=vt.next)&&delete vt.next,wt?(Mt?wt.next=Mt:delete wt.next,this):ht?(Mt?ht[xe]=Mt:delete ht[xe],(vt=ht[0]||ht[1]||ht[2]||ht[3])&&vt===(ht[3]||ht[2]||ht[1]||ht[0])&&!vt.length&&(pt?pt[Ne]=vt:this._root=vt),this):(this._root=Mt,this)}function l(qe){for(var ht=0,vt=qe.length;ht<vt;++ht)this.remove(qe[ht]);return this}function u(){return this._root}function g(){var qe=0;return this.visit(function(ht){if(!ht.length)do++qe;while(ht=ht.next)}),qe}function h(qe){var ht=[],vt,pt=this._root,wt,Mt,nt,_e,Ge;for(pt&&ht.push(new a(pt,this._x0,this._y0,this._x1,this._y1));vt=ht.pop();)if(!qe(pt=vt.node,Mt=vt.x0,nt=vt.y0,_e=vt.x1,Ge=vt.y1)&&pt.length){var je=(Mt+_e)/2,We=(nt+Ge)/2;(wt=pt[3])&&ht.push(new a(wt,je,We,_e,Ge)),(wt=pt[2])&&ht.push(new a(wt,Mt,We,je,Ge)),(wt=pt[1])&&ht.push(new a(wt,je,nt,_e,We)),(wt=pt[0])&&ht.push(new a(wt,Mt,nt,je,We))}return this}function T(qe){var ht=[],vt=[],pt;for(this._root&&ht.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));pt=ht.pop();){var wt=pt.node;if(wt.length){var Mt,nt=pt.x0,_e=pt.y0,Ge=pt.x1,je=pt.y1,We=(nt+Ge)/2,Pe=(_e+je)/2;(Mt=wt[0])&&ht.push(new a(Mt,nt,_e,We,Pe)),(Mt=wt[1])&&ht.push(new a(Mt,We,_e,Ge,Pe)),(Mt=wt[2])&&ht.push(new a(Mt,nt,Pe,We,je)),(Mt=wt[3])&&ht.push(new a(Mt,We,Pe,Ge,je))}vt.push(pt)}for(;pt=vt.pop();)qe(pt.node,pt.x0,pt.y0,pt.x1,pt.y1);return this}function c(qe){return qe[0]}function o(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function x(qe){return arguments.length?(this._y=qe,this):this._y}function w(qe,ht,vt){var pt=new C(ht??c,vt??d,NaN,NaN,NaN,NaN);return qe==null?pt:pt.addAll(qe)}function C(qe,ht,vt,pt,wt,Mt){this._x=qe,this._y=ht,this._x0=vt,this._y0=pt,this._x1=wt,this._y1=Mt,this._root=void 0}function y(qe){for(var ht={data:qe.data},vt=ht;qe=qe.next;)vt=vt.next={data:qe.data};return ht}var M=w.prototype=C.prototype;M.copy=function(){var qe=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ht=this._root,vt,pt;if(!ht)return qe;if(!ht.length)return qe._root=y(ht),qe;for(vt=[{source:ht,target:qe._root=new Array(4)}];ht=vt.pop();)for(var wt=0;wt<4;++wt)(pt=ht.source[wt])&&(pt.length?vt.push({source:pt,target:ht.target[wt]=new Array(4)}):ht.target[wt]=y(pt));return qe},M.add=L,M.addAll=v,M.cover=p,M.data=r,M.extent=t,M.find=n,M.remove=f,M.removeAll=l,M.root=u,M.size=g,M.visit=h,M.visitAfter=T,M.x=o,M.y=x;function A(qe){return qe.x+qe.vx}function s(qe){return qe.y+qe.vy}function E(qe){var ht,vt,pt=1,wt=1;typeof qe!="function"&&(qe=P(qe==null?1:+qe));function Mt(){for(var Ge,je=ht.length,We,Pe,Re,Xe,Le,ve,xe=0;xe<wt;++xe)for(We=w(ht,A,s).visitAfter(nt),Ge=0;Ge<je;++Ge)Pe=ht[Ge],Le=vt[Pe.index],ve=Le*Le,Re=Pe.x+Pe.vx,Xe=Pe.y+Pe.vy,We.visit(Ne);function Ne(et,st,lt,Gt,jt){var Tt=et.data,Dt=et.r,Xt=Le+Dt;if(Tt){if(Tt.index>Pe.index){var gr=Re-Tt.x-Tt.vx,gt=Xe-Tt.y-Tt.vy,Zt=gr*gr+gt*gt;Zt<Xt*Xt&&(gr===0&&(gr=i(),Zt+=gr*gr),gt===0&&(gt=i(),Zt+=gt*gt),Zt=(Xt-(Zt=Math.sqrt(Zt)))/Zt*pt,Pe.vx+=(gr*=Zt)*(Xt=(Dt*=Dt)/(ve+Dt)),Pe.vy+=(gt*=Zt)*Xt,Tt.vx-=gr*(Xt=1-Xt),Tt.vy-=gt*Xt)}return}return st>Re+Xt||Gt<Re-Xt||lt>Xe+Xt||jt<Xe-Xt}}function nt(Ge){if(Ge.data)return Ge.r=vt[Ge.data.index];for(var je=Ge.r=0;je<4;++je)Ge[je]&&Ge[je].r>Ge.r&&(Ge.r=Ge[je].r)}function _e(){if(ht){var Ge,je=ht.length,We;for(vt=new Array(je),Ge=0;Ge<je;++Ge)We=ht[Ge],vt[We.index]=+qe(We,Ge,ht)}}return Mt.initialize=function(Ge){ht=Ge,_e()},Mt.iterations=function(Ge){return arguments.length?(wt=+Ge,Mt):wt},Mt.strength=function(Ge){return arguments.length?(pt=+Ge,Mt):pt},Mt.radius=function(Ge){return arguments.length?(qe=typeof Ge=="function"?Ge:P(+Ge),_e(),Mt):qe},Mt}var b=e(34712);function F(qe){return qe.index}function I(qe,ht){var vt=qe.get(ht);if(!vt)throw new Error("missing: "+ht);return vt}function N(qe){var ht=F,vt=We,pt,wt=P(30),Mt,nt,_e,Ge,je=1;qe==null&&(qe=[]);function We(ve){return 1/Math.min(_e[ve.source.index],_e[ve.target.index])}function Pe(ve){for(var xe=0,Ne=qe.length;xe<je;++xe)for(var et=0,st,lt,Gt,jt,Tt,Dt,Xt;et<Ne;++et)st=qe[et],lt=st.source,Gt=st.target,jt=Gt.x+Gt.vx-lt.x-lt.vx||i(),Tt=Gt.y+Gt.vy-lt.y-lt.vy||i(),Dt=Math.sqrt(jt*jt+Tt*Tt),Dt=(Dt-Mt[et])/Dt*ve*pt[et],jt*=Dt,Tt*=Dt,Gt.vx-=jt*(Xt=Ge[et]),Gt.vy-=Tt*Xt,lt.vx+=jt*(Xt=1-Xt),lt.vy+=Tt*Xt}function Re(){if(nt){var ve,xe=nt.length,Ne=qe.length,et=(0,b.kH)(nt,ht),st;for(ve=0,_e=new Array(xe);ve<Ne;++ve)st=qe[ve],st.index=ve,typeof st.source!="object"&&(st.source=I(et,st.source)),typeof st.target!="object"&&(st.target=I(et,st.target)),_e[st.source.index]=(_e[st.source.index]||0)+1,_e[st.target.index]=(_e[st.target.index]||0)+1;for(ve=0,Ge=new Array(Ne);ve<Ne;++ve)st=qe[ve],Ge[ve]=_e[st.source.index]/(_e[st.source.index]+_e[st.target.index]);pt=new Array(Ne),Xe(),Mt=new Array(Ne),Le()}}function Xe(){if(nt)for(var ve=0,xe=qe.length;ve<xe;++ve)pt[ve]=+vt(qe[ve],ve,qe)}function Le(){if(nt)for(var ve=0,xe=qe.length;ve<xe;++ve)Mt[ve]=+wt(qe[ve],ve,qe)}return Pe.initialize=function(ve){nt=ve,Re()},Pe.links=function(ve){return arguments.length?(qe=ve,Re(),Pe):qe},Pe.id=function(ve){return arguments.length?(ht=ve,Pe):ht},Pe.iterations=function(ve){return arguments.length?(je=+ve,Pe):je},Pe.strength=function(ve){return arguments.length?(vt=typeof ve=="function"?ve:P(+ve),Xe(),Pe):vt},Pe.distance=function(ve){return arguments.length?(wt=typeof ve=="function"?ve:P(+ve),Le(),Pe):wt},Pe}var _={value:function(){}};function O(){for(var qe=0,ht=arguments.length,vt={},pt;qe<ht;++qe){if(!(pt=arguments[qe]+"")||pt in vt||/[\s.]/.test(pt))throw new Error("illegal type: "+pt);vt[pt]=[]}return new B(vt)}function B(qe){this._=qe}function z(qe,ht){return qe.trim().split(/^|\s+/).map(function(vt){var pt="",wt=vt.indexOf(".");if(wt>=0&&(pt=vt.slice(wt+1),vt=vt.slice(0,wt)),vt&&!ht.hasOwnProperty(vt))throw new Error("unknown type: "+vt);return{type:vt,name:pt}})}B.prototype=O.prototype={constructor:B,on:function(qe,ht){var vt=this._,pt=z(qe+"",vt),wt,Mt=-1,nt=pt.length;if(arguments.length<2){for(;++Mt<nt;)if((wt=(qe=pt[Mt]).type)&&(wt=U(vt[wt],qe.name)))return wt;return}if(ht!=null&&typeof ht!="function")throw new Error("invalid callback: "+ht);for(;++Mt<nt;)if(wt=(qe=pt[Mt]).type)vt[wt]=Z(vt[wt],qe.name,ht);else if(ht==null)for(wt in vt)vt[wt]=Z(vt[wt],qe.name,null);return this},copy:function(){var qe={},ht=this._;for(var vt in ht)qe[vt]=ht[vt].slice();return new B(qe)},call:function(qe,ht){if((wt=arguments.length-2)>0)for(var vt=new Array(wt),pt=0,wt,Mt;pt<wt;++pt)vt[pt]=arguments[pt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Mt=this._[qe],pt=0,wt=Mt.length;pt<wt;++pt)Mt[pt].value.apply(ht,vt)},apply:function(qe,ht,vt){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var pt=this._[qe],wt=0,Mt=pt.length;wt<Mt;++wt)pt[wt].value.apply(ht,vt)}};function U(qe,ht){for(var vt=0,pt=qe.length,wt;vt<pt;++vt)if((wt=qe[vt]).name===ht)return wt.value}function Z(qe,ht,vt){for(var pt=0,wt=qe.length;pt<wt;++pt)if(qe[pt].name===ht){qe[pt]=_,qe=qe.slice(0,pt).concat(qe.slice(pt+1));break}return vt!=null&&qe.push({name:ht,value:vt}),qe}var J=O,re=0,ne=0,ue=0,te=1e3,Q,ie,Y=0,$=0,oe=0,j=typeof performance=="object"&&performance.now?performance:Date,X=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function se(){return $||(X(q),$=j.now()+oe)}function q(){$=0}function ce(){this._call=this._time=this._next=null}ce.prototype=ye.prototype={constructor:ce,restart:function(qe,ht,vt){if(typeof qe!="function")throw new TypeError("callback is not a function");vt=(vt==null?se():+vt)+(ht==null?0:+ht),!this._next&&ie!==this&&(ie?ie._next=this:Q=this,ie=this),this._call=qe,this._time=vt,Be()},stop:function(){this._call&&(this._call=null,this._time=1/0,Be())}};function ye(qe,ht,vt){var pt=new ce;return pt.restart(qe,ht,vt),pt}function we(){se(),++re;for(var qe=Q,ht;qe;)(ht=$-qe._time)>=0&&qe._call.call(null,ht),qe=qe._next;--re}function be(){$=(Y=j.now())+oe,re=ne=0;try{we()}finally{re=0,ke(),$=0}}function De(){var qe=j.now(),ht=qe-Y;ht>te&&(oe-=ht,Y=qe)}function ke(){for(var qe,ht=Q,vt,pt=1/0;ht;)ht._call?(pt>ht._time&&(pt=ht._time),qe=ht,ht=ht._next):(vt=ht._next,ht._next=null,ht=qe?qe._next=vt:Q=vt);ie=qe,Be(pt)}function Be(qe){if(!re){ne&&(ne=clearTimeout(ne));var ht=qe-$;ht>24?(qe<1/0&&(ne=setTimeout(be,qe-j.now()-oe)),ue&&(ue=clearInterval(ue))):(ue||(Y=j.now(),ue=setInterval(De,te)),re=1,X(be))}}function Ae(qe){return qe.x}function Ie(qe){return qe.y}var Me=10,Fe=Math.PI*(3-Math.sqrt(5));function Ee(qe){var ht,vt=1,pt=.001,wt=1-Math.pow(pt,1/300),Mt=0,nt=.6,_e=(0,b.kH)(),Ge=ye(We),je=J("tick","end");qe==null&&(qe=[]);function We(){Pe(),je.call("tick",ht),vt<pt&&(Ge.stop(),je.call("end",ht))}function Pe(Le){var ve,xe=qe.length,Ne;Le===void 0&&(Le=1);for(var et=0;et<Le;++et)for(vt+=(Mt-vt)*wt,_e.each(function(st){st(vt)}),ve=0;ve<xe;++ve)Ne=qe[ve],Ne.fx==null?Ne.x+=Ne.vx*=nt:(Ne.x=Ne.fx,Ne.vx=0),Ne.fy==null?Ne.y+=Ne.vy*=nt:(Ne.y=Ne.fy,Ne.vy=0);return ht}function Re(){for(var Le=0,ve=qe.length,xe;Le<ve;++Le){if(xe=qe[Le],xe.index=Le,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var Ne=Me*Math.sqrt(Le),et=Le*Fe;xe.x=Ne*Math.cos(et),xe.y=Ne*Math.sin(et)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function Xe(Le){return Le.initialize&&Le.initialize(qe),Le}return Re(),ht={tick:Pe,restart:function(){return Ge.restart(We),ht},stop:function(){return Ge.stop(),ht},nodes:function(Le){return arguments.length?(qe=Le,Re(),_e.each(Xe),ht):qe},alpha:function(Le){return arguments.length?(vt=+Le,ht):vt},alphaMin:function(Le){return arguments.length?(pt=+Le,ht):pt},alphaDecay:function(Le){return arguments.length?(wt=+Le,ht):+wt},alphaTarget:function(Le){return arguments.length?(Mt=+Le,ht):Mt},velocityDecay:function(Le){return arguments.length?(nt=1-Le,ht):1-nt},force:function(Le,ve){return arguments.length>1?(ve==null?_e.remove(Le):_e.set(Le,Xe(ve)),ht):_e.get(Le)},find:function(Le,ve,xe){var Ne=0,et=qe.length,st,lt,Gt,jt,Tt;for(xe==null?xe=1/0:xe*=xe,Ne=0;Ne<et;++Ne)jt=qe[Ne],st=Le-jt.x,lt=ve-jt.y,Gt=st*st+lt*lt,Gt<xe&&(Tt=jt,xe=Gt);return Tt},on:function(Le,ve){return arguments.length>1?(je.on(Le,ve),ht):je.on(Le)}}}function He(){var qe,ht,vt,pt=P(-30),wt,Mt=1,nt=1/0,_e=.81;function Ge(Re){var Xe,Le=qe.length,ve=w(qe,Ae,Ie).visitAfter(We);for(vt=Re,Xe=0;Xe<Le;++Xe)ht=qe[Xe],ve.visit(Pe)}function je(){if(qe){var Re,Xe=qe.length,Le;for(wt=new Array(Xe),Re=0;Re<Xe;++Re)Le=qe[Re],wt[Le.index]=+pt(Le,Re,qe)}}function We(Re){var Xe=0,Le,ve,xe=0,Ne,et,st;if(Re.length){for(Ne=et=st=0;st<4;++st)(Le=Re[st])&&(ve=Math.abs(Le.value))&&(Xe+=Le.value,xe+=ve,Ne+=ve*Le.x,et+=ve*Le.y);Re.x=Ne/xe,Re.y=et/xe}else{Le=Re,Le.x=Le.data.x,Le.y=Le.data.y;do Xe+=wt[Le.data.index];while(Le=Le.next)}Re.value=Xe}function Pe(Re,Xe,Le,ve){if(!Re.value)return!0;var xe=Re.x-ht.x,Ne=Re.y-ht.y,et=ve-Xe,st=xe*xe+Ne*Ne;if(et*et/_e<st)return st<nt&&(xe===0&&(xe=i(),st+=xe*xe),Ne===0&&(Ne=i(),st+=Ne*Ne),st<Mt&&(st=Math.sqrt(Mt*st)),ht.vx+=xe*Re.value*vt/st,ht.vy+=Ne*Re.value*vt/st),!0;if(Re.length||st>=nt)return;(Re.data!==ht||Re.next)&&(xe===0&&(xe=i(),st+=xe*xe),Ne===0&&(Ne=i(),st+=Ne*Ne),st<Mt&&(st=Math.sqrt(Mt*st)));do Re.data!==ht&&(et=wt[Re.data.index]*vt/st,ht.vx+=xe*et,ht.vy+=Ne*et);while(Re=Re.next)}return Ge.initialize=function(Re){qe=Re,je()},Ge.strength=function(Re){return arguments.length?(pt=typeof Re=="function"?Re:P(+Re),je(),Ge):pt},Ge.distanceMin=function(Re){return arguments.length?(Mt=Re*Re,Ge):Math.sqrt(Mt)},Ge.distanceMax=function(Re){return arguments.length?(nt=Re*Re,Ge):Math.sqrt(nt)},Ge.theta=function(Re){return arguments.length?(_e=Re*Re,Ge):Math.sqrt(_e)},Ge}function rt(qe,ht,vt){var pt,wt=P(.1),Mt,nt;typeof qe!="function"&&(qe=P(+qe)),ht==null&&(ht=0),vt==null&&(vt=0);function _e(je){for(var We=0,Pe=pt.length;We<Pe;++We){var Re=pt[We],Xe=Re.x-ht||1e-6,Le=Re.y-vt||1e-6,ve=Math.sqrt(Xe*Xe+Le*Le),xe=(nt[We]-ve)*Mt[We]*je/ve;Re.vx+=Xe*xe,Re.vy+=Le*xe}}function Ge(){if(pt){var je,We=pt.length;for(Mt=new Array(We),nt=new Array(We),je=0;je<We;++je)nt[je]=+qe(pt[je],je,pt),Mt[je]=isNaN(nt[je])?0:+wt(pt[je],je,pt)}}return _e.initialize=function(je){pt=je,Ge()},_e.strength=function(je){return arguments.length?(wt=typeof je=="function"?je:P(+je),Ge(),_e):wt},_e.radius=function(je){return arguments.length?(qe=typeof je=="function"?je:P(+je),Ge(),_e):qe},_e.x=function(je){return arguments.length?(ht=+je,_e):ht},_e.y=function(je){return arguments.length?(vt=+je,_e):vt},_e}function ot(qe){var ht=P(.1),vt,pt,wt;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Mt(_e){for(var Ge=0,je=vt.length,We;Ge<je;++Ge)We=vt[Ge],We.vx+=(wt[Ge]-We.x)*pt[Ge]*_e}function nt(){if(vt){var _e,Ge=vt.length;for(pt=new Array(Ge),wt=new Array(Ge),_e=0;_e<Ge;++_e)pt[_e]=isNaN(wt[_e]=+qe(vt[_e],_e,vt))?0:+ht(vt[_e],_e,vt)}}return Mt.initialize=function(_e){vt=_e,nt()},Mt.strength=function(_e){return arguments.length?(ht=typeof _e=="function"?_e:P(+_e),nt(),Mt):ht},Mt.x=function(_e){return arguments.length?(qe=typeof _e=="function"?_e:P(+_e),nt(),Mt):qe},Mt}function $e(qe){var ht=P(.1),vt,pt,wt;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Mt(_e){for(var Ge=0,je=vt.length,We;Ge<je;++Ge)We=vt[Ge],We.vy+=(wt[Ge]-We.y)*pt[Ge]*_e}function nt(){if(vt){var _e,Ge=vt.length;for(pt=new Array(Ge),wt=new Array(Ge),_e=0;_e<Ge;++_e)pt[_e]=isNaN(wt[_e]=+qe(vt[_e],_e,vt))?0:+ht(vt[_e],_e,vt)}}return Mt.initialize=function(_e){vt=_e,nt()},Mt.strength=function(_e){return arguments.length?(ht=typeof _e=="function"?_e:P(+_e),nt(),Mt):ht},Mt.y=function(_e){return arguments.length?(qe=typeof _e=="function"?_e:P(+_e),nt(),Mt):qe},Mt}},57624:function(G,V,e){e.d(V,{E9:function(){return o},SO:function(){return T}});function m(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function P(x,w){if((C=(x=w?x.toExponential(w-1):x.toExponential()).indexOf("e"))<0)return null;var C,y=x.slice(0,C);return[y.length>1?y[0]+y.slice(2):y,+x.slice(C+1)]}function i(x){return x=P(Math.abs(x)),x?x[1]:NaN}function L(x,w){return function(C,y){for(var M=C.length,A=[],s=0,E=x[0],b=0;M>0&&E>0&&(b+E+1>y&&(E=Math.max(1,y-b)),A.push(C.substring(M-=E,M+E)),!((b+=E+1)>y));)E=x[s=(s+1)%x.length];return A.reverse().join(w)}}function S(x){return function(w){return w.replace(/[0-9]/g,function(C){return x[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(x){if(!(w=v.exec(x)))throw new Error("invalid format: "+x);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var w=x.length,C=1,y=-1,M;C<w;++C)switch(x[C]){case".":y=M=C;break;case"0":y===0&&(y=C),M=C;break;default:if(!+x[C])break e;y>0&&(y=0);break}return y>0?x.slice(0,y)+x.slice(M+1):x}var a;function n(x,w){var C=P(x,w);if(!C)return x+"";var y=C[0],M=C[1],A=M-(a=Math.max(-8,Math.min(8,Math.floor(M/3)))*3)+1,s=y.length;return A===s?y:A>s?y+new Array(A-s+1).join("0"):A>0?y.slice(0,A)+"."+y.slice(A):"0."+new Array(1-A).join("0")+P(x,Math.max(0,w+A-1))[0]}function f(x,w){var C=P(x,w);if(!C)return x+"";var y=C[0],M=C[1];return M<0?"0."+new Array(-M).join("0")+y:y.length>M+1?y.slice(0,M+1)+"."+y.slice(M+1):y+new Array(M-y.length+2).join("0")}var l={"%":function(x,w){return(x*100).toFixed(w)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:m,e:function(x,w){return x.toExponential(w)},f:function(x,w){return x.toFixed(w)},g:function(x,w){return x.toPrecision(w)},o:function(x){return Math.round(x).toString(8)},p:function(x,w){return f(x*100,w)},r:f,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function u(x){return x}var g=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(x){var w=x.grouping===void 0||x.thousands===void 0?u:L(g.call(x.grouping,Number),x.thousands+""),C=x.currency===void 0?"":x.currency[0]+"",y=x.currency===void 0?"":x.currency[1]+"",M=x.decimal===void 0?".":x.decimal+"",A=x.numerals===void 0?u:S(g.call(x.numerals,String)),s=x.percent===void 0?"%":x.percent+"",E=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function F(N){N=p(N);var _=N.fill,O=N.align,B=N.sign,z=N.symbol,U=N.zero,Z=N.width,J=N.comma,re=N.precision,ne=N.trim,ue=N.type;ue==="n"?(J=!0,ue="g"):l[ue]||(re===void 0&&(re=12),ne=!0,ue="g"),(U||_==="0"&&O==="=")&&(U=!0,_="0",O="=");var te=z==="$"?C:z==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",Q=z==="$"?y:/[%p]/.test(ue)?s:"",ie=l[ue],Y=/[defgprs%]/.test(ue);re=re===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function $(oe){var j=te,X=Q,se,q,ce;if(ue==="c")X=ie(oe)+X,oe="";else{oe=+oe;var ye=oe<0||1/oe<0;if(oe=isNaN(oe)?b:ie(Math.abs(oe),re),ne&&(oe=t(oe)),ye&&+oe==0&&B!=="+"&&(ye=!1),j=(ye?B==="("?B:E:B==="-"||B==="("?"":B)+j,X=(ue==="s"?h[8+a/3]:"")+X+(ye&&B==="("?")":""),Y){for(se=-1,q=oe.length;++se<q;)if(ce=oe.charCodeAt(se),48>ce||ce>57){X=(ce===46?M+oe.slice(se+1):oe.slice(se))+X,oe=oe.slice(0,se);break}}}J&&!U&&(oe=w(oe,1/0));var we=j.length+oe.length+X.length,be=we<Z?new Array(Z-we+1).join(_):"";switch(J&&U&&(oe=w(be+oe,be.length?Z-X.length:1/0),be=""),O){case"<":oe=j+oe+X+be;break;case"=":oe=j+be+oe+X;break;case"^":oe=be.slice(0,we=be.length>>1)+j+oe+X+be.slice(we);break;default:oe=be+j+oe+X;break}return A(oe)}return $.toString=function(){return N+""},$}function I(N,_){var O=F((N=p(N),N.type="f",N)),B=Math.max(-8,Math.min(8,Math.floor(i(_)/3)))*3,z=Math.pow(10,-B),U=h[8+B/3];return function(Z){return O(z*Z)+U}}return{format:F,formatPrefix:I}}var c,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return c=T(x),o=c.format,c.formatPrefix,c}},87108:function(G,V,e){e.r(V),e.d(V,{geoAiry:function(){return U},geoAiryRaw:function(){return z},geoAitoff:function(){return J},geoAitoffRaw:function(){return Z},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return re},geoAugust:function(){return te},geoAugustRaw:function(){return ue},geoBaker:function(){return $},geoBakerRaw:function(){return Y},geoBerghaus:function(){return X},geoBerghausRaw:function(){return j},geoBertin1953:function(){return ke},geoBertin1953Raw:function(){return De},geoBoggs:function(){return rt},geoBoggsRaw:function(){return He},geoBonne:function(){return vt},geoBonneRaw:function(){return ht},geoBottomley:function(){return wt},geoBottomleyRaw:function(){return pt},geoBromley:function(){return nt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return ve},geoChamberlinAfrica:function(){return Le},geoChamberlinRaw:function(){return Re},geoCollignon:function(){return Ne},geoCollignonRaw:function(){return xe},geoCraig:function(){return st},geoCraigRaw:function(){return et},geoCraster:function(){return jt},geoCrasterRaw:function(){return Gt},geoCylindricalEqualArea:function(){return Dt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return gr},geoCylindricalStereographicRaw:function(){return Xt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return gt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return mt},geoEckert3Raw:function(){return or},geoEckert4:function(){return bt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ht},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return Ye},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return _t},geoFoucautRaw:function(){return Ve},geoFoucautSinusoidal:function(){return Kt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return nr},geoGingery:function(){return Vr},geoGingeryRaw:function(){return vr},geoGinzburg4:function(){return ln},geoGinzburg4Raw:function(){return Dr},geoGinzburg5:function(){return Tn},geoGinzburg5Raw:function(){return Wr},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return An},geoGinzburg8:function(){return Yr},geoGinzburg8Raw:function(){return Fr},geoGinzburg9:function(){return on},geoGinzburg9Raw:function(){return _r},geoGringorten:function(){return na},geoGringortenQuincuncial:function(){return Mh},geoGringortenRaw:function(){return Sn},geoGuyou:function(){return vn},geoGuyouRaw:function(){return mr},geoHammer:function(){return ye},geoHammerRaw:function(){return q},geoHammerRetroazimuthal:function(){return Bn},geoHammerRetroazimuthalRaw:function(){return xn},geoHealpix:function(){return sn},geoHealpixRaw:function(){return Sr},geoHill:function(){return Zr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Nn},geoHomolosineRaw:function(){return Mn},geoHufnagel:function(){return fa},geoHufnagelRaw:function(){return zn},geoHyperelliptical:function(){return yi},geoHyperellipticalRaw:function(){return La},geoInterrupt:function(){return no},geoInterruptedBoggs:function(){return wf},geoInterruptedHomolosine:function(){return ti},geoInterruptedMollweide:function(){return Tf},geoInterruptedMollweideHemispheres:function(){return To},geoInterruptedQuarticAuthalic:function(){return js},geoInterruptedSinuMollweide:function(){return Zu},geoInterruptedSinusoidal:function(){return _l},geoKavrayskiy7:function(){return Gi},geoKavrayskiy7Raw:function(){return Oi},geoLagrange:function(){return ao},geoLagrangeRaw:function(){return zl},geoLarrivee:function(){return ic},geoLarriveeRaw:function(){return No},geoLaskowski:function(){return ch},geoLaskowskiRaw:function(){return Do},geoLittrow:function(){return $i},geoLittrowRaw:function(){return gs},geoLoximuthal:function(){return Xs},geoLoximuthalRaw:function(){return Af},geoMiller:function(){return Sf},geoMillerRaw:function(){return ys},geoModifiedStereographic:function(){return hl},geoModifiedStereographicAlaska:function(){return Mf},geoModifiedStereographicGs48:function(){return gh},geoModifiedStereographicGs50:function(){return yh},geoModifiedStereographicLee:function(){return lc},geoModifiedStereographicMiller:function(){return sc},geoModifiedStereographicRaw:function(){return oc},geoMollweide:function(){return Me},geoMollweideRaw:function(){return Ie},geoMtFlatPolarParabolic:function(){return uc},geoMtFlatPolarParabolicRaw:function(){return vu},geoMtFlatPolarQuartic:function(){return mh},geoMtFlatPolarQuarticRaw:function(){return Rs},geoMtFlatPolarSinusoidal:function(){return fc},geoMtFlatPolarSinusoidalRaw:function(){return Ju},geoNaturalEarth:function(){return cc.c},geoNaturalEarth2:function(){return qo},geoNaturalEarth2Raw:function(){return Qu},geoNaturalEarthRaw:function(){return cc.g},geoNellHammer:function(){return vl},geoNellHammerRaw:function(){return Bl},geoNicolosi:function(){return Ef},geoNicolosiRaw:function(){return ms},geoPatterson:function(){return Hl},geoPattersonRaw:function(){return qu},geoPeirceQuincuncial:function(){return yc},geoPierceQuincuncial:function(){return yc},geoPolyconic:function(){return bh},geoPolyconicRaw:function(){return ef},geoPolyhedral:function(){return mi},geoPolyhedralButterfly:function(){return gu},geoPolyhedralCollignon:function(){return pl},geoPolyhedralWaterman:function(){return Ks},geoProject:function(){return Ah},geoQuantize:function(){return mc},geoQuincuncial:function(){return ks},geoRectangularPolyconic:function(){return xc},geoRectangularPolyconicRaw:function(){return kf},geoRobinson:function(){return Js},geoRobinsonRaw:function(){return is},geoSatellite:function(){return yl},geoSatelliteRaw:function(){return af},geoSinuMollweide:function(){return Fn},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return Au},geoTimes:function(){return Wi},geoTimesRaw:function(){return qs},geoTwoPointAzimuthal:function(){return lf},geoTwoPointAzimuthalRaw:function(){return _f},geoTwoPointAzimuthalUsa:function(){return xl},geoTwoPointEquidistant:function(){return Tc},geoTwoPointEquidistantRaw:function(){return Su},geoTwoPointEquidistantUsa:function(){return Eh},geoVanDerGrinten:function(){return Mu},geoVanDerGrinten2:function(){return Ac},geoVanDerGrinten2Raw:function(){return Ql},geoVanDerGrinten3:function(){return Ch},geoVanDerGrinten3Raw:function(){return el},geoVanDerGrinten4:function(){return Eu},geoVanDerGrinten4Raw:function(){return ko},geoVanDerGrintenRaw:function(){return yo},geoWagner:function(){return tl},geoWagner4:function(){return Sc},geoWagner4Raw:function(){return ff},geoWagner6:function(){return Of},geoWagner6Raw:function(){return Pu},geoWagner7:function(){return zf},geoWagnerRaw:function(){return zs},geoWiechel:function(){return Bf},geoWiechelRaw:function(){return bl},geoWinkel3:function(){return Mc},geoWinkel3Raw:function(){return Ru}});var m=e(87952),P=Math.abs,i=Math.atan,L=Math.atan2,S=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,a=Math.min,n=Math.pow,f=Math.round,l=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},u=Math.sin,g=Math.tan,h=1e-6,T=1e-12,c=Math.PI,o=c/2,d=c/4,x=Math.SQRT1_2,w=F(2),C=F(c),y=c*2,M=180/c,A=c/180;function s(Je){return Je?Je/Math.sin(Je):1}function E(Je){return Je>1?o:Je<-1?-o:Math.asin(Je)}function b(Je){return Je>1?0:Je<-1?c:Math.acos(Je)}function F(Je){return Je>0?Math.sqrt(Je):0}function I(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function N(Je){return(v(Je)-v(-Je))/2}function _(Je){return(v(Je)+v(-Je))/2}function O(Je){return r(Je+F(Je*Je+1))}function B(Je){return r(Je+F(Je*Je-1))}function z(Je){var it=g(Je/2),yt=2*r(S(Je/2))/(it*it);function xt(Ft,It){var zt=S(Ft),pr=S(It),br=u(It),ar=pr*zt,Mr=-((1-ar?r((1+ar)/2)/(1-ar):-.5)+yt/(1+ar));return[Mr*pr*u(Ft),Mr*br]}return xt.invert=function(Ft,It){var zt=F(Ft*Ft+It*It),pr=-Je/2,br=50,ar;if(!zt)return[0,0];do{var Mr=pr/2,Ir=S(Mr),Nr=u(Mr),nn=Nr/Ir,mn=-r(P(Ir));pr-=ar=(2/nn*mn-yt*nn-zt)/(-mn/(Nr*Nr)+1-yt/(2*Ir*Ir))*(Ir<0?.7:1)}while(P(ar)>h&&--br>0);var Pn=u(pr);return[L(Ft*Pn,zt*S(pr)),E(It*Pn/zt)]},xt}function U(){var Je=o,it=(0,m.U)(z),yt=it(Je);return yt.radius=function(xt){return arguments.length?it(Je=xt*A):Je*M},yt.scale(179.976).clipAngle(147)}function Z(Je,it){var yt=S(it),xt=s(b(yt*S(Je/=2)));return[2*yt*u(Je)*xt,u(it)*xt]}Z.invert=function(Je,it){if(!(Je*Je+4*it*it>c*c+h)){var yt=Je,xt=it,Ft=25;do{var It=u(yt),zt=u(yt/2),pr=S(yt/2),br=u(xt),ar=S(xt),Mr=u(2*xt),Ir=br*br,Nr=ar*ar,nn=zt*zt,mn=1-Nr*pr*pr,Pn=mn?b(ar*pr)*F(Dn=1/mn):Dn=0,Dn,Zn=2*Pn*ar*zt-Je,Pa=Pn*br-it,Ra=Dn*(Nr*nn+Pn*ar*pr*Ir),Da=Dn*(.5*It*Mr-Pn*2*br*zt),za=Dn*.25*(Mr*zt-Pn*br*Nr*It),Za=Dn*(Ir*pr+Pn*nn*ar),pi=Da*za-Za*Ra;if(!pi)break;var zi=(Pa*Da-Zn*Za)/pi,fe=(Zn*za-Pa*Ra)/pi;yt-=zi,xt-=fe}while((P(zi)>h||P(fe)>h)&&--Ft>0);return[yt,xt]}};function J(){return(0,m.c)(Z).scale(152.63)}function re(Je){var it=u(Je),yt=S(Je),xt=Je>=0?1:-1,Ft=g(xt*Je),It=(1+it-yt)/2;function zt(pr,br){var ar=S(br),Mr=S(pr/=2);return[(1+ar)*u(pr),(xt*br>-L(Mr,Ft)-.001?0:-xt*10)+It+u(br)*yt-(1+ar)*it*Mr]}return zt.invert=function(pr,br){var ar=0,Mr=0,Ir=50;do{var Nr=S(ar),nn=u(ar),mn=S(Mr),Pn=u(Mr),Dn=1+mn,Zn=Dn*nn-pr,Pa=It+Pn*yt-Dn*it*Nr-br,Ra=Dn*Nr/2,Da=-nn*Pn,za=it*Dn*nn/2,Za=yt*mn+it*Nr*Pn,pi=Da*za-Za*Ra,zi=(Pa*Da-Zn*Za)/pi/2,fe=(Zn*za-Pa*Ra)/pi;P(fe)>2&&(fe/=2),ar-=zi,Mr-=fe}while((P(zi)>h||P(fe)>h)&&--Ir>0);return xt*Mr>-L(S(ar),Ft)-.001?[ar*2,Mr]:null},zt}function ne(){var Je=20*A,it=Je>=0?1:-1,yt=g(it*Je),xt=(0,m.U)(re),Ft=xt(Je),It=Ft.stream;return Ft.parallel=function(zt){return arguments.length?(yt=g((it=(Je=zt*A)>=0?1:-1)*Je),xt(Je)):Je*M},Ft.stream=function(zt){var pr=Ft.rotate(),br=It(zt),ar=(Ft.rotate([0,0]),It(zt)),Mr=Ft.precision();return Ft.rotate(pr),br.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Ir=it*-180;it*Ir<180;Ir+=it*90)ar.point(Ir,it*90);if(Je)for(;it*(Ir-=3*it*Mr)>=-180;)ar.point(Ir,it*-L(S(Ir*A/2),yt)*M);ar.lineEnd(),ar.polygonEnd()},br},Ft.scale(218.695).center([0,28.0974])}function ue(Je,it){var yt=g(it/2),xt=F(1-yt*yt),Ft=1+xt*S(Je/=2),It=u(Je)*xt/Ft,zt=yt/Ft,pr=It*It,br=zt*zt;return[1.3333333333333333*It*(3+pr-3*br),1.3333333333333333*zt*(3+3*pr-br)]}ue.invert=function(Je,it){if(Je*=.375,it*=.375,!Je&&P(it)>1)return null;var yt=Je*Je,xt=it*it,Ft=1+yt+xt,It=F((Ft-F(Ft*Ft-4*it*it))/2),zt=E(It)/3,pr=It?B(P(it/It))/3:O(P(Je))/3,br=S(zt),ar=_(pr),Mr=ar*ar-br*br;return[l(Je)*2*L(N(pr)*br,.25-Mr),l(it)*2*L(ar*u(zt),.25+Mr)]};function te(){return(0,m.c)(ue).scale(66.1603)}var Q=F(8),ie=r(1+w);function Y(Je,it){var yt=P(it);return yt<d?[Je,r(g(d+it/2))]:[Je*S(yt)*(2*w-1/u(yt)),l(it)*(2*w*(yt-d)-r(g(yt/2)))]}Y.invert=function(Je,it){if((It=P(it))<ie)return[Je,2*i(v(it))-o];var yt=d,xt=25,Ft,It;do{var zt=S(yt/2),pr=g(yt/2);yt-=Ft=(Q*(yt-d)-r(pr)-It)/(Q-zt*zt/(2*pr))}while(P(Ft)>T&&--xt>0);return[Je/(S(yt)*(Q-1/u(yt))),l(it)*yt]};function $(){return(0,m.c)(Y).scale(112.314)}var oe=e(69020);function j(Je){var it=2*c/Je;function yt(xt,Ft){var It=(0,oe.O)(xt,Ft);if(P(xt)>o){var zt=L(It[1],It[0]),pr=F(It[0]*It[0]+It[1]*It[1]),br=it*f((zt-o)/it)+o,ar=L(u(zt-=br),2-S(zt));zt=br+E(c/pr*u(ar))-ar,It[0]=pr*S(zt),It[1]=pr*u(zt)}return It}return yt.invert=function(xt,Ft){var It=F(xt*xt+Ft*Ft);if(It>o){var zt=L(Ft,xt),pr=it*f((zt-o)/it)+o,br=zt>pr?-1:1,ar=It*S(pr-zt),Mr=1/g(br*b((ar-c)/F(c*(c-2*ar)+It*It)));zt=pr+2*i((Mr+br*F(Mr*Mr-3))/3),xt=It*S(zt),Ft=It*u(zt)}return oe.O.invert(xt,Ft)},yt}function X(){var Je=5,it=(0,m.U)(j),yt=it(Je),xt=yt.stream,Ft=.01,It=-S(Ft*A),zt=u(Ft*A);return yt.lobes=function(pr){return arguments.length?it(Je=+pr):Je},yt.stream=function(pr){var br=yt.rotate(),ar=xt(pr),Mr=(yt.rotate([0,0]),xt(pr));return yt.rotate(br),ar.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var Ir=0,Nr=360/Je,nn=2*c/Je,mn=90-180/Je,Pn=o;Ir<Je;++Ir,mn-=Nr,Pn-=nn)Mr.point(L(zt*S(Pn),It)*M,E(zt*u(Pn))*M),mn<-90?(Mr.point(-90,-180-mn-Ft),Mr.point(-90,-180-mn+Ft)):(Mr.point(90,mn+Ft),Mr.point(90,mn-Ft));Mr.lineEnd(),Mr.polygonEnd()},ar},yt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function q(Je,it){if(arguments.length<2&&(it=Je),it===1)return se.y;if(it===1/0)return ce;function yt(xt,Ft){var It=(0,se.y)(xt/it,Ft);return It[0]*=Je,It}return yt.invert=function(xt,Ft){var It=se.y.invert(xt/Je,Ft);return It[0]*=it,It},yt}function ce(Je,it){return[Je*S(it)/S(it/=2),2*u(it)]}ce.invert=function(Je,it){var yt=2*E(it/2);return[Je*S(yt/2)/S(yt),yt]};function ye(){var Je=2,it=(0,m.U)(q),yt=it(Je);return yt.coefficient=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(169.529)}function we(Je,it,yt){var xt=100,Ft,It,zt;yt=yt===void 0?0:+yt,it=+it;do It=Je(yt),zt=Je(yt+h),It===zt&&(zt=It+h),yt-=Ft=-1*h*(It-it)/(It-zt);while(xt-- >0&&P(Ft)>h);return xt<0?NaN:yt}function be(Je,it,yt){return it===void 0&&(it=40),yt===void 0&&(yt=T),function(xt,Ft,It,zt){var pr,br,ar;It=It===void 0?0:+It,zt=zt===void 0?0:+zt;for(var Mr=0;Mr<it;Mr++){var Ir=Je(It,zt),Nr=Ir[0]-xt,nn=Ir[1]-Ft;if(P(Nr)<yt&&P(nn)<yt)break;var mn=Nr*Nr+nn*nn;if(mn>pr){It-=br/=2,zt-=ar/=2;continue}pr=mn;var Pn=(It>0?-1:1)*yt,Dn=(zt>0?-1:1)*yt,Zn=Je(It+Pn,zt),Pa=Je(It,zt+Dn),Ra=(Zn[0]-Ir[0])/Pn,Da=(Zn[1]-Ir[1])/Pn,za=(Pa[0]-Ir[0])/Dn,Za=(Pa[1]-Ir[1])/Dn,pi=Za*Ra-Da*za,zi=(P(pi)<.5?.5:1)/pi;if(br=(nn*za-Nr*Za)*zi,ar=(Nr*Da-nn*Ra)*zi,It+=br,zt+=ar,P(br)<yt&&P(ar)<yt)break}return[It,zt]}}function De(){var Je=q(1.68,2),it=1.4,yt=12;function xt(Ft,It){if(Ft+It<-it){var zt=(Ft-It+1.6)*(Ft+It+it)/8;Ft+=zt,It-=.8*zt*u(It+c/2)}var pr=Je(Ft,It),br=(1-S(Ft*It))/yt;return pr[1]<0&&(pr[0]*=1+br),pr[1]>0&&(pr[1]*=1+br/1.5*pr[0]*pr[0]),pr}return xt.invert=be(xt),xt}function ke(){return(0,m.c)(De()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Be(Je,it){var yt=Je*u(it),xt=30,Ft;do it-=Ft=(it+u(it)-yt)/(1+S(it));while(P(Ft)>h&&--xt>0);return it/2}function Ae(Je,it,yt){function xt(Ft,It){return[Je*Ft*S(It=Be(yt,It)),it*u(It)]}return xt.invert=function(Ft,It){return It=E(It/it),[Ft/(Je*S(It)),E((2*It+u(2*It))/yt)]},xt}var Ie=Ae(w/o,w,c);function Me(){return(0,m.c)(Ie).scale(169.529)}var Fe=2.00276,Ee=1.11072;function He(Je,it){var yt=Be(c,it);return[Fe*Je/(1/S(it)+Ee/S(yt)),(it+w*u(yt))/Fe]}He.invert=function(Je,it){var yt=Fe*it,xt=it<0?-d:d,Ft=25,It,zt;do zt=yt-w*u(xt),xt-=It=(u(2*xt)+2*xt-c*u(zt))/(2*S(2*xt)+2+c*S(zt)*w*S(xt));while(P(It)>h&&--Ft>0);return zt=yt-w*u(xt),[Je*(1/S(zt)+Ee/S(xt))/Fe,zt]};function rt(){return(0,m.c)(He).scale(160.857)}function ot(Je){var it=0,yt=(0,m.U)(Je),xt=yt(it);return xt.parallel=function(Ft){return arguments.length?yt(it=Ft*A):it*M},xt}function $e(Je,it){return[Je*S(it),it]}$e.invert=function(Je,it){return[Je/S(it),it]};function qe(){return(0,m.c)($e).scale(152.63)}function ht(Je){if(!Je)return $e;var it=1/g(Je);function yt(xt,Ft){var It=it+Je-Ft,zt=It&&xt*S(Ft)/It;return[It*u(zt),it-It*S(zt)]}return yt.invert=function(xt,Ft){var It=F(xt*xt+(Ft=it-Ft)*Ft),zt=it+Je-It;return[It/S(zt)*L(xt,Ft),zt]},yt}function vt(){return ot(ht).scale(123.082).center([0,26.1441]).parallel(45)}function pt(Je){function it(yt,xt){var Ft=o-xt,It=Ft&&yt*Je*u(Ft)/Ft;return[Ft*u(It)/Je,o-Ft*S(It)]}return it.invert=function(yt,xt){var Ft=yt*Je,It=o-xt,zt=F(Ft*Ft+It*It),pr=L(Ft,It);return[(zt?zt/u(zt):1)*pr/Je,o-zt]},it}function wt(){var Je=.5,it=(0,m.U)(pt),yt=it(Je);return yt.fraction=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(158.837)}var Mt=Ae(1,4/c,c);function nt(){return(0,m.c)(Mt).scale(152.63)}var _e=e(24052),Ge=e(92992);function je(Je,it,yt,xt,Ft,It){var zt=S(It),pr;if(P(Je)>1||P(It)>1)pr=b(yt*Ft+it*xt*zt);else{var br=u(Je/2),ar=u(It/2);pr=2*E(F(br*br+it*xt*ar*ar))}return P(pr)>h?[pr,L(xt*u(It),it*Ft-yt*xt*zt)]:[0,0]}function We(Je,it,yt){return b((Je*Je+it*it-yt*yt)/(2*Je*it))}function Pe(Je){return Je-2*c*p((Je+c)/(2*c))}function Re(Je,it,yt){for(var xt=[[Je[0],Je[1],u(Je[1]),S(Je[1])],[it[0],it[1],u(it[1]),S(it[1])],[yt[0],yt[1],u(yt[1]),S(yt[1])]],Ft=xt[2],It,zt=0;zt<3;++zt,Ft=It)It=xt[zt],Ft.v=je(It[1]-Ft[1],Ft[3],Ft[2],It[3],It[2],It[0]-Ft[0]),Ft.point=[0,0];var pr=We(xt[0].v[0],xt[2].v[0],xt[1].v[0]),br=We(xt[0].v[0],xt[1].v[0],xt[2].v[0]),ar=c-pr;xt[2].point[1]=0,xt[0].point[0]=-(xt[1].point[0]=xt[0].v[0]/2);var Mr=[xt[2].point[0]=xt[0].point[0]+xt[2].v[0]*S(pr),2*(xt[0].point[1]=xt[1].point[1]=xt[2].v[0]*u(pr))];function Ir(Nr,nn){var mn=u(nn),Pn=S(nn),Dn=new Array(3),Zn;for(Zn=0;Zn<3;++Zn){var Pa=xt[Zn];if(Dn[Zn]=je(nn-Pa[1],Pa[3],Pa[2],Pn,mn,Nr-Pa[0]),!Dn[Zn][0])return Pa.point;Dn[Zn][1]=Pe(Dn[Zn][1]-Pa.v[1])}var Ra=Mr.slice();for(Zn=0;Zn<3;++Zn){var Da=Zn==2?0:Zn+1,za=We(xt[Zn].v[0],Dn[Zn][0],Dn[Da][0]);Dn[Zn][1]<0&&(za=-za),Zn?Zn==1?(za=br-za,Ra[0]-=Dn[Zn][0]*S(za),Ra[1]-=Dn[Zn][0]*u(za)):(za=ar-za,Ra[0]+=Dn[Zn][0]*S(za),Ra[1]+=Dn[Zn][0]*u(za)):(Ra[0]+=Dn[Zn][0]*S(za),Ra[1]-=Dn[Zn][0]*u(za))}return Ra[0]/=3,Ra[1]/=3,Ra}return Ir}function Xe(Je){return Je[0]*=A,Je[1]*=A,Je}function Le(){return ve([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function ve(Je,it,yt){var xt=(0,_e.c)({type:"MultiPoint",coordinates:[Je,it,yt]}),Ft=[-xt[0],-xt[1]],It=(0,Ge.c)(Ft),zt=Re(Xe(It(Je)),Xe(It(it)),Xe(It(yt)));zt.invert=be(zt);var pr=(0,m.c)(zt).rotate(Ft),br=pr.center;return delete pr.rotate,pr.center=function(ar){return arguments.length?br(It(ar)):It.invert(br())},pr.clipAngle(90)}function xe(Je,it){var yt=F(1-u(it));return[2/C*Je*yt,C*(1-yt)]}xe.invert=function(Je,it){var yt=(yt=it/C-1)*yt;return[yt>0?Je*F(c/yt)/2:0,E(1-yt)]};function Ne(){return(0,m.c)(xe).scale(95.6464).center([0,30])}function et(Je){var it=g(Je);function yt(xt,Ft){return[xt,(xt?xt/u(xt):1)*(u(Ft)*S(xt)-it*S(Ft))]}return yt.invert=it?function(xt,Ft){xt&&(Ft*=u(xt)/xt);var It=S(xt);return[xt,2*L(F(It*It+it*it-Ft*Ft)-It,it-Ft)]}:function(xt,Ft){return[xt,E(xt?Ft*g(xt)/xt:Ft)]},yt}function st(){return ot(et).scale(249.828).clipAngle(90)}var lt=F(3);function Gt(Je,it){return[lt*Je*(2*S(2*it/3)-1)/C,lt*C*u(it/3)]}Gt.invert=function(Je,it){var yt=3*E(it/(lt*C));return[C*Je/(lt*(2*S(2*yt/3)-1)),yt]};function jt(){return(0,m.c)(Gt).scale(156.19)}function Tt(Je){var it=S(Je);function yt(xt,Ft){return[xt*it,u(Ft)/it]}return yt.invert=function(xt,Ft){return[xt/it,E(Ft*it)]},yt}function Dt(){return ot(Tt).parallel(38.58).scale(195.044)}function Xt(Je){var it=S(Je);function yt(xt,Ft){return[xt*it,(1+it)*g(Ft/2)]}return yt.invert=function(xt,Ft){return[xt/it,i(Ft/(1+it))*2]},yt}function gr(){return ot(Xt).scale(124.75)}function gt(Je,it){var yt=F(8/(3*c));return[yt*Je*(1-P(it)/c),yt*it]}gt.invert=function(Je,it){var yt=F(8/(3*c)),xt=it/yt;return[Je/(yt*(1-P(xt)/c)),xt]};function Zt(){return(0,m.c)(gt).scale(165.664)}function Qt(Je,it){var yt=F(4-3*u(P(it)));return[2/F(6*c)*Je*yt,l(it)*F(2*c/3)*(2-yt)]}Qt.invert=function(Je,it){var yt=2-P(it)/F(2*c/3);return[Je*F(6*c)/(2*yt),l(it)*E((4-yt*yt)/3)]};function yr(){return(0,m.c)(Qt).scale(165.664)}function or(Je,it){var yt=F(c*(4+c));return[2/yt*Je*(1+F(1-4*it*it/(c*c))),4/yt*it]}or.invert=function(Je,it){var yt=F(c*(4+c))/2;return[Je*yt/(1+F(1-it*it*(4+c)/(4*c))),it*yt/2]};function mt(){return(0,m.c)(or).scale(180.739)}function ut(Je,it){var yt=(2+o)*u(it);it/=2;for(var xt=0,Ft=1/0;xt<10&&P(Ft)>h;xt++){var It=S(it);it-=Ft=(it+u(it)*(It+2)-yt)/(2*It*(1+It))}return[2/F(c*(4+c))*Je*(1+S(it)),2*F(c/(4+c))*u(it)]}ut.invert=function(Je,it){var yt=it*F((4+c)/c)/2,xt=E(yt),Ft=S(xt);return[Je/(2/F(c*(4+c))*(1+Ft)),E((xt+yt*(Ft+2))/(2+o))]};function bt(){return(0,m.c)(ut).scale(180.739)}function Et(Je,it){return[Je*(1+S(it))/F(2+c),2*it/F(2+c)]}Et.invert=function(Je,it){var yt=F(2+c),xt=it*yt/2;return[yt*Je/(1+S(xt)),xt]};function Rt(){return(0,m.c)(Et).scale(173.044)}function Ht(Je,it){for(var yt=(1+o)*u(it),xt=0,Ft=1/0;xt<10&&P(Ft)>h;xt++)it-=Ft=(it+u(it)-yt)/(1+S(it));return yt=F(2+c),[Je*(1+S(it))/yt,2*it/yt]}Ht.invert=function(Je,it){var yt=1+o,xt=F(yt/2);return[Je*2*xt/(1+S(it*=xt)),E((it+u(it))/yt)]};function Bt(){return(0,m.c)(Ht).scale(173.044)}var Nt=3+2*w;function Jt(Je,it){var yt=u(Je/=2),xt=S(Je),Ft=F(S(it)),It=S(it/=2),zt=u(it)/(It+w*xt*Ft),pr=F(2/(1+zt*zt)),br=F((w*It+(xt+yt)*Ft)/(w*It+(xt-yt)*Ft));return[Nt*(pr*(br-1/br)-2*r(br)),Nt*(pr*zt*(br+1/br)-2*i(zt))]}Jt.invert=function(Je,it){if(!(It=ue.invert(Je/1.2,it*1.065)))return null;var yt=It[0],xt=It[1],Ft=20,It;Je/=Nt,it/=Nt;do{var zt=yt/2,pr=xt/2,br=u(zt),ar=S(zt),Mr=u(pr),Ir=S(pr),Nr=S(xt),nn=F(Nr),mn=Mr/(Ir+w*ar*nn),Pn=mn*mn,Dn=F(2/(1+Pn)),Zn=w*Ir+(ar+br)*nn,Pa=w*Ir+(ar-br)*nn,Ra=Zn/Pa,Da=F(Ra),za=Da-1/Da,Za=Da+1/Da,pi=Dn*za-2*r(Da)-Je,zi=Dn*mn*Za-2*i(mn)-it,fe=Mr&&x*nn*br*Pn/Mr,Se=(w*ar*Ir+nn)/(2*(Ir+w*ar*nn)*(Ir+w*ar*nn)*nn),Ue=-.5*mn*Dn*Dn*Dn,tt=Ue*fe,at=Ue*Se,ct=(ct=2*Ir+w*nn*(ar-br))*ct*Da,Lt=(w*ar*Ir*nn+Nr)/ct,At=-(w*br*Mr)/(nn*ct),Vt=za*tt-2*Lt/Da+Dn*(Lt+Lt/Ra),Wt=za*at-2*At/Da+Dn*(At+At/Ra),tr=mn*Za*tt-2*fe/(1+Pn)+Dn*Za*fe+Dn*mn*(Lt-Lt/Ra),Cr=mn*Za*at-2*Se/(1+Pn)+Dn*Za*Se+Dn*mn*(At-At/Ra),Lr=Wt*tr-Cr*Vt;if(!Lr)break;var qr=(zi*Wt-pi*Cr)/Lr,an=(pi*tr-zi*Vt)/Lr;yt-=qr,xt=t(-o,a(o,xt-an))}while((P(qr)>h||P(an)>h)&&--Ft>0);return P(P(xt)-o)<h?[0,xt]:Ft&&[yt,xt]};function hr(){return(0,m.c)(Jt).scale(62.5271)}var fr=S(35*A);function dr(Je,it){var yt=g(it/2);return[Je*fr*F(1-yt*yt),(1+fr)*yt]}dr.invert=function(Je,it){var yt=it/(1+fr);return[Je&&Je/(fr*F(1-yt*yt)),2*i(yt)]};function Ye(){return(0,m.c)(dr).scale(137.152)}function Ve(Je,it){var yt=it/2,xt=S(yt);return[2*Je/C*S(it)*xt*xt,C*g(yt)]}Ve.invert=function(Je,it){var yt=i(it/C),xt=S(yt),Ft=2*yt;return[Je*C/2/(S(Ft)*xt*xt),Ft]};function _t(){return(0,m.c)(Ve).scale(135.264)}function kt(Je){var it=1-Je,yt=It(c,0)[0]-It(-c,0)[0],xt=It(0,o)[1]-It(0,-o)[1],Ft=F(2*xt/yt);function It(br,ar){var Mr=S(ar),Ir=u(ar);return[Mr/(it+Je*Mr)*br,it*ar+Je*Ir]}function zt(br,ar){var Mr=It(br,ar);return[Mr[0]*Ft,Mr[1]/Ft]}function pr(br){return zt(0,br)[1]}return zt.invert=function(br,ar){var Mr=we(pr,ar),Ir=br/Ft*(Je+it/S(Mr));return[Ir,Mr]},zt}function Kt(){var Je=.5,it=(0,m.U)(kt),yt=it(Je);return yt.alpha=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(168.725)}var sr=e(4888),cr=e(69604);function er(Je){return[Je[0]/2,E(g(Je[1]/2*A))*M]}function Ot(Je){return[Je[0]*2,2*i(u(Je[1]*A))*M]}function nr(Je){Je==null&&(Je=sr.c);var it=Je(),yt=(0,cr.c)().scale(M).precision(0).clipAngle(null).translate([0,0]);function xt(It){return it(er(It))}it.invert&&(xt.invert=function(It){return Ot(it.invert(It))}),xt.stream=function(It){var zt=it.stream(It),pr=yt.stream({point:function(br,ar){zt.point(br/2,E(g(-ar/2*A))*M)},lineStart:function(){zt.lineStart()},lineEnd:function(){zt.lineEnd()},polygonStart:function(){zt.polygonStart()},polygonEnd:function(){zt.polygonEnd()}});return pr.sphere=zt.sphere,pr};function Ft(It){xt[It]=function(){return arguments.length?(it[It].apply(it,arguments),xt):it[It]()}}return xt.rotate=function(It){return arguments.length?(yt.rotate(It),xt):yt.rotate()},xt.center=function(It){return arguments.length?(it.center(er(It)),xt):Ot(it.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),xt.scale(249.5)}function vr(Je,it){var yt=2*c/it,xt=Je*Je;function Ft(It,zt){var pr=(0,oe.O)(It,zt),br=pr[0],ar=pr[1],Mr=br*br+ar*ar;if(Mr>xt){var Ir=F(Mr),Nr=L(ar,br),nn=yt*f(Nr/yt),mn=Nr-nn,Pn=Je*S(mn),Dn=(Je*u(mn)-mn*u(Pn))/(o-Pn),Zn=wr(mn,Dn),Pa=(c-Je)/ur(Zn,Pn,c);br=Ir;var Ra=50,Da;do br-=Da=(Je+ur(Zn,Pn,br)*Pa-Ir)/(Zn(br)*Pa);while(P(Da)>h&&--Ra>0);ar=mn*u(br),br<o&&(ar-=Dn*(br-o));var za=u(nn),Za=S(nn);pr[0]=br*Za-ar*za,pr[1]=br*za+ar*Za}return pr}return Ft.invert=function(It,zt){var pr=It*It+zt*zt;if(pr>xt){var br=F(pr),ar=L(zt,It),Mr=yt*f(ar/yt),Ir=ar-Mr;It=br*S(Ir),zt=br*u(Ir);for(var Nr=It-o,nn=u(It),mn=zt/nn,Pn=It<o?1/0:0,Dn=10;;){var Zn=Je*u(mn),Pa=Je*S(mn),Ra=u(Pa),Da=o-Pa,za=(Zn-mn*Ra)/Da,Za=wr(mn,za);if(P(Pn)<T||!--Dn)break;mn-=Pn=(mn*nn-za*Nr-zt)/(nn-Nr*2*(Da*(Pa+mn*Zn*S(Pa)-Ra)-Zn*(Zn-mn*Ra))/(Da*Da))}br=Je+ur(Za,Pa,It)*(c-Je)/ur(Za,Pa,c),ar=Mr+mn,It=br*S(ar),zt=br*u(ar)}return oe.O.invert(It,zt)},Ft}function wr(Je,it){return function(yt){var xt=Je*S(yt);return yt<o&&(xt-=it),F(1+xt*xt)}}function ur(Je,it,yt){for(var xt=50,Ft=(yt-it)/xt,It=Je(it)+Je(yt),zt=1,pr=it;zt<xt;++zt)It+=2*Je(pr+=Ft);return It*.5*Ft}function Vr(){var Je=6,it=30*A,yt=S(it),xt=u(it),Ft=(0,m.U)(vr),It=Ft(it,Je),zt=It.stream,pr=.01,br=-S(pr*A),ar=u(pr*A);return It.radius=function(Mr){return arguments.length?(yt=S(it=Mr*A),xt=u(it),Ft(it,Je)):it*M},It.lobes=function(Mr){return arguments.length?Ft(it,Je=+Mr):Je},It.stream=function(Mr){var Ir=It.rotate(),Nr=zt(Mr),nn=(It.rotate([0,0]),zt(Mr));return It.rotate(Ir),Nr.sphere=function(){nn.polygonStart(),nn.lineStart();for(var mn=0,Pn=2*c/Je,Dn=0;mn<Je;++mn,Dn-=Pn)nn.point(L(ar*S(Dn),br)*M,E(ar*u(Dn))*M),nn.point(L(xt*S(Dn-Pn/2),yt)*M,E(xt*u(Dn-Pn/2))*M);nn.lineEnd(),nn.polygonEnd()},Nr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Pr(Je,it,yt,xt,Ft,It,zt,pr){arguments.length<8&&(pr=0);function br(ar,Mr){if(!Mr)return[Je*ar/c,0];var Ir=Mr*Mr,Nr=Je+Ir*(it+Ir*(yt+Ir*xt)),nn=Mr*(Ft-1+Ir*(It-pr+Ir*zt)),mn=(Nr*Nr+nn*nn)/(2*nn),Pn=ar*E(Nr/mn)/c;return[mn*u(Pn),Mr*(1+Ir*pr)+mn*(1-S(Pn))]}return br.invert=function(ar,Mr){var Ir=c*ar/Je,Nr=Mr,nn,mn,Pn=50;do{var Dn=Nr*Nr,Zn=Je+Dn*(it+Dn*(yt+Dn*xt)),Pa=Nr*(Ft-1+Dn*(It-pr+Dn*zt)),Ra=Zn*Zn+Pa*Pa,Da=2*Pa,za=Ra/Da,Za=za*za,pi=E(Zn/za)/c,zi=Ir*pi,fe=Zn*Zn,Se=(2*it+Dn*(4*yt+Dn*6*xt))*Nr,Ue=Ft+Dn*(3*It+Dn*5*zt),tt=2*(Zn*Se+Pa*(Ue-1)),at=2*(Ue-1),ct=(tt*Da-Ra*at)/(Da*Da),Lt=S(zi),At=u(zi),Vt=za*Lt,Wt=za*At,tr=Ir/c*(1/F(1-fe/Za))*(Se*za-Zn*ct)/Za,Cr=Wt-ar,Lr=Nr*(1+Dn*pr)+za-Vt-Mr,qr=ct*At+Vt*tr,an=Vt*pi,Rr=1+ct-(ct*Lt-Wt*tr),Ur=Wt*pi,Kr=qr*Ur-Rr*an;if(!Kr)break;Ir-=nn=(Lr*qr-Cr*Rr)/Kr,Nr-=mn=(Cr*Ur-Lr*an)/Kr}while((P(nn)>h||P(mn)>h)&&--Pn>0);return[Ir,Nr]},br}var Dr=Pr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function ln(){return(0,m.c)(Dr).scale(149.995)}var Wr=Pr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Tn(){return(0,m.c)(Wr).scale(153.93)}var An=Pr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,m.c)(An).scale(130.945)}function Fr(Je,it){var yt=Je*Je,xt=it*it;return[Je*(1-.162388*xt)*(.87-952426e-9*yt*yt),it*(1+xt/12)]}Fr.invert=function(Je,it){var yt=Je,xt=it,Ft=50,It;do{var zt=xt*xt;xt-=It=(xt*(1+zt/12)-it)/(1+zt/4)}while(P(It)>h&&--Ft>0);Ft=50,Je/=1-.162388*zt;do{var pr=(pr=yt*yt)*pr;yt-=It=(yt*(.87-952426e-9*pr)-Je)/(.87-.00476213*pr)}while(P(It)>h&&--Ft>0);return[yt,xt]};function Yr(){return(0,m.c)(Fr).scale(131.747)}var _r=Pr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function on(){return(0,m.c)(_r).scale(131.087)}function un(Je){var it=Je(o,0)[0]-Je(-o,0)[0];function yt(xt,Ft){var It=xt>0?-.5:.5,zt=Je(xt+It*c,Ft);return zt[0]-=It*it,zt}return Je.invert&&(yt.invert=function(xt,Ft){var It=xt>0?-.5:.5,zt=Je.invert(xt+It*it,Ft),pr=zt[0]-It*c;return pr<-c?pr+=2*c:pr>c&&(pr-=2*c),zt[0]=pr,zt}),yt}function Sn(Je,it){var yt=l(Je),xt=l(it),Ft=S(it),It=S(Je)*Ft,zt=u(Je)*Ft,pr=u(xt*it);Je=P(L(zt,pr)),it=E(It),P(Je-o)>h&&(Je%=o);var br=Ln(Je>c/4?o-Je:Je,it);return Je>c/4&&(pr=br[0],br[0]=-br[1],br[1]=-pr),br[0]*=yt,br[1]*=-xt,br}Sn.invert=function(Je,it){P(Je)>1&&(Je=l(Je)*2-Je),P(it)>1&&(it=l(it)*2-it);var yt=l(Je),xt=l(it),Ft=-yt*Je,It=-xt*it,zt=It/Ft<1,pr=Un(zt?It:Ft,zt?Ft:It),br=pr[0],ar=pr[1],Mr=S(ar);return zt&&(br=-o-br),[yt*(L(u(br)*Mr,-u(ar))+c),xt*E(S(br)*Mr)]};function Ln(Je,it){if(it===o)return[0,0];var yt=u(it),xt=yt*yt,Ft=xt*xt,It=1+Ft,zt=1+3*Ft,pr=1-Ft,br=E(1/F(It)),ar=pr+xt*It*br,Mr=(1-yt)/ar,Ir=F(Mr),Nr=Mr*It,nn=F(Nr),mn=Ir*pr,Pn,Dn;if(Je===0)return[0,-(mn+xt*nn)];var Zn=S(it),Pa=1/Zn,Ra=2*yt*Zn,Da=(-3*xt+br*zt)*Ra,za=(-ar*Zn-(1-yt)*Da)/(ar*ar),Za=.5*za/Ir,pi=pr*Za-2*xt*Ir*Ra,zi=xt*It*za+Mr*zt*Ra,fe=-Pa*Ra,Se=-Pa*zi,Ue=-2*Pa*pi,tt=4*Je/c,at;if(Je>.222*c||it<c/4&&Je>.175*c){if(Pn=(mn+xt*F(Nr*(1+Ft)-mn*mn))/(1+Ft),Je>c/4)return[Pn,Pn];var ct=Pn,Lt=.5*Pn;Pn=.5*(Lt+ct),Dn=50;do{var At=F(Nr-Pn*Pn),Vt=Pn*(Ue+fe*At)+Se*E(Pn/nn)-tt;if(!Vt)break;Vt<0?Lt=Pn:ct=Pn,Pn=.5*(Lt+ct)}while(P(ct-Lt)>h&&--Dn>0)}else{Pn=h,Dn=25;do{var Wt=Pn*Pn,tr=F(Nr-Wt),Cr=Ue+fe*tr,Lr=Pn*Cr+Se*E(Pn/nn)-tt,qr=Cr+(Se-fe*Wt)/tr;Pn-=at=tr?Lr/qr:0}while(P(at)>h&&--Dn>0)}return[Pn,-mn-xt*F(Nr-Pn*Pn)]}function Un(Je,it){for(var yt=0,xt=1,Ft=.5,It=50;;){var zt=Ft*Ft,pr=F(Ft),br=E(1/F(1+zt)),ar=1-zt+Ft*(1+zt)*br,Mr=(1-pr)/ar,Ir=F(Mr),Nr=Mr*(1+zt),nn=Ir*(1-zt),mn=Nr-Je*Je,Pn=F(mn),Dn=it+nn+Ft*Pn;if(P(xt-yt)<T||--It===0||Dn===0)break;Dn>0?yt=Ft:xt=Ft,Ft=.5*(yt+xt)}if(!It)return null;var Zn=E(pr),Pa=S(Zn),Ra=1/Pa,Da=2*pr*Pa,za=(-3*Ft+br*(1+3*zt))*Da,Za=(-ar*Pa-(1-pr)*za)/(ar*ar),pi=.5*Za/Ir,zi=(1-zt)*pi-2*Ft*Ir*Da,fe=-2*Ra*zi,Se=-Ra*Da,Ue=-Ra*(Ft*(1+zt)*Za+Mr*(1+3*zt)*Da);return[c/4*(Je*(fe+Se*Pn)+Ue*E(Je/F(Nr))),Zn]}function na(){return(0,m.c)(un(Sn)).scale(239.75)}function ga(Je,it,yt){var xt,Ft,It;return Je?(xt=xa(Je,yt),it?(Ft=xa(it,1-yt),It=Ft[1]*Ft[1]+yt*xt[0]*xt[0]*Ft[0]*Ft[0],[[xt[0]*Ft[2]/It,xt[1]*xt[2]*Ft[0]*Ft[1]/It],[xt[1]*Ft[1]/It,-xt[0]*xt[2]*Ft[0]*Ft[2]/It],[xt[2]*Ft[1]*Ft[2]/It,-yt*xt[0]*xt[1]*Ft[0]/It]]):[[xt[0],0],[xt[1],0],[xt[2],0]]):(Ft=xa(it,1-yt),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function xa(Je,it){var yt,xt,Ft,It,zt;if(it<h)return It=u(Je),xt=S(Je),yt=it*(Je-It*xt)/4,[It-yt*xt,xt+yt*It,1-it*It*It/2,Je-yt];if(it>=1-h)return yt=(1-it)/4,xt=_(Je),It=I(Je),Ft=1/xt,zt=xt*N(Je),[It+yt*(zt-Je)/(xt*xt),Ft-yt*It*Ft*(zt-Je),Ft+yt*It*Ft*(zt+Je),2*i(v(Je))-o+yt*(zt-Je)/xt];var pr=[1,0,0,0,0,0,0,0,0],br=[F(it),0,0,0,0,0,0,0,0],ar=0;for(xt=F(1-it),zt=1;P(br[ar]/pr[ar])>h&&ar<8;)yt=pr[ar++],br[ar]=(yt-xt)/2,pr[ar]=(yt+xt)/2,xt=F(yt*xt),zt*=2;Ft=zt*pr[ar]*Je;do It=br[ar]*u(xt=Ft)/pr[ar],Ft=(E(It)+Ft)/2;while(--ar);return[u(Ft),It=S(Ft),It/S(Ft-xt),Ft]}function ca(Je,it,yt){var xt=P(Je),Ft=P(it),It=N(Ft);if(xt){var zt=1/u(xt),pr=1/(g(xt)*g(xt)),br=-(pr+yt*(It*It*zt*zt)-1+yt),ar=(yt-1)*pr,Mr=(-br+F(br*br-4*ar))/2;return[Vn(i(1/F(Mr)),yt)*l(Je),Vn(i(F((Mr/pr-1)/yt)),1-yt)*l(it)]}return[0,Vn(i(It),1-yt)*l(it)]}function Vn(Je,it){if(!it)return Je;if(it===1)return r(g(Je/2+d));for(var yt=1,xt=F(1-it),Ft=F(it),It=0;P(Ft)>h;It++){if(Je%c){var zt=i(xt*g(Je)/yt);zt<0&&(zt+=c),Je+=zt+~~(Je/c)*c}else Je+=Je;Ft=(yt+xt)/2,xt=F(yt*xt),Ft=((yt=Ft)-xt)/2}return Je/(n(2,It)*yt)}function mr(Je,it){var yt=(w-1)/(w+1),xt=F(1-yt*yt),Ft=Vn(o,xt*xt),It=-1,zt=r(g(c/4+P(it)/2)),pr=v(It*zt)/F(yt),br=Jr(pr*S(It*Je),pr*u(It*Je)),ar=ca(br[0],br[1],xt*xt);return[-ar[1],(it>=0?1:-1)*(.5*Ft-ar[0])]}function Jr(Je,it){var yt=Je*Je,xt=it+1,Ft=1-yt-it*it;return[.5*((Je>=0?o:-o)-L(Ft,2*Je)),-.25*r(Ft*Ft+4*yt)+.5*r(xt*xt+yt)]}function Qr(Je,it){var yt=it[0]*it[0]+it[1]*it[1];return[(Je[0]*it[0]+Je[1]*it[1])/yt,(Je[1]*it[0]-Je[0]*it[1])/yt]}mr.invert=function(Je,it){var yt=(w-1)/(w+1),xt=F(1-yt*yt),Ft=Vn(o,xt*xt),It=-1,zt=ga(.5*Ft-it,-Je,xt*xt),pr=Qr(zt[0],zt[1]),br=L(pr[1],pr[0])/It;return[br,2*i(v(.5/It*r(yt*pr[0]*pr[0]+yt*pr[1]*pr[1])))-o]};function vn(){return(0,m.c)(un(mr)).scale(151.496)}var _n=e(61780);function xn(Je){var it=u(Je),yt=S(Je),xt=bn(Je);xt.invert=bn(-Je);function Ft(It,zt){var pr=xt(It,zt);It=pr[0],zt=pr[1];var br=u(zt),ar=S(zt),Mr=S(It),Ir=b(it*br+yt*ar*Mr),Nr=u(Ir),nn=P(Nr)>h?Ir/Nr:1;return[nn*yt*u(It),(P(It)>o?nn:-nn)*(it*ar-yt*br*Mr)]}return Ft.invert=function(It,zt){var pr=F(It*It+zt*zt),br=-u(pr),ar=S(pr),Mr=pr*ar,Ir=-zt*br,Nr=pr*it,nn=F(Mr*Mr+Ir*Ir-Nr*Nr),mn=L(Mr*Nr+Ir*nn,Ir*Nr-Mr*nn),Pn=(pr>o?-1:1)*L(It*br,pr*S(mn)*ar+zt*u(mn)*br);return xt.invert(Pn,mn)},Ft}function bn(Je){var it=u(Je),yt=S(Je);return function(xt,Ft){var It=S(Ft),zt=S(xt)*It,pr=u(xt)*It,br=u(Ft);return[L(pr,zt*yt-br*it),E(br*yt+zt*it)]}}function Bn(){var Je=0,it=(0,m.U)(xn),yt=it(Je),xt=yt.rotate,Ft=yt.stream,It=(0,_n.c)();return yt.parallel=function(zt){if(!arguments.length)return Je*M;var pr=yt.rotate();return it(Je=zt*A).rotate(pr)},yt.rotate=function(zt){return arguments.length?(xt.call(yt,[zt[0],zt[1]-Je*M]),It.center([-zt[0],-zt[1]]),yt):(zt=xt.call(yt),zt[1]+=Je*M,zt)},yt.stream=function(zt){return zt=Ft(zt),zt.sphere=function(){zt.polygonStart();var pr=.01,br=It.radius(90-pr)().coordinates[0],ar=br.length-1,Mr=-1,Ir;for(zt.lineStart();++Mr<ar;)zt.point((Ir=br[Mr])[0],Ir[1]);for(zt.lineEnd(),br=It.radius(90+pr)().coordinates[0],ar=br.length-1,zt.lineStart();--Mr>=0;)zt.point((Ir=br[Mr])[0],Ir[1]);zt.lineEnd(),zt.polygonEnd()},zt},yt.scale(79.4187).parallel(45).clipAngle(179.999)}var Jn=e(84706),ha=e(16016),Ia=3,Ar=E(1-1/Ia)*M,zr=Tt(0);function Sr(Je){var it=Ar*A,yt=xe(c,it)[0]-xe(-c,it)[0],xt=zr(0,it)[1],Ft=xe(0,it)[1],It=C-Ft,zt=y/Je,pr=4/y,br=xt+It*It*4/y;function ar(Mr,Ir){var Nr,nn=P(Ir);if(nn>it){var mn=a(Je-1,t(0,p((Mr+c)/zt)));Mr+=c*(Je-1)/Je-mn*zt,Nr=xe(Mr,nn),Nr[0]=Nr[0]*y/yt-y*(Je-1)/(2*Je)+mn*y/Je,Nr[1]=xt+(Nr[1]-Ft)*4*It/y,Ir<0&&(Nr[1]=-Nr[1])}else Nr=zr(Mr,Ir);return Nr[0]*=pr,Nr[1]/=br,Nr}return ar.invert=function(Mr,Ir){Mr/=pr,Ir*=br;var Nr=P(Ir);if(Nr>xt){var nn=a(Je-1,t(0,p((Mr+c)/zt)));Mr=(Mr+c*(Je-1)/Je-nn*zt)*yt/y;var mn=xe.invert(Mr,.25*(Nr-xt)*y/It+Ft);return mn[0]-=c*(Je-1)/Je-nn*zt,Ir<0&&(mn[1]=-mn[1]),mn}return zr.invert(Mr,Ir)},ar}function Or(Je,it){return[Je,it&1?90-h:Ar]}function yn(Je,it){return[Je,it&1?-90+h:-Ar]}function Rn(Je){return[Je[0]*(1-h),Je[1]]}function pn(Je){var it=[].concat((0,Jn.ik)(-180,180+Je/2,Je).map(Or),(0,Jn.ik)(180,-180-Je/2,-Je).map(yn));return{type:"Polygon",coordinates:[Je===180?it.map(Rn):it]}}function sn(){var Je=4,it=(0,m.U)(Sr),yt=it(Je),xt=yt.stream;return yt.lobes=function(Ft){return arguments.length?it(Je=+Ft):Je},yt.stream=function(Ft){var It=yt.rotate(),zt=xt(Ft),pr=(yt.rotate([0,0]),xt(Ft));return yt.rotate(It),zt.sphere=function(){(0,ha.c)(pn(180/Je),pr)},zt},yt.scale(239.75)}function Er(Je){var it=1+Je,yt=u(1/it),xt=E(yt),Ft=2*F(c/(It=c+4*xt*it)),It,zt=.5*Ft*(it+F(Je*(2+Je))),pr=Je*Je,br=it*it;function ar(Mr,Ir){var Nr=1-u(Ir),nn,mn;if(Nr&&Nr<2){var Pn=o-Ir,Dn=25,Zn;do{var Pa=u(Pn),Ra=S(Pn),Da=xt+L(Pa,it-Ra),za=1+br-2*it*Ra;Pn-=Zn=(Pn-pr*xt-it*Pa+za*Da-.5*Nr*It)/(2*it*Pa*Da)}while(P(Zn)>T&&--Dn>0);nn=Ft*F(za),mn=Mr*Da/c}else nn=Ft*(Je+Nr),mn=Mr*xt/c;return[nn*u(mn),zt-nn*S(mn)]}return ar.invert=function(Mr,Ir){var Nr=Mr*Mr+(Ir-=zt)*Ir,nn=(1+br-Nr/(Ft*Ft))/(2*it),mn=b(nn),Pn=u(mn),Dn=xt+L(Pn,it-nn);return[E(Mr/F(Nr))*c/Dn,E(1-2*(mn-pr*xt-it*Pn+(1+br-2*it*nn)*Dn)/It)]},ar}function Zr(){var Je=1,it=(0,m.U)(Er),yt=it(Je);return yt.ratio=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(167.774).center([0,18.67])}var Hr=.7109889596207567,en=.0528035274542;function wn(Je,it){return it>-Hr?(Je=Ie(Je,it),Je[1]+=en,Je):$e(Je,it)}wn.invert=function(Je,it){return it>-Hr?Ie.invert(Je,it-en):$e.invert(Je,it)};function Fn(){return(0,m.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Mn(Je,it){return P(it)>Hr?(Je=Ie(Je,it),Je[1]-=it>0?en:-en,Je):$e(Je,it)}Mn.invert=function(Je,it){return P(it)>Hr?Ie.invert(Je,it+(it>0?en:-en)):$e.invert(Je,it)};function Nn(){return(0,m.c)(Mn).scale(152.63)}function zn(Je,it,yt,xt){var Ft=F(4*c/(2*yt+(1+Je-it/2)*u(2*yt)+(Je+it)/2*u(4*yt)+it/2*u(6*yt))),It=F(xt*u(yt)*F((1+Je*S(2*yt)+it*S(4*yt))/(1+Je+it))),zt=yt*br(1);function pr(Ir){return F(1+Je*S(2*Ir)+it*S(4*Ir))}function br(Ir){var Nr=Ir*yt;return(2*Nr+(1+Je-it/2)*u(2*Nr)+(Je+it)/2*u(4*Nr)+it/2*u(6*Nr))/yt}function ar(Ir){return pr(Ir)*u(Ir)}var Mr=function(Ir,Nr){var nn=yt*we(br,zt*u(Nr)/yt,Nr/c);isNaN(nn)&&(nn=yt*l(Nr));var mn=Ft*pr(nn);return[mn*It*Ir/c*S(nn),mn/It*u(nn)]};return Mr.invert=function(Ir,Nr){var nn=we(ar,Nr*It/Ft);return[Ir*c/(S(nn)*Ft*It*pr(nn)),E(yt*br(nn/yt)/zt)]},yt===0&&(Ft=F(xt/c),Mr=function(Ir,Nr){return[Ir*Ft,u(Nr)/Ft]},Mr.invert=function(Ir,Nr){return[Ir/Ft,E(Nr*Ft)]}),Mr}function fa(){var Je=1,it=0,yt=45*A,xt=2,Ft=(0,m.U)(zn),It=Ft(Je,it,yt,xt);return It.a=function(zt){return arguments.length?Ft(Je=+zt,it,yt,xt):Je},It.b=function(zt){return arguments.length?Ft(Je,it=+zt,yt,xt):it},It.psiMax=function(zt){return arguments.length?Ft(Je,it,yt=+zt*A,xt):yt*M},It.ratio=function(zt){return arguments.length?Ft(Je,it,yt,xt=+zt):xt},It.scale(180.739)}function ia(Je,it,yt,xt,Ft,It,zt,pr,br,ar,Mr){if(Mr.nanEncountered)return NaN;var Ir,Nr,nn,mn,Pn,Dn,Zn,Pa,Ra,Da;if(Ir=yt-it,Nr=Je(it+Ir*.25),nn=Je(yt-Ir*.25),isNaN(Nr)){Mr.nanEncountered=!0;return}if(isNaN(nn)){Mr.nanEncountered=!0;return}return mn=Ir*(xt+4*Nr+Ft)/12,Pn=Ir*(Ft+4*nn+It)/12,Dn=mn+Pn,Da=(Dn-zt)/15,ar>br?(Mr.maxDepthCount++,Dn+Da):Math.abs(Da)<pr?Dn+Da:(Zn=it+Ir*.5,Pa=ia(Je,it,Zn,xt,Nr,Ft,mn,pr*.5,br,ar+1,Mr),isNaN(Pa)?(Mr.nanEncountered=!0,NaN):(Ra=ia(Je,Zn,yt,Ft,nn,It,Pn,pr*.5,br,ar+1,Mr),isNaN(Ra)?(Mr.nanEncountered=!0,NaN):Pa+Ra))}function pa(Je,it,yt,xt,Ft){var It={maxDepthCount:0,nanEncountered:!1};xt===void 0&&(xt=1e-8),Ft===void 0&&(Ft=20);var zt=Je(it),pr=Je(.5*(it+yt)),br=Je(yt),ar=(zt+4*pr+br)*(yt-it)/6,Mr=ia(Je,it,yt,zt,pr,br,ar,xt,Ft,1,It);return Mr}function La(Je,it,yt){function xt(nn){return Je+(1-Je)*n(1-n(nn,it),1/it)}function Ft(nn){return pa(xt,0,nn,1e-4)}for(var It=1/Ft(1),zt=1e3,pr=(1+1e-8)*It,br=[],ar=0;ar<=zt;ar++)br.push(Ft(ar/zt)*pr);function Mr(nn){var mn=0,Pn=zt,Dn=zt>>1;do br[Dn]>nn?Pn=Dn:mn=Dn,Dn=mn+Pn>>1;while(Dn>mn);var Zn=br[Dn+1]-br[Dn];return Zn&&(Zn=(nn-br[Dn+1])/Zn),(Dn+1+Zn)/zt}var Ir=2*Mr(1)/c*It/yt,Nr=function(nn,mn){var Pn=Mr(P(u(mn))),Dn=xt(Pn)*nn;return Pn/=Ir,[Dn,mn>=0?Pn:-Pn]};return Nr.invert=function(nn,mn){var Pn;return mn*=Ir,P(mn)<1&&(Pn=l(mn)*E(Ft(P(mn))*It)),[nn/xt(P(mn)),Pn]},Nr}function yi(){var Je=0,it=2.5,yt=1.183136,xt=(0,m.U)(La),Ft=xt(Je,it,yt);return Ft.alpha=function(It){return arguments.length?xt(Je=+It,it,yt):Je},Ft.k=function(It){return arguments.length?xt(Je,it=+It,yt):it},Ft.gamma=function(It){return arguments.length?xt(Je,it,yt=+It):yt},Ft.scale(152.63)}function ii(Je,it){return P(Je[0]-it[0])<h&&P(Je[1]-it[1])<h}function Bo(Je,it){for(var yt=-1,xt=Je.length,Ft=Je[0],It,zt,pr,br=[];++yt<xt;){It=Je[yt],zt=(It[0]-Ft[0])/it,pr=(It[1]-Ft[1])/it;for(var ar=0;ar<it;++ar)br.push([Ft[0]+ar*zt,Ft[1]+ar*pr]);Ft=It}return br.push(It),br}function Ro(Je){var it=[],yt,xt,Ft,It,zt,pr,br,ar=Je[0].length;for(br=0;br<ar;++br)yt=Je[0][br],xt=yt[0][0],Ft=yt[0][1],It=yt[1][1],zt=yt[2][0],pr=yt[2][1],it.push(Bo([[xt+h,Ft+h],[xt+h,It-h],[zt-h,It-h],[zt-h,pr+h]],30));for(br=Je[1].length-1;br>=0;--br)yt=Je[1][br],xt=yt[0][0],Ft=yt[0][1],It=yt[1][1],zt=yt[2][0],pr=yt[2][1],it.push(Bo([[zt-h,pr-h],[zt-h,It+h],[xt+h,It+h],[xt+h,Ft-h]],30));return{type:"Polygon",coordinates:[(0,Jn.Uf)(it)]}}function no(Je,it,yt){var xt,Ft;function It(br,ar){for(var Mr=ar<0?-1:1,Ir=it[+(ar<0)],Nr=0,nn=Ir.length-1;Nr<nn&&br>Ir[Nr][2][0];++Nr);var mn=Je(br-Ir[Nr][1][0],ar);return mn[0]+=Je(Ir[Nr][1][0],Mr*ar>Mr*Ir[Nr][0][1]?Ir[Nr][0][1]:ar)[0],mn}yt?It.invert=yt(It):Je.invert&&(It.invert=function(br,ar){for(var Mr=Ft[+(ar<0)],Ir=it[+(ar<0)],Nr=0,nn=Mr.length;Nr<nn;++Nr){var mn=Mr[Nr];if(mn[0][0]<=br&&br<mn[1][0]&&mn[0][1]<=ar&&ar<mn[1][1]){var Pn=Je.invert(br-Je(Ir[Nr][1][0],0)[0],ar);return Pn[0]+=Ir[Nr][1][0],ii(It(Pn[0],Pn[1]),[br,ar])?Pn:null}}});var zt=(0,m.c)(It),pr=zt.stream;return zt.stream=function(br){var ar=zt.rotate(),Mr=pr(br),Ir=(zt.rotate([0,0]),pr(br));return zt.rotate(ar),Mr.sphere=function(){(0,ha.c)(xt,Ir)},Mr},zt.lobes=function(br){return arguments.length?(xt=Ro(br),it=br.map(function(ar){return ar.map(function(Mr){return[[Mr[0][0]*A,Mr[0][1]*A],[Mr[1][0]*A,Mr[1][1]*A],[Mr[2][0]*A,Mr[2][1]*A]]})}),Ft=it.map(function(ar){return ar.map(function(Mr){var Ir=Je(Mr[0][0],Mr[0][1])[0],Nr=Je(Mr[2][0],Mr[2][1])[0],nn=Je(Mr[1][0],Mr[0][1])[1],mn=Je(Mr[1][0],Mr[1][1])[1],Pn;return nn>mn&&(Pn=nn,nn=mn,mn=Pn),[[Ir,nn],[Nr,mn]]})}),zt):it.map(function(ar){return ar.map(function(Mr){return[[Mr[0][0]*M,Mr[0][1]*M],[Mr[1][0]*M,Mr[1][1]*M],[Mr[2][0]*M,Mr[2][1]*M]]})})},it!=null&&zt.lobes(it),zt}var kl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function wf(){return no(He,kl).scale(160.857)}var ac=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ti(){return no(Mn,ac).scale(152.63)}var cu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Tf(){return no(Ie,cu).scale(169.529)}var Qi=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function To(){return no(Ie,Qi).scale(169.529).rotate([20,0])}var Fl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Zu(){return no(wn,Fl,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Fi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function _l(){return no($e,Fi).scale(152.63).rotate([-20,0])}function Oi(Je,it){return[3/y*Je*F(c*c/3-it*it),it]}Oi.invert=function(Je,it){return[y/3*Je/F(c*c/3-it*it),it]};function Gi(){return(0,m.c)(Oi).scale(158.837)}function zl(Je){function it(yt,xt){if(P(P(xt)-o)<h)return[0,xt<0?-2:2];var Ft=u(xt),It=n((1+Ft)/(1-Ft),Je/2),zt=.5*(It+1/It)+S(yt*=Je);return[2*u(yt)/zt,(It-1/It)/zt]}return it.invert=function(yt,xt){var Ft=P(xt);if(P(Ft-2)<h)return yt?null:[0,l(xt)*o];if(Ft>2)return null;yt/=2,xt/=2;var It=yt*yt,zt=xt*xt,pr=2*xt/(1+It+zt);return pr=n((1+pr)/(1-pr),1/Je),[L(2*yt,1-It-zt)/Je,E((pr-1)/(pr+1))]},it}function ao(){var Je=.5,it=(0,m.U)(zl),yt=it(Je);return yt.spacing=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(124.75)}var io=c/w;function No(Je,it){return[Je*(1+F(S(it)))/2,it/(S(it/2)*S(Je/6))]}No.invert=function(Je,it){var yt=P(Je),xt=P(it),Ft=h,It=o;xt<io?It*=xt/io:Ft+=6*b(io/xt);for(var zt=0;zt<25;zt++){var pr=u(It),br=F(S(It)),ar=u(It/2),Mr=S(It/2),Ir=u(Ft/6),Nr=S(Ft/6),nn=.5*Ft*(1+br)-yt,mn=It/(Mr*Nr)-xt,Pn=br?-.25*Ft*pr/br:0,Dn=.5*(1+br),Zn=(1+.5*It*ar/Mr)/(Mr*Nr),Pa=It/Mr*(Ir/6)/(Nr*Nr),Ra=Pn*Pa-Zn*Dn,Da=(nn*Pa-mn*Dn)/Ra,za=(mn*Pn-nn*Zn)/Ra;if(It-=Da,Ft-=za,P(Da)<h&&P(za)<h)break}return[Je<0?-Ft:Ft,it<0?-It:It]};function ic(){return(0,m.c)(No).scale(97.2672)}function Do(Je,it){var yt=Je*Je,xt=it*it;return[Je*(.975534+xt*(-.119161+yt*-.0143059+xt*-.0547009)),it*(1.00384+yt*(.0802894+xt*-.02855+yt*199025e-9)+xt*(.0998909+xt*-.0491032))]}Do.invert=function(Je,it){var yt=l(Je)*c,xt=it/2,Ft=50;do{var It=yt*yt,zt=xt*xt,pr=yt*xt,br=yt*(.975534+zt*(-.119161+It*-.0143059+zt*-.0547009))-Je,ar=xt*(1.00384+It*(.0802894+zt*-.02855+It*199025e-9)+zt*(.0998909+zt*-.0491032))-it,Mr=.975534-zt*(.119161+3*It*.0143059+zt*.0547009),Ir=-pr*(2*.119161+4*.0547009*zt+2*.0143059*It),Nr=pr*(2*.0802894+4*199025e-9*It+2*-.02855*zt),nn=1.00384+It*(.0802894+199025e-9*It)+zt*(3*(.0998909-.02855*It)-5*.0491032*zt),mn=Ir*Nr-nn*Mr,Pn=(ar*Ir-br*nn)/mn,Dn=(br*Nr-ar*Mr)/mn;yt-=Pn,xt-=Dn}while((P(Pn)>h||P(Dn)>h)&&--Ft>0);return Ft&&[yt,xt]};function ch(){return(0,m.c)(Do).scale(139.98)}function gs(Je,it){return[u(Je)/S(it),g(it)*S(Je)]}gs.invert=function(Je,it){var yt=Je*Je,xt=it*it,Ft=xt+1,It=yt+Ft,zt=Je?x*F((It-F(It*It-4*yt))/yt):1/F(Ft);return[E(Je*zt),l(it)*b(zt)]};function $i(){return(0,m.c)(gs).scale(144.049).clipAngle(89.999)}function Af(Je){var it=S(Je),yt=g(d+Je/2);function xt(Ft,It){var zt=It-Je,pr=P(zt)<h?Ft*it:P(pr=d+It/2)<h||P(P(pr)-o)<h?0:Ft*zt/r(g(pr)/yt);return[pr,zt]}return xt.invert=function(Ft,It){var zt,pr=It+Je;return[P(It)<h?Ft/it:P(zt=d+pr/2)<h||P(P(zt)-o)<h?0:Ft*r(g(zt)/yt)/It,pr]},xt}function Xs(){return ot(Af).parallel(40).scale(158.837)}function ys(Je,it){return[Je,1.25*r(g(d+.4*it))]}ys.invert=function(Je,it){return[Je,2.5*i(v(.8*it))-.625*c]};function Sf(){return(0,m.c)(ys).scale(108.318)}function oc(Je){var it=Je.length-1;function yt(xt,Ft){for(var It=S(Ft),zt=2/(1+It*S(xt)),pr=zt*It*u(xt),br=zt*u(Ft),ar=it,Mr=Je[ar],Ir=Mr[0],Nr=Mr[1],nn;--ar>=0;)Mr=Je[ar],Ir=Mr[0]+pr*(nn=Ir)-br*Nr,Nr=Mr[1]+pr*Nr+br*nn;return Ir=pr*(nn=Ir)-br*Nr,Nr=pr*Nr+br*nn,[Ir,Nr]}return yt.invert=function(xt,Ft){var It=20,zt=xt,pr=Ft;do{for(var br=it,ar=Je[br],Mr=ar[0],Ir=ar[1],Nr=0,nn=0,mn;--br>=0;)ar=Je[br],Nr=Mr+zt*(mn=Nr)-pr*nn,nn=Ir+zt*nn+pr*mn,Mr=ar[0]+zt*(mn=Mr)-pr*Ir,Ir=ar[1]+zt*Ir+pr*mn;Nr=Mr+zt*(mn=Nr)-pr*nn,nn=Ir+zt*nn+pr*mn,Mr=zt*(mn=Mr)-pr*Ir-xt,Ir=zt*Ir+pr*mn-Ft;var Pn=Nr*Nr+nn*nn,Dn,Zn;zt-=Dn=(Mr*Nr+Ir*nn)/Pn,pr-=Zn=(Ir*Nr-Mr*nn)/Pn}while(P(Dn)+P(Zn)>h*h&&--It>0);if(It){var Pa=F(zt*zt+pr*pr),Ra=2*i(Pa*.5),Da=u(Ra);return[L(zt*Da,Pa*S(Ra)),Pa?E(pr*Da/Pa):0]}},yt}var hh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ku=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],vh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],dh=[[.9245,0],[0,0],[.01943,0]],ph=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Mf(){return hl(hh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function gh(){return hl(Ku,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function yh(){return hl(vh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function sc(){return hl(dh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function lc(){return hl(ph,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function hl(Je,it){var yt=(0,m.c)(oc(Je)).rotate(it).clipAngle(90),xt=(0,Ge.c)(it),Ft=yt.center;return delete yt.rotate,yt.center=function(It){return arguments.length?Ft(xt(It)):xt.invert(Ft())},yt}var Ol=F(6),hu=F(7);function vu(Je,it){var yt=E(7*u(it)/(3*Ol));return[Ol*Je*(2*S(2*yt/3)-1)/hu,9*u(yt/3)/hu]}vu.invert=function(Je,it){var yt=3*E(it*hu/9);return[Je*hu/(Ol*(2*S(2*yt/3)-1)),E(u(yt)*3*Ol/7)]};function uc(){return(0,m.c)(vu).scale(164.859)}function Rs(Je,it){for(var yt=(1+x)*u(it),xt=it,Ft=0,It;Ft<25&&(xt-=It=(u(xt/2)+u(xt)-yt)/(.5*S(xt/2)+S(xt)),!(P(It)<h));Ft++);return[Je*(1+2*S(xt)/S(xt/2))/(3*w),2*F(3)*u(xt/2)/F(2+w)]}Rs.invert=function(Je,it){var yt=it*F(2+w)/(2*F(3)),xt=2*E(yt);return[3*w*Je/(1+2*S(xt)/S(xt/2)),E((yt+u(xt))/(1+x))]};function mh(){return(0,m.c)(Rs).scale(188.209)}function Ju(Je,it){for(var yt=F(6/(4+c)),xt=(1+c/4)*u(it),Ft=it/2,It=0,zt;It<25&&(Ft-=zt=(Ft/2+u(Ft)-xt)/(.5+S(Ft)),!(P(zt)<h));It++);return[yt*(.5+S(Ft))*Je/1.5,yt*Ft]}Ju.invert=function(Je,it){var yt=F(6/(4+c)),xt=it/yt;return P(P(xt)-o)<h&&(xt=xt<0?-o:o),[1.5*Je/(yt*(.5+S(xt))),E((xt/2+u(xt))/(1+c/4))]};function fc(){return(0,m.c)(Ju).scale(166.518)}var cc=e(47984);function Qu(Je,it){var yt=it*it,xt=yt*yt,Ft=yt*xt;return[Je*(.84719-.13063*yt+Ft*Ft*(-.04515+.05494*yt-.02326*xt+.00331*Ft)),it*(1.01183+xt*xt*(-.02625+.01926*yt-.00396*xt))]}Qu.invert=function(Je,it){var yt=it,xt=25,Ft,It,zt,pr;do It=yt*yt,zt=It*It,yt-=Ft=(yt*(1.01183+zt*zt*(-.02625+.01926*It-.00396*zt))-it)/(1.01183+zt*zt*(-.23625+.21186*It+-.05148*zt));while(P(Ft)>T&&--xt>0);return It=yt*yt,zt=It*It,pr=It*zt,[Je/(.84719-.13063*It+pr*pr*(-.04515+.05494*It-.02326*zt+.00331*pr)),yt]};function qo(){return(0,m.c)(Qu).scale(175.295)}function Bl(Je,it){return[Je*(1+S(it))/2,2*(it-g(it/2))]}Bl.invert=function(Je,it){for(var yt=it/2,xt=0,Ft=1/0;xt<10&&P(Ft)>h;++xt){var It=S(it/2);it-=Ft=(it-g(it/2)-yt)/(1-.5/(It*It))}return[2*Je/(1+S(it)),it]};function vl(){return(0,m.c)(Bl).scale(152.63)}var du=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function js(){return no(q(1/0),du).rotate([20,0]).scale(152.63)}function ms(Je,it){var yt=u(it),xt=S(it),Ft=l(Je);if(Je===0||P(it)===o)return[0,it];if(it===0)return[Je,0];if(P(Je)===o)return[Je*xt,o*yt];var It=c/(2*Je)-2*Je/c,zt=2*it/c,pr=(1-zt*zt)/(yt-zt),br=It*It,ar=pr*pr,Mr=1+br/ar,Ir=1+ar/br,Nr=(It*yt/pr-It/2)/Mr,nn=(ar*yt/br+pr/2)/Ir,mn=Nr*Nr+xt*xt/Mr,Pn=nn*nn-(ar*yt*yt/br+pr*yt-1)/Ir;return[o*(Nr+F(mn)*Ft),o*(nn+F(Pn<0?0:Pn)*l(-it*It)*Ft)]}ms.invert=function(Je,it){Je/=o,it/=o;var yt=Je*Je,xt=it*it,Ft=yt+xt,It=c*c;return[Je?(Ft-1+F((1-Ft)*(1-Ft)+4*yt))/(2*Je)*o:0,we(function(zt){return Ft*(c*u(zt)-2*zt)*c+4*zt*zt*(it-u(zt))+2*c*zt-It*it},0)]};function Ef(){return(0,m.c)(ms).scale(127.267)}var Nl=1.0148,es=.23185,Di=-.14499,Cf=.02406,xh=Nl,$u=5*es,Ul=7*Di,Vl=9*Cf,Io=1.790857183;function qu(Je,it){var yt=it*it;return[Je,it*(Nl+yt*yt*(es+yt*(Di+Cf*yt)))]}qu.invert=function(Je,it){it>Io?it=Io:it<-Io&&(it=-Io);var yt=it,xt;do{var Ft=yt*yt;yt-=xt=(yt*(Nl+Ft*Ft*(es+Ft*(Di+Cf*Ft)))-it)/(xh+Ft*Ft*($u+Ft*(Ul+Vl*Ft)))}while(P(xt)>h);return[Je,yt]};function Hl(){return(0,m.c)(qu).scale(139.319)}function ef(Je,it){if(P(it)<h)return[Je,0];var yt=g(it),xt=Je*u(it);return[u(xt)/yt,it+(1-S(xt))/yt]}ef.invert=function(Je,it){if(P(it)<h)return[Je,0];var yt=Je*Je+it*it,xt=it*.5,Ft=10,It;do{var zt=g(xt),pr=1/S(xt),br=yt-2*it*xt+xt*xt;xt-=It=(zt*br+2*(xt-it))/(2+br*pr*pr+2*(xt-it)*zt)}while(P(It)>h&&--Ft>0);return zt=g(xt),[(P(it)<P(xt+1/zt)?E(Je*zt):l(it)*l(Je)*(b(P(Je*zt))+o))/u(xt),xt]};function bh(){return(0,m.c)(ef).scale(103.74)}var hc=e(13696),Lf=e(27284);function Pf(Je,it){var yt=tf(Je[1],Je[0]),xt=tf(it[1],it[0]),Ft=rf(yt,xt),It=pu(yt)/pu(xt);return Gl([1,0,Je[0][0],0,1,Je[0][1]],Gl([It,0,0,0,It,0],Gl([S(Ft),u(Ft),0,-u(Ft),S(Ft),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function Rf(Je){var it=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[it*Je[4],-it*Je[1],it*(Je[1]*Je[5]-Je[2]*Je[4]),-it*Je[3],it*Je[0],it*(Je[2]*Je[3]-Je[0]*Je[5])]}function Gl(Je,it){return[Je[0]*it[0]+Je[1]*it[3],Je[0]*it[1]+Je[1]*it[4],Je[0]*it[2]+Je[1]*it[5]+Je[2],Je[3]*it[0]+Je[4]*it[3],Je[3]*it[1]+Je[4]*it[4],Je[3]*it[2]+Je[4]*it[5]+Je[5]]}function tf(Je,it){return[Je[0]-it[0],Je[1]-it[1]]}function pu(Je){return F(Je[0]*Je[0]+Je[1]*Je[1])}function rf(Je,it){return L(Je[0]*it[1]-Je[1]*it[0],Je[0]*it[0]+Je[1]*it[1])}function mi(Je,it,yt){xt(Je,{transform:null});function xt(ar,Mr){if(ar.edges=Df(ar.face),Mr.face){var Ir=ar.shared=dc(ar.face,Mr.face),Nr=Pf(Ir.map(Mr.project),Ir.map(ar.project));ar.transform=Mr.transform?Gl(Mr.transform,Nr):Nr;for(var nn=Mr.edges,mn=0,Pn=nn.length;mn<Pn;++mn)ts(Ir[0],nn[mn][1])&&ts(Ir[1],nn[mn][0])&&(nn[mn]=ar),ts(Ir[0],nn[mn][0])&&ts(Ir[1],nn[mn][1])&&(nn[mn]=ar);for(nn=ar.edges,mn=0,Pn=nn.length;mn<Pn;++mn)ts(Ir[0],nn[mn][0])&&ts(Ir[1],nn[mn][1])&&(nn[mn]=Mr),ts(Ir[0],nn[mn][1])&&ts(Ir[1],nn[mn][0])&&(nn[mn]=Mr)}else ar.transform=Mr.transform;return ar.children&&ar.children.forEach(function(Dn){xt(Dn,ar)}),ar}function Ft(ar,Mr){var Ir=it(ar,Mr),Nr=Ir.project([ar*M,Mr*M]),nn;return(nn=Ir.transform)?[nn[0]*Nr[0]+nn[1]*Nr[1]+nn[2],-(nn[3]*Nr[0]+nn[4]*Nr[1]+nn[5])]:(Nr[1]=-Nr[1],Nr)}dl(Je)&&(Ft.invert=function(ar,Mr){var Ir=It(Je,[ar,-Mr]);return Ir&&(Ir[0]*=A,Ir[1]*=A,Ir)});function It(ar,Mr){var Ir=ar.project.invert,Nr=ar.transform,nn=Mr;if(Nr&&(Nr=Rf(Nr),nn=[Nr[0]*nn[0]+Nr[1]*nn[1]+Nr[2],Nr[3]*nn[0]+Nr[4]*nn[1]+Nr[5]]),Ir&&ar===zt(mn=Ir(nn)))return mn;for(var mn,Pn=ar.children,Dn=0,Zn=Pn&&Pn.length;Dn<Zn;++Dn)if(mn=It(Pn[Dn],Mr))return mn}function zt(ar){return it(ar[0]*A,ar[1]*A)}var pr=(0,m.c)(Ft),br=pr.stream;return pr.stream=function(ar){var Mr=pr.rotate(),Ir=br(ar),Nr=(pr.rotate([0,0]),br(ar));return pr.rotate(Mr),Ir.sphere=function(){Nr.polygonStart(),Nr.lineStart(),vc(Nr,Je),Nr.lineEnd(),Nr.polygonEnd()},Ir},pr.angle(yt==null?-30:yt*M)}function vc(Je,it,yt){var xt,Ft=it.edges,It=Ft.length,zt,pr={type:"MultiPoint",coordinates:it.face},br=it.face.filter(function(Pn){return P(Pn[1])!==90}),ar=(0,hc.c)({type:"MultiPoint",coordinates:br}),Mr=!1,Ir=-1,Nr=ar[1][0]-ar[0][0],nn=Nr===180||Nr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,_e.c)(pr);if(yt)for(;++Ir<It&&Ft[Ir]!==yt;);++Ir;for(var mn=0;mn<It;++mn)zt=Ft[(mn+Ir)%It],Array.isArray(zt)?(Mr||(Je.point((xt=(0,Lf.c)(zt[0],nn)(h))[0],xt[1]),Mr=!0),Je.point((xt=(0,Lf.c)(zt[1],nn)(h))[0],xt[1])):(Mr=!1,zt!==yt&&vc(Je,zt,it))}function ts(Je,it){return Je&&it&&Je[0]===it[0]&&Je[1]===it[1]}function dc(Je,it){for(var yt,xt,Ft=Je.length,It=null,zt=0;zt<Ft;++zt){yt=Je[zt];for(var pr=it.length;--pr>=0;)if(xt=it[pr],yt[0]===xt[0]&&yt[1]===xt[1]){if(It)return[It,yt];It=yt}}}function Df(Je){for(var it=Je.length,yt=[],xt=Je[it-1],Ft=0;Ft<it;++Ft)yt.push([xt,xt=Je[Ft]]);return yt}function dl(Je){return Je.project.invert||Je.children&&Je.children.some(dl)}var Zs=e(53285),nf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],_i=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(it){return nf[it]})});function gu(Je){Je=Je||function(yt){var xt=(0,_e.c)({type:"MultiPoint",coordinates:yt});return(0,Zs.c)().scale(1).translate([0,0]).rotate([-xt[0],-xt[1]])};var it=_i.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,xt){var Ft=it[yt];Ft&&(Ft.children||(Ft.children=[])).push(it[xt])}),mi(it[0],function(yt,xt){return it[yt<-c/2?xt<0?6:4:yt<0?xt<0?2:0:yt<c/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var rs=2/F(3);function Ds(Je,it){var yt=xe(Je,it);return[yt[0]*rs,yt[1]]}Ds.invert=function(Je,it){return xe.invert(Je/rs,it)};function pl(Je){Je=Je||function(yt){var xt=(0,_e.c)({type:"MultiPoint",coordinates:yt});return(0,m.c)(Ds).translate([0,0]).scale(1).rotate(xt[1]>0?[-xt[0],0]:[180-xt[0],180])};var it=_i.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,xt){var Ft=it[yt];Ft&&(Ft.children||(Ft.children=[])).push(it[xt])}),mi(it[0],function(yt,xt){return it[yt<-c/2?xt<0?6:4:yt<0?xt<0?2:0:yt<c/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ks(Je){Je=Je||function(zt){var pr=zt.length===6?(0,_e.c)({type:"MultiPoint",coordinates:zt}):zt[0];return(0,Zs.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var it=_i.map(function(zt){for(var pr=zt.map(Xo),br=pr.length,ar=pr[br-1],Mr,Ir=[],Nr=0;Nr<br;++Nr)Mr=pr[Nr],Ir.push(as([ar[0]*.9486832980505138+Mr[0]*.31622776601683794,ar[1]*.9486832980505138+Mr[1]*.31622776601683794,ar[2]*.9486832980505138+Mr[2]*.31622776601683794]),as([Mr[0]*.9486832980505138+ar[0]*.31622776601683794,Mr[1]*.9486832980505138+ar[1]*.31622776601683794,Mr[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Mr;return Ir}),yt=[],xt=[-1,0,0,1,0,1,4,5];it.forEach(function(zt,pr){for(var br=_i[pr],ar=br.length,Mr=yt[pr]=[],Ir=0;Ir<ar;++Ir)it.push([br[Ir],zt[(Ir*2+2)%(2*ar)],zt[(Ir*2+1)%(2*ar)]]),xt.push(pr),Mr.push(Is(Xo(zt[(Ir*2+2)%(2*ar)]),Xo(zt[(Ir*2+1)%(2*ar)])))});var Ft=it.map(function(zt){return{project:Je(zt),face:zt}});xt.forEach(function(zt,pr){var br=Ft[zt];br&&(br.children||(br.children=[])).push(Ft[pr])});function It(zt,pr){var br=S(pr),ar=[br*S(zt),br*u(zt),u(pr)],Mr=zt<-c/2?pr<0?6:4:zt<0?pr<0?2:0:zt<c/2?pr<0?3:1:pr<0?7:5,Ir=yt[Mr];return Ft[ns(Ir[0],ar)<0?8+3*Mr:ns(Ir[1],ar)<0?8+3*Mr+1:ns(Ir[2],ar)<0?8+3*Mr+2:Mr]}return mi(Ft[0],It).angle(-30).scale(110.625).center([0,45])}function ns(Je,it){for(var yt=0,xt=Je.length,Ft=0;yt<xt;++yt)Ft+=Je[yt]*it[yt];return Ft}function Is(Je,it){return[Je[1]*it[2]-Je[2]*it[1],Je[2]*it[0]-Je[0]*it[2],Je[0]*it[1]-Je[1]*it[0]]}function as(Je){return[L(Je[1],Je[0])*M,E(t(-1,a(1,Je[2])))*M]}function Xo(Je){var it=Je[0]*A,yt=Je[1]*A,xt=S(yt);return[xt*S(it),xt*u(it),u(yt)]}function yu(){}function wh(Je){if((yt=Je.length)<4)return!1;for(var it=0,yt,xt=Je[yt-1][1]*Je[0][0]-Je[yt-1][0]*Je[0][1];++it<yt;)xt+=Je[it-1][1]*Je[it][0]-Je[it-1][0]*Je[it][1];return xt<=0}function Th(Je,it){for(var yt=it[0],xt=it[1],Ft=!1,It=0,zt=Je.length,pr=zt-1;It<zt;pr=It++){var br=Je[It],ar=br[0],Mr=br[1],Ir=Je[pr],Nr=Ir[0],nn=Ir[1];Mr>xt^nn>xt&&yt<(Nr-ar)*(xt-Mr)/(nn-Mr)+ar&&(Ft=!Ft)}return Ft}function Ah(Je,it){var yt=it.stream,xt;if(!yt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":xt=If;break;case"FeatureCollection":xt=Sh;break;default:xt=Wl;break}return xt(Je,yt)}function Sh(Je,it){return{type:"FeatureCollection",features:Je.features.map(function(yt){return If(yt,it)})}}function If(Je,it){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:Wl(Je.geometry,it)}}function pc(Je,it){return{type:"GeometryCollection",geometries:Je.geometries.map(function(yt){return Wl(yt,it)})}}function Wl(Je,it){if(!Je)return null;if(Je.type==="GeometryCollection")return pc(Je,it);var yt;switch(Je.type){case"Point":yt=Yl;break;case"MultiPoint":yt=Yl;break;case"LineString":yt=gc;break;case"MultiLineString":yt=gc;break;case"Polygon":yt=mu;break;case"MultiPolygon":yt=mu;break;case"Sphere":yt=mu;break;default:return null}return(0,ha.c)(Je,it(yt)),yt.result()}var qi=[],Uo=[],Yl={point:function(Je,it){qi.push([Je,it])},result:function(){var Je=qi.length?qi.length<2?{type:"Point",coordinates:qi[0]}:{type:"MultiPoint",coordinates:qi}:null;return qi=[],Je}},gc={lineStart:yu,point:function(Je,it){qi.push([Je,it])},lineEnd:function(){qi.length&&(Uo.push(qi),qi=[])},result:function(){var Je=Uo.length?Uo.length<2?{type:"LineString",coordinates:Uo[0]}:{type:"MultiLineString",coordinates:Uo}:null;return Uo=[],Je}},mu={polygonStart:yu,lineStart:yu,point:function(Je,it){qi.push([Je,it])},lineEnd:function(){var Je=qi.length;if(Je){do qi.push(qi[0].slice());while(++Je<4);Uo.push(qi),qi=[]}},polygonEnd:yu,result:function(){if(!Uo.length)return null;var Je=[],it=[];return Uo.forEach(function(yt){wh(yt)?Je.push([yt]):it.push(yt)}),it.forEach(function(yt){var xt=yt[0];Je.some(function(Ft){if(Th(Ft[0],xt))return Ft.push(yt),!0})||Je.push([yt])}),Uo=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function ks(Je){var it=Je(o,0)[0]-Je(-o,0)[0];function yt(xt,Ft){var It=P(xt)<o,zt=Je(It?xt:xt>0?xt-c:xt+c,Ft),pr=(zt[0]-zt[1])*x,br=(zt[0]+zt[1])*x;if(It)return[pr,br];var ar=it*x,Mr=pr>0^br>0?-1:1;return[Mr*pr-l(br)*ar,Mr*br-l(pr)*ar]}return Je.invert&&(yt.invert=function(xt,Ft){var It=(xt+Ft)*x,zt=(Ft-xt)*x,pr=P(It)<.5*it&&P(zt)<.5*it;if(!pr){var br=it*x,ar=It>0^zt>0?-1:1,Mr=-ar*xt+(zt>0?1:-1)*br,Ir=-ar*Ft+(It>0?1:-1)*br;It=(-Mr-Ir)*x,zt=(Mr-Ir)*x}var Nr=Je.invert(It,zt);return pr||(Nr[0]+=It>0?c:-c),Nr}),(0,m.c)(yt).rotate([-90,-90,45]).clipAngle(179.999)}function Mh(){return ks(Sn).scale(176.423)}function yc(){return ks(mr).scale(111.48)}function mc(Je,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function yt(ar){var Mr=ar.length,Ir=2,Nr=new Array(Mr);for(Nr[0]=+ar[0].toFixed(it),Nr[1]=+ar[1].toFixed(it);Ir<Mr;)Nr[Ir]=ar[Ir],++Ir;return Nr}function xt(ar){return ar.map(yt)}function Ft(ar){for(var Mr=yt(ar[0]),Ir=[Mr],Nr=1;Nr<ar.length;Nr++){var nn=yt(ar[Nr]);(nn.length>2||nn[0]!=Mr[0]||nn[1]!=Mr[1])&&(Ir.push(nn),Mr=nn)}return Ir.length===1&&ar.length>1&&Ir.push(yt(ar[ar.length-1])),Ir}function It(ar){return ar.map(Ft)}function zt(ar){if(ar==null)return ar;var Mr;switch(ar.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:ar.geometries.map(zt)};break;case"Point":Mr={type:"Point",coordinates:yt(ar.coordinates)};break;case"MultiPoint":Mr={type:ar.type,coordinates:xt(ar.coordinates)};break;case"LineString":Mr={type:ar.type,coordinates:Ft(ar.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:ar.type,coordinates:It(ar.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:ar.coordinates.map(It)};break;default:return ar}return ar.bbox!=null&&(Mr.bbox=ar.bbox),Mr}function pr(ar){var Mr={type:"Feature",properties:ar.properties,geometry:zt(ar.geometry)};return ar.id!=null&&(Mr.id=ar.id),ar.bbox!=null&&(Mr.bbox=ar.bbox),Mr}if(Je!=null)switch(Je.type){case"Feature":return pr(Je);case"FeatureCollection":{var br={type:"FeatureCollection",features:Je.features.map(pr)};return Je.bbox!=null&&(br.bbox=Je.bbox),br}default:return zt(Je)}return Je}function kf(Je){var it=u(Je);function yt(xt,Ft){var It=it?g(xt*it/2)/it:xt/2;if(!Ft)return[2*It,-Je];var zt=2*i(It*u(Ft)),pr=1/g(Ft);return[u(zt)*pr,Ft+(1-S(zt))*pr-Je]}return yt.invert=function(xt,Ft){if(P(Ft+=Je)<h)return[it?2*i(it*xt/2)/it:xt,0];var It=xt*xt+Ft*Ft,zt=0,pr=10,br;do{var ar=g(zt),Mr=1/S(zt),Ir=It-2*Ft*zt+zt*zt;zt-=br=(ar*Ir+2*(zt-Ft))/(2+Ir*Mr*Mr+2*(zt-Ft)*ar)}while(P(br)>h&&--pr>0);var Nr=xt*(ar=g(zt)),nn=g(P(Ft)<P(zt+1/ar)?E(Nr)*.5:b(Nr)*.5+c/4)/u(zt);return[it?2*i(it*nn)/it:2*nn,zt]},yt}function xc(){return ot(kf).scale(131.215)}var Ao=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ao.forEach(function(Je){Je[1]*=1.0144});function is(Je,it){var yt=a(18,P(it)*36/c),xt=p(yt),Ft=yt-xt,It=(Ir=Ao[xt])[0],zt=Ir[1],pr=(Ir=Ao[++xt])[0],br=Ir[1],ar=(Ir=Ao[a(19,++xt)])[0],Mr=Ir[1],Ir;return[Je*(pr+Ft*(ar-It)/2+Ft*Ft*(ar-2*pr+It)/2),(it>0?o:-o)*(br+Ft*(Mr-zt)/2+Ft*Ft*(Mr-2*br+zt)/2)]}is.invert=function(Je,it){var yt=it/o,xt=yt*90,Ft=a(18,P(xt/5)),It=t(0,p(Ft));do{var zt=Ao[It][1],pr=Ao[It+1][1],br=Ao[a(19,It+2)][1],ar=br-zt,Mr=br-2*pr+zt,Ir=2*(P(yt)-pr)/ar,Nr=Mr/ar,nn=Ir*(1-Nr*Ir*(1-2*Nr*Ir));if(nn>=0||It===1){xt=(it>=0?5:-5)*(nn+Ft);var mn=50,Pn;do Ft=a(18,P(xt)/5),It=p(Ft),nn=Ft-It,zt=Ao[It][1],pr=Ao[It+1][1],br=Ao[a(19,It+2)][1],xt-=(Pn=(it>=0?o:-o)*(pr+nn*(br-zt)/2+nn*nn*(br-2*pr+zt)/2)-it)*M;while(P(Pn)>T&&--mn>0);break}}while(--It>=0);var Dn=Ao[It][0],Zn=Ao[It+1][0],Pa=Ao[a(19,It+2)][0];return[Je/(Zn+nn*(Pa-Dn)/2+nn*nn*(Pa-2*Zn+Dn)/2),xt*A]};function Js(){return(0,m.c)(is).scale(152.63)}function Xl(Je){function it(yt,xt){var Ft=S(xt),It=(Je-1)/(Je-Ft*S(yt));return[It*Ft*u(yt),It*u(xt)]}return it.invert=function(yt,xt){var Ft=yt*yt+xt*xt,It=F(Ft),zt=(Je-F(1-Ft*(Je+1)/(Je-1)))/((Je-1)/It+It/(Je-1));return[L(yt*zt,It*F(1-zt*zt)),It?E(xt*zt/It):0]},it}function af(Je,it){var yt=Xl(Je);if(!it)return yt;var xt=S(it),Ft=u(it);function It(zt,pr){var br=yt(zt,pr),ar=br[1],Mr=ar*Ft/(Je-1)+xt;return[br[0]*xt/Mr,ar/Mr]}return It.invert=function(zt,pr){var br=(Je-1)/(Je-1-pr*Ft);return yt.invert(br*zt,br*pr*xt)},It}function yl(){var Je=2,it=0,yt=(0,m.U)(af),xt=yt(Je,it);return xt.distance=function(Ft){return arguments.length?yt(Je=+Ft,it):Je},xt.tilt=function(Ft){return arguments.length?yt(Je,it=Ft*A):it*M},xt.scale(432.147).clipAngle(b(1/Je)*M-1e-6)}var ml=1e-4,bc=1e4,Fs=-180,jl=Fs+ml,Qs=180,_s=Qs-ml,xu=-90,Zl=xu+ml,di=90,Kl=di-ml;function of(Je){return Je.length>0}function wc(Je){return Math.floor(Je*bc)/bc}function Jl(Je){return Je===xu||Je===di?[0,Je]:[Fs,wc(Je)]}function bu(Je){var it=Je[0],yt=Je[1],xt=!1;return it<=jl?(it=Fs,xt=!0):it>=_s&&(it=Qs,xt=!0),yt<=Zl?(yt=xu,xt=!0):yt>=Kl&&(yt=di,xt=!0),xt?[it,yt]:Je}function sf(Je){return Je.map(bu)}function Ff(Je,it,yt){for(var xt=0,Ft=Je.length;xt<Ft;++xt){var It=Je[xt].slice();yt.push({index:-1,polygon:it,ring:It});for(var zt=0,pr=It.length;zt<pr;++zt){var br=It[zt],ar=br[0],Mr=br[1];if(ar<=jl||ar>=_s||Mr<=Zl||Mr>=Kl){It[zt]=bu(br);for(var Ir=zt+1;Ir<pr;++Ir){var Nr=It[Ir],nn=Nr[0],mn=Nr[1];if(nn>jl&&nn<_s&&mn>Zl&&mn<Kl)break}if(Ir===zt+1)continue;if(zt){var Pn={index:-1,polygon:it,ring:It.slice(0,zt+1)};Pn.ring[Pn.ring.length-1]=Jl(Mr),yt[yt.length-1]=Pn}else yt.pop();if(Ir>=pr)break;yt.push({index:-1,polygon:it,ring:It=It.slice(Ir-1)}),It[0]=Jl(It[0][1]),zt=-1,pr=It.length}}}}function wu(Je){var it,yt=Je.length,xt={},Ft={},It,zt,pr,br,ar;for(it=0;it<yt;++it){if(It=Je[it],zt=It.ring[0],br=It.ring[It.ring.length-1],zt[0]===br[0]&&zt[1]===br[1]){It.polygon.push(It.ring),Je[it]=null;continue}It.index=it,xt[zt]=Ft[br]=It}for(it=0;it<yt;++it)if(It=Je[it],It){if(zt=It.ring[0],br=It.ring[It.ring.length-1],pr=Ft[zt],ar=xt[br],delete xt[zt],delete Ft[br],zt[0]===br[0]&&zt[1]===br[1]){It.polygon.push(It.ring);continue}pr?(delete Ft[zt],delete xt[pr.ring[0]],pr.ring.pop(),Je[pr.index]=null,It={index:-1,polygon:pr.polygon,ring:pr.ring.concat(It.ring)},pr===ar?It.polygon.push(It.ring):(It.index=yt++,Je.push(xt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It))):ar?(delete xt[br],delete Ft[ar.ring[ar.ring.length-1]],It.ring.pop(),It={index:yt++,polygon:ar.polygon,ring:It.ring.concat(ar.ring)},Je[ar.index]=null,Je.push(xt[It.ring[0]]=Ft[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function Tu(Je){var it={type:"Feature",geometry:$s(Je.geometry)};return Je.id!=null&&(it.id=Je.id),Je.bbox!=null&&(it.bbox=Je.bbox),Je.properties!=null&&(it.properties=Je.properties),it}function $s(Je){if(Je==null)return Je;var it,yt,xt,Ft;switch(Je.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:Je.geometries.map($s)};break;case"Point":it={type:"Point",coordinates:bu(Je.coordinates)};break;case"MultiPoint":case"LineString":it={type:Je.type,coordinates:sf(Je.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:Je.coordinates.map(sf)};break;case"Polygon":{var It=[];Ff(Je.coordinates,It,yt=[]),wu(yt),it={type:"Polygon",coordinates:It};break}case"MultiPolygon":{yt=[],xt=-1,Ft=Je.coordinates.length;for(var zt=new Array(Ft);++xt<Ft;)Ff(Je.coordinates[xt],zt[xt]=[],yt);wu(yt),it={type:"MultiPolygon",coordinates:zt.filter(of)};break}default:return Je}return Je.bbox!=null&&(it.bbox=Je.bbox),it}function Au(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return Tu(Je);case"FeatureCollection":{var it={type:"FeatureCollection",features:Je.features.map(Tu)};return Je.bbox!=null&&(it.bbox=Je.bbox),it}default:return $s(Je)}}function qs(Je,it){var yt=g(it/2),xt=u(d*yt);return[Je*(.74482-.34588*xt*xt),1.70711*yt]}qs.invert=function(Je,it){var yt=it/1.70711,xt=u(d*yt);return[Je/(.74482-.34588*xt*xt),2*i(yt)]};function Wi(){return(0,m.c)(qs).scale(146.153)}function xs(Je,it,yt){var xt=(0,Lf.c)(it,yt),Ft=xt(.5),It=(0,Ge.c)([-Ft[0],-Ft[1]])(it),zt=xt.distance/2,pr=-E(u(It[1]*A)/u(zt)),br=[-Ft[0],-Ft[1],-(It[0]>0?c-pr:pr)*M],ar=(0,m.c)(Je(zt)).rotate(br),Mr=(0,Ge.c)(br),Ir=ar.center;return delete ar.rotate,ar.center=function(Nr){return arguments.length?Ir(Mr(Nr)):Mr.invert(Ir())},ar.clipAngle(90)}function _f(Je){var it=S(Je);function yt(xt,Ft){var It=(0,Zs.Y)(xt,Ft);return It[0]*=it,It}return yt.invert=function(xt,Ft){return Zs.Y.invert(xt/it,Ft)},yt}function xl(){return lf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function lf(Je,it){return xs(_f,Je,it)}function Su(Je){if(!(Je*=2))return oe.O;var it=-Je/2,yt=-it,xt=Je*Je,Ft=g(yt),It=.5/u(yt);function zt(pr,br){var ar=b(S(br)*S(pr-it)),Mr=b(S(br)*S(pr-yt)),Ir=br<0?-1:1;return ar*=ar,Mr*=Mr,[(ar-Mr)/(2*Je),Ir*F(4*xt*Mr-(xt-ar+Mr)*(xt-ar+Mr))/(2*Je)]}return zt.invert=function(pr,br){var ar=br*br,Mr=S(F(ar+(Nr=pr+it)*Nr)),Ir=S(F(ar+(Nr=pr+yt)*Nr)),Nr,nn;return[L(nn=Mr-Ir,Nr=(Mr+Ir)*Ft),(br<0?-1:1)*b(F(Nr*Nr+nn*nn)*It)]},zt}function Eh(){return Tc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Tc(Je,it){return xs(Su,Je,it)}function yo(Je,it){if(P(it)<h)return[Je,0];var yt=P(it/o),xt=E(yt);if(P(Je)<h||P(P(it)-o)<h)return[0,l(it)*c*g(xt/2)];var Ft=S(xt),It=P(c/Je-Je/c)/2,zt=It*It,pr=Ft/(yt+Ft-1),br=pr*(2/yt-1),ar=br*br,Mr=ar+zt,Ir=pr-ar,Nr=zt+pr;return[l(Je)*c*(It*Ir+F(zt*Ir*Ir-Mr*(pr*pr-ar)))/Mr,l(it)*c*(br*Nr-It*F((zt+1)*Mr-Nr*Nr))/Mr]}yo.invert=function(Je,it){if(P(it)<h)return[Je,0];if(P(Je)<h)return[0,o*u(2*i(it/c))];var yt=(Je/=c)*Je,xt=(it/=c)*it,Ft=yt+xt,It=Ft*Ft,zt=-P(it)*(1+Ft),pr=zt-2*xt+yt,br=-2*zt+1+2*xt+It,ar=xt/br+(2*pr*pr*pr/(br*br*br)-9*zt*pr/(br*br))/27,Mr=(zt-pr*pr/(3*br))/br,Ir=2*F(-Mr/3),Nr=b(3*ar/(Mr*Ir))/3;return[c*(Ft-1+F(1+2*(yt-xt)+It))/(2*Je),l(it)*c*(-Ir*S(Nr+c/3)-pr/(3*br))]};function Mu(){return(0,m.c)(yo).scale(79.4183)}function Ql(Je,it){if(P(it)<h)return[Je,0];var yt=P(it/o),xt=E(yt);if(P(Je)<h||P(P(it)-o)<h)return[0,l(it)*c*g(xt/2)];var Ft=S(xt),It=P(c/Je-Je/c)/2,zt=It*It,pr=Ft*(F(1+zt)-It*Ft)/(1+zt*yt*yt);return[l(Je)*c*pr,l(it)*c*F(1-pr*(2*It+pr))]}Ql.invert=function(Je,it){if(!Je)return[0,o*u(2*i(it/c))];var yt=P(Je/c),xt=(1-yt*yt-(it/=c)*it)/(2*yt),Ft=xt*xt,It=F(Ft+1);return[l(Je)*c*(It-xt),l(it)*o*u(2*L(F((1-2*xt*yt)*(xt+It)-yt),F(It+xt+yt)))]};function Ac(){return(0,m.c)(Ql).scale(79.4183)}function el(Je,it){if(P(it)<h)return[Je,0];var yt=it/o,xt=E(yt);if(P(Je)<h||P(P(it)-o)<h)return[0,c*g(xt/2)];var Ft=(c/Je-Je/c)/2,It=yt/(1+S(xt));return[c*(l(Je)*F(Ft*Ft+1-It*It)-Ft),c*It]}el.invert=function(Je,it){if(!it)return[Je,0];var yt=it/c,xt=(c*c*(1-yt*yt)-Je*Je)/(2*c*Je);return[Je?c*(l(Je)*F(xt*xt+1)-xt):0,o*u(2*i(yt))]};function Ch(){return(0,m.c)(el).scale(79.4183)}function ko(Je,it){if(!it)return[Je,0];var yt=P(it);if(!Je||yt===o)return[0,it];var xt=yt/o,Ft=xt*xt,It=(8*xt-Ft*(Ft+2)-5)/(2*Ft*(xt-1)),zt=It*It,pr=xt*It,br=Ft+zt+2*pr,ar=xt+3*It,Mr=Je/o,Ir=Mr+1/Mr,Nr=l(P(Je)-o)*F(Ir*Ir-4),nn=Nr*Nr,mn=br*(Ft+zt*nn-1)+(1-Ft)*(Ft*(ar*ar+4*zt)+12*pr*zt+4*zt*zt),Pn=(Nr*(br+zt-1)+2*F(mn))/(4*br+nn);return[l(Je)*o*Pn,l(it)*o*F(1+Nr*P(Pn)-Pn*Pn)]}ko.invert=function(Je,it){var yt;if(!Je||!it)return[Je,it];it/=c;var xt=l(Je)*Je/o,Ft=(xt*xt-1+4*it*it)/P(xt),It=Ft*Ft,zt=2*it,pr=50;do{var br=zt*zt,ar=(8*zt-br*(br+2)-5)/(2*br*(zt-1)),Mr=(3*zt-br*zt-10)/(2*br*zt),Ir=ar*ar,Nr=zt*ar,nn=zt+ar,mn=nn*nn,Pn=zt+3*ar,Dn=mn*(br+Ir*It-1)+(1-br)*(br*(Pn*Pn+4*Ir)+Ir*(12*Nr+4*Ir)),Zn=-2*nn*(4*Nr*Ir+(1-4*br+3*br*br)*(1+Mr)+Ir*(-6+14*br-It+(-8+8*br-2*It)*Mr)+Nr*(-8+12*br+(-10+10*br-It)*Mr)),Pa=F(Dn),Ra=Ft*(mn+Ir-1)+2*Pa-xt*(4*mn+It),Da=Ft*(2*ar*Mr+2*nn*(1+Mr))+Zn/Pa-8*nn*(Ft*(-1+Ir+mn)+2*Pa)*(1+Mr)/(It+4*mn);zt-=yt=Ra/Da}while(yt>h&&--pr>0);return[l(Je)*(F(Ft*Ft+4)+Ft)*c/4,o*zt]};function Eu(){return(0,m.c)(ko).scale(127.16)}function uf(Je,it,yt,xt,Ft){function It(zt,pr){var br=yt*u(xt*pr),ar=F(1-br*br),Mr=F(2/(1+ar*S(zt*=Ft)));return[Je*ar*Mr*u(zt),it*br*Mr]}return It.invert=function(zt,pr){var br=zt/Je,ar=pr/it,Mr=F(br*br+ar*ar),Ir=2*E(Mr/2);return[L(zt*g(Ir),Je*Mr)/Ft,Mr&&E(pr*u(Ir)/(it*yt*Mr))/xt]},It}function zs(Je,it,yt,xt){var Ft=c/3;Je=t(Je,h),it=t(it,h),Je=a(Je,o),it=a(it,c-h),yt=t(yt,0),yt=a(yt,100-h),xt=t(xt,h);var It=yt/100+1,zt=xt/100,pr=b(It*S(Ft))/Ft,br=u(Je)/u(pr*o),ar=it/c,Mr=F(zt*u(Je/2)/u(it/2)),Ir=Mr/F(ar*br*pr),Nr=1/(Mr*F(ar*br*pr));return uf(Ir,Nr,br,pr,ar)}function tl(){var Je=65*A,it=60*A,yt=20,xt=200,Ft=(0,m.U)(zs),It=Ft(Je,it,yt,xt);return It.poleline=function(zt){return arguments.length?Ft(Je=+zt*A,it,yt,xt):Je*M},It.parallels=function(zt){return arguments.length?Ft(Je,it=+zt*A,yt,xt):it*M},It.inflation=function(zt){return arguments.length?Ft(Je,it,yt=+zt,xt):yt},It.ratio=function(zt){return arguments.length?Ft(Je,it,yt,xt=+zt):xt},It.scale(163.775)}function zf(){return tl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Cu=4*c+3*F(3),Lu=2*F(2*c*F(3)/Cu),ff=Ae(Lu*F(3)/c,Lu,Cu/6);function Sc(){return(0,m.c)(ff).scale(176.84)}function Pu(Je,it){return[Je*F(1-3*it*it/(c*c)),it]}Pu.invert=function(Je,it){return[Je/F(1-3*it*it/(c*c)),it]};function Of(){return(0,m.c)(Pu).scale(152.63)}function bl(Je,it){var yt=S(it),xt=S(Je)*yt,Ft=1-xt,It=S(Je=L(u(Je)*yt,-u(it))),zt=u(Je);return yt=F(1-xt*xt),[zt*yt-It*Ft,-It*yt-zt*Ft]}bl.invert=function(Je,it){var yt=(Je*Je+it*it)/-2,xt=F(-yt*(2+yt)),Ft=it*yt+Je*xt,It=Je*yt-it*xt,zt=F(It*It+Ft*Ft);return[L(xt*Ft,zt*(1+yt)),zt?-E(xt*It/zt):0]};function Bf(){return(0,m.c)(bl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Ru(Je,it){var yt=Z(Je,it);return[(yt[0]+Je/o)/2,(yt[1]+it)/2]}Ru.invert=function(Je,it){var yt=Je,xt=it,Ft=25;do{var It=S(xt),zt=u(xt),pr=u(2*xt),br=zt*zt,ar=It*It,Mr=u(yt),Ir=S(yt/2),Nr=u(yt/2),nn=Nr*Nr,mn=1-ar*Ir*Ir,Pn=mn?b(It*Ir)*F(Dn=1/mn):Dn=0,Dn,Zn=.5*(2*Pn*It*Nr+yt/o)-Je,Pa=.5*(Pn*zt+xt)-it,Ra=.5*Dn*(ar*nn+Pn*It*Ir*br)+.5/o,Da=Dn*(Mr*pr/4-Pn*zt*Nr),za=.125*Dn*(pr*Nr-Pn*zt*ar*Mr),Za=.5*Dn*(br*Ir+Pn*nn*It)+.5,pi=Da*za-Za*Ra,zi=(Pa*Da-Zn*Za)/pi,fe=(Zn*za-Pa*Ra)/pi;yt-=zi,xt-=fe}while((P(zi)>h||P(fe)>h)&&--Ft>0);return[yt,xt]};function Mc(){return(0,m.c)(Ru).scale(158.837)}},88728:function(G,V,e){e.d(V,{c:function(){return m}});function m(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(S){L(i,S,this.t),L(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new P;function L(S,v,p){var r=S.s=v+p,t=r-v,a=r-t;S.t=v-a+(p-t)}},95384:function(G,V,e){e.d(V,{cp:function(){return T},mQ:function(){return S},oB:function(){return f}});var m=e(88728),P=e(64528),i=e(70932),L=e(16016),S=(0,m.c)(),v=(0,m.c)(),p,r,t,a,n,f={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){S.reset(),f.lineStart=l,f.lineEnd=u},polygonEnd:function(){var c=+S;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){v.add(P.kD)}};function l(){f.point=g}function u(){h(p,r)}function g(c,o){f.point=h,p=c,r=o,c*=P.qw,o*=P.qw,t=c,a=(0,P.W8)(o=o/2+P.wL),n=(0,P.g$)(o)}function h(c,o){c*=P.qw,o*=P.qw,o=o/2+P.wL;var d=c-t,x=d>=0?1:-1,w=x*d,C=(0,P.W8)(o),y=(0,P.g$)(o),M=n*y,A=a*C+M*(0,P.W8)(w),s=M*x*(0,P.g$)(w);S.add((0,P.WE)(s,A)),t=c,a=C,n=y}function T(c){return v.reset(),(0,L.c)(c,f),v*2}},13696:function(G,V,e){e.d(V,{c:function(){return E}});var m=e(88728),P=e(95384),i=e(84220),L=e(64528),S=e(16016),v,p,r,t,a,n,f,l,u=(0,m.c)(),g,h,T={point:c,lineStart:d,lineEnd:x,polygonStart:function(){T.point=w,T.lineStart=C,T.lineEnd=y,u.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),T.point=c,T.lineStart=d,T.lineEnd=x,P.mQ<0?(v=-(r=180),p=-(t=90)):u>L.Gg?t=90:u<-L.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(b,F){g.push(h=[v=b,r=b]),F<p&&(p=F),F>t&&(t=F)}function o(b,F){var I=(0,i.ux)([b*L.qw,F*L.qw]);if(l){var N=(0,i.CW)(l,I),_=[N[1],-N[0],0],O=(0,i.CW)(_,N);(0,i.cJ)(O),O=(0,i.G)(O);var B=b-a,z=B>0?1:-1,U=O[0]*L.oh*z,Z,J=(0,L.a2)(B)>180;J^(z*a<U&&U<z*b)?(Z=O[1]*L.oh,Z>t&&(t=Z)):(U=(U+360)%360-180,J^(z*a<U&&U<z*b)?(Z=-O[1]*L.oh,Z<p&&(p=Z)):(F<p&&(p=F),F>t&&(t=F))),J?b<a?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>a?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b)}else g.push(h=[v=b,r=b]);F<p&&(p=F),F>t&&(t=F),l=I,a=b}function d(){T.point=o}function x(){h[0]=v,h[1]=r,T.point=c,l=null}function w(b,F){if(l){var I=b-a;u.add((0,L.a2)(I)>180?I+(I>0?360:-360):I)}else n=b,f=F;P.oB.point(b,F),o(b,F)}function C(){P.oB.lineStart()}function y(){w(n,f),P.oB.lineEnd(),(0,L.a2)(u)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,l=null}function M(b,F){return(F-=b)<0?F+360:F}function A(b,F){return b[0]-F[0]}function s(b,F){return b[0]<=b[1]?b[0]<=F&&F<=b[1]:F<b[0]||b[1]<F}function E(b){var F,I,N,_,O,B,z;if(t=r=-(v=p=1/0),g=[],(0,S.c)(b,T),I=g.length){for(g.sort(A),F=1,N=g[0],O=[N];F<I;++F)_=g[F],s(N,_[0])||s(N,_[1])?(M(N[0],_[1])>M(N[0],N[1])&&(N[1]=_[1]),M(_[0],N[1])>M(N[0],N[1])&&(N[0]=_[0])):O.push(N=_);for(B=-1/0,I=O.length-1,F=0,N=O[I];F<=I;N=_,++F)_=O[F],(z=M(N[1],_[0]))>B&&(B=z,v=_[0],r=N[1])}return g=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(G,V,e){e.d(V,{CW:function(){return S},Ez:function(){return L},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return i},wx:function(){return p}});var m=e(64528);function P(t){return[(0,m.WE)(t[1],t[0]),(0,m.qR)(t[2])]}function i(t){var a=t[0],n=t[1],f=(0,m.W8)(n);return[f*(0,m.W8)(a),f*(0,m.g$)(a),(0,m.g$)(n)]}function L(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]}function S(t,a){return[t[1]*a[2]-t[2]*a[1],t[2]*a[0]-t[0]*a[2],t[0]*a[1]-t[1]*a[0]]}function v(t,a){t[0]+=a[0],t[1]+=a[1],t[2]+=a[2]}function p(t,a){return[t[0]*a,t[1]*a,t[2]*a]}function r(t){var a=(0,m._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=a,t[1]/=a,t[2]/=a}},24052:function(G,V,e){e.d(V,{c:function(){return I}});var m=e(64528),P=e(70932),i=e(16016),L,S,v,p,r,t,a,n,f,l,u,g,h,T,c,o,d={sphere:P.c,point:x,lineStart:C,lineEnd:A,polygonStart:function(){d.lineStart=s,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=A}};function x(N,_){N*=m.qw,_*=m.qw;var O=(0,m.W8)(_);w(O*(0,m.W8)(N),O*(0,m.g$)(N),(0,m.g$)(_))}function w(N,_,O){++L,v+=(N-v)/L,p+=(_-p)/L,r+=(O-r)/L}function C(){d.point=y}function y(N,_){N*=m.qw,_*=m.qw;var O=(0,m.W8)(_);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),o=(0,m.g$)(_),d.point=M,w(T,c,o)}function M(N,_){N*=m.qw,_*=m.qw;var O=(0,m.W8)(_),B=O*(0,m.W8)(N),z=O*(0,m.g$)(N),U=(0,m.g$)(_),Z=(0,m.WE)((0,m._I)((Z=c*U-o*z)*Z+(Z=o*B-T*U)*Z+(Z=T*z-c*B)*Z),T*B+c*z+o*U);S+=Z,t+=Z*(T+(T=B)),a+=Z*(c+(c=z)),n+=Z*(o+(o=U)),w(T,c,o)}function A(){d.point=x}function s(){d.point=b}function E(){F(g,h),d.point=x}function b(N,_){g=N,h=_,N*=m.qw,_*=m.qw,d.point=F;var O=(0,m.W8)(_);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),o=(0,m.g$)(_),w(T,c,o)}function F(N,_){N*=m.qw,_*=m.qw;var O=(0,m.W8)(_),B=O*(0,m.W8)(N),z=O*(0,m.g$)(N),U=(0,m.g$)(_),Z=c*U-o*z,J=o*B-T*U,re=T*z-c*B,ne=(0,m._I)(Z*Z+J*J+re*re),ue=(0,m.qR)(ne),te=ne&&-ue/ne;f+=te*Z,l+=te*J,u+=te*re,S+=ue,t+=ue*(T+(T=B)),a+=ue*(c+(c=z)),n+=ue*(o+(o=U)),w(T,c,o)}function I(N){L=S=v=p=r=t=a=n=f=l=u=0,(0,i.c)(N,d);var _=f,O=l,B=u,z=_*_+O*O+B*B;return z<m.a8&&(_=t,O=a,B=n,S<m.Gg&&(_=v,O=p,B=r),z=_*_+O*O+B*B,z<m.a8)?[NaN,NaN]:[(0,m.WE)(O,_)*m.oh,(0,m.qR)(B/(0,m._I)(z))*m.oh]}},61780:function(G,V,e){e.d(V,{Q:function(){return S},c:function(){return p}});var m=e(84220);function P(r){return function(){return r}}var i=e(64528),L=e(92992);function S(r,t,a,n,f,l){if(a){var u=(0,i.W8)(t),g=(0,i.g$)(t),h=n*a;f==null?(f=t+n*i.kD,l=t-h/2):(f=v(u,f),l=v(u,l),(n>0?f<l:f>l)&&(f+=n*i.kD));for(var T,c=f;n>0?c>l:c<l;c-=h)T=(0,m.G)([u,-g*(0,i.W8)(c),-g*(0,i.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,m.ux)(t),t[0]-=r,(0,m.cJ)(t);var a=(0,i.mE)(-t[1]);return((-t[2]<0?-a:a)+i.kD-i.Gg)%i.kD}function p(){var r=P([0,0]),t=P(90),a=P(6),n,f,l={point:u};function u(h,T){n.push(h=f(h,T)),h[0]*=i.oh,h[1]*=i.oh}function g(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*i.qw,c=a.apply(this,arguments)*i.qw;return n=[],f=(0,L.O)(-h[0]*i.qw,-h[1]*i.qw,0).invert,S(l,T,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return g.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),g):r},g.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),g):t},g.precision=function(h){return arguments.length?(a=typeof h=="function"?h:P(+h),g):a},g}},78284:function(G,V,e){var m=e(14229),P=e(64528);V.c=(0,m.c)(function(){return!0},i,S,[-P.pi,-P.or]);function i(v){var p=NaN,r=NaN,t=NaN,a;return{lineStart:function(){v.lineStart(),a=1},point:function(n,f){var l=n>0?P.pi:-P.pi,u=(0,P.a2)(n-p);(0,P.a2)(u-P.pi)<P.Gg?(v.point(p,r=(r+f)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(l,r),v.point(n,r),a=0):t!==l&&u>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-l)<P.Gg&&(n-=l*P.Gg),r=L(p,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(l,r),a=0),v.point(p=n,r=f),t=l},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-a}}}function L(v,p,r,t){var a,n,f=(0,P.g$)(v-r);return(0,P.a2)(f)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(a=(0,P.W8)(p))*(0,P.g$)(v))/(a*n*f)):(p+t)/2}function S(v,p,r,t){var a;if(v==null)a=r*P.or,t.point(-P.pi,a),t.point(0,a),t.point(P.pi,a),t.point(P.pi,0),t.point(P.pi,-a),t.point(0,-a),t.point(-P.pi,-a),t.point(-P.pi,0),t.point(-P.pi,a);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;a=r*n/2,t.point(-n,a),t.point(0,a),t.point(n,a)}else t.point(p[0],p[1])}},97208:function(G,V,e){e.d(V,{c:function(){return P}});var m=e(70932);function P(){var i=[],L;return{point:function(S,v,p){L.push([S,v,p])},lineStart:function(){i.push(L=[])},lineEnd:m.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var S=i;return i=[],L=null,S}}}},2728:function(G,V,e){e.d(V,{c:function(){return v}});var m=e(84220),P=e(61780),i=e(64528),L=e(41860),S=e(14229);function v(p){var r=(0,i.W8)(p),t=6*i.qw,a=r>0,n=(0,i.a2)(r)>i.Gg;function f(T,c,o,d){(0,P.Q)(d,p,t,o,T,c)}function l(T,c){return(0,i.W8)(T)*(0,i.W8)(c)>r}function u(T){var c,o,d,x,w;return{lineStart:function(){x=d=!1,w=1},point:function(C,y){var M=[C,y],A,s=l(C,y),E=a?s?0:h(C,y):s?h(C+(C<0?i.pi:-i.pi),y):0;if(!c&&(x=d=s)&&T.lineStart(),s!==d&&(A=g(c,M),(!A||(0,L.c)(c,A)||(0,L.c)(M,A))&&(M[2]=1)),s!==d)w=0,s?(T.lineStart(),A=g(M,c),T.point(A[0],A[1])):(A=g(c,M),T.point(A[0],A[1],2),T.lineEnd()),c=A;else if(n&&c&&a^s){var b;!(E&o)&&(b=g(M,c,!0))&&(w=0,a?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}s&&(!c||!(0,L.c)(c,M))&&T.point(M[0],M[1]),c=M,d=s,o=E},lineEnd:function(){d&&T.lineEnd(),c=null},clean:function(){return w|(x&&d)<<1}}}function g(T,c,o){var d=(0,m.ux)(T),x=(0,m.ux)(c),w=[1,0,0],C=(0,m.CW)(d,x),y=(0,m.Ez)(C,C),M=C[0],A=y-M*M;if(!A)return!o&&T;var s=r*y/A,E=-r*M/A,b=(0,m.CW)(w,C),F=(0,m.wx)(w,s),I=(0,m.wx)(C,E);(0,m.mg)(F,I);var N=b,_=(0,m.Ez)(F,N),O=(0,m.Ez)(N,N),B=_*_-O*((0,m.Ez)(F,F)-1);if(!(B<0)){var z=(0,i._I)(B),U=(0,m.wx)(N,(-_-z)/O);if((0,m.mg)(U,F),U=(0,m.G)(U),!o)return U;var Z=T[0],J=c[0],re=T[1],ne=c[1],ue;J<Z&&(ue=Z,Z=J,J=ue);var te=J-Z,Q=(0,i.a2)(te-i.pi)<i.Gg,ie=Q||te<i.Gg;if(!Q&&ne<re&&(ue=re,re=ne,ne=ue),ie?Q?re+ne>0^U[1]<((0,i.a2)(U[0]-Z)<i.Gg?re:ne):re<=U[1]&&U[1]<=ne:te>i.pi^(Z<=U[0]&&U[0]<=J)){var Y=(0,m.wx)(N,(-_+z)/O);return(0,m.mg)(Y,F),[U,(0,m.G)(Y)]}}}function h(T,c){var o=a?p:i.pi-p,d=0;return T<-o?d|=1:T>o&&(d|=2),c<-o?d|=4:c>o&&(d|=8),d}return(0,S.c)(l,u,f,a?[0,-p]:[-i.pi,p-i.pi])}},14229:function(G,V,e){e.d(V,{c:function(){return v}});var m=e(97208),P=e(32232),i=e(64528),L=e(58196),S=e(84706);function v(t,a,n,f){return function(l){var u=a(l),g=(0,m.c)(),h=a(g),T=!1,c,o,d,x={point:w,lineStart:y,lineEnd:M,polygonStart:function(){x.point=A,x.lineStart=s,x.lineEnd=E,o=[],c=[]},polygonEnd:function(){x.point=w,x.lineStart=y,x.lineEnd=M,o=(0,S.Uf)(o);var b=(0,L.c)(c,f);o.length?(T||(l.polygonStart(),T=!0),(0,P.c)(o,r,b,n,l)):b&&(T||(l.polygonStart(),T=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),T&&(l.polygonEnd(),T=!1),o=c=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function w(b,F){t(b,F)&&l.point(b,F)}function C(b,F){u.point(b,F)}function y(){x.point=C,u.lineStart()}function M(){x.point=w,u.lineEnd()}function A(b,F){d.push([b,F]),h.point(b,F)}function s(){h.lineStart(),d=[]}function E(){A(d[0][0],d[0][1]),h.lineEnd();var b=h.clean(),F=g.result(),I,N=F.length,_,O,B;if(d.pop(),c.push(d),d=null,!!N){if(b&1){if(O=F[0],(_=O.length-1)>0){for(T||(l.polygonStart(),T=!0),l.lineStart(),I=0;I<_;++I)l.point((B=O[I])[0],B[1]);l.lineEnd()}return}N>1&&b&2&&F.push(F.pop().concat(F.shift())),o.push(F.filter(p))}}return x}}function p(t){return t.length>1}function r(t,a){return((t=t.x)[0]<0?t[1]-i.or-i.Gg:i.or-t[1])-((a=a.x)[0]<0?a[1]-i.or-i.Gg:i.or-a[1])}},21676:function(G,V,e){e.d(V,{c:function(){return r}});var m=e(64528),P=e(97208);function i(t,a,n,f,l,u){var g=t[0],h=t[1],T=a[0],c=a[1],o=0,d=1,x=T-g,w=c-h,C;if(C=n-g,!(!x&&C>0)){if(C/=x,x<0){if(C<o)return;C<d&&(d=C)}else if(x>0){if(C>d)return;C>o&&(o=C)}if(C=l-g,!(!x&&C<0)){if(C/=x,x<0){if(C>d)return;C>o&&(o=C)}else if(x>0){if(C<o)return;C<d&&(d=C)}if(C=f-h,!(!w&&C>0)){if(C/=w,w<0){if(C<o)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>o&&(o=C)}if(C=u-h,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>o&&(o=C)}else if(w>0){if(C<o)return;C<d&&(d=C)}return o>0&&(t[0]=g+o*x,t[1]=h+o*w),d<1&&(a[0]=g+d*x,a[1]=h+d*w),!0}}}}}var L=e(32232),S=e(84706),v=1e9,p=-v;function r(t,a,n,f){function l(c,o){return t<=c&&c<=n&&a<=o&&o<=f}function u(c,o,d,x){var w=0,C=0;if(c==null||(w=g(c,d))!==(C=g(o,d))||T(c,o)<0^d>0)do x.point(w===0||w===3?t:n,w>1?f:a);while((w=(w+d+4)%4)!==C);else x.point(o[0],o[1])}function g(c,o){return(0,m.a2)(c[0]-t)<m.Gg?o>0?0:3:(0,m.a2)(c[0]-n)<m.Gg?o>0?2:1:(0,m.a2)(c[1]-a)<m.Gg?o>0?1:0:o>0?3:2}function h(c,o){return T(c.x,o.x)}function T(c,o){var d=g(c,1),x=g(o,1);return d!==x?d-x:d===0?o[1]-c[1]:d===1?c[0]-o[0]:d===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,d=(0,P.c)(),x,w,C,y,M,A,s,E,b,F,I,N={point:_,lineStart:U,lineEnd:Z,polygonStart:B,polygonEnd:z};function _(re,ne){l(re,ne)&&o.point(re,ne)}function O(){for(var re=0,ne=0,ue=w.length;ne<ue;++ne)for(var te=w[ne],Q=1,ie=te.length,Y=te[0],$,oe,j=Y[0],X=Y[1];Q<ie;++Q)$=j,oe=X,Y=te[Q],j=Y[0],X=Y[1],oe<=f?X>f&&(j-$)*(f-oe)>(X-oe)*(t-$)&&++re:X<=f&&(j-$)*(f-oe)<(X-oe)*(t-$)&&--re;return re}function B(){o=d,x=[],w=[],I=!0}function z(){var re=O(),ne=I&&re,ue=(x=(0,S.Uf)(x)).length;(ne||ue)&&(c.polygonStart(),ne&&(c.lineStart(),u(null,null,1,c),c.lineEnd()),ue&&(0,L.c)(x,h,re,u,c),c.polygonEnd()),o=c,x=w=C=null}function U(){N.point=J,w&&w.push(C=[]),F=!0,b=!1,s=E=NaN}function Z(){x&&(J(y,M),A&&b&&d.rejoin(),x.push(d.result())),N.point=_,b&&o.lineEnd()}function J(re,ne){var ue=l(re,ne);if(w&&C.push([re,ne]),F)y=re,M=ne,A=ue,F=!1,ue&&(o.lineStart(),o.point(re,ne));else if(ue&&b)o.point(re,ne);else{var te=[s=Math.max(p,Math.min(v,s)),E=Math.max(p,Math.min(v,E))],Q=[re=Math.max(p,Math.min(v,re)),ne=Math.max(p,Math.min(v,ne))];i(te,Q,t,a,n,f)?(b||(o.lineStart(),o.point(te[0],te[1])),o.point(Q[0],Q[1]),ue||o.lineEnd(),I=!1):ue&&(o.lineStart(),o.point(re,ne),I=!1)}s=re,E=ne,b=ue}return N}}},32232:function(G,V,e){e.d(V,{c:function(){return L}});var m=e(41860),P=e(64528);function i(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,a){var n=[],f=[],l,u;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,w=d[0],C=d[x],y;if((0,m.c)(w,C)){if(!w[2]&&!C[2]){for(a.lineStart(),l=0;l<x;++l)a.point((w=d[l])[0],w[1]);a.lineEnd();return}C[0]+=2*P.Gg}n.push(y=new i(w,d,null,!0)),f.push(y.o=new i(w,null,y,!1)),n.push(y=new i(C,d,null,!1)),f.push(y.o=new i(C,null,y,!0))}}),!!n.length){for(f.sort(p),S(n),S(f),l=0,u=f.length;l<u;++l)f[l].e=r=!r;for(var g=n[0],h,T;;){for(var c=g,o=!0;c.v;)if((c=c.n)===g)return;h=c.z,a.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(l=0,u=h.length;l<u;++l)a.point((T=h[l])[0],T[1]);else t(c.x,c.n.x,1,a);c=c.n}else{if(o)for(h=c.p.z,l=h.length-1;l>=0;--l)a.point((T=h[l])[0],T[1]);else t(c.x,c.p.x,-1,a);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);a.lineEnd()}}}function S(v){if(p=v.length){for(var p,r=0,t=v[0],a;++r<p;)t.n=a=v[r],a.p=t,t=a;t.n=a=v[0],a.p=t}}},68120:function(G,V,e){e.d(V,{c:function(){return m}});function m(P,i){function L(S,v){return S=P(S,v),i(S[0],S[1])}return P.invert&&i.invert&&(L.invert=function(S,v){return S=i.invert(S,v),S&&P.invert(S[0],S[1])}),L}},7376:function(G,V,e){e.d(V,{c:function(){return m}});function m(P){return P}},83356:function(G,V,e){e.r(V),e.d(V,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return ut},geoArea:function(){return m.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return P.c},geoCentroid:function(){return i.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return fr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return Ve},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return B},geoDistance:function(){return A},geoEqualEarth:function(){return nr},geoEqualEarthRaw:function(){return Ot},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return vr.c},geoGnomonicRaw:function(){return vr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return re},geoIdentity:function(){return ur},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Ht},geoNaturalEarth1:function(){return Vr.c},geoNaturalEarth1Raw:function(){return Vr.g},geoOrthographic:function(){return Pr.c},geoOrthographicRaw:function(){return Pr.t},geoPath:function(){return Dt},geoProjection:function(){return Xt.c},geoProjectionMutator:function(){return Xt.U},geoRotation:function(){return Rt.c},geoStereographic:function(){return Wr},geoStereographicRaw:function(){return ln},geoStream:function(){return l.c},geoTransform:function(){return wr.c},geoTransverseMercator:function(){return An},geoTransverseMercatorRaw:function(){return Tn}});var m=e(95384),P=e(13696),i=e(24052),L=e(61780),S=e(78284),v=e(2728),p=e(21676);function r(){var Tr=0,Fr=0,Yr=960,_r=500,on,un,Sn;return Sn={stream:function(Ln){return on&&un===Ln?on:on=(0,p.c)(Tr,Fr,Yr,_r)(un=Ln)},extent:function(Ln){return arguments.length?(Tr=+Ln[0][0],Fr=+Ln[0][1],Yr=+Ln[1][0],_r=+Ln[1][1],on=un=null,Sn):[[Tr,Fr],[Yr,_r]]}}}var t=e(58196),a=e(88728),n=e(64528),f=e(70932),l=e(16016),u=(0,a.c)(),g,h,T,c={sphere:f.c,point:f.c,lineStart:o,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function o(){c.point=x,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function x(Tr,Fr){Tr*=n.qw,Fr*=n.qw,g=Tr,h=(0,n.g$)(Fr),T=(0,n.W8)(Fr),c.point=w}function w(Tr,Fr){Tr*=n.qw,Fr*=n.qw;var Yr=(0,n.g$)(Fr),_r=(0,n.W8)(Fr),on=(0,n.a2)(Tr-g),un=(0,n.W8)(on),Sn=(0,n.g$)(on),Ln=_r*Sn,Un=T*Yr-h*_r*un,na=h*Yr+T*_r*un;u.add((0,n.WE)((0,n._I)(Ln*Ln+Un*Un),na)),g=Tr,h=Yr,T=_r}function C(Tr){return u.reset(),(0,l.c)(Tr,c),+u}var y=[null,null],M={type:"LineString",coordinates:y};function A(Tr,Fr){return y[0]=Tr,y[1]=Fr,C(M)}var s={Feature:function(Tr,Fr){return b(Tr.geometry,Fr)},FeatureCollection:function(Tr,Fr){for(var Yr=Tr.features,_r=-1,on=Yr.length;++_r<on;)if(b(Yr[_r].geometry,Fr))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Tr,Fr){return F(Tr.coordinates,Fr)},MultiPoint:function(Tr,Fr){for(var Yr=Tr.coordinates,_r=-1,on=Yr.length;++_r<on;)if(F(Yr[_r],Fr))return!0;return!1},LineString:function(Tr,Fr){return I(Tr.coordinates,Fr)},MultiLineString:function(Tr,Fr){for(var Yr=Tr.coordinates,_r=-1,on=Yr.length;++_r<on;)if(I(Yr[_r],Fr))return!0;return!1},Polygon:function(Tr,Fr){return N(Tr.coordinates,Fr)},MultiPolygon:function(Tr,Fr){for(var Yr=Tr.coordinates,_r=-1,on=Yr.length;++_r<on;)if(N(Yr[_r],Fr))return!0;return!1},GeometryCollection:function(Tr,Fr){for(var Yr=Tr.geometries,_r=-1,on=Yr.length;++_r<on;)if(b(Yr[_r],Fr))return!0;return!1}};function b(Tr,Fr){return Tr&&E.hasOwnProperty(Tr.type)?E[Tr.type](Tr,Fr):!1}function F(Tr,Fr){return A(Tr,Fr)===0}function I(Tr,Fr){for(var Yr,_r,on,un=0,Sn=Tr.length;un<Sn;un++){if(_r=A(Tr[un],Fr),_r===0||un>0&&(on=A(Tr[un],Tr[un-1]),on>0&&Yr<=on&&_r<=on&&(Yr+_r-on)*(1-Math.pow((Yr-_r)/on,2))<n.a8*on))return!0;Yr=_r}return!1}function N(Tr,Fr){return!!(0,t.c)(Tr.map(_),O(Fr))}function _(Tr){return Tr=Tr.map(O),Tr.pop(),Tr}function O(Tr){return[Tr[0]*n.qw,Tr[1]*n.qw]}function B(Tr,Fr){return(Tr&&s.hasOwnProperty(Tr.type)?s[Tr.type]:b)(Tr,Fr)}var z=e(84706);function U(Tr,Fr,Yr){var _r=(0,z.ik)(Tr,Fr-n.Gg,Yr).concat(Fr);return function(on){return _r.map(function(un){return[on,un]})}}function Z(Tr,Fr,Yr){var _r=(0,z.ik)(Tr,Fr-n.Gg,Yr).concat(Fr);return function(on){return _r.map(function(un){return[un,on]})}}function J(){var Tr,Fr,Yr,_r,on,un,Sn,Ln,Un=10,na=Un,ga=90,xa=360,ca,Vn,mr,Jr,Qr=2.5;function vn(){return{type:"MultiLineString",coordinates:_n()}}function _n(){return(0,z.ik)((0,n.Km)(_r/ga)*ga,Yr,ga).map(mr).concat((0,z.ik)((0,n.Km)(Ln/xa)*xa,Sn,xa).map(Jr)).concat((0,z.ik)((0,n.Km)(Fr/Un)*Un,Tr,Un).filter(function(xn){return(0,n.a2)(xn%ga)>n.Gg}).map(ca)).concat((0,z.ik)((0,n.Km)(un/na)*na,on,na).filter(function(xn){return(0,n.a2)(xn%xa)>n.Gg}).map(Vn))}return vn.lines=function(){return _n().map(function(xn){return{type:"LineString",coordinates:xn}})},vn.outline=function(){return{type:"Polygon",coordinates:[mr(_r).concat(Jr(Sn).slice(1),mr(Yr).reverse().slice(1),Jr(Ln).reverse().slice(1))]}},vn.extent=function(xn){return arguments.length?vn.extentMajor(xn).extentMinor(xn):vn.extentMinor()},vn.extentMajor=function(xn){return arguments.length?(_r=+xn[0][0],Yr=+xn[1][0],Ln=+xn[0][1],Sn=+xn[1][1],_r>Yr&&(xn=_r,_r=Yr,Yr=xn),Ln>Sn&&(xn=Ln,Ln=Sn,Sn=xn),vn.precision(Qr)):[[_r,Ln],[Yr,Sn]]},vn.extentMinor=function(xn){return arguments.length?(Fr=+xn[0][0],Tr=+xn[1][0],un=+xn[0][1],on=+xn[1][1],Fr>Tr&&(xn=Fr,Fr=Tr,Tr=xn),un>on&&(xn=un,un=on,on=xn),vn.precision(Qr)):[[Fr,un],[Tr,on]]},vn.step=function(xn){return arguments.length?vn.stepMajor(xn).stepMinor(xn):vn.stepMinor()},vn.stepMajor=function(xn){return arguments.length?(ga=+xn[0],xa=+xn[1],vn):[ga,xa]},vn.stepMinor=function(xn){return arguments.length?(Un=+xn[0],na=+xn[1],vn):[Un,na]},vn.precision=function(xn){return arguments.length?(Qr=+xn,ca=U(un,on,90),Vn=Z(Fr,Tr,Qr),mr=U(Ln,Sn,90),Jr=Z(_r,Yr,Qr),vn):Qr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function re(){return J()()}var ne=e(27284),ue=e(7376),te=(0,a.c)(),Q=(0,a.c)(),ie,Y,$,oe,j={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){j.lineStart=X,j.lineEnd=ce},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=f.c,te.add((0,n.a2)(Q)),Q.reset()},result:function(){var Tr=te/2;return te.reset(),Tr}};function X(){j.point=se}function se(Tr,Fr){j.point=q,ie=$=Tr,Y=oe=Fr}function q(Tr,Fr){Q.add(oe*Tr-$*Fr),$=Tr,oe=Fr}function ce(){q(ie,Y)}var ye=j,we=e(73784),be=0,De=0,ke=0,Be=0,Ae=0,Ie=0,Me=0,Fe=0,Ee=0,He,rt,ot,$e,qe={point:ht,lineStart:vt,lineEnd:Mt,polygonStart:function(){qe.lineStart=nt,qe.lineEnd=_e},polygonEnd:function(){qe.point=ht,qe.lineStart=vt,qe.lineEnd=Mt},result:function(){var Tr=Ee?[Me/Ee,Fe/Ee]:Ie?[Be/Ie,Ae/Ie]:ke?[be/ke,De/ke]:[NaN,NaN];return be=De=ke=Be=Ae=Ie=Me=Fe=Ee=0,Tr}};function ht(Tr,Fr){be+=Tr,De+=Fr,++ke}function vt(){qe.point=pt}function pt(Tr,Fr){qe.point=wt,ht(ot=Tr,$e=Fr)}function wt(Tr,Fr){var Yr=Tr-ot,_r=Fr-$e,on=(0,n._I)(Yr*Yr+_r*_r);Be+=on*(ot+Tr)/2,Ae+=on*($e+Fr)/2,Ie+=on,ht(ot=Tr,$e=Fr)}function Mt(){qe.point=ht}function nt(){qe.point=Ge}function _e(){je(He,rt)}function Ge(Tr,Fr){qe.point=je,ht(He=ot=Tr,rt=$e=Fr)}function je(Tr,Fr){var Yr=Tr-ot,_r=Fr-$e,on=(0,n._I)(Yr*Yr+_r*_r);Be+=on*(ot+Tr)/2,Ae+=on*($e+Fr)/2,Ie+=on,on=$e*Tr-ot*Fr,Me+=on*(ot+Tr),Fe+=on*($e+Fr),Ee+=on*3,ht(ot=Tr,$e=Fr)}var We=qe;function Pe(Tr){this._context=Tr}Pe.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,Fr){switch(this._point){case 0:{this._context.moveTo(Tr,Fr),this._point=1;break}case 1:{this._context.lineTo(Tr,Fr);break}default:{this._context.moveTo(Tr+this._radius,Fr),this._context.arc(Tr,Fr,this._radius,0,n.kD);break}}},result:f.c};var Re=(0,a.c)(),Xe,Le,ve,xe,Ne,et={point:f.c,lineStart:function(){et.point=st},lineEnd:function(){Xe&&lt(Le,ve),et.point=f.c},polygonStart:function(){Xe=!0},polygonEnd:function(){Xe=null},result:function(){var Tr=+Re;return Re.reset(),Tr}};function st(Tr,Fr){et.point=lt,Le=xe=Tr,ve=Ne=Fr}function lt(Tr,Fr){xe-=Tr,Ne-=Fr,Re.add((0,n._I)(xe*xe+Ne*Ne)),xe=Tr,Ne=Fr}var Gt=et;function jt(){this._string=[]}jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,Fr){switch(this._point){case 0:{this._string.push("M",Tr,",",Fr),this._point=1;break}case 1:{this._string.push("L",Tr,",",Fr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Tr,",",Fr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function Tt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function Dt(Tr,Fr){var Yr=4.5,_r,on;function un(Sn){return Sn&&(typeof Yr=="function"&&on.pointRadius(+Yr.apply(this,arguments)),(0,l.c)(Sn,_r(on))),on.result()}return un.area=function(Sn){return(0,l.c)(Sn,_r(ye)),ye.result()},un.measure=function(Sn){return(0,l.c)(Sn,_r(Gt)),Gt.result()},un.bounds=function(Sn){return(0,l.c)(Sn,_r(we.c)),we.c.result()},un.centroid=function(Sn){return(0,l.c)(Sn,_r(We)),We.result()},un.projection=function(Sn){return arguments.length?(_r=Sn==null?(Tr=null,ue.c):(Tr=Sn).stream,un):Tr},un.context=function(Sn){return arguments.length?(on=Sn==null?(Fr=null,new jt):new Pe(Fr=Sn),typeof Yr!="function"&&on.pointRadius(Yr),un):Fr},un.pointRadius=function(Sn){return arguments.length?(Yr=typeof Sn=="function"?Sn:(on.pointRadius(+Sn),+Sn),un):Yr},un.projection(Tr).context(Fr)}var Xt=e(87952);function gr(Tr){var Fr=0,Yr=n.pi/3,_r=(0,Xt.U)(Tr),on=_r(Fr,Yr);return on.parallels=function(un){return arguments.length?_r(Fr=un[0]*n.qw,Yr=un[1]*n.qw):[Fr*n.oh,Yr*n.oh]},on}function gt(Tr){var Fr=(0,n.W8)(Tr);function Yr(_r,on){return[_r*Fr,(0,n.g$)(on)/Fr]}return Yr.invert=function(_r,on){return[_r/Fr,(0,n.qR)(on*Fr)]},Yr}function Zt(Tr,Fr){var Yr=(0,n.g$)(Tr),_r=(Yr+(0,n.g$)(Fr))/2;if((0,n.a2)(_r)<n.Gg)return gt(Tr);var on=1+Yr*(2*_r-Yr),un=(0,n._I)(on)/_r;function Sn(Ln,Un){var na=(0,n._I)(on-2*_r*(0,n.g$)(Un))/_r;return[na*(0,n.g$)(Ln*=_r),un-na*(0,n.W8)(Ln)]}return Sn.invert=function(Ln,Un){var na=un-Un,ga=(0,n.WE)(Ln,(0,n.a2)(na))*(0,n.kq)(na);return na*_r<0&&(ga-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(na)),[ga/_r,(0,n.qR)((on-(Ln*Ln+na*na)*_r*_r)/(2*_r))]},Sn}function Qt(){return gr(Zt).scale(155.424).center([0,33.6442])}function yr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function mt(Tr){var Fr=Tr.length;return{point:function(Yr,_r){for(var on=-1;++on<Fr;)Tr[on].point(Yr,_r)},sphere:function(){for(var Yr=-1;++Yr<Fr;)Tr[Yr].sphere()},lineStart:function(){for(var Yr=-1;++Yr<Fr;)Tr[Yr].lineStart()},lineEnd:function(){for(var Yr=-1;++Yr<Fr;)Tr[Yr].lineEnd()},polygonStart:function(){for(var Yr=-1;++Yr<Fr;)Tr[Yr].polygonStart()},polygonEnd:function(){for(var Yr=-1;++Yr<Fr;)Tr[Yr].polygonEnd()}}}function ut(){var Tr,Fr,Yr=yr(),_r,on=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),un,Sn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ln,Un,na={point:function(ca,Vn){Un=[ca,Vn]}};function ga(ca){var Vn=ca[0],mr=ca[1];return Un=null,_r.point(Vn,mr),Un||(un.point(Vn,mr),Un)||(Ln.point(Vn,mr),Un)}ga.invert=function(ca){var Vn=Yr.scale(),mr=Yr.translate(),Jr=(ca[0]-mr[0])/Vn,Qr=(ca[1]-mr[1])/Vn;return(Qr>=.12&&Qr<.234&&Jr>=-.425&&Jr<-.214?on:Qr>=.166&&Qr<.234&&Jr>=-.214&&Jr<-.115?Sn:Yr).invert(ca)},ga.stream=function(ca){return Tr&&Fr===ca?Tr:Tr=mt([Yr.stream(Fr=ca),on.stream(ca),Sn.stream(ca)])},ga.precision=function(ca){return arguments.length?(Yr.precision(ca),on.precision(ca),Sn.precision(ca),xa()):Yr.precision()},ga.scale=function(ca){return arguments.length?(Yr.scale(ca),on.scale(ca*.35),Sn.scale(ca),ga.translate(Yr.translate())):Yr.scale()},ga.translate=function(ca){if(!arguments.length)return Yr.translate();var Vn=Yr.scale(),mr=+ca[0],Jr=+ca[1];return _r=Yr.translate(ca).clipExtent([[mr-.455*Vn,Jr-.238*Vn],[mr+.455*Vn,Jr+.238*Vn]]).stream(na),un=on.translate([mr-.307*Vn,Jr+.201*Vn]).clipExtent([[mr-.425*Vn+n.Gg,Jr+.12*Vn+n.Gg],[mr-.214*Vn-n.Gg,Jr+.234*Vn-n.Gg]]).stream(na),Ln=Sn.translate([mr-.205*Vn,Jr+.212*Vn]).clipExtent([[mr-.214*Vn+n.Gg,Jr+.166*Vn+n.Gg],[mr-.115*Vn-n.Gg,Jr+.234*Vn-n.Gg]]).stream(na),xa()},ga.fitExtent=function(ca,Vn){return(0,or.QX)(ga,ca,Vn)},ga.fitSize=function(ca,Vn){return(0,or.UV)(ga,ca,Vn)},ga.fitWidth=function(ca,Vn){return(0,or.Qx)(ga,ca,Vn)},ga.fitHeight=function(ca,Vn){return(0,or.OW)(ga,ca,Vn)};function xa(){return Tr=Fr=null,ga}return ga.scale(1070)}var bt=e(54724),Et=e(69020),Rt=e(92992);function Ht(Tr,Fr){return[Tr,(0,n.Yz)((0,n.a6)((n.or+Fr)/2))]}Ht.invert=function(Tr,Fr){return[Tr,2*(0,n.MQ)((0,n.oN)(Fr))-n.or]};function Bt(){return Nt(Ht).scale(961/n.kD)}function Nt(Tr){var Fr=(0,Xt.c)(Tr),Yr=Fr.center,_r=Fr.scale,on=Fr.translate,un=Fr.clipExtent,Sn=null,Ln,Un,na;Fr.scale=function(xa){return arguments.length?(_r(xa),ga()):_r()},Fr.translate=function(xa){return arguments.length?(on(xa),ga()):on()},Fr.center=function(xa){return arguments.length?(Yr(xa),ga()):Yr()},Fr.clipExtent=function(xa){return arguments.length?(xa==null?Sn=Ln=Un=na=null:(Sn=+xa[0][0],Ln=+xa[0][1],Un=+xa[1][0],na=+xa[1][1]),ga()):Sn==null?null:[[Sn,Ln],[Un,na]]};function ga(){var xa=n.pi*_r(),ca=Fr((0,Rt.c)(Fr.rotate()).invert([0,0]));return un(Sn==null?[[ca[0]-xa,ca[1]-xa],[ca[0]+xa,ca[1]+xa]]:Tr===Ht?[[Math.max(ca[0]-xa,Sn),Ln],[Math.min(ca[0]+xa,Un),na]]:[[Sn,Math.max(ca[1]-xa,Ln)],[Un,Math.min(ca[1]+xa,na)]])}return ga()}function Jt(Tr){return(0,n.a6)((n.or+Tr)/2)}function hr(Tr,Fr){var Yr=(0,n.W8)(Tr),_r=Tr===Fr?(0,n.g$)(Tr):(0,n.Yz)(Yr/(0,n.W8)(Fr))/(0,n.Yz)(Jt(Fr)/Jt(Tr)),on=Yr*(0,n.g3)(Jt(Tr),_r)/_r;if(!_r)return Ht;function un(Sn,Ln){on>0?Ln<-n.or+n.Gg&&(Ln=-n.or+n.Gg):Ln>n.or-n.Gg&&(Ln=n.or-n.Gg);var Un=on/(0,n.g3)(Jt(Ln),_r);return[Un*(0,n.g$)(_r*Sn),on-Un*(0,n.W8)(_r*Sn)]}return un.invert=function(Sn,Ln){var Un=on-Ln,na=(0,n.kq)(_r)*(0,n._I)(Sn*Sn+Un*Un),ga=(0,n.WE)(Sn,(0,n.a2)(Un))*(0,n.kq)(Un);return Un*_r<0&&(ga-=n.pi*(0,n.kq)(Sn)*(0,n.kq)(Un)),[ga/_r,2*(0,n.MQ)((0,n.g3)(on/na,1/_r))-n.or]},un}function fr(){return gr(hr).scale(109.5).parallels([30,30])}var dr=e(69604);function Ye(Tr,Fr){var Yr=(0,n.W8)(Tr),_r=Tr===Fr?(0,n.g$)(Tr):(Yr-(0,n.W8)(Fr))/(Fr-Tr),on=Yr/_r+Tr;if((0,n.a2)(_r)<n.Gg)return dr.u;function un(Sn,Ln){var Un=on-Ln,na=_r*Sn;return[Un*(0,n.g$)(na),on-Un*(0,n.W8)(na)]}return un.invert=function(Sn,Ln){var Un=on-Ln,na=(0,n.WE)(Sn,(0,n.a2)(Un))*(0,n.kq)(Un);return Un*_r<0&&(na-=n.pi*(0,n.kq)(Sn)*(0,n.kq)(Un)),[na/_r,on-(0,n.kq)(_r)*(0,n._I)(Sn*Sn+Un*Un)]},un}function Ve(){return gr(Ye).scale(131.154).center([0,13.9389])}var _t=1.340264,kt=-.081106,Kt=893e-6,sr=.003796,cr=(0,n._I)(3)/2,er=12;function Ot(Tr,Fr){var Yr=(0,n.qR)(cr*(0,n.g$)(Fr)),_r=Yr*Yr,on=_r*_r*_r;return[Tr*(0,n.W8)(Yr)/(cr*(_t+3*kt*_r+on*(7*Kt+9*sr*_r))),Yr*(_t+kt*_r+on*(Kt+sr*_r))]}Ot.invert=function(Tr,Fr){for(var Yr=Fr,_r=Yr*Yr,on=_r*_r*_r,un=0,Sn,Ln,Un;un<er&&(Ln=Yr*(_t+kt*_r+on*(Kt+sr*_r))-Fr,Un=_t+3*kt*_r+on*(7*Kt+9*sr*_r),Yr-=Sn=Ln/Un,_r=Yr*Yr,on=_r*_r*_r,!((0,n.a2)(Sn)<n.a8));++un);return[cr*Tr*(_t+3*kt*_r+on*(7*Kt+9*sr*_r))/(0,n.W8)(Yr),(0,n.qR)((0,n.g$)(Yr)/cr)]};function nr(){return(0,Xt.c)(Ot).scale(177.158)}var vr=e(53285),wr=e(15196);function ur(){var Tr=1,Fr=0,Yr=0,_r=1,on=1,un=0,Sn,Ln,Un=null,na,ga,xa,ca=1,Vn=1,mr=(0,wr.s)({point:function(bn,Bn){var Jn=xn([bn,Bn]);this.stream.point(Jn[0],Jn[1])}}),Jr=ue.c,Qr,vn;function _n(){return ca=Tr*_r,Vn=Tr*on,Qr=vn=null,xn}function xn(bn){var Bn=bn[0]*ca,Jn=bn[1]*Vn;if(un){var ha=Jn*Sn-Bn*Ln;Bn=Bn*Sn+Jn*Ln,Jn=ha}return[Bn+Fr,Jn+Yr]}return xn.invert=function(bn){var Bn=bn[0]-Fr,Jn=bn[1]-Yr;if(un){var ha=Jn*Sn+Bn*Ln;Bn=Bn*Sn-Jn*Ln,Jn=ha}return[Bn/ca,Jn/Vn]},xn.stream=function(bn){return Qr&&vn===bn?Qr:Qr=mr(Jr(vn=bn))},xn.postclip=function(bn){return arguments.length?(Jr=bn,Un=na=ga=xa=null,_n()):Jr},xn.clipExtent=function(bn){return arguments.length?(Jr=bn==null?(Un=na=ga=xa=null,ue.c):(0,p.c)(Un=+bn[0][0],na=+bn[0][1],ga=+bn[1][0],xa=+bn[1][1]),_n()):Un==null?null:[[Un,na],[ga,xa]]},xn.scale=function(bn){return arguments.length?(Tr=+bn,_n()):Tr},xn.translate=function(bn){return arguments.length?(Fr=+bn[0],Yr=+bn[1],_n()):[Fr,Yr]},xn.angle=function(bn){return arguments.length?(un=bn%360*n.qw,Ln=(0,n.g$)(un),Sn=(0,n.W8)(un),_n()):un*n.oh},xn.reflectX=function(bn){return arguments.length?(_r=bn?-1:1,_n()):_r<0},xn.reflectY=function(bn){return arguments.length?(on=bn?-1:1,_n()):on<0},xn.fitExtent=function(bn,Bn){return(0,or.QX)(xn,bn,Bn)},xn.fitSize=function(bn,Bn){return(0,or.UV)(xn,bn,Bn)},xn.fitWidth=function(bn,Bn){return(0,or.Qx)(xn,bn,Bn)},xn.fitHeight=function(bn,Bn){return(0,or.OW)(xn,bn,Bn)},xn}var Vr=e(47984),Pr=e(4888),Dr=e(62280);function ln(Tr,Fr){var Yr=(0,n.W8)(Fr),_r=1+(0,n.W8)(Tr)*Yr;return[Yr*(0,n.g$)(Tr)/_r,(0,n.g$)(Fr)/_r]}ln.invert=(0,Dr.g)(function(Tr){return 2*(0,n.MQ)(Tr)});function Wr(){return(0,Xt.c)(ln).scale(250).clipAngle(142)}function Tn(Tr,Fr){return[(0,n.Yz)((0,n.a6)((n.or+Fr)/2)),-Tr]}Tn.invert=function(Tr,Fr){return[-Fr,2*(0,n.MQ)((0,n.oN)(Tr))-n.or]};function An(){var Tr=Nt(Tn),Fr=Tr.center,Yr=Tr.rotate;return Tr.center=function(_r){return arguments.length?Fr([-_r[1],_r[0]]):(_r=Fr(),[_r[1],-_r[0]])},Tr.rotate=function(_r){return arguments.length?Yr([_r[0],_r[1],_r.length>2?_r[2]+90:90]):(_r=Yr(),[_r[0],_r[1],_r[2]-90])},Yr([0,0,90]).scale(159.155)}},27284:function(G,V,e){e.d(V,{c:function(){return P}});var m=e(64528);function P(i,L){var S=i[0]*m.qw,v=i[1]*m.qw,p=L[0]*m.qw,r=L[1]*m.qw,t=(0,m.W8)(v),a=(0,m.g$)(v),n=(0,m.W8)(r),f=(0,m.g$)(r),l=t*(0,m.W8)(S),u=t*(0,m.g$)(S),g=n*(0,m.W8)(p),h=n*(0,m.g$)(p),T=2*(0,m.qR)((0,m._I)((0,m.SD)(r-v)+t*n*(0,m.SD)(p-S))),c=(0,m.g$)(T),o=T?function(d){var x=(0,m.g$)(d*=T)/c,w=(0,m.g$)(T-d)/c,C=w*l+x*g,y=w*u+x*h,M=w*a+x*f;return[(0,m.WE)(y,C)*m.oh,(0,m.WE)(M,(0,m._I)(C*C+y*y))*m.oh]}:function(){return[S*m.oh,v*m.oh]};return o.distance=T,o}},64528:function(G,V,e){e.d(V,{Gg:function(){return m},Km:function(){return l},MQ:function(){return a},SD:function(){return C},W8:function(){return f},WE:function(){return n},Yz:function(){return g},_I:function(){return o},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return u},oh:function(){return p},or:function(){return L},pi:function(){return i},qR:function(){return w},qw:function(){return r},wL:function(){return S}});var m=1e-6,P=1e-12,i=Math.PI,L=i/2,S=i/4,v=i*2,p=180/i,r=i/180,t=Math.abs,a=Math.atan,n=Math.atan2,f=Math.cos,l=Math.ceil,u=Math.exp,g=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},o=Math.sqrt,d=Math.tan;function x(y){return y>1?0:y<-1?i:Math.acos(y)}function w(y){return y>1?L:y<-1?-L:Math.asin(y)}function C(y){return(y=T(y/2))*y}},70932:function(G,V,e){e.d(V,{c:function(){return m}});function m(){}},73784:function(G,V,e){var m=e(70932),P=1/0,i=P,L=-P,S=L,v={point:p,lineStart:m.c,lineEnd:m.c,polygonStart:m.c,polygonEnd:m.c,result:function(){var r=[[P,i],[L,S]];return L=S=-(i=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<i&&(i=t),t>S&&(S=t)}V.c=v},41860:function(G,V,e){e.d(V,{c:function(){return P}});var m=e(64528);function P(i,L){return(0,m.a2)(i[0]-L[0])<m.Gg&&(0,m.a2)(i[1]-L[1])<m.Gg}},58196:function(G,V,e){e.d(V,{c:function(){return v}});var m=e(88728),P=e(84220),i=e(64528),L=(0,m.c)();function S(p){return(0,i.a2)(p[0])<=i.pi?p[0]:(0,i.kq)(p[0])*(((0,i.a2)(p[0])+i.pi)%i.kD-i.pi)}function v(p,r){var t=S(r),a=r[1],n=(0,i.g$)(a),f=[(0,i.g$)(t),-(0,i.W8)(t),0],l=0,u=0;L.reset(),n===1?a=i.or+i.Gg:n===-1&&(a=-i.or-i.Gg);for(var g=0,h=p.length;g<h;++g)if(c=(T=p[g]).length)for(var T,c,o=T[c-1],d=S(o),x=o[1]/2+i.wL,w=(0,i.g$)(x),C=(0,i.W8)(x),y=0;y<c;++y,d=A,w=E,C=b,o=M){var M=T[y],A=S(M),s=M[1]/2+i.wL,E=(0,i.g$)(s),b=(0,i.W8)(s),F=A-d,I=F>=0?1:-1,N=I*F,_=N>i.pi,O=w*E;if(L.add((0,i.WE)(O*I*(0,i.g$)(N),C*b+O*(0,i.W8)(N))),l+=_?F+I*i.kD:F,_^d>=t^A>=t){var B=(0,P.CW)((0,P.ux)(o),(0,P.ux)(M));(0,P.cJ)(B);var z=(0,P.CW)(f,B);(0,P.cJ)(z);var U=(_^F>=0?-1:1)*(0,i.qR)(z[2]);(a>U||a===U&&(B[0]||B[1]))&&(u+=_^F>=0?1:-1)}}return(l<-i.Gg||l<i.Gg&&L<-i.Gg)^u&1}},62280:function(G,V,e){e.d(V,{a:function(){return P},g:function(){return i}});var m=e(64528);function P(L){return function(S,v){var p=(0,m.W8)(S),r=(0,m.W8)(v),t=L(p*r);return[t*r*(0,m.g$)(S),t*(0,m.g$)(v)]}}function i(L){return function(S,v){var p=(0,m._I)(S*S+v*v),r=L(p),t=(0,m.g$)(r),a=(0,m.W8)(r);return[(0,m.WE)(S*t,p*a),(0,m.qR)(p&&v*t/p)]}}},54724:function(G,V,e){e.d(V,{c:function(){return S},y:function(){return L}});var m=e(64528),P=e(62280),i=e(87952),L=(0,P.a)(function(v){return(0,m._I)(2/(1+v))});L.invert=(0,P.g)(function(v){return 2*(0,m.qR)(v/2)});function S(){return(0,i.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(G,V,e){e.d(V,{O:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),i=e(87952),L=(0,P.a)(function(v){return(v=(0,m.mE)(v))&&v/(0,m.g$)(v)});L.invert=(0,P.g)(function(v){return v});function S(){return(0,i.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(G,V,e){e.d(V,{c:function(){return i},u:function(){return P}});var m=e(87952);function P(L,S){return[L,S]}P.invert=P;function i(){return(0,m.c)(P).scale(152.63)}},86420:function(G,V,e){e.d(V,{OW:function(){return p},QX:function(){return L},Qx:function(){return v},UV:function(){return S}});var m=e(16016),P=e(73784);function i(r,t,a){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,m.c)(a,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function L(r,t,a){return i(r,function(n){var f=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(f/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),g=+t[0][0]+(f-u*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(l-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([g,h])},a)}function S(r,t,a){return L(r,[[0,0],t],a)}function v(r,t,a){return i(r,function(n){var f=+t,l=f/(n[1][0]-n[0][0]),u=(f-l*(n[1][0]+n[0][0]))/2,g=-l*n[0][1];r.scale(150*l).translate([u,g])},a)}function p(r,t,a){return i(r,function(n){var f=+t,l=f/(n[1][1]-n[0][1]),u=-l*n[0][0],g=(f-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([u,g])},a)}},53285:function(G,V,e){e.d(V,{Y:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),i=e(87952);function L(v,p){var r=(0,m.W8)(p),t=(0,m.W8)(v)*r;return[r*(0,m.g$)(v)/t,(0,m.g$)(p)/t]}L.invert=(0,P.g)(m.MQ);function S(){return(0,i.c)(L).scale(144.049).clipAngle(60)}},87952:function(G,V,e){e.d(V,{c:function(){return d},U:function(){return x}});var m=e(78284),P=e(2728),i=e(21676),L=e(68120),S=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),a=e(84220),n=16,f=(0,v.W8)(30*v.qw);function l(w,C){return+C?g(w,C):u(w)}function u(w){return(0,r.s)({point:function(C,y){C=w(C,y),this.stream.point(C[0],C[1])}})}function g(w,C){function y(M,A,s,E,b,F,I,N,_,O,B,z,U,Z){var J=I-M,re=N-A,ne=J*J+re*re;if(ne>4*C&&U--){var ue=E+O,te=b+B,Q=F+z,ie=(0,v._I)(ue*ue+te*te+Q*Q),Y=(0,v.qR)(Q/=ie),$=(0,v.a2)((0,v.a2)(Q)-1)<v.Gg||(0,v.a2)(s-_)<v.Gg?(s+_)/2:(0,v.WE)(te,ue),oe=w($,Y),j=oe[0],X=oe[1],se=j-M,q=X-A,ce=re*se-J*q;(ce*ce/ne>C||(0,v.a2)((J*se+re*q)/ne-.5)>.3||E*O+b*B+F*z<f)&&(y(M,A,s,E,b,F,j,X,$,ue/=ie,te/=ie,Q,U,Z),Z.point(j,X),y(j,X,$,ue,te,Q,I,N,_,O,B,z,U,Z))}}return function(M){var A,s,E,b,F,I,N,_,O,B,z,U,Z={point:J,lineStart:re,lineEnd:ue,polygonStart:function(){M.polygonStart(),Z.lineStart=te},polygonEnd:function(){M.polygonEnd(),Z.lineStart=re}};function J(Y,$){Y=w(Y,$),M.point(Y[0],Y[1])}function re(){_=NaN,Z.point=ne,M.lineStart()}function ne(Y,$){var oe=(0,a.ux)([Y,$]),j=w(Y,$);y(_,O,N,B,z,U,_=j[0],O=j[1],N=Y,B=oe[0],z=oe[1],U=oe[2],n,M),M.point(_,O)}function ue(){Z.point=J,M.lineEnd()}function te(){re(),Z.point=Q,Z.lineEnd=ie}function Q(Y,$){ne(A=Y,$),s=_,E=O,b=B,F=z,I=U,Z.point=ne}function ie(){y(_,O,N,B,z,U,s,E,A,b,F,I,n,M),Z.lineEnd=ue,ue()}return Z}}var h=(0,r.s)({point:function(w,C){this.stream.point(w*v.qw,C*v.qw)}});function T(w){return(0,r.s)({point:function(C,y){var M=w(C,y);return this.stream.point(M[0],M[1])}})}function c(w,C,y,M,A){function s(E,b){return E*=M,b*=A,[C+w*E,y-w*b]}return s.invert=function(E,b){return[(E-C)/w*M,(y-b)/w*A]},s}function o(w,C,y,M,A,s){var E=(0,v.W8)(s),b=(0,v.g$)(s),F=E*w,I=b*w,N=E/w,_=b/w,O=(b*y-E*C)/w,B=(b*C+E*y)/w;function z(U,Z){return U*=M,Z*=A,[F*U-I*Z+C,y-I*U-F*Z]}return z.invert=function(U,Z){return[M*(N*U-_*Z+O),A*(B-_*U-N*Z)]},z}function d(w){return x(function(){return w})()}function x(w){var C,y=150,M=480,A=250,s=0,E=0,b=0,F=0,I=0,N,_=0,O=1,B=1,z=null,U=m.c,Z=null,J,re,ne,ue=S.c,te=.5,Q,ie,Y,$,oe;function j(ce){return Y(ce[0]*v.qw,ce[1]*v.qw)}function X(ce){return ce=Y.invert(ce[0],ce[1]),ce&&[ce[0]*v.oh,ce[1]*v.oh]}j.stream=function(ce){return $&&oe===ce?$:$=h(T(N)(U(Q(ue(oe=ce)))))},j.preclip=function(ce){return arguments.length?(U=ce,z=void 0,q()):U},j.postclip=function(ce){return arguments.length?(ue=ce,Z=J=re=ne=null,q()):ue},j.clipAngle=function(ce){return arguments.length?(U=+ce?(0,P.c)(z=ce*v.qw):(z=null,m.c),q()):z*v.oh},j.clipExtent=function(ce){return arguments.length?(ue=ce==null?(Z=J=re=ne=null,S.c):(0,i.c)(Z=+ce[0][0],J=+ce[0][1],re=+ce[1][0],ne=+ce[1][1]),q()):Z==null?null:[[Z,J],[re,ne]]},j.scale=function(ce){return arguments.length?(y=+ce,se()):y},j.translate=function(ce){return arguments.length?(M=+ce[0],A=+ce[1],se()):[M,A]},j.center=function(ce){return arguments.length?(s=ce[0]%360*v.qw,E=ce[1]%360*v.qw,se()):[s*v.oh,E*v.oh]},j.rotate=function(ce){return arguments.length?(b=ce[0]%360*v.qw,F=ce[1]%360*v.qw,I=ce.length>2?ce[2]%360*v.qw:0,se()):[b*v.oh,F*v.oh,I*v.oh]},j.angle=function(ce){return arguments.length?(_=ce%360*v.qw,se()):_*v.oh},j.reflectX=function(ce){return arguments.length?(O=ce?-1:1,se()):O<0},j.reflectY=function(ce){return arguments.length?(B=ce?-1:1,se()):B<0},j.precision=function(ce){return arguments.length?(Q=l(ie,te=ce*ce),q()):(0,v._I)(te)},j.fitExtent=function(ce,ye){return(0,t.QX)(j,ce,ye)},j.fitSize=function(ce,ye){return(0,t.UV)(j,ce,ye)},j.fitWidth=function(ce,ye){return(0,t.Qx)(j,ce,ye)},j.fitHeight=function(ce,ye){return(0,t.OW)(j,ce,ye)};function se(){var ce=o(y,0,0,O,B,_).apply(null,C(s,E)),ye=(_?o:c)(y,M-ce[0],A-ce[1],O,B,_);return N=(0,p.O)(b,F,I),ie=(0,L.c)(C,ye),Y=(0,L.c)(N,ie),Q=l(ie,te),q()}function q(){return $=oe=null,j}return function(){return C=w.apply(this,arguments),j.invert=C.invert&&X,se()}}},47984:function(G,V,e){e.d(V,{c:function(){return L},g:function(){return i}});var m=e(87952),P=e(64528);function i(S,v){var p=v*v,r=p*p;return[S*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}i.invert=function(S,v){var p=v,r=25,t;do{var a=p*p,n=a*a;p-=t=(p*(1.007226+a*(.015085+n*(-.044475+.028874*a-.005916*n)))-v)/(1.007226+a*(.045255+n*(-.311325+.259866*a-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[S/(.8707+(a=p*p)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),p]};function L(){return(0,m.c)(i).scale(175.295)}},4888:function(G,V,e){e.d(V,{c:function(){return S},t:function(){return L}});var m=e(64528),P=e(62280),i=e(87952);function L(v,p){return[(0,m.W8)(p)*(0,m.g$)(v),(0,m.g$)(p)]}L.invert=(0,P.g)(m.qR);function S(){return(0,i.c)(L).scale(249.5).clipAngle(90+m.Gg)}},92992:function(G,V,e){e.d(V,{O:function(){return L},c:function(){return r}});var m=e(68120),P=e(64528);function i(t,a){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,a]}i.invert=i;function L(t,a,n){return(t%=P.kD)?a||n?(0,m.c)(v(t),p(a,n)):v(t):a||n?p(a,n):i}function S(t){return function(a,n){return a+=t,[a>P.pi?a-P.kD:a<-P.pi?a+P.kD:a,n]}}function v(t){var a=S(t);return a.invert=S(-t),a}function p(t,a){var n=(0,P.W8)(t),f=(0,P.g$)(t),l=(0,P.W8)(a),u=(0,P.g$)(a);function g(h,T){var c=(0,P.W8)(T),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(T),w=x*n+o*f;return[(0,P.WE)(d*l-w*u,o*n-x*f),(0,P.qR)(w*l+d*u)]}return g.invert=function(h,T){var c=(0,P.W8)(T),o=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(T),w=x*l-d*u;return[(0,P.WE)(d*l+x*u,o*n+w*f),(0,P.qR)(w*n-o*f)]},g}function r(t){t=L(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function a(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return a.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},a}},16016:function(G,V,e){e.d(V,{c:function(){return v}});function m(p,r){p&&i.hasOwnProperty(p.type)&&i[p.type](p,r)}var P={Feature:function(p,r){m(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,a=-1,n=t.length;++a<n;)m(t[a].geometry,r)}},i={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)p=t[a],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)L(t[a],r,0)},Polygon:function(p,r){S(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)S(t[a],r)},GeometryCollection:function(p,r){for(var t=p.geometries,a=-1,n=t.length;++a<n;)m(t[a],r)}};function L(p,r,t){var a=-1,n=p.length-t,f;for(r.lineStart();++a<n;)f=p[a],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(p,r){var t=-1,a=p.length;for(r.polygonStart();++t<a;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):m(p,r)}},15196:function(G,V,e){e.d(V,{c:function(){return m},s:function(){return P}});function m(L){return{stream:P(L)}}function P(L){return function(S){var v=new i;for(var p in L)v[p]=L[p];return v.stream=S,v}}function i(){}i.prototype={constructor:i,point:function(L,S){this.stream.point(L,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,V,e){e.r(V),e.d(V,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return X},packEnclose:function(){return F},packSiblings:function(){return Q},partition:function(){return be},stratify:function(){return Me},tree:function(){return vt},treemap:function(){return _e},treemapBinary:function(){return Ge},treemapDice:function(){return we},treemapResquarify:function(){return We},treemapSlice:function(){return pt},treemapSliceDice:function(){return je},treemapSquarify:function(){return nt}});function m(Pe,Re){return Pe.parent===Re.parent?1:2}function P(Pe){return Pe.reduce(i,0)/Pe.length}function i(Pe,Re){return Pe+Re.x}function L(Pe){return 1+Pe.reduce(S,0)}function S(Pe,Re){return Math.max(Pe,Re.y)}function v(Pe){for(var Re;Re=Pe.children;)Pe=Re[0];return Pe}function p(Pe){for(var Re;Re=Pe.children;)Pe=Re[Re.length-1];return Pe}function r(){var Pe=m,Re=1,Xe=1,Le=!1;function ve(xe){var Ne,et=0;xe.eachAfter(function(Tt){var Dt=Tt.children;Dt?(Tt.x=P(Dt),Tt.y=L(Dt)):(Tt.x=Ne?et+=Pe(Tt,Ne):0,Tt.y=0,Ne=Tt)});var st=v(xe),lt=p(xe),Gt=st.x-Pe(st,lt)/2,jt=lt.x+Pe(lt,st)/2;return xe.eachAfter(Le?function(Tt){Tt.x=(Tt.x-xe.x)*Re,Tt.y=(xe.y-Tt.y)*Xe}:function(Tt){Tt.x=(Tt.x-Gt)/(jt-Gt)*Re,Tt.y=(1-(xe.y?Tt.y/xe.y:1))*Xe})}return ve.separation=function(xe){return arguments.length?(Pe=xe,ve):Pe},ve.size=function(xe){return arguments.length?(Le=!1,Re=+xe[0],Xe=+xe[1],ve):Le?null:[Re,Xe]},ve.nodeSize=function(xe){return arguments.length?(Le=!0,Re=+xe[0],Xe=+xe[1],ve):Le?[Re,Xe]:null},ve}function t(Pe){var Re=0,Xe=Pe.children,Le=Xe&&Xe.length;if(!Le)Re=1;else for(;--Le>=0;)Re+=Xe[Le].value;Pe.value=Re}function a(){return this.eachAfter(t)}function n(Pe){var Re=this,Xe,Le=[Re],ve,xe,Ne;do for(Xe=Le.reverse(),Le=[];Re=Xe.pop();)if(Pe(Re),ve=Re.children,ve)for(xe=0,Ne=ve.length;xe<Ne;++xe)Le.push(ve[xe]);while(Le.length);return this}function f(Pe){for(var Re=this,Xe=[Re],Le,ve;Re=Xe.pop();)if(Pe(Re),Le=Re.children,Le)for(ve=Le.length-1;ve>=0;--ve)Xe.push(Le[ve]);return this}function l(Pe){for(var Re=this,Xe=[Re],Le=[],ve,xe,Ne;Re=Xe.pop();)if(Le.push(Re),ve=Re.children,ve)for(xe=0,Ne=ve.length;xe<Ne;++xe)Xe.push(ve[xe]);for(;Re=Le.pop();)Pe(Re);return this}function u(Pe){return this.eachAfter(function(Re){for(var Xe=+Pe(Re.data)||0,Le=Re.children,ve=Le&&Le.length;--ve>=0;)Xe+=Le[ve].value;Re.value=Xe})}function g(Pe){return this.eachBefore(function(Re){Re.children&&Re.children.sort(Pe)})}function h(Pe){for(var Re=this,Xe=T(Re,Pe),Le=[Re];Re!==Xe;)Re=Re.parent,Le.push(Re);for(var ve=Le.length;Pe!==Xe;)Le.splice(ve,0,Pe),Pe=Pe.parent;return Le}function T(Pe,Re){if(Pe===Re)return Pe;var Xe=Pe.ancestors(),Le=Re.ancestors(),ve=null;for(Pe=Xe.pop(),Re=Le.pop();Pe===Re;)ve=Pe,Pe=Xe.pop(),Re=Le.pop();return ve}function c(){for(var Pe=this,Re=[Pe];Pe=Pe.parent;)Re.push(Pe);return Re}function o(){var Pe=[];return this.each(function(Re){Pe.push(Re)}),Pe}function d(){var Pe=[];return this.eachBefore(function(Re){Re.children||Pe.push(Re)}),Pe}function x(){var Pe=this,Re=[];return Pe.each(function(Xe){Xe!==Pe&&Re.push({source:Xe.parent,target:Xe})}),Re}function w(Pe,Re){var Xe=new s(Pe),Le=+Pe.value&&(Xe.value=Pe.value),ve,xe=[Xe],Ne,et,st,lt;for(Re==null&&(Re=y);ve=xe.pop();)if(Le&&(ve.value=+ve.data.value),(et=Re(ve.data))&&(lt=et.length))for(ve.children=new Array(lt),st=lt-1;st>=0;--st)xe.push(Ne=ve.children[st]=new s(et[st])),Ne.parent=ve,Ne.depth=ve.depth+1;return Xe.eachBefore(A)}function C(){return w(this).eachBefore(M)}function y(Pe){return Pe.children}function M(Pe){Pe.data=Pe.data.data}function A(Pe){var Re=0;do Pe.height=Re;while((Pe=Pe.parent)&&Pe.height<++Re)}function s(Pe){this.data=Pe,this.depth=this.height=0,this.parent=null}s.prototype=w.prototype={constructor:s,count:a,each:n,eachAfter:l,eachBefore:f,sum:u,sort:g,path:h,ancestors:c,descendants:o,leaves:d,links:x,copy:C};var E=Array.prototype.slice;function b(Pe){for(var Re=Pe.length,Xe,Le;Re;)Le=Math.random()*Re--|0,Xe=Pe[Re],Pe[Re]=Pe[Le],Pe[Le]=Xe;return Pe}function F(Pe){for(var Re=0,Xe=(Pe=b(E.call(Pe))).length,Le=[],ve,xe;Re<Xe;)ve=Pe[Re],xe&&_(xe,ve)?++Re:(xe=B(Le=I(Le,ve)),Re=0);return xe}function I(Pe,Re){var Xe,Le;if(O(Re,Pe))return[Re];for(Xe=0;Xe<Pe.length;++Xe)if(N(Re,Pe[Xe])&&O(U(Pe[Xe],Re),Pe))return[Pe[Xe],Re];for(Xe=0;Xe<Pe.length-1;++Xe)for(Le=Xe+1;Le<Pe.length;++Le)if(N(U(Pe[Xe],Pe[Le]),Re)&&N(U(Pe[Xe],Re),Pe[Le])&&N(U(Pe[Le],Re),Pe[Xe])&&O(Z(Pe[Xe],Pe[Le],Re),Pe))return[Pe[Xe],Pe[Le],Re];throw new Error}function N(Pe,Re){var Xe=Pe.r-Re.r,Le=Re.x-Pe.x,ve=Re.y-Pe.y;return Xe<0||Xe*Xe<Le*Le+ve*ve}function _(Pe,Re){var Xe=Pe.r-Re.r+1e-6,Le=Re.x-Pe.x,ve=Re.y-Pe.y;return Xe>0&&Xe*Xe>Le*Le+ve*ve}function O(Pe,Re){for(var Xe=0;Xe<Re.length;++Xe)if(!_(Pe,Re[Xe]))return!1;return!0}function B(Pe){switch(Pe.length){case 1:return z(Pe[0]);case 2:return U(Pe[0],Pe[1]);case 3:return Z(Pe[0],Pe[1],Pe[2])}}function z(Pe){return{x:Pe.x,y:Pe.y,r:Pe.r}}function U(Pe,Re){var Xe=Pe.x,Le=Pe.y,ve=Pe.r,xe=Re.x,Ne=Re.y,et=Re.r,st=xe-Xe,lt=Ne-Le,Gt=et-ve,jt=Math.sqrt(st*st+lt*lt);return{x:(Xe+xe+st/jt*Gt)/2,y:(Le+Ne+lt/jt*Gt)/2,r:(jt+ve+et)/2}}function Z(Pe,Re,Xe){var Le=Pe.x,ve=Pe.y,xe=Pe.r,Ne=Re.x,et=Re.y,st=Re.r,lt=Xe.x,Gt=Xe.y,jt=Xe.r,Tt=Le-Ne,Dt=Le-lt,Xt=ve-et,gr=ve-Gt,gt=st-xe,Zt=jt-xe,Qt=Le*Le+ve*ve-xe*xe,yr=Qt-Ne*Ne-et*et+st*st,or=Qt-lt*lt-Gt*Gt+jt*jt,mt=Dt*Xt-Tt*gr,ut=(Xt*or-gr*yr)/(mt*2)-Le,bt=(gr*gt-Xt*Zt)/mt,Et=(Dt*yr-Tt*or)/(mt*2)-ve,Rt=(Tt*Zt-Dt*gt)/mt,Ht=bt*bt+Rt*Rt-1,Bt=2*(xe+ut*bt+Et*Rt),Nt=ut*ut+Et*Et-xe*xe,Jt=-(Ht?(Bt+Math.sqrt(Bt*Bt-4*Ht*Nt))/(2*Ht):Nt/Bt);return{x:Le+ut+bt*Jt,y:ve+Et+Rt*Jt,r:Jt}}function J(Pe,Re,Xe){var Le=Pe.x-Re.x,ve,xe,Ne=Pe.y-Re.y,et,st,lt=Le*Le+Ne*Ne;lt?(xe=Re.r+Xe.r,xe*=xe,st=Pe.r+Xe.r,st*=st,xe>st?(ve=(lt+st-xe)/(2*lt),et=Math.sqrt(Math.max(0,st/lt-ve*ve)),Xe.x=Pe.x-ve*Le-et*Ne,Xe.y=Pe.y-ve*Ne+et*Le):(ve=(lt+xe-st)/(2*lt),et=Math.sqrt(Math.max(0,xe/lt-ve*ve)),Xe.x=Re.x+ve*Le-et*Ne,Xe.y=Re.y+ve*Ne+et*Le)):(Xe.x=Re.x+Xe.r,Xe.y=Re.y)}function re(Pe,Re){var Xe=Pe.r+Re.r-1e-6,Le=Re.x-Pe.x,ve=Re.y-Pe.y;return Xe>0&&Xe*Xe>Le*Le+ve*ve}function ne(Pe){var Re=Pe._,Xe=Pe.next._,Le=Re.r+Xe.r,ve=(Re.x*Xe.r+Xe.x*Re.r)/Le,xe=(Re.y*Xe.r+Xe.y*Re.r)/Le;return ve*ve+xe*xe}function ue(Pe){this._=Pe,this.next=null,this.previous=null}function te(Pe){if(!(ve=Pe.length))return 0;var Re,Xe,Le,ve,xe,Ne,et,st,lt,Gt,jt;if(Re=Pe[0],Re.x=0,Re.y=0,!(ve>1))return Re.r;if(Xe=Pe[1],Re.x=-Xe.r,Xe.x=Re.r,Xe.y=0,!(ve>2))return Re.r+Xe.r;J(Xe,Re,Le=Pe[2]),Re=new ue(Re),Xe=new ue(Xe),Le=new ue(Le),Re.next=Le.previous=Xe,Xe.next=Re.previous=Le,Le.next=Xe.previous=Re;e:for(et=3;et<ve;++et){J(Re._,Xe._,Le=Pe[et]),Le=new ue(Le),st=Xe.next,lt=Re.previous,Gt=Xe._.r,jt=Re._.r;do if(Gt<=jt){if(re(st._,Le._)){Xe=st,Re.next=Xe,Xe.previous=Re,--et;continue e}Gt+=st._.r,st=st.next}else{if(re(lt._,Le._)){Re=lt,Re.next=Xe,Xe.previous=Re,--et;continue e}jt+=lt._.r,lt=lt.previous}while(st!==lt.next);for(Le.previous=Re,Le.next=Xe,Re.next=Xe.previous=Xe=Le,xe=ne(Re);(Le=Le.next)!==Xe;)(Ne=ne(Le))<xe&&(Re=Le,xe=Ne);Xe=Re.next}for(Re=[Xe._],Le=Xe;(Le=Le.next)!==Xe;)Re.push(Le._);for(Le=F(Re),et=0;et<ve;++et)Re=Pe[et],Re.x-=Le.x,Re.y-=Le.y;return Le.r}function Q(Pe){return te(Pe),Pe}function ie(Pe){return Pe==null?null:Y(Pe)}function Y(Pe){if(typeof Pe!="function")throw new Error;return Pe}function $(){return 0}function oe(Pe){return function(){return Pe}}function j(Pe){return Math.sqrt(Pe.value)}function X(){var Pe=null,Re=1,Xe=1,Le=$;function ve(xe){return xe.x=Re/2,xe.y=Xe/2,Pe?xe.eachBefore(se(Pe)).eachAfter(q(Le,.5)).eachBefore(ce(1)):xe.eachBefore(se(j)).eachAfter(q($,1)).eachAfter(q(Le,xe.r/Math.min(Re,Xe))).eachBefore(ce(Math.min(Re,Xe)/(2*xe.r))),xe}return ve.radius=function(xe){return arguments.length?(Pe=ie(xe),ve):Pe},ve.size=function(xe){return arguments.length?(Re=+xe[0],Xe=+xe[1],ve):[Re,Xe]},ve.padding=function(xe){return arguments.length?(Le=typeof xe=="function"?xe:oe(+xe),ve):Le},ve}function se(Pe){return function(Re){Re.children||(Re.r=Math.max(0,+Pe(Re)||0))}}function q(Pe,Re){return function(Xe){if(Le=Xe.children){var Le,ve,xe=Le.length,Ne=Pe(Xe)*Re||0,et;if(Ne)for(ve=0;ve<xe;++ve)Le[ve].r+=Ne;if(et=te(Le),Ne)for(ve=0;ve<xe;++ve)Le[ve].r-=Ne;Xe.r=et+Ne}}}function ce(Pe){return function(Re){var Xe=Re.parent;Re.r*=Pe,Xe&&(Re.x=Xe.x+Pe*Re.x,Re.y=Xe.y+Pe*Re.y)}}function ye(Pe){Pe.x0=Math.round(Pe.x0),Pe.y0=Math.round(Pe.y0),Pe.x1=Math.round(Pe.x1),Pe.y1=Math.round(Pe.y1)}function we(Pe,Re,Xe,Le,ve){for(var xe=Pe.children,Ne,et=-1,st=xe.length,lt=Pe.value&&(Le-Re)/Pe.value;++et<st;)Ne=xe[et],Ne.y0=Xe,Ne.y1=ve,Ne.x0=Re,Ne.x1=Re+=Ne.value*lt}function be(){var Pe=1,Re=1,Xe=0,Le=!1;function ve(Ne){var et=Ne.height+1;return Ne.x0=Ne.y0=Xe,Ne.x1=Pe,Ne.y1=Re/et,Ne.eachBefore(xe(Re,et)),Le&&Ne.eachBefore(ye),Ne}function xe(Ne,et){return function(st){st.children&&we(st,st.x0,Ne*(st.depth+1)/et,st.x1,Ne*(st.depth+2)/et);var lt=st.x0,Gt=st.y0,jt=st.x1-Xe,Tt=st.y1-Xe;jt<lt&&(lt=jt=(lt+jt)/2),Tt<Gt&&(Gt=Tt=(Gt+Tt)/2),st.x0=lt,st.y0=Gt,st.x1=jt,st.y1=Tt}}return ve.round=function(Ne){return arguments.length?(Le=!!Ne,ve):Le},ve.size=function(Ne){return arguments.length?(Pe=+Ne[0],Re=+Ne[1],ve):[Pe,Re]},ve.padding=function(Ne){return arguments.length?(Xe=+Ne,ve):Xe},ve}var De="$",ke={depth:-1},Be={};function Ae(Pe){return Pe.id}function Ie(Pe){return Pe.parentId}function Me(){var Pe=Ae,Re=Ie;function Xe(Le){var ve,xe,Ne=Le.length,et,st,lt,Gt=new Array(Ne),jt,Tt,Dt={};for(xe=0;xe<Ne;++xe)ve=Le[xe],lt=Gt[xe]=new s(ve),(jt=Pe(ve,xe,Le))!=null&&(jt+="")&&(Tt=De+(lt.id=jt),Dt[Tt]=Tt in Dt?Be:lt);for(xe=0;xe<Ne;++xe)if(lt=Gt[xe],jt=Re(Le[xe],xe,Le),jt==null||!(jt+="")){if(et)throw new Error("multiple roots");et=lt}else{if(st=Dt[De+jt],!st)throw new Error("missing: "+jt);if(st===Be)throw new Error("ambiguous: "+jt);st.children?st.children.push(lt):st.children=[lt],lt.parent=st}if(!et)throw new Error("no root");if(et.parent=ke,et.eachBefore(function(Xt){Xt.depth=Xt.parent.depth+1,--Ne}).eachBefore(A),et.parent=null,Ne>0)throw new Error("cycle");return et}return Xe.id=function(Le){return arguments.length?(Pe=Y(Le),Xe):Pe},Xe.parentId=function(Le){return arguments.length?(Re=Y(Le),Xe):Re},Xe}function Fe(Pe,Re){return Pe.parent===Re.parent?1:2}function Ee(Pe){var Re=Pe.children;return Re?Re[0]:Pe.t}function He(Pe){var Re=Pe.children;return Re?Re[Re.length-1]:Pe.t}function rt(Pe,Re,Xe){var Le=Xe/(Re.i-Pe.i);Re.c-=Le,Re.s+=Xe,Pe.c+=Le,Re.z+=Xe,Re.m+=Xe}function ot(Pe){for(var Re=0,Xe=0,Le=Pe.children,ve=Le.length,xe;--ve>=0;)xe=Le[ve],xe.z+=Re,xe.m+=Re,Re+=xe.s+(Xe+=xe.c)}function $e(Pe,Re,Xe){return Pe.a.parent===Re.parent?Pe.a:Xe}function qe(Pe,Re){this._=Pe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Re}qe.prototype=Object.create(s.prototype);function ht(Pe){for(var Re=new qe(Pe,0),Xe,Le=[Re],ve,xe,Ne,et;Xe=Le.pop();)if(xe=Xe._.children)for(Xe.children=new Array(et=xe.length),Ne=et-1;Ne>=0;--Ne)Le.push(ve=Xe.children[Ne]=new qe(xe[Ne],Ne)),ve.parent=Xe;return(Re.parent=new qe(null,0)).children=[Re],Re}function vt(){var Pe=Fe,Re=1,Xe=1,Le=null;function ve(lt){var Gt=ht(lt);if(Gt.eachAfter(xe),Gt.parent.m=-Gt.z,Gt.eachBefore(Ne),Le)lt.eachBefore(st);else{var jt=lt,Tt=lt,Dt=lt;lt.eachBefore(function(Qt){Qt.x<jt.x&&(jt=Qt),Qt.x>Tt.x&&(Tt=Qt),Qt.depth>Dt.depth&&(Dt=Qt)});var Xt=jt===Tt?1:Pe(jt,Tt)/2,gr=Xt-jt.x,gt=Re/(Tt.x+Xt+gr),Zt=Xe/(Dt.depth||1);lt.eachBefore(function(Qt){Qt.x=(Qt.x+gr)*gt,Qt.y=Qt.depth*Zt})}return lt}function xe(lt){var Gt=lt.children,jt=lt.parent.children,Tt=lt.i?jt[lt.i-1]:null;if(Gt){ot(lt);var Dt=(Gt[0].z+Gt[Gt.length-1].z)/2;Tt?(lt.z=Tt.z+Pe(lt._,Tt._),lt.m=lt.z-Dt):lt.z=Dt}else Tt&&(lt.z=Tt.z+Pe(lt._,Tt._));lt.parent.A=et(lt,Tt,lt.parent.A||jt[0])}function Ne(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function et(lt,Gt,jt){if(Gt){for(var Tt=lt,Dt=lt,Xt=Gt,gr=Tt.parent.children[0],gt=Tt.m,Zt=Dt.m,Qt=Xt.m,yr=gr.m,or;Xt=He(Xt),Tt=Ee(Tt),Xt&&Tt;)gr=Ee(gr),Dt=He(Dt),Dt.a=lt,or=Xt.z+Qt-Tt.z-gt+Pe(Xt._,Tt._),or>0&&(rt($e(Xt,lt,jt),lt,or),gt+=or,Zt+=or),Qt+=Xt.m,gt+=Tt.m,yr+=gr.m,Zt+=Dt.m;Xt&&!He(Dt)&&(Dt.t=Xt,Dt.m+=Qt-Zt),Tt&&!Ee(gr)&&(gr.t=Tt,gr.m+=gt-yr,jt=lt)}return jt}function st(lt){lt.x*=Re,lt.y=lt.depth*Xe}return ve.separation=function(lt){return arguments.length?(Pe=lt,ve):Pe},ve.size=function(lt){return arguments.length?(Le=!1,Re=+lt[0],Xe=+lt[1],ve):Le?null:[Re,Xe]},ve.nodeSize=function(lt){return arguments.length?(Le=!0,Re=+lt[0],Xe=+lt[1],ve):Le?[Re,Xe]:null},ve}function pt(Pe,Re,Xe,Le,ve){for(var xe=Pe.children,Ne,et=-1,st=xe.length,lt=Pe.value&&(ve-Xe)/Pe.value;++et<st;)Ne=xe[et],Ne.x0=Re,Ne.x1=Le,Ne.y0=Xe,Ne.y1=Xe+=Ne.value*lt}var wt=(1+Math.sqrt(5))/2;function Mt(Pe,Re,Xe,Le,ve,xe){for(var Ne=[],et=Re.children,st,lt,Gt=0,jt=0,Tt=et.length,Dt,Xt,gr=Re.value,gt,Zt,Qt,yr,or,mt,ut;Gt<Tt;){Dt=ve-Xe,Xt=xe-Le;do gt=et[jt++].value;while(!gt&&jt<Tt);for(Zt=Qt=gt,mt=Math.max(Xt/Dt,Dt/Xt)/(gr*Pe),ut=gt*gt*mt,or=Math.max(Qt/ut,ut/Zt);jt<Tt;++jt){if(gt+=lt=et[jt].value,lt<Zt&&(Zt=lt),lt>Qt&&(Qt=lt),ut=gt*gt*mt,yr=Math.max(Qt/ut,ut/Zt),yr>or){gt-=lt;break}or=yr}Ne.push(st={value:gt,dice:Dt<Xt,children:et.slice(Gt,jt)}),st.dice?we(st,Xe,Le,ve,gr?Le+=Xt*gt/gr:xe):pt(st,Xe,Le,gr?Xe+=Dt*gt/gr:ve,xe),gr-=gt,Gt=jt}return Ne}var nt=function Pe(Re){function Xe(Le,ve,xe,Ne,et){Mt(Re,Le,ve,xe,Ne,et)}return Xe.ratio=function(Le){return Pe((Le=+Le)>1?Le:1)},Xe}(wt);function _e(){var Pe=nt,Re=!1,Xe=1,Le=1,ve=[0],xe=$,Ne=$,et=$,st=$,lt=$;function Gt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=Xe,Tt.y1=Le,Tt.eachBefore(jt),ve=[0],Re&&Tt.eachBefore(ye),Tt}function jt(Tt){var Dt=ve[Tt.depth],Xt=Tt.x0+Dt,gr=Tt.y0+Dt,gt=Tt.x1-Dt,Zt=Tt.y1-Dt;gt<Xt&&(Xt=gt=(Xt+gt)/2),Zt<gr&&(gr=Zt=(gr+Zt)/2),Tt.x0=Xt,Tt.y0=gr,Tt.x1=gt,Tt.y1=Zt,Tt.children&&(Dt=ve[Tt.depth+1]=xe(Tt)/2,Xt+=lt(Tt)-Dt,gr+=Ne(Tt)-Dt,gt-=et(Tt)-Dt,Zt-=st(Tt)-Dt,gt<Xt&&(Xt=gt=(Xt+gt)/2),Zt<gr&&(gr=Zt=(gr+Zt)/2),Pe(Tt,Xt,gr,gt,Zt))}return Gt.round=function(Tt){return arguments.length?(Re=!!Tt,Gt):Re},Gt.size=function(Tt){return arguments.length?(Xe=+Tt[0],Le=+Tt[1],Gt):[Xe,Le]},Gt.tile=function(Tt){return arguments.length?(Pe=Y(Tt),Gt):Pe},Gt.padding=function(Tt){return arguments.length?Gt.paddingInner(Tt).paddingOuter(Tt):Gt.paddingInner()},Gt.paddingInner=function(Tt){return arguments.length?(xe=typeof Tt=="function"?Tt:oe(+Tt),Gt):xe},Gt.paddingOuter=function(Tt){return arguments.length?Gt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Gt.paddingTop()},Gt.paddingTop=function(Tt){return arguments.length?(Ne=typeof Tt=="function"?Tt:oe(+Tt),Gt):Ne},Gt.paddingRight=function(Tt){return arguments.length?(et=typeof Tt=="function"?Tt:oe(+Tt),Gt):et},Gt.paddingBottom=function(Tt){return arguments.length?(st=typeof Tt=="function"?Tt:oe(+Tt),Gt):st},Gt.paddingLeft=function(Tt){return arguments.length?(lt=typeof Tt=="function"?Tt:oe(+Tt),Gt):lt},Gt}function Ge(Pe,Re,Xe,Le,ve){var xe=Pe.children,Ne,et=xe.length,st,lt=new Array(et+1);for(lt[0]=st=Ne=0;Ne<et;++Ne)lt[Ne+1]=st+=xe[Ne].value;Gt(0,et,Pe.value,Re,Xe,Le,ve);function Gt(jt,Tt,Dt,Xt,gr,gt,Zt){if(jt>=Tt-1){var Qt=xe[jt];Qt.x0=Xt,Qt.y0=gr,Qt.x1=gt,Qt.y1=Zt;return}for(var yr=lt[jt],or=Dt/2+yr,mt=jt+1,ut=Tt-1;mt<ut;){var bt=mt+ut>>>1;lt[bt]<or?mt=bt+1:ut=bt}or-lt[mt-1]<lt[mt]-or&&jt+1<mt&&--mt;var Et=lt[mt]-yr,Rt=Dt-Et;if(gt-Xt>Zt-gr){var Ht=(Xt*Rt+gt*Et)/Dt;Gt(jt,mt,Et,Xt,gr,Ht,Zt),Gt(mt,Tt,Rt,Ht,gr,gt,Zt)}else{var Bt=(gr*Rt+Zt*Et)/Dt;Gt(jt,mt,Et,Xt,gr,gt,Bt),Gt(mt,Tt,Rt,Xt,Bt,gt,Zt)}}}function je(Pe,Re,Xe,Le,ve){(Pe.depth&1?pt:we)(Pe,Re,Xe,Le,ve)}var We=function Pe(Re){function Xe(Le,ve,xe,Ne,et){if((st=Le._squarify)&&st.ratio===Re)for(var st,lt,Gt,jt,Tt=-1,Dt,Xt=st.length,gr=Le.value;++Tt<Xt;){for(lt=st[Tt],Gt=lt.children,jt=lt.value=0,Dt=Gt.length;jt<Dt;++jt)lt.value+=Gt[jt].value;lt.dice?we(lt,ve,xe,Ne,xe+=(et-xe)*lt.value/gr):pt(lt,ve,xe,ve+=(Ne-ve)*lt.value/gr,et),gr-=lt.value}else Le._squarify=st=Mt(Re,Le,ve,xe,Ne,et),st.ratio=Re}return Xe.ratio=function(Le){return Pe((Le=+Le)>1?Le:1)},Xe}(wt)},10132:function(G,V,e){e.d(V,{ak:function(){return h}});var m=Math.PI,P=2*m,i=1e-6,L=P-i;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,o,d){this._+="Q"+ +T+","+ +c+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(T,c,o,d,x,w){this._+="C"+ +T+","+ +c+","+ +o+","+ +d+","+(this._x1=+x)+","+(this._y1=+w)},arcTo:function(T,c,o,d,x){T=+T,c=+c,o=+o,d=+d,x=+x;var w=this._x1,C=this._y1,y=o-T,M=d-c,A=w-T,s=C-c,E=A*A+s*s;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(E>i)if(!(Math.abs(s*y-M*A)>i)||!x)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var b=o-w,F=d-C,I=y*y+M*M,N=b*b+F*F,_=Math.sqrt(I),O=Math.sqrt(E),B=x*Math.tan((m-Math.acos((I+E-N)/(2*_*O)))/2),z=B/O,U=B/_;Math.abs(z-1)>i&&(this._+="L"+(T+z*A)+","+(c+z*s)),this._+="A"+x+","+x+",0,0,"+ +(s*b>A*F)+","+(this._x1=T+U*y)+","+(this._y1=c+U*M)}},arc:function(T,c,o,d,x,w){T=+T,c=+c,o=+o,w=!!w;var C=o*Math.cos(d),y=o*Math.sin(d),M=T+C,A=c+y,s=1^w,E=w?d-x:x-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+M+","+A:(Math.abs(this._x1-M)>i||Math.abs(this._y1-A)>i)&&(this._+="L"+M+","+A),o&&(E<0&&(E=E%P+P),E>L?this._+="A"+o+","+o+",0,1,"+s+","+(T-C)+","+(c-y)+"A"+o+","+o+",0,1,"+s+","+(this._x1=M)+","+(this._y1=A):E>i&&(this._+="A"+o+","+o+",0,"+ +(E>=m)+","+s+","+(this._x1=T+o*Math.cos(x))+","+(this._y1=c+o*Math.sin(x))))},rect:function(T,c,o,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function a(T){return T[0]}function n(T){return T[1]}function f(T){return T.source}function l(T){return T.target}function u(T){var c=f,o=l,d=a,x=n,w=null;function C(){var y,M=r.call(arguments),A=c.apply(this,M),s=o.apply(this,M);if(w||(w=y=p()),T(w,+d.apply(this,(M[0]=A,M)),+x.apply(this,M),+d.apply(this,(M[0]=s,M)),+x.apply(this,M)),y)return w=null,y+""||null}return C.source=function(y){return arguments.length?(c=y,C):c},C.target=function(y){return arguments.length?(o=y,C):o},C.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),C):d},C.y=function(y){return arguments.length?(x=typeof y=="function"?y:t(+y),C):x},C.context=function(y){return arguments.length?(w=y??null,C):w},C}function g(T,c,o,d,x){T.moveTo(c,o),T.bezierCurveTo(c=(c+d)/2,o,c,x,d,x)}function h(){return u(g)}},94336:function(G,V,e){e.d(V,{Yn:function(){return Ge},m_:function(){return a},E9:function(){return je}});var m=e(8208),P=e(58931),i=e(46192),L=e(68936),S=e(32171),v=e(53528);function p(Pe){if(0<=Pe.y&&Pe.y<100){var Re=new Date(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L);return Re.setFullYear(Pe.y),Re}return new Date(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L)}function r(Pe){if(0<=Pe.y&&Pe.y<100){var Re=new Date(Date.UTC(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L));return Re.setUTCFullYear(Pe.y),Re}return new Date(Date.UTC(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L))}function t(Pe,Re,Xe){return{y:Pe,m:Re,d:Xe,H:0,M:0,S:0,L:0}}function a(Pe){var Re=Pe.dateTime,Xe=Pe.date,Le=Pe.time,ve=Pe.periods,xe=Pe.days,Ne=Pe.shortDays,et=Pe.months,st=Pe.shortMonths,lt=T(ve),Gt=c(ve),jt=T(xe),Tt=c(xe),Dt=T(Ne),Xt=c(Ne),gr=T(et),gt=c(et),Zt=T(st),Qt=c(st),yr={a:Ye,A:Ve,b:_t,B:kt,c:null,d:J,e:J,f:Q,H:re,I:ne,j:ue,L:te,m:ie,M:Y,p:Kt,q:sr,Q:Mt,s:nt,S:$,u:oe,U:j,V:X,w:se,W:q,x:null,X:null,y:ce,Y:ye,Z:we,"%":wt},or={a:cr,A:er,b:Ot,B:nr,c:null,d:be,e:be,f:Ie,H:De,I:ke,j:Be,L:Ae,m:Me,M:Fe,p:vr,q:wr,Q:Mt,s:nt,S:Ee,u:He,U:rt,V:ot,w:$e,W:qe,x:null,X:null,y:ht,Y:vt,Z:pt,"%":wt},mt={a:Ht,A:Bt,b:Nt,B:Jt,c:hr,d:b,e:b,f:B,H:I,I,j:F,L:O,m:E,M:N,p:Rt,q:s,Q:U,s:Z,S:_,u:d,U:x,V:w,w:o,W:C,x:fr,X:dr,y:M,Y:y,Z:A,"%":z};yr.x=ut(Xe,yr),yr.X=ut(Le,yr),yr.c=ut(Re,yr),or.x=ut(Xe,or),or.X=ut(Le,or),or.c=ut(Re,or);function ut(ur,Vr){return function(Pr){var Dr=[],ln=-1,Wr=0,Tn=ur.length,An,Tr,Fr;for(Pr instanceof Date||(Pr=new Date(+Pr));++ln<Tn;)ur.charCodeAt(ln)===37&&(Dr.push(ur.slice(Wr,ln)),(Tr=n[An=ur.charAt(++ln)])!=null?An=ur.charAt(++ln):Tr=An==="e"?" ":"0",(Fr=Vr[An])&&(An=Fr(Pr,Tr)),Dr.push(An),Wr=ln+1);return Dr.push(ur.slice(Wr,ln)),Dr.join("")}}function bt(ur,Vr){return function(Pr){var Dr=t(1900,void 0,1),ln=Et(Dr,ur,Pr+="",0),Wr,Tn;if(ln!=Pr.length)return null;if("Q"in Dr)return new Date(Dr.Q);if("s"in Dr)return new Date(Dr.s*1e3+("L"in Dr?Dr.L:0));if(Vr&&!("Z"in Dr)&&(Dr.Z=0),"p"in Dr&&(Dr.H=Dr.H%12+Dr.p*12),Dr.m===void 0&&(Dr.m="q"in Dr?Dr.q:0),"V"in Dr){if(Dr.V<1||Dr.V>53)return null;"w"in Dr||(Dr.w=1),"Z"in Dr?(Wr=r(t(Dr.y,0,1)),Tn=Wr.getUTCDay(),Wr=Tn>4||Tn===0?m.ot.ceil(Wr):(0,m.ot)(Wr),Wr=P.c.offset(Wr,(Dr.V-1)*7),Dr.y=Wr.getUTCFullYear(),Dr.m=Wr.getUTCMonth(),Dr.d=Wr.getUTCDate()+(Dr.w+6)%7):(Wr=p(t(Dr.y,0,1)),Tn=Wr.getDay(),Wr=Tn>4||Tn===0?i.qT.ceil(Wr):(0,i.qT)(Wr),Wr=L.c.offset(Wr,(Dr.V-1)*7),Dr.y=Wr.getFullYear(),Dr.m=Wr.getMonth(),Dr.d=Wr.getDate()+(Dr.w+6)%7)}else("W"in Dr||"U"in Dr)&&("w"in Dr||(Dr.w="u"in Dr?Dr.u%7:"W"in Dr?1:0),Tn="Z"in Dr?r(t(Dr.y,0,1)).getUTCDay():p(t(Dr.y,0,1)).getDay(),Dr.m=0,Dr.d="W"in Dr?(Dr.w+6)%7+Dr.W*7-(Tn+5)%7:Dr.w+Dr.U*7-(Tn+6)%7);return"Z"in Dr?(Dr.H+=Dr.Z/100|0,Dr.M+=Dr.Z%100,r(Dr)):p(Dr)}}function Et(ur,Vr,Pr,Dr){for(var ln=0,Wr=Vr.length,Tn=Pr.length,An,Tr;ln<Wr;){if(Dr>=Tn)return-1;if(An=Vr.charCodeAt(ln++),An===37){if(An=Vr.charAt(ln++),Tr=mt[An in n?Vr.charAt(ln++):An],!Tr||(Dr=Tr(ur,Pr,Dr))<0)return-1}else if(An!=Pr.charCodeAt(Dr++))return-1}return Dr}function Rt(ur,Vr,Pr){var Dr=lt.exec(Vr.slice(Pr));return Dr?(ur.p=Gt[Dr[0].toLowerCase()],Pr+Dr[0].length):-1}function Ht(ur,Vr,Pr){var Dr=Dt.exec(Vr.slice(Pr));return Dr?(ur.w=Xt[Dr[0].toLowerCase()],Pr+Dr[0].length):-1}function Bt(ur,Vr,Pr){var Dr=jt.exec(Vr.slice(Pr));return Dr?(ur.w=Tt[Dr[0].toLowerCase()],Pr+Dr[0].length):-1}function Nt(ur,Vr,Pr){var Dr=Zt.exec(Vr.slice(Pr));return Dr?(ur.m=Qt[Dr[0].toLowerCase()],Pr+Dr[0].length):-1}function Jt(ur,Vr,Pr){var Dr=gr.exec(Vr.slice(Pr));return Dr?(ur.m=gt[Dr[0].toLowerCase()],Pr+Dr[0].length):-1}function hr(ur,Vr,Pr){return Et(ur,Re,Vr,Pr)}function fr(ur,Vr,Pr){return Et(ur,Xe,Vr,Pr)}function dr(ur,Vr,Pr){return Et(ur,Le,Vr,Pr)}function Ye(ur){return Ne[ur.getDay()]}function Ve(ur){return xe[ur.getDay()]}function _t(ur){return st[ur.getMonth()]}function kt(ur){return et[ur.getMonth()]}function Kt(ur){return ve[+(ur.getHours()>=12)]}function sr(ur){return 1+~~(ur.getMonth()/3)}function cr(ur){return Ne[ur.getUTCDay()]}function er(ur){return xe[ur.getUTCDay()]}function Ot(ur){return st[ur.getUTCMonth()]}function nr(ur){return et[ur.getUTCMonth()]}function vr(ur){return ve[+(ur.getUTCHours()>=12)]}function wr(ur){return 1+~~(ur.getUTCMonth()/3)}return{format:function(ur){var Vr=ut(ur+="",yr);return Vr.toString=function(){return ur},Vr},parse:function(ur){var Vr=bt(ur+="",!1);return Vr.toString=function(){return ur},Vr},utcFormat:function(ur){var Vr=ut(ur+="",or);return Vr.toString=function(){return ur},Vr},utcParse:function(ur){var Vr=bt(ur+="",!0);return Vr.toString=function(){return ur},Vr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,l=/^%/,u=/[\\^$*+?|[\]().{}]/g;function g(Pe,Re,Xe){var Le=Pe<0?"-":"",ve=(Le?-Pe:Pe)+"",xe=ve.length;return Le+(xe<Xe?new Array(Xe-xe+1).join(Re)+ve:ve)}function h(Pe){return Pe.replace(u,"\\$&")}function T(Pe){return new RegExp("^(?:"+Pe.map(h).join("|")+")","i")}function c(Pe){for(var Re={},Xe=-1,Le=Pe.length;++Xe<Le;)Re[Pe[Xe].toLowerCase()]=Xe;return Re}function o(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+1));return Le?(Pe.w=+Le[0],Xe+Le[0].length):-1}function d(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+1));return Le?(Pe.u=+Le[0],Xe+Le[0].length):-1}function x(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.U=+Le[0],Xe+Le[0].length):-1}function w(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.V=+Le[0],Xe+Le[0].length):-1}function C(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.W=+Le[0],Xe+Le[0].length):-1}function y(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+4));return Le?(Pe.y=+Le[0],Xe+Le[0].length):-1}function M(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.y=+Le[0]+(+Le[0]>68?1900:2e3),Xe+Le[0].length):-1}function A(Pe,Re,Xe){var Le=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(Xe,Xe+6));return Le?(Pe.Z=Le[1]?0:-(Le[2]+(Le[3]||"00")),Xe+Le[0].length):-1}function s(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+1));return Le?(Pe.q=Le[0]*3-3,Xe+Le[0].length):-1}function E(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.m=Le[0]-1,Xe+Le[0].length):-1}function b(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.d=+Le[0],Xe+Le[0].length):-1}function F(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+3));return Le?(Pe.m=0,Pe.d=+Le[0],Xe+Le[0].length):-1}function I(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.H=+Le[0],Xe+Le[0].length):-1}function N(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.M=+Le[0],Xe+Le[0].length):-1}function _(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+2));return Le?(Pe.S=+Le[0],Xe+Le[0].length):-1}function O(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+3));return Le?(Pe.L=+Le[0],Xe+Le[0].length):-1}function B(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe,Xe+6));return Le?(Pe.L=Math.floor(Le[0]/1e3),Xe+Le[0].length):-1}function z(Pe,Re,Xe){var Le=l.exec(Re.slice(Xe,Xe+1));return Le?Xe+Le[0].length:-1}function U(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe));return Le?(Pe.Q=+Le[0],Xe+Le[0].length):-1}function Z(Pe,Re,Xe){var Le=f.exec(Re.slice(Xe));return Le?(Pe.s=+Le[0],Xe+Le[0].length):-1}function J(Pe,Re){return g(Pe.getDate(),Re,2)}function re(Pe,Re){return g(Pe.getHours(),Re,2)}function ne(Pe,Re){return g(Pe.getHours()%12||12,Re,2)}function ue(Pe,Re){return g(1+L.c.count((0,S.c)(Pe),Pe),Re,3)}function te(Pe,Re){return g(Pe.getMilliseconds(),Re,3)}function Q(Pe,Re){return te(Pe,Re)+"000"}function ie(Pe,Re){return g(Pe.getMonth()+1,Re,2)}function Y(Pe,Re){return g(Pe.getMinutes(),Re,2)}function $(Pe,Re){return g(Pe.getSeconds(),Re,2)}function oe(Pe){var Re=Pe.getDay();return Re===0?7:Re}function j(Pe,Re){return g(i.uU.count((0,S.c)(Pe)-1,Pe),Re,2)}function X(Pe,Re){var Xe=Pe.getDay();return Pe=Xe>=4||Xe===0?(0,i.kD)(Pe):i.kD.ceil(Pe),g(i.kD.count((0,S.c)(Pe),Pe)+((0,S.c)(Pe).getDay()===4),Re,2)}function se(Pe){return Pe.getDay()}function q(Pe,Re){return g(i.qT.count((0,S.c)(Pe)-1,Pe),Re,2)}function ce(Pe,Re){return g(Pe.getFullYear()%100,Re,2)}function ye(Pe,Re){return g(Pe.getFullYear()%1e4,Re,4)}function we(Pe){var Re=Pe.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+g(Re/60|0,"0",2)+g(Re%60,"0",2)}function be(Pe,Re){return g(Pe.getUTCDate(),Re,2)}function De(Pe,Re){return g(Pe.getUTCHours(),Re,2)}function ke(Pe,Re){return g(Pe.getUTCHours()%12||12,Re,2)}function Be(Pe,Re){return g(1+P.c.count((0,v.c)(Pe),Pe),Re,3)}function Ae(Pe,Re){return g(Pe.getUTCMilliseconds(),Re,3)}function Ie(Pe,Re){return Ae(Pe,Re)+"000"}function Me(Pe,Re){return g(Pe.getUTCMonth()+1,Re,2)}function Fe(Pe,Re){return g(Pe.getUTCMinutes(),Re,2)}function Ee(Pe,Re){return g(Pe.getUTCSeconds(),Re,2)}function He(Pe){var Re=Pe.getUTCDay();return Re===0?7:Re}function rt(Pe,Re){return g(m.EV.count((0,v.c)(Pe)-1,Pe),Re,2)}function ot(Pe,Re){var Xe=Pe.getUTCDay();return Pe=Xe>=4||Xe===0?(0,m.yA)(Pe):m.yA.ceil(Pe),g(m.yA.count((0,v.c)(Pe),Pe)+((0,v.c)(Pe).getUTCDay()===4),Re,2)}function $e(Pe){return Pe.getUTCDay()}function qe(Pe,Re){return g(m.ot.count((0,v.c)(Pe)-1,Pe),Re,2)}function ht(Pe,Re){return g(Pe.getUTCFullYear()%100,Re,2)}function vt(Pe,Re){return g(Pe.getUTCFullYear()%1e4,Re,4)}function pt(){return"+0000"}function wt(){return"%"}function Mt(Pe){return+Pe}function nt(Pe){return Math.floor(+Pe/1e3)}var _e,Ge,je;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(Pe){return _e=a(Pe),Ge=_e.format,_e.parse,je=_e.utcFormat,_e.utcParse,_e}},68936:function(G,V,e){e.d(V,{m:function(){return L}});var m=e(81628),P=e(69792),i=(0,m.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*P.iy)/P.SK},function(S){return S.getDate()-1});V.c=i;var L=i.range},69792:function(G,V,e){e.d(V,{KK:function(){return S},SK:function(){return L},cg:function(){return i},iy:function(){return P},yc:function(){return m}});var m=1e3,P=6e4,i=36e5,L=864e5,S=6048e5},73220:function(G,V,e){e.r(V),e.d(V,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return m.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return L},timeMinute:function(){return a},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return M},utcHours:function(){return A},utcMillisecond:function(){return i},utcMilliseconds:function(){return L},utcMinute:function(){return w},utcMinutes:function(){return C},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return F},utcMonths:function(){return I},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var m=e(81628),P=(0,m.c)(function(){},function(_,O){_.setTime(+_+O)},function(_,O){return O-_});P.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?(0,m.c)(function(O){O.setTime(Math.floor(O/_)*_)},function(O,B){O.setTime(+O+B*_)},function(O,B){return(B-O)/_}):P};var i=P,L=P.range,S=e(69792),v=(0,m.c)(function(_){_.setTime(_-_.getMilliseconds())},function(_,O){_.setTime(+_+O*S.yc)},function(_,O){return(O-_)/S.yc},function(_){return _.getUTCSeconds()}),p=v,r=v.range,t=(0,m.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*S.yc)},function(_,O){_.setTime(+_+O*S.iy)},function(_,O){return(O-_)/S.iy},function(_){return _.getMinutes()}),a=t,n=t.range,f=(0,m.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*S.yc-_.getMinutes()*S.iy)},function(_,O){_.setTime(+_+O*S.cg)},function(_,O){return(O-_)/S.cg},function(_){return _.getHours()}),l=f,u=f.range,g=e(68936),h=e(46192),T=(0,m.c)(function(_){_.setDate(1),_.setHours(0,0,0,0)},function(_,O){_.setMonth(_.getMonth()+O)},function(_,O){return O.getMonth()-_.getMonth()+(O.getFullYear()-_.getFullYear())*12},function(_){return _.getMonth()}),c=T,o=T.range,d=e(32171),x=(0,m.c)(function(_){_.setUTCSeconds(0,0)},function(_,O){_.setTime(+_+O*S.iy)},function(_,O){return(O-_)/S.iy},function(_){return _.getUTCMinutes()}),w=x,C=x.range,y=(0,m.c)(function(_){_.setUTCMinutes(0,0,0)},function(_,O){_.setTime(+_+O*S.cg)},function(_,O){return(O-_)/S.cg},function(_){return _.getUTCHours()}),M=y,A=y.range,s=e(58931),E=e(8208),b=(0,m.c)(function(_){_.setUTCDate(1),_.setUTCHours(0,0,0,0)},function(_,O){_.setUTCMonth(_.getUTCMonth()+O)},function(_,O){return O.getUTCMonth()-_.getUTCMonth()+(O.getUTCFullYear()-_.getUTCFullYear())*12},function(_){return _.getUTCMonth()}),F=b,I=b.range,N=e(53528)},81628:function(G,V,e){e.d(V,{c:function(){return i}});var m=new Date,P=new Date;function i(L,S,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),S(t,1),L(t),t},r.round=function(t){var a=r(t),n=r.ceil(t);return t-a<n-t?a:n},r.offset=function(t,a){return S(t=new Date(+t),a==null?1:Math.floor(a)),t},r.range=function(t,a,n){var f=[],l;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<a)||!(n>0))return f;do f.push(l=new Date(+t)),S(t,n),L(t);while(l<t&&t<a);return f},r.filter=function(t){return i(function(a){if(a>=a)for(;L(a),!t(a);)a.setTime(a-1)},function(a,n){if(a>=a)if(n<0)for(;++n<=0;)for(;S(a,-1),!t(a););else for(;--n>=0;)for(;S(a,1),!t(a););})},v&&(r.count=function(t,a){return m.setTime(+t),P.setTime(+a),L(m),L(P),Math.floor(v(m,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(a){return p(a)%t===0}:function(a){return r.count(0,a)%t===0}):r}),r}},58931:function(G,V,e){e.d(V,{o:function(){return L}});var m=e(81628),P=e(69792),i=(0,m.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/P.SK},function(S){return S.getUTCDate()-1});V.c=i;var L=i.range},8208:function(G,V,e){e.d(V,{Ad:function(){return a},EV:function(){return L},K8:function(){return T},W_:function(){return u},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return f},kl:function(){return l},ob:function(){return g},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var m=e(81628),P=e(69792);function i(c){return(0,m.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/P.KK})}var L=i(0),S=i(1),v=i(2),p=i(3),r=i(4),t=i(5),a=i(6),n=L.range,f=S.range,l=v.range,u=p.range,g=r.range,h=t.range,T=a.range},53528:function(G,V,e){e.d(V,{i:function(){return i}});var m=e(81628),P=(0,m.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,S){L.setUTCFullYear(L.getUTCFullYear()+S)},function(L,S){return S.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/L)*L),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*L)})},V.c=P;var i=P.range},46192:function(G,V,e){e.d(V,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return l},QP:function(){return f},Wc:function(){return a},aI:function(){return T},eC:function(){return g},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return h},sn:function(){return u},uU:function(){return L}});var m=e(81628),P=e(69792);function i(c){return(0,m.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*P.iy)/P.KK})}var L=i(0),S=i(1),v=i(2),p=i(3),r=i(4),t=i(5),a=i(6),n=L.range,f=S.range,l=v.range,u=p.range,g=r.range,h=t.range,T=a.range},32171:function(G,V,e){e.d(V,{Q:function(){return i}});var m=e(81628),P=(0,m.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,S){L.setFullYear(L.getFullYear()+S)},function(L,S){return S.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/L)*L),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*L)})},V.c=P;var i=P.range},64348:function(G,V,e){var m=e(39640)(),P=e(53664),i=m&&P("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch{i=!1}var L=P("%SyntaxError%"),S=P("%TypeError%"),v=e(2304);G.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,g=!!v&&v(r,t);if(i)i(r,t,{configurable:l===null&&g?g.configurable:!l,enumerable:n===null&&g?g.enumerable:!n,value:a,writable:f===null&&g?g.writable:!f});else if(u||!n&&!f&&!l)r[t]=a;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,V,e){var m=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,L=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},p=e(39640)(),r=S&&p,t=function(n,f,l,u){if(f in n){if(u===!0){if(n[f]===l)return}else if(!v(u)||!u())return}r?S(n,f,{configurable:!0,enumerable:!1,value:l,writable:!0}):n[f]=l},a=function(n,f){var l=arguments.length>2?arguments[2]:{},u=m(f);P&&(u=L.call(u,Object.getOwnPropertySymbols(f)));for(var g=0;g<u.length;g+=1)t(n,u[g],f[u[g]],l[u[g]])};a.supportsDescriptors=!!r,G.exports=a},31264:function(G){G.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},63768:function(G){G.exports=P;var V=P.canvas=document.createElement("canvas"),e=V.getContext("2d"),m=i([32,126]);P.createPairs=i,P.ascii=m;function P(L,S){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?p=i(S):Array.isArray(S)?p=S:(S.o?p=i(S.o):S.pairs&&(p=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),p||(p=m),e.font=r+"px "+L;for(var a=0;a<p.length;a++){var n=p[a],f=e.measureText(n[0]).width+e.measureText(n[1]).width,l=e.measureText(n).width;if(Math.abs(f-l)>r*t){var u=(l-f)/r;v[n]=u*1e3}}return v}function i(L){for(var S=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),a=p+t;S.push(a)}return S}},22235:function(G,V,e){var m=e(49972),P=e(48816),i={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,S){L.beginPath(),P(m(S)).forEach(function(v){var p=v[0],r=v.slice(1);L[i[p]].apply(L,r)}),L.closePath()}},72512:function(G){G.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function V(P,i,L){var S=P[L]|0;if(S<=0)return[];var v=new Array(S),p;if(L===P.length-1)for(p=0;p<S;++p)v[p]=i;else for(p=0;p<S;++p)v[p]=V(P,i,L+1);return v}function e(P,i){var L,S;for(L=new Array(P),S=0;S<P;++S)L[S]=i;return L}function m(P,i){switch(typeof i>"u"&&(i=0),typeof P){case"number":if(P>0)return e(P|0,i);break;case"object":if(typeof P.length=="number")return V(P,i,0);break}return[]}G.exports=m},28912:function(G){G.exports=V,G.exports.default=V;function V(I,N,_){_=_||2;var O=N&&N.length,B=O?N[0]*_:I.length,z=e(I,0,B,_,!0),U=[];if(!z||z.next===z.prev)return U;var Z,J,re,ne,ue,te,Q;if(O&&(z=p(I,N,z,_)),I.length>80*_){Z=re=I[0],J=ne=I[1];for(var ie=_;ie<B;ie+=_)ue=I[ie],te=I[ie+1],ue<Z&&(Z=ue),te<J&&(J=te),ue>re&&(re=ue),te>ne&&(ne=te);Q=Math.max(re-Z,ne-J),Q=Q!==0?1/Q:0}return P(z,U,_,Z,J,Q),U}function e(I,N,_,O,B){var z,U;if(B===F(I,N,_,O)>0)for(z=N;z<_;z+=O)U=s(z,I[z],I[z+1],U);else for(z=_-O;z>=N;z-=O)U=s(z,I[z],I[z+1],U);return U&&o(U,U.next)&&(E(U),U=U.next),U}function m(I,N){if(!I)return I;N||(N=I);var _=I,O;do if(O=!1,!_.steiner&&(o(_,_.next)||c(_.prev,_,_.next)===0)){if(E(_),_=N=_.prev,_===_.next)break;O=!0}else _=_.next;while(O||_!==N);return N}function P(I,N,_,O,B,z,U){if(I){!U&&z&&f(I,O,B,z);for(var Z=I,J,re;I.prev!==I.next;){if(J=I.prev,re=I.next,z?L(I,O,B,z):i(I)){N.push(J.i/_),N.push(I.i/_),N.push(re.i/_),E(I),I=re.next,Z=re.next;continue}if(I=re,I===Z){U?U===1?(I=S(m(I),N,_),P(I,N,_,O,B,z,2)):U===2&&v(I,N,_,O,B,z):P(m(I),N,_,O,B,z,1);break}}}}function i(I){var N=I.prev,_=I,O=I.next;if(c(N,_,O)>=0)return!1;for(var B=I.next.next;B!==I.prev;){if(h(N.x,N.y,_.x,_.y,O.x,O.y,B.x,B.y)&&c(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function L(I,N,_,O){var B=I.prev,z=I,U=I.next;if(c(B,z,U)>=0)return!1;for(var Z=B.x<z.x?B.x<U.x?B.x:U.x:z.x<U.x?z.x:U.x,J=B.y<z.y?B.y<U.y?B.y:U.y:z.y<U.y?z.y:U.y,re=B.x>z.x?B.x>U.x?B.x:U.x:z.x>U.x?z.x:U.x,ne=B.y>z.y?B.y>U.y?B.y:U.y:z.y>U.y?z.y:U.y,ue=u(Z,J,N,_,O),te=u(re,ne,N,_,O),Q=I.prevZ,ie=I.nextZ;Q&&Q.z>=ue&&ie&&ie.z<=te;){if(Q!==I.prev&&Q!==I.next&&h(B.x,B.y,z.x,z.y,U.x,U.y,Q.x,Q.y)&&c(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,ie!==I.prev&&ie!==I.next&&h(B.x,B.y,z.x,z.y,U.x,U.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;Q&&Q.z>=ue;){if(Q!==I.prev&&Q!==I.next&&h(B.x,B.y,z.x,z.y,U.x,U.y,Q.x,Q.y)&&c(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;ie&&ie.z<=te;){if(ie!==I.prev&&ie!==I.next&&h(B.x,B.y,z.x,z.y,U.x,U.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function S(I,N,_){var O=I;do{var B=O.prev,z=O.next.next;!o(B,z)&&d(B,O,O.next,z)&&y(B,z)&&y(z,B)&&(N.push(B.i/_),N.push(O.i/_),N.push(z.i/_),E(O),E(O.next),O=I=z),O=O.next}while(O!==I);return m(O)}function v(I,N,_,O,B,z){var U=I;do{for(var Z=U.next.next;Z!==U.prev;){if(U.i!==Z.i&&T(U,Z)){var J=A(U,Z);U=m(U,U.next),J=m(J,J.next),P(U,N,_,O,B,z),P(J,N,_,O,B,z);return}Z=Z.next}U=U.next}while(U!==I)}function p(I,N,_,O){var B=[],z,U,Z,J,re;for(z=0,U=N.length;z<U;z++)Z=N[z]*O,J=z<U-1?N[z+1]*O:I.length,re=e(I,Z,J,O,!1),re===re.next&&(re.steiner=!0),B.push(g(re));for(B.sort(r),z=0;z<B.length;z++)t(B[z],_),_=m(_,_.next);return _}function r(I,N){return I.x-N.x}function t(I,N){if(N=a(I,N),N){var _=A(N,I);m(N,N.next),m(_,_.next)}}function a(I,N){var _=N,O=I.x,B=I.y,z=-1/0,U;do{if(B<=_.y&&B>=_.next.y&&_.next.y!==_.y){var Z=_.x+(B-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(Z<=O&&Z>z){if(z=Z,Z===O){if(B===_.y)return _;if(B===_.next.y)return _.next}U=_.x<_.next.x?_:_.next}}_=_.next}while(_!==N);if(!U)return null;if(O===z)return U;var J=U,re=U.x,ne=U.y,ue=1/0,te;_=U;do O>=_.x&&_.x>=re&&O!==_.x&&h(B<ne?O:z,B,re,ne,B<ne?z:O,B,_.x,_.y)&&(te=Math.abs(B-_.y)/(O-_.x),y(_,I)&&(te<ue||te===ue&&(_.x>U.x||_.x===U.x&&n(U,_)))&&(U=_,ue=te)),_=_.next;while(_!==J);return U}function n(I,N){return c(I.prev,I,N.prev)<0&&c(N.next,I,I.next)<0}function f(I,N,_,O){var B=I;do B.z===null&&(B.z=u(B.x,B.y,N,_,O)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,l(B)}function l(I){var N,_,O,B,z,U,Z,J,re=1;do{for(_=I,I=null,z=null,U=0;_;){for(U++,O=_,Z=0,N=0;N<re&&(Z++,O=O.nextZ,!!O);N++);for(J=re;Z>0||J>0&&O;)Z!==0&&(J===0||!O||_.z<=O.z)?(B=_,_=_.nextZ,Z--):(B=O,O=O.nextZ,J--),z?z.nextZ=B:I=B,B.prevZ=z,z=B;_=O}z.nextZ=null,re*=2}while(U>1);return I}function u(I,N,_,O,B){return I=32767*(I-_)*B,N=32767*(N-O)*B,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,I|N<<1}function g(I){var N=I,_=I;do(N.x<_.x||N.x===_.x&&N.y<_.y)&&(_=N),N=N.next;while(N!==I);return _}function h(I,N,_,O,B,z,U,Z){return(B-U)*(N-Z)-(I-U)*(z-Z)>=0&&(I-U)*(O-Z)-(_-U)*(N-Z)>=0&&(_-U)*(z-Z)-(B-U)*(O-Z)>=0}function T(I,N){return I.next.i!==N.i&&I.prev.i!==N.i&&!C(I,N)&&(y(I,N)&&y(N,I)&&M(I,N)&&(c(I.prev,I,N.prev)||c(I,N.prev,N))||o(I,N)&&c(I.prev,I,I.next)>0&&c(N.prev,N,N.next)>0)}function c(I,N,_){return(N.y-I.y)*(_.x-N.x)-(N.x-I.x)*(_.y-N.y)}function o(I,N){return I.x===N.x&&I.y===N.y}function d(I,N,_,O){var B=w(c(I,N,_)),z=w(c(I,N,O)),U=w(c(_,O,I)),Z=w(c(_,O,N));return!!(B!==z&&U!==Z||B===0&&x(I,_,N)||z===0&&x(I,O,N)||U===0&&x(_,I,O)||Z===0&&x(_,N,O))}function x(I,N,_){return N.x<=Math.max(I.x,_.x)&&N.x>=Math.min(I.x,_.x)&&N.y<=Math.max(I.y,_.y)&&N.y>=Math.min(I.y,_.y)}function w(I){return I>0?1:I<0?-1:0}function C(I,N){var _=I;do{if(_.i!==I.i&&_.next.i!==I.i&&_.i!==N.i&&_.next.i!==N.i&&d(_,_.next,I,N))return!0;_=_.next}while(_!==I);return!1}function y(I,N){return c(I.prev,I,I.next)<0?c(I,N,I.next)>=0&&c(I,I.prev,N)>=0:c(I,N,I.prev)<0||c(I,I.next,N)<0}function M(I,N){var _=I,O=!1,B=(I.x+N.x)/2,z=(I.y+N.y)/2;do _.y>z!=_.next.y>z&&_.next.y!==_.y&&B<(_.next.x-_.x)*(z-_.y)/(_.next.y-_.y)+_.x&&(O=!O),_=_.next;while(_!==I);return O}function A(I,N){var _=new b(I.i,I.x,I.y),O=new b(N.i,N.x,N.y),B=I.next,z=N.prev;return I.next=N,N.prev=I,_.next=B,B.prev=_,O.next=_,_.prev=O,z.next=O,O.prev=z,O}function s(I,N,_,O){var B=new b(I,N,_);return O?(B.next=O.next,B.prev=O,O.next.prev=B,O.next=B):(B.prev=B,B.next=B),B}function E(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function b(I,N,_){this.i=I,this.x=N,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(I,N,_,O){var B=N&&N.length,z=B?N[0]*_:I.length,U=Math.abs(F(I,0,z,_));if(B)for(var Z=0,J=N.length;Z<J;Z++){var re=N[Z]*_,ne=Z<J-1?N[Z+1]*_:I.length;U-=Math.abs(F(I,re,ne,_))}var ue=0;for(Z=0;Z<O.length;Z+=3){var te=O[Z]*_,Q=O[Z+1]*_,ie=O[Z+2]*_;ue+=Math.abs((I[te]-I[ie])*(I[Q+1]-I[te+1])-(I[te]-I[Q])*(I[ie+1]-I[te+1]))}return U===0&&ue===0?0:Math.abs((ue-U)/U)};function F(I,N,_,O){for(var B=0,z=N,U=_-O;z<_;z+=O)B+=(I[U]-I[z])*(I[z+1]+I[U+1]),U=z;return B}V.flatten=function(I){for(var N=I[0][0].length,_={vertices:[],holes:[],dimensions:N},O=0,B=0;B<I.length;B++){for(var z=0;z<I[B].length;z++)for(var U=0;U<N;U++)_.vertices.push(I[B][z][U]);B>0&&(O+=I[B-1].length,_.holes.push(O))}return _}},6688:function(G,V,e){var m=e(78484);G.exports=function(i,L){var S=[],v=[],p=[],r={},t=[],a;function n(x){p[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(w){delete r[x][w],p[w]&&n(w)})}function f(x){var w=!1;v.push(x),p[x]=!0;var C,y;for(C=0;C<t[x].length;C++)y=t[x][C],y===a?(l(a,v),w=!0):p[y]||(w=f(y));if(w)n(x);else for(C=0;C<t[x].length;C++){y=t[x][C];var M=r[y];M||(M={},r[y]=M),M[y]=!0}return v.pop(),w}function l(x,w){var C=[].concat(w).concat(x);L?L(f):S.push(C)}function u(x){for(var w=0;w<i.length;w++)w<x&&(i[w]=[]),i[w]=i[w].filter(function(C){return C>=x})}function g(x){u(x);for(var w=i,C=m(w),y=C.components.filter(function(I){return I.length>1}),M=1/0,A,s=0;s<y.length;s++)for(var E=0;E<y[s].length;E++)y[s][E]<M&&(M=y[s][E],A=s);var b=y[A];if(!b)return!1;var F=i.map(function(I,N){return b.indexOf(N)===-1?[]:I.filter(function(_){return b.indexOf(_)!==-1})});return{leastVertex:M,adjList:F}}a=0;for(var h=i.length;a<h;){var T=g(a);if(a=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var d=t[c][o];p[+d]=!1,r[d]={}}f(a),a=a+1}else a=h}if(!L)return S}},41476:function(G,V,e){var m=e(9252);G.exports=function(){return m(this).length=0,this}},74772:function(G,V,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var V=Array.from,e,m;return typeof V!="function"?!1:(e=["raz","dwa"],m=V(e),!!(m&&m!==e&&m[1]==="dwa"))}},80816:function(G,V,e){var m=e(92664).iterator,P=e(60948),i=e(17024),L=e(81304),S=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,a=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;G.exports=function(l){var u=arguments[1],g=arguments[2],h,T,c,o,d,x,w,C,y,M;if(l=Object(v(l)),p(u)&&S(u),!this||this===Array||!i(this)){if(!u){if(P(l))return d=l.length,d!==1?Array.apply(null,l):(o=new Array(1),o[0]=l[0],o);if(t(l)){for(o=new Array(d=l.length),T=0;T<d;++T)o[T]=l[T];return o}}o=[]}else h=this;if(!t(l)){if((y=l[m])!==void 0){for(w=S(y).call(l),h&&(o=new h),C=w.next(),T=0;!C.done;)M=u?a.call(u,g,C.value,T):C.value,h?(n.value=M,f(o,T,n)):o[T]=M,C=w.next(),++T;d=T}else if(r(l)){for(d=l.length,h&&(o=new h),T=0,c=0;T<d;++T)M=l[T],T+1<d&&(x=M.charCodeAt(0),x>=55296&&x<=56319&&(M+=l[++T])),M=u?a.call(u,g,M,c):M,h?(n.value=M,f(o,c,n)):o[c]=M,++c;d=c}}if(d===void 0)for(d=L(l.length),h&&(o=new h(d)),T=0;T<d;++T)M=u?a.call(u,g,l[T],T):l[T],h?(n.value=M,f(o,T,n)):o[T]=M;return h&&(n.value=null,o.length=d),o}},60948:function(G){var V=Object.prototype.toString,e=V.call(function(){return arguments}());G.exports=function(m){return V.call(m)===e}},17024:function(G){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(m){return typeof m=="function"&&e(V.call(m))}},33208:function(G){G.exports=function(){}},85608:function(G,V,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},92928:function(G){G.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},96936:function(G,V,e){var m=e(85608),P=Math.abs,i=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:m(L)*i(P(L)))}},81304:function(G,V,e){var m=e(96936),P=Math.max;G.exports=function(i){return P(0,m(i))}},14428:function(G,V,e){var m=e(34044),P=e(9252),i=Function.prototype.bind,L=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,a){var n,f=arguments[2],l=arguments[3];return t=Object(P(t)),m(a),n=S(t),l&&n.sort(typeof l=="function"?i.call(l,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(u,g){return v.call(t,u)?L.call(a,f,t[u],u,t,g):r})}}},38452:function(G,V,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,V,e){var m=e(54768),P=e(9252),i=Math.max;G.exports=function(L,S){var v,p,r=i(arguments.length,2),t;for(L=Object(P(L)),t=function(a){try{L[a]=S[a]}catch(n){v||(v=n)}},p=1;p<r;++p)S=arguments[p],m(S).forEach(t);if(v!==void 0)throw v;return L}},95920:function(G,V,e){var m=e(74772),P=e(38452),i=e(9252);G.exports=function(L){var S=Object(i(L)),v=arguments[1],p=Object(arguments[2]);if(S!==L&&!v)return S;var r={};return v?m(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},14452:function(G,V,e){var m=Object.create,P;e(63092)()||(P=e(8672)),G.exports=function(){var i,L,S;return!P||P.level!==1?m:(i={},L={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=S}),Object.defineProperties(i,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,p){return m(v===null?i:v,p)})}()},42748:function(G,V,e){G.exports=e(14428)("forEach")},69127:function(G,V,e){var m=e(42584),P={function:!0,object:!0};G.exports=function(i){return m(i)&&P[typeof i]||!1}},42584:function(G,V,e){var m=e(33208)();G.exports=function(P){return P!==m&&P!==null}},54768:function(G,V,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,V,e){var m=e(42584),P=Object.keys;G.exports=function(i){return P(m(i)?Object(i):i)}},84323:function(G,V,e){var m=e(34044),P=e(42748),i=Function.prototype.call;G.exports=function(L,S){var v={},p=arguments[2];return m(S),P(L,function(r,t,a,n){v[t]=i.call(S,p,r,t,a,n)}),v}},50868:function(G,V,e){var m=e(42584),P=Array.prototype.forEach,i=Object.create,L=function(S,v){var p;for(p in S)v[p]=S[p]};G.exports=function(S){var v=i(null);return P.call(arguments,function(p){m(p)&&L(Object(p),v)}),v}},69932:function(G,V,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var V=Object.create,e=Object.getPrototypeOf,m={};G.exports=function(){var P=Object.setPrototypeOf,i=arguments[0]||V;return typeof P!="function"?!1:e(P(i(null),m))===m}},8672:function(G,V,e){var m=e(69127),P=e(9252),i=Object.prototype.isPrototypeOf,L=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||m(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(a,n){return t.call(v(a,n),n),a}):r=function(a,n){return v(a,n).__proto__=n,a}:r=function a(n,f){var l;return v(n,f),l=i.call(a.nullPolyfill,n),l&&delete a.nullPolyfill.__proto__,f===null&&(f=a.nullPolyfill),n.__proto__=f,l&&L(a.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},92584:function(G,V,e){var m=e(69127);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not an Object");return P}},9252:function(G,V,e){var m=e(42584);G.exports=function(P){if(!m(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(G,V,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var V="razdwatrzy";G.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},93040:function(G){var V=String.prototype.indexOf;G.exports=function(e){return V.call(this,e,arguments[1])>-1}},29768:function(G){var V=Object.prototype.toString,e=V.call("");G.exports=function(m){return typeof m=="string"||m&&typeof m=="object"&&(m instanceof String||V.call(m)===e)||!1}},82252:function(G){var V=Object.create(null),e=Math.random;G.exports=function(){var m;do m=e().toString(36).slice(2);while(V[m]);return m}},52104:function(G,V,e){var m=e(69932),P=e(71056),i=e(21092),L=e(92664),S=e(85512),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",i("",t))},m&&m(p,S),delete p.prototype.constructor,p.prototype=Object.create(S.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,i("c","Array Iterator"))},76024:function(G,V,e){var m=e(60948),P=e(34044),i=e(29768),L=e(76252),S=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var a,n=arguments[2],f,l,u,g,h,T,c;if(S(r)||m(r)?a="array":i(r)?a="string":r=L(r),P(t),l=function(){u=!0},a==="array"){p.call(r,function(o){return v.call(t,n,o,l),u});return}if(a==="string"){for(h=r.length,g=0;g<h&&(T=r[g],g+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++g])),v.call(t,n,T,l),!u);++g);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,l),u)return;f=r.next()}}},76252:function(G,V,e){var m=e(60948),P=e(29768),i=e(52104),L=e(80940),S=e(52891),v=e(92664).iterator;G.exports=function(p){return typeof S(p)[v]=="function"?p[v]():m(p)?new i(p):P(p)?new L(p):new i(p)}},85512:function(G,V,e){var m=e(41476),P=e(38452),i=e(34044),L=e(9252),S=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,a;G.exports=a=function(n,f){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",L(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(i(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete a.prototype.constructor,t(a.prototype,P({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,l){f>=n&&(this.__redo__[l]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(l,u){l>n&&(this.__redo__[u]=--l)},this)))}),_onClear:S(function(){this.__redo__&&m.call(this.__redo__),this.__nextIndex__=0})}))),r(a.prototype,p.iterator,S(function(){return this}))},76368:function(G,V,e){var m=e(60948),P=e(42584),i=e(29768),L=e(92664).iterator,S=Array.isArray;G.exports=function(v){return P(v)?S(v)||i(v)||m(v)?!0:typeof v[L]=="function":!1}},80940:function(G,V,e){var m=e(69932),P=e(21092),i=e(92664),L=e(85512),S=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),S(this,"__length__",P("",p.length))},m&&m(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,i.toStringTag,P("c","String Iterator"))},52891:function(G,V,e){var m=e(76368);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not iterable");return P}},60964:function(G){function V(m,P){if(m==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(m),L=1;L<arguments.length;L++){var S=arguments[L];if(S!=null)for(var v=Object.keys(Object(S)),p=0,r=v.length;p<r;p++){var t=v[p],a=Object.getOwnPropertyDescriptor(S,t);a!==void 0&&a.enumerable&&(i[t]=S[t])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}G.exports={assign:V,polyfill:e}},92664:function(G,V,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,V,e){var m=e(12296),P={object:!0,symbol:!0};G.exports=function(){var i=m.Symbol,L;if(typeof i!="function")return!1;L=i("test symbol");try{String(L)}catch{return!1}return!(!P[typeof i.iterator]||!P[typeof i.toPrimitive]||!P[typeof i.toStringTag])}},53908:function(G){G.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},96863:function(G,V,e){var m=e(21092),P=Object.create,i=Object.defineProperty,L=Object.prototype,S=P(null);G.exports=function(v){for(var p=0,r,t;S[v+(p||"")];)++p;return v+=p||"",S[v]=!0,r="@@"+v,i(L,r,m.gs(null,function(a){t||(t=!0,i(this,r,m(a)),t=!1)})),r}},53540:function(G,V,e){var m=e(21092),P=e(12296).Symbol;G.exports=function(i){return Object.defineProperties(i,{hasInstance:m("",P&&P.hasInstance||i("hasInstance")),isConcatSpreadable:m("",P&&P.isConcatSpreadable||i("isConcatSpreadable")),iterator:m("",P&&P.iterator||i("iterator")),match:m("",P&&P.match||i("match")),replace:m("",P&&P.replace||i("replace")),search:m("",P&&P.search||i("search")),species:m("",P&&P.species||i("species")),split:m("",P&&P.split||i("split")),toPrimitive:m("",P&&P.toPrimitive||i("toPrimitive")),toStringTag:m("",P&&P.toStringTag||i("toStringTag")),unscopables:m("",P&&P.unscopables||i("unscopables"))})}},73852:function(G,V,e){var m=e(21092),P=e(63948),i=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:m(function(S){return i[S]?i[S]:i[S]=L(String(S))}),keyFor:m(function(S){var v;P(S);for(v in i)if(i[v]===S)return v})})}},18376:function(G,V,e){var m=e(21092),P=e(63948),i=e(12296).Symbol,L=e(96863),S=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,a,n,f;if(typeof i=="function")try{String(i()),f=!0}catch{}else i=null;n=function(u){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return a(u)},G.exports=a=function l(u){var g;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return f?i(u):(g=p(n.prototype),u=u===void 0?"":String(u),r(g,{__description__:m("",u),__name__:m("",L(u))}))},S(a),v(a),r(n.prototype,{constructor:m(a),toString:m("",function(){return this.__name__})}),r(a.prototype,{toString:m(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:m(function(){return P(this)})}),t(a.prototype,a.toPrimitive,m("",function(){var l=P(this);return typeof l=="symbol"?l:l.toString()})),t(a.prototype,a.toStringTag,m("c","Symbol")),t(n.prototype,a.toStringTag,m("c",a.prototype[a.toStringTag])),t(n.prototype,a.toPrimitive,m("c",a.prototype[a.toPrimitive]))},63948:function(G,V,e){var m=e(53908);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(G,V,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,V,e){var m=e(42584),P=e(69932),i=e(92584),L=e(9252),S=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,a=e(69876),n=Array.isArray,f=Object.defineProperty,l=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,g;G.exports=g=function(){var h=arguments[0],T;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return T=a&&P&&WeakMap!==g?P(new WeakMap,u(this)):this,m(h)&&(n(h)||(h=p(h))),f(T,"__weakMapData__",v("c","$weakMap$"+S())),h&&r(h,function(c){L(c),T.set(c[0],c[1])}),T},a&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(h){return l.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(l.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return l.call(i(h),this.__weakMapData__)}),set:v(function(h,T){return f(i(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),f(g.prototype,t,v("c","WeakMap"))},61252:function(G){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,x,w){return Function.prototype.apply.call(d,x,w)},m;V&&typeof V.ownKeys=="function"?m=V.ownKeys:Object.getOwnPropertySymbols?m=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:m=function(d){return Object.getOwnPropertyNames(d)};function P(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var S=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");S=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||i(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var C=d==="error",y=this._events;if(y!==void 0)C=C&&y.error===void 0;else if(!C)return!1;if(C){var M;if(x.length>0&&(M=x[0]),M instanceof Error)throw M;var A=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw A.context=M,A}var s=y[d];if(s===void 0)return!1;if(typeof s=="function")e(s,this,x);else for(var E=s.length,b=l(s,E),w=0;w<E;++w)e(b[w],this,x);return!0};function r(o,d,x,w){var C,y,M;if(v(x),y=o._events,y===void 0?(y=o._events=Object.create(null),o._eventsCount=0):(y.newListener!==void 0&&(o.emit("newListener",d,x.listener?x.listener:x),y=o._events),M=y[d]),M===void 0)M=y[d]=x,++o._eventsCount;else if(typeof M=="function"?M=y[d]=w?[x,M]:[M,x]:w?M.unshift(x):M.push(x),C=p(o),C>0&&M.length>C&&!M.warned){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=o,A.type=d,A.count=M.length,P(A)}return o}L.prototype.addListener=function(d,x){return r(this,d,x,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(o,d,x){var w={fired:!1,wrapFn:void 0,target:o,type:d,listener:x},C=t.bind(w);return C.listener=x,w.wrapFn=C,C}L.prototype.once=function(d,x){return v(x),this.on(d,a(this,d,x)),this},L.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,a(this,d,x)),this},L.prototype.removeListener=function(d,x){var w,C,y,M,A;if(v(x),C=this._events,C===void 0)return this;if(w=C[d],w===void 0)return this;if(w===x||w.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,w.listener||x));else if(typeof w!="function"){for(y=-1,M=w.length-1;M>=0;M--)if(w[M]===x||w[M].listener===x){A=w[M].listener,y=M;break}if(y<0)return this;y===0?w.shift():u(w,y),w.length===1&&(C[d]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",d,A||x)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var x,w,C;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var y=Object.keys(w),M;for(C=0;C<y.length;++C)M=y[C],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=w[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(d,x[C]);return this};function n(o,d,x){var w=o._events;if(w===void 0)return[];var C=w[d];return C===void 0?[]:typeof C=="function"?x?[C.listener||C]:[C]:x?g(C):l(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):f.call(o,d)},L.prototype.listenerCount=f;function f(o){var d=this._events;if(d!==void 0){var x=d[o];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};function l(o,d){for(var x=new Array(d),w=0;w<d;++w)x[w]=o[w];return x}function u(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function g(o){for(var d=new Array(o.length),x=0;x<d.length;++x)d[x]=o[x].listener||o[x];return d}function h(o,d){return new Promise(function(x,w){function C(M){o.removeListener(d,y),w(M)}function y(){typeof o.removeListener=="function"&&o.removeListener("error",C),x([].slice.call(arguments))}c(o,d,y,{once:!0}),d!=="error"&&T(o,C,{once:!0})})}function T(o,d,x){typeof o.on=="function"&&c(o,"error",d,x)}function c(o,d,x,w){if(typeof o.on=="function")w.once?o.once(d,x):o.on(d,x);else if(typeof o.addEventListener=="function")o.addEventListener(d,function C(y){w.once&&o.removeEventListener(d,C),x(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(G){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},12296:function(G,V,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,V,e){var m=e(94576);G.exports=function(P){var i=typeof P;if(i==="string"){var L=P;if(P=+P,P===0&&m(L))return!1}else if(i!=="number")return!1;return P-P<1}},47520:function(G,V,e){var m=e(72512);G.exports=P;function P(i,L,S){if(!i)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,p=i.length*v,r,t,a,n;(!L||typeof L=="string")&&(L=new(m(L||"float32"))(p+S));var f=L.length-S;if(p!==f)throw new Error("source length "+p+" ("+v+"x"+i.length+") does not match destination length "+f);for(r=0,a=S;r<i.length;r++)for(t=0;t<v;t++)L[a++]=i[r][t]===null?NaN:i[r][t]}else if(!L||typeof L=="string"){var l=m(L||"float32");if(Array.isArray(i)||L==="array")for(L=new l(i.length+S),r=0,a=S,n=L.length;a<n;a++,r++)L[a]=i[r]===null?NaN:i[r];else S===0?L=new l(i):(L=new l(i.length+S),L.set(i,S))}else L.set(i,S);return L}},33888:function(G,V,e){var m=e(49395),P=[32,126];G.exports=i;function i(L){L=L||{};var S=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=m(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],f=0;n<=t[1];n++)a[f++]=String.fromCharCode(n);t=a}S=S.slice(),v.width=S[0],v.height=S[1];var l=v.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,v.width,v.height),l.font=p,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(var u=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)l.fillText(t[n],u,g),(u+=r[0])>S[0]-r[0]/2&&(u=r[0]/2,g+=r[1]);return v}},71920:function(G){G.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var S=Array.isArray(L.family)?L.family.join(", "):L.family;if(!S)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+S,a=L.origin||"top";if(V.cache[S]&&v<=V.cache[S].em)return e(V.cache[S],a);var n=L.canvas||V.canvas,f=n.getContext("2d"),l={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},u=Math.ceil(v*1.5);n.height=u,n.width=u*.5,f.font=t;var g="H",h={top:0};f.clearRect(0,0,u,u),f.textBaseline="top",f.fillStyle="black",f.fillText(g,0,0);var T=m(f.getImageData(0,0,u,u));f.clearRect(0,0,u,u),f.textBaseline="bottom",f.fillText(g,0,u);var c=m(f.getImageData(0,0,u,u));h.lineHeight=h.bottom=u-c+T,f.clearRect(0,0,u,u),f.textBaseline="alphabetic",f.fillText(g,0,u);var o=m(f.getImageData(0,0,u,u)),d=u-o-1+T;h.baseline=h.alphabetic=d,f.clearRect(0,0,u,u),f.textBaseline="middle",f.fillText(g,0,u*.5);var x=m(f.getImageData(0,0,u,u));h.median=h.middle=u-x-1+T-u*.5,f.clearRect(0,0,u,u),f.textBaseline="hanging",f.fillText(g,0,u*.5);var w=m(f.getImageData(0,0,u,u));h.hanging=u-w-1+T-u*.5,f.clearRect(0,0,u,u),f.textBaseline="ideographic",f.fillText(g,0,u);var C=m(f.getImageData(0,0,u,u));if(h.ideographic=u-C-1+T,l.upper&&(f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.upper,0,0),h.upper=m(f.getImageData(0,0,u,u)),h.capHeight=h.baseline-h.upper),l.lower&&(f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.lower,0,0),h.lower=m(f.getImageData(0,0,u,u)),h.xHeight=h.baseline-h.lower),l.tittle&&(f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.tittle,0,0),h.tittle=m(f.getImageData(0,0,u,u))),l.ascent&&(f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.ascent,0,0),h.ascent=m(f.getImageData(0,0,u,u))),l.descent&&(f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.descent,0,0),h.descent=P(f.getImageData(0,0,u,u))),l.overshoot){f.clearRect(0,0,u,u),f.textBaseline="top",f.fillText(l.overshoot,0,0);var y=P(f.getImageData(0,0,u,u));h.overshoot=y-d}for(var M in h)h[M]/=v;return h.em=v,V.cache[S]=h,e(h,a)}function e(i,L){var S={};typeof L=="string"&&(L=i[L]);for(var v in i)v!=="em"&&(S[v]=i[v]-L);return S}function m(i){for(var L=i.height,S=i.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}function P(i){for(var L=i.height,S=i.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(G,V,e){var m=e(90720),P=Object.prototype.toString,i=Object.prototype.hasOwnProperty,L=function(t,a,n){for(var f=0,l=t.length;f<l;f++)i.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},S=function(t,a,n){for(var f=0,l=t.length;f<l;f++)n==null?a(t.charAt(f),f,t):a.call(n,t.charAt(f),f,t)},v=function(t,a,n){for(var f in t)i.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},p=function(t,a,n){if(!m(a))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),P.call(t)==="[object Array]"?L(t,a,f):typeof t=="string"?S(t,a,f):v(t,a,f)};G.exports=p},74336:function(G){var V="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,m=Math.max,P="[object Function]",i=function(p,r){for(var t=[],a=0;a<p.length;a+=1)t[a]=p[a];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},L=function(p,r){for(var t=[],a=r||0,n=0;a<p.length;a+=1,n+=1)t[n]=p[a];return t},S=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};G.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(V+r);for(var t=L(arguments,1),a,n=function(){if(this instanceof a){var h=r.apply(this,i(t,arguments));return Object(h)===h?h:this}return r.apply(p,i(t,arguments))},f=m(0,r.length-t.length),l=[],u=0;u<f;u++)l[u]="$"+u;if(a=Function("binder","return function ("+S(l,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var g=function(){};g.prototype=r.prototype,a.prototype=new g,g.prototype=null}return a}},8844:function(G,V,e){var m=e(74336);G.exports=Function.prototype.bind||m},13380:function(G){G.exports=V;function V(e,m){if(typeof e!="string")throw new TypeError("must specify type string");if(m=m||{},typeof document>"u"&&!m.canvas)return null;var P=m.canvas||document.createElement("canvas");typeof m.width=="number"&&(P.width=m.width),typeof m.height=="number"&&(P.height=m.height);var i=m,L;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(L=P.getContext(S[v],i),L)return L}catch{L=null}return L||null}},53664:function(G,V,e){var m,P=SyntaxError,i=Function,L=TypeError,S=function(b){try{return i('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),a=e(69572)(),n=Object.getPrototypeOf||(a?function(b){return b.__proto__}:null),f={},l=typeof Uint8Array>"u"||!n?m:n(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?m:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?m:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):m,"%Symbol%":t?Symbol:m,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":l,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet};if(n)try{null.error}catch(b){var g=n(n(b));u["%Error.prototype%"]=g}var h=function b(F){var I;if(F==="%AsyncFunction%")I=S("async function () {}");else if(F==="%GeneratorFunction%")I=S("function* () {}");else if(F==="%AsyncGeneratorFunction%")I=S("async function* () {}");else if(F==="%AsyncGenerator%"){var N=b("%AsyncGeneratorFunction%");N&&(I=N.prototype)}else if(F==="%AsyncIteratorPrototype%"){var _=b("%AsyncGenerator%");_&&n&&(I=n(_.prototype))}return u[F]=I,I},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),d=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,s=function(F){var I=C(F,0,1),N=C(F,-1);if(I==="%"&&N!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var _=[];return w(F,M,function(O,B,z,U){_[_.length]=z?w(U,A,"$1"):B||O}),_},E=function(F,I){var N=F,_;if(o(T,N)&&(_=T[N],N="%"+_[0]+"%"),o(u,N)){var O=u[N];if(O===f&&(O=h(N)),typeof O>"u"&&!I)throw new L("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:_,name:N,value:O}}throw new P("intrinsic "+F+" does not exist!")};G.exports=function(F,I){if(typeof F!="string"||F.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new L('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,F)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=s(F),_=N.length>0?N[0]:"",O=E("%"+_+"%",I),B=O.name,z=O.value,U=!1,Z=O.alias;Z&&(_=Z[0],x(N,d([0,1],Z)));for(var J=1,re=!0;J<N.length;J+=1){var ne=N[J],ue=C(ne,0,1),te=C(ne,-1);if((ue==='"'||ue==="'"||ue==="`"||te==='"'||te==="'"||te==="`")&&ue!==te)throw new P("property names with quotes must have matching quotes");if((ne==="constructor"||!re)&&(U=!0),_+="."+ne,B="%"+_+"%",o(u,B))z=u[B];else if(z!=null){if(!(ne in z)){if(!I)throw new L("base intrinsic for "+F+" exists, but the property is not available.");return}if(v&&J+1>=N.length){var Q=v(z,ne);re=!!Q,re&&"get"in Q&&!("originalValue"in Q.get)?z=Q.get:z=z[ne]}else re=o(z,ne),z=z[ne];re&&!U&&(u[B]=z)}}return z}},12408:function(G){G.exports=V;function V(e,m){var P=m[0],i=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],a=m[8],n=m[9],f=m[10],l=m[11],u=m[12],g=m[13],h=m[14],T=m[15];return e[0]=p*(f*T-l*h)-n*(r*T-t*h)+g*(r*l-t*f),e[1]=-(i*(f*T-l*h)-n*(L*T-S*h)+g*(L*l-S*f)),e[2]=i*(r*T-t*h)-p*(L*T-S*h)+g*(L*t-S*r),e[3]=-(i*(r*l-t*f)-p*(L*l-S*f)+n*(L*t-S*r)),e[4]=-(v*(f*T-l*h)-a*(r*T-t*h)+u*(r*l-t*f)),e[5]=P*(f*T-l*h)-a*(L*T-S*h)+u*(L*l-S*f),e[6]=-(P*(r*T-t*h)-v*(L*T-S*h)+u*(L*t-S*r)),e[7]=P*(r*l-t*f)-v*(L*l-S*f)+a*(L*t-S*r),e[8]=v*(n*T-l*g)-a*(p*T-t*g)+u*(p*l-t*n),e[9]=-(P*(n*T-l*g)-a*(i*T-S*g)+u*(i*l-S*n)),e[10]=P*(p*T-t*g)-v*(i*T-S*g)+u*(i*t-S*p),e[11]=-(P*(p*l-t*n)-v*(i*l-S*n)+a*(i*t-S*p)),e[12]=-(v*(n*h-f*g)-a*(p*h-r*g)+u*(p*f-r*n)),e[13]=P*(n*h-f*g)-a*(i*h-L*g)+u*(i*f-L*n),e[14]=-(P*(p*h-r*g)-v*(i*h-L*g)+u*(i*r-L*p)),e[15]=P*(p*f-r*n)-v*(i*f-L*n)+a*(i*r-L*p),e}},76860:function(G){G.exports=V;function V(e){var m=new Float32Array(16);return m[0]=e[0],m[1]=e[1],m[2]=e[2],m[3]=e[3],m[4]=e[4],m[5]=e[5],m[6]=e[6],m[7]=e[7],m[8]=e[8],m[9]=e[9],m[10]=e[10],m[11]=e[11],m[12]=e[12],m[13]=e[13],m[14]=e[14],m[15]=e[15],m}},64492:function(G){G.exports=V;function V(e,m){return e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},54212:function(G){G.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=V;function V(e){var m=e[0],P=e[1],i=e[2],L=e[3],S=e[4],v=e[5],p=e[6],r=e[7],t=e[8],a=e[9],n=e[10],f=e[11],l=e[12],u=e[13],g=e[14],h=e[15],T=m*v-P*S,c=m*p-i*S,o=m*r-L*S,d=P*p-i*v,x=P*r-L*v,w=i*r-L*p,C=t*u-a*l,y=t*g-n*l,M=t*h-f*l,A=a*g-n*u,s=a*h-f*u,E=n*h-f*g;return T*E-c*s+o*A+d*M-x*y+w*C}},61784:function(G){G.exports=V;function V(e,m){var P=m[0],i=m[1],L=m[2],S=m[3],v=P+P,p=i+i,r=L+L,t=P*v,a=i*v,n=i*p,f=L*v,l=L*p,u=L*r,g=S*v,h=S*p,T=S*r;return e[0]=1-n-u,e[1]=a+T,e[2]=f-h,e[3]=0,e[4]=a-T,e[5]=1-t-u,e[6]=l+g,e[7]=0,e[8]=f+h,e[9]=l-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=V;function V(e,m,P){var i,L,S,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,i=Math.sin(m),L=Math.cos(m),S=1-L,e[0]=v*v*S+L,e[1]=p*v*S+r*i,e[2]=r*v*S-p*i,e[3]=0,e[4]=v*p*S-r*i,e[5]=p*p*S+L,e[6]=r*p*S+v*i,e[7]=0,e[8]=v*r*S+p*i,e[9]=p*r*S-v*i,e[10]=r*r*S+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=V;function V(e,m,P){var i=m[0],L=m[1],S=m[2],v=m[3],p=i+i,r=L+L,t=S+S,a=i*p,n=i*r,f=i*t,l=L*r,u=L*t,g=S*t,h=v*p,T=v*r,c=v*t;return e[0]=1-(l+g),e[1]=n+c,e[2]=f-T,e[3]=0,e[4]=n-c,e[5]=1-(a+g),e[6]=u+h,e[7]=0,e[8]=f+T,e[9]=u-h,e[10]=1-(a+l),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(G){G.exports=V;function V(e,m){return e[0]=m[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=m[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=V;function V(e,m){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=m[0],e[13]=m[1],e[14]=m[2],e[15]=1,e}},21856:function(G){G.exports=V;function V(e,m){var P=Math.sin(m),i=Math.cos(m);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=V;function V(e,m){var P=Math.sin(m),i=Math.cos(m);return e[0]=i,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=V;function V(e,m){var P=Math.sin(m),i=Math.cos(m);return e[0]=i,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=V;function V(e,m,P,i,L,S,v){var p=1/(P-m),r=1/(L-i),t=1/(S-v);return e[0]=S*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(P+m)*p,e[9]=(L+i)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(G){G.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,V,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=V;function V(e,m){var P=m[0],i=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],a=m[8],n=m[9],f=m[10],l=m[11],u=m[12],g=m[13],h=m[14],T=m[15],c=P*p-i*v,o=P*r-L*v,d=P*t-S*v,x=i*r-L*p,w=i*t-S*p,C=L*t-S*r,y=a*g-n*u,M=a*h-f*u,A=a*T-l*u,s=n*h-f*g,E=n*T-l*g,b=f*T-l*h,F=c*b-o*E+d*s+x*A-w*M+C*y;return F?(F=1/F,e[0]=(p*b-r*E+t*s)*F,e[1]=(L*E-i*b-S*s)*F,e[2]=(g*C-h*w+T*x)*F,e[3]=(f*w-n*C-l*x)*F,e[4]=(r*A-v*b-t*M)*F,e[5]=(P*b-L*A+S*M)*F,e[6]=(h*d-u*C-T*o)*F,e[7]=(a*C-f*d+l*o)*F,e[8]=(v*E-p*A+t*y)*F,e[9]=(i*A-P*E-S*y)*F,e[10]=(u*w-g*d+T*c)*F,e[11]=(n*d-a*w-l*c)*F,e[12]=(p*M-v*s-r*y)*F,e[13]=(P*s-i*M+L*y)*F,e[14]=(g*o-u*x-h*c)*F,e[15]=(a*x-n*o+f*c)*F,e):null}},56508:function(G,V,e){var m=e(36635);G.exports=P;function P(i,L,S,v){var p,r,t,a,n,f,l,u,g,h,T=L[0],c=L[1],o=L[2],d=v[0],x=v[1],w=v[2],C=S[0],y=S[1],M=S[2];return Math.abs(T-C)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(o-M)<1e-6?m(i):(l=T-C,u=c-y,g=o-M,h=1/Math.sqrt(l*l+u*u+g*g),l*=h,u*=h,g*=h,p=x*g-w*u,r=w*l-d*g,t=d*u-x*l,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),a=u*t-g*r,n=g*p-l*t,f=l*r-u*p,h=Math.sqrt(a*a+n*n+f*f),h?(h=1/h,a*=h,n*=h,f*=h):(a=0,n=0,f=0),i[0]=p,i[1]=a,i[2]=l,i[3]=0,i[4]=r,i[5]=n,i[6]=u,i[7]=0,i[8]=t,i[9]=f,i[10]=g,i[11]=0,i[12]=-(p*T+r*c+t*o),i[13]=-(a*T+n*c+f*o),i[14]=-(l*T+u*c+g*o),i[15]=1,i)}},80944:function(G){G.exports=V;function V(e,m,P){var i=m[0],L=m[1],S=m[2],v=m[3],p=m[4],r=m[5],t=m[6],a=m[7],n=m[8],f=m[9],l=m[10],u=m[11],g=m[12],h=m[13],T=m[14],c=m[15],o=P[0],d=P[1],x=P[2],w=P[3];return e[0]=o*i+d*p+x*n+w*g,e[1]=o*L+d*r+x*f+w*h,e[2]=o*S+d*t+x*l+w*T,e[3]=o*v+d*a+x*u+w*c,o=P[4],d=P[5],x=P[6],w=P[7],e[4]=o*i+d*p+x*n+w*g,e[5]=o*L+d*r+x*f+w*h,e[6]=o*S+d*t+x*l+w*T,e[7]=o*v+d*a+x*u+w*c,o=P[8],d=P[9],x=P[10],w=P[11],e[8]=o*i+d*p+x*n+w*g,e[9]=o*L+d*r+x*f+w*h,e[10]=o*S+d*t+x*l+w*T,e[11]=o*v+d*a+x*u+w*c,o=P[12],d=P[13],x=P[14],w=P[15],e[12]=o*i+d*p+x*n+w*g,e[13]=o*L+d*r+x*f+w*h,e[14]=o*S+d*t+x*l+w*T,e[15]=o*v+d*a+x*u+w*c,e}},97688:function(G){G.exports=V;function V(e,m,P,i,L,S,v){var p=1/(m-P),r=1/(i-L),t=1/(S-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(m+P)*p,e[13]=(L+i)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(G){G.exports=V;function V(e,m,P,i,L){var S=1/Math.tan(m/2),v=1/(i-L);return e[0]=S/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+i)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*i*v,e[15]=0,e}},63688:function(G){G.exports=V;function V(e,m,P,i){var L=Math.tan(m.upDegrees*Math.PI/180),S=Math.tan(m.downDegrees*Math.PI/180),v=Math.tan(m.leftDegrees*Math.PI/180),p=Math.tan(m.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-S)*t*.5,e[10]=i/(P-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*P/(P-i),e[15]=0,e}},30016:function(G){G.exports=V;function V(e,m,P,i){var L=i[0],S=i[1],v=i[2],p=Math.sqrt(L*L+S*S+v*v),r,t,a,n,f,l,u,g,h,T,c,o,d,x,w,C,y,M,A,s,E,b,F,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,S*=p,v*=p,r=Math.sin(P),t=Math.cos(P),a=1-t,n=m[0],f=m[1],l=m[2],u=m[3],g=m[4],h=m[5],T=m[6],c=m[7],o=m[8],d=m[9],x=m[10],w=m[11],C=L*L*a+t,y=S*L*a+v*r,M=v*L*a-S*r,A=L*S*a-v*r,s=S*S*a+t,E=v*S*a+L*r,b=L*v*a+S*r,F=S*v*a-L*r,I=v*v*a+t,e[0]=n*C+g*y+o*M,e[1]=f*C+h*y+d*M,e[2]=l*C+T*y+x*M,e[3]=u*C+c*y+w*M,e[4]=n*A+g*s+o*E,e[5]=f*A+h*s+d*E,e[6]=l*A+T*s+x*E,e[7]=u*A+c*s+w*E,e[8]=n*b+g*F+o*I,e[9]=f*b+h*F+d*I,e[10]=l*b+T*F+x*I,e[11]=u*b+c*F+w*I,m!==e&&(e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e)}},15456:function(G){G.exports=V;function V(e,m,P){var i=Math.sin(P),L=Math.cos(P),S=m[4],v=m[5],p=m[6],r=m[7],t=m[8],a=m[9],n=m[10],f=m[11];return m!==e&&(e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[4]=S*L+t*i,e[5]=v*L+a*i,e[6]=p*L+n*i,e[7]=r*L+f*i,e[8]=t*L-S*i,e[9]=a*L-v*i,e[10]=n*L-p*i,e[11]=f*L-r*i,e}},64840:function(G){G.exports=V;function V(e,m,P){var i=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[8],a=m[9],n=m[10],f=m[11];return m!==e&&(e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L-t*i,e[1]=v*L-a*i,e[2]=p*L-n*i,e[3]=r*L-f*i,e[8]=S*i+t*L,e[9]=v*i+a*L,e[10]=p*i+n*L,e[11]=r*i+f*L,e}},4192:function(G){G.exports=V;function V(e,m,P){var i=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[4],a=m[5],n=m[6],f=m[7];return m!==e&&(e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L+t*i,e[1]=v*L+a*i,e[2]=p*L+n*i,e[3]=r*L+f*i,e[4]=t*L-S*i,e[5]=a*L-v*i,e[6]=n*L-p*i,e[7]=f*L-r*i,e}},68152:function(G){G.exports=V;function V(e,m,P){var i=P[0],L=P[1],S=P[2];return e[0]=m[0]*i,e[1]=m[1]*i,e[2]=m[2]*i,e[3]=m[3]*i,e[4]=m[4]*L,e[5]=m[5]*L,e[6]=m[6]*L,e[7]=m[7]*L,e[8]=m[8]*S,e[9]=m[9]*S,e[10]=m[10]*S,e[11]=m[11]*S,e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},89412:function(G){G.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=V;function V(e,m,P){var i=P[0],L=P[1],S=P[2],v,p,r,t,a,n,f,l,u,g,h,T;return m===e?(e[12]=m[0]*i+m[4]*L+m[8]*S+m[12],e[13]=m[1]*i+m[5]*L+m[9]*S+m[13],e[14]=m[2]*i+m[6]*L+m[10]*S+m[14],e[15]=m[3]*i+m[7]*L+m[11]*S+m[15]):(v=m[0],p=m[1],r=m[2],t=m[3],a=m[4],n=m[5],f=m[6],l=m[7],u=m[8],g=m[9],h=m[10],T=m[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=a,e[5]=n,e[6]=f,e[7]=l,e[8]=u,e[9]=g,e[10]=h,e[11]=T,e[12]=v*i+a*L+u*S+m[12],e[13]=p*i+n*L+g*S+m[13],e[14]=r*i+f*L+h*S+m[14],e[15]=t*i+l*L+T*S+m[15]),e}},86520:function(G){G.exports=V;function V(e,m){if(e===m){var P=m[1],i=m[2],L=m[3],S=m[6],v=m[7],p=m[11];e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=P,e[6]=m[9],e[7]=m[13],e[8]=i,e[9]=S,e[11]=m[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=m[0],e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=m[1],e[5]=m[5],e[6]=m[9],e[7]=m[13],e[8]=m[2],e[9]=m[6],e[10]=m[10],e[11]=m[14],e[12]=m[3],e[13]=m[7],e[14]=m[11],e[15]=m[15];return e}},23352:function(G,V,e){var m=e(42771),P=e(55616),i=e(28624),L=e(55212),S=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),a=e(58908),n=e(65819),f=e(23464),l=e(63768),u=e(50896),g=e(71920),h=e(47520),T=e(308),c=T.nextPow2,o=new S,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var w=function(M){C(M)?(M={regl:M},this.gl=M.regl._gl):this.gl=L(M),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=M.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(M)?M:{})};w.prototype.createShader=function(){var M=this.regl,A=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(E,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(E,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(E,b){return b.atlas.texture},charStep:function(E,b){return b.atlas.step},em:function(E,b){return b.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:M,draw:A,atlas:s}},w.prototype.update=function(M){var A=this;if(typeof M=="string")M={text:M};else if(!M)return;M=P(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),M.opacity!=null&&(Array.isArray(M.opacity)?this.opacity=M.opacity.map(function(Ee){return parseFloat(Ee)}):this.opacity=parseFloat(M.opacity)),M.viewport!=null&&(this.viewport=t(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),M.kerning!=null&&(this.kerning=M.kerning),M.offset!=null&&(typeof M.offset=="number"&&(M.offset=[M.offset,0]),this.positionOffset=h(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=w.baseFontSize+"px sans-serif");var s=!1,E=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(Ee,He){if(typeof Ee=="string")try{Ee=m.parse(Ee)}catch{Ee=m.parse(w.baseFontSize+"px "+Ee)}else{var rt=Ee.style,ot=Ee.weight,$e=Ee.stretch,qe=Ee.variant;Ee=m.parse(m.stringify(Ee)),rt&&(Ee.style=rt),ot&&(Ee.weight=ot),$e&&(Ee.stretch=$e),qe&&(Ee.variant=qe)}var ht=m.stringify({size:w.baseFontSize,family:Ee.family,stretch:d?Ee.stretch:void 0,variant:Ee.variant,weight:Ee.weight,style:Ee.style}),vt=n(Ee.size),pt=Math.round(vt[0]*f(vt[1]));if(pt!==A.fontSize[He]&&(E=!0,A.fontSize[He]=pt),(!A.font[He]||ht!=A.font[He].baseString)&&(s=!0,A.font[He]=w.fonts[ht],!A.font[He])){var wt=Ee.family.join(", "),Mt=[Ee.style];Ee.style!=Ee.variant&&Mt.push(Ee.variant),Ee.variant!=Ee.weight&&Mt.push(Ee.weight),d&&Ee.weight!=Ee.stretch&&Mt.push(Ee.stretch),A.font[He]={baseString:ht,family:wt,weight:Ee.weight,stretch:Ee.stretch,style:Ee.style,variant:Ee.variant,width:{},kerning:{},metrics:g(wt,{origin:"top",fontSize:w.baseFontSize,fontStyle:Mt.join(" ")})},w.fonts[ht]=A.font[He]}}),(s||E)&&this.font.forEach(function(Ee,He){var rt=m.stringify({size:A.fontSize[He],family:Ee.family,stretch:d?Ee.stretch:void 0,variant:Ee.variant,weight:Ee.weight,style:Ee.style});if(A.fontAtlas[He]=A.shader.atlas[rt],!A.fontAtlas[He]){var ot=Ee.metrics;A.shader.atlas[rt]=A.fontAtlas[He]={fontString:rt,step:Math.ceil(A.fontSize[He]*ot.bottom*.5)*2,em:A.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}M.text==null&&(M.text=A.text)}),typeof M.text=="string"&&M.position&&M.position.length>2){for(var b=Array(M.position.length*.5),F=0;F<b.length;F++)b[F]=M.text;M.text=b}var I;if(M.text!=null||s){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var N=1;N<M.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+M.text[N-1].length,this.count+=M.text[N].length,this.counts.push(M.text[N].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Ee,He){w.atlasContext.font=Ee.baseString;for(var rt=A.fontAtlas[He],ot=0;ot<A.text.length;ot++){var $e=A.text.charAt(ot);if(rt.ids[$e]==null&&(rt.ids[$e]=rt.chars.length,rt.chars.push($e),I.push($e)),Ee.width[$e]==null&&(Ee.width[$e]=w.atlasContext.measureText($e).width/w.baseFontSize,A.kerning)){var qe=[];for(var ht in Ee.width)qe.push(ht+$e,$e+ht);u(Ee.kerning,l(Ee.family,{pairs:qe}))}}})}if(M.position)if(M.position.length>2){for(var _=!M.position[0].length,O=r.mallocFloat(this.count*2),B=0,z=0;B<this.counts.length;B++){var U=this.counts[B];if(_)for(var Z=0;Z<U;Z++)O[z++]=M.position[B*2],O[z++]=M.position[B*2+1];else for(var J=0;J<U;J++)O[z++]=M.position[B][0],O[z++]=M.position[B][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),r.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||s){var re=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,te=0;ue<this.counts.length;ue++){for(var Q=this.counts[ue],ie=this.font[ue]||this.font[0],Y=this.fontAtlas[ue]||this.fontAtlas[0],$=0;$<Q;$++){var oe=this.text.charAt(te),j=this.text.charAt(te-1);if(re[te]=Y.ids[oe],ne[te*2]=ie.width[oe],$){var X=ne[te*2-2],se=ne[te*2],q=ne[te*2-1],ce=q+X*.5+se*.5;if(this.kerning){var ye=ie.kerning[j+oe];ye&&(ce+=ye*.001)}ne[te*2+1]=ce}else ne[te*2+1]=ne[te*2]*.5;te++}this.textWidth.push(ne.length?ne[te*2-2]*.5+ne[te*2-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(re),r.freeFloat(ne),I.length&&this.font.forEach(function(Ee,He){var rt=A.fontAtlas[He],ot=rt.step,$e=Math.floor(w.maxAtlasSize/ot),qe=Math.min($e,rt.chars.length),ht=Math.ceil(rt.chars.length/qe),vt=c(qe*ot),pt=c(ht*ot);rt.width=vt,rt.height=pt,rt.rows=ht,rt.cols=qe,rt.em&&rt.texture({data:p({canvas:w.atlasCanvas,font:rt.fontString,chars:rt.chars,shape:[vt,pt],step:[ot,ot]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(Ee,He){var rt=Array.isArray(A.align)?A.align.length>1?A.align[He]:A.align[0]:A.align;if(typeof rt=="number")return rt;switch(rt){case"right":case"end":return-Ee;case"center":case"centre":case"middle":return-Ee*.5}return 0})),this.baseline==null&&M.baseline==null&&(M.baseline=0),M.baseline!=null&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ee,He){var rt=(A.font[He]||A.font[0]).metrics,ot=0;return ot+=rt.bottom*.5,typeof Ee=="number"?ot+=Ee-rt.baseline:ot+=-rt[Ee],ot*=-1,ot})),M.color!=null)if(M.color||(M.color="transparent"),typeof M.color=="string"||!isNaN(M.color))this.color=v(M.color,"uint8");else{var we;if(typeof M.color[0]=="number"&&M.color.length>this.counts.length){var be=M.color.length;we=r.mallocUint8(be);for(var De=(M.color.subarray||M.color.slice).bind(M.color),ke=0;ke<be;ke+=4)we.set(v(De(ke,ke+4),"uint8"),ke)}else{var Be=M.color.length;we=r.mallocUint8(Be*4);for(var Ae=0;Ae<Be;Ae++)we.set(v(M.color[Ae]||0,"uint8"),Ae*4)}this.color=we}if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity){var Ie=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ie){var Me=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Me);for(var Fe=0;Fe<this.batch.length;Fe++)this.batch[Fe]={count:this.counts.length>1?this.counts[Fe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Fe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Fe*4,Fe*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Fe]:this.opacity,baseline:this.baselineOffset[Fe]!=null?this.baselineOffset[Fe]:this.baselineOffset[0],align:this.align?this.alignOffset[Fe]!=null?this.alignOffset[Fe]:this.alignOffset[0]:0,atlas:this.fontAtlas[Fe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Fe*2,Fe*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function C(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}G.exports=w},55212:function(G,V,e){var m=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},i(r)?r={container:r}:L(r)?r={container:r}:S(r)?r={gl:r}:r=m(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}i(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function i(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function S(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(G){G.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),m=[],P=0;P<V.length-1;P++)m.push(V[P],e[P]||"");return m.push(V[P]),m.join("")}},2304:function(G,V,e){var m=e(53664),P=m("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},52264:function(G,V,e){var m=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=m,G.exports=P},89184:function(G,V,e){var m=e(24200);function P(){var i=!1;try{var L=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{i=!1}return i}G.exports=m&&P()},39640:function(G,V,e){var m=e(53664),P=m("%Object.defineProperty%",!0),i=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=i},69572:function(G){var V={foo:{}},e=Object;G.exports=function(){return{__proto__:V}.foo===V.foo&&!({__proto__:null}instanceof e)}},71080:function(G,V,e){var m=typeof Symbol<"u"&&Symbol,P=e(89320);G.exports=function(){return typeof m!="function"||typeof Symbol!="function"||typeof m("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},m=Symbol("test"),P=Object(m);if(typeof m=="string"||Object.prototype.toString.call(m)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var i=42;e[m]=i;for(m in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==m||!Object.prototype.propertyIsEnumerable.call(e,m))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,m);if(S.value!==i||S.enumerable!==!0)return!1}return!0}},46672:function(G,V,e){var m=e(89320);G.exports=function(){return m()&&!!Symbol.toStringTag}},92064:function(G,V,e){var m=Function.prototype.call,P=Object.prototype.hasOwnProperty,i=e(8844);G.exports=i.call(m,P)},35984:function(G,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,m,P,i,L){var S,v,p=L*8-i-1,r=(1<<p)-1,t=r>>1,a=-7,n=P?L-1:0,f=P?-1:1,l=e[m+n];for(n+=f,S=l&(1<<-a)-1,l>>=-a,a+=p;a>0;S=S*256+e[m+n],n+=f,a-=8);for(v=S&(1<<-a)-1,S>>=-a,a+=i;a>0;v=v*256+e[m+n],n+=f,a-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(l?-1:1)*(1/0);v=v+Math.pow(2,i),S=S-t}return(l?-1:1)*v*Math.pow(2,S-i)},V.write=function(e,m,P,i,L,S){var v,p,r,t=S*8-L-1,a=(1<<t)-1,n=a>>1,f=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:S-1,u=i?1:-1,g=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(p=isNaN(m)?1:0,v=a):(v=Math.floor(Math.log(m)/Math.LN2),m*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?m+=f/r:m+=f*Math.pow(2,1-n),m*r>=2&&(v++,r/=2),v+n>=a?(p=0,v=a):v+n>=1?(p=(m*r-1)*Math.pow(2,L),v=v+n):(p=m*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+l]=p&255,l+=u,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+l]=v&255,l+=u,v/=256,t-=8);e[P+l-u]|=g*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,m){m&&(e.super_=m,e.prototype=Object.create(m.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,m){if(m){e.super_=m;var P=function(){};P.prototype=m.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(G,V,e){var m=e(46672)(),P=e(99676),i=P("Object.prototype.toString"),L=function(r){return m&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:i(r)==="[object Arguments]"},S=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&i(r)!=="[object Array]"&&i(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=S,G.exports=v?L:S},24200:function(G){G.exports=!0},90720:function(G){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,m,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{m=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,m)}catch(T){T!==P&&(e=null)}else e=null;var i=/^\s*class\b/,L=function(c){try{var o=V.call(c);return i.test(o)}catch{return!1}},S=function(c){try{return L(c)?!1:(V.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",a="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",l=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(g=function(c){if((u||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===a||o===n||o===f||o===p)&&c("")==null}catch{}return!1})}G.exports=e?function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,m)}catch(o){if(o!==P)return!1}return!L(c)&&S(c)}:function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(l)return S(c);if(L(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:S(c)}},84420:function(G,V,e){var m=Object.prototype.toString,P=Function.prototype.toString,i=/^\s*(?:function)?\*/,L=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(i.test(P.call(t)))return!0;if(!L){var a=m.call(t);return a==="[object GeneratorFunction]"}if(!S)return!1;if(typeof p>"u"){var n=v();p=n?S(n):!1}return S(t)===p}},96604:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,V,e){var m=e(57916),P=e(81288),i=e(85992),L=e(57740),S=e(59736),v=m(L(),Number);P(v,{getPolyfill:L,implementation:i,shim:S}),G.exports=v},57740:function(G,V,e){var m=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:m}},59736:function(G,V,e){var m=e(81288),P=e(57740);G.exports=function(){var L=P();return m(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(G){G.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},58908:function(G){var V=Object.prototype.toString;G.exports=function(e){var m;return V.call(e)==="[object Object]"&&(m=Object.getPrototypeOf(e),m===null||m===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(V){for(var e=V.length,m,P=0;P<e;P++)if(m=V.charCodeAt(P),(m<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,V,e){var m=e(46492),P=e(63436),i=e(99676),L=i("Object.prototype.toString"),S=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=i("Array.prototype.indexOf",!0)||function(g,h){for(var T=0;T<g.length;T+=1)if(g[T]===h)return T;return-1},a=i("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&m(r,function(u){var g=new p[u];if(Symbol.toStringTag in g){var h=f(g),T=v(h,Symbol.toStringTag);if(!T){var c=f(h);T=v(c,Symbol.toStringTag)}n[u]=T.get}});var l=function(g){var h=!1;return m(n,function(T,c){if(!h)try{h=T.call(g)===c}catch{}}),h};G.exports=function(g){if(!g||typeof g!="object")return!1;if(!S||!(Symbol.toStringTag in g)){var h=a(L(g),8,-1);return t(r,h)>-1}return v?l(g):!1}},76244:function(G){G.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},62644:function(G,V,e){G.exports=P;var m=e(93784);function P(i,L){L||(L=i,i=window);var S=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(x){var w=!1;return"altKey"in x&&(w=w||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(w=w||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(w=w||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(w=w||x.metaKey!==r.meta,r.meta=!!x.metaKey),w}function n(x,w){var C=m.x(w),y=m.y(w);"buttons"in w&&(x=w.buttons|0),(x!==S||C!==v||y!==p||a(w))&&(S=x|0,v=C||0,p=y||0,L&&L(S,v,p,r))}function f(x){n(0,x)}function l(){(S||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,S=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function u(x){a(x)&&L&&L(S,v,p,r)}function g(x){m.buttons(x)===0?n(0,x):n(S,x)}function h(x){n(S|m.buttons(x),x)}function T(x){n(S&~m.buttons(x),x)}function c(){t||(t=!0,i.addEventListener("mousemove",g),i.addEventListener("mousedown",h),i.addEventListener("mouseup",T),i.addEventListener("mouseleave",f),i.addEventListener("mouseenter",f),i.addEventListener("mouseout",f),i.addEventListener("mouseover",f),i.addEventListener("blur",l),i.addEventListener("keyup",u),i.addEventListener("keydown",u),i.addEventListener("keypress",u),i!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function o(){t&&(t=!1,i.removeEventListener("mousemove",g),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",T),i.removeEventListener("mouseleave",f),i.removeEventListener("mouseenter",f),i.removeEventListener("mouseout",f),i.removeEventListener("mouseover",f),i.removeEventListener("blur",l),i.removeEventListener("keyup",u),i.removeEventListener("keydown",u),i.removeEventListener("keypress",u),i!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}c();var d={element:i};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?c():o()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(G){var V={left:0,top:0};G.exports=e;function e(P,i,L){i=i||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var S=P.clientX||0,v=P.clientY||0,p=m(i);return L[0]=S-p.left,L[1]=v-p.top,L}function m(P){return P===window||P===document||P===document.body?V:P.getBoundingClientRect()}},93784:function(G,V){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var S=L.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in L){var S=L.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}V.buttons=e;function m(L){return L.target||L.srcElement||window}V.element=m;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var S=m(L),v=S.getBoundingClientRect();return L.clientX-v.left}return 0}V.x=P;function i(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var S=m(L),v=S.getBoundingClientRect();return L.clientY-v.top}return 0}V.y=i},97264:function(G,V,e){var m=e(23464);G.exports=P;function P(i,L,S){typeof i=="function"&&(S=!!L,L=i,i=window);var v=m("ex",i),p=function(r){S&&r.preventDefault();var t=r.deltaX||0,a=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,l=1;switch(f){case 1:l=v;break;case 2:l=window.innerHeight;break}if(t*=l,a*=l,n*=l,t||a||n)return L(t,a,n,r)};return i.addEventListener("wheel",p),p}},88324:function(G,V,e){var m;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(i,L,S){L[i]=L[i]||S(),G.exports?G.exports=L[i]:(m=(function(){return L[i]}).call(V,e,V,G),m!==void 0&&(G.exports=m))})("Promise",typeof e.g<"u"?e.g:this,function(){var i,L,S,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(d,x,w,C){return Object.defineProperty(d,x,{value:w,writable:!0,configurable:C!==!1})}}catch{i=function(x,w,C){return x[w]=C,x}}S=function(){var d,x,w;function C(y,M){this.fn=y,this.self=M,this.next=void 0}return{add:function(M,A){w=new C(M,A),x?x.next=w:d=w,x=w,w=void 0},drain:function(){var M=d;for(d=x=L=void 0;M;)M.fn.call(M.self),M=M.next}}}();function r(o,d){S.add(o,d),L||(L=p(S.drain))}function t(o){var d,x=typeof o;return o!=null&&(x=="object"||x=="function")&&(d=o.then),typeof d=="function"?d:!1}function a(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,x){var w,C;try{d===!1?x.reject(o.msg):(d===!0?w=o.msg:w=d.call(void 0,o.msg),w===x.promise?x.reject(TypeError("Promise-chain cycle")):(C=t(w))?C.call(w,x.resolve,x.reject):x.resolve(w))}catch(y){x.reject(y)}}function f(o){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(o))?r(function(){var w=new g(x);try{d.call(o,function(){f.apply(w,arguments)},function(){l.apply(w,arguments)})}catch(C){l.call(w,C)}}):(x.msg=o,x.state=1,x.chain.length>0&&r(a,x))}catch(w){l.call(new g(x),w)}}}function l(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&r(a,d))}function u(o,d,x,w){for(var C=0;C<d.length;C++)(function(M){o.resolve(d[M]).then(function(s){x(M,s)},w)})(C)}function g(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(w,C){var y={success:typeof w=="function"?w:!0,failure:typeof C=="function"?C:!1};return y.promise=new this.constructor(function(A,s){if(typeof A!="function"||typeof s!="function")throw TypeError("Not a function");y.resolve=A,y.reject=s}),d.chain.push(y),d.state!==0&&r(a,d),y.promise},this.catch=function(w){return this.then(void 0,w)};try{o.call(void 0,function(w){f.call(d,w)},function(w){l.call(d,w)})}catch(x){l.call(d,x)}}var c=i({},"constructor",T,!1);return T.prototype=c,i(c,"__NPO__",0,!1),i(T,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");C(d)})}),i(T,"reject",function(d){return new this(function(w,C){if(typeof w!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),i(T,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");var M=d.length,A=Array(M),s=0;u(x,d,function(b,F){A[b]=F,++s===M&&C(A)},y)})}),i(T,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");u(x,d,function(A,s){C(s)},y)})}),T})},48816:function(G){var V=Math.PI,e=v(120);G.exports=m;function m(p){for(var r,t=[],a=0,n=0,f=0,l=0,u=null,g=null,h=0,T=0,c=0,o=p.length;c<o;c++){var d=p[c],x=d[0];switch(x){case"M":f=d[1],l=d[2];break;case"A":d=L(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=h,C=T;(r=="C"||r=="S")&&(w+=w-a,C+=C-n),d=["C",w,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(u=h*2-u,g=T*2-g):(u=h,g=T),d=i(h,T,u,g,d[1],d[2]);break;case"Q":u=d[1],g=d[2],d=i(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,T,d[1],d[2]);break;case"H":d=P(h,T,d[1],T);break;case"V":d=P(h,T,h,d[1]);break;case"Z":d=P(h,T,f,l);break}r=x,h=d[d.length-2],T=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=h,n=T),t.push(d)}return t}function P(p,r,t,a){return["C",p,r,t,a,t,a]}function i(p,r,t,a,n,f){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*a,n/3+.6666666666666666*t,f/3+.6666666666666666*a,n,f]}function L(p,r,t,a,n,f,l,u,g,h){if(h)A=h[0],s=h[1],y=h[2],M=h[3];else{var T=S(p,r,-n);p=T.x,r=T.y,T=S(u,g,-n),u=T.x,g=T.y;var c=(p-u)/2,o=(r-g)/2,d=c*c/(t*t)+o*o/(a*a);d>1&&(d=Math.sqrt(d),t=d*t,a=d*a);var x=t*t,w=a*a,C=(f==l?-1:1)*Math.sqrt(Math.abs((x*w-x*o*o-w*c*c)/(x*o*o+w*c*c)));C==1/0&&(C=1);var y=C*t*o/a+(p+u)/2,M=C*-a*c/t+(r+g)/2,A=Math.asin(((r-M)/a).toFixed(9)),s=Math.asin(((g-M)/a).toFixed(9));A=p<y?V-A:A,s=u<y?V-s:s,A<0&&(A=V*2+A),s<0&&(s=V*2+s),l&&A>s&&(A=A-V*2),!l&&s>A&&(s=s-V*2)}if(Math.abs(s-A)>e){var E=s,b=u,F=g;s=A+e*(l&&s>A?1:-1),u=y+t*Math.cos(s),g=M+a*Math.sin(s);var I=L(u,g,t,a,n,0,l,b,F,[s,E,y,M])}var N=Math.tan((s-A)/4),_=4/3*t*N,O=4/3*a*N,B=[2*p-(p+_*Math.sin(A)),2*r-(r-O*Math.cos(A)),u+_*Math.sin(s),g-O*Math.cos(s),u,g];if(h)return B;I&&(B=B.concat(I));for(var z=0;z<B.length;){var U=S(B[z],B[z+1],n);B[z++]=U.x,B[z++]=U.y}return B}function S(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(V/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function i(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=i()?Object.assign:function(L,S){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var a in v)e.call(v,a)&&(p[a]=v[a]);if(V){r=V(v);for(var n=0;n<r.length;n++)m.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(G){var V=function(e){return e!==e};G.exports=function(m,P){return m===0&&P===0?1/m===1/P:!!(m===P||V(m)&&V(P))}},39896:function(G,V,e){var m=e(81288),P=e(57916),i=e(76835),L=e(66148),S=e(16408),v=P(L(),Object);m(v,{getPolyfill:L,implementation:i,shim:S}),G.exports=v},66148:function(G,V,e){var m=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:m}},16408:function(G,V,e){var m=e(66148),P=e(81288);G.exports=function(){var L=m();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(G,V,e){var m;if(!Object.keys){var P=Object.prototype.hasOwnProperty,i=Object.prototype.toString,L=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),p=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(l){var u=l.constructor;return u&&u.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&P.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{t(window[l])}catch{return!0}}catch{return!0}return!1}(),f=function(l){if(typeof window>"u"||!n)return t(l);try{return t(l)}catch{return!1}};m=function(u){var g=u!==null&&typeof u=="object",h=i.call(u)==="[object Function]",T=L(u),c=g&&i.call(u)==="[object String]",o=[];if(!g&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&u.length>0&&!P.call(u,0))for(var x=0;x<u.length;++x)o.push(String(x));if(T&&u.length>0)for(var w=0;w<u.length;++w)o.push(String(w));else for(var C in u)!(d&&C==="prototype")&&P.call(u,C)&&o.push(String(C));if(v)for(var y=f(u),M=0;M<r.length;++M)!(y&&r[M]==="constructor")&&P.call(u,r[M])&&o.push(r[M]);return o}}G.exports=m},41820:function(G,V,e){var m=Array.prototype.slice,P=e(97344),i=Object.keys,L=i?function(p){return i(p)}:e(32764),S=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?S(m.call(t)):S(t)})}else Object.keys=L;return Object.keys||L},G.exports=L},97344:function(G){var V=Object.prototype.toString;G.exports=function(m){var P=V.call(m),i=P==="[object Arguments]";return i||(i=P!=="[object Array]"&&m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&V.call(m.callee)==="[object Function]"),i}},32868:function(G){function V(P,i){if(typeof P!="string")return[P];var L=[P];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var S=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",p=!!i.flat;S.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),f=[];function l(u,g,h){var T=L.push(u.slice(a[0].length,-a[1].length))-1;return f.push(T),v+T+v}L.forEach(function(u,g){for(var h,T=0;u!=h;)if(h=u,u=u.replace(n,l),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=u}),f=f.reverse(),L=L.map(function(u){return f.forEach(function(g){u=u.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),a[0]+"$1"+a[1])}),u})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(a,n,f){for(var l=[],u,g=0;u=r.exec(a);){if(g++>1e4)throw Error("Circular references in parenthesis");l.push(a.slice(0,u.index)),l.push(t(n[u[1]],n)),a=a.slice(u.index+u[0].length)}return l.push(a),l}return p?L:t(L[0],L)}function e(P,i){if(i&&i.flat){var L=i&&i.escape||"___",S=P[0],v;if(!S)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=S,S=S.replace(p,t)}return S}return P.reduce(function a(n,f){return Array.isArray(f)&&(f=f.reduce(a,"")),n+f},"");function t(a,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function m(P,i){return Array.isArray(P)?e(P,i):V(P,i)}m.parse=V,m.stringify=e,G.exports=m},51160:function(G,V,e){var m=e(55616);G.exports=P;function P(i){var L;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?L={width:i[0],height:i[0],x:0,y:0}:i.length===2?L={width:i[0],height:i[1],x:0,y:0}:L={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=m(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:i.left||0,y:i.top||0},i.width==null?i.right?L.width=i.right-L.x:L.width=0:L.width=i.width,i.height==null?i.bottom?L.height=i.bottom-L.y:L.height=0:L.height=i.height),L}},21984:function(G){G.exports=m;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function m(L){var S=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=i(r),t=="m"&&r.length>2&&(S.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==V[t])return r.unshift(p),S.push(r);if(r.length<V[t])throw new Error("malformed path data");S.push([p].concat(r.splice(0,V[t])))}}),S}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(L){var S=L.match(P);return S?S.map(Number):[]}},65819:function(G){G.exports=function(e,m){m||(m=[0,""]),e=String(e);var P=parseFloat(e,10);return m[0]=P,m[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",m}},41984:function(G,V,e){var m=e(4168);(function(){var P,i,L,S,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof m<"u"&&m!==null&&m.hrtime?(G.exports=function(){return(P()-v)/1e6},i=m.hrtime,P=function(){var r;return r=i(),r[0]*1e9+r[1]},S=P(),p=m.uptime()*1e9,v=S-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(P,i,L){var S={},v,p;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var r={};for(p=0;p<i.length;p++)r[i[p]]=!0;i=r}for(v in i)i[v]=e(i[v]);var t={};for(v in i){var a=i[v];if(Array.isArray(a))for(p=0;p<a.length;p++){var n=a[p];if(L&&(t[n]=!0),n in P){if(S[v]=P[n],L)for(var f=p;f<a.length;f++)t[a[f]]=!0;break}}else v in P&&(i[v]&&(S[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(S[v]=P[v]);return S};var V={};function e(m){return V[m]?V[m]:(typeof m=="string"&&(m=V[m]=m.split(/\s*,\s*|\s+/)),m)}},61456:function(G){G.exports=function(e,m,P,i){var L=e[0],S=e[1],v=!1;P===void 0&&(P=0),i===void 0&&(i=m.length);for(var p=i-P,r=0,t=p-1;r<p;t=r++){var a=m[r+P][0],n=m[r+P][1],f=m[t+P][0],l=m[t+P][1],u=n>S!=l>S&&L<(f-a)*(S-n)/(l-n)+a;u&&(v=!v)}return v}},14756:function(G,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var m=e(7688),P=e(28648),i=e(72200),L=e(11403),S=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=m():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=i(!0,r,p);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var l=i(!1,r,p);return{combined:l.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return a(n,f,t.selectUnion)},intersect:function(n,f){return a(n,f,t.selectIntersect)},difference:function(n,f){return a(n,f,t.selectDifference)},differenceRev:function(n,f){return a(n,f,t.selectDifferenceRev)},xor:function(n,f){return a(n,f,t.selectXor)}};function a(n,f,l){var u=t.segments(n),g=t.segments(f),h=t.combine(u,g),T=l(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function V(){var e,m=0,P=!1;function i(L,S){return e.list.push({type:L,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return m++},checkIntersection:function(L,S){return i("check",{seg1:L,seg2:S})},segmentChop:function(L,S){return i("div_seg",{seg:L,pt:S}),i("chop",{seg:L,pt:S})},statusRemove:function(L){return i("pop_seg",{seg:L})},segmentUpdate:function(L){return i("seg_update",{seg:L})},segmentNew:function(L,S){return i("new_seg",{seg:L,primary:S})},segmentRemove:function(L){return i("rem_seg",{seg:L})},tempStatus:function(L,S,v){return i("temp_status",{seg:L,above:S,below:v})},rewind:function(L){return i("rewind",{seg:L})},status:function(L,S,v){return i("status",{seg:L,above:S,below:v})},vert:function(L){return L===P?e:(P=L,i("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),i("log",{txt:L})},reset:function(){return i("reset")},selected:function(L){return i("selected",{segs:L})},chainStart:function(L){return i("chain_start",{seg:L})},chainRemoveHead:function(L,S){return i("chain_rem_head",{index:L,pt:S})},chainRemoveTail:function(L,S){return i("chain_rem_tail",{index:L,pt:S})},chainNew:function(L,S){return i("chain_new",{pt1:L,pt2:S})},chainMatch:function(L){return i("chain_match",{index:L})},chainClose:function(L){return i("chain_close",{index:L})},chainAddHead:function(L,S){return i("chain_add_head",{index:L,pt:S})},chainAddTail:function(L,S){return i("chain_add_tail",{index:L,pt:S})},chainConnect:function(L,S){return i("chain_con",{index1:L,index2:S})},chainReverse:function(L){return i("chain_rev",{index:L})},chainJoin:function(L,S){return i("chain_join",{index1:L,index2:S})},done:function(){return i("done")}},e}G.exports=V},28648:function(G){function V(e){typeof e!="number"&&(e=1e-10);var m={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,i,L){var S=i[0],v=i[1],p=L[0],r=L[1],t=P[0],a=P[1];return(p-S)*(a-v)-(r-v)*(t-S)>=-e},pointBetween:function(P,i,L){var S=P[1]-i[1],v=L[0]-i[0],p=P[0]-i[0],r=L[1]-i[1],t=p*v+S*r;if(t<e)return!1;var a=v*v+r*r;return!(t-a>-e)},pointsSameX:function(P,i){return Math.abs(P[0]-i[0])<e},pointsSameY:function(P,i){return Math.abs(P[1]-i[1])<e},pointsSame:function(P,i){return m.pointsSameX(P,i)&&m.pointsSameY(P,i)},pointsCompare:function(P,i){return m.pointsSameX(P,i)?m.pointsSameY(P,i)?0:P[1]<i[1]?-1:1:P[0]<i[0]?-1:1},pointsCollinear:function(P,i,L){var S=P[0]-i[0],v=P[1]-i[1],p=i[0]-L[0],r=i[1]-L[1];return Math.abs(S*r-p*v)<e},linesIntersect:function(P,i,L,S){var v=i[0]-P[0],p=i[1]-P[1],r=S[0]-L[0],t=S[1]-L[1],a=v*t-p*r;if(Math.abs(a)<e)return!1;var n=P[0]-L[0],f=P[1]-L[1],l=(r*f-t*n)/a,u=(v*f-p*n)/a,g={alongA:0,alongB:0,pt:[P[0]+l*v,P[1]+l*p]};return l<=-e?g.alongA=-2:l<e?g.alongA=-1:l-1<=-e?g.alongA=0:l-1<e?g.alongA=1:g.alongA=2,u<=-e?g.alongB=-2:u<e?g.alongB=-1:u-1<=-e?g.alongB=0:u-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,i){for(var L=P[0],S=P[1],v=i[i.length-1][0],p=i[i.length-1][1],r=!1,t=0;t<i.length;t++){var a=i[t][0],n=i[t][1];n-S>e!=p-S>e&&(v-a)*(S-n)/(p-n)+a-L>e&&(r=!r),v=a,p=n}return r}};return m}G.exports=V},17792:function(G){var V={toPolygon:function(e,m){function P(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var a=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[a]})}for(var p=v(S[0]),r=1;r<S.length;r++)p=e.selectDifference(e.combine(p,v(S[r])));return p}if(m.type==="Polygon")return e.polygon(P(m.coordinates));if(m.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),L=0;L<m.coordinates.length;L++)i=e.selectUnion(e.combine(i,P(m.coordinates[L])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,m,P){P=e.polygon(e.segments(P));function i(l,u){return m.pointInsideRegion([(l[0][0]+l[1][0])*.5,(l[0][1]+l[1][1])*.5],u)}function L(l){return{region:l,children:[]}}var S=L(null);function v(l,u){for(var g=0;g<l.children.length;g++){var h=l.children[g];if(i(u,h.region)){v(h,u);return}}for(var T=L(u),g=0;g<l.children.length;g++){var h=l.children[g];i(h.region,u)&&(T.children.push(h),l.children.splice(g,1),g--)}l.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(S,r)}function t(l,u){for(var g=0,h=l[l.length-1][0],T=l[l.length-1][1],c=[],o=0;o<l.length;o++){var d=l[o][0],x=l[o][1];c.push([d,x]),g+=x*h-d*T,h=d,T=x}var w=g<0;return w!==u&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var a=[];function n(l){var u=[t(l.region,!1)];a.push(u);for(var g=0;g<l.children.length;g++)u.push(f(l.children[g]))}function f(l){for(var u=0;u<l.children.length;u++)n(l.children[u]);return t(l.region,!0)}for(var p=0;p<S.children.length;p++)n(S.children[p]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};G.exports=V},72200:function(G,V,e){var m=e(48088);function P(i,L,S){function v(T,c){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function p(T,c,o){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=m.create();function t(T,c,o,d,x,w){var C=L.pointsCompare(c,x);return C!==0?C:L.pointsSame(o,w)?0:T!==d?T?1:-1:L.pointAboveOrOnLine(o,d?x:w,d?w:x)?1:-1}function a(T,c){r.insertBefore(T,function(o){var d=t(T.isStart,T.pt,c,o.isStart,o.pt,o.other.pt);return d<0})}function n(T,c){var o=m.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return a(o,T.end),o}function f(T,c,o){var d=m.node({isStart:!1,pt:c.end,seg:c,primary:o,other:T,status:null});T.other=d,a(d,T.pt)}function l(T,c){var o=n(T,c);return f(o,T,c),o}function u(T,c){S&&S.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,a(T.other,T.pt)}function g(T,c){var o=p(c,T.seg.end,T.seg);return u(T,c),l(o,T.primary)}function h(T,c){var o=m.create();function d(O,B){var z=O.seg.start,U=O.seg.end,Z=B.seg.start,J=B.seg.end;return L.pointsCollinear(z,Z,J)?L.pointsCollinear(U,Z,J)||L.pointAboveOrOnLine(U,Z,J)?1:-1:L.pointAboveOrOnLine(z,Z,J)?1:-1}function x(O){return o.findTransition(function(B){var z=d(O,B.ev);return z>0})}function w(O,B){var z=O.seg,U=B.seg,Z=z.start,J=z.end,re=U.start,ne=U.end;S&&S.checkIntersection(z,U);var ue=L.linesIntersect(Z,J,re,ne);if(ue===!1){if(!L.pointsCollinear(Z,J,re)||L.pointsSame(Z,ne)||L.pointsSame(J,re))return!1;var te=L.pointsSame(Z,re),Q=L.pointsSame(J,ne);if(te&&Q)return B;var ie=!te&&L.pointBetween(Z,re,ne),Y=!Q&&L.pointBetween(J,re,ne);if(te)return Y?g(B,J):g(O,ne),B;ie&&(Q||(Y?g(B,J):g(O,ne)),g(B,Z))}else ue.alongA===0&&(ue.alongB===-1?g(O,re):ue.alongB===0?g(O,ue.pt):ue.alongB===1&&g(O,ne)),ue.alongB===0&&(ue.alongA===-1?g(B,Z):ue.alongA===0?g(B,ue.pt):ue.alongA===1&&g(B,J));return!1}for(var C=[];!r.isEmpty();){var y=r.getHead();if(S&&S.vert(y.pt[0]),y.isStart){let O=function(){if(A){var B=w(y,A);if(B)return B}return s?w(y,s):!1};var _=O;S&&S.segmentNew(y.seg,y.primary);var M=x(y),A=M.before?M.before.ev:null,s=M.after?M.after.ev:null;S&&S.tempStatus(y.seg,A?A.seg:!1,s?s.seg:!1);var E=O();if(E){if(i){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,b&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=y.seg.myFill;S&&S.segmentUpdate(E.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){S&&S.rewind(y.seg);continue}if(i){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,s?y.seg.myFill.below=s.seg.myFill.above:y.seg.myFill.below=T,b?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var F;s?y.primary===s.primary?F=s.seg.otherFill.above:F=s.seg.myFill.above:F=y.primary?c:T,y.seg.otherFill={above:F,below:F}}S&&S.status(y.seg,A?A.seg:!1,s?s.seg:!1),y.other.status=M.insert(m.node({ev:y}))}else{var I=y.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(I.prev)&&o.exists(I.next)&&w(I.prev.ev,I.next.ev),S&&S.statusRemove(I.ev.seg),I.remove(),!y.primary){var N=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=N}C.push(y.seg)}r.getHead().remove()}return S&&S.done(),C}return i?{addRegion:function(T){for(var c,o=T[T.length-1],d=0;d<T.length;d++){c=o,o=T[d];var x=L.pointsCompare(c,o);x!==0&&l(v(x<0?c:o,x<0?o:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,o,d){return T.forEach(function(x){l(p(x.start,x.end,x),!0)}),o.forEach(function(x){l(p(x.start,x.end,x),!1)}),h(c,d)}}}G.exports=P},48088:function(G){var V={create:function(){var e={root:{root:!0,next:null},exists:function(m){return!(m===null||m===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(m,P){for(var i=e.root,L=e.root.next;L!==null;){if(P(L)){m.prev=L.prev,m.next=L,L.prev.next=m,L.prev=m;return}i=L,L=L.next}i.next=m,m.prev=i,m.next=null},findTransition:function(m){for(var P=e.root,i=e.root.next;i!==null&&!m(i);)P=i,i=i.next;return{before:P===e.root?null:P,after:i,insert:function(L){return L.prev=P,L.next=i,P.next=L,i!==null&&(i.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=V},11403:function(G){function V(e,m,P){var i=[],L=[];return e.forEach(function(S){var v=S.start,p=S.end;if(m.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=r;function n(E,b,F){return a.index=E,a.matches_head=b,a.matches_pt1=F,a===r?(a=t,!1):(a=null,!0)}for(var f=0;f<i.length;f++){var l=i[f],u=l[0];l[1];var g=l[l.length-1];if(l[l.length-2],m.pointsSame(u,v)){if(n(f,!0,!0))break}else if(m.pointsSame(u,p)){if(n(f,!0,!1))break}else if(m.pointsSame(g,v)){if(n(f,!1,!0))break}else if(m.pointsSame(g,p)&&n(f,!1,!1))break}if(a===r){i.push([v,p]),P&&P.chainNew(v,p);return}if(a===t){P&&P.chainMatch(r.index);var h=r.index,T=r.matches_pt1?p:v,c=r.matches_head,l=i[h],o=c?l[0]:l[l.length-1],d=c?l[1]:l[l.length-2],x=c?l[l.length-1]:l[0],w=c?l[l.length-2]:l[1];if(m.pointsCollinear(d,o,T)&&(c?(P&&P.chainRemoveHead(r.index,T),l.shift()):(P&&P.chainRemoveTail(r.index,T),l.pop()),o=d),m.pointsSame(x,T)){i.splice(h,1),m.pointsCollinear(w,x,o)&&(c?(P&&P.chainRemoveTail(r.index,o),l.pop()):(P&&P.chainRemoveHead(r.index,o),l.shift())),P&&P.chainClose(r.index),L.push(l);return}c?(P&&P.chainAddHead(r.index,T),l.unshift(T)):(P&&P.chainAddTail(r.index,T),l.push(T));return}function C(E){P&&P.chainReverse(E),i[E].reverse()}function y(E,b){var F=i[E],I=i[b],N=F[F.length-1],_=F[F.length-2],O=I[0],B=I[1];m.pointsCollinear(_,N,O)&&(P&&P.chainRemoveTail(E,N),F.pop(),N=_),m.pointsCollinear(N,O,B)&&(P&&P.chainRemoveHead(b,O),I.shift()),P&&P.chainJoin(E,b),i[E]=F.concat(I),i.splice(b,1)}var M=r.index,A=t.index;P&&P.chainConnect(M,A);var s=i[M].length<i[A].length;r.matches_head?t.matches_head?s?(C(M),y(M,A)):(C(A),y(A,M)):y(A,M):t.matches_head?y(M,A):s?(C(M),y(A,M)):(C(A),y(M,A))}),L}G.exports=V},82368:function(G){function V(m,P,i){var L=[];return m.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);P[v]!==0&&L.push({id:i?i.segmentId():-1,start:S.start,end:S.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),i&&i.selected(L),L}var e={union:function(m,P){return V(m,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(m,P){return V(m,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(m,P){return V(m,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(m,P){return V(m,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(m,P){return V(m,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},9696:function(G,V,e){var m=e(29936).Transform,P=e(55619);function i(){m.call(this,{readableObjectMode:!0})}i.prototype=Object.create(m.prototype),i.prototype.constructor=i,P(i.prototype),V.gS=function(S,v,p){for(var r=v,t=0;t<p.length;)if(S[r++]!==p[t++])return!1;return!0},V.wR=function(S,v){var p=[],r=0;if(v&&v==="hex")for(;r<S.length;)p.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)p.push(S.charCodeAt(r)&255);return p},V.Bz=function(S,v){return S[v]|S[v+1]<<8},V.eW=function(S,v){return S[v+1]|S[v]<<8},V.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},V.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function L(S,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(G){function V(P,i){var L=new Error(P);return L.code=i,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function m(P,i,L){this.input=P.subarray(i,L),this.start=i;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}m.prototype.each=function(P){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},m.prototype.read_uint16=function(P){var i=this.input;if(P+2>i.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?i[P]*256+i[P+1]:i[P]+i[P+1]*256},m.prototype.read_uint32=function(P){var i=this.input;if(P+4>i.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?i[P]*16777216+i[P+1]*65536+i[P+2]*256+i[P+3]:i[P]+i[P+1]*256+i[P+2]*65536+i[P+3]*16777216},m.prototype.is_subifd_link=function(P,i){return P===0&&i===34665||P===0&&i===34853||P===34665&&i===40965},m.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},m.prototype.exif_format_read=function(P,i){var L;switch(P){case 1:case 2:return L=this.input[i],L;case 6:return L=this.input[i],L|(L&128)*33554430;case 3:return L=this.read_uint16(i),L;case 8:return L=this.read_uint16(i),L|(L&32768)*131070;case 4:return L=this.read_uint32(i),L;case 9:return L=this.read_uint32(i),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},m.prototype.scan_ifd=function(P,i,L){var S=this.read_uint16(i);i+=2;for(var v=0;v<S;v++){var p=this.read_uint16(i),r=this.read_uint16(i+2),t=this.read_uint32(i+4),a=this.exif_format_length(r),n=t*a,f=n<=4?i+8:this.read_uint32(i+8),l=!1;if(f+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var u=[],g=f,h=0;h<t;h++,g+=a){var T=this.exif_format_read(r,g);if(T===null){u=null;break}u.push(T)}Array.isArray(u)&&r===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:p,offset:u[0]}),l=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:i+this.start,data_length:n,data_offset:f+this.start,value:u,is_subifd_link:l};if(L(c)===!1){this.aborted=!0;return}i+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},G.exports.ExifParser=m,G.exports.get_orientation=function(P){var i=0;try{return new m(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return i=L.value[0],!1}),i}catch{return-1}}},44600:function(G,V,e){var m=e(9696).eW,P=e(9696).eI;function i(n,f){if(n.length<4+f)return null;var l=P(n,f);return n.length<l+f||l<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+l),end:f+l}}G.exports.unbox=i;function L(n,f){for(var l=0;;){var u=i(n,l);if(!u)break;switch(u.boxtype){case"ispe":f.sizes.push({width:P(u.data,4),height:P(u.data,8)});break;case"irot":f.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:u.data[0]&1});break}l=u.end}}function S(n,f,l){for(var u=0,g=0;g<l;g++)u=u*256+(n[f+g]||0);return u}function v(n,f){for(var l=n[4]>>4&15,u=n[4]&15,g=n[5]>>4&15,h=m(n,6),T=8,c=0;c<h;c++){var o=m(n,T);T+=2;var d=m(n,T);T+=2;var x=S(n,T,g);T+=g;var w=m(n,T);if(T+=2,d===0&&w===1){var C=S(n,T,l),y=S(n,T+l,u);f.item_loc[o]={length:y,offset:C+x}}T+=w*(l+u)}}function p(n,f){for(var l=m(n,4),u=6,g=0;g<l;g++){var h=i(n,u);if(!h)break;if(h.boxtype==="infe"){for(var T=m(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);f.item_inf[c]=T}u=h.end}}function r(n,f){for(var l=0;;){var u=i(n,l);if(!u)break;u.boxtype==="ipco"&&L(u.data,f),l=u.end}}function t(n,f){for(var l=4;;){var u=i(n,l);if(!u)break;u.boxtype==="iprp"&&r(u.data,f),u.boxtype==="iloc"&&v(u.data,f),u.boxtype==="iinf"&&p(u.data,f),l=u.end}}function a(n){var f=n.reduce(function(g,h){return g.width>h.width||g.width===h.width&&g.height>h.height?g:h}),l=n.reduce(function(g,h){return g.height>h.height||g.height===h.height&&g.width>h.width?g:h}),u;return f.width>l.height||f.width===l.height&&f.height>l.width?u=f:u=l,u}G.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var l=a(f.sizes),u=1;f.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?u=c[u]:(u=c[u],u=T[u],u=T[u])),h.type==="irot")for(var o=0;o<h.value;o++)u=T[u]});var g=null;return f.item_inf.Exif&&(g=f.item_loc[f.item_inf.Exif]),{width:l.width,height:l.height,orientation:f.transforms.length?u:null,variants:f.sizes,exif_location:g}}},G.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),l={};l[f]=!0;for(var u=8;u<n.length;u+=4)l[String.fromCharCode.apply(null,n.slice(u,u+4))]=!0;if(!(!l.mif1&&!l.msf1&&!l.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:l.avif||l.avis?{type:"avif",mime:"image/avif"}:l.heic||l.heix||l.hevc||l.hevx||l.heis?l.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=e(44600),S=e(11688),v=m("ftyp");G.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var a,n=r.end;;){var f=L.unbox(p,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){a=f.data;break}}if(a){var l=L.readSizeFromMeta(a);if(l){var u={width:l.width,height:l.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=p.length){var g=i(p,l.exif_location.offset),h=p.slice(l.exif_location.offset+g+4,l.exif_location.offset+l.exif_location.length),T=S.get_orientation(h);T>0&&(u.orientation=T)}return u}}}}}}},38728:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=m("BM");G.exports=function(S){if(!(S.length<26)&&P(S,0,L))return{width:i(S,18),height:i(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=m("GIF87a"),S=m("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,S)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,V,e){var m=e(9696).Bz,P=0,i=1,L=16;G.exports=function(S){var v=m(S,0),p=m(S,2),r=m(S,4);if(!(v!==P||p!==i||!r)){for(var t=[],a={width:0,height:0},n=0;n<r;n++){var f=S[6+L*n]||256,l=S[6+L*n+1]||256,u={width:f,height:l};t.push(u),(f>a.width||l>a.height)&&(a=u)}return{width:a.width,height:a.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,V,e){var m=e(9696).eW,P=e(9696).wR,i=e(9696).gS,L=e(11688),S=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=m(v,p)-2,p+=2}else return;if(r===217||r===218)return;var a;if(r===225&&t>=10&&i(v,p,S)&&(a=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:m(v,p+3),height:m(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(n.orientation=a),n}p+=t}}},37276:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=m(`PNG\r

`),S=m("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,S))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=m("8BPS\0");G.exports=function(S){if(!(S.length<22)&&P(S,0,L))return{width:i(S,18),height:i(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function V(a){return a===32||a===9||a===13||a===10}function e(a){return typeof a=="number"&&isFinite(a)&&a>0}function m(a){var n=0,f=a.length;for(a[0]===239&&a[1]===187&&a[2]===191&&(n=3);n<f&&V(a[n]);)n++;return n===f?!1:a[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(a){var n=a.match(L),f=a.match(S),l=a.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:l&&(l[1]||l[2])}}function t(a){return p.test(a)?a.match(p)[0]:"px"}G.exports=function(a){if(m(a)){for(var n="",f=0;f<a.length;f++)n+=String.fromCharCode(a[f]);var l=(n.match(P)||[""])[0];if(i.test(l)){var u=r(l),g=parseFloat(u.width),h=parseFloat(u.height);if(u.width&&u.height)return!e(g)||!e(h)?void 0:{width:g,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(u.width),hUnits:t(u.height)};var T=(u.viewbox||"").split(" "),c={width:T[2],height:T[3]},o=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(o)||!e(d))&&t(c.width)===t(c.height)){var x=o/d;return u.width?e(g)?{width:g,height:g/x,type:"svg",mime:"image/svg+xml",wUnits:t(u.width),hUnits:t(u.width)}:void 0:u.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(u.height),hUnits:t(u.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=e(9696).eW,S=e(9696).st,v=e(9696).eI,p=m("II*\0"),r=m("MM\0*");function t(f,l,u){return u?L(f,l):i(f,l)}function a(f,l,u){return u?v(f,l):S(f,l)}function n(f,l,u){var g=t(f,l+2,u),h=a(f,l+4,u);return h!==1||g!==3&&g!==4?null:g===3?t(f,l+8,u):a(f,l+8,u)}G.exports=function(f){if(!(f.length<8)&&!(!P(f,0,p)&&!P(f,0,r))){var l=f[0]===77,u=a(f,4,l)-8;if(!(u<0)){var g=u+8;if(!(f.length-g<2)){var h=t(f,g+0,l)*12;if(!(h<=0)&&(g+=2,!(f.length-g<h))){var T,c,o,d;for(T=0;T<h;T+=12)d=t(f,g+T,l),d===256?c=n(f,g+T,l):d===257&&(o=n(f,g+T,l));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,V,e){var m=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=e(9696).st,S=e(11688),v=m("RIFF"),p=m("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:i(n,f+6)&16383,height:i(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var l=L(n,f+1);return{width:(l&16383)+1,height:(l>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var f=12,l=null,u=0,g=L(n,4)+8;if(!(g>n.length)){for(;f+8<g;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),T=L(n,f+4);h==="VP8 "&&T>=10?l=l||r(n,f+8):h==="VP8L"&&T>=9?l=l||t(n,f+8):h==="VP8X"&&T>=10?l=l||a(n,f+8):h==="EXIF"&&(u=S.get_orientation(n.slice(f+8,f+8+T)),f=1/0),f+=8+T}if(l)return u>0&&(l.orientation=u),l}}}},87480:function(G,V,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,V,e){var m=e(87480);function P(i){for(var L=Object.keys(m),S=0;S<L.length;S++){var v=m[L[S]](i);if(v)return v}return null}G.exports=function(L){return P(L)},G.exports.parsers=m},4168:function(G){var V=G.exports={},e,m;function P(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?m=clearTimeout:m=i}catch{m=i}})();function L(u){if(e===setTimeout)return setTimeout(u,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function S(u){if(m===clearTimeout)return clearTimeout(u);if((m===i||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(u);try{return m(u)}catch{try{return m.call(null,u)}catch{return m.call(this,u)}}}var v=[],p=!1,r,t=-1;function a(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var u=L(a);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,S(u)}}V.nextTick=function(u){var g=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)g[h-1]=arguments[h];v.push(new f(u,g)),v.length===1&&!p&&L(n)};function f(u,g){this.fun=u,this.array=g}f.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function l(){}V.on=l,V.addListener=l,V.once=l,V.off=l,V.removeListener=l,V.removeAllListeners=l,V.emit=l,V.prependListener=l,V.prependOnceListener=l,V.listeners=function(u){return[]},V.binding=function(u){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(u){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},3951:function(G,V,e){for(var m=e(41984),P=typeof window>"u"?e.g:window,i=["moz","webkit"],L="AnimationFrame",S=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!S&&p<i.length;p++)S=P[i[p]+"Request"+L],v=P[i[p]+"Cancel"+L]||P[i[p]+"CancelRequest"+L];if(!S||!v){var r=0,t=0,a=[],n=1e3/60;S=function(f){if(a.length===0){var l=m(),u=Math.max(0,n-(l-r));r=u+l,setTimeout(function(){var g=a.slice(0);a.length=0;for(var h=0;h<g.length;h++)if(!g[h].cancelled)try{g[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(u))}return a.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var l=0;l<a.length;l++)a[l].handle===f&&(a[l].cancelled=!0)}}G.exports=function(f){return S.call(P,f)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(f){f||(f=P),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(G,V,e){var m=e(76752),P=e(72160),i=e(45223),L=e(55616),S=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;G.exports=n;var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,l){if(typeof f=="function"?(l||(l={}),l.regl=f):l=f,l.length&&(l.positions=l),f=l.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=f._gl,g,h,T,c,o,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:a}),A(l),g=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(E,b){return[b.viewport.x,b.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,b){return b.offset*4},divisor:1},position:{buffer:h,offset:function(E,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,b){return b.offset*8},divisor:1},error:{buffer:o,offset:function(E,b){return b.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:a.length}),S(C,{update:A,draw:y,destroy:s,regl:f,gl:u,canvas:u.canvas,groups:w}),C;function C(E){E?A(E):E===null&&s(),y()}function y(E){if(typeof E=="number")return M(E);E&&!Array.isArray(E)&&(E=[E]),f._refresh(),w.forEach(function(b,F){if(b){if(E&&(E[F]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}M(F)}})}function M(E){typeof E=="number"&&(E=w[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function A(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var b=0,F=0;if(C.groups=w=E.map(function(U,Z){var J=w[Z];if(U)typeof U=="function"?U={after:U}:typeof U[0]=="number"&&(U={positions:U});else return J;return U=L(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(w[Z]=J={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=S({},x,U)),i(J,U,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),F+=re.length,re},positions:function(re,ne){return re=v(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=m(re,2),ne.offset=b,b+=ne.count,re}},{color:function(re,ne){var ue=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var te=re;re=Array(ue);for(var Q=0;Q<ue;Q++)re[Q]=te}if(re.length<ue)throw Error("Not enough colors");for(var ie=new Uint8Array(ue*4),Y=0;Y<ue;Y++){var $=P(re[Y],"uint8");ie.set($,Y*4)}return ie},range:function(re,ne,ue){var te=ne.bounds;return re||(re=te),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},ne}}]),J}),b||F){var I=w.reduce(function(U,Z,J){return U+(Z?Z.count:0)},0),N=new Float64Array(I*2),_=new Uint8Array(I*4),O=new Float32Array(I*4);w.forEach(function(U,Z){if(U){var J=U.positions,re=U.count,ne=U.offset,ue=U.color,te=U.errors;re&&(_.set(ue,ne*4),O.set(te,ne*4),N.set(J,ne*2))}});var B=r(N);h(B);var z=t(N,B);T(z),c(_),o(O)}}}function s(){h.destroy(),T.destroy(),c.destroy(),o.destroy(),d.destroy()}}},13472:function(G,V,e){var m=e(72160),P=e(76752),i=e(50896),L=e(55616),S=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,a=r.fract32,n=e(60463),f=e(51160),l=e(10272),u=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,g=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=d;function d(x,w){if(!(this instanceof d))return new d(x,w);if(typeof x=="function"?(w||(w={}),w.regl=x):w=x,w.length&&(w.positions=w),x=w.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(x){var w=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,E){return E.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},y=x(i({vert:u,frag:g,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),M;try{M=x(i({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{M=y}var A=x({primitive:"triangle",elements:function(s,E){return E.triangles},offset:0,vert:h,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:A,rect:y,miter:M}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,w=[],C=arguments.length;C--;)w[C]=arguments[C];w.length&&(x=this).update.apply(x,w),this.draw()},d.prototype.draw=function(){for(var x=this,w=[],C=arguments.length;C--;)w[C]=arguments[C];return(w.length?w:this.passes).forEach(function(y,M){var A;if(y&&Array.isArray(y))return(A=x).draw.apply(A,y);typeof y=="number"&&(y=x.passes[y]),y&&y.count>1&&y.opacity&&(x.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&x.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?x.shaders.rect(y):x.shaders.miter(y)))}),this},d.prototype.update=function(x){var w=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var C=this,y=C.regl,M=C.gl;if(x.forEach(function(F,I){var N=w.passes[I];if(F!==void 0){if(F===null){w.passes[I]=null;return}if(typeof F[0]=="number"&&(F={positions:F}),F=L(F,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(w.passes[I]=N={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},F=i({},d.defaults,F)),F.thickness!=null&&(N.thickness=parseFloat(F.thickness)),F.opacity!=null&&(N.opacity=parseFloat(F.opacity)),F.miterLimit!=null&&(N.miterLimit=parseFloat(F.miterLimit)),F.overlay!=null&&(N.overlay=!!F.overlay,I<d.maxLines&&(N.depth=2*(d.maxLines-1-I%d.maxLines)/d.maxLines-1)),F.join!=null&&(N.join=F.join),F.hole!=null&&(N.hole=F.hole),F.fill!=null&&(N.fill=F.fill?m(F.fill,"uint8"):null),F.viewport!=null&&(N.viewport=f(F.viewport)),N.viewport||(N.viewport=f([M.drawingBufferWidth,M.drawingBufferHeight])),F.close!=null&&(N.close=F.close),F.positions===null&&(F.positions=[]),F.positions){var _,O;if(F.positions.x&&F.positions.y){var B=F.positions.x,z=F.positions.y;O=N.count=Math.max(B.length,z.length),_=new Float64Array(O*2);for(var U=0;U<O;U++)_[U*2]=B[U],_[U*2+1]=z[U]}else _=S(F.positions,"float64"),O=N.count=Math.floor(_.length/2);var Z=N.bounds=P(_,2);if(N.fill){for(var J=[],re={},ne=0,ue=0,te=0,Q=N.count;ue<Q;ue++){var ie=_[ue*2],Y=_[ue*2+1];isNaN(ie)||isNaN(Y)||ie==null||Y==null?(ie=_[ne*2],Y=_[ne*2+1],re[ue]=ne):ne=ue,J[te++]=ie,J[te++]=Y}if(F.splitNull){N.count-1 in re||(re[N.count]=N.count-1);var $=Object.keys(re).map(Number).sort(function(ve,xe){return ve-xe}),oe=[],j=0,X=N.hole!=null?N.hole[0]:null;if(X!=null){var se=l($,function(ve){return ve>=X});$=$.slice(0,se),$.push(X)}for(var q=function(ve){var xe=J.slice(j*2,$[ve]*2).concat(X?J.slice(X*2):[]),Ne=(N.hole||[]).map(function(st){return st-X+($[ve]-j)}),et=v(xe,Ne);et=et.map(function(st){return st+j+(st+j<$[ve]?0:X-$[ve])}),oe.push.apply(oe,et),j=$[ve]+1},ce=0;ce<$.length;ce++)q(ce);for(var ye=0,we=oe.length;ye<we;ye++)re[oe[ye]]!=null&&(oe[ye]=re[oe[ye]]);N.triangles=oe}else{for(var be=v(J,N.hole||[]),De=0,ke=be.length;De<ke;De++)re[be[De]]!=null&&(be[De]=re[be[De]]);N.triangles=be}}var Be=new Float64Array(_);p(Be,2,Z);var Ae=new Float64Array(O*2+6);N.close?_[0]===_[O*2-2]&&_[1]===_[O*2-1]?(Ae[0]=Be[O*2-4],Ae[1]=Be[O*2-3]):(Ae[0]=Be[O*2-2],Ae[1]=Be[O*2-1]):(Ae[0]=Be[0],Ae[1]=Be[1]),Ae.set(Be,2),N.close?_[0]===_[O*2-2]&&_[1]===_[O*2-1]?(Ae[O*2+2]=Be[2],Ae[O*2+3]=Be[3],N.count-=1):(Ae[O*2+2]=Be[0],Ae[O*2+3]=Be[1],Ae[O*2+4]=Be[2],Ae[O*2+5]=Be[3]):(Ae[O*2+2]=Be[O*2-2],Ae[O*2+3]=Be[O*2-1],Ae[O*2+4]=Be[O*2-2],Ae[O*2+5]=Be[O*2-1]);var Ie=t(Ae);N.positionBuffer(Ie);var Me=a(Ae,Ie);N.positionFractBuffer(Me)}if(F.range?N.range=F.range:N.range||(N.range=N.bounds),(F.range||F.positions)&&N.count){var Fe=N.bounds,Ee=Fe[2]-Fe[0],He=Fe[3]-Fe[1],rt=N.range[2]-N.range[0],ot=N.range[3]-N.range[1];N.scale=[Ee/rt,He/ot],N.translate=[-N.range[0]/rt+Fe[0]/rt||0,-N.range[1]/ot+Fe[1]/ot||0],N.scaleFract=a(N.scale),N.translateFract=a(N.translate)}if(F.dashes){var $e=0,qe;if(!F.dashes||F.dashes.length<2)$e=1,qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{$e=0;for(var ht=0;ht<F.dashes.length;++ht)$e+=F.dashes[ht];qe=new Uint8Array($e*d.dashMult);for(var vt=0,pt=255,wt=0;wt<2;wt++)for(var Mt=0;Mt<F.dashes.length;++Mt){for(var nt=0,_e=F.dashes[Mt]*d.dashMult*.5;nt<_e;++nt)qe[vt++]=pt;pt^=255}}N.dashLength=$e,N.dashTexture({channels:1,data:qe,width:qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(F.color){var Ge=N.count,je=F.color;je||(je="transparent");var We=new Uint8Array(Ge*4+4);if(!Array.isArray(je)||typeof je[0]=="number")for(var Pe=m(je,"uint8"),Re=0;Re<Ge+1;Re++)We.set(Pe,Re*4);else{for(var Xe=0;Xe<Ge;Xe++){var Le=m(je[Xe],"uint8");We.set(Le,Xe*4)}We.set(m(je[0],"uint8"),Ge*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}}),x.length<this.passes.length){for(var A=x.length;A<this.passes.length;A++){var s=this.passes[A];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=x.length}for(var E=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&E.push(this.passes[b]);return this.passes=E,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,V,e){function m(s,E){var b=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(b!=null){var F,I,N,_,O=[],B=!0,z=!1;try{if(N=(b=b.call(s)).next,E===0){if(Object(b)!==b)return;B=!1}else for(;!(B=(F=N.call(b)).done)&&(O.push(F.value),O.length!==E);B=!0);}catch(U){z=!0,I=U}finally{try{if(!B&&b.return!=null&&(_=b.return(),Object(_)!==_))return}finally{if(z)throw I}}return O}}function P(s,E){return S(s)||m(s,E)||p(s,E)||a()}function i(s){return L(s)||v(s)||p(s)||t()}function L(s){if(Array.isArray(s))return r(s)}function S(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function p(s,E){if(s){if(typeof s=="string")return r(s,E);var b=Object.prototype.toString.call(s).slice(8,-1);if(b==="Object"&&s.constructor&&(b=s.constructor.name),b==="Map"||b==="Set")return Array.from(s);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(s,E)}}function r(s,E){(E==null||E>s.length)&&(E=s.length);for(var b=0,F=new Array(E);b<E;b++)F[b]=s[b];return F}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),l=e(3808),u=e(3108),g=e(50896),h=e(26444),T=e(55616),c=e(45223),o=e(47520),d=e(96604),x=e(37816),w=e(51160),C=y;function y(s,E){var b=this;if(!(this instanceof y))return new y(s,E);typeof s=="function"?(E||(E={}),E.regl=s):(E=s,s=null),E&&E.length&&(E.positions=E),s=E.regl;var F=s._gl,I,N=[],_={},O=[],B=[null],z=[null],U=255,Z=100;this.tooManyColors=d,I=s.texture({data:new Uint8Array(U*4),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:s,gl:F,groups:O,markerCache:z,markerTextures:B,palette:N,paletteIds:_,paletteTexture:I,maxColors:U,maxSize:Z,canvas:F.canvas}),this.update(E);var J={uniforms:{constPointSize:!!E.constPointSize,opacity:s.prop("opacity"),paletteSize:function(te,Q){return[b.tooManyColors?0:U,I.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:I},attributes:{x:function(te,Q){return Q.xAttr||{buffer:Q.positionBuffer,stride:8,offset:0}},y:function(te,Q){return Q.yAttr||{buffer:Q.positionBuffer,stride:8,offset:4}},xFract:function(te,Q){return Q.xAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:0}},yFract:function(te,Q){return Q.yAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:4}},size:function(te,Q){return Q.size.length?{buffer:Q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Q.size*255/b.maxSize)]}},borderSize:function(te,Q){return Q.borderSize.length?{buffer:Q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Q.borderSize*255/b.maxSize)]}},colorId:function(te,Q){return Q.color.length?{buffer:Q.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?N.slice(Q.color*4,Q.color*4+4):[Q.color]}},borderColorId:function(te,Q){return Q.borderColor.length?{buffer:Q.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?N.slice(Q.borderColor*4,Q.borderColor*4+4):[Q.borderColor]}},isActive:function(te,Q){return Q.activation===!0?{constant:[1]}:Q.activation?Q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},re=g({},J);re.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(re);var ne=g({},J);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ne)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var s=this,E=arguments.length,b=new Array(E),F=0;F<E;F++)b[F]=arguments[F];var I=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var N=0;N<b.length;N++)this.drawItem(N,b[N]);else I.forEach(function(_,O){s.drawItem(O)});return this},y.prototype.drawItem=function(s,E){var b=this.groups,F=b[s];if(typeof E=="number"&&(s=E,F=b[E],E=null),!!(F&&F.count&&F.opacity)){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,E));for(var I=[],N=1;N<F.activation.length;N++)!F.activation[N]||F.activation[N]!==!0&&!F.activation[N].data.length||I.push.apply(I,i(this.getMarkerDrawOptions(N,F,E)));I.length&&this.drawMarker(I)}},y.prototype.getMarkerDrawOptions=function(s,E,b){var F=E.range,I=E.tree,N=E.viewport,_=E.activation,O=E.selectionBuffer,B=E.count;if(this.regl,!I)return b?[g({},E,{markerTexture:this.markerTextures[s],activation:_[s],count:b.length,elements:b,offset:0})]:[g({},E,{markerTexture:this.markerTextures[s],activation:_[s],offset:0})];var z=[],U=I.range(F,{lod:!0,px:[(F[2]-F[0])/N.width,(F[3]-F[1])/N.height]});if(b){for(var Z=_[s],J=Z.data,re=new Uint8Array(B),ne=0;ne<b.length;ne++){var ue=b[ne];re[ue]=J?J[ue]:1}O.subdata(re)}for(var te=U.length;te--;){var Q=P(U[te],2),ie=Q[0],Y=Q[1];z.push(g({},E,{markerTexture:this.markerTextures[s],activation:b?O:_[s],offset:ie,count:Y-ie}))}return z},y.prototype.update=function(){for(var s=this,E=arguments.length,b=new Array(E),F=0;F<E;F++)b[F]=arguments[F];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var I=this.groups,N=this.gl,_=this.regl,O=this.maxSize,B=this.maxColors,z=this.palette;this.groups=I=b.map(function(U,Z){var J=I[Z];if(U===void 0)return J;U===null?U={positions:null}:typeof U=="function"?U={ondraw:U}:typeof U[0]=="number"&&(U={positions:U}),U=T(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),U.positions===null&&(U.positions=[]),U.tooManyColors!=null&&(s.tooManyColors=U.tooManyColors),J||(I[Z]=J={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:_.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=g({},y.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=J.marker,delete J.marker),U.marker&&!("positions"in U)&&(U.positions=J.positions,delete J.positions);var re=0,ne=0;if(c(J,U,[{snap:!0,size:function(Ae,Ie){return Ae==null&&(Ae=y.defaults.size),re+=Ae&&Ae.length?1:0,Ae},borderSize:function(Ae,Ie){return Ae==null&&(Ae=y.defaults.borderSize),re+=Ae&&Ae.length?1:0,Ae},opacity:parseFloat,color:function(Ae,Ie){return Ae==null&&(Ae=y.defaults.color),Ae=s.updateColor(Ae),ne++,Ae},borderColor:function(Ae,Ie){return Ae==null&&(Ae=y.defaults.borderColor),Ae=s.updateColor(Ae),ne++,Ae},bounds:function(Ae,Ie,Me){return"range"in Me||(Me.range=null),Ae},positions:function(Ae,Ie,Me){var Fe=Ie.snap,Ee=Ie.positionBuffer,He=Ie.positionFractBuffer,rt=Ie.selectionBuffer;if(Ae.x||Ae.y)return Ae.x.length?Ie.xAttr={buffer:_.buffer(Ae.x),offset:0,stride:4,count:Ae.x.length}:Ie.xAttr={buffer:Ae.x.buffer,offset:Ae.x.offset*4||0,stride:(Ae.x.stride||1)*4,count:Ae.x.count},Ae.y.length?Ie.yAttr={buffer:_.buffer(Ae.y),offset:0,stride:4,count:Ae.y.length}:Ie.yAttr={buffer:Ae.y.buffer,offset:Ae.y.offset*4||0,stride:(Ae.y.stride||1)*4,count:Ae.y.count},Ie.count=Math.max(Ie.xAttr.count,Ie.yAttr.count),Ae;Ae=o(Ae,"float64");var ot=Ie.count=Math.floor(Ae.length/2),$e=Ie.bounds=ot?f(Ae,2):null;if(!Me.range&&!Ie.range&&(delete Ie.range,Me.range=$e),!Me.marker&&!Ie.marker&&(delete Ie.marker,Me.marker=null),Fe&&(Fe===!0||ot>Fe)?Ie.tree=u(Ae,{bounds:$e}):Fe&&Fe.length&&(Ie.tree=Fe),Ie.tree){var qe={primitive:"points",usage:"static",data:Ie.tree,type:"uint32"};Ie.elements?Ie.elements(qe):Ie.elements=_.elements(qe)}var ht=x.float32(Ae);Ee({data:ht,usage:"dynamic"});var vt=x.fract32(Ae,ht);return He({data:vt,usage:"dynamic"}),rt({data:new Uint8Array(ot),type:"uint8",usage:"stream"}),Ae}},{marker:function(Ae,Ie,Me){var Fe=Ie.activation;if(Fe.forEach(function(vt){return vt&&vt.destroy&&vt.destroy()}),Fe.length=0,!Ae||typeof Ae[0]=="number"){var Ee=s.addMarker(Ae);Fe[Ee]=!0}else{for(var He=[],rt=0,ot=Math.min(Ae.length,Ie.count);rt<ot;rt++){var $e=s.addMarker(Ae[rt]);He[$e]||(He[$e]=new Uint8Array(Ie.count)),He[$e][rt]=1}for(var qe=0;qe<He.length;qe++)if(He[qe]){var ht={data:He[qe],type:"uint8",usage:"static"};Fe[qe]?Fe[qe](ht):Fe[qe]=_.buffer(ht),Fe[qe].data=He[qe]}}return Ae},range:function(Ae,Ie,Me){var Fe=Ie.bounds;if(Fe)return Ae||(Ae=Fe),Ie.scale=[1/(Ae[2]-Ae[0]),1/(Ae[3]-Ae[1])],Ie.translate=[-Ae[0],-Ae[1]],Ie.scaleFract=x.fract(Ie.scale),Ie.translateFract=x.fract(Ie.translate),Ae},viewport:function(Ae){var Ie=w(Ae||[N.drawingBufferWidth,N.drawingBufferHeight]);return Ie}}]),re){var ue=J,te=ue.count,Q=ue.size,ie=ue.borderSize,Y=ue.sizeBuffer,$=new Uint8Array(te*2);if(Q.length||ie.length)for(var oe=0;oe<te;oe++)$[oe*2]=Math.round((Q[oe]==null?Q:Q[oe])*255/O),$[oe*2+1]=Math.round((ie[oe]==null?ie:ie[oe])*255/O);Y({data:$,usage:"dynamic"})}if(ne){var j=J,X=j.count,se=j.color,q=j.borderColor,ce=j.colorBuffer,ye;if(s.tooManyColors){if(se.length||q.length){ye=new Uint8Array(X*8);for(var we=0;we<X;we++){var be=se[we];ye[we*8]=z[be*4],ye[we*8+1]=z[be*4+1],ye[we*8+2]=z[be*4+2],ye[we*8+3]=z[be*4+3];var De=q[we];ye[we*8+4]=z[De*4],ye[we*8+5]=z[De*4+1],ye[we*8+6]=z[De*4+2],ye[we*8+7]=z[De*4+3]}}}else if(se.length||q.length){ye=new Uint8Array(X*4+2);for(var ke=0;ke<X;ke++)se[ke]!=null&&(ye[ke*4]=se[ke]%B,ye[ke*4+1]=Math.floor(se[ke]/B)),q[ke]!=null&&(ye[ke*4+2]=q[ke]%B,ye[ke*4+3]=Math.floor(q[ke]/B))}ce({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},y.prototype.addMarker=function(s){var E=this.markerTextures,b=this.regl,F=this.markerCache,I=s==null?0:F.indexOf(s);if(I>=0)return I;var N;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)N=s;else{N=new Uint8Array(s.length);for(var _=0,O=s.length;_<O;_++)N[_]=s[_]*255}var B=Math.floor(Math.sqrt(N.length));return I=E.length,F.push(s),E.push(b.texture({channels:1,data:N,radius:B,mag:"linear",min:"linear"})),I},y.prototype.updateColor=function(s){var E=this.paletteIds,b=this.palette,F=this.maxColors;Array.isArray(s)||(s=[s]);var I=[];if(typeof s[0]=="number"){var N=[];if(Array.isArray(s))for(var _=0;_<s.length;_+=4)N.push(s.slice(_,_+4));else for(var O=0;O<s.length;O+=4)N.push(s.subarray(O,O+4));s=N}for(var B=0;B<s.length;B++){var z=s[B];z=n(z,"uint8");var U=l(z,!1);if(E[U]==null){var Z=b.length;E[U]=Math.floor(Z/4),b[Z]=z[0],b[Z+1]=z[1],b[Z+2]=z[2],b[Z+3]=z[3]}I[B]=E[U]}return!this.tooManyColors&&b.length>F*4&&(this.tooManyColors=!0),this.updatePalette(b),I.length===1?I[0]:I},y.prototype.updatePalette=function(s){if(!this.tooManyColors){var E=this.maxColors,b=this.paletteTexture,F=Math.ceil(s.length*.25/E);if(F>1){s=s.slice();for(var I=s.length*.25%E;I<F*E;I++)s.push(0,0,0,0)}b.height<F&&b.resize(E,F),b.subimage({width:Math.min(s.length*.25,E),height:F,data:s},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var M=e(50896),A=function(E,b){var F=new C(E,b),I=F.render.bind(F);return M(I,{render:I,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),I};G.exports=A},55795:function(G,V,e){var m=e(38540),P=e(55616),i=e(76752),L=e(3951),S=e(67752),v=e(51160),p=e(47520);G.exports=r;function r(f,l){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=m(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,l,u=[],g=arguments.length;g--;)u[g]=arguments[g];return u.length&&(l=this).update.apply(l,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,L(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var g=0;g<l.length;g++)this.updateItem(g,l[g]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],d=this.traces[c].passes,x=0;x<d.length;x++)h.push(this.passes[d[x]]);o.passOffset=T,T+=o.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,l){var u=this,g=u.regl;if(l===null)return this.traces[f]=null,this;if(!l)return this;var h=P(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[f]||(this.traces[f]={id:f,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(p(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=i(h.data[c],1)}var o;h.range&&(T.range=h.range,o=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(n),d=!0):T.padding=n(h.padding));var x=T.columns,w=T.count,C=T.viewport.width,y=T.viewport.height,M=T.viewport.x,A=T.viewport.y,s=C/x,E=y/x;T.passes=[];for(var b=0;b<x;b++)for(var F=0;F<x;F++)if(!(!T.diagonal&&F===b)&&!(!T.upper&&b>F)&&!(!T.lower&&b<F)){var I=t(T.id,b,F),N=this.passes[I]||(this.passes[I]={});if(h.data&&(h.transpose?N.positions={x:{buffer:T.buffer,offset:F,count:w,stride:x},y:{buffer:T.buffer,offset:b,count:w,stride:x}}:N.positions={x:{buffer:T.buffer,offset:F*w,count:w},y:{buffer:T.buffer,offset:b*w,count:w}},N.bounds=a(T.bounds,b,F)),h.domain||h.viewport||h.data){var _=d?a(T.padding,b,F):T.padding;if(T.domain){var O=a(T.domain,b,F),B=O[0],z=O[1],U=O[2],Z=O[3];N.viewport=[M+B*C+_[0],A+z*y+_[1],M+U*C-_[2],A+Z*y-_[3]]}else N.viewport=[M+F*s+s*_[0],A+b*E+E*_[1],M+(F+1)*s-s*_[2],A+(b+1)*E-E*_[3]]}h.color&&(N.color=T.color),h.size&&(N.size=T.size),h.marker&&(N.marker=T.marker),h.borderSize&&(N.borderSize=T.borderSize),h.borderColor&&(N.borderColor=T.borderColor),h.opacity&&(N.opacity=T.opacity),h.range&&(N.range=o?a(T.range,b,F):T.range||N.bounds),T.passes.push(I)}return this},r.prototype.draw=function(){for(var f,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(!l.length)this.scatter.draw();else{for(var g=[],h=0;h<l.length;h++)if(typeof l[h]=="number"){var T=this.traces[l[h]],c=T.passes,o=T.passOffset;g.push.apply(g,S(o,o+c.length))}else if(l[h].length){var d=l[h],x=this.traces[h],w=x.passes,C=x.passOffset;w=w.map(function(y,M){g[C+M]=d})}(f=this.scatter).draw.apply(f,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,l,u){var g=f.id!=null?f.id:f,h=l,T=u,c=g<<16|(h&255)<<8|T&255;return c}function a(f,l,u){var g,h,T,c,o=f[l],d=f[u];return o.length>2?(o[0],o[2],g=o[1],h=o[3]):o.length?(g=o[0],h=o[1]):(o.x,g=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(T=d[0],c=d[2],d[1],d[3]):d.length?(T=d[0],c=d[1]):(T=d.x,d.y,c=d.x+d.width,d.y+d.height),[T,g,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var l=v(f);return[l.x,l.y,l.x+l.width,l.y+l.height]}},28624:function(G){(function(V,e){G.exports=e()})(this,function(){function V(gt,Zt){this.id=ce++,this.type=gt,this.data=Zt}function e(gt){if(gt.length===0)return[];var Zt=gt.charAt(0),Qt=gt.charAt(gt.length-1);if(1<gt.length&&Zt===Qt&&(Zt==='"'||Zt==="'"))return['"'+gt.substr(1,gt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(gt))return e(gt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(gt.substr(Zt.index+Zt[0].length)));if(Zt=gt.split("."),Zt.length===1)return['"'+gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(gt=[],Qt=0;Qt<Zt.length;++Qt)gt=gt.concat(e(Zt[Qt]));return gt}function m(gt){return"["+e(gt).join("][")+"]"}function P(gt,Zt){if(typeof gt=="function")return new V(0,gt);if(typeof gt=="number"||typeof gt=="boolean")return new V(5,gt);if(Array.isArray(gt))return new V(6,gt.map(function(Qt,yr){return P(Qt)}));if(gt instanceof V)return gt}function i(){var gt={"":0},Zt=[""];return{id:function(Qt){var yr=gt[Qt];return yr||(yr=gt[Qt]=Zt.length,Zt.push(Qt),yr)},str:function(Qt){return Zt[Qt]}}}function L(gt,Zt,Qt){function yr(){var ut=window.innerWidth,bt=window.innerHeight;gt!==document.body&&(bt=or.getBoundingClientRect(),ut=bt.right-bt.left,bt=bt.bottom-bt.top),or.width=Qt*ut,or.height=Qt*bt}var or=document.createElement("canvas");q(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(or),gt===document.body&&(or.style.position="absolute",q(gt.style,{margin:0,padding:0}));var mt;return gt!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(yr)}),mt.observe(gt)):window.addEventListener("resize",yr,!1),yr(),{canvas:or,onDestroy:function(){mt?mt.disconnect():window.removeEventListener("resize",yr),gt.removeChild(or)}}}function S(gt,Zt){function Qt(yr){try{return gt.getContext(yr,Zt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(gt){return typeof gt=="string"?gt.split():gt}function p(gt){return typeof gt=="string"?document.querySelector(gt):gt}function r(gt){var Zt=gt||{},Qt,yr,or,mt;gt={};var ut=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,Rt=!1,Ht={},Bt=function(Jt){},Nt=function(){};if(typeof Zt=="string"?Qt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Qt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(mt=Zt,or=mt.canvas):("gl"in Zt?mt=Zt.gl:"canvas"in Zt?or=p(Zt.canvas):"container"in Zt&&(yr=p(Zt.container)),"attributes"in Zt&&(gt=Zt.attributes),"extensions"in Zt&&(ut=v(Zt.extensions)),"optionalExtensions"in Zt&&(bt=v(Zt.optionalExtensions)),"onDone"in Zt&&(Bt=Zt.onDone),"profile"in Zt&&(Rt=!!Zt.profile),"pixelRatio"in Zt&&(Et=+Zt.pixelRatio),"cachedCode"in Zt&&(Ht=Zt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?or=Qt:yr=Qt),!mt){if(!or){if(Qt=L(yr||document.body,Bt,Et),!Qt)return null;or=Qt.canvas,Nt=Qt.onDestroy}gt.premultipliedAlpha===void 0&&(gt.premultipliedAlpha=!0),mt=S(or,gt)}return mt?{gl:mt,canvas:or,container:yr,extensions:ut,optionalExtensions:bt,pixelRatio:Et,profile:Rt,cachedCode:Ht,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(gt,Zt){function Qt(ut){ut=ut.toLowerCase();var bt;try{bt=yr[ut]=gt.getExtension(ut)}catch{}return!!bt}for(var yr={},or=0;or<Zt.extensions.length;++or){var mt=Zt.extensions[or];if(!Qt(mt))return Zt.onDestroy(),Zt.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Qt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(ut){if(yr[ut]&&!Qt(ut))throw Error("(regl): error restoring extension "+ut)})}}}function a(gt,Zt){for(var Qt=Array(gt),yr=0;yr<gt;++yr)Qt[yr]=Zt(yr);return Qt}function n(gt){var Zt,Qt;return Zt=(65535<gt)<<4,gt>>>=Zt,Qt=(255<gt)<<3,gt>>>=Qt,Zt|=Qt,Qt=(15<gt)<<2,gt>>>=Qt,Zt|=Qt,Qt=(3<gt)<<1,Zt|Qt|gt>>>Qt>>1}function f(){function gt(yr){e:{for(var or=16;268435456>=or;or*=16)if(yr<=or){yr=or;break e}yr=0}return or=Qt[n(yr)>>2],0<or.length?or.pop():new ArrayBuffer(yr)}function Zt(yr){Qt[n(yr.byteLength)>>2].push(yr)}var Qt=a(8,function(){return[]});return{alloc:gt,free:Zt,allocType:function(yr,or){var mt=null;switch(yr){case 5120:mt=new Int8Array(gt(or),0,or);break;case 5121:mt=new Uint8Array(gt(or),0,or);break;case 5122:mt=new Int16Array(gt(2*or),0,or);break;case 5123:mt=new Uint16Array(gt(2*or),0,or);break;case 5124:mt=new Int32Array(gt(4*or),0,or);break;case 5125:mt=new Uint32Array(gt(4*or),0,or);break;case 5126:mt=new Float32Array(gt(4*or),0,or);break;default:return null}return mt.length!==or?mt.subarray(0,or):mt},freeType:function(yr){Zt(yr.buffer)}}}function l(gt){return!!gt&&typeof gt=="object"&&Array.isArray(gt.shape)&&Array.isArray(gt.stride)&&typeof gt.offset=="number"&&gt.shape.length===gt.stride.length&&(Array.isArray(gt.data)||Be(gt.data))}function u(gt,Zt,Qt,yr,or,mt){for(var ut=0;ut<Zt;++ut)for(var bt=gt[ut],Et=0;Et<Qt;++Et)for(var Rt=bt[Et],Ht=0;Ht<yr;++Ht)or[mt++]=Rt[Ht]}function g(gt,Zt,Qt,yr,or){for(var mt=1,ut=Qt+1;ut<Zt.length;++ut)mt*=Zt[ut];var bt=Zt[Qt];if(Zt.length-Qt===4){var Et=Zt[Qt+1],Rt=Zt[Qt+2];for(Zt=Zt[Qt+3],ut=0;ut<bt;++ut)u(gt[ut],Et,Rt,Zt,yr,or),or+=mt}else for(ut=0;ut<bt;++ut)g(gt[ut],Zt,Qt+1,yr,or),or+=mt}function h(gt){return Me[Object.prototype.toString.call(gt)]|0}function T(gt,Zt){for(var Qt=0;Qt<Zt.length;++Qt)gt[Qt]=Zt[Qt]}function c(gt,Zt,Qt,yr,or,mt,ut){for(var bt=0,Et=0;Et<Qt;++Et)for(var Rt=0;Rt<yr;++Rt)gt[bt++]=Zt[or*Et+mt*Rt+ut]}function o(gt,Zt,Qt,yr){function or(Bt){this.id=Et++,this.buffer=gt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function mt(Bt,Nt,Jt){Bt.byteLength=Nt.byteLength,gt.bufferData(Bt.type,Nt,Jt)}function ut(Bt,Nt,Jt,hr,fr,dr){if(Bt.usage=Jt,Array.isArray(Nt)){if(Bt.dtype=hr||5126,0<Nt.length)if(Array.isArray(Nt[0])){fr=rt(Nt);for(var Ye=hr=1;Ye<fr.length;++Ye)hr*=fr[Ye];Bt.dimension=hr,Nt=He(Nt,fr,Bt.dtype),mt(Bt,Nt,Jt),dr?Bt.persistentData=Nt:De.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=fr,fr=De.allocType(Bt.dtype,Nt.length),T(fr,Nt),mt(Bt,fr,Jt),dr?Bt.persistentData=fr:De.freeType(fr)):Be(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=hr||h(Nt[0])||5126,Nt=He(Nt,[Nt.length,Nt[0].length],Bt.dtype),mt(Bt,Nt,Jt),dr?Bt.persistentData=Nt:De.freeType(Nt))}else if(Be(Nt))Bt.dtype=hr||h(Nt),Bt.dimension=fr,mt(Bt,Nt,Jt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(l(Nt)){fr=Nt.shape;var Ve=Nt.stride,Ye=Nt.offset,_t=0,kt=0,Kt=0,sr=0;fr.length===1?(_t=fr[0],kt=1,Kt=Ve[0],sr=0):fr.length===2&&(_t=fr[0],kt=fr[1],Kt=Ve[0],sr=Ve[1]),Bt.dtype=hr||h(Nt.data)||5126,Bt.dimension=kt,fr=De.allocType(Bt.dtype,_t*kt),c(fr,Nt.data,_t,kt,Kt,sr,Ye),mt(Bt,fr,Jt),dr?Bt.persistentData=fr:De.freeType(fr)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=fr,mt(Bt,Nt,Jt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function bt(Bt){Zt.bufferCount--,yr(Bt),gt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Rt[Bt.id]}var Et=0,Rt={};or.prototype.bind=function(){gt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){bt(this)};var Ht=[];return Qt.profile&&(Zt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Rt).forEach(function(Nt){Bt+=Rt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,Jt,hr){function fr(Ye){var Ve=35044,_t=null,kt=0,Kt=0,sr=1;return Array.isArray(Ye)||Be(Ye)||l(Ye)||Ye instanceof ArrayBuffer?_t=Ye:typeof Ye=="number"?kt=Ye|0:Ye&&("data"in Ye&&(_t=Ye.data),"usage"in Ye&&(Ve=Ee[Ye.usage]),"type"in Ye&&(Kt=Fe[Ye.type]),"dimension"in Ye&&(sr=Ye.dimension|0),"length"in Ye&&(kt=Ye.length|0)),dr.bind(),_t?ut(dr,_t,Ve,Kt,sr,hr):(kt&&gt.bufferData(dr.type,kt,Ve),dr.dtype=Kt||5121,dr.usage=Ve,dr.dimension=sr,dr.byteLength=kt),Qt.profile&&(dr.stats.size=dr.byteLength*ot[dr.dtype]),fr}Zt.bufferCount++;var dr=new or(Nt);return Rt[dr.id]=dr,Jt||fr(Bt),fr._reglType="buffer",fr._buffer=dr,fr.subdata=function(Ye,Ve){var _t=(Ve||0)|0,kt;if(dr.bind(),Be(Ye)||Ye instanceof ArrayBuffer)gt.bufferSubData(dr.type,_t,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Kt=De.allocType(dr.dtype,Ye.length);T(Kt,Ye),gt.bufferSubData(dr.type,_t,Kt),De.freeType(Kt)}else(Array.isArray(Ye[0])||Be(Ye[0]))&&(kt=rt(Ye),Kt=He(Ye,kt,dr.dtype),gt.bufferSubData(dr.type,_t,Kt),De.freeType(Kt))}else if(l(Ye)){kt=Ye.shape;var sr=Ye.stride,cr=Kt=0,er=0,Ot=0;kt.length===1?(Kt=kt[0],cr=1,er=sr[0],Ot=0):kt.length===2&&(Kt=kt[0],cr=kt[1],er=sr[0],Ot=sr[1]),kt=Array.isArray(Ye.data)?dr.dtype:h(Ye.data),kt=De.allocType(kt,Kt*cr),c(kt,Ye.data,Kt,cr,er,Ot,Ye.offset),gt.bufferSubData(dr.type,_t,kt),De.freeType(kt)}return fr},Qt.profile&&(fr.stats=dr.stats),fr.destroy=function(){bt(dr)},fr},createStream:function(Bt,Nt){var Jt=Ht.pop();return Jt||(Jt=new or(Bt)),Jt.bind(),ut(Jt,Nt,35040,0,1,!1),Jt},destroyStream:function(Bt){Ht.push(Bt)},clear:function(){Ae(Rt).forEach(bt),Ht.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof or?Bt._buffer:null},restore:function(){Ae(Rt).forEach(function(Bt){Bt.buffer=gt.createBuffer(),gt.bindBuffer(Bt.type,Bt.buffer),gt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:ut}}function d(gt,Zt,Qt,yr){function or(Bt){this.id=Et++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function mt(Bt,Nt,Jt,hr,fr,dr,Ye){Bt.buffer.bind();var Ve;if(Nt?((Ve=Ye)||Be(Nt)&&(!l(Nt)||Be(Nt.data))||(Ve=Zt.oes_element_index_uint?5125:5123),Qt._initBuffer(Bt.buffer,Nt,Jt,Ve,3)):(gt.bufferData(34963,dr,Jt),Bt.buffer.dtype=Ve||5121,Bt.buffer.usage=Jt,Bt.buffer.dimension=3,Bt.buffer.byteLength=dr),Ve=Ye,!Ye){switch(Bt.buffer.dtype){case 5121:case 5120:Ve=5121;break;case 5123:case 5122:Ve=5123;break;case 5125:case 5124:Ve=5125}Bt.buffer.dtype=Ve}Bt.type=Ve,Nt=fr,0>Nt&&(Nt=Bt.buffer.byteLength,Ve===5123?Nt>>=1:Ve===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=hr,0>hr&&(Nt=4,hr=Bt.buffer.dimension,hr===1&&(Nt=0),hr===2&&(Nt=1),hr===3&&(Nt=4)),Bt.primType=Nt}function ut(Bt){yr.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},Et=0,Rt={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(Rt.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Ht=[];return{create:function(Bt,Nt){function Jt(dr){if(dr)if(typeof dr=="number")hr(dr),fr.primType=4,fr.vertCount=dr|0,fr.type=5121;else{var Ye=null,Ve=35044,_t=-1,kt=-1,Kt=0,sr=0;Array.isArray(dr)||Be(dr)||l(dr)?Ye=dr:("data"in dr&&(Ye=dr.data),"usage"in dr&&(Ve=Ee[dr.usage]),"primitive"in dr&&(_t=$e[dr.primitive]),"count"in dr&&(kt=dr.count|0),"type"in dr&&(sr=Rt[dr.type]),"length"in dr?Kt=dr.length|0:(Kt=kt,sr===5123||sr===5122?Kt*=2:(sr===5125||sr===5124)&&(Kt*=4))),mt(fr,Ye,Ve,_t,kt,Kt,sr)}else hr(),fr.primType=4,fr.vertCount=0,fr.type=5121;return Jt}var hr=Qt.create(null,34963,!0),fr=new or(hr._buffer);return yr.elementsCount++,Jt(Bt),Jt._reglType="elements",Jt._elements=fr,Jt.subdata=function(dr,Ye){return hr.subdata(dr,Ye),Jt},Jt.destroy=function(){ut(fr)},Jt},createStream:function(Bt){var Nt=Ht.pop();return Nt||(Nt=new or(Qt.create(null,34963,!0,!1)._buffer)),mt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Ht.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof or?Bt._elements:null},clear:function(){Ae(bt).forEach(ut)}}}function x(gt){for(var Zt=De.allocType(5123,gt.length),Qt=0;Qt<gt.length;++Qt)if(isNaN(gt[Qt]))Zt[Qt]=65535;else if(gt[Qt]===1/0)Zt[Qt]=31744;else if(gt[Qt]===-1/0)Zt[Qt]=64512;else{qe[0]=gt[Qt];var mt=ht[0],yr=mt>>>31<<15,or=(mt<<1>>>24)-127,mt=mt>>13&1023;Zt[Qt]=-24>or?yr:-14>or?yr+(mt+1024>>-14-or):15<or?yr+31744:yr+(or+15<<10)+mt}return Zt}function w(gt){return Array.isArray(gt)||Be(gt)}function C(gt){return"[object "+gt+"]"}function y(gt){return Array.isArray(gt)&&(gt.length===0||typeof gt[0]=="number")}function M(gt){return!!(Array.isArray(gt)&&gt.length!==0&&w(gt[0]))}function A(gt){return Object.prototype.toString.call(gt)}function s(gt){if(!gt)return!1;var Zt=A(gt);return 0<=Pe.indexOf(Zt)?!0:y(gt)||M(gt)||l(gt)}function E(gt,Zt){gt.type===36193?(gt.data=x(Zt),De.freeType(Zt)):gt.data=Zt}function b(gt,Zt,Qt,yr,or,mt){if(gt=typeof Xe[gt]<"u"?Xe[gt]:wt[gt]*Re[Zt],mt&&(gt*=6),or){for(yr=0;1<=Qt;)yr+=gt*Qt*Qt,Qt/=2;return yr}return gt*Qt*yr}function F(gt,Zt,Qt,yr,or,mt,ut){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(mr,Jr){mr.internalformat=Jr.internalformat,mr.format=Jr.format,mr.type=Jr.type,mr.compressed=Jr.compressed,mr.premultiplyAlpha=Jr.premultiplyAlpha,mr.flipY=Jr.flipY,mr.unpackAlignment=Jr.unpackAlignment,mr.colorSpace=Jr.colorSpace,mr.width=Jr.width,mr.height=Jr.height,mr.channels=Jr.channels}function Rt(mr,Jr){if(typeof Jr=="object"&&Jr){"premultiplyAlpha"in Jr&&(mr.premultiplyAlpha=Jr.premultiplyAlpha),"flipY"in Jr&&(mr.flipY=Jr.flipY),"alignment"in Jr&&(mr.unpackAlignment=Jr.alignment),"colorSpace"in Jr&&(mr.colorSpace=ln[Jr.colorSpace]),"type"in Jr&&(mr.type=Wr[Jr.type]);var Qr=mr.width,vn=mr.height,_n=mr.channels,xn=!1;"shape"in Jr?(Qr=Jr.shape[0],vn=Jr.shape[1],Jr.shape.length===3&&(_n=Jr.shape[2],xn=!0)):("radius"in Jr&&(Qr=vn=Jr.radius),"width"in Jr&&(Qr=Jr.width),"height"in Jr&&(vn=Jr.height),"channels"in Jr&&(_n=Jr.channels,xn=!0)),mr.width=Qr|0,mr.height=vn|0,mr.channels=_n|0,Qr=!1,"format"in Jr&&(Qr=Jr.format,vn=mr.internalformat=Tn[Qr],mr.format=Ln[vn],Qr in Wr&&!("type"in Jr)&&(mr.type=Wr[Qr]),Qr in An&&(mr.compressed=!0),Qr=!0),!xn&&Qr?mr.channels=wt[mr.format]:xn&&!Qr&&mr.channels!==pt[mr.format]&&(mr.format=mr.internalformat=pt[mr.channels])}}function Ht(mr){gt.pixelStorei(37440,mr.flipY),gt.pixelStorei(37441,mr.premultiplyAlpha),gt.pixelStorei(37443,mr.colorSpace),gt.pixelStorei(3317,mr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(mr,Jr){var Qr=null;if(s(Jr)?Qr=Jr:Jr&&(Rt(mr,Jr),"x"in Jr&&(mr.xOffset=Jr.x|0),"y"in Jr&&(mr.yOffset=Jr.y|0),s(Jr.data)&&(Qr=Jr.data)),Jr.copy){var vn=or.viewportWidth,_n=or.viewportHeight;mr.width=mr.width||vn-mr.xOffset,mr.height=mr.height||_n-mr.yOffset,mr.needsCopy=!0}else if(!Qr)mr.width=mr.width||1,mr.height=mr.height||1,mr.channels=mr.channels||4;else if(Be(Qr))mr.channels=mr.channels||4,mr.data=Qr,"type"in Jr||mr.type!==5121||(mr.type=Me[Object.prototype.toString.call(Qr)]|0);else if(y(Qr)){switch(mr.channels=mr.channels||4,vn=Qr,_n=vn.length,mr.type){case 5121:case 5123:case 5125:case 5126:_n=De.allocType(mr.type,_n),_n.set(vn),mr.data=_n;break;case 36193:mr.data=x(vn)}mr.alignment=1,mr.needsFree=!0}else if(l(Qr)){vn=Qr.data,Array.isArray(vn)||mr.type!==5121||(mr.type=Me[Object.prototype.toString.call(vn)]|0);var _n=Qr.shape,xn=Qr.stride,bn,Bn,Jn,ha;_n.length===3?(Jn=_n[2],ha=xn[2]):ha=Jn=1,bn=_n[0],Bn=_n[1],_n=xn[0],xn=xn[1],mr.alignment=1,mr.width=bn,mr.height=Bn,mr.channels=Jn,mr.format=mr.internalformat=pt[Jn],mr.needsFree=!0,bn=ha,Qr=Qr.offset,Jn=mr.width,ha=mr.height,Bn=mr.channels;for(var Ia=De.allocType(mr.type===36193?5126:mr.type,Jn*ha*Bn),Ar=0,zr=0;zr<ha;++zr)for(var Sr=0;Sr<Jn;++Sr)for(var Or=0;Or<Bn;++Or)Ia[Ar++]=vn[_n*Sr+xn*zr+bn*Or+Qr];E(mr,Ia)}else if(A(Qr)===Mt||A(Qr)===nt||A(Qr)===_e)A(Qr)===Mt||A(Qr)===nt?mr.element=Qr:mr.element=Qr.canvas,mr.width=mr.element.width,mr.height=mr.element.height,mr.channels=4;else if(A(Qr)===Ge)mr.element=Qr,mr.width=Qr.width,mr.height=Qr.height,mr.channels=4;else if(A(Qr)===je)mr.element=Qr,mr.width=Qr.naturalWidth,mr.height=Qr.naturalHeight,mr.channels=4;else if(A(Qr)===We)mr.element=Qr,mr.width=Qr.videoWidth,mr.height=Qr.videoHeight,mr.channels=4;else if(M(Qr)){for(vn=mr.width||Qr[0].length,_n=mr.height||Qr.length,xn=mr.channels,xn=w(Qr[0][0])?xn||Qr[0][0].length:xn||1,bn=Ie.shape(Qr),Jn=1,ha=0;ha<bn.length;++ha)Jn*=bn[ha];Jn=De.allocType(mr.type===36193?5126:mr.type,Jn),Ie.flatten(Qr,bn,"",Jn),E(mr,Jn),mr.alignment=1,mr.width=vn,mr.height=_n,mr.channels=xn,mr.format=mr.internalformat=pt[xn],mr.needsFree=!0}}function Jt(mr,Jr,Qr,vn,_n){var xn=mr.element,bn=mr.data,Bn=mr.internalformat,Jn=mr.format,ha=mr.type,Ia=mr.width,Ar=mr.height;Ht(mr),xn?gt.texSubImage2D(Jr,_n,Qr,vn,Jn,ha,xn):mr.compressed?gt.compressedTexSubImage2D(Jr,_n,Qr,vn,Bn,Ia,Ar,bn):mr.needsCopy?(yr(),gt.copyTexSubImage2D(Jr,_n,Qr,vn,mr.xOffset,mr.yOffset,Ia,Ar)):gt.texSubImage2D(Jr,_n,Qr,vn,Ia,Ar,Jn,ha,bn)}function hr(){return Un.pop()||new Bt}function fr(mr){mr.needsFree&&De.freeType(mr.data),Bt.call(mr),Un.push(mr)}function dr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(mr,Jr,Qr){var vn=mr.images[0]=hr();mr.mipmask=1,vn.width=mr.width=Jr,vn.height=mr.height=Qr,vn.channels=mr.channels=4}function Ve(mr,Jr){var Qr=null;if(s(Jr))Qr=mr.images[0]=hr(),Et(Qr,mr),Nt(Qr,Jr),mr.mipmask=1;else if(Rt(mr,Jr),Array.isArray(Jr.mipmap))for(var vn=Jr.mipmap,_n=0;_n<vn.length;++_n)Qr=mr.images[_n]=hr(),Et(Qr,mr),Qr.width>>=_n,Qr.height>>=_n,Nt(Qr,vn[_n]),mr.mipmask|=1<<_n;else Qr=mr.images[0]=hr(),Et(Qr,mr),Nt(Qr,Jr),mr.mipmask=1;Et(mr,mr.images[0])}function _t(mr,Jr){for(var Qr=mr.images,vn=0;vn<Qr.length&&Qr[vn];++vn){var _n=Qr[vn],xn=Jr,bn=vn,Bn=_n.element,Jn=_n.data,ha=_n.internalformat,Ia=_n.format,Ar=_n.type,zr=_n.width,Sr=_n.height;Ht(_n),Bn?gt.texImage2D(xn,bn,Ia,Ia,Ar,Bn):_n.compressed?gt.compressedTexImage2D(xn,bn,ha,zr,Sr,0,Jn):_n.needsCopy?(yr(),gt.copyTexImage2D(xn,bn,Ia,_n.xOffset,_n.yOffset,zr,Sr,0)):gt.texImage2D(xn,bn,Ia,zr,Sr,0,Ia,Ar,Jn||null)}}function kt(){var mr=na.pop()||new dr;bt.call(mr);for(var Jr=mr.mipmask=0;16>Jr;++Jr)mr.images[Jr]=null;return mr}function Kt(mr){for(var Jr=mr.images,Qr=0;Qr<Jr.length;++Qr)Jr[Qr]&&fr(Jr[Qr]),Jr[Qr]=null;na.push(mr)}function sr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function cr(mr,Jr){"min"in Jr&&(mr.minFilter=Dr[Jr.min],0<=vt.indexOf(mr.minFilter)&&!("faces"in Jr)&&(mr.genMipmaps=!0)),"mag"in Jr&&(mr.magFilter=Pr[Jr.mag]);var Qr=mr.wrapS,vn=mr.wrapT;if("wrap"in Jr){var _n=Jr.wrap;typeof _n=="string"?Qr=vn=Vr[_n]:Array.isArray(_n)&&(Qr=Vr[_n[0]],vn=Vr[_n[1]])}else"wrapS"in Jr&&(Qr=Vr[Jr.wrapS]),"wrapT"in Jr&&(vn=Vr[Jr.wrapT]);if(mr.wrapS=Qr,mr.wrapT=vn,"anisotropic"in Jr&&(mr.anisotropic=Jr.anisotropic),"mipmap"in Jr){switch(Qr=!1,typeof Jr.mipmap){case"string":mr.mipmapHint=ur[Jr.mipmap],Qr=mr.genMipmaps=!0;break;case"boolean":Qr=mr.genMipmaps=Jr.mipmap;break;case"object":mr.genMipmaps=!1,Qr=!0}!Qr||"min"in Jr||(mr.minFilter=9984)}}function er(mr,Jr){gt.texParameteri(Jr,10241,mr.minFilter),gt.texParameteri(Jr,10240,mr.magFilter),gt.texParameteri(Jr,10242,mr.wrapS),gt.texParameteri(Jr,10243,mr.wrapT),Zt.ext_texture_filter_anisotropic&&gt.texParameteri(Jr,34046,mr.anisotropic),mr.genMipmaps&&(gt.hint(33170,mr.mipmapHint),gt.generateMipmap(Jr))}function Ot(mr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ga++,this.refCount=1,this.target=mr,this.texture=gt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new sr,ut.profile&&(this.stats={size:0})}function nr(mr){gt.activeTexture(33984),gt.bindTexture(mr.target,mr.texture)}function vr(){var mr=Vn[0];mr?gt.bindTexture(mr.target,mr.texture):gt.bindTexture(3553,null)}function wr(mr){var Jr=mr.texture,Qr=mr.unit,vn=mr.target;0<=Qr&&(gt.activeTexture(33984+Qr),gt.bindTexture(vn,null),Vn[Qr]=null),gt.deleteTexture(Jr),mr.texture=null,mr.params=null,mr.pixels=null,mr.refCount=0,delete xa[mr.id],mt.textureCount--}var ur={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Vr={repeat:10497,clamp:33071,mirror:33648},Pr={nearest:9728,linear:9729},Dr=q({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Pr),ln={none:0,browser:37444},Wr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Tn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},An={};Zt.ext_srgb&&(Tn.srgb=35904,Tn.srgba=35906),Zt.oes_texture_float&&(Wr.float32=Wr.float=5126),Zt.oes_texture_half_float&&(Wr.float16=Wr["half float"]=36193),Zt.webgl_depth_texture&&(q(Tn,{depth:6402,"depth stencil":34041}),q(Wr,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&q(An,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&q(An,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&q(An,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(An["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(gt.getParameter(34467));Object.keys(An).forEach(function(mr){var Jr=An[mr];0<=Tr.indexOf(Jr)&&(Tn[mr]=Jr)});var Fr=Object.keys(Tn);Qt.textureFormats=Fr;var Yr=[];Object.keys(Tn).forEach(function(mr){Yr[Tn[mr]]=mr});var _r=[];Object.keys(Wr).forEach(function(mr){_r[Wr[mr]]=mr});var on=[];Object.keys(Pr).forEach(function(mr){on[Pr[mr]]=mr});var un=[];Object.keys(Dr).forEach(function(mr){un[Dr[mr]]=mr});var Sn=[];Object.keys(Vr).forEach(function(mr){Sn[Vr[mr]]=mr});var Ln=Fr.reduce(function(mr,Jr){var Qr=Tn[Jr];return Qr===6409||Qr===6406||Qr===6409||Qr===6410||Qr===6402||Qr===34041||Zt.ext_srgb&&(Qr===35904||Qr===35906)?mr[Qr]=Qr:Qr===32855||0<=Jr.indexOf("rgba")?mr[Qr]=6408:mr[Qr]=6407,mr},{}),Un=[],na=[],ga=0,xa={},ca=Qt.maxTextureUnits,Vn=Array(ca).map(function(){return null});return q(Ot.prototype,{bind:function(){this.bindCount+=1;var mr=this.unit;if(0>mr){for(var Jr=0;Jr<ca;++Jr){var Qr=Vn[Jr];if(Qr){if(0<Qr.bindCount)continue;Qr.unit=-1}Vn[Jr]=this,mr=Jr;break}ut.profile&&mt.maxTextureUnits<mr+1&&(mt.maxTextureUnits=mr+1),this.unit=mr,gt.activeTexture(33984+mr),gt.bindTexture(this.target,this.texture)}return mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&wr(this)}}),ut.profile&&(mt.getTotalTextureSize=function(){var mr=0;return Object.keys(xa).forEach(function(Jr){mr+=xa[Jr].stats.size}),mr}),{create2D:function(mr,Jr){function Qr(_n,xn){var bn=vn.texInfo;sr.call(bn);var Bn=kt();return typeof _n=="number"?typeof xn=="number"?Ye(Bn,_n|0,xn|0):Ye(Bn,_n|0,_n|0):_n?(cr(bn,_n),Ve(Bn,_n)):Ye(Bn,1,1),bn.genMipmaps&&(Bn.mipmask=(Bn.width<<1)-1),vn.mipmask=Bn.mipmask,Et(vn,Bn),vn.internalformat=Bn.internalformat,Qr.width=Bn.width,Qr.height=Bn.height,nr(vn),_t(Bn,3553),er(bn,3553),vr(),Kt(Bn),ut.profile&&(vn.stats.size=b(vn.internalformat,vn.type,Bn.width,Bn.height,bn.genMipmaps,!1)),Qr.format=Yr[vn.internalformat],Qr.type=_r[vn.type],Qr.mag=on[bn.magFilter],Qr.min=un[bn.minFilter],Qr.wrapS=Sn[bn.wrapS],Qr.wrapT=Sn[bn.wrapT],Qr}var vn=new Ot(3553);return xa[vn.id]=vn,mt.textureCount++,Qr(mr,Jr),Qr.subimage=function(_n,xn,bn,Bn){xn|=0,bn|=0,Bn|=0;var Jn=hr();return Et(Jn,vn),Jn.width=0,Jn.height=0,Nt(Jn,_n),Jn.width=Jn.width||(vn.width>>Bn)-xn,Jn.height=Jn.height||(vn.height>>Bn)-bn,nr(vn),Jt(Jn,3553,xn,bn,Bn),vr(),fr(Jn),Qr},Qr.resize=function(_n,xn){var bn=_n|0,Bn=xn|0||bn;if(bn===vn.width&&Bn===vn.height)return Qr;Qr.width=vn.width=bn,Qr.height=vn.height=Bn,nr(vn);for(var Jn=0;vn.mipmask>>Jn;++Jn){var ha=bn>>Jn,Ia=Bn>>Jn;if(!ha||!Ia)break;gt.texImage2D(3553,Jn,vn.format,ha,Ia,0,vn.format,vn.type,null)}return vr(),ut.profile&&(vn.stats.size=b(vn.internalformat,vn.type,bn,Bn,!1,!1)),Qr},Qr._reglType="texture2d",Qr._texture=vn,ut.profile&&(Qr.stats=vn.stats),Qr.destroy=function(){vn.decRef()},Qr},createCube:function(mr,Jr,Qr,vn,_n,xn){function bn(ha,Ia,Ar,zr,Sr,Or){var yn,Rn=Bn.texInfo;for(sr.call(Rn),yn=0;6>yn;++yn)Jn[yn]=kt();if(typeof ha=="number"||!ha)for(ha=ha|0||1,yn=0;6>yn;++yn)Ye(Jn[yn],ha,ha);else if(typeof ha=="object")if(Ia)Ve(Jn[0],ha),Ve(Jn[1],Ia),Ve(Jn[2],Ar),Ve(Jn[3],zr),Ve(Jn[4],Sr),Ve(Jn[5],Or);else if(cr(Rn,ha),Rt(Bn,ha),"faces"in ha)for(ha=ha.faces,yn=0;6>yn;++yn)Et(Jn[yn],Bn),Ve(Jn[yn],ha[yn]);else for(yn=0;6>yn;++yn)Ve(Jn[yn],ha);for(Et(Bn,Jn[0]),Bn.mipmask=Rn.genMipmaps?(Jn[0].width<<1)-1:Jn[0].mipmask,Bn.internalformat=Jn[0].internalformat,bn.width=Jn[0].width,bn.height=Jn[0].height,nr(Bn),yn=0;6>yn;++yn)_t(Jn[yn],34069+yn);for(er(Rn,34067),vr(),ut.profile&&(Bn.stats.size=b(Bn.internalformat,Bn.type,bn.width,bn.height,Rn.genMipmaps,!0)),bn.format=Yr[Bn.internalformat],bn.type=_r[Bn.type],bn.mag=on[Rn.magFilter],bn.min=un[Rn.minFilter],bn.wrapS=Sn[Rn.wrapS],bn.wrapT=Sn[Rn.wrapT],yn=0;6>yn;++yn)Kt(Jn[yn]);return bn}var Bn=new Ot(34067);xa[Bn.id]=Bn,mt.cubeCount++;var Jn=Array(6);return bn(mr,Jr,Qr,vn,_n,xn),bn.subimage=function(ha,Ia,Ar,zr,Sr){Ar|=0,zr|=0,Sr|=0;var Or=hr();return Et(Or,Bn),Or.width=0,Or.height=0,Nt(Or,Ia),Or.width=Or.width||(Bn.width>>Sr)-Ar,Or.height=Or.height||(Bn.height>>Sr)-zr,nr(Bn),Jt(Or,34069+ha,Ar,zr,Sr),vr(),fr(Or),bn},bn.resize=function(ha){if(ha|=0,ha!==Bn.width){bn.width=Bn.width=ha,bn.height=Bn.height=ha,nr(Bn);for(var Ia=0;6>Ia;++Ia)for(var Ar=0;Bn.mipmask>>Ar;++Ar)gt.texImage2D(34069+Ia,Ar,Bn.format,ha>>Ar,ha>>Ar,0,Bn.format,Bn.type,null);return vr(),ut.profile&&(Bn.stats.size=b(Bn.internalformat,Bn.type,bn.width,bn.height,!1,!0)),bn}},bn._reglType="textureCube",bn._texture=Bn,ut.profile&&(bn.stats=Bn.stats),bn.destroy=function(){Bn.decRef()},bn},clear:function(){for(var mr=0;mr<ca;++mr)gt.activeTexture(33984+mr),gt.bindTexture(3553,null),Vn[mr]=null;Ae(xa).forEach(wr),mt.cubeCount=0,mt.textureCount=0},getTexture:function(mr){return null},restore:function(){for(var mr=0;mr<ca;++mr){var Jr=Vn[mr];Jr&&(Jr.bindCount=0,Jr.unit=-1,Vn[mr]=null)}Ae(xa).forEach(function(Qr){Qr.texture=gt.createTexture(),gt.bindTexture(Qr.target,Qr.texture);for(var vn=0;32>vn;++vn)if(Qr.mipmask&1<<vn)if(Qr.target===3553)gt.texImage2D(3553,vn,Qr.internalformat,Qr.width>>vn,Qr.height>>vn,0,Qr.internalformat,Qr.type,null);else for(var _n=0;6>_n;++_n)gt.texImage2D(34069+_n,vn,Qr.internalformat,Qr.width>>vn,Qr.height>>vn,0,Qr.internalformat,Qr.type,null);er(Qr.texInfo,Qr.target)})},refresh:function(){for(var mr=0;mr<ca;++mr){var Jr=Vn[mr];Jr&&(Jr.bindCount=0,Jr.unit=-1,Vn[mr]=null),gt.activeTexture(33984+mr),gt.bindTexture(3553,null),gt.bindTexture(34067,null)}}}}function I(gt,Zt,Qt,yr,or,mt){function ut(Ot,nr,vr){this.target=Ot,this.texture=nr,this.renderbuffer=vr;var wr=Ot=0;nr?(Ot=nr.width,wr=nr.height):vr&&(Ot=vr.width,wr=vr.height),this.width=Ot,this.height=wr}function bt(Ot){Ot&&(Ot.texture&&Ot.texture._texture.decRef(),Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.decRef())}function Et(Ot,nr,vr){Ot&&(Ot.texture?Ot.texture._texture.refCount+=1:Ot.renderbuffer._renderbuffer.refCount+=1)}function Rt(Ot,nr){nr&&(nr.texture?gt.framebufferTexture2D(36160,Ot,nr.target,nr.texture._texture.texture,0):gt.framebufferRenderbuffer(36160,Ot,36161,nr.renderbuffer._renderbuffer.renderbuffer))}function Ht(Ot){var nr=3553,vr=null,wr=null,ur=Ot;return typeof Ot=="object"&&(ur=Ot.data,"target"in Ot&&(nr=Ot.target|0)),Ot=ur._reglType,Ot==="texture2d"||Ot==="textureCube"?vr=ur:Ot==="renderbuffer"&&(wr=ur,nr=36161),new ut(nr,vr,wr)}function Bt(Ot,nr,vr,wr,ur){return vr?(Ot=yr.create2D({width:Ot,height:nr,format:wr,type:ur}),Ot._texture.refCount=0,new ut(3553,Ot,null)):(Ot=or.create({width:Ot,height:nr,format:wr}),Ot._renderbuffer.refCount=0,new ut(36161,null,Ot))}function Nt(Ot){return Ot&&(Ot.texture||Ot.renderbuffer)}function Jt(Ot,nr,vr){Ot&&(Ot.texture?Ot.texture.resize(nr,vr):Ot.renderbuffer&&Ot.renderbuffer.resize(nr,vr),Ot.width=nr,Ot.height=vr)}function hr(){this.id=cr++,er[this.id]=this,this.framebuffer=gt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function fr(Ot){Ot.colorAttachments.forEach(bt),bt(Ot.depthAttachment),bt(Ot.stencilAttachment),bt(Ot.depthStencilAttachment)}function dr(Ot){gt.deleteFramebuffer(Ot.framebuffer),Ot.framebuffer=null,mt.framebufferCount--,delete er[Ot.id]}function Ye(Ot){var nr;gt.bindFramebuffer(36160,Ot.framebuffer);var vr=Ot.colorAttachments;for(nr=0;nr<vr.length;++nr)Rt(36064+nr,vr[nr]);for(nr=vr.length;nr<Qt.maxColorAttachments;++nr)gt.framebufferTexture2D(36160,36064+nr,3553,null,0);gt.framebufferTexture2D(36160,33306,3553,null,0),gt.framebufferTexture2D(36160,36096,3553,null,0),gt.framebufferTexture2D(36160,36128,3553,null,0),Rt(36096,Ot.depthAttachment),Rt(36128,Ot.stencilAttachment),Rt(33306,Ot.depthStencilAttachment),gt.checkFramebufferStatus(36160),gt.isContextLost(),gt.bindFramebuffer(36160,_t.next?_t.next.framebuffer:null),_t.cur=_t.next,gt.getError()}function Ve(Ot,nr){function vr(ur,Vr){var Pr,Dr=0,ln=0,Wr=!0,Tn=!0;Pr=null;var An=!0,Tr="rgba",Fr="uint8",Yr=1,_r=null,on=null,un=null,Sn=!1;typeof ur=="number"?(Dr=ur|0,ln=Vr|0||Dr):ur?("shape"in ur?(ln=ur.shape,Dr=ln[0],ln=ln[1]):("radius"in ur&&(Dr=ln=ur.radius),"width"in ur&&(Dr=ur.width),"height"in ur&&(ln=ur.height)),("color"in ur||"colors"in ur)&&(Pr=ur.color||ur.colors),Pr||("colorCount"in ur&&(Yr=ur.colorCount|0),"colorTexture"in ur&&(An=!!ur.colorTexture,Tr="rgba4"),"colorType"in ur&&(Fr=ur.colorType,!An)&&(Fr==="half float"||Fr==="float16"?Tr="rgba16f":(Fr==="float"||Fr==="float32")&&(Tr="rgba32f")),"colorFormat"in ur&&(Tr=ur.colorFormat,0<=kt.indexOf(Tr)?An=!0:0<=Kt.indexOf(Tr)&&(An=!1))),("depthTexture"in ur||"depthStencilTexture"in ur)&&(Sn=!(!ur.depthTexture&&!ur.depthStencilTexture)),"depth"in ur&&(typeof ur.depth=="boolean"?Wr=ur.depth:(_r=ur.depth,Tn=!1)),"stencil"in ur&&(typeof ur.stencil=="boolean"?Tn=ur.stencil:(on=ur.stencil,Wr=!1)),"depthStencil"in ur&&(typeof ur.depthStencil=="boolean"?Wr=Tn=ur.depthStencil:(un=ur.depthStencil,Tn=Wr=!1))):Dr=ln=1;var Ln=null,Un=null,na=null,ga=null;if(Array.isArray(Pr))Ln=Pr.map(Ht);else if(Pr)Ln=[Ht(Pr)];else for(Ln=Array(Yr),Pr=0;Pr<Yr;++Pr)Ln[Pr]=Bt(Dr,ln,An,Tr,Fr);for(Dr=Dr||Ln[0].width,ln=ln||Ln[0].height,_r?Un=Ht(_r):Wr&&!Tn&&(Un=Bt(Dr,ln,Sn,"depth","uint32")),on?na=Ht(on):Tn&&!Wr&&(na=Bt(Dr,ln,!1,"stencil","uint8")),un?ga=Ht(un):!_r&&!on&&Tn&&Wr&&(ga=Bt(Dr,ln,Sn,"depth stencil","depth stencil")),Wr=null,Pr=0;Pr<Ln.length;++Pr)Et(Ln[Pr]),Ln[Pr]&&Ln[Pr].texture&&(Tn=xe[Ln[Pr].texture._texture.format]*Ne[Ln[Pr].texture._texture.type],Wr===null&&(Wr=Tn));return Et(Un),Et(na),Et(ga),fr(wr),wr.width=Dr,wr.height=ln,wr.colorAttachments=Ln,wr.depthAttachment=Un,wr.stencilAttachment=na,wr.depthStencilAttachment=ga,vr.color=Ln.map(Nt),vr.depth=Nt(Un),vr.stencil=Nt(na),vr.depthStencil=Nt(ga),vr.width=wr.width,vr.height=wr.height,Ye(wr),vr}var wr=new hr;return mt.framebufferCount++,vr(Ot,nr),q(vr,{resize:function(ur,Vr){var Pr=Math.max(ur|0,1),Dr=Math.max(Vr|0||Pr,1);if(Pr===wr.width&&Dr===wr.height)return vr;for(var ln=wr.colorAttachments,Wr=0;Wr<ln.length;++Wr)Jt(ln[Wr],Pr,Dr);return Jt(wr.depthAttachment,Pr,Dr),Jt(wr.stencilAttachment,Pr,Dr),Jt(wr.depthStencilAttachment,Pr,Dr),wr.width=vr.width=Pr,wr.height=vr.height=Dr,Ye(wr),vr},_reglType:"framebuffer",_framebuffer:wr,destroy:function(){dr(wr),fr(wr)},use:function(ur){_t.setFBO({framebuffer:vr},ur)}})}var _t={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Kt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Kt.push("srgba"),Zt.ext_color_buffer_half_float&&Kt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Kt.push("rgba32f");var sr=["uint8"];Zt.oes_texture_half_float&&sr.push("half float","float16"),Zt.oes_texture_float&&sr.push("float","float32");var cr=0,er={};return q(_t,{getFramebuffer:function(Ot){return typeof Ot=="function"&&Ot._reglType==="framebuffer"&&(Ot=Ot._framebuffer,Ot instanceof hr)?Ot:null},create:Ve,createCube:function(Ot){function nr(wr){var ur,Vr={color:null},Pr=0,Dr=null;ur="rgba";var ln="uint8",Wr=1;if(typeof wr=="number"?Pr=wr|0:wr?("shape"in wr?Pr=wr.shape[0]:("radius"in wr&&(Pr=wr.radius|0),"width"in wr?Pr=wr.width|0:"height"in wr&&(Pr=wr.height|0)),("color"in wr||"colors"in wr)&&(Dr=wr.color||wr.colors),Dr||("colorCount"in wr&&(Wr=wr.colorCount|0),"colorType"in wr&&(ln=wr.colorType),"colorFormat"in wr&&(ur=wr.colorFormat)),"depth"in wr&&(Vr.depth=wr.depth),"stencil"in wr&&(Vr.stencil=wr.stencil),"depthStencil"in wr&&(Vr.depthStencil=wr.depthStencil)):Pr=1,Dr)if(Array.isArray(Dr))for(wr=[],ur=0;ur<Dr.length;++ur)wr[ur]=Dr[ur];else wr=[Dr];else for(wr=Array(Wr),Dr={radius:Pr,format:ur,type:ln},ur=0;ur<Wr;++ur)wr[ur]=yr.createCube(Dr);for(Vr.color=Array(wr.length),ur=0;ur<wr.length;++ur)Wr=wr[ur],Pr=Pr||Wr.width,Vr.color[ur]={target:34069,data:wr[ur]};for(ur=0;6>ur;++ur){for(Wr=0;Wr<wr.length;++Wr)Vr.color[Wr].target=34069+ur;0<ur&&(Vr.depth=vr[0].depth,Vr.stencil=vr[0].stencil,Vr.depthStencil=vr[0].depthStencil),vr[ur]?vr[ur](Vr):vr[ur]=Ve(Vr)}return q(nr,{width:Pr,height:Pr,color:wr})}var vr=Array(6);return nr(Ot),q(nr,{faces:vr,resize:function(wr){var ur=wr|0;if(ur===nr.width)return nr;var Vr=nr.color;for(wr=0;wr<Vr.length;++wr)Vr[wr].resize(ur);for(wr=0;6>wr;++wr)vr[wr].resize(ur);return nr.width=nr.height=ur,nr},_reglType:"framebufferCube",destroy:function(){vr.forEach(function(wr){wr.destroy()})}})},clear:function(){Ae(er).forEach(dr)},restore:function(){_t.cur=null,_t.next=null,_t.dirty=!0,Ae(er).forEach(function(Ot){Ot.framebuffer=gt.createFramebuffer(),Ye(Ot)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function _(gt,Zt,Qt,yr,or,mt,ut){function bt(Ye){if(Ye!==dr.currentVAO){var Ve=Zt.oes_vertex_array_object;Ye?Ve.bindVertexArrayOES(Ye.vao):Ve.bindVertexArrayOES(null),dr.currentVAO=Ye}}function Et(Ye){if(Ye!==dr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var Ve=Zt.angle_instanced_arrays,_t=0;_t<Jt.length;++_t){var kt=Jt[_t];kt.buffer?(gt.enableVertexAttribArray(_t),kt.buffer.bind(),gt.vertexAttribPointer(_t,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ve&&kt.divisor&&Ve.vertexAttribDivisorANGLE(_t,kt.divisor)):(gt.disableVertexAttribArray(_t),gt.vertexAttrib4f(_t,kt.x,kt.y,kt.z,kt.w))}ut.elements?gt.bindBuffer(34963,ut.elements.buffer.buffer):gt.bindBuffer(34963,null)}dr.currentVAO=Ye}}function Rt(){Ae(fr).forEach(function(Ye){Ye.destroy()})}function Ht(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,fr[this.id]=this,this.buffers=[]}function Bt(){Zt.oes_vertex_array_object&&Ae(fr).forEach(function(Ye){Ye.refresh()})}var Nt=Qt.maxAttributes,Jt=Array(Nt);for(Qt=0;Qt<Nt;++Qt)Jt[Qt]=new N;var hr=0,fr={},dr={Record:N,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Bt:function(){},createVAO:function(Ye){function Ve(kt){var Kt;Array.isArray(kt)?(Kt=kt,_t.elements&&_t.ownsElements&&_t.elements.destroy(),_t.elements=null,_t.ownsElements=!1,_t.offset=0,_t.count=0,_t.instances=-1,_t.primitive=4):(kt.elements?(Kt=kt.elements,_t.ownsElements?(typeof Kt=="function"&&Kt._reglType==="elements"?_t.elements.destroy():_t.elements(Kt),_t.ownsElements=!1):mt.getElements(kt.elements)?(_t.elements=kt.elements,_t.ownsElements=!1):(_t.elements=mt.create(kt.elements),_t.ownsElements=!0)):(_t.elements=null,_t.ownsElements=!1),Kt=kt.attributes,_t.offset=0,_t.count=-1,_t.instances=-1,_t.primitive=4,_t.elements&&(_t.count=_t.elements._elements.vertCount,_t.primitive=_t.elements._elements.primType),"offset"in kt&&(_t.offset=kt.offset|0),"count"in kt&&(_t.count=kt.count|0),"instances"in kt&&(_t.instances=kt.instances|0),"primitive"in kt&&(_t.primitive=$e[kt.primitive])),kt={};var sr=_t.attributes;sr.length=Kt.length;for(var cr=0;cr<Kt.length;++cr){var er=Kt[cr],Ot=sr[cr]=new N,nr=er.data||er;if(Array.isArray(nr)||Be(nr)||l(nr)){var vr;_t.buffers[cr]&&(vr=_t.buffers[cr],Be(nr)&&vr._buffer.byteLength>=nr.byteLength?vr.subdata(nr):(vr.destroy(),_t.buffers[cr]=null)),_t.buffers[cr]||(vr=_t.buffers[cr]=or.create(er,34962,!1,!0)),Ot.buffer=or.getBuffer(vr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1,kt[cr]=1}else or.getBuffer(er)?(Ot.buffer=or.getBuffer(er),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1):or.getBuffer(er.buffer)?(Ot.buffer=or.getBuffer(er.buffer),Ot.size=(+er.size||Ot.buffer.dimension)|0,Ot.normalized=!!er.normalized||!1,Ot.type="type"in er?Fe[er.type]:Ot.buffer.dtype,Ot.offset=(er.offset||0)|0,Ot.stride=(er.stride||0)|0,Ot.divisor=(er.divisor||0)|0,Ot.state=1):"x"in er&&(Ot.x=+er.x||0,Ot.y=+er.y||0,Ot.z=+er.z||0,Ot.w=+er.w||0,Ot.state=2)}for(vr=0;vr<_t.buffers.length;++vr)!kt[vr]&&_t.buffers[vr]&&(_t.buffers[vr].destroy(),_t.buffers[vr]=null);return _t.refresh(),Ve}var _t=new Ht;return yr.vaoCount+=1,Ve.destroy=function(){for(var kt=0;kt<_t.buffers.length;++kt)_t.buffers[kt]&&_t.buffers[kt].destroy();_t.buffers.length=0,_t.ownsElements&&(_t.elements.destroy(),_t.elements=null,_t.ownsElements=!1),_t.destroy()},Ve._vao=_t,Ve._reglType="vao",Ve(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var Ve=0;Ve<Jt.length;++Ve){var _t=Jt[Ve];_t.buffer===Ye&&(gt.disableVertexAttribArray(Ve),_t.buffer=null)}},setVAO:Zt.oes_vertex_array_object?bt:Et,clear:Zt.oes_vertex_array_object?Rt:function(){}};return Ht.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,Ve=this.attributes,_t=0;_t<Ve.length;++_t){var kt=Ve[_t];kt.buffer?(gt.enableVertexAttribArray(_t),gt.bindBuffer(34962,kt.buffer.buffer),gt.vertexAttribPointer(_t,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),Ye&&kt.divisor&&Ye.vertexAttribDivisorANGLE(_t,kt.divisor)):(gt.disableVertexAttribArray(_t),gt.vertexAttrib4f(_t,kt.x,kt.y,kt.z,kt.w))}for(Ye=Ve.length;Ye<Nt;++Ye)gt.disableVertexAttribArray(Ye);(Ye=mt.getElements(this.elements))?gt.bindBuffer(34963,Ye.buffer.buffer):gt.bindBuffer(34963,null)},Ht.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ye.bindVertexArrayOES(null))},Ht.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),fr[this.id]&&(delete fr[this.id],--yr.vaoCount)},dr}function O(gt,Zt,Qt,yr){function or(hr,fr,dr,Ye){this.name=hr,this.id=fr,this.location=dr,this.info=Ye}function mt(hr,fr){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===fr.id){hr[dr].location=fr.location;return}hr.push(fr)}function ut(hr,fr,dr){dr=hr===35632?Rt:Ht;var Ye=dr[fr];if(!Ye){var Ve=Zt.str(fr),Ye=gt.createShader(hr);gt.shaderSource(Ye,Ve),gt.compileShader(Ye),dr[fr]=Ye}return Ye}function bt(hr,fr){this.id=Jt++,this.fragId=hr,this.vertId=fr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,fr,dr){var Ye;Ye=ut(35632,hr.fragId);var Ve=ut(35633,hr.vertId);if(fr=hr.program=gt.createProgram(),gt.attachShader(fr,Ye),gt.attachShader(fr,Ve),dr)for(Ye=0;Ye<dr.length;++Ye)Ve=dr[Ye],gt.bindAttribLocation(fr,Ve[0],Ve[1]);gt.linkProgram(fr),Ve=gt.getProgramParameter(fr,35718),yr.profile&&(hr.stats.uniformsCount=Ve);var _t=hr.uniforms;for(Ye=0;Ye<Ve;++Ye)if(dr=gt.getActiveUniform(fr,Ye))if(1<dr.size)for(var kt=0;kt<dr.size;++kt){var Kt=dr.name.replace("[0]","["+kt+"]");mt(_t,new or(Kt,Zt.id(Kt),gt.getUniformLocation(fr,Kt),dr))}else mt(_t,new or(dr.name,Zt.id(dr.name),gt.getUniformLocation(fr,dr.name),dr));for(Ve=gt.getProgramParameter(fr,35721),yr.profile&&(hr.stats.attributesCount=Ve),hr=hr.attributes,Ye=0;Ye<Ve;++Ye)(dr=gt.getActiveAttrib(fr,Ye))&&mt(hr,new or(dr.name,Zt.id(dr.name),gt.getAttribLocation(fr,dr.name),dr))}var Rt={},Ht={},Bt={},Nt=[],Jt=0;return yr.profile&&(Qt.getMaxUniformsCount=function(){var hr=0;return Nt.forEach(function(fr){fr.stats.uniformsCount>hr&&(hr=fr.stats.uniformsCount)}),hr},Qt.getMaxAttributesCount=function(){var hr=0;return Nt.forEach(function(fr){fr.stats.attributesCount>hr&&(hr=fr.stats.attributesCount)}),hr}),{clear:function(){var hr=gt.deleteShader.bind(gt);Ae(Rt).forEach(hr),Rt={},Ae(Ht).forEach(hr),Ht={},Nt.forEach(function(fr){gt.deleteProgram(fr.program)}),Nt.length=0,Bt={},Qt.shaderCount=0},program:function(hr,fr,dr,Ye){var Ve=Bt[fr];Ve||(Ve=Bt[fr]={});var _t=Ve[hr];if(_t&&(_t.refCount++,!Ye))return _t;var kt=new bt(fr,hr);return Qt.shaderCount++,Et(kt,dr,Ye),_t||(Ve[hr]=kt),Nt.push(kt),q(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){gt.deleteProgram(kt.program);var Kt=Nt.indexOf(kt);Nt.splice(Kt,1),Qt.shaderCount--}0>=Ve[kt.vertId].refCount&&(gt.deleteShader(Ht[kt.vertId]),delete Ht[kt.vertId],delete Bt[kt.fragId][kt.vertId]),Object.keys(Bt[kt.fragId]).length||(gt.deleteShader(Rt[kt.fragId]),delete Rt[kt.fragId],delete Bt[kt.fragId])}})},restore:function(){Rt={},Ht={};for(var hr=0;hr<Nt.length;++hr)Et(Nt[hr],null,Nt[hr].attributes.map(function(fr){return[fr.location,fr.name]}))},shader:ut,frag:-1,vert:-1}}function B(gt,Zt,Qt,yr,or,mt,ut){function bt(Rt){var Ht;Ht=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,Jt=yr.framebufferWidth,hr=yr.framebufferHeight,fr=null;return Be(Rt)?fr=Rt:Rt&&(Bt=Rt.x|0,Nt=Rt.y|0,Jt=(Rt.width||yr.framebufferWidth-Bt)|0,hr=(Rt.height||yr.framebufferHeight-Nt)|0,fr=Rt.data||null),Qt(),Rt=Jt*hr*4,fr||(Ht===5121?fr=new Uint8Array(Rt):Ht===5126&&(fr=fr||new Float32Array(Rt))),gt.pixelStorei(3333,4),gt.readPixels(Bt,Nt,Jt,hr,6408,Ht,fr),fr}function Et(Rt){var Ht;return Zt.setFBO({framebuffer:Rt.framebuffer},function(){Ht=bt(Rt)}),Ht}return function(Rt){return Rt&&"framebuffer"in Rt?Et(Rt):bt(Rt)}}function z(gt){for(var Zt=Array(gt.length>>2),yr=0;yr<Zt.length;yr++)Zt[yr]=0;for(yr=0;yr<8*gt.length;yr+=8)Zt[yr>>5]|=(gt.charCodeAt(yr/8)&255)<<24-yr%32;var Qt=8*gt.length;gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),or,mt,ut,bt,Et,Rt,Ht,Bt,Nt,Jt,hr;for(Zt[Qt>>5]|=128<<24-Qt%32,Zt[(Qt+64>>9<<4)+15]=Qt,Bt=0;Bt<Zt.length;Bt+=16){for(Qt=gt[0],or=gt[1],mt=gt[2],ut=gt[3],bt=gt[4],Et=gt[5],Rt=gt[6],Ht=gt[7],Nt=0;64>Nt;Nt++){if(16>Nt)yr[Nt]=Zt[Nt+Bt];else{Jt=Nt,hr=yr[Nt-2],hr=J(hr,17)^J(hr,19)^hr>>>10,hr=re(hr,yr[Nt-7]);var fr;fr=yr[Nt-15],fr=J(fr,7)^J(fr,18)^fr>>>3,yr[Jt]=re(re(hr,fr),yr[Nt-16])}Jt=bt,Jt=J(Jt,6)^J(Jt,11)^J(Jt,25),Jt=re(re(re(re(Ht,Jt),bt&Et^~bt&Rt),et[Nt]),yr[Nt]),Ht=Qt,Ht=J(Ht,2)^J(Ht,13)^J(Ht,22),hr=re(Ht,Qt&or^Qt&mt^or&mt),Ht=Rt,Rt=Et,Et=bt,bt=re(ut,Jt),ut=mt,mt=or,or=Qt,Qt=re(Jt,hr)}gt[0]=re(Qt,gt[0]),gt[1]=re(or,gt[1]),gt[2]=re(mt,gt[2]),gt[3]=re(ut,gt[3]),gt[4]=re(bt,gt[4]),gt[5]=re(Et,gt[5]),gt[6]=re(Rt,gt[6]),gt[7]=re(Ht,gt[7])}for(Zt="",yr=0;yr<32*gt.length;yr+=8)Zt+=String.fromCharCode(gt[yr>>5]>>>24-yr%32&255);return Zt}function U(gt){for(var Zt="",Qt,yr=0;yr<gt.length;yr++)Qt=gt.charCodeAt(yr),Zt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Zt}function Z(gt){for(var Zt="",Qt=-1,yr,or;++Qt<gt.length;)yr=gt.charCodeAt(Qt),or=Qt+1<gt.length?gt.charCodeAt(Qt+1):0,55296<=yr&&56319>=yr&&56320<=or&&57343>=or&&(yr=65536+((yr&1023)<<10)+(or&1023),Qt++),127>=yr?Zt+=String.fromCharCode(yr):2047>=yr?Zt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Zt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Zt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Zt}function J(gt,Zt){return gt>>>Zt|gt<<32-Zt}function re(gt,Zt){var Qt=(gt&65535)+(Zt&65535);return(gt>>16)+(Zt>>16)+(Qt>>16)<<16|Qt&65535}function ne(gt){return Array.prototype.slice.call(gt)}function ue(gt){return ne(gt).join("")}function te(gt){function Zt(){var Ht=[],Bt=[];return q(function(){Ht.push.apply(Ht,ne(arguments))},{def:function(){var Nt="v"+or++;return Bt.push(Nt),0<arguments.length&&(Ht.push(Nt,"="),Ht.push.apply(Ht,ne(arguments)),Ht.push(";")),Nt},toString:function(){return ue([0<Bt.length?"var "+Bt.join(",")+";":"",ue(Ht)])}})}function Qt(){function Ht(fr,dr){Nt(fr,dr,"=",Bt.def(fr,dr),";")}var Bt=Zt(),Nt=Zt(),Jt=Bt.toString,hr=Nt.toString;return q(function(){Bt.apply(Bt,ne(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Ht,set:function(fr,dr,Ye){Ht(fr,dr),Bt(fr,dr,"=",Ye,";")},toString:function(){return Jt()+hr()}})}var yr=gt&&gt.cache,or=0,mt=[],ut=[],bt=[],Et=Zt(),Rt={};return{global:Et,link:function(Ht,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var Jt=0;Jt<ut.length;++Jt)if(ut[Jt]===Ht&&!bt[Jt])return mt[Jt]}return Jt="g"+or++,mt.push(Jt),ut.push(Ht),bt.push(Nt),Jt},block:Zt,proc:function(Ht,Bt){function Nt(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];Bt=Bt||0;for(var hr=0;hr<Bt;++hr)Nt();var hr=Qt(),fr=hr.toString;return Rt[Ht]=q(hr,{arg:Nt,toString:function(){return ue(["function(",Jt.join(),"){",fr(),"}"])}})},scope:Qt,cond:function(){var Ht=ue(arguments),Bt=Qt(),Nt=Qt(),Jt=Bt.toString,hr=Nt.toString;return q(Bt,{then:function(){return Bt.apply(Bt,ne(arguments)),this},else:function(){return Nt.apply(Nt,ne(arguments)),this},toString:function(){var fr=hr();return fr&&(fr="else{"+fr+"}"),ue(["if(",Ht,"){",Jt(),"}",fr])}})},compile:function(){var Ht=['"use strict";',Et,"return {"];Object.keys(Rt).forEach(function(Jt){Ht.push('"',Jt,'":',Rt[Jt].toString(),",")}),Ht.push("}");var Bt=ue(Ht).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return yr&&(Nt=U(z(Z(Bt))),yr[Nt])?yr[Nt].apply(null,ut):(Bt=Function.apply(null,mt.concat(Bt)),yr&&(yr[Nt]=Bt),Bt.apply(null,ut))}}}function Q(gt){return Array.isArray(gt)||Be(gt)||l(gt)}function ie(gt){return gt.sort(function(Zt,Qt){return Zt==="viewport"?-1:Qt==="viewport"?1:Zt<Qt?-1:1})}function Y(gt,Zt,Qt,yr){this.thisDep=gt,this.contextDep=Zt,this.propDep=Qt,this.append=yr}function $(gt){return gt&&!(gt.thisDep||gt.contextDep||gt.propDep)}function oe(gt){return new Y(!1,!1,!1,gt)}function j(gt,Zt){var Qt=gt.type;if(Qt===0)return Qt=gt.data.length,new Y(!0,1<=Qt,2<=Qt,Zt);if(Qt===4)return Qt=gt.data,new Y(Qt.thisDep,Qt.contextDep,Qt.propDep,Zt);if(Qt===5)return new Y(!1,!1,!1,Zt);if(Qt===6){for(var yr=Qt=!1,or=!1,mt=0;mt<gt.data.length;++mt){var ut=gt.data[mt];ut.type===1?or=!0:ut.type===2?yr=!0:ut.type===3?Qt=!0:ut.type===0?(Qt=!0,ut=ut.data,1<=ut&&(yr=!0),2<=ut&&(or=!0)):ut.type===4&&(Qt=Qt||ut.data.thisDep,yr=yr||ut.data.contextDep,or=or||ut.data.propDep)}return new Y(Qt,yr,or,Zt)}return new Y(Qt===3,Qt===2,Qt===1,Zt)}function X(gt,Zt,Qt,yr,or,mt,ut,bt,Et,Rt,Ht,Bt,Nt,Jt,hr,fr){function dr(Ar){return Ar.replace(".","_")}function Ye(Ar,zr,Sr){var Or=dr(Ar);xn.push(Ar),_n[Or]=vn[Or]=!!Sr,bn[Or]=zr}function Ve(Ar,zr,Sr){var Or=dr(Ar);xn.push(Ar),Array.isArray(Sr)?(vn[Or]=Sr.slice(),_n[Or]=Sr.slice()):vn[Or]=_n[Or]=Sr,Bn[Or]=zr}function _t(){var Ar=te({cache:hr}),zr=Ar.link,Sr=Ar.global;Ar.id=Ia++,Ar.batchId="0";var Or=zr(Jn),yn=Ar.shared={props:"a0"};Object.keys(Jn).forEach(function(Zr){yn[Zr]=Sr.def(Or,".",Zr)});var Rn=Ar.next={},pn=Ar.current={};Object.keys(Bn).forEach(function(Zr){Array.isArray(vn[Zr])&&(Rn[Zr]=Sr.def(yn.next,".",Zr),pn[Zr]=Sr.def(yn.current,".",Zr))});var sn=Ar.constants={};Object.keys(ha).forEach(function(Zr){sn[Zr]=Sr.def(JSON.stringify(ha[Zr]))}),Ar.invoke=function(Zr,Hr){switch(Hr.type){case 0:var en=["this",yn.context,yn.props,Ar.batchId];return Zr.def(zr(Hr.data),".call(",en.slice(0,Math.max(Hr.data.length+1,4)),")");case 1:return Zr.def(yn.props,Hr.data);case 2:return Zr.def(yn.context,Hr.data);case 3:return Zr.def("this",Hr.data);case 4:return Hr.data.append(Ar,Zr),Hr.data.ref;case 5:return Hr.data.toString();case 6:return Hr.data.map(function(wn){return Ar.invoke(Zr,wn)})}},Ar.attribCache={};var Er={};return Ar.scopeAttrib=function(Zr){if(Zr=Zt.id(Zr),Zr in Er)return Er[Zr];var Hr=Rt.scope[Zr];return Hr||(Hr=Rt.scope[Zr]=new ca),Er[Zr]=zr(Hr)},Ar}function kt(Ar){var zr=Ar.static;Ar=Ar.dynamic;var Sr;if("profile"in zr){var Or=!!zr.profile;Sr=oe(function(Rn,pn){return Or}),Sr.enable=Or}else if("profile"in Ar){var yn=Ar.profile;Sr=j(yn,function(Rn,pn){return Rn.invoke(pn,yn)})}return Sr}function Kt(Ar,zr){var Sr=Ar.static,Or=Ar.dynamic;if("framebuffer"in Sr){var yn=Sr.framebuffer;return yn?(yn=bt.getFramebuffer(yn),oe(function(pn,sn){var Er=pn.link(yn),Zr=pn.shared;return sn.set(Zr.framebuffer,".next",Er),Zr=Zr.context,sn.set(Zr,".framebufferWidth",Er+".width"),sn.set(Zr,".framebufferHeight",Er+".height"),Er})):oe(function(pn,sn){var Er=pn.shared;return sn.set(Er.framebuffer,".next","null"),Er=Er.context,sn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Or){var Rn=Or.framebuffer;return j(Rn,function(pn,sn){var Hr=pn.invoke(sn,Rn),Er=pn.shared,Zr=Er.framebuffer,Hr=sn.def(Zr,".getFramebuffer(",Hr,")");return sn.set(Zr,".next",Hr),Er=Er.context,sn.set(Er,".framebufferWidth",Hr+"?"+Hr+".width:"+Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Hr+"?"+Hr+".height:"+Er+".drawingBufferHeight"),Hr})}return null}function sr(Ar,zr,Sr){function Or(sn){if(sn in yn){var Er=yn[sn];sn=!0;var Zr=Er.x|0,Hr=Er.y|0,en,wn;return"width"in Er?en=Er.width|0:sn=!1,"height"in Er?wn=Er.height|0:sn=!1,new Y(!sn&&zr&&zr.thisDep,!sn&&zr&&zr.contextDep,!sn&&zr&&zr.propDep,function(Mn,Nn){var zn=Mn.shared.context,fa=en;"width"in Er||(fa=Nn.def(zn,".","framebufferWidth","-",Zr));var ia=wn;return"height"in Er||(ia=Nn.def(zn,".","framebufferHeight","-",Hr)),[Zr,Hr,fa,ia]})}if(sn in Rn){var Fn=Rn[sn];return sn=j(Fn,function(Mn,Nn){var La=Mn.invoke(Nn,Fn),zn=Mn.shared.context,fa=Nn.def(La,".x|0"),ia=Nn.def(La,".y|0"),pa=Nn.def('"width" in ',La,"?",La,".width|0:","(",zn,".","framebufferWidth","-",fa,")"),La=Nn.def('"height" in ',La,"?",La,".height|0:","(",zn,".","framebufferHeight","-",ia,")");return[fa,ia,pa,La]}),zr&&(sn.thisDep=sn.thisDep||zr.thisDep,sn.contextDep=sn.contextDep||zr.contextDep,sn.propDep=sn.propDep||zr.propDep),sn}return zr?new Y(zr.thisDep,zr.contextDep,zr.propDep,function(Mn,Nn){var zn=Mn.shared.context;return[0,0,Nn.def(zn,".","framebufferWidth"),Nn.def(zn,".","framebufferHeight")]}):null}var yn=Ar.static,Rn=Ar.dynamic;if(Ar=Or("viewport")){var pn=Ar;Ar=new Y(Ar.thisDep,Ar.contextDep,Ar.propDep,function(sn,Er){var Zr=pn.append(sn,Er),Hr=sn.shared.context;return Er.set(Hr,".viewportWidth",Zr[2]),Er.set(Hr,".viewportHeight",Zr[3]),Zr})}return{viewport:Ar,scissor_box:Or("scissor.box")}}function cr(Ar,zr){var Sr=Ar.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var Sr=zr.static,Or=Object.keys(Sr);if(0<Or.length&&typeof Sr[Or[0]]=="number"){for(var yn=[],Rn=0;Rn<Or.length;++Rn)yn.push([Sr[Or[Rn]]|0,Or[Rn]]);return yn}}return null}function er(Ar,zr,Sr){function Or(Zr){if(Zr in yn){var Hr=Zt.id(yn[Zr]);return Zr=oe(function(){return Hr}),Zr.id=Hr,Zr}if(Zr in Rn){var en=Rn[Zr];return j(en,function(wn,Fn){var Mn=wn.invoke(Fn,en);return Fn.def(wn.shared.strings,".id(",Mn,")")})}return null}var yn=Ar.static,Rn=Ar.dynamic,pn=Or("frag"),sn=Or("vert"),Er=null;return $(pn)&&$(sn)?(Er=Ht.program(sn.id,pn.id,null,Sr),Ar=oe(function(Zr,Hr){return Zr.link(Er)})):Ar=new Y(pn&&pn.thisDep||sn&&sn.thisDep,pn&&pn.contextDep||sn&&sn.contextDep,pn&&pn.propDep||sn&&sn.propDep,function(Zr,Hr){var en=Zr.shared.shader,wn;wn=pn?pn.append(Zr,Hr):Hr.def(en,".","frag");var Fn;return Fn=sn?sn.append(Zr,Hr):Hr.def(en,".","vert"),Hr.def(en+".program("+Fn+","+wn+")")}),{frag:pn,vert:sn,progVar:Ar,program:Er}}function Ot(Ar,zr){function Sr(Mn,Nn){if(Mn in Or){var zn=Or[Mn]|0;return Nn?Rn.offset=zn:Rn.instances=zn,oe(function(ia,pa){return Nn&&(ia.OFFSET=zn),zn})}if(Mn in yn){var fa=yn[Mn];return j(fa,function(ia,pa){var La=ia.invoke(pa,fa);return Nn&&(ia.OFFSET=La),La})}if(Nn){if(Er)return oe(function(ia,pa){return ia.OFFSET=0});if(pn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(ia,pa){return pa.def(ia.shared.vao+".currentVAO?"+ia.shared.vao+".currentVAO.offset:0")})}else if(pn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(ia,pa){return pa.def(ia.shared.vao+".currentVAO?"+ia.shared.vao+".currentVAO.instances:-1")});return null}var Or=Ar.static,yn=Ar.dynamic,Rn={},pn=!1,sn=function(){if("vao"in Or){var Mn=Or.vao;return Mn!==null&&Rt.getVAO(Mn)===null&&(Mn=Rt.createVAO(Mn)),pn=!0,Rn.vao=Mn,oe(function(zn){var fa=Rt.getVAO(Mn);return fa?zn.link(fa):"null"})}if("vao"in yn){pn=!0;var Nn=yn.vao;return j(Nn,function(zn,fa){var ia=zn.invoke(fa,Nn);return fa.def(zn.shared.vao+".getVAO("+ia+")")})}return null}(),Er=!1,Zr=function(){if("elements"in Or){var Mn=Or.elements;if(Rn.elements=Mn,Q(Mn)){var Nn=Rn.elements=mt.create(Mn,!0),Mn=mt.getElements(Nn);Er=!0}else Mn&&(Mn=mt.getElements(Mn),Er=!0);return Nn=oe(function(fa,ia){if(Mn){var pa=fa.link(Mn);return fa.ELEMENTS=pa}return fa.ELEMENTS=null}),Nn.value=Mn,Nn}if("elements"in yn){Er=!0;var zn=yn.elements;return j(zn,function(fa,ia){var pa=fa.shared,yi=pa.isBufferArgs,pa=pa.elements,ii=fa.invoke(ia,zn),La=ia.def("null"),yi=ia.def(yi,"(",ii,")"),ii=fa.cond(yi).then(La,"=",pa,".createStream(",ii,");").else(La,"=",pa,".getElements(",ii,");");return ia.entry(ii),ia.exit(fa.cond(yi).then(pa,".destroyStream(",La,");")),fa.ELEMENTS=La})}return pn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(fa,ia){return ia.def(fa.shared.vao+".currentVAO?"+fa.shared.elements+".getElements("+fa.shared.vao+".currentVAO.elements):null")}):null}(),Hr=Sr("offset",!0),en=function(){if("primitive"in Or){var Mn=Or.primitive;return Rn.primitive=Mn,oe(function(zn,fa){return $e[Mn]})}if("primitive"in yn){var Nn=yn.primitive;return j(Nn,function(zn,fa){var ia=zn.constants.primTypes,pa=zn.invoke(fa,Nn);return fa.def(ia,"[",pa,"]")})}return Er?$(Zr)?Zr.value?oe(function(zn,fa){return fa.def(zn.ELEMENTS,".primType")}):oe(function(){return 4}):new Y(Zr.thisDep,Zr.contextDep,Zr.propDep,function(zn,fa){var ia=zn.ELEMENTS;return fa.def(ia,"?",ia,".primType:",4)}):pn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(zn,fa){return fa.def(zn.shared.vao+".currentVAO?"+zn.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Or){var Mn=Or.count|0;return Rn.count=Mn,oe(function(){return Mn})}if("count"in yn){var Nn=yn.count;return j(Nn,function(zn,fa){return zn.invoke(fa,Nn)})}return Er?$(Zr)?Zr?Hr?new Y(Hr.thisDep,Hr.contextDep,Hr.propDep,function(zn,fa){return fa.def(zn.ELEMENTS,".vertCount-",zn.OFFSET)}):oe(function(zn,fa){return fa.def(zn.ELEMENTS,".vertCount")}):oe(function(){return-1}):new Y(Zr.thisDep||Hr.thisDep,Zr.contextDep||Hr.contextDep,Zr.propDep||Hr.propDep,function(zn,fa){var ia=zn.ELEMENTS;return zn.OFFSET?fa.def(ia,"?",ia,".vertCount-",zn.OFFSET,":-1"):fa.def(ia,"?",ia,".vertCount:-1")}):pn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(zn,fa){return fa.def(zn.shared.vao,".currentVAO?",zn.shared.vao,".currentVAO.count:-1")}):null}(),Fn=Sr("instances",!1);return{elements:Zr,primitive:en,count:wn,instances:Fn,offset:Hr,vao:sn,vaoActive:pn,elementsActive:Er,static:Rn}}function nr(Ar,zr){var Sr=Ar.static,Or=Ar.dynamic,yn={};return xn.forEach(function(Rn){function pn(Er,Zr){if(Rn in Sr){var Hr=Er(Sr[Rn]);yn[sn]=oe(function(){return Hr})}else if(Rn in Or){var en=Or[Rn];yn[sn]=j(en,function(wn,Fn){return Zr(wn,Fn,wn.invoke(Fn,en))})}}var sn=dr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return pn(function(Er){return Er},function(Er,Zr,Hr){return Hr});case"depth.func":return pn(function(Er){return jt[Er]},function(Er,Zr,Hr){return Zr.def(Er.constants.compareFuncs,"[",Hr,"]")});case"depth.range":return pn(function(Er){return Er},function(Er,Zr,Hr){return Er=Zr.def("+",Hr,"[0]"),Zr=Zr.def("+",Hr,"[1]"),[Er,Zr]});case"blend.func":return pn(function(Er){return[Gt["srcRGB"in Er?Er.srcRGB:Er.src],Gt["dstRGB"in Er?Er.dstRGB:Er.dst],Gt["srcAlpha"in Er?Er.srcAlpha:Er.src],Gt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Zr,Hr){function en(Nn,zn){return Zr.def('"',Nn,zn,'" in ',Hr,"?",Hr,".",Nn,zn,":",Hr,".",Nn)}Er=Er.constants.blendFuncs;var wn=en("src","RGB"),Mn=en("dst","RGB"),wn=Zr.def(Er,"[",wn,"]"),Fn=Zr.def(Er,"[",en("src","Alpha"),"]"),Mn=Zr.def(Er,"[",Mn,"]");return Er=Zr.def(Er,"[",en("dst","Alpha"),"]"),[wn,Mn,Fn,Er]});case"blend.equation":return pn(function(Er){if(typeof Er=="string")return[Vn[Er],Vn[Er]];if(typeof Er=="object")return[Vn[Er.rgb],Vn[Er.alpha]]},function(Er,Zr,Hr){var en=Er.constants.blendEquations,wn=Zr.def(),Fn=Zr.def();return Er=Er.cond("typeof ",Hr,'==="string"'),Er.then(wn,"=",Fn,"=",en,"[",Hr,"];"),Er.else(wn,"=",en,"[",Hr,".rgb];",Fn,"=",en,"[",Hr,".alpha];"),Zr(Er),[wn,Fn]});case"blend.color":return pn(function(Er){return a(4,function(Zr){return+Er[Zr]})},function(Er,Zr,Hr){return a(4,function(en){return Zr.def("+",Hr,"[",en,"]")})});case"stencil.mask":return pn(function(Er){return Er|0},function(Er,Zr,Hr){return Zr.def(Hr,"|0")});case"stencil.func":return pn(function(Er){return[jt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Zr,Hr){Er=Zr.def('"cmp" in ',Hr,"?",Er.constants.compareFuncs,"[",Hr,".cmp]",":",7680);var en=Zr.def(Hr,".ref|0");return Zr=Zr.def('"mask" in ',Hr,"?",Hr,".mask|0:-1"),[Er,en,Zr]});case"stencil.opFront":case"stencil.opBack":return pn(function(Er){return[Rn==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,Zr,Hr){function en(Fn){return Zr.def('"',Fn,'" in ',Hr,"?",wn,"[",Hr,".",Fn,"]:",7680)}var wn=Er.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,en("fail"),en("zfail"),en("zpass")]});case"polygonOffset.offset":return pn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Zr,Hr){return Er=Zr.def(Hr,".factor|0"),Zr=Zr.def(Hr,".units|0"),[Er,Zr]});case"cull.face":return pn(function(Er){var Zr=0;return Er==="front"?Zr=1028:Er==="back"&&(Zr=1029),Zr},function(Er,Zr,Hr){return Zr.def(Hr,'==="front"?',1028,":",1029)});case"lineWidth":return pn(function(Er){return Er},function(Er,Zr,Hr){return Hr});case"frontFace":return pn(function(Er){return Dt[Er]},function(Er,Zr,Hr){return Zr.def(Hr+'==="cw"?2304:2305')});case"colorMask":return pn(function(Er){return Er.map(function(Zr){return!!Zr})},function(Er,Zr,Hr){return a(4,function(en){return"!!"+Hr+"["+en+"]"})});case"sample.coverage":return pn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Zr,Hr){return Er=Zr.def('"value" in ',Hr,"?+",Hr,".value:1"),Zr=Zr.def("!!",Hr,".invert"),[Er,Zr]})}}),yn}function vr(Ar,zr){var Sr=Ar.static,Or=Ar.dynamic,yn={};return Object.keys(Sr).forEach(function(Rn){var pn=Sr[Rn],sn;if(typeof pn=="number"||typeof pn=="boolean")sn=oe(function(){return pn});else if(typeof pn=="function"){var Er=pn._reglType;Er==="texture2d"||Er==="textureCube"?sn=oe(function(Zr){return Zr.link(pn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(sn=oe(function(Zr){return Zr.link(pn.color[0])}))}else w(pn)&&(sn=oe(function(Zr){return Zr.global.def("[",a(pn.length,function(Hr){return pn[Hr]}),"]")}));sn.value=pn,yn[Rn]=sn}),Object.keys(Or).forEach(function(Rn){var pn=Or[Rn];yn[Rn]=j(pn,function(sn,Er){return sn.invoke(Er,pn)})}),yn}function wr(Ar,zr){var Sr=Ar.static,Or=Ar.dynamic,yn={};return Object.keys(Sr).forEach(function(Rn){var pn=Sr[Rn],sn=Zt.id(Rn),Er=new ca;if(Q(pn))Er.state=1,Er.buffer=or.getBuffer(or.create(pn,34962,!1,!0)),Er.type=0;else{var Zr=or.getBuffer(pn);if(Zr)Er.state=1,Er.buffer=Zr,Er.type=0;else if("constant"in pn){var Hr=pn.constant;Er.buffer="null",Er.state=2,typeof Hr=="number"?Er.x=Hr:st.forEach(function(zn,fa){fa<Hr.length&&(Er[zn]=Hr[fa])})}else{var Zr=Q(pn.buffer)?or.getBuffer(or.create(pn.buffer,34962,!1,!0)):or.getBuffer(pn.buffer),en=pn.offset|0,wn=pn.stride|0,Fn=pn.size|0,Mn=!!pn.normalized,Nn=0;"type"in pn&&(Nn=Fe[pn.type]),pn=pn.divisor|0,Er.buffer=Zr,Er.state=1,Er.size=Fn,Er.normalized=Mn,Er.type=Nn||Zr.dtype,Er.offset=en,Er.stride=wn,Er.divisor=pn}}yn[Rn]=oe(function(zn,fa){var ia=zn.attribCache;if(sn in ia)return ia[sn];var pa={isStream:!1};return Object.keys(Er).forEach(function(La){pa[La]=Er[La]}),Er.buffer&&(pa.buffer=zn.link(Er.buffer),pa.type=pa.type||pa.buffer+".dtype"),ia[sn]=pa})}),Object.keys(Or).forEach(function(Rn){var pn=Or[Rn];yn[Rn]=j(pn,function(sn,Er){function Zr(ia){Er(Mn[ia],"=",Hr,".",ia,"|0;")}var Hr=sn.invoke(Er,pn),Fn=sn.shared,en=sn.constants,wn=Fn.isBufferArgs,Fn=Fn.buffer,Mn={isStream:Er.def(!1)},Nn=new ca;Nn.state=1,Object.keys(Nn).forEach(function(ia){Mn[ia]=Er.def(""+Nn[ia])});var zn=Mn.buffer,fa=Mn.type;return Er("if(",wn,"(",Hr,")){",Mn.isStream,"=true;",zn,"=",Fn,".createStream(",34962,",",Hr,");",fa,"=",zn,".dtype;","}else{",zn,"=",Fn,".getBuffer(",Hr,");","if(",zn,"){",fa,"=",zn,".dtype;",'}else if("constant" in ',Hr,"){",Mn.state,"=",2,";","if(typeof "+Hr+'.constant === "number"){',Mn[st[0]],"=",Hr,".constant;",st.slice(1).map(function(ia){return Mn[ia]}).join("="),"=0;","}else{",st.map(function(ia,pa){return Mn[ia]+"="+Hr+".constant.length>"+pa+"?"+Hr+".constant["+pa+"]:0;"}).join(""),"}}else{","if(",wn,"(",Hr,".buffer)){",zn,"=",Fn,".createStream(",34962,",",Hr,".buffer);","}else{",zn,"=",Fn,".getBuffer(",Hr,".buffer);","}",fa,'="type" in ',Hr,"?",en.glTypes,"[",Hr,".type]:",zn,".dtype;",Mn.normalized,"=!!",Hr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Er("}}"),Er.exit("if(",Mn.isStream,"){",Fn,".destroyStream(",zn,");","}"),Mn})}),yn}function ur(Ar){var zr=Ar.static,Sr=Ar.dynamic,Or={};return Object.keys(zr).forEach(function(yn){var Rn=zr[yn];Or[yn]=oe(function(pn,sn){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:pn.link(Rn)})}),Object.keys(Sr).forEach(function(yn){var Rn=Sr[yn];Or[yn]=j(Rn,function(pn,sn){return pn.invoke(sn,Rn)})}),Or}function Vr(Ar,zr,Sr,Or,yn){function Rn(Nn){var zn=sn[Nn];zn&&(Zr[Nn]=zn)}var pn=cr(Ar,zr),wn=Kt(Ar),sn=sr(Ar,wn),Er=Ot(Ar),Zr=nr(Ar),Hr=er(Ar,yn,pn);Rn("viewport"),Rn(dr("scissor.box"));var en=0<Object.keys(Zr).length,wn={framebuffer:wn,draw:Er,shader:Hr,state:Zr,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=kt(Ar),wn.uniforms=vr(Sr),wn.drawVAO=wn.scopeVAO=Er.vao,!wn.drawVAO&&Hr.program&&!pn&&Qt.angle_instanced_arrays&&Er.static.elements){var Fn=!0;if(Ar=Hr.program.attributes.map(function(Nn){return Nn=zr.static[Nn],Fn=Fn&&!!Nn,Nn}),Fn&&0<Ar.length){var Mn=Rt.getVAO(Rt.createVAO({attributes:Ar,elements:Er.static.elements}));wn.drawVAO=new Y(null,null,null,function(Nn,zn){return Nn.link(Mn)}),wn.useVAO=!0}}return pn?wn.useVAO=!0:wn.attributes=wr(zr),wn.context=ur(Or),wn}function Pr(Ar,zr,Sr){var Or=Ar.shared.context,yn=Ar.scope();Object.keys(Sr).forEach(function(Rn){zr.save(Or,"."+Rn);var pn=Sr[Rn].append(Ar,zr);Array.isArray(pn)?yn(Or,".",Rn,"=[",pn.join(),"];"):yn(Or,".",Rn,"=",pn,";")}),zr(yn)}function Dr(Ar,zr,Sr,Or){var sn=Ar.shared,yn=sn.gl,Rn=sn.framebuffer,pn;Jr&&(pn=zr.def(sn.extensions,".webgl_draw_buffers"));var Er=Ar.constants,sn=Er.drawBuffer,Er=Er.backBuffer;Ar=Sr?Sr.append(Ar,zr):zr.def(Rn,".next"),Or||zr("if(",Ar,"!==",Rn,".cur){"),zr("if(",Ar,"){",yn,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),Jr&&zr(pn,".drawBuffersWEBGL(",sn,"[",Ar,".colorAttachments.length]);"),zr("}else{",yn,".bindFramebuffer(",36160,",null);"),Jr&&zr(pn,".drawBuffersWEBGL(",Er,");"),zr("}",Rn,".cur=",Ar,";"),Or||zr("}")}function ln(Ar,zr,Sr){var Or=Ar.shared,yn=Or.gl,Rn=Ar.current,pn=Ar.next,sn=Or.current,Er=Or.next,Zr=Ar.cond(sn,".dirty");xn.forEach(function(Hr){if(Hr=dr(Hr),!(Hr in Sr.state)){var en,wn;if(Hr in pn){en=pn[Hr],wn=Rn[Hr];var Fn=a(vn[Hr].length,function(Mn){return Zr.def(en,"[",Mn,"]")});Zr(Ar.cond(Fn.map(function(Mn,Nn){return Mn+"!=="+wn+"["+Nn+"]"}).join("||")).then(yn,".",Bn[Hr],"(",Fn,");",Fn.map(function(Mn,Nn){return wn+"["+Nn+"]="+Mn}).join(";"),";"))}else en=Zr.def(Er,".",Hr),Fn=Ar.cond(en,"!==",sn,".",Hr),Zr(Fn),Hr in bn?Fn(Ar.cond(en).then(yn,".enable(",bn[Hr],");").else(yn,".disable(",bn[Hr],");"),sn,".",Hr,"=",en,";"):Fn(yn,".",Bn[Hr],"(",en,");",sn,".",Hr,"=",en,";")}}),Object.keys(Sr.state).length===0&&Zr(sn,".dirty=false;"),zr(Zr)}function Wr(Ar,zr,Sr,Or){var yn=Ar.shared,Rn=Ar.current,pn=yn.current,sn=yn.gl,Er;ie(Object.keys(Sr)).forEach(function(Zr){var Hr=Sr[Zr];if(!Or||Or(Hr)){var en=Hr.append(Ar,zr);if(bn[Zr]){var wn=bn[Zr];$(Hr)?(Er=Ar.link(en,{stable:!0}),zr(Ar.cond(Er).then(sn,".enable(",wn,");").else(sn,".disable(",wn,");")),zr(pn,".",Zr,"=",Er,";")):(zr(Ar.cond(en).then(sn,".enable(",wn,");").else(sn,".disable(",wn,");")),zr(pn,".",Zr,"=",en,";"))}else if(w(en)){var Fn=Rn[Zr];zr(sn,".",Bn[Zr],"(",en,");",en.map(function(Mn,Nn){return Fn+"["+Nn+"]="+Mn}).join(";"),";")}else $(Hr)?(Er=Ar.link(en,{stable:!0}),zr(sn,".",Bn[Zr],"(",Er,");",pn,".",Zr,"=",Er,";")):zr(sn,".",Bn[Zr],"(",en,");",pn,".",Zr,"=",en,";")}})}function Tn(Ar,zr){mr&&(Ar.instancing=zr.def(Ar.shared.extensions,".angle_instanced_arrays"))}function An(Ar,zr,Sr,Or,yn){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function pn(Nn){Fn=zr.def(),Nn(Fn,"=",Rn(),";"),typeof yn=="string"?Nn(Hr,".count+=",yn,";"):Nn(Hr,".count++;"),Jt&&(Or?(Mn=zr.def(),Nn(Mn,"=",wn,".getNumPendingQueries();")):Nn(wn,".beginQuery(",Hr,");"))}function sn(Nn){Nn(Hr,".cpuTime+=",Rn(),"-",Fn,";"),Jt&&(Or?Nn(wn,".pushScopeStats(",Mn,",",wn,".getNumPendingQueries(),",Hr,");"):Nn(wn,".endQuery();"))}function Er(Nn){var zn=zr.def(en,".profile");zr(en,".profile=",Nn,";"),zr.exit(en,".profile=",zn,";")}var Zr=Ar.shared,Hr=Ar.stats,en=Zr.current,wn=Zr.timer;Sr=Sr.profile;var Fn,Mn;if(Sr){if($(Sr)){Sr.enable?(pn(zr),sn(zr.exit),Er("true")):Er("false");return}Sr=Sr.append(Ar,zr),Er(Sr)}else Sr=zr.def(en,".profile");Zr=Ar.block(),pn(Zr),zr("if(",Sr,"){",Zr,"}"),Ar=Ar.block(),sn(Ar),zr.exit("if(",Sr,"){",Ar,"}")}function Tr(Ar,zr,Sr,Or,yn){function Rn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function pn(Er,Zr,Hr){function en(){zr("if(!",Nn,".buffer){",Fn,".enableVertexAttribArray(",Mn,");}");var pa=Hr.type,La;La=Hr.size?zr.def(Hr.size,"||",Zr):Zr,zr("if(",Nn,".type!==",pa,"||",Nn,".size!==",La,"||",ia.map(function(yi){return Nn+"."+yi+"!=="+Hr[yi]}).join("||"),"){",Fn,".bindBuffer(",34962,",",zn,".buffer);",Fn,".vertexAttribPointer(",[Mn,La,pa,Hr.normalized,Hr.stride,Hr.offset],");",Nn,".type=",pa,";",Nn,".size=",La,";",ia.map(function(yi){return Nn+"."+yi+"="+Hr[yi]+";"}).join(""),"}"),mr&&(pa=Hr.divisor,zr("if(",Nn,".divisor!==",pa,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[Mn,pa],");",Nn,".divisor=",pa,";}"))}function wn(){zr("if(",Nn,".buffer){",Fn,".disableVertexAttribArray(",Mn,");",Nn,".buffer=null;","}if(",st.map(function(pa,La){return Nn+"."+pa+"!=="+fa[La]}).join("||"),"){",Fn,".vertexAttrib4f(",Mn,",",fa,");",st.map(function(pa,La){return Nn+"."+pa+"="+fa[La]+";"}).join(""),"}")}var Fn=sn.gl,Mn=zr.def(Er,".location"),Nn=zr.def(sn.attributes,"[",Mn,"]");Er=Hr.state;var zn=Hr.buffer,fa=[Hr.x,Hr.y,Hr.z,Hr.w],ia=["buffer","normalized","offset","stride"];Er===1?en():Er===2?wn():(zr("if(",Er,"===",1,"){"),en(),zr("}else{"),wn(),zr("}"))}var sn=Ar.shared;Or.forEach(function(Er){var Zr=Er.name,Hr=Sr.attributes[Zr],en;if(Hr){if(!yn(Hr))return;en=Hr.append(Ar,zr)}else{if(!yn(Xt))return;var wn=Ar.scopeAttrib(Zr);en={},Object.keys(new ca).forEach(function(Fn){en[Fn]=zr.def(wn,".",Fn)})}pn(Ar.link(Er),Rn(Er.info.type),en)})}function Fr(Ar,zr,Sr,Or,yn,Rn){for(var pn=Ar.shared,sn=pn.gl,Er,Zr=0;Zr<Or.length;++Zr){var Fn=Or[Zr],Hr=Fn.name,en=Fn.info.type,wn=Sr.uniforms[Hr],Fn=Ar.link(Fn)+".location",Mn;if(wn){if(!yn(wn))continue;if($(wn)){if(Hr=wn.value,en===35678||en===35680)en=Ar.link(Hr._texture||Hr.color[0]._texture),zr(sn,".uniform1i(",Fn,",",en+".bind());"),zr.exit(en,".unbind();");else if(en===35674||en===35675||en===35676)Hr=Ar.global.def("new Float32Array(["+Array.prototype.slice.call(Hr)+"])"),wn=2,en===35675?wn=3:en===35676&&(wn=4),zr(sn,".uniformMatrix",wn,"fv(",Fn,",false,",Hr,");");else{switch(en){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}zr(sn,".uniform",Er,"(",Fn,",",w(Hr)?Array.prototype.slice.call(Hr):Hr,");")}continue}else Mn=wn.append(Ar,zr)}else{if(!yn(Xt))continue;Mn=zr.def(pn.uniforms,"[",Zt.id(Hr),"]")}switch(en===35678?zr("if(",Mn,"&&",Mn,'._reglType==="framebuffer"){',Mn,"=",Mn,".color[0];","}"):en===35680&&zr("if(",Mn,"&&",Mn,'._reglType==="framebufferCube"){',Mn,"=",Mn,".color[0];","}"),Hr=1,en){case 35678:case 35680:en=zr.def(Mn,"._texture"),zr(sn,".uniform1i(",Fn,",",en,".bind());"),zr.exit(en,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Hr=2;break;case 35668:case 35672:Er="3i",Hr=3;break;case 35669:case 35673:Er="4i",Hr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Hr=2;break;case 35665:Er="3f",Hr=3;break;case 35666:Er="4f",Hr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){zr(sn,".uniform",Er,"(",Fn,",");var Fn=Math.pow(en-35674+2,2),Nn=Ar.global.def("new Float32Array(",Fn,")");Array.isArray(Mn)?zr("false,(",a(Fn,function(ia){return Nn+"["+ia+"]="+Mn[ia]}),",",Nn,")"):zr("false,(Array.isArray(",Mn,")||",Mn," instanceof Float32Array)?",Mn,":(",a(Fn,function(ia){return Nn+"["+ia+"]="+Mn+"["+ia+"]"}),",",Nn,")"),zr(");")}else{if(1<Hr){for(var en=[],zn=[],wn=0;wn<Hr;++wn)Array.isArray(Mn)?zn.push(Mn[wn]):zn.push(zr.def(Mn+"["+wn+"]")),Rn&&en.push(zr.def());Rn&&zr("if(!",Ar.batchId,"||",en.map(function(fa,ia){return fa+"!=="+zn[ia]}).join("||"),"){",en.map(function(fa,ia){return fa+"="+zn[ia]+";"}).join("")),zr(sn,".uniform",Er,"(",Fn,",",zn.join(","),");")}else Rn&&(en=zr.def(),zr("if(!",Ar.batchId,"||",en,"!==",Mn,"){",en,"=",Mn,";")),zr(sn,".uniform",Er,"(",Fn,",",Mn,");");Rn&&zr("}")}}}function Yr(Ar,zr,Sr,Or){function yn(pa){var La=Hr[pa];return La?La.contextDep&&Or.contextDynamic||La.propDep?La.append(Ar,Sr):La.append(Ar,zr):zr.def(Zr,".",pa)}function Rn(){function pa(){Sr(zn,".drawElementsInstancedANGLE(",[wn,Mn,fa,Fn+"<<(("+fa+"-5121)>>1)",Nn],");")}function La(){Sr(zn,".drawArraysInstancedANGLE(",[wn,Fn,Mn,Nn],");")}en&&en!=="null"?ia?pa():(Sr("if(",en,"){"),pa(),Sr("}else{"),La(),Sr("}")):La()}function pn(){function pa(){Sr(Er+".drawElements("+[wn,Mn,fa,Fn+"<<(("+fa+"-5121)>>1)"]+");")}function La(){Sr(Er+".drawArrays("+[wn,Fn,Mn]+");")}en&&en!=="null"?ia?pa():(Sr("if(",en,"){"),pa(),Sr("}else{"),La(),Sr("}")):La()}var sn=Ar.shared,Er=sn.gl,Zr=sn.draw,Hr=Or.draw,en=function(){var pa=Hr.elements,La=zr;return pa?((pa.contextDep&&Or.contextDynamic||pa.propDep)&&(La=Sr),pa=pa.append(Ar,La),Hr.elementsActive&&La("if("+pa+")"+Er+".bindBuffer(34963,"+pa+".buffer.buffer);")):(pa=La.def(),La(pa,"=",Zr,".","elements",";","if(",pa,"){",Er,".bindBuffer(",34963,",",pa,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",pa,"=",Ar.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",Qr?"":"if("+pa+")"+Er+".bindBuffer(34963,"+pa+".buffer.buffer);","}")),pa}(),wn=yn("primitive"),Fn=yn("offset"),Mn=function(){var pa=Hr.count,La=zr;return pa?((pa.contextDep&&Or.contextDynamic||pa.propDep)&&(La=Sr),pa=pa.append(Ar,La)):pa=La.def(Zr,".","count"),pa}();if(typeof Mn=="number"){if(Mn===0)return}else Sr("if(",Mn,"){"),Sr.exit("}");var Nn,zn;mr&&(Nn=yn("instances"),zn=Ar.instancing);var fa=en+".type",ia=Hr.elements&&$(Hr.elements)&&!Hr.vaoActive;mr&&(typeof Nn!="number"||0<=Nn)?typeof Nn=="string"?(Sr("if(",Nn,">0){"),Rn(),Sr("}else if(",Nn,"<0){"),pn(),Sr("}")):Rn():pn()}function _r(Ar,zr,Sr,Or,yn){return zr=_t(),yn=zr.proc("body",yn),mr&&(zr.instancing=yn.def(zr.shared.extensions,".angle_instanced_arrays")),Ar(zr,yn,Sr,Or),zr.compile().body}function on(Ar,zr,Sr,Or){Tn(Ar,zr),Sr.useVAO?Sr.drawVAO?zr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,zr),");"):zr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(zr(Ar.shared.vao,".setVAO(null);"),Tr(Ar,zr,Sr,Or.attributes,function(){return!0})),Fr(Ar,zr,Sr,Or.uniforms,function(){return!0},!1),Yr(Ar,zr,zr,Sr)}function un(Ar,zr){var Sr=Ar.proc("draw",1);Tn(Ar,Sr),Pr(Ar,Sr,zr.context),Dr(Ar,Sr,zr.framebuffer),ln(Ar,Sr,zr),Wr(Ar,Sr,zr.state),An(Ar,Sr,zr,!1,!0);var Or=zr.shader.progVar.append(Ar,Sr);if(Sr(Ar.shared.gl,".useProgram(",Or,".program);"),zr.shader.program)on(Ar,Sr,zr,zr.shader.program);else{Sr(Ar.shared.vao,".setVAO(null);");var yn=Ar.global.def("{}"),Rn=Sr.def(Or,".id"),pn=Sr.def(yn,"[",Rn,"]");Sr(Ar.cond(pn).then(pn,".call(this,a0);").else(pn,"=",yn,"[",Rn,"]=",Ar.link(function(sn){return _r(on,Ar,zr,sn,1)}),"(",Or,");",pn,".call(this,a0);"))}0<Object.keys(zr.state).length&&Sr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Sr(Ar.shared.vao,".setVAO(null);")}function Sn(Ar,zr,Sr,Or){function yn(){return!0}Ar.batchId="a1",Tn(Ar,zr),Tr(Ar,zr,Sr,Or.attributes,yn),Fr(Ar,zr,Sr,Or.uniforms,yn,!1),Yr(Ar,zr,zr,Sr)}function Ln(Ar,zr,Sr,Or){function yn(en){return en.contextDep&&pn||en.propDep}function Rn(en){return!yn(en)}Tn(Ar,zr);var pn=Sr.contextDep,sn=zr.def(),Er=zr.def();Ar.shared.props=Er,Ar.batchId=sn;var Zr=Ar.scope(),Hr=Ar.scope();zr(Zr.entry,"for(",sn,"=0;",sn,"<","a1",";++",sn,"){",Er,"=","a0","[",sn,"];",Hr,"}",Zr.exit),Sr.needsContext&&Pr(Ar,Hr,Sr.context),Sr.needsFramebuffer&&Dr(Ar,Hr,Sr.framebuffer),Wr(Ar,Hr,Sr.state,yn),Sr.profile&&yn(Sr.profile)&&An(Ar,Hr,Sr,!1,!0),Or?(Sr.useVAO?Sr.drawVAO?yn(Sr.drawVAO)?Hr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Hr),");"):Zr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Zr),");"):Zr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Zr(Ar.shared.vao,".setVAO(null);"),Tr(Ar,Zr,Sr,Or.attributes,Rn),Tr(Ar,Hr,Sr,Or.attributes,yn)),Fr(Ar,Zr,Sr,Or.uniforms,Rn,!1),Fr(Ar,Hr,Sr,Or.uniforms,yn,!0),Yr(Ar,Zr,Hr,Sr)):(zr=Ar.global.def("{}"),Or=Sr.shader.progVar.append(Ar,Hr),Er=Hr.def(Or,".id"),Zr=Hr.def(zr,"[",Er,"]"),Hr(Ar.shared.gl,".useProgram(",Or,".program);","if(!",Zr,"){",Zr,"=",zr,"[",Er,"]=",Ar.link(function(en){return _r(Sn,Ar,Sr,en,2)}),"(",Or,");}",Zr,".call(this,a0[",sn,"],",sn,");"))}function Un(Ar,zr){function Sr(Zr){return Zr.contextDep&&yn||Zr.propDep}var Or=Ar.proc("batch",2);Ar.batchId="0",Tn(Ar,Or);var yn=!1,Rn=!0;Object.keys(zr.context).forEach(function(Zr){yn=yn||zr.context[Zr].propDep}),yn||(Pr(Ar,Or,zr.context),Rn=!1);var pn=zr.framebuffer,sn=!1;if(pn?(pn.propDep?yn=sn=!0:pn.contextDep&&yn&&(sn=!0),sn||Dr(Ar,Or,pn)):Dr(Ar,Or,null),zr.state.viewport&&zr.state.viewport.propDep&&(yn=!0),ln(Ar,Or,zr),Wr(Ar,Or,zr.state,function(Zr){return!Sr(Zr)}),zr.profile&&Sr(zr.profile)||An(Ar,Or,zr,!1,"a1"),zr.contextDep=yn,zr.needsContext=Rn,zr.needsFramebuffer=sn,Rn=zr.shader.progVar,Rn.contextDep&&yn||Rn.propDep)Ln(Ar,Or,zr,null);else if(Rn=Rn.append(Ar,Or),Or(Ar.shared.gl,".useProgram(",Rn,".program);"),zr.shader.program)Ln(Ar,Or,zr,zr.shader.program);else{Or(Ar.shared.vao,".setVAO(null);");var pn=Ar.global.def("{}"),sn=Or.def(Rn,".id"),Er=Or.def(pn,"[",sn,"]");Or(Ar.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",pn,"[",sn,"]=",Ar.link(function(en){return _r(Ln,Ar,zr,en,2)}),"(",Rn,");",Er,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Or(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Or(Ar.shared.vao,".setVAO(null);")}function na(Ar,zr){function Sr(sn){var Er=zr.shader[sn];Er&&(Er=Er.append(Ar,Or),isNaN(Er)?Or.set(yn.shader,"."+sn,Er):Or.set(yn.shader,"."+sn,Ar.link(Er,{stable:!0})))}var Or=Ar.proc("scope",3);Ar.batchId="a2";var yn=Ar.shared,Rn=yn.current;if(Pr(Ar,Or,zr.context),zr.framebuffer&&zr.framebuffer.append(Ar,Or),ie(Object.keys(zr.state)).forEach(function(sn){var Er=zr.state[sn],Zr=Er.append(Ar,Or);w(Zr)?Zr.forEach(function(Hr,en){isNaN(Hr)?Or.set(Ar.next[sn],"["+en+"]",Hr):Or.set(Ar.next[sn],"["+en+"]",Ar.link(Hr,{stable:!0}))}):$(Er)?Or.set(yn.next,"."+sn,Ar.link(Zr,{stable:!0})):Or.set(yn.next,"."+sn,Zr)}),An(Ar,Or,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(sn){var Er=zr.draw[sn];Er&&(Er=Er.append(Ar,Or),isNaN(Er)?Or.set(yn.draw,"."+sn,Er):Or.set(yn.draw,"."+sn,Ar.link(Er),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(sn){var Er=zr.uniforms[sn].append(Ar,Or);Array.isArray(Er)&&(Er="["+Er.map(function(Zr){return isNaN(Zr)?Zr:Ar.link(Zr,{stable:!0})})+"]"),Or.set(yn.uniforms,"["+Ar.link(Zt.id(sn),{stable:!0})+"]",Er)}),Object.keys(zr.attributes).forEach(function(sn){var Er=zr.attributes[sn].append(Ar,Or),Zr=Ar.scopeAttrib(sn);Object.keys(new ca).forEach(function(Hr){Or.set(Zr,"."+Hr,Er[Hr])})}),zr.scopeVAO){var pn=zr.scopeVAO.append(Ar,Or);isNaN(pn)?Or.set(yn.vao,".targetVAO",pn):Or.set(yn.vao,".targetVAO",Ar.link(pn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(zr.state).length&&(Or(Rn,".dirty=true;"),Or.exit(Rn,".dirty=true;")),Or("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function ga(Ar){if(typeof Ar=="object"&&!w(Ar)){for(var zr=Object.keys(Ar),Sr=0;Sr<zr.length;++Sr)if(ye.isDynamic(Ar[zr[Sr]]))return!0;return!1}}function xa(Ar,zr,Sr){function Or(en,wn){pn.forEach(function(Fn){var Mn=yn[Fn];ye.isDynamic(Mn)&&(Mn=en.invoke(wn,Mn),wn(Hr,".",Fn,"=",Mn,";"))})}var yn=zr.static[Sr];if(yn&&ga(yn)){var Rn=Ar.global,pn=Object.keys(yn),sn=!1,Er=!1,Zr=!1,Hr=Ar.global.def("{}");pn.forEach(function(en){var wn=yn[en];if(ye.isDynamic(wn))typeof wn=="function"&&(wn=yn[en]=ye.unbox(wn)),en=j(wn,null),sn=sn||en.thisDep,Zr=Zr||en.propDep,Er=Er||en.contextDep;else{switch(Rn(Hr,".",en,"="),typeof wn){case"number":Rn(wn);break;case"string":Rn('"',wn,'"');break;case"object":Array.isArray(wn)&&Rn("[",wn.join(),"]");break;default:Rn(Ar.link(wn))}Rn(";")}}),zr.dynamic[Sr]=new ye.DynamicVariable(4,{thisDep:sn,contextDep:Er,propDep:Zr,ref:Hr,append:Or}),delete zr.static[Sr]}}var ca=Rt.Record,Vn={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(Vn.min=32775,Vn.max=32776);var mr=Qt.angle_instanced_arrays,Jr=Qt.webgl_draw_buffers,Qr=Qt.oes_vertex_array_object,vn={dirty:!0,profile:fr.profile},_n={},xn=[],bn={},Bn={};Ye("dither",3024),Ye("blend.enable",3042),Ve("blend.color","blendColor",[0,0,0,0]),Ve("blend.equation","blendEquationSeparate",[32774,32774]),Ve("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),Ve("depth.func","depthFunc",513),Ve("depth.range","depthRange",[0,1]),Ve("depth.mask","depthMask",!0),Ve("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),Ve("cull.face","cullFace",1029),Ve("frontFace","frontFace",2305),Ve("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),Ve("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),Ve("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),Ve("stencil.mask","stencilMask",-1),Ve("stencil.func","stencilFunc",[519,0,-1]),Ve("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ve("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),Ve("scissor.box","scissor",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]),Ve("viewport","viewport",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]);var Jn={gl:gt,context:Nt,strings:Zt,next:_n,current:vn,draw:Bt,elements:mt,buffer:or,shader:Ht,attributes:Rt.state,vao:Rt,uniforms:Et,framebuffer:bt,extensions:Qt,timer:Jt,isBufferArgs:Q},ha={primTypes:$e,compareFuncs:jt,blendFuncs:Gt,blendEquations:Vn,stencilOps:Tt,glTypes:Fe,orientationType:Dt};Jr&&(ha.backBuffer=[1029],ha.drawBuffer=a(yr.maxDrawbuffers,function(Ar){return Ar===0?[0]:a(Ar,function(zr){return 36064+zr})}));var Ia=0;return{next:_n,current:vn,procs:function(){var Ar=_t(),zr=Ar.proc("poll"),Sr=Ar.proc("refresh"),Or=Ar.block();zr(Or),Sr(Or);var Er=Ar.shared,yn=Er.gl,Rn=Er.next,pn=Er.current;Or(pn,".dirty=false;"),Dr(Ar,zr),Dr(Ar,Sr,null,!0);var sn;mr&&(sn=Ar.link(mr)),Qt.oes_vertex_array_object&&Sr(Ar.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Sr.def(Er.attributes),Zr=Sr.def(0),Hr=Ar.cond(Zr,".buffer");Hr.then(yn,".enableVertexAttribArray(i);",yn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",yn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(yn,".disableVertexAttribArray(i);",yn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var en=Ar.link(yr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",en,";++i){",Zr,"=",Er,"[i];",Hr,"}"),mr&&Sr("for(var i=0;i<",en,";++i){",sn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Sr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(bn).forEach(function(wn){var Fn=bn[wn],Mn=Or.def(Rn,".",wn),Nn=Ar.block();Nn("if(",Mn,"){",yn,".enable(",Fn,")}else{",yn,".disable(",Fn,")}",pn,".",wn,"=",Mn,";"),Sr(Nn),zr("if(",Mn,"!==",pn,".",wn,"){",Nn,"}")}),Object.keys(Bn).forEach(function(wn){var Fn=Bn[wn],Mn=vn[wn],Nn,zn,fa=Ar.block();fa(yn,".",Fn,"("),w(Mn)?(Fn=Mn.length,Nn=Ar.global.def(Rn,".",wn),zn=Ar.global.def(pn,".",wn),fa(a(Fn,function(ia){return Nn+"["+ia+"]"}),");",a(Fn,function(ia){return zn+"["+ia+"]="+Nn+"["+ia+"];"}).join("")),zr("if(",a(Fn,function(ia){return Nn+"["+ia+"]!=="+zn+"["+ia+"]"}).join("||"),"){",fa,"}")):(Nn=Or.def(Rn,".",wn),zn=Or.def(pn,".",wn),fa(Nn,");",pn,".",wn,"=",Nn,";"),zr("if(",Nn,"!==",zn,"){",fa,"}")),Sr(fa)}),Ar.compile()}(),compile:function(Ar,zr,Sr,Or,yn){var Rn=_t();Rn.stats=Rn.link(yn),Object.keys(zr.static).forEach(function(sn){xa(Rn,zr,sn)}),lt.forEach(function(sn){xa(Rn,Ar,sn)});var pn=Vr(Ar,zr,Sr,Or,Rn);return pn.shader.program&&(pn.shader.program.attributes.sort(function(sn,Er){return sn.name<Er.name?-1:1}),pn.shader.program.uniforms.sort(function(sn,Er){return sn.name<Er.name?-1:1})),un(Rn,pn),na(Rn,pn),Un(Rn,pn),q(Rn.compile(),{destroy:function(){pn.shader.program.destroy()}})}}}function se(gt,Zt){for(var Qt=0;Qt<gt.length;++Qt)if(gt[Qt]===Zt)return Qt;return-1}var q=function(gt,Zt){for(var Qt=Object.keys(Zt),yr=0;yr<Qt.length;++yr)gt[Qt[yr]]=Zt[Qt[yr]];return gt},ce=0,ye={DynamicVariable:V,define:function(gt,Zt){return new V(gt,m(Zt+""))},isDynamic:function(gt){return typeof gt=="function"&&!gt._reglType||gt instanceof V},unbox:P,accessor:m},we={next:typeof requestAnimationFrame=="function"?function(gt){return requestAnimationFrame(gt)}:function(gt){return setTimeout(gt,16)},cancel:typeof cancelAnimationFrame=="function"?function(gt){return cancelAnimationFrame(gt)}:clearTimeout},be=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},De=f();De.zero=f();var ke=function(gt,Zt){var Qt=1;Zt.ext_texture_filter_anisotropic&&(Qt=gt.getParameter(34047));var yr=1,or=1;Zt.webgl_draw_buffers&&(yr=gt.getParameter(34852),or=gt.getParameter(36063));var mt=!!Zt.oes_texture_float;if(mt){mt=gt.createTexture(),gt.bindTexture(3553,mt),gt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=gt.createFramebuffer();if(gt.bindFramebuffer(36160,ut),gt.framebufferTexture2D(36160,36064,3553,mt,0),gt.bindTexture(3553,null),gt.checkFramebufferStatus(36160)!==36053)mt=!1;else{gt.viewport(0,0,1,1),gt.clearColor(1,0,0,1),gt.clear(16384);var bt=De.allocType(5126,4);gt.readPixels(0,0,1,1,6408,5126,bt),gt.getError()?mt=!1:(gt.deleteFramebuffer(ut),gt.deleteTexture(mt),mt=bt[0]===1),De.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=gt.createTexture(),ut=De.allocType(5121,36),gt.activeTexture(33984),gt.bindTexture(34067,bt),gt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),De.freeType(ut),gt.bindTexture(34067,null),gt.deleteTexture(bt),bt=!gt.getError()),{colorBits:[gt.getParameter(3410),gt.getParameter(3411),gt.getParameter(3412),gt.getParameter(3413)],depthBits:gt.getParameter(3414),stencilBits:gt.getParameter(3415),subpixelBits:gt.getParameter(3408),extensions:Object.keys(Zt).filter(function(Et){return!!Zt[Et]}),maxAnisotropic:Qt,maxDrawbuffers:yr,maxColorAttachments:or,pointSizeDims:gt.getParameter(33901),lineWidthDims:gt.getParameter(33902),maxViewportDims:gt.getParameter(3386),maxCombinedTextureUnits:gt.getParameter(35661),maxCubeMapSize:gt.getParameter(34076),maxRenderbufferSize:gt.getParameter(34024),maxTextureUnits:gt.getParameter(34930),maxTextureSize:gt.getParameter(3379),maxAttributes:gt.getParameter(34921),maxVertexUniforms:gt.getParameter(36347),maxVertexTextureUnits:gt.getParameter(35660),maxVaryingVectors:gt.getParameter(36348),maxFragmentUniforms:gt.getParameter(36349),glsl:gt.getParameter(35724),renderer:gt.getParameter(7937),vendor:gt.getParameter(7936),version:gt.getParameter(7938),readFloat:mt,npotTextureCube:bt}},Be=function(gt){return gt instanceof Uint8Array||gt instanceof Uint16Array||gt instanceof Uint32Array||gt instanceof Int8Array||gt instanceof Int16Array||gt instanceof Int32Array||gt instanceof Float32Array||gt instanceof Float64Array||gt instanceof Uint8ClampedArray},Ae=function(gt){return Object.keys(gt).map(function(Zt){return gt[Zt]})},Ie={shape:function(gt){for(var Zt=[];gt.length;gt=gt[0])Zt.push(gt.length);return Zt},flatten:function(gt,Zt,Qt,yr){var or=1;if(Zt.length)for(var mt=0;mt<Zt.length;++mt)or*=Zt[mt];else or=0;switch(Qt=yr||De.allocType(Qt,or),Zt.length){case 0:break;case 1:for(yr=Zt[0],Zt=0;Zt<yr;++Zt)Qt[Zt]=gt[Zt];break;case 2:for(yr=Zt[0],Zt=Zt[1],mt=or=0;mt<yr;++mt)for(var ut=gt[mt],bt=0;bt<Zt;++bt)Qt[or++]=ut[bt];break;case 3:u(gt,Zt[0],Zt[1],Zt[2],Qt,0);break;default:g(gt,Zt,0,Qt,0)}return Qt}},Me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Fe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ee={dynamic:35048,stream:35040,static:35044},He=Ie.flatten,rt=Ie.shape,ot=[];ot[5120]=1,ot[5122]=2,ot[5124]=4,ot[5121]=1,ot[5123]=2,ot[5125]=4,ot[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ht=new Uint32Array(qe.buffer),vt=[9984,9986,9985,9987],pt=[0,6409,6410,6407,6408],wt={};wt[6409]=wt[6406]=wt[6402]=1,wt[34041]=wt[6410]=2,wt[6407]=wt[35904]=3,wt[6408]=wt[35906]=4;var Mt=C("HTMLCanvasElement"),nt=C("OffscreenCanvas"),_e=C("CanvasRenderingContext2D"),Ge=C("ImageBitmap"),je=C("HTMLImageElement"),We=C("HTMLVideoElement"),Pe=Object.keys(Me).concat([Mt,nt,_e,Ge,je,We]),Re=[];Re[5121]=1,Re[5126]=4,Re[36193]=2,Re[5123]=2,Re[5125]=4;var Xe=[];Xe[32854]=2,Xe[32855]=2,Xe[36194]=2,Xe[34041]=4,Xe[33776]=.5,Xe[33777]=.5,Xe[33778]=1,Xe[33779]=1,Xe[35986]=.5,Xe[35987]=1,Xe[34798]=1,Xe[35840]=.5,Xe[35841]=.25,Xe[35842]=.5,Xe[35843]=.25,Xe[36196]=.5;var Le=[];Le[32854]=2,Le[32855]=2,Le[36194]=2,Le[33189]=2,Le[36168]=1,Le[34041]=4,Le[35907]=4,Le[34836]=16,Le[34842]=8,Le[34843]=6;var ve=function(gt,Zt,Qt,yr,or){function mt(Bt){this.id=Rt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function ut(Bt){var Nt=Bt.renderbuffer;gt.bindRenderbuffer(36161,null),gt.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Ht[Bt.id],yr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(bt.srgba=35907),Zt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Zt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Bt){Et[bt[Bt]]=Bt});var Rt=0,Ht={};return mt.prototype.decRef=function(){0>=--this.refCount&&ut(this)},or.profile&&(yr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Ht).forEach(function(Nt){Bt+=Ht[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function Jt(fr,dr){var Ye=0,Ve=0,_t=32854;if(typeof fr=="object"&&fr?("shape"in fr?(Ve=fr.shape,Ye=Ve[0]|0,Ve=Ve[1]|0):("radius"in fr&&(Ye=Ve=fr.radius|0),"width"in fr&&(Ye=fr.width|0),"height"in fr&&(Ve=fr.height|0)),"format"in fr&&(_t=bt[fr.format])):typeof fr=="number"?(Ye=fr|0,Ve=typeof dr=="number"?dr|0:Ye):fr||(Ye=Ve=1),Ye!==hr.width||Ve!==hr.height||_t!==hr.format)return Jt.width=hr.width=Ye,Jt.height=hr.height=Ve,hr.format=_t,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,_t,Ye,Ve),or.profile&&(hr.stats.size=Le[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new mt(gt.createRenderbuffer());return Ht[hr.id]=hr,yr.renderbufferCount++,Jt(Bt,Nt),Jt.resize=function(fr,dr){var Ye=fr|0,Ve=dr|0||Ye;return Ye===hr.width&&Ve===hr.height||(Jt.width=hr.width=Ye,Jt.height=hr.height=Ve,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,hr.format,Ye,Ve),or.profile&&(hr.stats.size=Le[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,or.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){Ae(Ht).forEach(ut)},restore:function(){Ae(Ht).forEach(function(Bt){Bt.renderbuffer=gt.createRenderbuffer(),gt.bindRenderbuffer(36161,Bt.renderbuffer),gt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),gt.bindRenderbuffer(36161,null)}}},xe=[];xe[6408]=4,xe[6407]=3;var Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Gt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Dt={cw:2304,ccw:2305},Xt=new Y(!1,!1,!1,function(){}),gr=function(gt,Zt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Ht,Bt,Nt){var Jt=ut.pop()||new Qt;Jt.startQueryIndex=Ht,Jt.endQueryIndex=Bt,Jt.sum=0,Jt.stats=Nt,bt.push(Jt)}if(!Zt.ext_disjoint_timer_query)return null;var or=[],mt=[],ut=[],bt=[],Et=[],Rt=[];return{beginQuery:function(Ht){var Bt=or.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),mt.push(Bt),yr(mt.length-1,mt.length,Ht)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Ht,Bt;if(Ht=mt.length,Ht!==0){Rt.length=Math.max(Rt.length,Ht+1),Et.length=Math.max(Et.length,Ht+1),Et[0]=0;var Nt=Rt[0]=0;for(Bt=Ht=0;Bt<mt.length;++Bt){var Jt=mt[Bt];Zt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Nt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),or.push(Jt)):mt[Ht++]=Jt,Et[Bt+1]=Nt,Rt[Bt+1]=Ht}for(mt.length=Ht,Bt=Ht=0;Bt<bt.length;++Bt){var Nt=bt[Bt],hr=Nt.startQueryIndex,Jt=Nt.endQueryIndex;Nt.sum+=Et[Jt]-Et[hr],hr=Rt[hr],Jt=Rt[Jt],Jt===hr?(Nt.stats.gpuTime+=Nt.sum/1e6,ut.push(Nt)):(Nt.startQueryIndex=hr,Nt.endQueryIndex=Jt,bt[Ht++]=Nt)}bt.length=Ht}},getNumPendingQueries:function(){return mt.length},clear:function(){or.push.apply(or,mt);for(var Ht=0;Ht<or.length;Ht++)Zt.ext_disjoint_timer_query.deleteQueryEXT(or[Ht]);mt.length=0,or.length=0},restore:function(){mt.length=0,or.length=0}}};return function(gt){function Zt(){if(An.length===0)_t&&_t.update(),_r=null;else{_r=we.next(Zt),Ht();for(var un=An.length-1;0<=un;--un){var Sn=An[un];Sn&&Sn(sr,null,0)}Jt.flush(),_t&&_t.update()}}function Qt(){!_r&&0<An.length&&(_r=we.next(Zt))}function yr(){_r&&(we.cancel(Zt),_r=null)}function or(un){un.preventDefault(),yr(),Tr.forEach(function(Sn){Sn()})}function mt(un){Jt.getError(),fr.restore(),wr.restore(),Ot.restore(),ur.restore(),Vr.restore(),Pr.restore(),vr.restore(),_t&&_t.restore(),Dr.procs.refresh(),Qt(),Fr.forEach(function(Sn){Sn()})}function ut(un){function Sn(vn,_n){var xn={},bn={};return Object.keys(vn).forEach(function(Bn){var Jn=vn[Bn];if(ye.isDynamic(Jn))bn[Bn]=ye.unbox(Jn,Bn);else{if(_n&&Array.isArray(Jn)){for(var ha=0;ha<Jn.length;++ha)if(ye.isDynamic(Jn[ha])){bn[Bn]=ye.unbox(Jn,Bn);return}}xn[Bn]=Jn}}),{dynamic:bn,static:xn}}function Ln(vn){for(;Qr.length<vn;)Qr.push(null);return Qr}var Un=Sn(un.context||{},!0),na=Sn(un.uniforms||{},!0),ga=Sn(un.attributes||{},!1);un=Sn(function(vn){function _n(bn){if(bn in xn){var Bn=xn[bn];delete xn[bn],Object.keys(Bn).forEach(function(Jn){xn[bn+"."+Jn]=Bn[Jn]})}}var xn=q({},vn);return delete xn.uniforms,delete xn.attributes,delete xn.context,delete xn.vao,"stencil"in xn&&xn.stencil.op&&(xn.stencil.opBack=xn.stencil.opFront=xn.stencil.op,delete xn.stencil.op),_n("blend"),_n("depth"),_n("cull"),_n("stencil"),_n("polygonOffset"),_n("scissor"),_n("sample"),"vao"in vn&&(xn.vao=vn.vao),xn}(un),!1);var xa={gpuTime:0,cpuTime:0,count:0},ca=Dr.compile(un,ga,na,Un,xa),Vn=ca.draw,mr=ca.batch,Jr=ca.scope,Qr=[];return q(function(vn,_n){var xn;if(typeof vn=="function")return Jr.call(this,null,vn,0);if(typeof _n=="function")if(typeof vn=="number")for(xn=0;xn<vn;++xn)Jr.call(this,null,_n,xn);else if(Array.isArray(vn))for(xn=0;xn<vn.length;++xn)Jr.call(this,vn[xn],_n,xn);else return Jr.call(this,vn,_n,0);else if(typeof vn=="number"){if(0<vn)return mr.call(this,Ln(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return mr.call(this,vn,vn.length)}else return Vn.call(this,vn)},{stats:xa,destroy:function(){ca.destroy()}})}function bt(un,Sn){var Ln=0;Dr.procs.poll();var Un=Sn.color;Un&&(Jt.clearColor(+Un[0]||0,+Un[1]||0,+Un[2]||0,+Un[3]||0),Ln|=16384),"depth"in Sn&&(Jt.clearDepth(+Sn.depth),Ln|=256),"stencil"in Sn&&(Jt.clearStencil(Sn.stencil|0),Ln|=1024),Jt.clear(Ln)}function Et(un){return An.push(un),Qt(),{cancel:function(){function Sn(){var Un=se(An,Sn);An[Un]=An[An.length-1],--An.length,0>=An.length&&yr()}var Ln=se(An,un);An[Ln]=Sn}}}function Rt(){var un=Wr.viewport,Sn=Wr.scissor_box;un[0]=un[1]=Sn[0]=Sn[1]=0,sr.viewportWidth=sr.framebufferWidth=sr.drawingBufferWidth=un[2]=Sn[2]=Jt.drawingBufferWidth,sr.viewportHeight=sr.framebufferHeight=sr.drawingBufferHeight=un[3]=Sn[3]=Jt.drawingBufferHeight}function Ht(){sr.tick+=1,sr.time=Nt(),Rt(),Dr.procs.poll()}function Bt(){ur.refresh(),Rt(),Dr.procs.refresh(),_t&&_t.update()}function Nt(){return(be()-kt)/1e3}if(gt=r(gt),!gt)return null;var Jt=gt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var fr=t(Jt,gt);if(!fr)return null;var ln=i(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=gt.cachedCode||{},Ve=fr.extensions,_t=gr(Jt,Ve),kt=be(),cr=Jt.drawingBufferWidth,Kt=Jt.drawingBufferHeight,sr={tick:0,time:0,viewportWidth:cr,viewportHeight:Kt,framebufferWidth:cr,framebufferHeight:Kt,drawingBufferWidth:cr,drawingBufferHeight:Kt,pixelRatio:gt.pixelRatio},cr={elements:null,primitive:4,count:-1,offset:0,instances:-1},er=ke(Jt,Ve),Ot=o(Jt,dr,gt,function(un){return vr.destroyBuffer(un)}),nr=d(Jt,Ve,Ot,dr),vr=_(Jt,Ve,er,dr,Ot,nr,cr),wr=O(Jt,ln,dr,gt),ur=F(Jt,Ve,er,function(){Dr.procs.poll()},sr,dr,gt),Vr=ve(Jt,Ve,er,dr,gt),Pr=I(Jt,Ve,er,ur,Vr,dr),Dr=X(Jt,ln,Ve,er,Ot,nr,ur,Pr,{},vr,wr,cr,sr,_t,Ye,gt),ln=B(Jt,Pr,Dr.procs.poll,sr),Wr=Dr.next,Tn=Jt.canvas,An=[],Tr=[],Fr=[],Yr=[gt.onDestroy],_r=null;Tn&&(Tn.addEventListener("webglcontextlost",or,!1),Tn.addEventListener("webglcontextrestored",mt,!1));var on=Pr.setFBO=ut({framebuffer:ye.define.call(null,1,"framebuffer")});return Bt(),hr=q(ut,{clear:function(un){if("framebuffer"in un)if(un.framebuffer&&un.framebuffer_reglType==="framebufferCube")for(var Sn=0;6>Sn;++Sn)on(q({framebuffer:un.framebuffer.faces[Sn]},un),bt);else on(un,bt);else bt(null,un)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:ut({}),buffer:function(un){return Ot.create(un,34962,!1,!1)},elements:function(un){return nr.create(un,!1)},texture:ur.create2D,cube:ur.createCube,renderbuffer:Vr.create,framebuffer:Pr.create,framebufferCube:Pr.createCube,vao:vr.createVAO,attributes:hr,frame:Et,on:function(un,Sn){var Ln;switch(un){case"frame":return Et(Sn);case"lost":Ln=Tr;break;case"restore":Ln=Fr;break;case"destroy":Ln=Yr}return Ln.push(Sn),{cancel:function(){for(var Un=0;Un<Ln.length;++Un)if(Ln[Un]===Sn){Ln[Un]=Ln[Ln.length-1],Ln.pop();break}}}},limits:er,hasExtension:function(un){return 0<=er.extensions.indexOf(un.toLowerCase())},read:ln,destroy:function(){An.length=0,yr(),Tn&&(Tn.removeEventListener("webglcontextlost",or),Tn.removeEventListener("webglcontextrestored",mt)),wr.clear(),Pr.clear(),Vr.clear(),vr.clear(),ur.clear(),nr.clear(),Ot.clear(),_t&&_t.clear(),Yr.forEach(function(un){un()})},_gl:Jt,_refresh:Bt,poll:function(){Ht(),_t&&_t.update()},now:Nt,stats:dr,getCachedCode:function(){return Ye},preloadCachedCode:function(un){Object.entries(un).forEach(function(Sn){Ye[Sn[0]]=Sn[1]})}}),gt.onDone(null,hr),hr}})},30456:function(G,V,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=e(33576),P=m.Buffer;function i(S,v){for(var p in S)v[p]=S[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=m:(i(m,V),V.Buffer=L);function L(S,v,p){return P(S,v,p)}L.prototype=Object.create(P.prototype),i(P,L),L.from=function(S,v,p){if(typeof S=="number")throw new TypeError("Argument must not be a number");return P(S,v,p)},L.alloc=function(S,v,p){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=P(S);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return P(S)},L.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},14500:function(G,V,e){var m=e(53664),P=e(64348),i=e(39640)(),L=e(2304),S=m("%TypeError%"),v=m("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&L){var l=L(r,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(f=!1)}return(n||f||!a)&&(i?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(G,V,e){G.exports=i;var m=e(61252).EventEmitter,P=e(6768);P(i,m),i.Readable=e(12348),i.Writable=e(11288),i.Duplex=e(15316),i.Transform=e(22477),i.PassThrough=e(27136),i.finished=e(15932),i.pipeline=e(38180),i.Stream=i;function i(){m.call(this)}i.prototype.pipe=function(L,S){var v=this;function p(u){L.writable&&L.write(u)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!S||S.end!==!1)&&(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function f(u){if(l(),m.listenerCount(this,"error")===0)throw u}v.on("error",f),L.on("error",f);function l(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",f),L.removeListener("error",f),v.removeListener("end",l),v.removeListener("close",l),L.removeListener("close",l)}return v.on("end",l),v.on("close",l),L.on("close",l),L.emit("pipe",v),L}},92784:function(G){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function m(v,p,r){r||(r=Error);function t(n,f,l){return typeof p=="string"?p:p(n,f,l)}var a=function(n){V(f,n);function f(l,u,g){return n.call(this,t(l,u,g))||this}return f}(r);a.prototype.name=r.name,a.prototype.code=v,e[v]=a}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function i(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function S(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}m("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&i(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var a;if(L(v," argument"))a="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=S(v,".")?"property":"argument";a='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,V,e){var m=e(4168),P=Object.keys||function(n){var f=[];for(var l in n)f.push(l);return f};G.exports=r;var i=e(12348),L=e(11288);e(6768)(r,i);for(var S=P(L.prototype),v=0;v<S.length;v++){var p=S[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||m.nextTick(a,this)}function a(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(G,V,e){G.exports=P;var m=e(22477);e(6768)(P,m);function P(i){if(!(this instanceof P))return new P(i);m.call(this,i)}P.prototype._transform=function(i,L,S){S(null,i)}},12348:function(G,V,e){var m=e(4168);G.exports=s;var P;s.ReadableState=A,e(61252).EventEmitter;var i=function(X,se){return X.listeners(se).length},L=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(j){return S.from(j)}function r(j){return S.isBuffer(j)||j instanceof v}var t=e(19768),a;t&&t.debuglog?a=t.debuglog("stream"):a=function(){};var n=e(47264),f=e(55324),l=e(24888),u=l.getHighWaterMark,g=e(92784).i,h=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,c=g.ERR_METHOD_NOT_IMPLEMENTED,o=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,w;e(6768)(s,L);var C=f.errorOrDestroy,y=["error","close","destroy","pause","resume"];function M(j,X,se){if(typeof j.prependListener=="function")return j.prependListener(X,se);!j._events||!j._events[X]?j.on(X,se):Array.isArray(j._events[X])?j._events[X].unshift(se):j._events[X]=[se,j._events[X]]}function A(j,X,se){P=P||e(15316),j=j||{},typeof se!="boolean"&&(se=X instanceof P),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=u(this,j,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(d||(d=e(86032).o),this.decoder=new d(j.encoding),this.encoding=j.encoding)}function s(j){if(P=P||e(15316),!(this instanceof s))return new s(j);var X=this instanceof P;this._readableState=new A(j,this,X),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),L.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),s.prototype.destroy=f.destroy,s.prototype._undestroy=f.undestroy,s.prototype._destroy=function(j,X){X(j)},s.prototype.push=function(j,X){var se=this._readableState,q;return se.objectMode?q=!0:typeof j=="string"&&(X=X||se.defaultEncoding,X!==se.encoding&&(j=S.from(j,X),X=""),q=!0),E(this,j,X,!1,q)},s.prototype.unshift=function(j){return E(this,j,null,!0,!1)};function E(j,X,se,q,ce){a("readableAddChunk",X);var ye=j._readableState;if(X===null)ye.reading=!1,O(j,ye);else{var we;if(ce||(we=F(ye,X)),we)C(j,we);else if(ye.objectMode||X&&X.length>0)if(typeof X!="string"&&!ye.objectMode&&Object.getPrototypeOf(X)!==S.prototype&&(X=p(X)),q)ye.endEmitted?C(j,new o):b(j,ye,X,!0);else if(ye.ended)C(j,new T);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!se?(X=ye.decoder.write(X),ye.objectMode||X.length!==0?b(j,ye,X,!1):U(j,ye)):b(j,ye,X,!1)}else q||(ye.reading=!1,U(j,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function b(j,X,se,q){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,j.emit("data",se)):(X.length+=X.objectMode?1:se.length,q?X.buffer.unshift(se):X.buffer.push(se),X.needReadable&&B(j)),U(j,X)}function F(j,X){var se;return!r(X)&&typeof X!="string"&&X!==void 0&&!j.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],X)),se}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(j){d||(d=e(86032).o);var X=new d(j);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,q="";se!==null;)q+=X.write(se.data),se=se.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var I=1073741824;function N(j){return j>=I?j=I:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function _(j,X){return j<=0||X.length===0&&X.ended?0:X.objectMode?1:j!==j?X.flowing&&X.length?X.buffer.head.data.length:X.length:(j>X.highWaterMark&&(X.highWaterMark=N(j)),j<=X.length?j:X.ended?X.length:(X.needReadable=!0,0))}s.prototype.read=function(j){a("read",j),j=parseInt(j,10);var X=this._readableState,se=j;if(j!==0&&(X.emittedReadable=!1),j===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return a("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Y(this):B(this),null;if(j=_(j,X),j===0&&X.ended)return X.length===0&&Y(this),null;var q=X.needReadable;a("need readable",q),(X.length===0||X.length-j<X.highWaterMark)&&(q=!0,a("length less than watermark",q)),X.ended||X.reading?(q=!1,a("reading or ended",q)):q&&(a("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(j=_(se,X)));var ce;return j>0?ce=ie(j,X):ce=null,ce===null?(X.needReadable=X.length<=X.highWaterMark,j=0):(X.length-=j,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),se!==j&&X.ended&&Y(this)),ce!==null&&this.emit("data",ce),ce};function O(j,X){if(a("onEofChunk"),!X.ended){if(X.decoder){var se=X.decoder.end();se&&se.length&&(X.buffer.push(se),X.length+=X.objectMode?1:se.length)}X.ended=!0,X.sync?B(j):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,z(j)))}}function B(j){var X=j._readableState;a("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(a("emitReadable",X.flowing),X.emittedReadable=!0,m.nextTick(z,j))}function z(j){var X=j._readableState;a("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(j.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,Q(j)}function U(j,X){X.readingMore||(X.readingMore=!0,m.nextTick(Z,j,X))}function Z(j,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var se=X.length;if(a("maybeReadMore read 0"),j.read(0),se===X.length)break}X.readingMore=!1}s.prototype._read=function(j){C(this,new c("_read()"))},s.prototype.pipe=function(j,X){var se=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=j;break;case 1:q.pipes=[q.pipes,j];break;default:q.pipes.push(j);break}q.pipesCount+=1,a("pipe count=%d opts=%j",q.pipesCount,X);var ce=(!X||X.end!==!1)&&j!==m.stdout&&j!==m.stderr,ye=ce?be:Ee;q.endEmitted?m.nextTick(ye):se.once("end",ye),j.on("unpipe",we);function we(He,rt){a("onunpipe"),He===se&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,Be())}function be(){a("onend"),j.end()}var De=J(se);j.on("drain",De);var ke=!1;function Be(){a("cleanup"),j.removeListener("close",Me),j.removeListener("finish",Fe),j.removeListener("drain",De),j.removeListener("error",Ie),j.removeListener("unpipe",we),se.removeListener("end",be),se.removeListener("end",Ee),se.removeListener("data",Ae),ke=!0,q.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&De()}se.on("data",Ae);function Ae(He){a("ondata");var rt=j.write(He);a("dest.write",rt),rt===!1&&((q.pipesCount===1&&q.pipes===j||q.pipesCount>1&&oe(q.pipes,j)!==-1)&&!ke&&(a("false write response, pause",q.awaitDrain),q.awaitDrain++),se.pause())}function Ie(He){a("onerror",He),Ee(),j.removeListener("error",Ie),i(j,"error")===0&&C(j,He)}M(j,"error",Ie);function Me(){j.removeListener("finish",Fe),Ee()}j.once("close",Me);function Fe(){a("onfinish"),j.removeListener("close",Me),Ee()}j.once("finish",Fe);function Ee(){a("unpipe"),se.unpipe(j)}return j.emit("pipe",se),q.flowing||(a("pipe resume"),se.resume()),j};function J(j){return function(){var se=j._readableState;a("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&i(j,"data")&&(se.flowing=!0,Q(j))}}s.prototype.unpipe=function(j){var X=this._readableState,se={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return j&&j!==X.pipes?this:(j||(j=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var q=X.pipes,ce=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var ye=0;ye<ce;ye++)q[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var we=oe(X.pipes,j);return we===-1?this:(X.pipes.splice(we,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),j.emit("unpipe",this,se),this)},s.prototype.on=function(j,X){var se=L.prototype.on.call(this,j,X),q=this._readableState;return j==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):j==="readable"&&!q.endEmitted&&!q.readableListening&&(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,a("on readable",q.length,q.reading),q.length?B(this):q.reading||m.nextTick(ne,this)),se},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(j,X){var se=L.prototype.removeListener.call(this,j,X);return j==="readable"&&m.nextTick(re,this),se},s.prototype.removeAllListeners=function(j){var X=L.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&m.nextTick(re,this),X};function re(j){var X=j._readableState;X.readableListening=j.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:j.listenerCount("data")>0&&j.resume()}function ne(j){a("readable nexttick read 0"),j.read(0)}s.prototype.resume=function(){var j=this._readableState;return j.flowing||(a("resume"),j.flowing=!j.readableListening,ue(this,j)),j.paused=!1,this};function ue(j,X){X.resumeScheduled||(X.resumeScheduled=!0,m.nextTick(te,j,X))}function te(j,X){a("resume",X.reading),X.reading||j.read(0),X.resumeScheduled=!1,j.emit("resume"),Q(j),X.flowing&&!X.reading&&j.read(0)}s.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(j){var X=j._readableState;for(a("flow",X.flowing);X.flowing&&j.read()!==null;);}s.prototype.wrap=function(j){var X=this,se=this._readableState,q=!1;j.on("end",function(){if(a("wrapped end"),se.decoder&&!se.ended){var we=se.decoder.end();we&&we.length&&X.push(we)}X.push(null)}),j.on("data",function(we){if(a("wrapped data"),se.decoder&&(we=se.decoder.write(we)),!(se.objectMode&&we==null)&&!(!se.objectMode&&(!we||!we.length))){var be=X.push(we);be||(q=!0,j.pause())}});for(var ce in j)this[ce]===void 0&&typeof j[ce]=="function"&&(this[ce]=function(be){return function(){return j[be].apply(j,arguments)}}(ce));for(var ye=0;ye<y.length;ye++)j.on(y[ye],this.emit.bind(this,y[ye]));return this._read=function(we){a("wrapped _read",we),q&&(q=!1,j.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),s._fromList=ie,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie(j,X){if(X.length===0)return null;var se;return X.objectMode?se=X.buffer.shift():!j||j>=X.length?(X.decoder?se=X.buffer.join(""):X.buffer.length===1?se=X.buffer.first():se=X.buffer.concat(X.length),X.buffer.clear()):se=X.buffer.consume(j,X.decoder),se}function Y(j){var X=j._readableState;a("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,m.nextTick($,X,j))}function $(j,X){if(a("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,X.readable=!1,X.emit("end"),j.autoDestroy)){var se=X._writableState;(!se||se.autoDestroy&&se.finished)&&X.destroy()}}typeof Symbol=="function"&&(s.from=function(j,X){return w===void 0&&(w=e(90555)),w(s,j,X)});function oe(j,X){for(var se=0,q=j.length;se<q;se++)if(j[se]===X)return se;return-1}},22477:function(G,V,e){G.exports=r;var m=e(92784).i,P=m.ERR_METHOD_NOT_IMPLEMENTED,i=m.ERR_MULTIPLE_CALLBACK,L=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=m.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,f){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new i);l.writechunk=null,l.writecb=null,f!=null&&this.push(f),u(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,l){a(n,f,l)}):a(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,l){l(new P("_transform()"))},r.prototype._write=function(n,f,l){var u=this._transformState;if(u.writecb=l,u.writechunk=n,u.writeencoding=f,!u.transforming){var g=this._readableState;(u.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(l){f(l)})};function a(n,f,l){if(f)return n.emit("error",f);if(l!=null&&n.push(l),n._writableState.length)throw new S;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(G,V,e){var m=e(4168);G.exports=A;function P(Q){var ie=this;this.next=null,this.entry=null,this.finish=function(){te(ie,Q)}}var i;A.WritableState=y;var L={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(Q){return v.from(Q)}function t(Q){return v.isBuffer(Q)||Q instanceof p}var a=e(55324),n=e(24888),f=n.getHighWaterMark,l=e(92784).i,u=l.ERR_INVALID_ARG_TYPE,g=l.ERR_METHOD_NOT_IMPLEMENTED,h=l.ERR_MULTIPLE_CALLBACK,T=l.ERR_STREAM_CANNOT_PIPE,c=l.ERR_STREAM_DESTROYED,o=l.ERR_STREAM_NULL_VALUES,d=l.ERR_STREAM_WRITE_AFTER_END,x=l.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;e(6768)(A,S);function C(){}function y(Q,ie,Y){i=i||e(15316),Q=Q||{},typeof Y!="boolean"&&(Y=ie instanceof i),this.objectMode=!!Q.objectMode,Y&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=f(this,Q,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=Q.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){O(ie,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}y.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,Y=[];ie;)Y.push(ie),ie=ie.next;return Y},function(){try{Object.defineProperty(y.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(ie){return M.call(this,ie)?!0:this!==A?!1:ie&&ie._writableState instanceof y}})):M=function(ie){return ie instanceof this};function A(Q){i=i||e(15316);var ie=this instanceof i;if(!ie&&!M.call(A,this))return new A(Q);this._writableState=new y(Q,this,ie),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),S.call(this)}A.prototype.pipe=function(){w(this,new T)};function s(Q,ie){var Y=new d;w(Q,Y),m.nextTick(ie,Y)}function E(Q,ie,Y,$){var oe;return Y===null?oe=new o:typeof Y!="string"&&!ie.objectMode&&(oe=new u("chunk",["string","Buffer"],Y)),oe?(w(Q,oe),m.nextTick($,oe),!1):!0}A.prototype.write=function(Q,ie,Y){var $=this._writableState,oe=!1,j=!$.objectMode&&t(Q);return j&&!v.isBuffer(Q)&&(Q=r(Q)),typeof ie=="function"&&(Y=ie,ie=null),j?ie="buffer":ie||(ie=$.defaultEncoding),typeof Y!="function"&&(Y=C),$.ending?s(this,Y):(j||E(this,$,Q,Y))&&($.pendingcb++,oe=F(this,$,j,Q,ie,Y)),oe},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&U(this,Q))},A.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new x(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Q,ie,Y){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof ie=="string"&&(ie=v.from(ie,Y)),ie}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(Q,ie,Y,$,oe,j){if(!Y){var X=b(ie,$,oe);$!==X&&(Y=!0,oe="buffer",$=X)}var se=ie.objectMode?1:$.length;ie.length+=se;var q=ie.length<ie.highWaterMark;if(q||(ie.needDrain=!0),ie.writing||ie.corked){var ce=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:$,encoding:oe,isBuf:Y,callback:j,next:null},ce?ce.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else I(Q,ie,!1,se,$,oe,j);return q}function I(Q,ie,Y,$,oe,j,X){ie.writelen=$,ie.writecb=X,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new c("write")):Y?Q._writev(oe,ie.onwrite):Q._write(oe,j,ie.onwrite),ie.sync=!1}function N(Q,ie,Y,$,oe){--ie.pendingcb,Y?(m.nextTick(oe,$),m.nextTick(ne,Q,ie),Q._writableState.errorEmitted=!0,w(Q,$)):(oe($),Q._writableState.errorEmitted=!0,w(Q,$),ne(Q,ie))}function _(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function O(Q,ie){var Y=Q._writableState,$=Y.sync,oe=Y.writecb;if(typeof oe!="function")throw new h;if(_(Y),ie)N(Q,Y,$,ie,oe);else{var j=Z(Y)||Q.destroyed;!j&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&U(Q,Y),$?m.nextTick(B,Q,Y,j,oe):B(Q,Y,j,oe)}}function B(Q,ie,Y,$){Y||z(Q,ie),ie.pendingcb--,$(),ne(Q,ie)}function z(Q,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,Q.emit("drain"))}function U(Q,ie){ie.bufferProcessing=!0;var Y=ie.bufferedRequest;if(Q._writev&&Y&&Y.next){var $=ie.bufferedRequestCount,oe=new Array($),j=ie.corkedRequestsFree;j.entry=Y;for(var X=0,se=!0;Y;)oe[X]=Y,Y.isBuf||(se=!1),Y=Y.next,X+=1;oe.allBuffers=se,I(Q,ie,!0,ie.length,oe,"",j.finish),ie.pendingcb++,ie.lastBufferedRequest=null,j.next?(ie.corkedRequestsFree=j.next,j.next=null):ie.corkedRequestsFree=new P(ie),ie.bufferedRequestCount=0}else{for(;Y;){var q=Y.chunk,ce=Y.encoding,ye=Y.callback,we=ie.objectMode?1:q.length;if(I(Q,ie,!1,we,q,ce,ye),Y=Y.next,ie.bufferedRequestCount--,ie.writing)break}Y===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=Y,ie.bufferProcessing=!1}A.prototype._write=function(Q,ie,Y){Y(new g("_write()"))},A.prototype._writev=null,A.prototype.end=function(Q,ie,Y){var $=this._writableState;return typeof Q=="function"?(Y=Q,Q=null,ie=null):typeof ie=="function"&&(Y=ie,ie=null),Q!=null&&this.write(Q,ie),$.corked&&($.corked=1,this.uncork()),$.ending||ue(this,$,Y),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Z(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function J(Q,ie){Q._final(function(Y){ie.pendingcb--,Y&&w(Q,Y),ie.prefinished=!0,Q.emit("prefinish"),ne(Q,ie)})}function re(Q,ie){!ie.prefinished&&!ie.finalCalled&&(typeof Q._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,m.nextTick(J,Q,ie)):(ie.prefinished=!0,Q.emit("prefinish")))}function ne(Q,ie){var Y=Z(ie);if(Y&&(re(Q,ie),ie.pendingcb===0&&(ie.finished=!0,Q.emit("finish"),ie.autoDestroy))){var $=Q._readableState;(!$||$.autoDestroy&&$.endEmitted)&&Q.destroy()}return Y}function ue(Q,ie,Y){ie.ending=!0,ne(Q,ie),Y&&(ie.finished?m.nextTick(Y):Q.once("finish",Y)),ie.ended=!0,Q.writable=!1}function te(Q,ie,Y){var $=Q.entry;for(Q.entry=null;$;){var oe=$.callback;ie.pendingcb--,oe(Y),$=$.next}ie.corkedRequestsFree.next=Q}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),A.prototype.destroy=a.destroy,A.prototype._undestroy=a.undestroy,A.prototype._destroy=function(Q,ie){ie(Q)}},60328:function(G,V,e){var m=e(4168),P;function i(o,d,x){return d in o?Object.defineProperty(o,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[d]=x,o}var L=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),n=Symbol("stream");function f(o,d){return{value:o,done:d}}function l(o){var d=o[S];if(d!==null){var x=o[n].read();x!==null&&(o[t]=null,o[S]=null,o[v]=null,d(f(x,!1)))}}function u(o){m.nextTick(l,o)}function g(o,d){return function(x,w){o.then(function(){if(d[r]){x(f(void 0,!0));return}d[a](x,w)},w)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,x=this[p];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(M,A){m.nextTick(function(){d[p]?A(d[p]):M(f(void 0,!0))})});var w=this[t],C;if(w)C=new Promise(g(w,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(f(y,!1));C=new Promise(this[a])}return this[t]=C,C}},i(P,Symbol.asyncIterator,function(){return this}),i(P,"return",function(){var d=this;return new Promise(function(x,w){d[n].destroy(null,function(C){if(C){w(C);return}x(f(void 0,!0))})})}),P),h),c=function(d){var x,w=Object.create(T,(x={},i(x,n,{value:d,writable:!0}),i(x,S,{value:null,writable:!0}),i(x,v,{value:null,writable:!0}),i(x,p,{value:null,writable:!0}),i(x,r,{value:d._readableState.endEmitted,writable:!0}),i(x,a,{value:function(y,M){var A=w[n].read();A?(w[t]=null,w[S]=null,w[v]=null,y(f(A,!1))):(w[S]=y,w[v]=M)},writable:!0}),x));return w[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=w[v];y!==null&&(w[t]=null,w[S]=null,w[v]=null,y(C)),w[p]=C;return}var M=w[S];M!==null&&(w[t]=null,w[S]=null,w[v]=null,M(f(void 0,!0))),w[r]=!0}),d.on("readable",u.bind(null,w)),w};G.exports=c},47264:function(G,V,e){function m(l,u){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);u&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(l,T).enumerable})),g.push.apply(g,h)}return g}function P(l){for(var u=1;u<arguments.length;u++){var g=arguments[u]!=null?arguments[u]:{};u%2?m(Object(g),!0).forEach(function(h){i(l,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):m(Object(g)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(g,h))})}return l}function i(l,u,g){return u in l?Object.defineProperty(l,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[u]=g,l}function L(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function S(l,u){for(var g=0;g<u.length;g++){var h=u[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function v(l,u,g){return u&&S(l.prototype,u),g&&S(l,g),l}var p=e(33576),r=p.Buffer,t=e(21576),a=t.inspect,n=a&&a.custom||"inspect";function f(l,u,g){r.prototype.copy.call(l,u,g)}G.exports=function(){function l(){L(this,l),this.head=null,this.tail=null,this.length=0}return v(l,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=g+h.data;return T}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(g>>>0),T=this.head,c=0;T;)f(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(g,h){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=h?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,T=1,c=h.data;for(g-=c.length;h=h.next;){var o=h.data,d=g>o.length?o.length:g;if(d===o.length?c+=o:c+=o.slice(0,g),g-=d,g===0){d===o.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(g){var h=r.allocUnsafe(g),T=this.head,c=1;for(T.data.copy(h),g-=T.data.length;T=T.next;){var o=T.data,d=g>o.length?o.length:g;if(o.copy(h,h.length-g,0,d),g-=d,g===0){d===o.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=o.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(g,h){return a(this,P({},h,{depth:0,customInspect:!1}))}}]),l}()},55324:function(G,V,e){var m=e(4168);function P(r,t){var a=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(v,this,r)):m.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!t&&l?a._writableState?a._writableState.errorEmitted?m.nextTick(L,a):(a._writableState.errorEmitted=!0,m.nextTick(i,a,l)):m.nextTick(i,a,l):t?(m.nextTick(L,a),t(l)):m.nextTick(L,a)}),this)}function i(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var a=r._readableState,n=r._writableState;a&&a.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:S,errorOrDestroy:p}},15932:function(G,V,e){var m=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];v.apply(this,t)}}}function i(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function S(v,p,r){if(typeof p=="function")return S(v,null,p);p||(p={}),r=P(r||i);var t=p.readable||p.readable!==!1&&v.readable,a=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||l()},f=v._writableState&&v._writableState.finished,l=function(){a=!1,f=!0,t||r.call(v)},u=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,u=!0,a||r.call(v)},h=function(d){r.call(v,d)},T=function(){var d;if(t&&!u)return(!v._readableState||!v._readableState.ended)&&(d=new m),r.call(v,d);if(a&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new m),r.call(v,d)},c=function(){v.req.on("finish",l)};return L(v)?(v.on("complete",l),v.on("abort",T),v.req?c():v.on("request",c)):a&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",l),p.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",l),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",l),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",l),v.removeListener("end",g),v.removeListener("error",h),v.removeListener("close",T)}}G.exports=S},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,V,e){var m;function P(l){var u=!1;return function(){u||(u=!0,l.apply(void 0,arguments))}}var i=e(92784).i,L=i.ERR_MISSING_ARGS,S=i.ERR_STREAM_DESTROYED;function v(l){if(l)throw l}function p(l){return l.setHeader&&typeof l.abort=="function"}function r(l,u,g,h){h=P(h);var T=!1;l.on("close",function(){T=!0}),m===void 0&&(m=e(15932)),m(l,{readable:u,writable:g},function(o){if(o)return h(o);T=!0,h()});var c=!1;return function(o){if(!T&&!c){if(c=!0,p(l))return l.abort();if(typeof l.destroy=="function")return l.destroy();h(o||new S("pipe"))}}}function t(l){l()}function a(l,u){return l.pipe(u)}function n(l){return!l.length||typeof l[l.length-1]!="function"?v:l.pop()}function f(){for(var l=arguments.length,u=new Array(l),g=0;g<l;g++)u[g]=arguments[g];var h=n(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new L("streams");var T,c=u.map(function(o,d){var x=d<u.length-1,w=d>0;return r(o,x,w,function(C){T||(T=C),C&&c.forEach(t),!x&&(c.forEach(t),h(T))})});return u.reduce(a)}G.exports=f},24888:function(G,V,e){var m=e(92784).i.ERR_INVALID_OPT_VALUE;function P(L,S,v){return L.highWaterMark!=null?L.highWaterMark:S?L[v]:null}function i(L,S,v,p){var r=P(S,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new m(t,r)}return Math.floor(r)}return L.objectMode?16:16384}G.exports={getHighWaterMark:i}},4776:function(G,V,e){G.exports=e(61252).EventEmitter},86032:function(G,V,e){var m=e(30456).Buffer,P=m.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function L(c){var o=i(c);if(typeof o!="string"&&(m.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return o||c}V.o=S;function S(c){this.encoding=L(c);var o;switch(this.encoding){case"utf16le":this.text=f,this.end=l,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=u,this.end=g,o=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(o)}S.prototype.write=function(c){if(c.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?o?o+this.text(c,d):this.text(c,d):o||""},S.prototype.end=n,S.prototype.text=a,S.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,o,d){var x=o.length-1;if(x<d)return 0;var w=v(o[x]);return w>=0?(w>0&&(c.lastNeed=w-1),w):--x<d||w===-2?0:(w=v(o[x]),w>=0?(w>0&&(c.lastNeed=w-2),w):--x<d||w===-2?0:(w=v(o[x]),w>=0?(w>0&&(w===2?w=0:c.lastNeed=w-3),w):0))}function r(c,o,d){if((o[0]&192)!==128)return c.lastNeed=0,"";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,""}}function t(c){var o=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function a(c,o){var d=p(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=d;var x=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",o,x)}function n(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"":o}function f(c,o){if((c.length-o)%2===0){var d=c.toString("utf16le",o);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function l(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function u(c,o){var d=(c.length-o)%3;return d===0?c.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-d))}function g(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(G,V,e){var m=e(45408),P=e(86844)("stream-parser");G.exports=p;var i=-1,L=0,S=1,v=2;function p(c){var o=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=a,o&&(c._passthrough=n),o?c._transform=l:c._write=f}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=i,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){m(!this._parserCallback,'there is already a "callback" set!'),m(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=L}function a(c,o){m(!this._parserCallback,'there is already a "callback" set!'),m(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=S}function n(c,o){m(!this._parserCallback,'There is already a "callback" set!'),m(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function f(c,o,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof o=="function"&&(d=o),h(this,c,null,d)}function l(c,o,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,d)}function u(c,o,d,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return g(c,o,d,x)}:function(){var w=o.slice(0,c._parserBytesLeft);return g(c,w,d,function(C){if(C)return x(C);if(o.length>w.length)return function(){return u(c,o.slice(w.length),d,x)}})}}function g(c,o,d,x){if(c._parserBytesLeft-=o.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===L?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&d(o),c._parserBytesLeft===0){var w=c._parserCallback;if(w&&c._parserState===L&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==L&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=i,c._parserBuffers.splice(0),w){var C=[];o&&C.push(o),d&&C.push(d);var y=w.length>C.length;y&&C.push(T(x));var M=w.apply(c,C);if(!y||x===M)return x}}else return x}var h=T(u);function T(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(G,V,e){var m=e(4168);V=G.exports=e(89416),V.log=L,V.formatArgs=i,V.save=S,V.load=v,V.useColors=P,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function i(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+V.humanize(this.diff),!!t){var a="color: "+this.color;r.splice(1,0,a,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(l){l!=="%%"&&(n++,l==="%c"&&(f=n))}),r.splice(f,0,a)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?V.storage.removeItem("debug"):V.storage.debug=r}catch{}}function v(){var r;try{r=V.storage.debug}catch{}return!r&&typeof m<"u"&&"env"in m&&(r={}.DEBUG),r}V.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(G,V,e){V=G.exports=i.debug=i.default=i,V.coerce=p,V.disable=S,V.enable=L,V.enabled=v,V.humanize=e(93744),V.names=[],V.skips=[],V.formatters={};var m;function P(r){var t=0,a;for(a in r)t=(t<<5)-t+r.charCodeAt(a),t|=0;return V.colors[Math.abs(t)%V.colors.length]}function i(r){function t(){if(t.enabled){var a=t,n=+new Date,f=n-(m||n);a.diff=f,a.prev=m,a.curr=n,m=n;for(var l=new Array(arguments.length),u=0;u<l.length;u++)l[u]=arguments[u];l[0]=V.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");var g=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;g++;var o=V.formatters[c];if(typeof o=="function"){var d=l[g];T=o.call(a,d),l.splice(g,1),g--}return T}),V.formatArgs.call(a,l);var h=t.log||V.log||console.log.bind(console);h.apply(a,l)}}return t.namespace=r,t.enabled=V.enabled(r),t.useColors=V.useColors(),t.color=P(r),typeof V.init=="function"&&V.init(t),t}function L(r){V.save(r),V.names=[],V.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),a=t.length,n=0;n<a;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?V.skips.push(new RegExp("^"+r.substr(1)+"$")):V.names.push(new RegExp("^"+r+"$")))}function S(){V.enable("")}function v(r){var t,a;for(t=0,a=V.skips.length;t<a;t++)if(V.skips[t].test(r))return!1;for(t=0,a=V.names.length;t<a;t++)if(V.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var V=1e3,e=V*60,m=e*60,P=m*24,i=P*365.25;G.exports=function(r,t){t=t||{};var a=typeof r;if(a==="string"&&r.length>0)return L(r);if(a==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*P;case"hours":case"hour":case"hrs":case"hr":case"h":return a*m;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function S(r){return r>=P?Math.round(r/P)+"d":r>=m?Math.round(r/m)+"h":r>=e?Math.round(r/e)+"m":r>=V?Math.round(r/V)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,m,"hour")||p(r,e,"minute")||p(r,V,"second")||r+" ms"}function p(r,t,a){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+a:Math.ceil(r/t)+" "+a+"s"}},39956:function(G,V,e){var m=e(32868);G.exports=function(i,L,S){if(i==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(l){return l.length===1&&(l=l+l),l}));var v=m.parse(i,{flat:!0,brackets:S.ignore}),p=v[0],r=p.split(L);if(S.escape){for(var t=[],a=0;a<r.length;a++){var n=r[a],f=r[a+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+f),a++):t.push(n)}r=t}for(var a=0;a<r.length;a++)v[0]=r[a],r[a]=m.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=V;function V(e){for(var m=e.length,P=new Array(m),i=new Array(m),L=new Array(m),S=new Array(m),v=new Array(m),p=new Array(m),r=0;r<m;++r)P[r]=-1,i[r]=0,L[r]=!1,S[r]=0,v[r]=-1,p[r]=[];var t=0,a=[],n=[];function f(h){var T=[h],c=[h];for(P[h]=i[h]=t,L[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(S[h]<o.length){for(var d=S[h];d<o.length;++d){var x=o[d];if(P[x]<0){P[x]=i[x]=t,L[x]=!0,t+=1,T.push(x),c.push(x);break}else L[x]&&(i[h]=Math.min(i[h],i[x])|0);v[x]>=0&&p[h].push(v[x])}S[h]=d}else{if(i[h]===P[h]){for(var w=[],C=[],y=0,d=T.length-1;d>=0;--d){var M=T[d];if(L[M]=!1,w.push(M),C.push(p[M]),y+=p[M].length,v[M]=a.length,M===h){T.length=d;break}}a.push(w);for(var A=new Array(y),d=0;d<C.length;d++)for(var s=0;s<C[d].length;s++)A[--y]=C[d][s];n.push(A)}c.pop()}}}for(var r=0;r<m;++r)P[r]<0&&f(r);for(var l,r=0;r<n.length;r++){var u=n[r];if(u.length!==0){u.sort(function(T,c){return T-c}),l=[u[0]];for(var g=1;g<u.length;g++)u[g]!==u[g-1]&&l.push(u[g]);n[r]=l}}return{components:a,adjacencyList:n}}},92848:function(G,V,e){e.r(V);var m=function(){function r(t,a){var n=[],f=!0,l=!1,u=void 0;try{for(var g=t[Symbol.iterator](),h;!(f=(h=g.next()).done)&&(n.push(h.value),!(a&&n.length===a));f=!0);}catch(T){l=!0,u=T}finally{try{!f&&g.return&&g.return()}finally{if(l)throw u}}return n}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,i=function(t,a,n,f,l,u,g){var h=t.x,T=t.y;h*=a,T*=n;var c=f*h-l*T,o=l*h+f*T;return{x:c+u,y:o+g}},L=function(t,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),f=Math.cos(t),l=Math.sin(t),u=Math.cos(t+a),g=Math.sin(t+a);return[{x:f-l*n,y:l+f*n},{x:u+g*n,y:g-u*n},{x:u,y:g}]},S=function(t,a,n,f){var l=t*f-a*n<0?-1:1,u=t*n+a*f;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},v=function(t,a,n,f,l,u,g,h,T,c,o,d){var x=Math.pow(l,2),w=Math.pow(u,2),C=Math.pow(o,2),y=Math.pow(d,2),M=x*w-x*y-w*C;M<0&&(M=0),M/=x*y+w*C,M=Math.sqrt(M)*(g===h?-1:1);var A=M*l/u*d,s=M*-u/l*o,E=c*A-T*s+(t+n)/2,b=T*A+c*s+(a+f)/2,F=(o-A)/l,I=(d-s)/u,N=(-o-A)/l,_=(-d-s)/u,O=S(1,0,F,I),B=S(F,I,N,_);return h===0&&B>0&&(B-=P),h===1&&B<0&&(B+=P),[E,b,O,B]},p=function(t){var a=t.px,n=t.py,f=t.cx,l=t.cy,u=t.rx,g=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,d=t.sweepFlag,x=d===void 0?0:d,w=[];if(u===0||g===0)return[];var C=Math.sin(T*P/360),y=Math.cos(T*P/360),M=y*(a-f)/2+C*(n-l)/2,A=-C*(a-f)/2+y*(n-l)/2;if(M===0&&A===0)return[];u=Math.abs(u),g=Math.abs(g);var s=Math.pow(M,2)/Math.pow(u,2)+Math.pow(A,2)/Math.pow(g,2);s>1&&(u*=Math.sqrt(s),g*=Math.sqrt(s));var E=v(a,n,f,l,u,g,o,x,C,y,M,A),b=m(E,4),F=b[0],I=b[1],N=b[2],_=b[3],O=Math.abs(_)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var B=Math.max(Math.ceil(O),1);_/=B;for(var z=0;z<B;z++)w.push(L(N,_)),N+=_;return w.map(function(U){var Z=i(U[0],u,g,y,C,F,I),J=Z.x,re=Z.y,ne=i(U[1],u,g,y,C,F,I),ue=ne.x,te=ne.y,Q=i(U[2],u,g,y,C,F,I),ie=Q.x,Y=Q.y;return{x1:J,y1:re,x2:ue,y2:te,x:ie,y:Y}})};V.default=p},74840:function(G,V,e){var m=e(21984),P=e(49972),i=e(41976),L=e(53520),S=e(45408);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(S(L(p),"String is not an SVG path."),p=m(p)),S(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=i(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=p.length;t<a;t++)for(var n=p[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(G,V,e){G.exports=P;var m=e(92848);function P(S){for(var v,p=[],r=0,t=0,a=0,n=0,f=null,l=null,u=0,g=0,h=0,T=S.length;h<T;h++){var c=S[h],o=c[0];switch(o){case"M":a=c[1],n=c[2];break;case"A":var d=m({px:u,py:g,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var x=0,w;x<d.length;x++)w=d[x],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],x<d.length-1&&p.push(c);break;case"S":var C=u,y=g;(v=="C"||v=="S")&&(C+=C-r,y+=y-t),c=["C",C,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=u*2-f,l=g*2-l):(f=u,l=g),c=L(u,g,f,l,c[1],c[2]);break;case"Q":f=c[1],l=c[2],c=L(u,g,c[1],c[2],c[3],c[4]);break;case"L":c=i(u,g,c[1],c[2]);break;case"H":c=i(u,g,c[1],g);break;case"V":c=i(u,g,u,c[1]);break;case"Z":c=i(u,g,a,n);break}v=o,u=c[c.length-2],g=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=u,t=g),p.push(c)}return p}function i(S,v,p,r){return["C",S,v,p,r,p,r]}function L(S,v,p,r,t,a){return["C",S/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,a/3+.6666666666666666*r,t,a]}},20472:function(G,V,e){var m=e(74840),P=e(21984),i=e(22235),L=e(53520),S=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,f){if(!L(n))throw Error("Argument should be valid svg path string");f||(f={});var l,u;f.shape?(l=f.shape[0],u=f.shape[1]):(l=v.width=f.w||f.width||200,u=v.height=f.h||f.height||200);var g=Math.min(l,u),h=f.stroke||0,T=f.viewbox||f.viewBox||m(n),c=[l/(T[2]-T[0]),u/(T[3]-T[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,l,u),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(l*.5,u*.5),p.scale(o,o),a()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var x=P(n);i(p,x),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=S(p,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:g*.5});return w}var t;function a(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var l=n.getImageData(0,0,1,1);return t=l&&l.data&&l.data[3]===255}},49760:function(G,V,e){var m;(function(P){var i=/^\s+/,L=/\s+$/,S=0,v=P.round,p=P.min,r=P.max,t=P.random;function a(X,se){if(X=X||"",se=se||{},X instanceof a)return X;if(!(this instanceof a))return new a(X,se);var q=n(X);this._originalInput=X,this._r=q.r,this._g=q.g,this._b=q.b,this._a=q.a,this._roundA=v(100*this._a)/100,this._format=se.format||q.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=q.ok,this._tc_id=S++}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},getLuminance:function(){var X=this.toRgb(),se,q,ce,ye,we,be;return se=X.r/255,q=X.g/255,ce=X.b/255,se<=.03928?ye=se/12.92:ye=P.pow((se+.055)/1.055,2.4),q<=.03928?we=q/12.92:we=P.pow((q+.055)/1.055,2.4),ce<=.03928?be=ce/12.92:be=P.pow((ce+.055)/1.055,2.4),.2126*ye+.7152*we+.0722*be},setAlpha:function(X){return this._a=z(X),this._roundA=v(100*this._a)/100,this},toHsv:function(){var X=g(this._r,this._g,this._b);return{h:X.h*360,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=g(this._r,this._g,this._b),se=v(X.h*360),q=v(X.s*100),ce=v(X.v*100);return this._a==1?"hsv("+se+", "+q+"%, "+ce+"%)":"hsva("+se+", "+q+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var X=l(this._r,this._g,this._b);return{h:X.h*360,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=l(this._r,this._g,this._b),se=v(X.h*360),q=v(X.s*100),ce=v(X.l*100);return this._a==1?"hsl("+se+", "+q+"%, "+ce+"%)":"hsla("+se+", "+q+"%, "+ce+"%, "+this._roundA+")"},toHex:function(X){return T(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return c(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(U(this._r,255)*100)+"%",g:v(U(this._g,255)*100)+"%",b:v(U(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(U(this._r,255)*100)+"%, "+v(U(this._g,255)*100)+"%, "+v(U(this._b,255)*100)+"%)":"rgba("+v(U(this._r,255)*100)+"%, "+v(U(this._g,255)*100)+"%, "+v(U(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(X){var se="#"+o(this._r,this._g,this._b,this._a),q=se,ce=this._gradientType?"GradientType = 1, ":"";if(X){var ye=a(X);q="#"+o(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+se+",endColorstr="+q+")"},toString:function(X){var se=!!X;X=X||this._format;var q=!1,ce=this._a<1&&this._a>=0,ye=!se&&ce&&(X==="hex"||X==="hex6"||X==="hex3"||X==="hex4"||X==="hex8"||X==="name");return ye?X==="name"&&this._a===0?this.toName():this.toRgbString():(X==="rgb"&&(q=this.toRgbString()),X==="prgb"&&(q=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(q=this.toHexString()),X==="hex3"&&(q=this.toHexString(!0)),X==="hex4"&&(q=this.toHex8String(!0)),X==="hex8"&&(q=this.toHex8String()),X==="name"&&(q=this.toName()),X==="hsl"&&(q=this.toHslString()),X==="hsv"&&(q=this.toHsvString()),q||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(X,se){var q=X.apply(null,[this].concat([].slice.call(se)));return this._r=q._r,this._g=q._g,this._b=q._b,this.setAlpha(q._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(X,se){return X.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},a.fromRatio=function(X,se){if(typeof X=="object"){var q={};for(var ce in X)X.hasOwnProperty(ce)&&(ce==="a"?q[ce]=X[ce]:q[ce]=te(X[ce]));X=q}return a(X,se)};function n(X){var se={r:0,g:0,b:0},q=1,ce=null,ye=null,we=null,be=!1,De=!1;return typeof X=="string"&&(X=oe(X)),typeof X=="object"&&($(X.r)&&$(X.g)&&$(X.b)?(se=f(X.r,X.g,X.b),be=!0,De=String(X.r).substr(-1)==="%"?"prgb":"rgb"):$(X.h)&&$(X.s)&&$(X.v)?(ce=te(X.s),ye=te(X.v),se=h(X.h,ce,ye),be=!0,De="hsv"):$(X.h)&&$(X.s)&&$(X.l)&&(ce=te(X.s),we=te(X.l),se=u(X.h,ce,we),be=!0,De="hsl"),X.hasOwnProperty("a")&&(q=X.a)),q=z(q),{ok:be,format:X.format||De,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:q}}function f(X,se,q){return{r:U(X,255)*255,g:U(se,255)*255,b:U(q,255)*255}}function l(X,se,q){X=U(X,255),se=U(se,255),q=U(q,255);var ce=r(X,se,q),ye=p(X,se,q),we,be,De=(ce+ye)/2;if(ce==ye)we=be=0;else{var ke=ce-ye;switch(be=De>.5?ke/(2-ce-ye):ke/(ce+ye),ce){case X:we=(se-q)/ke+(se<q?6:0);break;case se:we=(q-X)/ke+2;break;case q:we=(X-se)/ke+4;break}we/=6}return{h:we,s:be,l:De}}function u(X,se,q){var ce,ye,we;X=U(X,360),se=U(se,100),q=U(q,100);function be(Be,Ae,Ie){return Ie<0&&(Ie+=1),Ie>1&&(Ie-=1),Ie<.16666666666666666?Be+(Ae-Be)*6*Ie:Ie<.5?Ae:Ie<.6666666666666666?Be+(Ae-Be)*(.6666666666666666-Ie)*6:Be}if(se===0)ce=ye=we=q;else{var De=q<.5?q*(1+se):q+se-q*se,ke=2*q-De;ce=be(ke,De,X+.3333333333333333),ye=be(ke,De,X),we=be(ke,De,X-.3333333333333333)}return{r:ce*255,g:ye*255,b:we*255}}function g(X,se,q){X=U(X,255),se=U(se,255),q=U(q,255);var ce=r(X,se,q),ye=p(X,se,q),we,be,De=ce,ke=ce-ye;if(be=ce===0?0:ke/ce,ce==ye)we=0;else{switch(ce){case X:we=(se-q)/ke+(se<q?6:0);break;case se:we=(q-X)/ke+2;break;case q:we=(X-se)/ke+4;break}we/=6}return{h:we,s:be,v:De}}function h(X,se,q){X=U(X,360)*6,se=U(se,100),q=U(q,100);var ce=P.floor(X),ye=X-ce,we=q*(1-se),be=q*(1-ye*se),De=q*(1-(1-ye)*se),ke=ce%6,Be=[q,be,we,we,De,q][ke],Ae=[De,q,q,be,we,we][ke],Ie=[we,we,De,q,q,be][ke];return{r:Be*255,g:Ae*255,b:Ie*255}}function T(X,se,q,ce){var ye=[ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(q).toString(16))];return ce&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function c(X,se,q,ce,ye){var we=[ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(q).toString(16)),ue(Q(ce))];return ye&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function o(X,se,q,ce){var ye=[ue(Q(ce)),ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(q).toString(16))];return ye.join("")}a.equals=function(X,se){return!X||!se?!1:a(X).toRgbString()==a(se).toRgbString()},a.random=function(){return a.fromRatio({r:t(),g:t(),b:t()})};function d(X,se){se=se===0?0:se||10;var q=a(X).toHsl();return q.s-=se/100,q.s=Z(q.s),a(q)}function x(X,se){se=se===0?0:se||10;var q=a(X).toHsl();return q.s+=se/100,q.s=Z(q.s),a(q)}function w(X){return a(X).desaturate(100)}function C(X,se){se=se===0?0:se||10;var q=a(X).toHsl();return q.l+=se/100,q.l=Z(q.l),a(q)}function y(X,se){se=se===0?0:se||10;var q=a(X).toRgb();return q.r=r(0,p(255,q.r-v(255*-(se/100)))),q.g=r(0,p(255,q.g-v(255*-(se/100)))),q.b=r(0,p(255,q.b-v(255*-(se/100)))),a(q)}function M(X,se){se=se===0?0:se||10;var q=a(X).toHsl();return q.l-=se/100,q.l=Z(q.l),a(q)}function A(X,se){var q=a(X).toHsl(),ce=(q.h+se)%360;return q.h=ce<0?360+ce:ce,a(q)}function s(X){var se=a(X).toHsl();return se.h=(se.h+180)%360,a(se)}function E(X){var se=a(X).toHsl(),q=se.h;return[a(X),a({h:(q+120)%360,s:se.s,l:se.l}),a({h:(q+240)%360,s:se.s,l:se.l})]}function b(X){var se=a(X).toHsl(),q=se.h;return[a(X),a({h:(q+90)%360,s:se.s,l:se.l}),a({h:(q+180)%360,s:se.s,l:se.l}),a({h:(q+270)%360,s:se.s,l:se.l})]}function F(X){var se=a(X).toHsl(),q=se.h;return[a(X),a({h:(q+72)%360,s:se.s,l:se.l}),a({h:(q+216)%360,s:se.s,l:se.l})]}function I(X,se,q){se=se||6,q=q||30;var ce=a(X).toHsl(),ye=360/q,we=[a(X)];for(ce.h=(ce.h-(ye*se>>1)+720)%360;--se;)ce.h=(ce.h+ye)%360,we.push(a(ce));return we}function N(X,se){se=se||6;for(var q=a(X).toHsv(),ce=q.h,ye=q.s,we=q.v,be=[],De=1/se;se--;)be.push(a({h:ce,s:ye,v:we})),we=(we+De)%1;return be}a.mix=function(X,se,q){q=q===0?0:q||50;var ce=a(X).toRgb(),ye=a(se).toRgb(),we=q/100,be={r:(ye.r-ce.r)*we+ce.r,g:(ye.g-ce.g)*we+ce.g,b:(ye.b-ce.b)*we+ce.b,a:(ye.a-ce.a)*we+ce.a};return a(be)},a.readability=function(X,se){var q=a(X),ce=a(se);return(P.max(q.getLuminance(),ce.getLuminance())+.05)/(P.min(q.getLuminance(),ce.getLuminance())+.05)},a.isReadable=function(X,se,q){var ce=a.readability(X,se),ye,we;switch(we=!1,ye=j(q),ye.level+ye.size){case"AAsmall":case"AAAlarge":we=ce>=4.5;break;case"AAlarge":we=ce>=3;break;case"AAAsmall":we=ce>=7;break}return we},a.mostReadable=function(X,se,q){var ce=null,ye=0,we,be,De,ke;q=q||{},be=q.includeFallbackColors,De=q.level,ke=q.size;for(var Be=0;Be<se.length;Be++)we=a.readability(X,se[Be]),we>ye&&(ye=we,ce=a(se[Be]));return a.isReadable(X,ce,{level:De,size:ke})||!be?ce:(q.includeFallbackColors=!1,a.mostReadable(X,["#fff","#000"],q))};var _=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=a.hexNames=B(_);function B(X){var se={};for(var q in X)X.hasOwnProperty(q)&&(se[X[q]]=q);return se}function z(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function U(X,se){re(X)&&(X="100%");var q=ne(X);return X=p(se,r(0,parseFloat(X))),q&&(X=parseInt(X*se,10)/100),P.abs(X-se)<1e-6?1:X%se/parseFloat(se)}function Z(X){return p(1,r(0,X))}function J(X){return parseInt(X,16)}function re(X){return typeof X=="string"&&X.indexOf(".")!=-1&&parseFloat(X)===1}function ne(X){return typeof X=="string"&&X.indexOf("%")!=-1}function ue(X){return X.length==1?"0"+X:""+X}function te(X){return X<=1&&(X=X*100+"%"),X}function Q(X){return P.round(parseFloat(X)*255).toString(16)}function ie(X){return J(X)/255}var Y=function(){var X="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",q="(?:"+se+")|(?:"+X+")",ce="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",ye="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?";return{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function $(X){return!!Y.CSS_UNIT.exec(X)}function oe(X){X=X.replace(i,"").replace(L,"").toLowerCase();var se=!1;if(_[X])X=_[X],se=!0;else if(X=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var q;return(q=Y.rgb.exec(X))?{r:q[1],g:q[2],b:q[3]}:(q=Y.rgba.exec(X))?{r:q[1],g:q[2],b:q[3],a:q[4]}:(q=Y.hsl.exec(X))?{h:q[1],s:q[2],l:q[3]}:(q=Y.hsla.exec(X))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=Y.hsv.exec(X))?{h:q[1],s:q[2],v:q[3]}:(q=Y.hsva.exec(X))?{h:q[1],s:q[2],v:q[3],a:q[4]}:(q=Y.hex8.exec(X))?{r:J(q[1]),g:J(q[2]),b:J(q[3]),a:ie(q[4]),format:se?"name":"hex8"}:(q=Y.hex6.exec(X))?{r:J(q[1]),g:J(q[2]),b:J(q[3]),format:se?"name":"hex"}:(q=Y.hex4.exec(X))?{r:J(q[1]+""+q[1]),g:J(q[2]+""+q[2]),b:J(q[3]+""+q[3]),a:ie(q[4]+""+q[4]),format:se?"name":"hex8"}:(q=Y.hex3.exec(X))?{r:J(q[1]+""+q[1]),g:J(q[2]+""+q[2]),b:J(q[3]+""+q[3]),format:se?"name":"hex"}:!1}function j(X){var se,q;return X=X||{level:"AA",size:"small"},se=(X.level||"AA").toUpperCase(),q=(X.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),q!=="small"&&q!=="large"&&(q="small"),{level:se,size:q}}G.exports?G.exports=a:(m=(function(){return a}).call(V,e,V,G),m!==void 0&&(G.exports=m))})(Math)},37816:function(G){G.exports=m,G.exports.float32=G.exports.float=m,G.exports.fract32=G.exports.fract=e;var V=new Float32Array(1);function e(P,i){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);i instanceof Float32Array||(i=m(P));for(var L=0,S=i.length;L<S;L++)i[L]=P[L]-i[L];return i}return m(P-m(P))}function m(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(V[0]=P,V[0])}},23464:function(G,V,e){var m=e(65819);G.exports=S;var P=96;function i(v,p){var r=m(getComputedStyle(v).getPropertyValue(p));return r[0]*S(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=i(r,"font-size")/128;return p.removeChild(r),t}function S(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return i(p,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(G,V,e){e.d(V,{NO:function(){return L}});function m(p,r){for(var t,a=p.length,n=a-r;n<--a;)t=p[n],p[n++]=p[a],p[a]=t}function P(p){return p}function i(p){if(p==null)return P;var r,t,a=p.scale[0],n=p.scale[1],f=p.translate[0],l=p.translate[1];return function(u,g){g||(r=t=0);var h=2,T=u.length,c=new Array(T);for(c[0]=(r+=u[0])*a+f,c[1]=(t+=u[1])*n+l;h<T;)c[h]=u[h],++h;return c}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(p,t)})}:S(p,r)}function S(p,r){var t=r.id,a=r.bbox,n=r.properties==null?{}:r.properties,f=v(p,r);return t==null&&a==null?{type:"Feature",properties:n,geometry:f}:a==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:a,properties:n,geometry:f}}function v(p,r){var t=i(p.transform),a=p.arcs;function n(T,c){c.length&&c.pop();for(var o=a[T<0?~T:T],d=0,x=o.length;d<x;++d)c.push(t(o[d],d));T<0&&m(c,x)}function f(T){return t(T)}function l(T){for(var c=[],o=0,d=T.length;o<d;++o)n(T[o],c);return c.length<2&&c.push(c[0]),c}function u(T){for(var c=l(T);c.length<4;)c.push(c[0]);return c}function g(T){return T.map(u)}function h(T){var c=T.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":o=f(T.coordinates);break;case"MultiPoint":o=T.coordinates.map(f);break;case"LineString":o=l(T.arcs);break;case"MultiLineString":o=T.arcs.map(l);break;case"Polygon":o=g(T.arcs);break;case"MultiPolygon":o=T.arcs.map(g);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(G,V,e){var m=e(54612);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!m(P)}},57980:function(G,V,e){var m=e(81680),P=e(7328),i=e(33940),L=e(18856),S=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(S(p,v));if(!m(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=i(r.errorMessage);throw m(t)||(t=p),new TypeError(S(t,v))}},32336:function(G){G.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},18856:function(G,V,e){var m=e(32336),P=/[\n\r\u2028\u2029]/g;G.exports=function(i){var L=m(i);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(P,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(G,V,e){var m=e(81680),P={object:!0,function:!0,undefined:!0};G.exports=function(i){return m(i)?hasOwnProperty.call(P,typeof i):!1}},87396:function(G,V,e){var m=e(57980),P=e(85488);G.exports=function(i){return P(i)?i:m(i,"%v is not a plain function",arguments[1])}},85488:function(G,V,e){var m=e(73384),P=/^\s*class[\s{/}]/,i=Function.prototype.toString;G.exports=function(L){return!(!m(L)||P.test(i.call(L)))}},54612:function(G,V,e){var m=e(7328);G.exports=function(P){if(!m(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(G,V,e){var m=e(81680),P=e(7328),i=Object.prototype.toString;G.exports=function(L){if(!m(L))return null;if(P(L)){var S=L.toString;if(typeof S!="function"||S===i)return null}try{return""+L}catch{return null}}},18496:function(G,V,e){var m=e(57980),P=e(81680);G.exports=function(i){return P(i)?i:m(i,"Cannot use %v",arguments[1])}},81680:function(G){var V=void 0;G.exports=function(e){return e!==V&&e!==null}},14144:function(G,V,e){var m=e(308),P=e(10352),i=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;V.free=function(s){if(i.isBuffer(s))t[m.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var E=s.length||s.byteLength,b=m.log2(E)|0;r[b].push(s)}};function a(A){if(A){var s=A.length||A.byteLength,E=m.log2(s);r[E].push(A)}}function n(A){a(A.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=a,V.freeBuffer=function(s){t[m.log2(s.length)].push(s)},V.malloc=function(s,E){if(E===void 0||E==="arraybuffer")return f(s);switch(E){case"uint8":return l(s);case"uint16":return u(s);case"uint32":return g(s);case"int8":return h(s);case"int16":return T(s);case"int32":return c(s);case"float":case"float32":return o(s);case"double":case"float64":return d(s);case"uint8_clamped":return x(s);case"bigint64":return C(s);case"biguint64":return w(s);case"buffer":return M(s);case"data":case"dataview":return y(s);default:return null}return null};function f(s){var s=m.nextPow2(s),E=m.log2(s),b=r[E];return b.length>0?b.pop():new ArrayBuffer(s)}V.mallocArrayBuffer=f;function l(A){return new Uint8Array(f(A),0,A)}V.mallocUint8=l;function u(A){return new Uint16Array(f(2*A),0,A)}V.mallocUint16=u;function g(A){return new Uint32Array(f(4*A),0,A)}V.mallocUint32=g;function h(A){return new Int8Array(f(A),0,A)}V.mallocInt8=h;function T(A){return new Int16Array(f(2*A),0,A)}V.mallocInt16=T;function c(A){return new Int32Array(f(4*A),0,A)}V.mallocInt32=c;function o(A){return new Float32Array(f(4*A),0,A)}V.mallocFloat32=V.mallocFloat=o;function d(A){return new Float64Array(f(8*A),0,A)}V.mallocFloat64=V.mallocDouble=d;function x(A){return L?new Uint8ClampedArray(f(A),0,A):l(A)}V.mallocUint8Clamped=x;function w(A){return S?new BigUint64Array(f(8*A),0,A):null}V.mallocBigUint64=w;function C(A){return v?new BigInt64Array(f(8*A),0,A):null}V.mallocBigInt64=C;function y(A){return new DataView(f(A),0,A)}V.mallocDataView=y;function M(A){A=m.nextPow2(A);var s=m.log2(A),E=t[s];return E.length>0?E.pop():new i(A)}V.mallocBuffer=M,V.clearCache=function(){for(var s=0;s<32;++s)p.UINT8[s].length=0,p.UINT16[s].length=0,p.UINT32[s].length=0,p.INT8[s].length=0,p.INT16[s].length=0,p.INT32[s].length=0,p.FLOAT[s].length=0,p.DOUBLE[s].length=0,p.BIGUINT64[s].length=0,p.BIGINT64[s].length=0,p.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(G){var V=/[\'\"]/;G.exports=function(m){return m?(V.test(m.charAt(0))&&(m=m.substr(1)),V.test(m.charAt(m.length-1))&&(m=m.substr(0,m.length-1)),m):""}},45223:function(G){G.exports=function(e,m,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var i=0,L=P.length;i<L;i++){var S=P[i];for(var v in S)if(!(m[v]!==void 0&&!Array.isArray(m[v])&&e[v]===m[v])&&v in m){var p;if(S[v]===!0)p=m[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(p=S[v](m[v],e,m),p===void 0))continue}e[v]=p}}return e}},96656:function(G,V,e){G.exports=m;function m(i,L){if(P("noDeprecation"))return i;var S=!1;function v(){if(!S){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),S=!0}return i.apply(this,arguments)}return v}function P(i){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[i];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,V,e){var m=e(91148),P=e(84420),i=e(96632),L=e(7728);function S(we){return we.call.bind(we)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),a=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(p)var l=S(Symbol.prototype.valueOf);function u(we,be){if(typeof we!="object")return!1;try{return be(we),!0}catch{return!1}}V.isArgumentsObject=m,V.isGeneratorFunction=P,V.isTypedArray=L;function g(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}V.isPromise=g;function h(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):L(we)||J(we)}V.isArrayBufferView=h;function T(we){return i(we)==="Uint8Array"}V.isUint8Array=T;function c(we){return i(we)==="Uint8ClampedArray"}V.isUint8ClampedArray=c;function o(we){return i(we)==="Uint16Array"}V.isUint16Array=o;function d(we){return i(we)==="Uint32Array"}V.isUint32Array=d;function x(we){return i(we)==="Int8Array"}V.isInt8Array=x;function w(we){return i(we)==="Int16Array"}V.isInt16Array=w;function C(we){return i(we)==="Int32Array"}V.isInt32Array=C;function y(we){return i(we)==="Float32Array"}V.isFloat32Array=y;function M(we){return i(we)==="Float64Array"}V.isFloat64Array=M;function A(we){return i(we)==="BigInt64Array"}V.isBigInt64Array=A;function s(we){return i(we)==="BigUint64Array"}V.isBigUint64Array=s;function E(we){return r(we)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function b(we){return typeof Map>"u"?!1:E.working?E(we):we instanceof Map}V.isMap=b;function F(we){return r(we)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function I(we){return typeof Set>"u"?!1:F.working?F(we):we instanceof Set}V.isSet=I;function N(we){return r(we)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function _(we){return typeof WeakMap>"u"?!1:N.working?N(we):we instanceof WeakMap}V.isWeakMap=_;function O(we){return r(we)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function B(we){return O(we)}V.isWeakSet=B;function z(we){return r(we)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function U(we){return typeof ArrayBuffer>"u"?!1:z.working?z(we):we instanceof ArrayBuffer}V.isArrayBuffer=U;function Z(we){return r(we)==="[object DataView]"}Z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Z(new DataView(new ArrayBuffer(1),0,1));function J(we){return typeof DataView>"u"?!1:Z.working?Z(we):we instanceof DataView}V.isDataView=J;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(we){return r(we)==="[object SharedArrayBuffer]"}function ue(we){return typeof re>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new re)),ne.working?ne(we):we instanceof re)}V.isSharedArrayBuffer=ue;function te(we){return r(we)==="[object AsyncFunction]"}V.isAsyncFunction=te;function Q(we){return r(we)==="[object Map Iterator]"}V.isMapIterator=Q;function ie(we){return r(we)==="[object Set Iterator]"}V.isSetIterator=ie;function Y(we){return r(we)==="[object Generator]"}V.isGeneratorObject=Y;function $(we){return r(we)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=$;function oe(we){return u(we,t)}V.isNumberObject=oe;function j(we){return u(we,a)}V.isStringObject=j;function X(we){return u(we,n)}V.isBooleanObject=X;function se(we){return v&&u(we,f)}V.isBigIntObject=se;function q(we){return p&&u(we,l)}V.isSymbolObject=q;function ce(we){return oe(we)||j(we)||X(we)||se(we)||q(we)}V.isBoxedPrimitive=ce;function ye(we){return typeof Uint8Array<"u"&&(U(we)||ue(we))}V.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(V,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},35840:function(G,V,e){var m=e(4168),P=Object.getOwnPropertyDescriptors||function(re){for(var ne=Object.keys(re),ue={},te=0;te<ne.length;te++)ue[ne[te]]=Object.getOwnPropertyDescriptor(re,ne[te]);return ue},i=/%[sdj%]/g;V.format=function(J){if(!w(J)){for(var re=[],ne=0;ne<arguments.length;ne++)re.push(p(arguments[ne]));return re.join(" ")}for(var ne=1,ue=arguments,te=ue.length,Q=String(J).replace(i,function(Y){if(Y==="%%")return"%";if(ne>=te)return Y;switch(Y){case"%s":return String(ue[ne++]);case"%d":return Number(ue[ne++]);case"%j":try{return JSON.stringify(ue[ne++])}catch{return"[Circular]"}default:return Y}}),ie=ue[ne];ne<te;ie=ue[++ne])o(ie)||!A(ie)?Q+=" "+ie:Q+=" "+p(ie);return Q},V.deprecate=function(J,re){if(typeof m<"u"&&m.noDeprecation===!0)return J;if(typeof m>"u")return function(){return V.deprecate(J,re).apply(this,arguments)};var ne=!1;function ue(){if(!ne){if(m.throwDeprecation)throw new Error(re);m.traceDeprecation?console.trace(re):console.error(re),ne=!0}return J.apply(this,arguments)}return ue};var L={},S=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}V.debuglog=function(J){if(J=J.toUpperCase(),!L[J])if(S.test(J)){var re=m.pid;L[J]=function(){var ne=V.format.apply(V,arguments);console.error("%s %d: %s",J,re,ne)}}else L[J]=function(){};return L[J]};function p(J,re){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(re)?ne.showHidden=re:re&&V._extend(ne,re),y(ne.showHidden)&&(ne.showHidden=!1),y(ne.depth)&&(ne.depth=2),y(ne.colors)&&(ne.colors=!1),y(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,J,ne.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(J,re){var ne=p.styles[re];return ne?"\x1B["+p.colors[ne][0]+"m"+J+"\x1B["+p.colors[ne][1]+"m":J}function t(J,re){return J}function a(J){var re={};return J.forEach(function(ne,ue){re[ne]=!0}),re}function n(J,re,ne){if(J.customInspect&&re&&b(re.inspect)&&re.inspect!==V.inspect&&!(re.constructor&&re.constructor.prototype===re)){var ue=re.inspect(ne,J);return w(ue)||(ue=n(J,ue,ne)),ue}var te=f(J,re);if(te)return te;var Q=Object.keys(re),ie=a(Q);if(J.showHidden&&(Q=Object.getOwnPropertyNames(re)),E(re)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return l(re);if(Q.length===0){if(b(re)){var Y=re.name?": "+re.name:"";return J.stylize("[Function"+Y+"]","special")}if(M(re))return J.stylize(RegExp.prototype.toString.call(re),"regexp");if(s(re))return J.stylize(Date.prototype.toString.call(re),"date");if(E(re))return l(re)}var $="",oe=!1,j=["{","}"];if(T(re)&&(oe=!0,j=["[","]"]),b(re)){var X=re.name?": "+re.name:"";$=" [Function"+X+"]"}if(M(re)&&($=" "+RegExp.prototype.toString.call(re)),s(re)&&($=" "+Date.prototype.toUTCString.call(re)),E(re)&&($=" "+l(re)),Q.length===0&&(!oe||re.length==0))return j[0]+$+j[1];if(ne<0)return M(re)?J.stylize(RegExp.prototype.toString.call(re),"regexp"):J.stylize("[Object]","special");J.seen.push(re);var se;return oe?se=u(J,re,ne,ie,Q):se=Q.map(function(q){return g(J,re,ne,ie,q,oe)}),J.seen.pop(),h(se,$,j)}function f(J,re){if(y(re))return J.stylize("undefined","undefined");if(w(re)){var ne="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(ne,"string")}if(x(re))return J.stylize(""+re,"number");if(c(re))return J.stylize(""+re,"boolean");if(o(re))return J.stylize("null","null")}function l(J){return"["+Error.prototype.toString.call(J)+"]"}function u(J,re,ne,ue,te){for(var Q=[],ie=0,Y=re.length;ie<Y;++ie)B(re,String(ie))?Q.push(g(J,re,ne,ue,String(ie),!0)):Q.push("");return te.forEach(function($){$.match(/^\d+$/)||Q.push(g(J,re,ne,ue,$,!0))}),Q}function g(J,re,ne,ue,te,Q){var ie,Y,$;if($=Object.getOwnPropertyDescriptor(re,te)||{value:re[te]},$.get?$.set?Y=J.stylize("[Getter/Setter]","special"):Y=J.stylize("[Getter]","special"):$.set&&(Y=J.stylize("[Setter]","special")),B(ue,te)||(ie="["+te+"]"),Y||(J.seen.indexOf($.value)<0?(o(ne)?Y=n(J,$.value,null):Y=n(J,$.value,ne-1),Y.indexOf(`
`)>-1&&(Q?Y=Y.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):Y=J.stylize("[Circular]","special")),y(ie)){if(Q&&te.match(/^\d+$/))return Y;ie=JSON.stringify(""+te),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=J.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=J.stylize(ie,"string"))}return ie+": "+Y}function h(J,re,ne){var ue=J.reduce(function(te,Q){return Q.indexOf(`
`)>=0,te+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?ne[0]+(re===""?"":re+`
 `)+" "+J.join(`,
  `)+" "+ne[1]:ne[0]+re+" "+J.join(", ")+" "+ne[1]}V.types=e(41088);function T(J){return Array.isArray(J)}V.isArray=T;function c(J){return typeof J=="boolean"}V.isBoolean=c;function o(J){return J===null}V.isNull=o;function d(J){return J==null}V.isNullOrUndefined=d;function x(J){return typeof J=="number"}V.isNumber=x;function w(J){return typeof J=="string"}V.isString=w;function C(J){return typeof J=="symbol"}V.isSymbol=C;function y(J){return J===void 0}V.isUndefined=y;function M(J){return A(J)&&I(J)==="[object RegExp]"}V.isRegExp=M,V.types.isRegExp=M;function A(J){return typeof J=="object"&&J!==null}V.isObject=A;function s(J){return A(J)&&I(J)==="[object Date]"}V.isDate=s,V.types.isDate=s;function E(J){return A(J)&&(I(J)==="[object Error]"||J instanceof Error)}V.isError=E,V.types.isNativeError=E;function b(J){return typeof J=="function"}V.isFunction=b;function F(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}V.isPrimitive=F,V.isBuffer=e(75272);function I(J){return Object.prototype.toString.call(J)}function N(J){return J<10?"0"+J.toString(10):J.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var J=new Date,re=[N(J.getHours()),N(J.getMinutes()),N(J.getSeconds())].join(":");return[J.getDate(),_[J.getMonth()],re].join(" ")}V.log=function(){console.log("%s - %s",O(),V.format.apply(V,arguments))},V.inherits=e(6768),V._extend=function(J,re){if(!re||!A(re))return J;for(var ne=Object.keys(re),ue=ne.length;ue--;)J[ne[ue]]=re[ne[ue]];return J};function B(J,re){return Object.prototype.hasOwnProperty.call(J,re)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&re[z]){var ne=re[z];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ue,te,Q=new Promise(function($,oe){ue=$,te=oe}),ie=[],Y=0;Y<arguments.length;Y++)ie.push(arguments[Y]);ie.push(function($,oe){$?te($):ue(oe)});try{re.apply(this,ie)}catch($){te($)}return Q}return Object.setPrototypeOf(ne,Object.getPrototypeOf(re)),z&&Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,P(re))},V.promisify.custom=z;function U(J,re){if(!J){var ne=new Error("Promise was rejected with a falsy value");ne.reason=J,J=ne}return re(J)}function Z(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ne=[],ue=0;ue<arguments.length;ue++)ne.push(arguments[ue]);var te=ne.pop();if(typeof te!="function")throw new TypeError("The last argument must be of type Function");var Q=this,ie=function(){return te.apply(Q,arguments)};J.apply(this,ne).then(function(Y){m.nextTick(ie.bind(null,null,Y))},function(Y){m.nextTick(U.bind(null,Y,ie))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(J)),Object.defineProperties(re,P(J)),re}V.callbackify=Z},5408:function(G,V,e){var m=e(13380);G.exports=function(i){return m("webgl",i)}},96632:function(G,V,e){var m=e(46492),P=e(63436),i=e(57916),L=e(99676),S=e(2304),v=L("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),a=L("String.prototype.slice"),n=Object.getPrototypeOf,f=L("Array.prototype.indexOf",!0)||function(T,c){for(var o=0;o<T.length;o+=1)if(T[o]===c)return o;return-1},l={__proto__:null};p&&S&&n?m(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=n(T),o=S(c,Symbol.toStringTag);if(!o){var d=n(c);o=S(d,Symbol.toStringTag)}l["$"+h]=i(o.get)}}):m(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(l["$"+h]=i(c))});var u=function(T){var c=!1;return m(l,function(o,d){if(!c)try{"$"+o(T)===d&&(c=a(d,1))}catch{}}),c},g=function(T){var c=!1;return m(l,function(o,d){if(!c)try{o(T),c=a(d,1)}catch{}}),c};G.exports=function(T){if(!T||typeof T!="object")return!1;if(!p){var c=a(v(T),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:g(T)}return S?u(T):null}},67020:function(G,V,e){var m=e(38700),P=e(50896),i=m.instance();function L(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(l,u){if(typeof l=="string"){var g=l.match(v);return g?g[0]:""}var h=this._validateYear(l),T=l.month(),c=""+this.toChineseMonth(h,T);return u&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(l){if(typeof l=="string"){var u=l.match(p);return u?u[0]:""}var g=this._validateYear(l),h=l.month(),T=this.toChineseMonth(g,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,h)&&(c=""+c),c},monthNamesShort:function(l){if(typeof l=="string"){var u=l.match(r);return u?u[0]:""}var g=this._validateYear(l),h=l.month(),T=this.toChineseMonth(g,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,h)&&(c=""+c),c},parseMonth:function(l,u){l=this._validateYear(l);var g=parseInt(u),h;if(isNaN(g))u[0]===""&&(h=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),g=1+["","","","","","","","","","","",""].indexOf(u);else{var T=u[u.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(l,g,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(l,u){if(l.year&&(l=l.year()),typeof l!="number"||l<1888||l>2111)throw u.replace(/\{0\}/,this.local.name);return l},toMonthIndex:function(l,u,g){var h=this.intercalaryMonth(l),T=g&&u!==h;if(T||u<1||u>12)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!g&&u<=h?c=u-1:c=u:c=u-1,c},toChineseMonth:function(l,u){l.year&&(l=l.year(),u=l.month());var g=this.intercalaryMonth(l),h=g?12:11;if(u<0||u>h)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return g?u<g?T=u+1:T=u:T=u+1,T},intercalaryMonth:function(l){l=this._validateYear(l);var u=t[l-t[0]],g=u>>13;return g},isIntercalaryMonth:function(l,u){l.year&&(l=l.year(),u=l.month());var g=this.intercalaryMonth(l);return!!g&&g===u},leapYear:function(l){return this.intercalaryMonth(l)!==0},weekOfYear:function(l,u,g){var h=this._validateYear(l,m.local.invalidyear),T=a[h-a[0]],c=T>>9&4095,o=T>>5&15,d=T&31,x;x=i.newDate(c,o,d),x.add(4-(x.dayOfWeek()||7),"d");var w=this.toJD(l,u,g)-x.toJD();return 1+Math.floor(w/7)},monthsInYear:function(l){return this.leapYear(l)?13:12},daysInMonth:function(l,u){l.year&&(u=l.month(),l=l.year()),l=this._validateYear(l);var g=t[l-t[0]],h=g>>13,T=h?12:11;if(u>T)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=g&1<<12-u?30:29;return c},weekDay:function(l,u,g){return(this.dayOfWeek(l,u,g)||7)<6},toJD:function(l,u,g){var h=this._validate(l,c,g,m.local.invalidDate);l=this._validateYear(h.year()),u=h.month(),g=h.day();var T=this.isIntercalaryMonth(l,u),c=this.toChineseMonth(l,u),o=f(l,c,g,T);return i.toJD(o.year,o.month,o.day)},fromJD:function(l){var u=i.fromJD(l),g=n(u.year(),u.month(),u.day()),h=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,h,g.day)},fromString:function(l){var u=l.match(S),g=this._validateYear(+u[1]),h=+u[2],T=!!u[3],c=this.toMonthIndex(g,h,T),o=+u[4];return this.newDate(g,c,o)},add:function(l,u,g){var h=l.year(),T=l.month(),c=this.isIntercalaryMonth(h,T),o=this.toChineseMonth(h,T),d=Object.getPrototypeOf(L.prototype).add.call(this,l,u,g);if(g==="y"){var x=d.year(),w=d.month(),C=this.isIntercalaryMonth(x,o),y=c&&C?this.toMonthIndex(x,o,!0):this.toMonthIndex(x,o,!1);y!==w&&d.month(y)}return d}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,r=/^??[]?/m;m.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(l,u,g,h){var T,c;if(typeof l=="object")T=l,c=u||{};else{var o=typeof l=="number"&&l>=1888&&l<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof g=="number"&&g>=1&&g<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:l,month:u,day:g},c=h||{}}var w=a[T.year-a[0]],C=T.year<<9|T.month<<5|T.day;c.year=C>=w?T.year:T.year-1,w=a[c.year-a[0]];var y=w>>9&4095,M=w>>5&15,A=w&31,s,E=new Date(y,M-1,A),b=new Date(T.year,T.month-1,T.day);s=Math.round((b-E)/864e5);var F=t[c.year-t[0]],I;for(I=0;I<13;I++){var N=F&1<<12-I?30:29;if(s<N)break;s-=N}var _=F>>13;return!_||I<_?(c.isIntercalary=!1,c.month=1+I):I===_?(c.isIntercalary=!0,c.month=I):(c.isIntercalary=!1,c.month=I),c.day=1+s,c}function f(l,u,g,h,T){var c,o;if(typeof l=="object")o=l,c=u||{};else{var d=typeof l=="number"&&l>=1888&&l<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof u=="number"&&u>=1&&u<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var w=typeof g=="number"&&g>=1&&g<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c=T||{}),o={year:l,month:u,day:g,isIntercalary:C}}var y;y=o.day-1;var M=t[o.year-t[0]],A=M>>13,s;A&&(o.month>A||o.isIntercalary)?s=o.month:s=o.month-1;for(var E=0;E<s;E++){var b=M&1<<12-E?30:29;y+=b}var F=a[o.year-a[0]],I=F>>9&4095,N=F>>5&15,_=F&31,O=new Date(I,N-1,_+y);return c.year=O.getFullYear(),c.month=1+O.getMonth(),c.day=O.getDate(),c}},89792:function(G,V,e){var m=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.coptic=i},55668:function(G,V,e){var m=e(38700),P=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),400},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,p){var r=this.dayOfWeek(S,v,p);return r>=2&&r<=6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var p=Math.floor(S/32)+1,r=S-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};m.calendars.discworld=i},65168:function(G,V,e){var m=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.ethiopian=i},2084:function(G,V,e){var m=e(38700),P=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,L(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,m.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&L(this.daysInYear(S),10)===5?30:v===9&&L(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S<=0?S+1:S,a=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)a+=this.daysInMonth(S,n);for(var n=1;n<v;n++)a+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)a+=this.daysInMonth(S,n);return a},_delay1:function(S){var v=Math.floor((235*S-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),p=this._delay1(S),r=this._delay1(S+1);return r-p===356?2:p-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=S-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.hebrew=i},26368:function(G,V,e){var m=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==5},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(S-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var S=Math.floor((30*(L-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((L-29-this.toJD(S,1,1))/29.5)+1),p=L-this.toJD(S,v,1)+1;return this.newDate(S,v,p)}}),m.calendars.islamic=i},24747:function(G,V,e){var m=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L<0&&L++,S<=2&&(L--,S+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(L){var S=Math.floor(L+.5),v=S+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),a=t-Math.floor(t<14?1:13),n=p-Math.floor(a>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,f)}}),m.calendars.julian=i},65616:function(G,V,e){var m=e(38700),P=e(50896);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,m.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate),a=t.toJD(),n=this._toHaab(a),f=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function S(v,p){return L(v-1,p)+1}m.calendars.mayan=i},30632:function(G,V,e){var m=e(38700),P=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar;var L=m.instance("gregorian");P(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidMonth),t=r.year();t<0&&t++;for(var a=r.day(),n=1;n<r.month();n++)a+=this.daysPerMonth[n-1];return a+L.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var p=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),m.calendars.nanakshahi=i},73040:function(G,V,e){var m=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);if(L=S.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,S){return L.year&&(S=L.month(),L=L.year()),this._validate(L,S,this.minDay,m.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[L][S]},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);L=p.year(),S=p.month(),v=p.day();var r=m.instance(),t=0,a=S,n=L;this._createMissingCalendarData(L);var f=L-(a>9||a===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,a--);a!==9;)a<=0&&(a=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][a],a--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(L){var S=m.instance(),v=S.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][a]-n+1;r>f;)a++,a>12&&(a=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][a];var l=this.NEPALI_CALENDAR_DATA[t][a]-(f-r);return this.newDate(t,a,l)},_createMissingCalendarData:function(L){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),m.calendars.nepali=i},1104:function(G,V,e){var m=e(38700),P=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S-(S>=0?474:473),a=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var a=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*a+2816*n+2815)/1028522)+a+1}var f=t+2820*p+474;f=f<=0?f-1:f;var l=S-this.toJD(f,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),g=S-this.toJD(f,u,1)+1;return this.newDate(f,u,g)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.persian=i,m.calendars.jalali=i},51456:function(G,V,e){var m=e(38700),P=e(50896),i=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(S){var v=i.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),m.calendars.taiwan=L},4592:function(G,V,e){var m=e(38700),P=e(50896),i=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(S){var v=i.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),m.calendars.thai=L},45348:function(G,V,e){var m=e(38700),P=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new m.baseCalendar,P(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(S,p);return v},daysInMonth:function(S,v){for(var p=this._validate(S,v,this.minDay,m.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,a=0;a<L.length;a++){if(L[a]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,a=r.day()+L[t-1]-1;return a+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,a=Math.floor((t-1)/12),n=a+1,f=t-12*a,l=v-L[p-1]+1;return this.newDate(n,f,l)},isValid:function(S,v,p){var r=m.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,p,r){var t=m.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),m.calendars.ummalqura=i;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,V,e){var m=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}m(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var a=this._localCals[r+"-"+t];if(!a&&this.calendars[r]&&(a=new this.calendars[r](t),this._localCals[r+"-"+t]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return a},newDate:function(r,t,a,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,a)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(a){return r[a]})}},substituteChineseDigits:function(r,t){return function(a){for(var n="",f=0;a>0;){var l=a%10;n=(l===0?"":r[l]+t[f])+n,f++,a=Math.floor(a/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,t,a,n){if(this._calendar=r,this._year=t,this._month=a,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}m(i.prototype,{newDate:function(r,t,a){return this._calendar.newDate(r??this,t,a)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,a){if(!this._calendar.isValid(r,t,a))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function S(){this.shortYearCutoff="+10"}m(S.prototype,{_validateLevel:0,newDate:function(r,t,a){return r==null?this.today():(r.year&&(this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),a=r.day(),t=r.month(),r=r.year()),new i(this,r,t,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(r,t){var a=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,a,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),a},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,a){return this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,a){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,a),t,a)},_add:function(r,t,a){if(this._validateLevel++,a==="d"||a==="w"){var n=r.toJD()+t*(a==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var l=r.year()+(a==="y"?t:0),u=r.monthOfYear()+(a==="m"?t:0),f=r.day(),g=function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var o=c.monthsInYear(l);u>o-1+c.minMonth;)l++,u-=o,o=c.monthsInYear(l)};a==="y"?(r.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,r.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),f=Math.min(f,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):a==="m"&&(g(this),f=Math.min(f,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var h=[l,this.fromMonthOfYear(l,u),f];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,a,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],l=a<0?-1:1;t=this._add(r,a*f[0]+l*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,a){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=a==="y"?t:r.year(),f=a==="m"?t:r.month(),l=a==="d"?t:r.day();return(a==="y"||a==="m")&&(l=Math.min(l,this.daysInMonth(n,f))),r.date(n,f,l)},isValid:function(r,t,a){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,a,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,a))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,a);return this._validateLevel--,f}catch(l){throw this._validateLevel--,l}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,m(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),a=t.year()+(t.year()<0?1:0);return a%4===0&&(a%100!==0||a%400===0)},weekOfYear:function(r,t,a){var n=this.newDate(r,t,a);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(r,t,a){return(this.dayOfWeek(r,t,a)||7)<6},toJD:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),a=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),l=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+a+l-1524.5},fromJD:function(r){var t=Math.floor(r+.5),a=Math.floor((t-186721625e-2)/36524.25);a=t+1+a-Math.floor(a/4);var n=a+1524,f=Math.floor((n-122.1)/365.25),l=Math.floor(365.25*f),u=Math.floor((n-l)/30.6001),g=n-l-Math.floor(u*30.6001),h=u-(u>13.5?13:1),T=f-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,g)},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=i,p.baseCalendar=S,p.calendars.gregorian=v},15168:function(G,V,e){var m=e(50896),P=e(38700);m(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],m(P.cdate.prototype,{formatDate:function(i,L){return typeof i!="string"&&(L=i,i=""),this._calendar.formatDate(i||"",this,L)}}),m(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,L,S){if(typeof i!="string"&&(S=L,L=i,i=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,p=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,a=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(w,C){for(var y=1;x+y<i.length&&i.charAt(x+y)===w;)y++;return x+=y-1,Math.floor(y/(C||1))>1},f=function(w,C,y,M){var A=""+C;if(n(w,M))for(;A.length<y;)A="0"+A;return A},l=function(w,C,y,M){return n(w)?M[C]:y[C]},u=this,g=function(w){return typeof r=="function"?r.call(u,w,n("m")):c(f("m",w.month(),2))},h=function(w,C){return C?typeof a=="function"?a.call(u,w):a[w.month()-u.minMonth]:typeof t=="function"?t.call(u,w):t[w.month()-u.minMonth]},T=this.local.digits,c=function(w){return S.localNumbers&&T?T(w):w},o="",d=!1,x=0;x<i.length;x++)if(d)i.charAt(x)==="'"&&!n("'")?d=!1:o+=i.charAt(x);else switch(i.charAt(x)){case"d":o+=c(f("d",L.day(),2));break;case"D":o+=l("D",L.dayOfWeek(),v,p);break;case"o":o+=f("o",L.dayOfYear(),3);break;case"w":o+=f("w",L.weekOfYear(),2);break;case"m":o+=g(L);break;case"M":o+=h(L,n("M"));break;case"y":o+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),o+=L.formatYear();break;case"J":o+=L.toJD();break;case"@":o+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=i.charAt(x)}return o},parseDate:function(i,L,S){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;i=i||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,a=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,l=-1,u=-1,g=-1,h=-1,T=-1,c=!1,o=!1,d=function(I,N){for(var _=1;E+_<i.length&&i.charAt(E+_)===I;)_++;return E+=_-1,Math.floor(_/(N||1))>1},x=function(I,N){var _=d(I,N),O=[2,3,_?4:2,_?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],B=new RegExp("^-?\\d{1,"+O+"}"),z=L.substring(s).match(B);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=z[0].length,parseInt(z[0],10)},w=this,C=function(){if(typeof a=="function"){d("m");var I=a.call(w,L.substring(s));return s+=I.length,I}return x("m")},y=function(I,N,_,O){for(var B=d(I,O)?_:N,z=0;z<B.length;z++)if(L.substr(s,B[z].length).toLowerCase()===B[z].toLowerCase())return s+=B[z].length,z+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},M=function(){if(typeof f=="function"){var I=d("M")?f.call(w,L.substring(s)):n.call(w,L.substring(s));return s+=I.length,I}return y("M",n,f)},A=function(){if(L.charAt(s)!==i.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,E=0;E<i.length;E++)if(o)i.charAt(E)==="'"&&!d("'")?o=!1:A();else switch(i.charAt(E)){case"d":h=x("d");break;case"D":y("D",p,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":g=C();break;case"M":g=M();break;case"y":var b=E;c=!d("y",2),E=b,u=x("y",2);break;case"Y":u=x("Y",2);break;case"J":l=x("J")+.5,L.charAt(s)==="."&&(s++,x("J"));break;case"@":l=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=L.length;break;case"'":d("'")?A():o=!0;break;default:A()}if(s<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&c&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof g=="string"&&(g=t.call(this,u,g)),T>-1){g=1,h=T;for(var F=this.daysInMonth(u,g);h>F;F=this.daysInMonth(u,g))g++,h-=F}return l>-1?this.fromJD(l):this.newDate(u,g,h)},determineDate:function(i,L,S,v,p){S&&typeof S!="object"&&(p=v,v=S,S=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(a){try{return r.parseDate(v,a,p)}catch{}a=a.toLowerCase();for(var n=(a.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=f.exec(a);l;)n.add(parseInt(l[1],10),l[2]||"d"),l=f.exec(a);return n};return L=L?L.newDate():null,i=i==null?L:typeof i=="string"?t(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?L:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(G,V,e){var m=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],S=0;S<m.length;S++)typeof P[m[S]]=="function"&&(L[L.length]=m[S]);return L}},67756:function(G,V,e){e.d(V,{qy:function(){return Be},Gz:function(){return oe}});function m(Ae,Ie,Me){Ae.prototype=Ie.prototype=Me,Me.constructor=Ae}function P(Ae,Ie){var Me=Object.create(Ae.prototype);for(var Fe in Ie)Me[Fe]=Ie[Fe];return Me}function i(){}var L=.7,S=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),l=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),u=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(i,x,{copy:function(Ie){return Object.assign(new this.constructor,this,Ie)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:o,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return O(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(Ae){var Ie,Me;return Ae=(Ae+"").trim().toLowerCase(),(Ie=t.exec(Ae))?(Me=Ie[1].length,Ie=parseInt(Ie[1],16),Me===6?w(Ie):Me===3?new A(Ie>>8&15|Ie>>4&240,Ie>>4&15|Ie&240,(Ie&15)<<4|Ie&15,1):Me===8?C(Ie>>24&255,Ie>>16&255,Ie>>8&255,(Ie&255)/255):Me===4?C(Ie>>12&15|Ie>>8&240,Ie>>8&15|Ie>>4&240,Ie>>4&15|Ie&240,((Ie&15)<<4|Ie&15)/255):null):(Ie=a.exec(Ae))?new A(Ie[1],Ie[2],Ie[3],1):(Ie=n.exec(Ae))?new A(Ie[1]*255/100,Ie[2]*255/100,Ie[3]*255/100,1):(Ie=f.exec(Ae))?C(Ie[1],Ie[2],Ie[3],Ie[4]):(Ie=l.exec(Ae))?C(Ie[1]*255/100,Ie[2]*255/100,Ie[3]*255/100,Ie[4]):(Ie=u.exec(Ae))?_(Ie[1],Ie[2]/100,Ie[3]/100,1):(Ie=g.exec(Ae))?_(Ie[1],Ie[2]/100,Ie[3]/100,Ie[4]):h.hasOwnProperty(Ae)?w(h[Ae]):Ae==="transparent"?new A(NaN,NaN,NaN,0):null}function w(Ae){return new A(Ae>>16&255,Ae>>8&255,Ae&255,1)}function C(Ae,Ie,Me,Fe){return Fe<=0&&(Ae=Ie=Me=NaN),new A(Ae,Ie,Me,Fe)}function y(Ae){return Ae instanceof i||(Ae=x(Ae)),Ae?(Ae=Ae.rgb(),new A(Ae.r,Ae.g,Ae.b,Ae.opacity)):new A}function M(Ae,Ie,Me,Fe){return arguments.length===1?y(Ae):new A(Ae,Ie,Me,Fe??1)}function A(Ae,Ie,Me,Fe){this.r=+Ae,this.g=+Ie,this.b=+Me,this.opacity=+Fe}m(A,M,P(i,{brighter:function(Ie){return Ie=Ie==null?S:Math.pow(S,Ie),new A(this.r*Ie,this.g*Ie,this.b*Ie,this.opacity)},darker:function(Ie){return Ie=Ie==null?L:Math.pow(L,Ie),new A(this.r*Ie,this.g*Ie,this.b*Ie,this.opacity)},rgb:function(){return this},clamp:function(){return new A(I(this.r),I(this.g),I(this.b),F(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:E,formatRgb:b,toString:b}));function s(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function E(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var Ae=F(this.opacity);return"".concat(Ae===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(Ae===1?")":", ".concat(Ae,")"))}function F(Ae){return isNaN(Ae)?1:Math.max(0,Math.min(1,Ae))}function I(Ae){return Math.max(0,Math.min(255,Math.round(Ae)||0))}function N(Ae){return Ae=I(Ae),(Ae<16?"0":"")+Ae.toString(16)}function _(Ae,Ie,Me,Fe){return Fe<=0?Ae=Ie=Me=NaN:Me<=0||Me>=1?Ae=Ie=NaN:Ie<=0&&(Ae=NaN),new z(Ae,Ie,Me,Fe)}function O(Ae){if(Ae instanceof z)return new z(Ae.h,Ae.s,Ae.l,Ae.opacity);if(Ae instanceof i||(Ae=x(Ae)),!Ae)return new z;if(Ae instanceof z)return Ae;Ae=Ae.rgb();var Ie=Ae.r/255,Me=Ae.g/255,Fe=Ae.b/255,Ee=Math.min(Ie,Me,Fe),He=Math.max(Ie,Me,Fe),rt=NaN,ot=He-Ee,$e=(He+Ee)/2;return ot?(Ie===He?rt=(Me-Fe)/ot+(Me<Fe)*6:Me===He?rt=(Fe-Ie)/ot+2:rt=(Ie-Me)/ot+4,ot/=$e<.5?He+Ee:2-He-Ee,rt*=60):ot=$e>0&&$e<1?0:rt,new z(rt,ot,$e,Ae.opacity)}function B(Ae,Ie,Me,Fe){return arguments.length===1?O(Ae):new z(Ae,Ie,Me,Fe??1)}function z(Ae,Ie,Me,Fe){this.h=+Ae,this.s=+Ie,this.l=+Me,this.opacity=+Fe}m(z,B,P(i,{brighter:function(Ie){return Ie=Ie==null?S:Math.pow(S,Ie),new z(this.h,this.s,this.l*Ie,this.opacity)},darker:function(Ie){return Ie=Ie==null?L:Math.pow(L,Ie),new z(this.h,this.s,this.l*Ie,this.opacity)},rgb:function(){var Ie=this.h%360+(this.h<0)*360,Me=isNaN(Ie)||isNaN(this.s)?0:this.s,Fe=this.l,Ee=Fe+(Fe<.5?Fe:1-Fe)*Me,He=2*Fe-Ee;return new A(J(Ie>=240?Ie-240:Ie+120,He,Ee),J(Ie,He,Ee),J(Ie<120?Ie+240:Ie-120,He,Ee),this.opacity)},clamp:function(){return new z(U(this.h),Z(this.s),Z(this.l),F(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ie=F(this.opacity);return"".concat(Ie===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(Z(this.s)*100,"%, ").concat(Z(this.l)*100,"%").concat(Ie===1?")":", ".concat(Ie,")"))}}));function U(Ae){return Ae=(Ae||0)%360,Ae<0?Ae+360:Ae}function Z(Ae){return Math.max(0,Math.min(1,Ae||0))}function J(Ae,Ie,Me){return(Ae<60?Ie+(Me-Ie)*Ae/60:Ae<180?Me:Ae<240?Ie+(Me-Ie)*(240-Ae)/60:Ie)*255}var re=function(Ae){return function(){return Ae}};function ne(Ae,Ie){return function(Me){return Ae+Me*Ie}}function ue(Ae,Ie,Me){return Ae=Math.pow(Ae,Me),Ie=Math.pow(Ie,Me)-Ae,Me=1/Me,function(Fe){return Math.pow(Ae+Fe*Ie,Me)}}function te(Ae){return(Ae=+Ae)==1?Q:function(Ie,Me){return Me-Ie?ue(Ie,Me,Ae):re(isNaN(Ie)?Me:Ie)}}function Q(Ae,Ie){var Me=Ie-Ae;return Me?ne(Ae,Me):re(isNaN(Ae)?Ie:Ae)}var ie=function Ae(Ie){var Me=te(Ie);function Fe(Ee,He){var rt=Me((Ee=M(Ee)).r,(He=M(He)).r),ot=Me(Ee.g,He.g),$e=Me(Ee.b,He.b),qe=Q(Ee.opacity,He.opacity);return function(ht){return Ee.r=rt(ht),Ee.g=ot(ht),Ee.b=$e(ht),Ee.opacity=qe(ht),Ee+""}}return Fe.gamma=Ae,Fe}(1);function Y(Ae,Ie){var Me=Ie?Ie.length:0,Fe=Ae?Math.min(Me,Ae.length):0,Ee=new Array(Fe),He=new Array(Me),rt;for(rt=0;rt<Fe;++rt)Ee[rt]=Be(Ae[rt],Ie[rt]);for(;rt<Me;++rt)He[rt]=Ie[rt];return function(ot){for(rt=0;rt<Fe;++rt)He[rt]=Ee[rt](ot);return He}}function $(Ae,Ie){var Me=new Date;return Ae=+Ae,Ie=+Ie,function(Fe){return Me.setTime(Ae*(1-Fe)+Ie*Fe),Me}}function oe(Ae,Ie){return Ae=+Ae,Ie=+Ie,function(Me){return Ae*(1-Me)+Ie*Me}}function j(Ae){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},j(Ae)}function X(Ae,Ie){var Me={},Fe={},Ee;(Ae===null||j(Ae)!=="object")&&(Ae={}),(Ie===null||j(Ie)!=="object")&&(Ie={});for(Ee in Ie)Ee in Ae?Me[Ee]=Be(Ae[Ee],Ie[Ee]):Fe[Ee]=Ie[Ee];return function(He){for(Ee in Me)Fe[Ee]=Me[Ee](He);return Fe}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q=new RegExp(se.source,"g");function ce(Ae){return function(){return Ae}}function ye(Ae){return function(Ie){return Ae(Ie)+""}}function we(Ae,Ie){var Me=se.lastIndex=q.lastIndex=0,Fe,Ee,He,rt=-1,ot=[],$e=[];for(Ae=Ae+"",Ie=Ie+"";(Fe=se.exec(Ae))&&(Ee=q.exec(Ie));)(He=Ee.index)>Me&&(He=Ie.slice(Me,He),ot[rt]?ot[rt]+=He:ot[++rt]=He),(Fe=Fe[0])===(Ee=Ee[0])?ot[rt]?ot[rt]+=Ee:ot[++rt]=Ee:(ot[++rt]=null,$e.push({i:rt,x:oe(Fe,Ee)})),Me=q.lastIndex;return Me<Ie.length&&(He=Ie.slice(Me),ot[rt]?ot[rt]+=He:ot[++rt]=He),ot.length<2?$e[0]?ye($e[0].x):ce(Ie):(Ie=$e.length,function(qe){for(var ht=0,vt;ht<Ie;++ht)ot[(vt=$e[ht]).i]=vt.x(qe);return ot.join("")})}function be(Ae,Ie){Ie||(Ie=[]);var Me=Ae?Math.min(Ie.length,Ae.length):0,Fe=Ie.slice(),Ee;return function(He){for(Ee=0;Ee<Me;++Ee)Fe[Ee]=Ae[Ee]*(1-He)+Ie[Ee]*He;return Fe}}function De(Ae){return ArrayBuffer.isView(Ae)&&!(Ae instanceof DataView)}function ke(Ae){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},ke(Ae)}function Be(Ae,Ie){var Me=ke(Ie),Fe;return Ie==null||Me==="boolean"?re(Ie):(Me==="number"?oe:Me==="string"?(Fe=x(Ie))?(Ie=Fe,ie):we:Ie instanceof x?ie:Ie instanceof Date?$:De(Ie)?be:Array.isArray(Ie)?Y:typeof Ie.valueOf!="function"&&typeof Ie.toString!="function"||isNaN(Ie)?X:oe)(Ae,Ie)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},me={};function Oe(G){var V=me[G];if(V!==void 0)return V.exports;var e=me[G]={exports:{}};return le[G].call(e.exports,e,e.exports,Oe),e.exports}(function(){Oe.n=function(G){var V=G&&G.__esModule?function(){return G.default}:function(){return G};return Oe.d(V,{a:V}),V}})(),function(){Oe.d=function(G,V){for(var e in V)Oe.o(V,e)&&!Oe.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:V[e]})}}(),function(){Oe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Oe.o=function(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}(),function(){Oe.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var Ze=Oe(13792);return Ze}()})})(R4);var NE=R4.exports;(function(k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var W=me(E4),le=me(NE);function me(G){return G&&G.__esModule?G:{default:G}}var Oe=(0,W.default)(le.default),Ze=Oe;k.default=Ze})(M4);const UE=Kb(M4);function D4(k,W){return function(){return k.apply(W,arguments)}}const{toString:VE}=Object.prototype,{getPrototypeOf:Z1}=Object,Rg=(k=>W=>{const le=VE.call(W);return k[le]||(k[le]=le.slice(8,-1).toLowerCase())})(Object.create(null)),ju=k=>(k=k.toLowerCase(),W=>Rg(W)===k),Dg=k=>W=>typeof W===k,{isArray:ad}=Array,p0=Dg("undefined");function HE(k){return k!==null&&!p0(k)&&k.constructor!==null&&!p0(k.constructor)&&lu(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const I4=ju("ArrayBuffer");function GE(k){let W;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?W=ArrayBuffer.isView(k):W=k&&k.buffer&&I4(k.buffer),W}const WE=Dg("string"),lu=Dg("function"),k4=Dg("number"),Ig=k=>k!==null&&typeof k=="object",YE=k=>k===!0||k===!1,Pp=k=>{if(Rg(k)!=="object")return!1;const W=Z1(k);return(W===null||W===Object.prototype||Object.getPrototypeOf(W)===null)&&!(Symbol.toStringTag in k)&&!(Symbol.iterator in k)},XE=ju("Date"),jE=ju("File"),ZE=ju("Blob"),KE=ju("FileList"),JE=k=>Ig(k)&&lu(k.pipe),QE=k=>{let W;return k&&(typeof FormData=="function"&&k instanceof FormData||lu(k.append)&&((W=Rg(k))==="formdata"||W==="object"&&lu(k.toString)&&k.toString()==="[object FormData]"))},$E=ju("URLSearchParams"),[qE,e8,t8,r8]=["ReadableStream","Request","Response","Headers"].map(ju),n8=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function A0(k,W,{allOwnKeys:le=!1}={}){if(k===null||typeof k>"u")return;let me,Oe;if(typeof k!="object"&&(k=[k]),ad(k))for(me=0,Oe=k.length;me<Oe;me++)W.call(null,k[me],me,k);else{const Ze=le?Object.getOwnPropertyNames(k):Object.keys(k),G=Ze.length;let V;for(me=0;me<G;me++)V=Ze[me],W.call(null,k[V],V,k)}}function F4(k,W){W=W.toLowerCase();const le=Object.keys(k);let me=le.length,Oe;for(;me-- >0;)if(Oe=le[me],W===Oe.toLowerCase())return Oe;return null}const _4=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),z4=k=>!p0(k)&&k!==_4;function Hm(){const{caseless:k}=z4(this)&&this||{},W={},le=(me,Oe)=>{const Ze=k&&F4(W,Oe)||Oe;Pp(W[Ze])&&Pp(me)?W[Ze]=Hm(W[Ze],me):Pp(me)?W[Ze]=Hm({},me):ad(me)?W[Ze]=me.slice():W[Ze]=me};for(let me=0,Oe=arguments.length;me<Oe;me++)arguments[me]&&A0(arguments[me],le);return W}const a8=(k,W,le,{allOwnKeys:me}={})=>(A0(W,(Oe,Ze)=>{le&&lu(Oe)?k[Ze]=D4(Oe,le):k[Ze]=Oe},{allOwnKeys:me}),k),i8=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),o8=(k,W,le,me)=>{k.prototype=Object.create(W.prototype,me),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:W.prototype}),le&&Object.assign(k.prototype,le)},s8=(k,W,le,me)=>{let Oe,Ze,G;const V={};if(W=W||{},k==null)return W;do{for(Oe=Object.getOwnPropertyNames(k),Ze=Oe.length;Ze-- >0;)G=Oe[Ze],(!me||me(G,k,W))&&!V[G]&&(W[G]=k[G],V[G]=!0);k=le!==!1&&Z1(k)}while(k&&(!le||le(k,W))&&k!==Object.prototype);return W},l8=(k,W,le)=>{k=String(k),(le===void 0||le>k.length)&&(le=k.length),le-=W.length;const me=k.indexOf(W,le);return me!==-1&&me===le},u8=k=>{if(!k)return null;if(ad(k))return k;let W=k.length;if(!k4(W))return null;const le=new Array(W);for(;W-- >0;)le[W]=k[W];return le},f8=(k=>W=>k&&W instanceof k)(typeof Uint8Array<"u"&&Z1(Uint8Array)),c8=(k,W)=>{const me=(k&&k[Symbol.iterator]).call(k);let Oe;for(;(Oe=me.next())&&!Oe.done;){const Ze=Oe.value;W.call(k,Ze[0],Ze[1])}},h8=(k,W)=>{let le;const me=[];for(;(le=k.exec(W))!==null;)me.push(le);return me},v8=ju("HTMLFormElement"),d8=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(le,me,Oe){return me.toUpperCase()+Oe}),_b=(({hasOwnProperty:k})=>(W,le)=>k.call(W,le))(Object.prototype),p8=ju("RegExp"),O4=(k,W)=>{const le=Object.getOwnPropertyDescriptors(k),me={};A0(le,(Oe,Ze)=>{let G;(G=W(Oe,Ze,k))!==!1&&(me[Ze]=G||Oe)}),Object.defineProperties(k,me)},g8=k=>{O4(k,(W,le)=>{if(lu(k)&&["arguments","caller","callee"].indexOf(le)!==-1)return!1;const me=k[le];if(lu(me)){if(W.enumerable=!1,"writable"in W){W.writable=!1;return}W.set||(W.set=()=>{throw Error("Can not rewrite read-only method '"+le+"'")})}})},y8=(k,W)=>{const le={},me=Oe=>{Oe.forEach(Ze=>{le[Ze]=!0})};return ad(k)?me(k):me(String(k).split(W)),le},m8=()=>{},x8=(k,W)=>k!=null&&Number.isFinite(k=+k)?k:W,Hy="abcdefghijklmnopqrstuvwxyz",zb="0123456789",B4={DIGIT:zb,ALPHA:Hy,ALPHA_DIGIT:Hy+Hy.toUpperCase()+zb},b8=(k=16,W=B4.ALPHA_DIGIT)=>{let le="";const{length:me}=W;for(;k--;)le+=W[Math.random()*me|0];return le};function w8(k){return!!(k&&lu(k.append)&&k[Symbol.toStringTag]==="FormData"&&k[Symbol.iterator])}const T8=k=>{const W=new Array(10),le=(me,Oe)=>{if(Ig(me)){if(W.indexOf(me)>=0)return;if(!("toJSON"in me)){W[Oe]=me;const Ze=ad(me)?[]:{};return A0(me,(G,V)=>{const e=le(G,Oe+1);!p0(e)&&(Ze[V]=e)}),W[Oe]=void 0,Ze}}return me};return le(k,0)},A8=ju("AsyncFunction"),S8=k=>k&&(Ig(k)||lu(k))&&lu(k.then)&&lu(k.catch),Xn={isArray:ad,isArrayBuffer:I4,isBuffer:HE,isFormData:QE,isArrayBufferView:GE,isString:WE,isNumber:k4,isBoolean:YE,isObject:Ig,isPlainObject:Pp,isReadableStream:qE,isRequest:e8,isResponse:t8,isHeaders:r8,isUndefined:p0,isDate:XE,isFile:jE,isBlob:ZE,isRegExp:p8,isFunction:lu,isStream:JE,isURLSearchParams:$E,isTypedArray:f8,isFileList:KE,forEach:A0,merge:Hm,extend:a8,trim:n8,stripBOM:i8,inherits:o8,toFlatObject:s8,kindOf:Rg,kindOfTest:ju,endsWith:l8,toArray:u8,forEachEntry:c8,matchAll:h8,isHTMLForm:v8,hasOwnProperty:_b,hasOwnProp:_b,reduceDescriptors:O4,freezeMethods:g8,toObjectSet:y8,toCamelCase:d8,noop:m8,toFiniteNumber:x8,findKey:F4,global:_4,isContextDefined:z4,ALPHABET:B4,generateString:b8,isSpecCompliantForm:w8,toJSONObject:T8,isAsyncFn:A8,isThenable:S8};function ai(k,W,le,me,Oe){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",W&&(this.code=W),le&&(this.config=le),me&&(this.request=me),Oe&&(this.response=Oe)}Xn.inherits(ai,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const N4=ai.prototype,U4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{U4[k]={value:k}});Object.defineProperties(ai,U4);Object.defineProperty(N4,"isAxiosError",{value:!0});ai.from=(k,W,le,me,Oe,Ze)=>{const G=Object.create(N4);return Xn.toFlatObject(k,G,function(e){return e!==Error.prototype},V=>V!=="isAxiosError"),ai.call(G,k.message,W,le,me,Oe),G.cause=k,G.name=k.name,Ze&&Object.assign(G,Ze),G};const M8=null;function Gm(k){return Xn.isPlainObject(k)||Xn.isArray(k)}function V4(k){return Xn.endsWith(k,"[]")?k.slice(0,-2):k}function Ob(k,W,le){return k?k.concat(W).map(function(Oe,Ze){return Oe=V4(Oe),!le&&Ze?"["+Oe+"]":Oe}).join(le?".":""):W}function E8(k){return Xn.isArray(k)&&!k.some(Gm)}const C8=Xn.toFlatObject(Xn,{},null,function(W){return/^is[A-Z]/.test(W)});function kg(k,W,le){if(!Xn.isObject(k))throw new TypeError("target must be an object");W=W||new FormData,le=Xn.toFlatObject(le,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,r){return!Xn.isUndefined(r[p])});const me=le.metaTokens,Oe=le.visitor||P,Ze=le.dots,G=le.indexes,e=(le.Blob||typeof Blob<"u"&&Blob)&&Xn.isSpecCompliantForm(W);if(!Xn.isFunction(Oe))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(Xn.isDate(v))return v.toISOString();if(!e&&Xn.isBlob(v))throw new ai("Blob is not supported. Use a Buffer instead.");return Xn.isArrayBuffer(v)||Xn.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function P(v,p,r){let t=v;if(v&&!r&&typeof v=="object"){if(Xn.endsWith(p,"{}"))p=me?p:p.slice(0,-2),v=JSON.stringify(v);else if(Xn.isArray(v)&&E8(v)||(Xn.isFileList(v)||Xn.endsWith(p,"[]"))&&(t=Xn.toArray(v)))return p=V4(p),t.forEach(function(n,f){!(Xn.isUndefined(n)||n===null)&&W.append(G===!0?Ob([p],f,Ze):G===null?p:p+"[]",m(n))}),!1}return Gm(v)?!0:(W.append(Ob(r,p,Ze),m(v)),!1)}const i=[],L=Object.assign(C8,{defaultVisitor:P,convertValue:m,isVisitable:Gm});function S(v,p){if(!Xn.isUndefined(v)){if(i.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));i.push(v),Xn.forEach(v,function(t,a){(!(Xn.isUndefined(t)||t===null)&&Oe.call(W,t,Xn.isString(a)?a.trim():a,p,L))===!0&&S(t,p?p.concat(a):[a])}),i.pop()}}if(!Xn.isObject(k))throw new TypeError("data must be an object");return S(k),W}function Bb(k){const W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(me){return W[me]})}function K1(k,W){this._pairs=[],k&&kg(k,this,W)}const H4=K1.prototype;H4.append=function(W,le){this._pairs.push([W,le])};H4.toString=function(W){const le=W?function(me){return W.call(this,me,Bb)}:Bb;return this._pairs.map(function(Oe){return le(Oe[0])+"="+le(Oe[1])},"").join("&")};function L8(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function G4(k,W,le){if(!W)return k;const me=le&&le.encode||L8,Oe=le&&le.serialize;let Ze;if(Oe?Ze=Oe(W,le):Ze=Xn.isURLSearchParams(W)?W.toString():new K1(W,le).toString(me),Ze){const G=k.indexOf("#");G!==-1&&(k=k.slice(0,G)),k+=(k.indexOf("?")===-1?"?":"&")+Ze}return k}class P8{constructor(){this.handlers=[]}use(W,le,me){return this.handlers.push({fulfilled:W,rejected:le,synchronous:me?me.synchronous:!1,runWhen:me?me.runWhen:null}),this.handlers.length-1}eject(W){this.handlers[W]&&(this.handlers[W]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(W){Xn.forEach(this.handlers,function(me){me!==null&&W(me)})}}const Nb=P8,W4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R8=typeof URLSearchParams<"u"?URLSearchParams:K1,D8=typeof FormData<"u"?FormData:null,I8=typeof Blob<"u"?Blob:null,k8={isBrowser:!0,classes:{URLSearchParams:R8,FormData:D8,Blob:I8},protocols:["http","https","file","blob","url","data"]},J1=typeof window<"u"&&typeof document<"u",F8=(k=>J1&&["ReactNative","NativeScript","NS"].indexOf(k)<0)(typeof navigator<"u"&&navigator.product),_8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),z8=J1&&window.location.href||"http://localhost",O8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:J1,hasStandardBrowserEnv:F8,hasStandardBrowserWebWorkerEnv:_8,origin:z8},Symbol.toStringTag,{value:"Module"})),Wu={...O8,...k8};function B8(k,W){return kg(k,new Wu.classes.URLSearchParams,Object.assign({visitor:function(le,me,Oe,Ze){return Wu.isNode&&Xn.isBuffer(le)?(this.append(me,le.toString("base64")),!1):Ze.defaultVisitor.apply(this,arguments)}},W))}function N8(k){return Xn.matchAll(/\w+|\[(\w*)]/g,k).map(W=>W[0]==="[]"?"":W[1]||W[0])}function U8(k){const W={},le=Object.keys(k);let me;const Oe=le.length;let Ze;for(me=0;me<Oe;me++)Ze=le[me],W[Ze]=k[Ze];return W}function Y4(k){function W(le,me,Oe,Ze){let G=le[Ze++];if(G==="__proto__")return!0;const V=Number.isFinite(+G),e=Ze>=le.length;return G=!G&&Xn.isArray(Oe)?Oe.length:G,e?(Xn.hasOwnProp(Oe,G)?Oe[G]=[Oe[G],me]:Oe[G]=me,!V):((!Oe[G]||!Xn.isObject(Oe[G]))&&(Oe[G]=[]),W(le,me,Oe[G],Ze)&&Xn.isArray(Oe[G])&&(Oe[G]=U8(Oe[G])),!V)}if(Xn.isFormData(k)&&Xn.isFunction(k.entries)){const le={};return Xn.forEachEntry(k,(me,Oe)=>{W(N8(me),Oe,le,0)}),le}return null}function V8(k,W,le){if(Xn.isString(k))try{return(W||JSON.parse)(k),Xn.trim(k)}catch(me){if(me.name!=="SyntaxError")throw me}return(le||JSON.stringify)(k)}const Q1={transitional:W4,adapter:["xhr","http","fetch"],transformRequest:[function(W,le){const me=le.getContentType()||"",Oe=me.indexOf("application/json")>-1,Ze=Xn.isObject(W);if(Ze&&Xn.isHTMLForm(W)&&(W=new FormData(W)),Xn.isFormData(W))return Oe?JSON.stringify(Y4(W)):W;if(Xn.isArrayBuffer(W)||Xn.isBuffer(W)||Xn.isStream(W)||Xn.isFile(W)||Xn.isBlob(W)||Xn.isReadableStream(W))return W;if(Xn.isArrayBufferView(W))return W.buffer;if(Xn.isURLSearchParams(W))return le.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),W.toString();let V;if(Ze){if(me.indexOf("application/x-www-form-urlencoded")>-1)return B8(W,this.formSerializer).toString();if((V=Xn.isFileList(W))||me.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return kg(V?{"files[]":W}:W,e&&new e,this.formSerializer)}}return Ze||Oe?(le.setContentType("application/json",!1),V8(W)):W}],transformResponse:[function(W){const le=this.transitional||Q1.transitional,me=le&&le.forcedJSONParsing,Oe=this.responseType==="json";if(Xn.isResponse(W)||Xn.isReadableStream(W))return W;if(W&&Xn.isString(W)&&(me&&!this.responseType||Oe)){const G=!(le&&le.silentJSONParsing)&&Oe;try{return JSON.parse(W)}catch(V){if(G)throw V.name==="SyntaxError"?ai.from(V,ai.ERR_BAD_RESPONSE,this,null,this.response):V}}return W}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wu.classes.FormData,Blob:Wu.classes.Blob},validateStatus:function(W){return W>=200&&W<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xn.forEach(["delete","get","head","post","put","patch"],k=>{Q1.headers[k]={}});const $1=Q1,H8=Xn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G8=k=>{const W={};let le,me,Oe;return k&&k.split(`
`).forEach(function(G){Oe=G.indexOf(":"),le=G.substring(0,Oe).trim().toLowerCase(),me=G.substring(Oe+1).trim(),!(!le||W[le]&&H8[le])&&(le==="set-cookie"?W[le]?W[le].push(me):W[le]=[me]:W[le]=W[le]?W[le]+", "+me:me)}),W},Ub=Symbol("internals");function Od(k){return k&&String(k).trim().toLowerCase()}function Rp(k){return k===!1||k==null?k:Xn.isArray(k)?k.map(Rp):String(k)}function W8(k){const W=Object.create(null),le=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let me;for(;me=le.exec(k);)W[me[1]]=me[2];return W}const Y8=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function Gy(k,W,le,me,Oe){if(Xn.isFunction(me))return me.call(this,W,le);if(Oe&&(W=le),!!Xn.isString(W)){if(Xn.isString(me))return W.indexOf(me)!==-1;if(Xn.isRegExp(me))return me.test(W)}}function X8(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(W,le,me)=>le.toUpperCase()+me)}function j8(k,W){const le=Xn.toCamelCase(" "+W);["get","set","has"].forEach(me=>{Object.defineProperty(k,me+le,{value:function(Oe,Ze,G){return this[me].call(this,W,Oe,Ze,G)},configurable:!0})})}class Fg{constructor(W){W&&this.set(W)}set(W,le,me){const Oe=this;function Ze(V,e,m){const P=Od(e);if(!P)throw new Error("header name must be a non-empty string");const i=Xn.findKey(Oe,P);(!i||Oe[i]===void 0||m===!0||m===void 0&&Oe[i]!==!1)&&(Oe[i||e]=Rp(V))}const G=(V,e)=>Xn.forEach(V,(m,P)=>Ze(m,P,e));if(Xn.isPlainObject(W)||W instanceof this.constructor)G(W,le);else if(Xn.isString(W)&&(W=W.trim())&&!Y8(W))G(G8(W),le);else if(Xn.isHeaders(W))for(const[V,e]of W.entries())Ze(e,V,me);else W!=null&&Ze(le,W,me);return this}get(W,le){if(W=Od(W),W){const me=Xn.findKey(this,W);if(me){const Oe=this[me];if(!le)return Oe;if(le===!0)return W8(Oe);if(Xn.isFunction(le))return le.call(this,Oe,me);if(Xn.isRegExp(le))return le.exec(Oe);throw new TypeError("parser must be boolean|regexp|function")}}}has(W,le){if(W=Od(W),W){const me=Xn.findKey(this,W);return!!(me&&this[me]!==void 0&&(!le||Gy(this,this[me],me,le)))}return!1}delete(W,le){const me=this;let Oe=!1;function Ze(G){if(G=Od(G),G){const V=Xn.findKey(me,G);V&&(!le||Gy(me,me[V],V,le))&&(delete me[V],Oe=!0)}}return Xn.isArray(W)?W.forEach(Ze):Ze(W),Oe}clear(W){const le=Object.keys(this);let me=le.length,Oe=!1;for(;me--;){const Ze=le[me];(!W||Gy(this,this[Ze],Ze,W,!0))&&(delete this[Ze],Oe=!0)}return Oe}normalize(W){const le=this,me={};return Xn.forEach(this,(Oe,Ze)=>{const G=Xn.findKey(me,Ze);if(G){le[G]=Rp(Oe),delete le[Ze];return}const V=W?X8(Ze):String(Ze).trim();V!==Ze&&delete le[Ze],le[V]=Rp(Oe),me[V]=!0}),this}concat(...W){return this.constructor.concat(this,...W)}toJSON(W){const le=Object.create(null);return Xn.forEach(this,(me,Oe)=>{me!=null&&me!==!1&&(le[Oe]=W&&Xn.isArray(me)?me.join(", "):me)}),le}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([W,le])=>W+": "+le).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(W){return W instanceof this?W:new this(W)}static concat(W,...le){const me=new this(W);return le.forEach(Oe=>me.set(Oe)),me}static accessor(W){const me=(this[Ub]=this[Ub]={accessors:{}}).accessors,Oe=this.prototype;function Ze(G){const V=Od(G);me[V]||(j8(Oe,G),me[V]=!0)}return Xn.isArray(W)?W.forEach(Ze):Ze(W),this}}Fg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xn.reduceDescriptors(Fg.prototype,({value:k},W)=>{let le=W[0].toUpperCase()+W.slice(1);return{get:()=>k,set(me){this[le]=me}}});Xn.freezeMethods(Fg);const Yu=Fg;function Wy(k,W){const le=this||$1,me=W||le,Oe=Yu.from(me.headers);let Ze=me.data;return Xn.forEach(k,function(V){Ze=V.call(le,Ze,Oe.normalize(),W?W.status:void 0)}),Oe.normalize(),Ze}function X4(k){return!!(k&&k.__CANCEL__)}function id(k,W,le){ai.call(this,k??"canceled",ai.ERR_CANCELED,W,le),this.name="CanceledError"}Xn.inherits(id,ai,{__CANCEL__:!0});function j4(k,W,le){const me=le.config.validateStatus;!le.status||!me||me(le.status)?k(le):W(new ai("Request failed with status code "+le.status,[ai.ERR_BAD_REQUEST,ai.ERR_BAD_RESPONSE][Math.floor(le.status/100)-4],le.config,le.request,le))}function Z8(k){const W=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return W&&W[1]||""}function K8(k,W){k=k||10;const le=new Array(k),me=new Array(k);let Oe=0,Ze=0,G;return W=W!==void 0?W:1e3,function(e){const m=Date.now(),P=me[Ze];G||(G=m),le[Oe]=e,me[Oe]=m;let i=Ze,L=0;for(;i!==Oe;)L+=le[i++],i=i%k;if(Oe=(Oe+1)%k,Oe===Ze&&(Ze=(Ze+1)%k),m-G<W)return;const S=P&&m-P;return S?Math.round(L*1e3/S):void 0}}function J8(k,W){let le=0;const me=1e3/W;let Oe=null;return function(){const G=this===!0,V=Date.now();if(G||V-le>me)return Oe&&(clearTimeout(Oe),Oe=null),le=V,k.apply(null,arguments);Oe||(Oe=setTimeout(()=>(Oe=null,le=Date.now(),k.apply(null,arguments)),me-(V-le)))}}const lg=(k,W,le=3)=>{let me=0;const Oe=K8(50,250);return J8(Ze=>{const G=Ze.loaded,V=Ze.lengthComputable?Ze.total:void 0,e=G-me,m=Oe(e),P=G<=V;me=G;const i={loaded:G,total:V,progress:V?G/V:void 0,bytes:e,rate:m||void 0,estimated:m&&V&&P?(V-G)/m:void 0,event:Ze,lengthComputable:V!=null};i[W?"download":"upload"]=!0,k(i)},le)},Q8=Wu.hasStandardBrowserEnv?function(){const W=/(msie|trident)/i.test(navigator.userAgent),le=document.createElement("a");let me;function Oe(Ze){let G=Ze;return W&&(le.setAttribute("href",G),G=le.href),le.setAttribute("href",G),{href:le.href,protocol:le.protocol?le.protocol.replace(/:$/,""):"",host:le.host,search:le.search?le.search.replace(/^\?/,""):"",hash:le.hash?le.hash.replace(/^#/,""):"",hostname:le.hostname,port:le.port,pathname:le.pathname.charAt(0)==="/"?le.pathname:"/"+le.pathname}}return me=Oe(window.location.href),function(G){const V=Xn.isString(G)?Oe(G):G;return V.protocol===me.protocol&&V.host===me.host}}():function(){return function(){return!0}}(),$8=Wu.hasStandardBrowserEnv?{write(k,W,le,me,Oe,Ze){const G=[k+"="+encodeURIComponent(W)];Xn.isNumber(le)&&G.push("expires="+new Date(le).toGMTString()),Xn.isString(me)&&G.push("path="+me),Xn.isString(Oe)&&G.push("domain="+Oe),Ze===!0&&G.push("secure"),document.cookie=G.join("; ")},read(k){const W=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return W?decodeURIComponent(W[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function q8(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function eC(k,W){return W?k.replace(/\/?\/$/,"")+"/"+W.replace(/^\/+/,""):k}function Z4(k,W){return k&&!q8(W)?eC(k,W):W}const Vb=k=>k instanceof Yu?{...k}:k;function Qh(k,W){W=W||{};const le={};function me(m,P,i){return Xn.isPlainObject(m)&&Xn.isPlainObject(P)?Xn.merge.call({caseless:i},m,P):Xn.isPlainObject(P)?Xn.merge({},P):Xn.isArray(P)?P.slice():P}function Oe(m,P,i){if(Xn.isUndefined(P)){if(!Xn.isUndefined(m))return me(void 0,m,i)}else return me(m,P,i)}function Ze(m,P){if(!Xn.isUndefined(P))return me(void 0,P)}function G(m,P){if(Xn.isUndefined(P)){if(!Xn.isUndefined(m))return me(void 0,m)}else return me(void 0,P)}function V(m,P,i){if(i in W)return me(m,P);if(i in k)return me(void 0,m)}const e={url:Ze,method:Ze,data:Ze,baseURL:G,transformRequest:G,transformResponse:G,paramsSerializer:G,timeout:G,timeoutMessage:G,withCredentials:G,withXSRFToken:G,adapter:G,responseType:G,xsrfCookieName:G,xsrfHeaderName:G,onUploadProgress:G,onDownloadProgress:G,decompress:G,maxContentLength:G,maxBodyLength:G,beforeRedirect:G,transport:G,httpAgent:G,httpsAgent:G,cancelToken:G,socketPath:G,responseEncoding:G,validateStatus:V,headers:(m,P)=>Oe(Vb(m),Vb(P),!0)};return Xn.forEach(Object.keys(Object.assign({},k,W)),function(P){const i=e[P]||Oe,L=i(k[P],W[P],P);Xn.isUndefined(L)&&i!==V||(le[P]=L)}),le}const K4=k=>{const W=Qh({},k);let{data:le,withXSRFToken:me,xsrfHeaderName:Oe,xsrfCookieName:Ze,headers:G,auth:V}=W;W.headers=G=Yu.from(G),W.url=G4(Z4(W.baseURL,W.url),k.params,k.paramsSerializer),V&&G.set("Authorization","Basic "+btoa((V.username||"")+":"+(V.password?unescape(encodeURIComponent(V.password)):"")));let e;if(Xn.isFormData(le)){if(Wu.hasStandardBrowserEnv||Wu.hasStandardBrowserWebWorkerEnv)G.setContentType(void 0);else if((e=G.getContentType())!==!1){const[m,...P]=e?e.split(";").map(i=>i.trim()).filter(Boolean):[];G.setContentType([m||"multipart/form-data",...P].join("; "))}}if(Wu.hasStandardBrowserEnv&&(me&&Xn.isFunction(me)&&(me=me(W)),me||me!==!1&&Q8(W.url))){const m=Oe&&Ze&&$8.read(Ze);m&&G.set(Oe,m)}return W},tC=typeof XMLHttpRequest<"u",rC=tC&&function(k){return new Promise(function(le,me){const Oe=K4(k);let Ze=Oe.data;const G=Yu.from(Oe.headers).normalize();let{responseType:V}=Oe,e;function m(){Oe.cancelToken&&Oe.cancelToken.unsubscribe(e),Oe.signal&&Oe.signal.removeEventListener("abort",e)}let P=new XMLHttpRequest;P.open(Oe.method.toUpperCase(),Oe.url,!0),P.timeout=Oe.timeout;function i(){if(!P)return;const S=Yu.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),p={data:!V||V==="text"||V==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:S,config:k,request:P};j4(function(t){le(t),m()},function(t){me(t),m()},p),P=null}"onloadend"in P?P.onloadend=i:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(i)},P.onabort=function(){P&&(me(new ai("Request aborted",ai.ECONNABORTED,Oe,P)),P=null)},P.onerror=function(){me(new ai("Network Error",ai.ERR_NETWORK,Oe,P)),P=null},P.ontimeout=function(){let v=Oe.timeout?"timeout of "+Oe.timeout+"ms exceeded":"timeout exceeded";const p=Oe.transitional||W4;Oe.timeoutErrorMessage&&(v=Oe.timeoutErrorMessage),me(new ai(v,p.clarifyTimeoutError?ai.ETIMEDOUT:ai.ECONNABORTED,Oe,P)),P=null},Ze===void 0&&G.setContentType(null),"setRequestHeader"in P&&Xn.forEach(G.toJSON(),function(v,p){P.setRequestHeader(p,v)}),Xn.isUndefined(Oe.withCredentials)||(P.withCredentials=!!Oe.withCredentials),V&&V!=="json"&&(P.responseType=Oe.responseType),typeof Oe.onDownloadProgress=="function"&&P.addEventListener("progress",lg(Oe.onDownloadProgress,!0)),typeof Oe.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",lg(Oe.onUploadProgress)),(Oe.cancelToken||Oe.signal)&&(e=S=>{P&&(me(!S||S.type?new id(null,k,P):S),P.abort(),P=null)},Oe.cancelToken&&Oe.cancelToken.subscribe(e),Oe.signal&&(Oe.signal.aborted?e():Oe.signal.addEventListener("abort",e)));const L=Z8(Oe.url);if(L&&Wu.protocols.indexOf(L)===-1){me(new ai("Unsupported protocol "+L+":",ai.ERR_BAD_REQUEST,k));return}P.send(Ze||null)})},nC=(k,W)=>{let le=new AbortController,me;const Oe=function(e){if(!me){me=!0,G();const m=e instanceof Error?e:this.reason;le.abort(m instanceof ai?m:new id(m instanceof Error?m.message:m))}};let Ze=W&&setTimeout(()=>{Oe(new ai(`timeout ${W} of ms exceeded`,ai.ETIMEDOUT))},W);const G=()=>{k&&(Ze&&clearTimeout(Ze),Ze=null,k.forEach(e=>{e&&(e.removeEventListener?e.removeEventListener("abort",Oe):e.unsubscribe(Oe))}),k=null)};k.forEach(e=>e&&e.addEventListener&&e.addEventListener("abort",Oe));const{signal:V}=le;return V.unsubscribe=G,[V,()=>{Ze&&clearTimeout(Ze),Ze=null}]},aC=nC,iC=function*(k,W){let le=k.byteLength;if(!W||le<W){yield k;return}let me=0,Oe;for(;me<le;)Oe=me+W,yield k.slice(me,Oe),me=Oe},oC=async function*(k,W,le){for await(const me of k)yield*iC(ArrayBuffer.isView(me)?me:await le(String(me)),W)},Hb=(k,W,le,me,Oe)=>{const Ze=oC(k,W,Oe);let G=0;return new ReadableStream({type:"bytes",async pull(V){const{done:e,value:m}=await Ze.next();if(e){V.close(),me();return}let P=m.byteLength;le&&le(G+=P),V.enqueue(new Uint8Array(m))},cancel(V){return me(V),Ze.return()}},{highWaterMark:2})},Gb=(k,W)=>{const le=k!=null;return me=>setTimeout(()=>W({lengthComputable:le,total:k,loaded:me}))},_g=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",J4=_g&&typeof ReadableStream=="function",Wm=_g&&(typeof TextEncoder=="function"?(k=>W=>k.encode(W))(new TextEncoder):async k=>new Uint8Array(await new Response(k).arrayBuffer())),sC=J4&&(()=>{let k=!1;const W=new Request(Wu.origin,{body:new ReadableStream,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!W})(),Wb=64*1024,Ym=J4&&!!(()=>{try{return Xn.isReadableStream(new Response("").body)}catch{}})(),ug={stream:Ym&&(k=>k.body)};_g&&(k=>{["text","arrayBuffer","blob","formData","stream"].forEach(W=>{!ug[W]&&(ug[W]=Xn.isFunction(k[W])?le=>le[W]():(le,me)=>{throw new ai(`Response type '${W}' is not supported`,ai.ERR_NOT_SUPPORT,me)})})})(new Response);const lC=async k=>{if(k==null)return 0;if(Xn.isBlob(k))return k.size;if(Xn.isSpecCompliantForm(k))return(await new Request(k).arrayBuffer()).byteLength;if(Xn.isArrayBufferView(k))return k.byteLength;if(Xn.isURLSearchParams(k)&&(k=k+""),Xn.isString(k))return(await Wm(k)).byteLength},uC=async(k,W)=>{const le=Xn.toFiniteNumber(k.getContentLength());return le??lC(W)},fC=_g&&(async k=>{let{url:W,method:le,data:me,signal:Oe,cancelToken:Ze,timeout:G,onDownloadProgress:V,onUploadProgress:e,responseType:m,headers:P,withCredentials:i="same-origin",fetchOptions:L}=K4(k);m=m?(m+"").toLowerCase():"text";let[S,v]=Oe||Ze||G?aC([Oe,Ze],G):[],p,r;const t=()=>{!p&&setTimeout(()=>{S&&S.unsubscribe()}),p=!0};let a;try{if(e&&sC&&le!=="get"&&le!=="head"&&(a=await uC(P,me))!==0){let u=new Request(W,{method:"POST",body:me,duplex:"half"}),g;Xn.isFormData(me)&&(g=u.headers.get("content-type"))&&P.setContentType(g),u.body&&(me=Hb(u.body,Wb,Gb(a,lg(e)),null,Wm))}Xn.isString(i)||(i=i?"cors":"omit"),r=new Request(W,{...L,signal:S,method:le.toUpperCase(),headers:P.normalize().toJSON(),body:me,duplex:"half",withCredentials:i});let n=await fetch(r);const f=Ym&&(m==="stream"||m==="response");if(Ym&&(V||f)){const u={};["status","statusText","headers"].forEach(h=>{u[h]=n[h]});const g=Xn.toFiniteNumber(n.headers.get("content-length"));n=new Response(Hb(n.body,Wb,V&&Gb(g,lg(V,!0)),f&&t,Wm),u)}m=m||"text";let l=await ug[Xn.findKey(ug,m)||"text"](n,k);return!f&&t(),v&&v(),await new Promise((u,g)=>{j4(u,g,{data:l,headers:Yu.from(n.headers),status:n.status,statusText:n.statusText,config:k,request:r})})}catch(n){throw t(),n&&n.name==="TypeError"&&/fetch/i.test(n.message)?Object.assign(new ai("Network Error",ai.ERR_NETWORK,k,r),{cause:n.cause||n}):ai.from(n,n&&n.code,k,r)}}),Xm={http:M8,xhr:rC,fetch:fC};Xn.forEach(Xm,(k,W)=>{if(k){try{Object.defineProperty(k,"name",{value:W})}catch{}Object.defineProperty(k,"adapterName",{value:W})}});const Yb=k=>`- ${k}`,cC=k=>Xn.isFunction(k)||k===null||k===!1,Q4={getAdapter:k=>{k=Xn.isArray(k)?k:[k];const{length:W}=k;let le,me;const Oe={};for(let Ze=0;Ze<W;Ze++){le=k[Ze];let G;if(me=le,!cC(le)&&(me=Xm[(G=String(le)).toLowerCase()],me===void 0))throw new ai(`Unknown adapter '${G}'`);if(me)break;Oe[G||"#"+Ze]=me}if(!me){const Ze=Object.entries(Oe).map(([V,e])=>`adapter ${V} `+(e===!1?"is not supported by the environment":"is not available in the build"));let G=W?Ze.length>1?`since :
`+Ze.map(Yb).join(`
`):" "+Yb(Ze[0]):"as no adapter specified";throw new ai("There is no suitable adapter to dispatch the request "+G,"ERR_NOT_SUPPORT")}return me},adapters:Xm};function Yy(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new id(null,k)}function Xb(k){return Yy(k),k.headers=Yu.from(k.headers),k.data=Wy.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Q4.getAdapter(k.adapter||$1.adapter)(k).then(function(me){return Yy(k),me.data=Wy.call(k,k.transformResponse,me),me.headers=Yu.from(me.headers),me},function(me){return X4(me)||(Yy(k),me&&me.response&&(me.response.data=Wy.call(k,k.transformResponse,me.response),me.response.headers=Yu.from(me.response.headers))),Promise.reject(me)})}const $4="1.7.2",q1={};["object","boolean","number","function","string","symbol"].forEach((k,W)=>{q1[k]=function(me){return typeof me===k||"a"+(W<1?"n ":" ")+k}});const jb={};q1.transitional=function(W,le,me){function Oe(Ze,G){return"[Axios v"+$4+"] Transitional option '"+Ze+"'"+G+(me?". "+me:"")}return(Ze,G,V)=>{if(W===!1)throw new ai(Oe(G," has been removed"+(le?" in "+le:"")),ai.ERR_DEPRECATED);return le&&!jb[G]&&(jb[G]=!0,console.warn(Oe(G," has been deprecated since v"+le+" and will be removed in the near future"))),W?W(Ze,G,V):!0}};function hC(k,W,le){if(typeof k!="object")throw new ai("options must be an object",ai.ERR_BAD_OPTION_VALUE);const me=Object.keys(k);let Oe=me.length;for(;Oe-- >0;){const Ze=me[Oe],G=W[Ze];if(G){const V=k[Ze],e=V===void 0||G(V,Ze,k);if(e!==!0)throw new ai("option "+Ze+" must be "+e,ai.ERR_BAD_OPTION_VALUE);continue}if(le!==!0)throw new ai("Unknown option "+Ze,ai.ERR_BAD_OPTION)}}const jm={assertOptions:hC,validators:q1},Hc=jm.validators;class fg{constructor(W){this.defaults=W,this.interceptors={request:new Nb,response:new Nb}}async request(W,le){try{return await this._request(W,le)}catch(me){if(me instanceof Error){let Oe;Error.captureStackTrace?Error.captureStackTrace(Oe={}):Oe=new Error;const Ze=Oe.stack?Oe.stack.replace(/^.+\n/,""):"";try{me.stack?Ze&&!String(me.stack).endsWith(Ze.replace(/^.+\n.+\n/,""))&&(me.stack+=`
`+Ze):me.stack=Ze}catch{}}throw me}}_request(W,le){typeof W=="string"?(le=le||{},le.url=W):le=W||{},le=Qh(this.defaults,le);const{transitional:me,paramsSerializer:Oe,headers:Ze}=le;me!==void 0&&jm.assertOptions(me,{silentJSONParsing:Hc.transitional(Hc.boolean),forcedJSONParsing:Hc.transitional(Hc.boolean),clarifyTimeoutError:Hc.transitional(Hc.boolean)},!1),Oe!=null&&(Xn.isFunction(Oe)?le.paramsSerializer={serialize:Oe}:jm.assertOptions(Oe,{encode:Hc.function,serialize:Hc.function},!0)),le.method=(le.method||this.defaults.method||"get").toLowerCase();let G=Ze&&Xn.merge(Ze.common,Ze[le.method]);Ze&&Xn.forEach(["delete","get","head","post","put","patch","common"],v=>{delete Ze[v]}),le.headers=Yu.concat(G,Ze);const V=[];let e=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(le)===!1||(e=e&&p.synchronous,V.unshift(p.fulfilled,p.rejected))});const m=[];this.interceptors.response.forEach(function(p){m.push(p.fulfilled,p.rejected)});let P,i=0,L;if(!e){const v=[Xb.bind(this),void 0];for(v.unshift.apply(v,V),v.push.apply(v,m),L=v.length,P=Promise.resolve(le);i<L;)P=P.then(v[i++],v[i++]);return P}L=V.length;let S=le;for(i=0;i<L;){const v=V[i++],p=V[i++];try{S=v(S)}catch(r){p.call(this,r);break}}try{P=Xb.call(this,S)}catch(v){return Promise.reject(v)}for(i=0,L=m.length;i<L;)P=P.then(m[i++],m[i++]);return P}getUri(W){W=Qh(this.defaults,W);const le=Z4(W.baseURL,W.url);return G4(le,W.params,W.paramsSerializer)}}Xn.forEach(["delete","get","head","options"],function(W){fg.prototype[W]=function(le,me){return this.request(Qh(me||{},{method:W,url:le,data:(me||{}).data}))}});Xn.forEach(["post","put","patch"],function(W){function le(me){return function(Ze,G,V){return this.request(Qh(V||{},{method:W,headers:me?{"Content-Type":"multipart/form-data"}:{},url:Ze,data:G}))}}fg.prototype[W]=le(),fg.prototype[W+"Form"]=le(!0)});const Dp=fg;class ex{constructor(W){if(typeof W!="function")throw new TypeError("executor must be a function.");let le;this.promise=new Promise(function(Ze){le=Ze});const me=this;this.promise.then(Oe=>{if(!me._listeners)return;let Ze=me._listeners.length;for(;Ze-- >0;)me._listeners[Ze](Oe);me._listeners=null}),this.promise.then=Oe=>{let Ze;const G=new Promise(V=>{me.subscribe(V),Ze=V}).then(Oe);return G.cancel=function(){me.unsubscribe(Ze)},G},W(function(Ze,G,V){me.reason||(me.reason=new id(Ze,G,V),le(me.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(W){if(this.reason){W(this.reason);return}this._listeners?this._listeners.push(W):this._listeners=[W]}unsubscribe(W){if(!this._listeners)return;const le=this._listeners.indexOf(W);le!==-1&&this._listeners.splice(le,1)}static source(){let W;return{token:new ex(function(Oe){W=Oe}),cancel:W}}}const vC=ex;function dC(k){return function(le){return k.apply(null,le)}}function pC(k){return Xn.isObject(k)&&k.isAxiosError===!0}const Zm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zm).forEach(([k,W])=>{Zm[W]=k});const gC=Zm;function q4(k){const W=new Dp(k),le=D4(Dp.prototype.request,W);return Xn.extend(le,Dp.prototype,W,{allOwnKeys:!0}),Xn.extend(le,W,null,{allOwnKeys:!0}),le.create=function(Oe){return q4(Qh(k,Oe))},le}const Oo=q4($1);Oo.Axios=Dp;Oo.CanceledError=id;Oo.CancelToken=vC;Oo.isCancel=X4;Oo.VERSION=$4;Oo.toFormData=kg;Oo.AxiosError=ai;Oo.Cancel=Oo.CanceledError;Oo.all=function(W){return Promise.all(W)};Oo.spread=dC;Oo.isAxiosError=pC;Oo.mergeConfig=Qh;Oo.AxiosHeaders=Yu;Oo.formToJSON=k=>Y4(Xn.isHTMLForm(k)?new FormData(k):k);Oo.getAdapter=Q4.getAdapter;Oo.HttpStatusCode=gC;Oo.default=Oo;const yC=Oo,mC="https://ratiosharesbackend.onrender.com/api",xC=k=>yC.post(`${mC}/ratio`,k),eT=Ya.createContext(),bC=()=>{const k=Ya.useContext(eT);if(!k)throw new Error("useAuth must be used within an ResultsProvider");return k},wC=({children:k})=>{const[W,le]=Ya.useState([]),[me,Oe]=Ya.useState(!1),Ze=async G=>{const V=await xC(G);le(V),Oe(!0)};return ei.jsx(eT.Provider,{value:{getResults:Ze,results:W,state:me},children:k})},TC=[{id:0,value:"AAPL"},{id:1,value:"BTC-USD"},{id:2,value:"ETH-USD"},{id:3,value:"GLOB"},{id:4,value:"GOOG"},{id:5,value:"MCD"},{id:6,value:"MSFT"},{id:7,value:"KO"},{id:8,value:"NVDA"},{id:9,value:"VIST"}],Zb={tickers:TC};function AC(){const{register:k,handleSubmit:W}=IE(),{getResults:le,results:me,state:Oe}=bC(),[Ze,G]=Us.useState(!1),V=W(async i=>{le(i)}),[e,m]=Ya.useState({width:window.innerWidth,height:window.innerHeight}),P=()=>{m({width:window.innerWidth,height:window.innerHeight})};return Ya.useEffect(()=>(window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[]),ei.jsxs("div",{id:"main",children:[ei.jsx("img",{className:"w-full h-screen object-cover object-left",src:kE,alt:""}),ei.jsx("div",{className:"w-full h-full absolute top-0 left-0 bg-white/50",children:ei.jsxs("div",{className:"max-w-[1000px] m-auto h-full w-full flex flex-col justify-center lg:items-star items-center",children:[ei.jsx("h1",{className:"sn:text-5xl text-4xl text-center font-bold text-gray-800",children:"Aplicacin para comparar precios entre acciones"}),Oe?ei.jsx(ei.Fragment,{children:ei.jsx("div",{className:"flex h-full w-full items-center justify-center",children:ei.jsx("div",{children:ei.jsx(UE,{data:[me.data.data[0],me.data.data[1],me.data.data[2]],layout:{autosize:!0},config:{responsive:!0},style:{width:e.width,height:e.height},className:"max-w-[1000px] max-h-[800px]"})})})}):ei.jsxs(ei.Fragment,{children:[ei.jsxs("form",{onSubmit:V,children:[ei.jsxs("div",{className:"grid md:grid-cols-2 gap-4 w-full py-2",children:[ei.jsxs("div",{className:"flex flex-col",children:[ei.jsx("label",{className:"text-center text-lg py-2",children:"Accin 1"}),ei.jsxs("select",{...k("Share1",{required:!0}),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[ei.jsx("option",{value:"DEFAULT",selected:!0,children:"Seleccionar ticker"}),Zb.tickers.map(i=>ei.jsx("option",{value:i.value,children:i.value}))]})]}),ei.jsxs("div",{className:"flex flex-col",children:[ei.jsx("label",{className:"text-center text-lg py-2",children:"Accin 2"}),ei.jsxs("select",{...k("Share2",{required:!0}),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[ei.jsx("option",{value:"DEFAULT",selected:!0,children:"Seleccionar ticker"}),Zb.tickers.map(i=>ei.jsx("option",{value:i.value,children:i.value}))]})]})]}),ei.jsx("div",{onClick:()=>G(!0),className:"flex justify-center",children:ei.jsx("button",{className:"bg-[#001b5e] text-gray-100 mt-4 max-w-[100px] w-full p-4 rounded-lg",type:"submit",children:"Enviar"})})]}),Ze?ei.jsx(ei.Fragment,{children:ei.jsx("div",{children:ei.jsx("div",{className:"inline-flex items-center",children:ei.jsxs("svg",{className:"animate-spin h-20 w-20 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[ei.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),ei.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}):ei.jsx(ei.Fragment,{})]})]})})]})}function SC(){return ei.jsx(wC,{children:ei.jsx(hE,{children:ei.jsx(uE,{children:ei.jsx(g4,{path:"/ratioShares/",element:ei.jsx(AC,{})})})})})}Xy.createRoot(document.getElementById("root")).render(ei.jsx(Us.StrictMode,{children:ei.jsx(SC,{})}));
